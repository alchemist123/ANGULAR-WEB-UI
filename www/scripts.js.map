{"version":3,"sources":["src/assets/libs/jquery/jquery.min.js","src/assets/libs/bootstrap/js/bootstrap.bundle.min.js","src/assets/libs/metismenu/metisMenu.min.js","src/assets/libs/simplebar/simplebar.min.js","src/assets/libs/node-waves/waves.min.js","src/assets/libs/peity/jquery.peity.min.js","src/assets/js/app.js","src/assets/libs/jquery-ui-dist/jquery-ui.min.js","node_modules/trumbowyg/dist/trumbowyg.min.js","node_modules/trumbowyg/dist/plugins/base64/trumbowyg.base64.min.js","node_modules/trumbowyg/dist/plugins/table/trumbowyg.table.min.js","node_modules/trumbowyg/dist/plugins/fontsize/trumbowyg.fontsize.min.js","node_modules/trumbowyg/dist/plugins/colors/trumbowyg.colors.min.js","node_modules/trumbowyg/dist/plugins/resizimg/trumbowyg.resizimg.js","node_modules/trumbowyg/dist/plugins/specialchars/trumbowyg.specialchars.min.js","src/assets/pdfjs/build/pdf.worker.min.js","node_modules/chart.js/dist/chart.min.js","src/assets/libs/drawer/drawerJs.standalone.js","src/assets/libs/geogibra/deployggb.js","src/assets/libs/html2canvas/html2canvas.min.js"],"names":[],"mappings":"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BAA4B,sCAAsC,mBAAmB,8CAA8C,aAAa,iBAAiB,wCAAwC,uBAAuB,sCAAsC,eAAe,EAAE,qBAAqB,kBAAkB,mBAAmB,2BAA2B,IAAI,YAAY,qBAAqB,kHAAkH,gCAAgC,oDAAoD,kBAAkB,kCAAkC,KAAK,QAAQ,IAAI,KAAK,mBAAmB,SAAS,cAAc,wBAAwB,YAAY,iFAAiF,EAAE,mBAAmB,6BAA6B,EAAE,KAAK,iEAAiE,8EAA8E,6BAA6B,EAAE,gDAAgD,mCAAmC,6BAA6B,4BAA4B,qBAAqB,qFAAqF,aAAa,oBAAoB,0BAA0B,uMAAuM,0BAA0B,sBAAsB,QAAQ,+BAA+B,6BAA6B,WAAW,yBAAyB,0CAA0C,+BAA+B,6BAA6B,8GAA8G,GAAG,oBAAoB,mEAAmE,aAAa,+NAA+N,oBAAoB,sBAAsB,yBAAyB,KAAK,WAAW,KAAK,kDAAkD,2FAA2F,gEAAgE,IAAI,EAAE;;CCNp+G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;CCxID;AACA;AACA;AACA,qDAAqD;;AAErD,aAAa,qEAAqE,cAAc,cAAc,8BAA8B,cAAc,oCAAoC,mBAAmB,cAAc,YAAY,0BAA0B,EAAE,iIAAiI,aAAa,SAAS,aAAa,0hBAA0hB,qjBAAqjB,iBAAiB,+CAA+C,mkBAAmkB,2EAA2E,yDAAyD,8JAA8J,cAAc,uFAAuF,oCAAoC,4OAA4O,sBAAsB,aAAa,qYAAqY,gBAAgB,cAAc,uCAAuC,SAAS,cAAc,kBAAkB,yBAAyB,yFAAyF,aAAa,uBAAuB,gCAAgC,wBAAwB,mBAAmB,UAAU,QAAQ,eAAe,QAAQ,iEAAiE,UAAU,MAAM,uCAAuC,cAAc,mBAAmB,kBAAkB,cAAc,mEAAmE,uDAAuD,oBAAoB,cAAc,mCAAmC,wFAAwF,eAAe,oCAAoC,0BAA0B,sCAAsC,mCAAmC,wCAAwC,aAAa,4CAA4C,cAAc,oCAAoC,kBAAkB,uCAAuC,sGAAsG,2BAA2B,iCAAiC,6CAA6C,IAAI,wDAAwD,+CAA+C,kBAAkB,kDAAkD,mFAAmF,6BAA6B,iDAAiD,IAAI,iIAAiI,2BAA2B,OAAO,SAAS,+BAA+B,oCAAoC,oBAAoB,sDAAsD,0DAA0D,uBAAuB,uRAAuR,uCAAuC,yFAAyF,qBAAqB,iBAAiB,mDAAmD,MAAM,sBAAsB,oDAAoD,yEAAyE,UAAU,yBAAyB,6BAA6B,2MAA2M,yEAAyE,mBAAmB,8BAA8B,oKAAoK,oMAAoM,8BAA8B,SAAS,2EAA2E,WAAW,+DAA+D,oBAAoB,kLAAkL,mCAAmC,oBAAoB,sBAAsB,cAAc,iDAAiD,eAAe,6BAA6B,sCAAsC,6BAA6B,sBAAsB,aAAa,uBAAuB,WAAW,iEAAiE,OAAO,KAAK,6EAA6E,OAAO,gCAAgC,yBAAyB,MAAM,mCAAmC,YAAY,0BAA0B,iHAAiH,+BAA+B,UAAU,sJAAsJ,kCAAkC,IAAI,gCAAgC,+LAA+L,mBAAmB,yBAAyB,YAAY,EAAE,oBAAoB,yBAAyB,YAAY,EAAE,sBAAsB,gBAAgB,QAAQ,QAAQ,WAAW,+MAA+M,gBAAgB,mBAAmB,sDAAsD,wBAAwB,gCAAgC,2FAA2F,oCAAoC,WAAW,4CAA4C,iFAAiF,EAAE,8BAA8B,mCAAmC,2BAA2B,mCAAmC,gCAAgC,0BAA0B,sCAAsC,uDAAuD,sDAAsD,qBAAqB,aAAa,gJAAgJ,aAAa,gIAAgI,6DAA6D,mEAAmE,wBAAwB,EAAE,oBAAoB,+NAA+N,sBAAsB,aAAa,qDAAqD,WAAW,0BAA0B,wBAAwB,iDAAiD,uBAAuB,yDAAyD,wBAAwB,6DAA6D,EAAE,wBAAwB,iDAAiD,oBAAoB,yDAAyD,sBAAsB,6DAA6D,EAAE,0BAA0B,0BAA0B,UAAU,qKAAqK,0HAA0H,SAAS,6BAA6B,eAAe,0CAA0C,wBAAwB,SAAS,EAAE,qDAAqD,OAAO,yBAAyB,WAAW,qKAAqK,iCAAiC,GAAG,sBAAsB,kBAAkB,wFAAwF,gBAAgB,kCAAkC,cAAc,WAAW,uBAAuB,0CAA0C,cAAc,gBAAgB,0CAA0C,uCAAuC,mBAAmB,yBAAyB,0BAA0B,EAAE,+DAA+D,kIAAkI,YAAY,0BAA0B,uBAAuB,uCAAuC,kBAAkB,WAAW,YAAY,gBAAgB,2BAA2B,WAAW,mCAAmC,mIAAmI,2BAA2B,oPAAoP,OAAO,8EAA8E,2BAA2B,2EAA2E,OAAO,0DAA0D,aAAa,iGAAiG,2BAA2B,4CAA4C,aAAa,IAAI,qIAAqI,kGAAkG,kCAAkC,mCAAmC,8QAA8Q,mNAAmN,yLAAyL,6CAA6C,uJAAuJ,yBAAyB,qCAAqC,+CAA+C,0KAA0K,EAAE,0BAA0B,qDAAqD,QAAQ,iDAAiD,UAAU,iDAAiD,sFAAsF,iKAAiK,uBAAuB,QAAQ,GAAG,EAAE,gBAAgB,KAAK,mBAAmB,0IAA0I,+KAA+K,mBAAmB,+IAA+I,2KAA2K,OAAO,mBAAmB,8TAA8T,+JAA+J,mBAAmB,kUAAkU,4JAA4J,UAAU,gBAAgB,2FAA2F,gBAAgB,4FAA4F,uCAAuC,yDAAyD,mBAAmB,qBAAqB,kBAAkB,wBAAwB,eAAe,4BAA4B,gFAAgF,kBAAkB,oDAAoD,mBAAmB,GAAG,8BAA8B,yCAAyC,EAAE,qEAAqE,WAAW,UAAU,eAAe,kBAAkB,oBAAoB,6HAA6H,cAAc,uBAAuB,2CAA2C,uDAAuD,wEAAwE,oEAAoE,kBAAkB,qEAAqE,qMAAqM,kBAAkB,IAAI,YAAY,IAAI,YAAY,IAAI,qDAAqD,6BAA6B,EAAE,mIAAmI,4CAA4C,EAAE,eAAe,EAAE,WAAW,EAAE,WAAW,EAAE,qBAAqB,+DAA+D,EAAE,uDAAuD,8EAA8E,EAAE,8IAA8I,qCAAqC,8BAA8B,qCAAqC,IAAI,MAAM,OAAO,KAAK,kBAAkB,QAAQ,kBAAkB,OAAO,oBAAoB,OAAO,OAAO,KAAK,qBAAqB,aAAa,qBAAqB,YAAY,wBAAwB,IAAI,QAAQ,iBAAiB,UAAU,MAAM,UAAU,kBAAkB,eAAe,wBAAwB,sHAAsH,6BAA6B,4BAA4B,6BAA6B,wBAAwB,sDAAsD,4CAA4C,uCAAuC,0HAA0H,uBAAuB,uDAAuD,4CAA4C,oBAAoB,cAAc,wBAAwB,gBAAgB,kCAAkC,mBAAmB,yBAAyB,sFAAsF,UAAU,gBAAgB,uBAAuB,yBAAyB,mBAAmB,yEAAyE,8CAA8C,KAAK,IAAI,mBAAmB,gBAAgB,yBAAyB,sBAAsB,UAAU,0BAA0B,gHAAgH,4CAA4C,0CAA0C,wGAAwG,aAAa,mBAAmB,iCAAiC,gDAAgD,+BAA+B,qBAAqB,GAAG,yBAAyB,+CAA+C,yBAAyB,EAAE,mDAAmD,yBAAyB,gDAAgD,gEAAgE,EAAE,mDAAmD,yBAAyB,mCAAmC,oDAAoD,kDAAkD,WAAW,qBAAqB,4DAA4D,kDAAkD,kEAAkE,uGAAuG,0IAA0I,yBAAyB,kEAAkE,oEAAoE,6FAA6F,mBAAmB,wCAAwC,oBAAoB,qEAAqE,4EAA4E,yBAAyB,8BAA8B,sCAAsC,8BAA8B,mBAAmB,8BAA8B,kFAAkF,+LAA+L,EAAE,EAAE,qBAAqB,mBAAmB,kBAAkB,eAAe,kBAAkB,aAAa,wDAAwD,sCAAsC,2CAA2C,wCAAwC,KAAK,4CAA4C,UAAU,6CAA6C,mBAAmB,IAAI,aAAa,YAAY,0BAA0B,4HAA4H,EAAE,mCAAmC,mBAAmB,SAAS,uDAAuD,wBAAwB,KAAK,kBAAkB,iTAAiT,eAAe,cAAc,+GAA+G,6CAA6C,IAAI,wDAAwD,mDAAmD,SAAS,gBAAgB,aAAa,oFAAoF,SAAS,mCAAmC,+GAA+G,iGAAiG,yBAAyB,6FAA6F,0CAA0C,mEAAmE,2CAA2C,qBAAqB,6BAA6B,2EAA2E,mBAAmB,cAAc,OAAO,oBAAoB,eAAe,uBAAuB,yBAAyB,EAAE,wBAAwB,oEAAoE,uCAAuC,uCAAuC,IAAI,6BAA6B,cAAc,EAAE,gDAAgD,0CAA0C,gCAAgC,cAAc,6BAA6B,YAAY,EAAE,wBAAwB,EAAE,EAAE,cAAc,qBAAqB,yBAAyB,2CAA2C,MAAM,iCAAiC,wCAAwC,yBAAyB,4DAA4D,SAAS,iCAAiC,2CAA2C,2BAA2B,4EAA4E,MAAM,EAAE,SAAS,kEAAkE,SAAS,SAAS,mDAAmD,yCAAyC,eAAe,SAAS,EAAE,cAAc,oBAAoB,+CAA+C,SAAS,eAAe,mCAAmC,qDAAqD,4LAA4L,cAAc,iJAAiJ,gBAAgB,2MAA2M,OAAO,iIAAiI,sFAAsF,mBAAmB,4BAA4B,oEAAoE,mBAAmB,uBAAuB,IAAI,iDAAiD,uBAAuB,yBAAyB,IAAI,kDAAkD,uBAAuB,wDAAwD,2BAA2B,0DAA0D,OAAO,uEAAuE,wDAAwD,0EAA0E,KAAK,kCAAkC,0BAA0B,IAAI,KAAK,SAAS,gBAAgB,yHAAyH,oBAAoB,SAAS,oBAAoB,gBAAgB,mDAAmD,uDAAuD,sDAAsD,SAAS,4DAA4D,4BAA4B,2BAA2B,6BAA6B,kIAAkI,sBAAsB,wCAAwC,8EAA8E,kCAAkC,gBAAgB,6CAA6C,sEAAsE,OAAO,iGAAiG,uBAAuB,OAAO,gGAAgG,yBAAyB,gBAAgB,+DAA+D,uBAAuB,6BAA6B,0BAA0B,iDAAiD,oBAAoB,sBAAsB,gFAAgF,2BAA2B,QAAQ,aAAa,cAAc,MAAM,kBAAkB,MAAM,iBAAiB,MAAM,wBAAwB,aAAa,eAAe,MAAM,kBAAkB,MAAM,gBAAgB,MAAM,uBAAuB,OAAO,SAAS,+BAA+B,yCAAyC,cAAc,gIAAgI,qJAAqJ,kPAAkP,+HAA+H,iCAAiC,IAAI,+BAA+B,kCAAkC,gCAAgC,qBAAqB,yDAAyD,iCAAiC,cAAc,wBAAwB,mBAAmB,2BAA2B,KAAK,eAAe,kBAAkB,cAAc,aAAa,mEAAmE,aAAa,mDAAmD,cAAc,4JAA4J,iIAAiI,uCAAuC,gIAAgI,iEAAiE,gBAAgB,yDAAyD,kBAAkB,mBAAmB,uCAAuC,8BAA8B;AACtt+B,EAAE,6BAA6B,mBAAmB,uCAAuC,8BAA8B,+CAA+C,+BAA+B,mBAAmB,4DAA4D,8BAA8B,iDAAiD,kCAAkC,uBAAuB,iDAAiD,sCAAsC,IAAI,qBAAqB,iHAAiH,wBAAwB,2HAA2H,sEAAsE,yGAAyG,oGAAoG,2CAA2C,gCAAgC,GAAG,6BAA6B,2HAA2H,gNAAgN,GAAG,cAAc,SAAS,6DAA6D,iBAAiB,wBAAwB,cAAc,iBAAiB,+BAA+B,kBAAkB,0BAA0B,qBAAqB,+EAA+E,kBAAkB,mBAAmB,oBAAoB,cAAc,6BAA6B,EAAE,0DAA0D,yBAAyB,yDAAyD,gBAAgB,qCAAqC,mCAAmC,EAAE,GAAG,gBAAgB,8CAA8C,OAAO,6IAA6I,gDAAgD,gBAAgB,IAAI,kCAAkC,qLAAqL,wDAAwD,EAAE,0CAA0C,kOAAkO,wGAAwG,UAAU,yFAAyF,QAAQ,IAAI,QAAQ,kEAAkE,OAAO,UAAU,8EAA8E,+CAA+C,UAAU,4FAA4F,sBAAsB,wIAAwI,2FAA2F,wDAAwD,EAAE,+CAA+C,yJAAyJ,WAAW,oJAAoJ,wDAAwD,EAAE,kDAAkD,aAAa,iCAAiC,aAAa,OAAO,qBAAqB,oBAAoB,kNAAkN,QAAQ,IAAI,oCAAoC,IAAI,iFAAiF,4DAA4D,+CAA+C,sGAAsG,WAAW,+CAA+C,6BAA6B,iDAAiD,sBAAsB,sCAAsC,cAAc,EAAE,wDAAwD,EAAE,+CAA+C,gNAAgN,gBAAgB,IAAI,IAAI,gBAAgB,IAAI,wCAAwC,wKAAwK,+FAA+F,gFAAgF,oDAAoD,iBAAiB,0CAA0C,6DAA6D,0DAA0D,aAAa,wDAAwD,EAAE,wCAAwC,gXAAgX,4DAA4D,MAAM,sCAAsC,KAAK,uCAAuC,8uBAA8uB,iDAAiD,oHAAoH,IAAI,mGAAmG,4RAA4R,6BAA6B,EAAE,gBAAgB,iEAAiE,iBAAiB,iIAAiI,EAAE,yCAAyC,kHAAkH,+HAA+H,IAAI,+EAA+E,+CAA+C,oBAAoB,IAAI,4CAA4C,EAAE,sCAAsC,kDAAkD,2HAA2H,4DAA4D,IAAI,eAAe,UAAU,mBAAmB,WAAW,UAAU,mDAAmD,yCAAyC,wKAAwK,KAAK,KAAK,oBAAoB,8HAA8H,IAAI,kDAAkD,oFAAoF,gDAAgD,qBAAqB,uFAAuF,0JAA0J,+MAA+M,wDAAwD,EAAE,EAAE,MAAM,kEAAkE,sBAAsB,gCAAgC,yCAAyC,qUAAqU,uBAAuB,sBAAsB,qDAAqD,sCAAsC,yEAAyE,sBAAsB,6BAA6B,cAAc,sBAAsB,wCAAwC,oBAAoB,eAAe,EAAE,EAAE,kCAAkC,mDAAmD,oDAAoD,+HAA+H,oCAAoC,qBAAqB,gDAAgD,gKAAgK,8EAA8E,oBAAoB,2BAA2B,8IAA8I,IAAI,yEAAyE,iHAAiH,4BAA4B,+DAA+D,8BAA8B,EAAE,+BAA+B,wEAAwE,mCAAmC,GAAG,2BAA2B,mEAAmE,gBAAgB,mJAAmJ,gCAAgC,0BAA0B,WAAW,EAAE,MAAM,mBAAmB,4BAA4B,0BAA0B,cAAc,4SAA4S,+BAA+B,0HAA0H,cAAc,4GAA4G,QAAQ,iEAAiE,uBAAuB,qBAAqB,qCAAqC,uCAAuC,eAAe,oBAAoB,QAAQ,kBAAkB,4BAA4B,iCAAiC,GAAG,6BAA6B,4BAA4B,sDAAsD,GAAG,2BAA2B,0BAA0B,mBAAmB,UAAU,gIAAgI,sGAAsG,kEAAkE,mCAAmC,YAAY,oGAAoG,YAAY,oGAAoG,oBAAoB,mBAAmB,4QAA4Q,gCAAgC,OAAO,oEAAoE,yBAAyB,6BAA6B,8QAA8Q,0BAA0B,iHAAiH,qBAAqB,MAAM,0TAA0T,0BAA0B,wSAAwS,gCAAgC,0LAA0L,sBAAsB,0BAA0B,6EAA6E,kBAAkB,iDAAiD,MAAM,gDAAgD,MAAM,gDAAgD,MAAM,8BAA8B,MAAM,+BAA+B,uGAAuG,2BAA2B,mFAAmF,oBAAoB,mBAAmB,oaAAoa,2BAA2B,iCAAiC,qYAAqY,qBAAqB,6DAA6D,uTAAuT,6EAA6E,sDAAsD,qEAAqE,4DAA4D,eAAe,qBAAqB,8CAA8C,yDAAyD,eAAe,sBAAsB,kKAAkK,kCAAkC,oDAAoD,+BAA+B,2BAA2B,sCAAsC,qEAAqE,+EAA+E,6BAA6B,oFAAoF,aAAa,uBAAuB,6BAA6B,6DAA6D,+CAA+C,GAAG,yBAAyB,gDAAgD,0BAA0B,OAAO,oBAAoB,qCAAqC,qBAAqB,0GAA0G,wBAAwB,8DAA8D,2BAA2B,0HAA0H,qDAAqD,qpBAAqpB,qBAAqB,iEAAiE,2KAA2K,qBAAqB,iBAAiB,gDAAgD,oCAAoC,oCAAoC,2CAA2C,iDAAiD,iEAAiE,yDAAyD,EAAE,0BAA0B,kHAAkH,6BAA6B,sBAAsB,oLAAoL,uCAAuC,qBAAqB,mCAAmC,kDAAkD,oJAAoJ,0EAA0E,6BAA6B,4BAA4B,gPAAgP,qCAAqC,MAAM,IAAI,kBAAkB,SAAS,SAAS,8CAA8C,qBAAqB,0DAA0D,OAAO,4BAA4B,kCAAkC,6BAA6B,8CAA8C,oBAAoB,gFAAgF,kCAAkC,oEAAoE,sCAAsC,mBAAmB,mCAAmC,gEAAgE,mVAAmV,wCAAwC,yBAAyB,gEAAgE,oHAAoH,kFAAkF,+DAA+D,mBAAmB,kBAAkB,uBAAuB,4EAA4E,uBAAuB,EAAE,oBAAoB,yCAAyC,kBAAkB,yEAAyE,EAAE,qBAAqB,2KAA2K,qNAAqN,cAAc,4CAA4C,EAAE,sBAAsB,iBAAiB,kBAAkB,+CAA+C,MAAM,6CAA6C,MAAM,qDAAqD,MAAM,kDAAkD,MAAM,sCAAsC,MAAM,oCAAoC,MAAM,wCAAwC,MAAM,2FAA2F,MAAM,kEAAkE,MAAM,0CAA0C,MAAM,qbAAqb,2BAA2B,kCAAkC,sBAAsB,uBAAuB,0IAA0I,oBAAoB,0FAA0F,yHAAyH,oEAAoE,kBAAkB,wEAAwE,4HAA4H,+JAA+J,cAAc,sEAAsE,6FAA6F,kCAAkC,yMAAyM,sBAAsB,OAAO,iCAAiC,oBAAoB,0BAA0B,gBAAgB,yCAAyC,iFAAiF,iBAAiB,gCAAgC,uGAAuG,qBAAqB,UAAU,obAAob,cAAc,oJAAoJ,OAAO,EAAE,6BAA6B,gBAAgB,mVAAmV,oBAAoB,0JAA0J,iBAAiB,oBAAoB,2BAA2B,4FAA4F,4BAA4B,cAAc,mBAAmB,gBAAgB,eAAe,wBAAwB,gMAAgM,2BAA2B,2DAA2D,2EAA2E,8IAA8I,aAAa,oBAAoB,wIAAwI,mCAAmC,8CAA8C,wBAAwB,4CAA4C,sBAAsB,8EAA8E,6CAA6C,oBAAoB,sFAAsF,4DAA4D,gBAAgB,GAAG,kBAAkB,6BAA6B,sBAAsB,4BAA4B,wBAAwB,iEAAiE,uBAAuB,iEAAiE,uBAAuB,MAAM,sPAAsP,sBAAsB,UAAU,mKAAmK,sCAAsC,uIAAuI,0BAA0B,UAAU,oKAAoK,sCAAsC,iHAAiH,uBAAuB,oEAAoE,oBAAoB,8DAA8D,OAAO,kBAAkB,uFAAuF,8BAA8B,0BAA0B,gDAAgD,0FAA0F,wEAAwE,GAAG,8BAA8B,mDAAmD,2DAA2D,gDAAgD,+FAA+F,6CAA6C;AACxv+B,wOAAwO,oBAAoB,8DAA8D,eAAe,mBAAmB,kBAAkB,iDAAiD,MAAM,+CAA+C,MAAM,4CAA4C,MAAM,0CAA0C,MAAM,6EAA6E,MAAM,iDAAiD,MAAM,4HAA4H,MAAM,qCAAqC,sBAAsB,kGAAkG,OAAO,mBAAmB,kBAAkB,4CAA4C,MAAM,0CAA0C,MAAM,uCAAuC,MAAM,uCAAuC,mBAAmB,0EAA0E,kBAAkB,mDAAmD,kBAAkB,4HAA4H,0EAA0E,UAAU,qHAAqH,sBAAsB,6DAA6D,iHAAiH,EAAE,yBAAyB,QAAQ,2JAA2J,qCAAqC,+EAA+E,OAAO,+NAA+N,0BAA0B,0DAA0D,kIAAkI,oCAAoC,kCAAkC,OAAO,mFAAmF,6BAA6B,kEAAkE,2HAA2H,wBAAwB,yCAAyC,EAAE,qBAAqB,yHAAyH,0BAA0B,6JAA6J,oCAAoC,2BAA2B,wEAAwE,kCAAkC,6CAA6C,sBAAsB,4BAA4B,iKAAiK,wBAAwB,eAAe,gFAAgF,sCAAsC,wFAAwF,mCAAmC,iDAAiD,KAAK,kBAAkB,OAAO,EAAE,kCAAkC,4BAA4B,mEAAmE,gHAAgH,8DAA8D,qBAAqB,sBAAsB,6JAA6J,qBAAqB,2FAA2F,OAAO,mBAAmB,sBAAsB,0BAA0B,2BAA2B,oHAAoH,OAAO,wBAAwB,yDAAyD,UAAU,iHAAiH,mBAAmB,oCAAoC,oBAAoB,8JAA8J,qBAAqB,yDAAyD,uBAAuB,EAAE,wBAAwB,8DAA8D,0BAA0B,gBAAgB,YAAY,IAAI,8CAA8C,EAAE,EAAE,sBAAsB,gCAAgC,6GAA6G,gBAAgB,0FAA0F,iCAAiC,EAAE,wBAAwB,wBAAwB,6EAA6E,2BAA2B,WAAW,uBAAuB,uBAAuB,EAAE,+BAA+B,4DAA4D,2BAA2B,8DAA8D,qBAAqB,uPAAuP,mBAAmB,yBAAyB,mBAAmB,sDAAsD,yBAAyB,4FAA4F,gCAAgC,sBAAsB,gCAAgC,oEAAoE,8BAA8B,wBAAwB,2BAA2B,4BAA4B,sBAAsB,mDAAmD,4BAA4B,mCAAmC,GAAG,gDAAgD,SAAS,UAAU,mDAAmD,mGAAmG,wBAAwB,MAAM,8OAA8O,oBAAoB,yBAAyB,IAAI,GAAG,4BAA4B,iDAAiD,2DAA2D,sOAAsO,oBAAoB,gBAAgB,qBAAqB,mDAAmD,qBAAqB,gRAAgR,yBAAyB,gBAAgB,wCAAwC,WAAW,wEAAwE,cAAc,mIAAmI,+JAA+J,WAAW,mCAAmC,qDAAqD,IAAI,kDAAkD,yFAAyF,qBAAqB,uEAAuE,kBAAkB,4FAA4F,8BAA8B,kCAAkC,+CAA+C,gBAAgB,EAAE,kCAAkC,wIAAwI,qDAAqD,mCAAmC,6CAA6C,YAAY,qBAAqB,0GAA0G,MAAM,6BAA6B,+CAA+C,uEAAuE,4BAA4B,+CAA+C,mCAAmC,4DAA4D,gCAAgC,0CAA0C,OAAO,2BAA2B,QAAQ,gEAAgE,QAAQ,oHAAoH,OAAO,gHAAgH,OAAO,2FAA2F,KAAK,qCAAqC,SAAS,4BAA4B,+BAA+B,gEAAgE,IAAI,0BAA0B,iMAAiM,oBAAoB,aAAa,uSAAuS,0CAA0C,qCAAqC,2DAA2D,0EAA0E,oCAAoC,qCAAqC,oDAAoD,0BAA0B,0CAA0C,kFAAkF,8BAA8B,mCAAmC,mOAAmO,iEAAiE,wGAAwG,oBAAoB,8BAA8B,qqBAAqqB,yCAAyC,iEAAiE,iBAAiB,qEAAqE,EAAE,sBAAsB,6CAA6C,0KAA0K,qBAAqB,0CAA0C,mBAAmB,kBAAkB,2BAA2B,0EAA0E,uFAAuF,iCAAiC,6BAA6B,2BAA2B,8BAA8B,wSAAwS,wCAAwC,wEAAwE,EAAE,qBAAqB,uFAAuF,0BAA0B,mLAAmL,yBAAyB,oCAAoC,+jBAA+jB,yBAAyB,iDAAiD,iIAAiI,oBAAoB,yDAAyD,6LAA6L,WAAW,GAAG,4CAA4C,oDAAoD,SAAS,4BAA4B,0EAA0E,8BAA8B,0BAA0B,0NAA0N,oBAAoB,qeAAqe,kBAAkB,kIAAkI,EAAE,qBAAqB,oJAAoJ,2BAA2B,wHAAwH,2BAA2B,mFAAmF,oiBAAoiB,qBAAqB,sJAAsJ,8BAA8B,sEAAsE,yBAAyB,sEAAsE,yBAAyB,yGAAyG,sCAAsC,0BAA0B,siBAAsiB,oBAAoB,4GAA4G,6CAA6C,WAAW,yBAAyB,0DAA0D,SAAS,eAAe,6BAA6B,oBAAoB,qeAAqe,0BAA0B,+VAA+V,0BAA0B,kBAAkB,8RAA8R,QAAQ,6CAA6C,wCAAwC,6XAA6X,0BAA0B,2CAA2C,6BAA6B,YAAY,kBAAkB,EAAE,MAAM,sBAAsB,uEAAuE,kBAAkB,yBAAyB,6BAA6B,OAAO,iCAAiC,UAAU,0IAA0I,MAAM,0EAA0E,wBAAwB,qDAAqD,OAAO,2OAA2O,kCAAkC,WAAW,8SAA8S,4BAA4B,6DAA6D,wcAAwc,oBAAoB,6FAA6F,oBAAoB,uEAAuE,gRAAgR,GAAG,uBAAuB,uCAAuC,+DAA+D,gCAAgC,gBAAgB,WAAW,uCAAuC,SAAS,gNAAgN,iCAAiC,WAAW,4RAA4R,uCAAuC,iCAAiC,sHAAsH,aAAa,YAAY,8JAA8J,gEAAgE,ipBAAipB,gCAAgC,sCAAsC,qYAAqY,+BAA+B,wCAAwC,oIAAoI,iBAAiB,2BAA2B,wBAAwB,gQAAgQ,oBAAoB,GAAG,gCAAgC,wCAAwC,oIAAoI,iBAAiB,2BAA2B,+BAA+B,6PAA6P,oBAAoB,uDAAuD,mCAAmC,eAAe,YAAY,8BAA8B,4CAA4C,SAAS,sBAAsB,IAAI,8BAA8B,SAAS,kDAAkD,mCAAmC,+BAA+B,0EAA0E,gDAAgD,yCAAyC,0BAA0B,kjBAAkjB,mCAAmC,8BAA8B,gCAAgC,uBAAuB,6BAA6B,kCAAkC,uBAAuB,2EAA2E,kCAAkC,uBAAuB,yEAAyE,wBAAwB,oFAAoF,oEAAoE,2CAA2C,MAAM,8TAA8T,uCAAuC,MAAM,kIAAkI,MAAM,kIAAkI,MAAM,yFAAyF,MAAM,yFAAyF,MAAM,uPAAuP,MAAM,iGAAiG,MAAM,uPAAuP,MAAM,gGAAgG,MAAM,aAAa,uEAAuE,4CAA4C,yBAAyB,0CAA0C,qOAAqO,sBAAsB,wCAAwC,iCAAiC,kOAAkO,UAAU,SAAS,6BAA6B,yJAAyJ,kBAAkB,mRAAmR,mRAAmR,+CAA+C,KAAK,mDAAmD,qDAAqD,kDAAkD,oFAAoF,wHAAwH;AACz/+B,EAAE,+BAA+B,yFAAyF,2FAA2F,ygBAAygB,0HAA0H,KAAK,+BAA+B,wFAAwF,8BAA8B,kQAAkQ,0SAA0S,sBAAsB,oDAAoD,iEAAiE,wCAAwC,sCAAsC,6BAA6B,4BAA4B,8HAA8H,4BAA4B,6WAA6W,0CAA0C,8EAA8E,yBAAyB,sEAAsE,iCAAiC,0BAA0B,gDAAgD,mWAAmW,6BAA6B,iCAAiC,sIAAsI,wBAAwB,mCAAmC,6TAA6T,kCAAkC,iCAAiC,kKAAkK,8BAA8B,aAAa,+RAA+R,wBAAwB,WAAW,uBAAuB,2BAA2B,mCAAmC,yVAAyV,8BAA8B,oCAAoC,0IAA0I,wBAAwB,iBAAiB,oBAAoB,yBAAyB,8BAA8B,iIAAiI,2BAA2B,6CAA6C,qDAAqD,+YAA+Y,sCAAsC,gBAAgB,eAAe,yFAAyF,YAAY,6BAA6B,2CAA2C,wCAAwC,mBAAmB,wCAAwC,cAAc,qBAAqB,iCAAiC,EAAE,0BAA0B,WAAW,2FAA2F,oBAAoB,mCAAmC,cAAc,sEAAsE,KAAK,QAAQ,WAAW,4CAA4C,yBAAyB,iBAAiB,MAAM,mBAAmB,MAAM,iBAAiB,MAAM,iBAAiB,MAAM,qBAAqB,MAAM,iBAAiB,MAAM,4EAA4E,MAAM,oGAAoG,MAAM,wBAAwB,MAAM,YAAY,kGAAkG,uIAAuI,EAAE,4CAA4C,SAAS,gIAAgI,SAAS,wUAAwU,eAAe,4OAA4O,sCAAsC,gBAAgB,mBAAmB,WAAW,aAAa,WAAW,SAAS,SAAS,qBAAqB,sBAAsB,WAAW,aAAa,WAAW,uDAAuD,yBAAyB,gCAAgC,MAAM,iCAAiC,MAAM,6IAA6I,MAAM,mCAAmC,MAAM,mCAAmC,MAAM,sFAAsF,MAAM,uBAAuB,MAAM,6CAA6C,MAAM,2BAA2B,MAAM,uBAAuB,SAAS,4BAA4B,8BAA8B,sCAAsC,iBAAiB,QAAQ,WAAW,uDAAuD,yBAAyB,gDAAgD,MAAM,4BAA4B,2BAA2B,MAAM,uBAAuB,SAAS,oBAAoB,8DAA8D,iCAAiC,8BAA8B,gIAAgI,IAAI,2BAA2B,SAAS,SAAS,qOAAqO,6BAA6B,0FAA0F,gCAAgC,kBAAkB,eAAe,kCAAkC,eAAe,IAAI,oGAAoG,UAAU,oLAAoL,EAAE,EAAE,kBAAkB,qCAAqC,MAAM,uCAAuC,MAAM,qFAAqF,MAAM,qFAAqF,YAAY,uBAAuB,sGAAsG,2IAA2I,mCAAmC,+DAA+D,0BAA0B,wGAAwG,gSAAgS,sBAAsB,uIAAuI,SAAS,6BAA6B,iEAAiE,8CAA8C,OAAO,gBAAgB,mCAAmC,iBAAiB,mCAAmC,iBAAiB,+BAA+B,kBAAkB,2BAA2B,sBAAsB,2GAA2G,wBAAwB,oDAAoD,uBAAuB,sDAAsD,iFAAiF,EAAE,2BAA2B,8mBAA8mB,qIAAqI,+CAA+C,sBAAsB,s6DAAs6D,OAAO,KAAK,4BAA4B,OAAO,KAAK,yFAAyF,yDAAyD,0EAA0E,MAAM,8EAA8E,MAAM,8CAA8C,QAAQ,uWAAuW,IAAI,yIAAyI,uTAAuT,IAAI,KAAK,uGAAuG,IAAI,skBAAskB,8IAA8I,mUAAmU,aAAa,sIAAsI,KAAK,6BAA6B,oDAAoD,4JAA4J,gEAAgE,KAAK,mJAAmJ,KAAK,sIAAsI,eAAe,gCAAgC,4FAA4F,KAAK,mFAAmF,2GAA2G,oBAAoB,0MAA0M,KAAK,6FAA6F,yDAAyD,+DAA+D,kBAAkB,iCAAiC,2MAA2M,uJAAuJ,+BAA+B,+EAA+E,kBAAkB,2BAA2B,uCAAuC,yEAAyE,gCAAgC,oCAAoC,gDAAgD,8BAA8B,yDAAyD,+BAA+B,iEAAiE,mCAAmC,gCAAgC,mCAAmC,iGAAiG,+FAA+F,0BAA0B,+GAA+G,6QAA6Q,8BAA8B,qCAAqC,2EAA2E,mLAAmL,+BAA+B,4FAA4F,yJAAyJ,8EAA8E,8BAA8B,4BAA4B,qMAAqM,8CAA8C,wOAAwO,gIAAgI,2EAA2E,kMAAkM,SAAS,oCAAoC,KAAK,uBAAuB,0BAA0B,oEAAoE,uBAAuB,WAAW,yDAAyD,uBAAuB,0CAA0C,gKAAgK,kBAAkB,0BAA0B,6LAA6L,wBAAwB,OAAO,gFAAgF,sIAAsI,6IAA6I,mBAAmB,gUAAgU,uBAAuB,mCAAmC,qBAAqB,8JAA8J,wBAAwB,qBAAqB,iGAAiG,6IAA6I,yDAAyD,+SAA+S,sBAAsB,2aAA2a,+BAA+B,kIAAkI,2BAA2B,0BAA0B,yBAAyB,wBAAwB,wBAAwB,0BAA0B,UAAU,eAAe,oBAAoB,0BAA0B,qEAAqE,wBAAwB,qBAAqB,kFAAkF,WAAW,oDAAoD,2BAA2B,2DAA2D,qCAAqC,mDAAmD,4WAA4W,oBAAoB,mKAAmK,0BAA0B,0FAA0F,qBAAqB,2JAA2J,2BAA2B,mBAAmB,iOAAiO,0BAA0B,uDAAuD,cAAc,gJAAgJ,EAAE,2BAA2B,yEAAyE,gCAAgC,6DAA6D,sCAAsC,yBAAyB,mBAAmB,sYAAsY,wCAAwC,ifAAif,6BAA6B,aAAa,mKAAmK,oBAAoB,2DAA2D,0BAA0B,2KAA2K,qBAAqB,oFAAoF,yBAAyB,wJAAwJ,wBAAwB,gBAAgB,iZAAiZ,sCAAsC,iDAAiD,sBAAsB,uLAAuL,mBAAmB,qFAAqF,uBAAuB,sBAAsB,wBAAwB,mGAAmG,gCAAgC,oJAAoJ,mCAAmC,4DAA4D,2BAA2B,6JAA6J,mQAAmQ,iCAAiC,6FAA6F,qCAAqC,uDAAuD,wBAAwB,qTAAqT,yBAAyB,2DAA2D,6BAA6B,oDAAoD,gPAAgP,aAAa,GAAG,4IAA4I,+BAA+B,wCAAwC,cAAc,uEAAuE,OAAO;AACxn+B,CAAC,0BAA0B,cAAc,qNAAqN,oCAAoC,wBAAwB,iEAAiE,4BAA4B,4CAA4C,4gDAA4gD,kCAAkC,qBAAqB,mEAAmE,OAAO,uSAAuS,iCAAiC,wFAAwF,mDAAmD,sEAAsE,qgCAAqgC,+TAA+T,mBAAmB,yNAAyN,0BAA0B,8NAA8N,WAAW,oBAAoB,OAAO,2GAA2G,mDAAmD,sBAAsB,iBAAiB,IAAI,eAAe,EAAE,8DAA8D,mCAAmC,8FAA8F,EAAE,sBAAsB,iBAAiB,IAAI,eAAe,EAAE,uDAAuD,WAAW,qFAAqF,mGAAmG,6GAA6G,EAAE,sBAAsB,8BAA8B,gBAAgB,2KAA2K,0NAA0N,8LAA8L,mBAAmB,gWAAgW,wBAAwB,wgBAAwgB,wBAAwB,GAAG,GAAG,wCAAwC,sBAAsB,4BAA4B,sEAAsE,sBAAsB,gBAAgB,8CAA8C,yCAAyC,sBAAsB,8BAA8B,2EAA2E,sBAAsB,gBAAgB,mDAAmD,wCAAwC,sBAAsB,0NAA0N,sBAAsB,kEAAkE,sgCAAsgC,sCAAsC,sBAAsB,gBAAgB,4GAA4G,2BAA2B,0CAA0C,4EAA4E,EAAE,EAAE,sBAAsB,kJAAkJ,8BAA8B,KAAK,mWAAmW,gCAAgC,0LAA0L,wCAAwC,2DAA2D,aAAa,4DAA4D,uCAAuC,6DAA6D,aAAa,6KAA6K,aAAa,2DAA2D,wCAAwC,4DAA4D,aAAa,6DAA6D,uCAAuC,uIAAuI,gCAAgC,8CAA8C,uCAAuC,sBAAsB,+DAA+D,gFAAgF,EAAE,yEAAyE,0BAA0B,kCAAkC,wCAAwC,sBAAsB,8BAA8B,sEAAsE,sBAAsB,gBAAgB,gDAAgD,qDAAqD,qDAAqD,0GAA0G,0DAA0D,6JAA6J,kBAAkB,wBAAwB,uBAAuB,4BAA4B,0BAA0B,4CAA4C,kDAAkD,4CAA4C,oBAAoB,4BAA4B,8CAA8C,+LAA+L,wJAAwJ,gBAAgB,kKAAkK,0HAA0H,4MAA4M,kOAAkO,yCAAyC,yIAAyI,wEAAwE,6BAA6B,iFAAiF,oBAAoB,qBAAqB,qBAAqB,oBAAoB,iHAAiH,wFAAwF,2GAA2G,sHAAsH,0BAA0B,2BAA2B,yDAAyD,MAAM,UAAU,0BAA0B,oCAAoC,2EAA2E,wKAAwK,uKAAuK,KAAK,WAAW,sGAAsG,gBAAgB,4DAA4D,6BAA6B,YAAY,kBAAkB,mPAAmP,uBAAuB,sYAAsY,oLAAoL,uHAAuH,6EAA6E,2BAA2B,uBAAuB,2BAA2B,aAAa,6FAA6F,gCAAgC,yBAAyB,wCAAwC,6PAA6P,aAAa,yBAAyB,sDAAsD,EAAE,kCAAkC,iCAAiC,4CAA4C,EAAE,kCAAkC,gBAAgB,iEAAiE,wBAAwB,aAAa,6BAA6B,yBAAyB,gSAAgS,wBAAwB,0GAA0G,gdAAgd,wBAAwB,iBAAiB,wCAAwC,uLAAuL,oDAAoD,8MAA8M,aAAa,iQAAiQ,kCAAkC,mBAAmB,8CAA8C,gBAAgB,+CAA+C,0BAA0B,SAAS,oUAAoU,sCAAsC,6BAA6B,GAAG,8MAA8M,iSAAiS,0BAA0B,+OAA+O,0BAA0B,4CAA4C,oQAAoQ,0BAA0B,saAAsa,2TAA2T,6CAA6C,qNAAqN,IAAI,uDAAuD,OAAO,kCAAkC,kCAAkC,uFAAuF,4CAA4C,wIAAwI,+FAA+F,EAAE,yBAAyB,kCAAkC,oGAAoG,qEAAqE,0KAA0K,4EAA4E,UAAU,gBAAgB,OAAO,iCAAiC,iBAAiB,gDAAgD,OAAO,+BAA+B,mBAAmB,gDAAgD,OAAO,+BAA+B,mBAAmB,OAAO,mCAAmC,oBAAoB,yFAAyF,oBAAoB,yFAAyF,oBAAoB,yFAAyF,oBAAoB,0FAA0F,0BAA0B,kFAAkF,WAAW,eAAe,OAAO,2LAA2L,yCAAyC,iBAAiB,2MAA2M,4CAA4C,sKAAsK,mCAAmC,aAAa,GAAG,GAAG,kEAAkE,OAAO,iKAAiK,0BAA0B,8BAA8B,8CAA8C,GAAG,6CAA6C,iBAAiB,yJAAyJ,iFAAiF,aAAa,sBAAsB,aAAa,eAAe,8HAA8H,qEAAqE,gCAAgC,iFAAiF,sDAAsD,gKAAgK,iDAAiD,GAAG,oBAAoB,yHAAyH,aAAa,2BAA2B,2wCAA2wC,iBAAiB,gNAAgN,wEAAwE,2CAA2C,wEAAwE,2CAA2C,GAAG,4CAA4C,iBAAiB,gDAAgD,gCAAgC,cAAc,kCAAkC,sHAAsH,EAAE,EAAE,sBAAsB,yFAAyF,2HAA2H,gCAAgC,4DAA4D,6FAA6F,uBAAuB,0BAA0B,wBAAwB,WAAW,EAAE,iBAAiB,+CAA+C,uCAAuC,iBAAiB,6CAA6C,+CAA+C,oGAAoG,mKAAmK,mBAAmB,oCAAoC,sBAAsB,4DAA4D,EAAE,iBAAiB,oCAAoC,gEAAgE,sCAAsC,kBAAkB,kYAAkY,whBAAwhB,uCAAuC,0BAA0B,gDAAgD,iEAAiE,oJAAoJ,oEAAoE,kCAAkC,iCAAiC,kLAAkL,qBAAqB,gFAAgF,0BAA0B,kDAAkD,oBAAoB,kBAAkB,gMAAgM,wBAAwB,wFAAwF,0hBAA0hB,kBAAkB,mCAAmC,sBAAsB,4BAA4B,0EAA0E,qBAAqB,8BAA8B,6TAA6T,mBAAmB;AAClx+B,CAAC,gDAAgD,WAAW,qTAAqT,sBAAsB,GAAG,mBAAmB,oBAAoB,sBAAsB,kBAAkB,0BAA0B,sEAAsE,8BAA8B,iCAAiC,mHAAmH,iBAAiB,WAAW,2VAA2V,uCAAuC,wDAAwD,2BAA2B,2BAA2B,+PAA+P,wBAAwB,aAAa,sGAAsG,yBAAyB,+CAA+C,2BAA2B,sCAAsC,0BAA0B,sIAAsI,oBAAoB,kJAAkJ,0DAA0D,+EAA+E,4IAA4I,mBAAmB,8CAA8C,mBAAmB,uBAAuB,uBAAuB,2CAA2C,sEAAsE,sDAAsD,EAAE,4BAA4B,MAAM,kKAAkK,sBAAsB,kFAAkF,0EAA0E,0FAA0F,6IAA6I,kBAAkB,kCAAkC,kLAAkL,+BAA+B,EAAE,oBAAoB,4DAA4D,GAAG,8BAA8B,oRAAoR,2BAA2B,kCAAkC,mMAAmM,QAAQ,mBAAmB,eAAe,eAAe,cAAc,iBAAiB,wFAAwF,+MAA+M,gCAAgC,EAAE,4GAA4G,2BAA2B,cAAc,OAAO,qCAAqC,0BAA0B,yBAAyB,+HAA+H,0FAA0F,oBAAoB,0BAA0B,oBAAoB,kFAAkF,YAAY,8EAA8E,gGAAgG,EAAE,2BAA2B,cAAc,OAAO,iGAAiG,qHAAqH,yBAAyB,mMAAmM,4FAA4F,sBAAsB,4BAA4B,oBAAoB,0FAA0F,oEAAoE,8EAA8E,kGAAkG,oBAAoB,wBAAwB,wBAAwB,oBAAoB,0DAA0D,EAAE,6BAA6B,gEAAgE,6BAA6B,oDAAoD,sBAAsB,+BAA+B,gDAAgD,+DAA+D,uBAAuB,mBAAmB,mEAAmE,sBAAsB,mCAAmC,8FAA8F,yBAAyB,qBAAqB,uBAAuB,6FAA6F,kHAAkH,0BAA0B,wBAAwB,oLAAoL,sDAAsD,kYAAkY,kBAAkB,yBAAyB,yBAAyB,mDAAmD,gEAAgE,4BAA4B,gJAAgJ,sCAAsC,uJAAuJ,yBAAyB,8DAA8D,cAAc,uBAAuB,gEAAgE,6CAA6C,EAAE,2BAA2B,yEAAyE,+BAA+B,kGAAkG,2BAA2B,uBAAuB,SAAS,uBAAuB,KAAK,oEAAoE,oBAAoB,kGAAkG,2IAA2I,uBAAuB,4FAA4F,4BAA4B,qCAAqC,iDAAiD,2KAA2K,yDAAyD,SAAS,eAAe,2BAA2B,+DAA+D,0BAA0B,gHAAgH,uCAAuC,mDAAmD,oIAAoI,oBAAoB,gCAAgC,uEAAuE,eAAe,6BAA6B,uDAAuD,uEAAuE,0EAA0E,2BAA2B,sGAAsG,qBAAqB,YAAY,WAAW,+BAA+B,qBAAqB,oDAAoD,gBAAgB,0BAA0B,0DAA0D,gBAAgB,qBAAqB,oDAAoD,sCAAsC,iBAAiB,uBAAuB,6BAA6B,iEAAiE,yBAAyB,6BAA6B,sEAAsE,mBAAmB,6BAA6B,2KAA2K,kBAAkB,6BAA6B,6KAA6K,qBAAqB,qCAAqC,kJAAkJ,oCAAoC,uJAAuJ,0BAA0B,0CAA0C,8KAA8K,gBAAgB,OAAO,6FAA6F,2BAA2B,qCAAqC,8BAA8B,wCAAwC,4BAA4B,sCAAsC,+BAA+B,0CAA0C,EAAE,gCAAgC,kBAAkB,mBAAmB,yBAAyB,sBAAsB,yQAAyQ,UAAU,wCAAwC,4JAA4J,6FAA6F,yFAAyF,mBAAmB,GAAG,gBAAgB,yBAAyB,aAAa,8BAA8B,4IAA4I,UAAU,WAAW,iGAAiG,QAAQ,WAAW,+BAA+B,4BAA4B,WAAW,kKAAkK,sEAAsE,IAAI,oBAAoB,SAAS,kFAAkF,wRAAwR,IAAI,yBAAyB,gEAAgE,+DAA+D,EAAE,oBAAoB,gIAAgI,4DAA4D,uGAAuG,+GAA+G,uDAAuD,kSAAkS,EAAE,wBAAwB,uHAAuH,8DAA8D,SAAS,6BAA6B,4BAA4B,wFAAwF,+BAA+B,2FAA2F,2BAA2B,sFAAsF,8BAA8B,0FAA0F,4CAA4C,0BAA0B,SAAS,qHAAqH,2CAA2C,0BAA0B,6EAA6E,4CAA4C,8MAA8M,qBAAqB,iGAAiG,mBAAmB,gHAAgH,+BAA+B,oKAAoK,yBAAyB,cAAc,gGAAgG,0BAA0B,qDAAqD,gCAAgC,oGAAoG,wBAAwB,4FAA4F,0BAA0B,8CAA8C,wbAAwb,mDAAmD,kLAAkL,uCAAuC,0BAA0B,0JAA0J,oBAAoB,WAAW,wEAAwE,sJAAsJ,8BAA8B,0DAA0D,+BAA+B,yOAAyO,EAAE,EAAE,4GAA4G,qBAAqB,kEAAkE,yBAAyB,0BAA0B,uNAAuN,0CAA0C,sFAAsF,qCAAqC,uLAAuL,sBAAsB,GAAG,kDAAkD,uCAAuC,oQAAoQ,oBAAoB,8BAA8B,sBAAsB,aAAa,GAAG,wBAAwB,2CAA2C,8EAA8E,8DAA8D,kCAAkC,iCAAiC,+CAA+C,0hBAA0hB,oBAAoB,6UAA6U,sBAAsB,sMAAsM,sBAAsB,MAAM,MAAM,wBAAwB,WAAW,4EAA4E,qCAAqC,2GAA2G,qBAAqB,EAAE,qDAAqD,qCAAqC,uJAAuJ,mBAAmB,EAAE,mDAAmD,iDAAiD,oDAAoD,uBAAuB,0FAA0F,sBAAsB,8BAA8B,WAAW,gDAAgD,kEAAkE,oBAAoB,yCAAyC,UAAU,4CAA4C,uGAAuG,wBAAwB,qGAAqG,oFAAoF,kBAAkB,wCAAwC,8CAA8C,4MAA4M,6aAA6a,8BAA8B,EAAE,sBAAsB,WAAW,oBAAoB,wEAAwE,sLAAsL,SAAS,6BAA6B,qCAAqC,oFAAoF,qBAAqB,wCAAwC,mEAAmE,OAAO,4HAA4H,qHAAqH,SAAS,yCAAyC,UAAU,oBAAoB,6IAA6I,mDAAmD,yBAAyB,oCAAoC,0YAA0Y,kBAAkB,oWAAoW,sBAAsB,iCAAiC,eAAe,yBAAyB,mBAAmB,mHAAmH,mBAAmB,mBAAmB,uBAAuB,iBAAiB,+BAA+B,kBAAkB,yEAAyE,2BAA2B,gBAAgB,uBAAuB,MAAM,6BAA6B,gBAAgB,uLAAuL,EAAE,+BAA+B,0DAA0D,2BAA2B,6BAA6B,8BAA8B,EAAE,+GAA+G,wBAAwB,0BAA0B,GAAG,qBAAqB,0BAA0B,gSAAgS,6BAA6B,qEAAqE,qBAAqB,oCAAoC,0BAA0B,MAAM,+IAA+I,iBAAiB,sBAAsB,yHAAyH,gBAAgB,qBAAqB,MAAM,qIAAqI,mBAAmB,qCAAqC,qBAAqB,SAAS,kBAAkB,kEAAkE,MAAM,gEAAgE,MAAM,mEAAmE,MAAM,qEAAqE,MAAM,+EAA+E,MAAM,4CAA4C,MAAM,6CAA6C,MAAM,uEAAuE,MAAM,uEAAuE,MAAM,kCAAkC,uBAAuB,gCAAgC,sDAAsD,8EAA8E,uBAAuB,oCAAoC,wJAAwJ,OAAO,yCAAyC,OAAO,gBAAgB,sBAAsB,4CAA4C,kBAAkB,8CAA8C,4CAA4C,0BAA0B,gBAAgB,uCAAuC,+EAA+E,4GAA4G,gCAAgC,oQAAoQ,sBAAsB,4BAA4B,iKAAiK,wBAAwB,6TAA6T,0BAA0B,yBAAyB,yJAAyJ,wBAAwB,4FAA4F,8BAA8B,oBAAoB,kDAAkD,2BAA2B,gBAAgB,qBAAqB,+BAA+B,eAAe,4BAA4B,2BAA2B,OAAO,6HAA6H,qBAAqB,uKAAuK,oCAAoC,oDAAoD,oBAAoB,kHAAkH,mIAAmI,+BAA+B;AACxl/B,CAAC,qBAAqB,mFAAmF,2BAA2B,oGAAoG,+FAA+F,IAAI,cAAc,yLAAyL,4DAA4D,EAAE,yBAAyB,mBAAmB,gUAAgU,kBAAkB,4OAA4O,yBAAyB,8HAA8H,qBAAqB,2EAA2E,2BAA2B,0CAA0C,wCAAwC,kEAAkE,6CAA6C,oBAAoB,mGAAmG,8BAA8B,kFAAkF,mOAAmO,aAAa,EAAE,2LAA2L,sFAAsF,wBAAwB,SAAS,wBAAwB,OAAO,oBAAoB,+BAA+B,6CAA6C,wBAAwB,2NAA2N,+BAA+B,+EAA+E,iCAAiC,cAAc,uYAAuY,yBAAyB,OAAO,sEAAsE,oGAAoG,+BAA+B,uDAAuD,sBAAsB,gDAAgD,wBAAwB,uCAAuC,oSAAoS,qBAAqB,wCAAwC,uBAAuB,2GAA2G,mBAAmB,oIAAoI,sBAAsB,UAAU,6HAA6H,2CAA2C,0FAA0F,6CAA6C,WAAW,0DAA0D,qBAAqB,0BAA0B,UAAU,8SAA8S,uQAAuQ,MAAM,8FAA8F,MAAM,gEAAgE,KAAK,yBAAyB,oBAAoB,MAAM,oHAAoH,MAAM,qEAAqE,gCAAgC,+DAA+D,mBAAmB,yBAAyB,iCAAiC,qBAAqB,UAAU,8EAA8E,8BAA8B,sCAAsC,WAAW,qCAAqC,SAAS,SAAS,6BAA6B,+CAA+C,+CAA+C,6EAA6E,gEAAgE,6BAA6B,sFAAsF,mFAAmF,uBAAuB,2CAA2C,sFAAsF,0BAA0B,4BAA4B,4BAA4B,sBAAsB,wBAAwB,sBAAsB,gBAAgB,2BAA2B,gCAAgC,iBAAiB,oCAAoC,oBAAoB,EAAE,0BAA0B,8FAA8F,wDAAwD,4QAA4Q,WAAW,+CAA+C,cAAc,EAAE,4BAA4B,iDAAiD,aAAa,+CAA+C,eAAe,EAAE,4BAA4B,QAAQ,wRAAwR,YAAY,iGAAiG,gBAAgB,+FAA+F,aAAa,+FAA+F,iBAAiB,aAAa,gBAAgB,oBAAoB,yDAAyD,kBAAkB,iVAAiV,gGAAgG,0CAA0C,MAAM,yCAAyC,MAAM,sGAAsG,MAAM,wGAAwG,MAAM,4EAA4E,4BAA4B,MAAM,6EAA6E,4BAA4B,mBAAmB,mBAAmB,iDAAiD,kIAAkI,qCAAqC,4DAA4D,gdAAgd,6BAA6B,mBAAmB,yBAAyB,oFAAoF,oBAAoB,sBAAsB,2IAA2I,0BAA0B,0DAA0D,gCAAgC,WAAW,8GAA8G,sHAAsH,EAAE,qBAAqB,qBAAqB,8BAA8B,KAAK,2DAA2D,YAAY,6BAA6B,uBAAuB,6IAA6I,mEAAmE,sJAAsJ,wBAAwB,oEAAoE,6BAA6B,uBAAuB,4OAA4O,6EAA6E,uBAAuB,OAAO,0DAA0D,mEAAmE,mQAAmQ,oEAAoE,uRAAuR,iCAAiC,EAAE,2hBAA2hB,KAAK,iEAAiE,qNAAqN,wBAAwB,gCAAgC,stDAAstD,KAAK,gSAAgS,4GAA4G,8DAA8D,MAAM,8JAA8J,0BAA0B,MAAM,iGAAiG,gEAAgE,qYAAqY,YAAY,EAAE,sBAAsB,UAAU,mBAAmB,kBAAkB,qCAAqC,YAAY,6JAA6J,mCAAmC,KAAK,oNAAoN,wOAAwO,uDAAuD,oIAAoI,uBAAuB,kDAAkD,cAAc,sBAAsB,0FAA0F,kEAAkE,kDAAkD,qBAAqB,kDAAkD,cAAc,mBAAmB,oDAAoD,IAAI,6BAA6B,wSAAwS,kWAAkW,oCAAoC,+NAA+N,oJAAoJ,kCAAkC,+PAA+P,wFAAwF,sCAAsC,oDAAoD,gCAAgC,wCAAwC,sDAAsD,mCAAmC,qBAAqB,qFAAqF,yBAAyB,mBAAmB,wEAAwE,+BAA+B,aAAa,aAAa,4CAA4C,yBAAyB,KAAK,gDAAgD,KAAK,2OAA2O,wFAAwF,2CAA2C,oHAAoH,KAAK,oBAAoB,YAAY,qCAAqC,+DAA+D,yCAAyC,YAAY,WAAW,iCAAiC,SAAS,EAAE,2BAA2B,qCAAqC,iHAAiH,sBAAsB,kEAAkE,kCAAkC,KAAK,gDAAgD,KAAK,qJAAqJ,sBAAsB,4DAA4D,iBAAiB,KAAK,2CAA2C,IAAI,wDAAwD,gDAAgD,EAAE,8BAA8B,8KAA8K,YAAY,0BAA0B,KAAK,6RAA6R,+GAA+G,oCAAoC,KAAK,sSAAsS,YAAY,gCAAgC,UAAU,kBAAkB,mFAAmF,mBAAmB,2EAA2E,gWAAgW,sBAAsB,wUAAwU,gJAAgJ,oCAAoC,WAAW,6BAA6B,aAAa,6EAA6E,EAAE,gCAAgC,sCAAsC,+BAA+B,KAAK,kIAAkI,sEAAsE,yBAAyB,gJAAgJ,+KAA+K,KAAK,kJAAkJ,KAAK,kRAAkR,wCAAwC,0MAA0M,6YAA6Y,2BAA2B,iKAAiK,uKAAuK,0LAA0L,2JAA2J,qCAAqC,uDAAuD,wBAAwB,qTAAqT,6BAA6B,6CAA6C,iCAAiC,mWAAmW,aAAa,GAAG,4IAA4I,+BAA+B,kCAAkC,kCAAkC,OAAO,uKAAuK,OAAO,cAAc,0BAA0B,cAAc,+GAA+G,oCAAoC,wBAAwB,iEAAiE,4BAA4B,yBAAyB,k0CAAk0C,kCAAkC,qBAAqB,kOAAkO,OAAO,mSAAmS,+BAA+B,mPAAmP,qnCAAqnC,2TAA2T,8BAA8B,kMAAkM;AAClv+B,uBAAuB,4CAA4C,EAAE,sBAAsB,kBAAkB,mBAAmB,8BAA8B,kBAAkB,WAAW,gKAAgK,+GAA+G,+FAA+F,6BAA6B,6CAA6C,0DAA0D,kLAAkL,yCAAyC,wDAAwD,yCAAyC,qBAAqB,mBAAmB,4CAA4C,sDAAsD,mBAAmB,2CAA2C,gEAAgE,KAAK,mLAAmL,mgBAAmgB,QAAQ,WAAW,sBAAsB,uCAAuC,qDAAqD,qBAAqB,sEAAsE,qBAAqB,cAAc,OAAO,2KAA2K,yBAAyB,4EAA4E,SAAS,6FAA6F,qBAAqB,sDAAsD,8GAA8G,oBAAoB,0PAA0P,wBAAwB,yCAAyC,EAAE,8BAA8B,mCAAmC,iDAAiD,gBAAgB,4BAA4B,IAAI,UAAU,oBAAoB,qDAAqD,gCAAgC,iCAAiC,kBAAkB,2JAA2J,0BAA0B,MAAM,4CAA4C,0HAA0H,6BAA6B,0BAA0B,4CAA4C,aAAa,iEAAiE,yEAAyE,gBAAgB,GAAG,MAAM,wKAAwK,oCAAoC,8FAA8F,kFAAkF,oKAAoK,yCAAyC,qBAAqB,wGAAwG,kBAAkB,iQAAiQ,SAAS,gBAAgB,8NAA8N,wCAAwC,8BAA8B,0CAA0C,yIAAyI,sBAAsB,kCAAkC,kBAAkB,2CAA2C,8CAA8C,qDAAqD,wDAAwD,SAAS,oBAAoB,4GAA4G,yBAAyB,oEAAoE,qBAAqB,sCAAsC,qBAAqB,sBAAsB,6HAA6H,QAAQ,wCAAwC,wBAAwB,+BAA+B,yEAAyE,uBAAuB,2CAA2C,sFAAsF,0BAA0B,4BAA4B,4BAA4B,0BAA0B,uBAAuB,6KAA6K,mBAAmB,qIAAqI,0BAA0B,UAAU,seAAse,gCAAgC,0JAA0J,2BAA2B,eAAe,qBAAqB,6JAA6J,qBAAqB,iIAAiI,qBAAqB,mBAAmB,kHAAkH,EAAE,oBAAoB,mBAAmB,4CAA4C,sBAAsB,MAAM,yHAAyH,qBAAqB,oJAAoJ,sBAAsB,gBAAgB,sBAAsB,mEAAmE,wBAAwB,kBAAkB,wBAAwB,oEAAoE,sBAAsB,uCAAuC,yBAAyB,yCAAyC,oBAAoB,6FAA6F,mBAAmB,uBAAuB,2DAA2D,oBAAoB,uHAAuH,2BAA2B,eAAe,wBAAwB,wBAAwB,mCAAmC,oCAAoC,qBAAqB,yHAAyH,oIAAoI,qBAAqB,aAAa,mBAAmB,QAAQ,qDAAqD,IAAI,wBAAwB,UAAU,IAAI,wBAAwB,UAAU,+BAA+B,sBAAsB,0BAA0B,8SAA8S,uBAAuB,6JAA6J,2BAA2B,kFAAkF,kDAAkD,sDAAsD,6NAA6N,gCAAgC,OAAO,gFAAgF,yBAAyB,0FAA0F,4BAA4B,kBAAkB,mDAAmD,MAAM,qDAAqD,MAAM,8CAA8C,MAAM,2BAA2B,MAAM,yGAAyG,oIAAoI,eAAe,sNAAsN,wBAAwB,eAAe,2BAA2B,kHAAkH,4BAA4B,0OAA0O,4BAA4B,aAAa,+BAA+B,6BAA6B,0CAA0C,aAAa,SAAS,6BAA6B,mEAAmE,0BAA0B,2QAA2Q,+BAA+B,qCAAqC,aAAa,EAAE,gBAAgB,oBAAoB,4DAA4D,4DAA4D,kBAAkB,6UAA6U,qBAAqB,uKAAuK,4DAA4D,kEAAkE,qBAAqB,wCAAwC,yDAAyD,gHAAgH,sBAAsB,sCAAsC,yBAAyB,oDAAoD,wNAAwN,qDAAqD,8DAA8D,4DAA4D,yDAAyD,uBAAuB,mGAAmG,sBAAsB,QAAQ,gCAAgC,gGAAgG,sFAAsF,mHAAmH,uOAAuO,sCAAsC,8BAA8B,oMAAoM,qBAAqB,uDAAuD,0BAA0B,0DAA0D,gCAAgC,UAAU,6EAA6E,eAAe,iMAAiM,qGAAqG,0BAA0B,SAAS,qCAAqC,qBAAqB,oFAAoF,kBAAkB,oBAAoB,+CAA+C,sBAAsB,wBAAwB,wBAAwB,wDAAwD,+BAA+B,8BAA8B,+HAA+H,kCAAkC,oDAAoD,2DAA2D,2BAA2B,8BAA8B,qEAAqE,uEAAuE,0CAA0C,aAAa,2BAA2B,mLAAmL,+CAA+C,4XAA4X,uBAAuB,aAAa,wCAAwC,aAAa,2IAA2I,qCAAqC,sFAAsF,8EAA8E,0IAA0I,gDAAgD,wFAAwF,oCAAoC,mEAAmE,yDAAyD,EAAE,uBAAuB,4BAA4B,qGAAqG,+CAA+C,GAAG,yBAAyB,kCAAkC,uBAAuB,gHAAgH,qBAAqB,yLAAyL,gKAAgK,4BAA4B,gDAAgD,8FAA8F,wFAAwF,oBAAoB,4BAA4B,iFAAiF,oBAAoB,gCAAgC,oBAAoB,+BAA+B,qBAAqB,4BAA4B,WAAW,mBAAmB,KAAK,kDAAkD,yCAAyC,4BAA4B,oBAAoB,oBAAoB,sFAAsF,cAAc,iBAAiB,yHAAyH,2MAA2M,sBAAsB,wCAAwC,IAAI,qBAAqB,sBAAsB,OAAO,IAAI,IAAI,+BAA+B,WAAW,OAAO,+DAA+D,2CAA2C,uBAAuB,OAAO,6BAA6B,iCAAiC,yDAAyD,qDAAqD,wBAAwB,gEAAgE,mCAAmC,0BAA0B,SAAS,8CAA8C,oBAAoB,gCAAgC,+BAA+B,mDAAmD,2DAA2D,uCAAuC,+BAA+B,oDAAoD,iFAAiF,gCAAgC,+FAA+F,0IAA0I,oBAAoB,UAAU,gCAAgC,kBAAkB,gBAAgB,kCAAkC,+DAA+D,+HAA+H,0BAA0B,WAAW,mEAAmE,4BAA4B,EAAE,gCAAgC,+BAA+B,qBAAqB,WAAW,mCAAmC,sBAAsB,oDAAoD,gHAAgH,cAAc,6FAA6F,GAAG,oBAAoB,oCAAoC,cAAc,uEAAuE,4BAA4B,kBAAkB,oEAAoE,mLAAmL,gBAAgB,8IAA8I,mCAAmC,qBAAqB,6DAA6D,8BAA8B,oDAAoD,4FAA4F,oBAAoB,6DAA6D,EAAE,+BAA+B,uBAAuB,cAAc,sCAAsC,yBAAyB,wBAAwB,MAAM,+EAA+E,keAAke,YAAY,6BAA6B,KAAK,6KAA6K,6CAA6C,yCAAyC,UAAU,GAAG,sCAAsC,OAAO,kBAAkB,oCAAoC,iBAAiB,yCAAyC,6CAA6C,2CAA2C,+GAA+G,mBAAmB,iEAAiE,uPAAuP,0BAA0B,0NAA0N,uDAAuD,wCAAwC,UAAU,6EAA6E,sBAAsB,2FAA2F,2JAA2J,qBAAqB,mBAAmB,8BAA8B,+BAA+B,4BAA4B,8CAA8C,uBAAuB,qCAAqC,6CAA6C,qBAAqB,WAAW,mCAAmC,kCAAkC,yLAAyL,4BAA4B,2DAA2D,SAAS,kBAAkB,qBAAqB,kCAAkC,mFAAmF,eAAe,E;CCZ/g1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,OAAO,IAAI,4xBAA4xB,WAAW,yDAAyD,0DAA0D,OAAO,wJAAwJ,ibAAib,4LAA4L,sEAAsE,2CAA2C,oBAAoB,aAAa,iCAAiC,6BAA6B,kBAAkB,kDAAkD,+CAA+C,GAAG,uBAAuB,sBAAsB,UAAU,yEAAyE,sDAAsD,uCAAuC,4EAA4E,qCAAqC,8BAA8B,2CAA2C,2CAA2C,sCAAsC,uCAAuC,+BAA+B,iCAAiC,6BAA6B,6BAA6B,UAAU,UAAU,oBAAoB,6CAA6C,4DAA4D,mDAAmD,6HAA6H,0CAA0C,2FAA2F,gDAAgD,6CAA6C,2DAA2D,GAAG,0EAA0E,+BAA+B,iCAAiC,mEAAmE,mEAAmE,gHAAgH,sEAAsE,GAAG,sEAAsE,mCAAmC,iCAAiC,2DAA2D,WAAW,UAAU,0CAA0C,OAAO,sBAAsB,OAAO,sBAAsB,IAAI,iBAAiB,aAAa,iBAAiB,KAAK,8BAA8B,KAAK,8BAA8B,KAAK,8BAA8B,KAAK,8BAA8B,KAAK,8BAA8B,KAAK,8BAA8B,YAAY,UAAU,cAAc,UAAU,OAAO,gBAAgB,SAAS,gBAAgB,YAAY,QAAQ,gBAAgB,aAAa,SAAS,kBAAkB,KAAK,oBAAoB,MAAM,mBAAmB,aAAa,gBAAgB,UAAU,eAAe,cAAc,uBAAuB,gBAAgB,yBAAyB,eAAe,wBAAwB,cAAc,0BAA0B,gBAAgB,kCAAkC,cAAc,gCAAgC,iBAAiB,0BAA0B,gBAAgB,aAAa,8BAA8B,QAAQ,2CAA2C,aAAa,wDAAwD,OAAO,kCAAkC,mBAAmB,wVAAwV,iBAAiB,gEAAgE,6MAA6M,aAAa,sBAAsB,+CAA+C,iBAAiB,WAAW,wCAAwC,IAAI,sGAAsG,UAAU,gGAAgG,sDAAsD,GAAG,yBAAyB,8CAA8C,EAAE,2BAA2B,yBAAyB,mEAAmE,wBAAwB,6BAA6B,mBAAmB,2DAA2D,oLAAoL,sCAAsC,uJAAuJ,0CAA0C,mSAAmS,gBAAgB,8EAA8E,gBAAgB,4EAA4E,cAAc,6EAA6E,sCAAsC,8EAA8E,WAAW,KAAK,KAAK,yDAAyD,IAAI,kCAAkC,YAAY,uDAAuD,KAAK,0CAA0C,kCAAkC,iBAAiB,cAAc,oBAAoB,wIAAwI,KAAK,yCAAyC,uDAAuD,qDAAqD,uBAAuB,KAAK,OAAO,2CAA2C,2DAA2D,KAAK,+CAA+C,2BAA2B,MAAM,gCAAgC,8FAA8F,qCAAqC,sGAAsG,+BAA+B,8BAA8B,gCAAgC,8EAA8E,uBAAuB,mDAAmD,KAAK,6BAA6B,uBAAuB,gDAAgD,KAAK,2BAA2B,2BAA2B,8GAA8G,IAAI,sCAAsC,IAAI,2CAA2C,SAAS,uEAAuE,4BAA4B,SAAS,kFAAkF,sCAAsC,KAAK,0BAA0B,2EAA2E,KAAK,gCAAgC,0BAA0B,0BAA0B,uBAAuB,0BAA0B,KAAK,6DAA6D,yEAAyE,GAAG,kCAAkC,WAAW,uCAAuC,4BAA4B,qBAAqB,4BAA4B,mFAAmF,WAAW,SAAS,4BAA4B,MAAM,yBAAyB,iDAAiD,sBAAsB,EAAE,+BAA+B,sBAAsB,kBAAkB,kEAAkE,EAAE,wBAAwB,IAAI,6CAA6C,WAAW,yCAAyC,qBAAqB,sBAAsB,iHAAiH,+WAA+W,wSAAwS,EAAE,MAAM,8BAA8B,sBAAsB,8DAA8D,eAAe,oBAAoB,wBAAwB,8DAA8D,2BAA2B,4BAA4B,4BAA4B,EAAE,wDAAwD,yBAAyB,oEAAoE,8BAA8B,4BAA4B,2DAA2D,wXAAwX,yFAAyF,EAAE,4BAA4B,IAAI,qCAAqC,UAAU,SAAS,yBAAyB,WAAW,8BAA8B,2BAA2B,8BAA8B,wBAAwB,WAAW,qFAAqF,wBAAwB,WAAW,iEAAiE,+BAA+B,yCAAyC,2GAA2G,MAAM,aAAa,2EAA2E,uDAAuD,gDAAgD,cAAc,sBAAsB,UAAU,2BAA2B,uCAAuC,wDAAwD,8DAA8D,aAAa,uCAAuC,0BAA0B,IAAI,IAAI,yBAAyB,wBAAwB,0IAA0I,oBAAoB,wBAAwB,qCAAqC,UAAU,0EAA0E,UAAU,iXAAiX,kBAAkB,mCAAmC,mBAAmB,wBAAwB,6JAA6J,8VAA8V,KAAK,wBAAwB,uCAAuC,sIAAsI,GAAG,sBAAsB,uIAAuI,6BAA6B,sBAAsB,8BAA8B,+IAA+I,gFAAgF,8IAA8I,IAAI,kBAAkB,WAAW,qFAAqF,yBAAyB,WAAW,uGAAuG,sBAAsB,WAAW,6CAA6C,KAAK,0DAA0D,yEAAyE,sFAAsF,gBAAgB,mDAAmD,qBAAqB,gFAAgF,qCAAqC,SAAS,8BAA8B,8BAA8B,WAAW,4BAA4B,SAAS,oDAAoD,mMAAmM,iDAAiD,oCAAoC,yDAAyD,4BAA4B,kBAAkB,iBAAiB,+EAA+E,6BAA6B,8HAA8H,0CAA0C,6BAA6B,iBAAiB,mHAAmH,KAAK,6EAA6E,+BAA+B,4CAA4C,mBAAmB,oCAAoC,0DAA0D,oBAAoB,6DAA6D,6BAA6B,mGAAmG,GAAG,uBAAuB,6IAA6I,kCAAkC,gBAAgB,wBAAwB,WAAW,4GAA4G,0BAA0B,kDAAkD,cAAc,OAAO,KAAK,gDAAgD,OAAO,4BAA4B,8BAA8B,OAAO,2BAA2B,SAAS,6BAA6B,qDAAqD,gCAAgC,sBAAsB,4DAA4D,wNAAwN,GAAG,8BAA8B,4BAA4B,kDAAkD,wEAAwE,mBAAmB,gDAAgD,kBAAkB,KAAK,kCAAkC,gBAAgB,wBAAwB,0BAA0B,mDAAmD,qCAAqC,wBAAwB,WAAW,cAAc,OAAO,KAAK,wBAAwB,MAAM,kDAAkD,oCAAoC,sDAAsD,qCAAqC,kDAAkD,4DAA4D,cAAc,4CAA4C,GAAG,uBAAuB,qFAAqF,uEAAuE,QAAQ,OAAO,SAAS,6IAA6I,2BAA2B,WAAW,iIAAiI,IAAI,2CAA2C,UAAU,IAAI,UAAU,SAAS,IAAI,KAAK,SAAS,0IAA0I,IAAI,iCAAiC,iHAAiH,wBAAwB,oBAAoB,WAAW,wEAAwE,2BAA2B,wBAAwB,0DAA0D,oHAAoH,oBAAoB,+BAA+B,OAAO,yDAAyD,0BAA0B,mCAAmC,uBAAuB,oBAAoB,iBAAiB,0BAA0B,uBAAuB,0BAA0B,uBAAuB,iCAAiC,qDAAqD,KAAK,kBAAkB,2BAA2B,OAAO,qEAAqE,uBAAuB,gBAAgB,MAAM,uBAAuB,6BAA6B,0LAA0L,6BAA6B,oBAAoB,sBAAsB,iEAAiE,wBAAwB,uBAAuB,wBAAwB,qDAAqD,yCAAyC,WAAW,mBAAmB,iBAAiB,kEAAkE,oBAAoB,iCAAiC,iEAAiE,+BAA+B,+CAA+C,yCAAyC,uBAAuB,aAAa,mYAAmY,2BAA2B,qCAAqC,kCAAkC,wBAAwB,8CAA8C,gCAAgC,qCAAqC,MAAM,4CAA4C,MAAM,6BAA6B,yJAAyJ,wGAAwG,qBAAqB,8BAA8B,GAAG,oCAAoC,mEAAmE,gCAAgC,sDAAsD,uBAAuB,OAAO,mFAAmF,eAAe,GAAG,yCAAyC,WAAW,kBAAkB,2CAA2C,mCAAmC,OAAO,KAAK,gCAAgC,MAAM,+CAA+C,0CAA0C,yCAAyC,sDAAsD,0BAA0B,UAAU,UAAU,UAAU,wDAAwD,cAAc,4BAA4B,OAAO,sBAAsB,kCAAkC,iCAAiC,sDAAsD,qGAAqG,8BAA8B,yBAAyB,4DAA4D,MAAM,uBAAuB,iCAAiC,0BAA0B,gBAAgB,oBAAoB,iBAAiB,iHAAiH,uCAAuC,IAAI,mBAAmB,IAAI,oBAAoB,UAAU,kBAAkB,yBAAyB,qBAAqB,kCAAkC,4EAA4E,wFAAwF,2DAA2D,GAAG,mCAAmC,iIAAiI,kDAAkD,uEAAuE,4BAA4B,SAAS,gKAAgK,+IAA+I,WAAW,GAAG,gCAAgC,WAAW,iEAAiE,+BAA+B,kHAAkH,mBAAmB,yDAAyD,eAAe,IAAI,wBAAwB,WAAW,6DAA6D,mHAAmH,GAAG,2BAA2B,WAAW,yCAAyC,wBAAwB,KAAK,mC;CCX1y0B,aAAa,aAAa,iBAAiB,sCAAsC,yBAAyB,OAAO,IAAI,oJAAoJ,KAAK,sCAAsC,KAAK,wJAAwJ,KAAK,gKAAgK,KAAK,wCAAwC,KAAK,+JAA+J,KAAK,+HAA+H,KAAK,0HAA0H,KAAK,6KAA6K,QAAQ,kKAAkK,KAAK,6KAA6K,KAAK,kKAAkK,QAAQ,gCAAgC,QAAQ,2GAA2G,UAAU,QAAQ,8BAA8B,OAAO,4BAA4B,MAAM,cAAc,uCAAuC,MAAM,oCAAoC,kBAAkB,MAAM,4CAA4C,cAAc,qBAAqB,wBAAwB,MAAM,6PAA6P,oBAAoB,GAAG,+CAA+C,oBAAoB,KAAK,2BAA2B,EAAE,S;CCAhlF,aAAa,aAAa,OAAO,iCAAiC,yBAAyB,OAAO,IAAI,yQAAyQ,KAAK,2KAA2K,KAAK,wPAAwP,KAAK,qRAAqR,KAAK,qQAAqQ,KAAK,4SAA4S,KAAK,kRAAkR,KAAK,gQAAgQ,KAAK,oHAAoH,KAAK,uLAAuL,QAAQ,6QAA6Q,KAAK,oRAAoR,KAAK,sKAAsK,KAAK,4PAA4P,QAAQ,gLAAgL,KAAK,sSAAsS,UAAU,OAAO,iBAAiB,gCAAgC,wBAAwB,EAAE,OAAO,cAAc,cAAc,yCAAyC,mDAAmD,eAAe,oBAAoB,+dAA+d,KAAK,oBAAoB,0BAA0B,YAAY,yBAAyB,0CAA0C,4BAA4B,4BAA4B,qIAAqI,eAAe,eAAe,+EAA+E,mCAAmC,YAAY,KAAK,iBAAiB,KAAK,8FAA8F,oDAAoD,cAAc,cAAc,oBAAoB,6FAA6F,wDAAwD,KAAK,8CAA8C,KAAK,4BAA4B,4EAA4E,IAAI,+EAA+E,cAAc,kFAAkF,eAAe,yBAAyB,oCAAoC,4BAA4B,WAAW,cAAc,IAAI,yFAAyF,cAAc,kFAAkF,eAAe,yBAAyB,oCAAoC,4BAA4B,YAAY,cAAc,IAAI,qFAAqF,cAAc,8FAA8F,6CAA6C,4CAA4C,iBAAiB,IAAI,4FAA4F,cAAc,8FAA8F,6CAA6C,6CAA6C,iBAAiB,IAAI,oFAAoF,cAAc,qCAAqC,6CAA6C,IAAI,sFAAsF,cAAc,qCAAqC,0CAA0C,IAAI,4FAA4F,cAAc,0FAA0F,iCAAiC,sCAAsC,kBAAkB,8PAA8P,EAAE,S;CCAlrP,aAAa,aAAa,yBAAyB,OAAO,IAAI,gCAAgC,6GAA6G,iBAAiB,yDAAyD,KAAK,sCAAsC,sHAAsH,KAAK,mCAAmC,mHAAmH,iBAAiB,2EAA2E,KAAK,uCAAuC,wHAAwH,iBAAiB,4EAA4E,KAAK,oCAAoC,6GAA6G,iBAAiB,qEAAqE,KAAK,0CAA0C,wHAAwH,iBAAiB,iFAAiF,KAAK,iCAAiC,4GAA4G,iBAAiB,2DAA2D,KAAK,2CAA2C,4HAA4H,iBAAiB,uFAAuF,KAAK,4BAA4B,sFAAsF,iBAAiB,iDAAiD,KAAK,oCAAoC,iHAAiH,QAAQ,uCAAuC,yHAAyH,iBAAiB,8EAA8E,KAAK,kCAAkC,sGAAsG,iBAAiB,2DAA2D,QAAQ,2BAA2B,2EAA2E,iBAAiB,6CAA6C,EAAE,OAAO,4EAA4E,gBAAgB,2GAA2G,oBAAoB,KAAK,cAAc,qBAAqB,EAAE,8IAA8I,cAAc,SAAS,uDAAuD,2BAA2B,oCAAoC,gEAAgE,QAAQ,wBAAwB,yCAAyC,2BAA2B,cAAc,+CAA+C,MAAM,qEAAqE,cAAc,sBAAsB,GAAG,sCAAsC,kDAAkD,2BAA2B,SAAS,yBAAyB,SAAS,UAAU,iBAAiB,gCAAgC,2BAA2B,0BAA0B,cAAc,KAAK,EAAE,S;CCAnhI,aAAa,aAAa,cAAc,+CAA+C,cAAc,8KAA8K,yBAAyB,OAAO,IAAI,kIAAkI,KAAK,iDAAiD,KAAK,kDAAkD,KAAK,mDAAmD,KAAK,0HAA0H,KAAK,wJAAwJ,KAAK,kIAAkI,KAAK,gCAAgC,KAAK,oFAAoF,KAAK,oDAAoD,QAAQ,kDAAkD,KAAK,0DAA0D,KAAK,kDAAkD,KAAK,oIAAoI,QAAQ,kCAAkC,QAAQ,oCAAoC,EAAE,OAAO,ssBAAssB,gBAAgB,yDAAyD,wBAAwB,aAAa,kGAAkG,GAAG,qEAAqE,8BAA8B,GAAG,oBAAoB,iFAAiF,yHAAyH,GAAG,oHAAoH,kBAAkB,cAAc,6BAA6B,OAAO,kDAAkD,cAAc,+BAA+B,GAAG,2CAA2C,mBAAmB,gBAAgB,GAAG,2BAA2B,SAAS,yBAAyB,SAAS,OAAO,iBAAiB,yCAAyC,+EAA+E,0CAA0C,IAAI,2CAA2C,sDAAsD,0BAA0B,WAAW,qBAAqB,iCAAiC,iCAAiC,yFAAyF,uMAAuM,EAAE,S;CCA95H,CAAC;AACD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8DAA8D,2DAA2D,cAAc,6DAA6D;;AAEpM;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA,mCAAmC;AACnC;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,oEAAoE;AACpE;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B;AAC7B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;AACA;AACA,yBAAyB;AACzB,qBAAqB;;AAErB;AACA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;CCtTD,aAAa,aAAa,OAAO,kQAAkQ,cAAc,SAAS,iEAAiE,iEAAiE,gCAAgC,0DAA0D,sCAAsC,2BAA2B,K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oB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,sBAAsB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,qBAAqB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,oBAAoB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,0BAA0B,EAAE,sBAAsB,EAAE,wBAAwB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,wBAA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,aAAa,EAAE,mBAAmB,IAAI,8DAA8D,mBAAmB,EAAE,SAAS,yBAAyB,0BAA0B,qBAAqB,6DAA6D,2FAA2F,sBAAsB,wDAAwD,oBAAoB,kEAAkE,2DAA2D,2CAA2C,sBAAsB,wHAAwH,EAAE,4CAA4C,MAAM,+TAA+T;;CCZz93L;AACA;;AAEA;;AAEA,wBAAwB;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc,gFAAgF,sDAAsD;AACjK,aAAa,SAAS;AACtB,cAAc,KAAK;AACnB;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc,gFAAgF,sDAAsD;AACjK,aAAa,SAAS;AACtB,cAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mDAAmD,SAAS;AAC5D,0EAA0E,EAAE;AAC5E;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B,cAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;AACA,gDAAgD,YAAY;AAC5D;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,cAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,iBAAiB;AAC9B,cAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;;AAEA,8CAA8C,YAAY;AAC1D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,KAAK;AACnB;AACA;AACA;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB,cAAc,KAAK;AACnB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB,cAAc,QAAQ;AACtB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B,gBAAgB,MAAM;AACtB,gBAAgB,QAAQ;AACxB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA,0CAA0C,mBAAmB;AAC7D;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,0CAA0C;;AAE1C;AACA,+CAA+C;;AAE/C;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS,mBAAmB;AAC3C,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA,gDAAgD,SAAS;AACzD;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA,4CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB,gBAAgB,MAAM;AACtB,gBAAgB,QAAQ;AACxB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA,2CAA2C,IAAI,WAAW,QAAQ;AAClE,KAAK;;AAEL;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA,4BAA4B,EAAE;AAC9B,8BAA8B,EAAE;AAChC,4BAA4B,EAAE;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,yBAAyB;AACtC,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;;AAEA,sCAAsC,SAAS;AAC/C;AACA,mBAAmB,yCAAyC;AAC5D,mBAAmB,yCAAyC;AAC5D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,cAAc;AACd;AACA;AACA;AACA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,cAAc;AACd;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,cAAc;AACd;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,SAAS;AACrD,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA,4CAA4C,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;AACA,mBAAmB,EAAE;AACrB;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB;AACA;AACA,sCAAsC;AACtC,6BAA6B;AAC7B,6BAA6B;AAC7B,2BAA2B;AAC3B,2BAA2B;AAC3B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;;AAEA;AACA;AACA,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,CAAC;AACD;;;AAGA;;AAEA,iEAAiE,EAAE;;AAEnE;AACA,uBAAuB,cAAc;AACrC;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB;;AAEvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+CAA+C,YAAY;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;AAGD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sDAAsD,SAAS;AAC/D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,EAAE;;AAErB;AACA,kBAAkB,EAAE;;AAEpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,SAAS;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,SAAS;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC,gBAAgB;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC,aAAa,OAAO;AACpB,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,YAAY;AACzB,cAAc,OAAO;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA,iEAAiE;AACjE;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,+CAA+C,EAAE;AACnE,kBAAkB,4CAA4C,EAAE;AAChE,kBAAkB,gDAAgD,EAAE;AACpE,kBAAkB,6BAA6B;AAC/C;AACA,kCAAkC,KAAK;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,GAAG;;AAEH,sBAAsB;;AAEtB;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc,eAAe;AAC7B;AACA;;AAEA,2BAA2B,EAAE;;AAE7B;AACA,uDAAuD,EAAE;AACzD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA,WAAW,EAAE;AACb;AACA,yBAAyB;;AAEzB;AACA;AACA,WAAW,EAAE;AACb;AACA,0BAA0B;;AAE1B;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS,6BAA6B;AACnD,aAAa,SAAS,+BAA+B;AACrD,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA,6BAA6B,EAAE;;AAE/B;AACA;AACA;AACA,qDAAqD,EAAE;AACvD,+CAA+C,cAAc,EAAE;AAC/D,2DAA2D,qDAAqD;AAChH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,WAAW;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,kDAAkD,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA,qBAAqB;AACrB,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,KAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6DAA6D,OAAO;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,OAAO;AACjE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE;;AAEvB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,SAAS;AACtB;AACA,aAAa,SAAS;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iDAAiD,SAAS;AAC1D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kEAAkE;AAClE,OAAO;;AAEP;AACA,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL,aAAa,qCAAqC;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,gBAAgB,OAAO,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,EAAE,mBAAmB;;AAE/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;;AAEA;AACA;AACA;;AAEA;AACA,8BAA8B,EAAE;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,GAAG,EAAE;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,gBAAgB,OAAO;AACvB;AACA;AACA,oBAAoB,EAAE;AACtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,MAAM;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,sBAAsB,EAAE;;AAExB;AACA,0CAA0C,SAAS;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wCAAwC,IAAI,UAAU;AACtD,0CAA0C,oBAAoB,EAAE;AAChE;;AAEA,iDAAiD,IAAI,KAAK;AAC1D,yBAAyB,EAAE;AAC3B,yDAAyD,mBAAmB;;AAE5E,0DAA0D,SAAS;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB;AAChB;AACA;AACA,mCAAmC,EAAE;AACrC;AACA;;AAEA,2CAA2C,SAAS;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B;AAC3B,0CAA0C;AAC1C,kDAAkD;AAClD,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA,kDAAkD,EAAE;;AAEpD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc,aAAa;AAC3B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA;AACA,kDAAkD,EAAE;;AAEpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,YAAY;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,cAAc;AACd;AACA;AACA;AACA;;AAEA,mBAAmB,YAAY;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;;AAEpD;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,mBAAmB;AACxC,MAAM,mBAAmB,4CAA4C,mBAAmB;AACxF;AACA;AACA,aAAa,OAAO;AACpB,cAAc,aAAa;AAC3B,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,MAAM;AACtB;AACA;AACA,eAAe,UAAU;;AAEzB;AACA;AACA;;AAEA;;AAEA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,6EAA6E;AAC7E,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA,0EAA0E;AAC1E,eAAe,MAAM;AACrB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,oBAAoB;AACnC,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,IAAI,yBAAyB,IAAI,yBAAyB,IAAI;;AAEtG;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,IAAI,YAAY,IAAI,cAAc,IAAI;;AAE9E;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE;;AAE3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;;AAEA,wCAAwC,KAAK;;AAE7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB,WAAW,iCAAiC;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,gBAAgB;AAChC;AACA;AACA,6BAA6B,EAAE;;AAE/B,oBAAoB;;AAEpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;AACA,qDAAqD,iDAAiD;AACtG;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mDAAmD,SAAS;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA,gBAAgB,sBAAsB;AACtC;AACA;AACA,eAAe,mBAAmB;AAClC,eAAe,cAAc;AAC7B,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,uCAAuC,KAAK;AAC5C;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,gBAAgB,sBAAsB;AACtC;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA,6BAA6B,EAAE;AAC/B;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS,gCAAgC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,eAAe;AAC7B;AACA;AACA,2BAA2B,EAAE;;AAE7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB,cAAc,OAAO;AACrB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,cAAc;AAC3B,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,aAAa,yBAAyB;AACtC,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;AACpD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,WAAW,+BAA+B;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,aAAa,mCAAmC;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,EAAE;;AAEnB;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,WAAW,qCAAqC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,qBAAqB,QAAQ;AAC5C,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA,6BAA6B,EAAE;;AAE/B;AACA,KAAK;;AAEL;AACA;AACA,0BAA0B,6CAA6C;AACvE,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,6CAA6C;AACvE;AACA;AACA,YAAY,2BAA2B,GAAG,yBAAyB,MAAM,0BAA0B;AACnG;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B;AAC1B;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,0CAA0C;AACpE;AACA;AACA,YAAY,wBAAwB,MAAM,uBAAuB;AACjE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,4BAA4B,GAAG,iCAAiC,MAAM,+BAA+B;AAC/H;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4EAA4E;AAC5E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,qBAAqB,QAAQ;AAC5C,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,aAAa,qDAAqD;AAClE,eAAe,sBAAsB;AACrC,eAAe,SAAS;AACxB,eAAe,OAAO,4CAA4C,iCAAiC;AACnG,gBAAgB,cAAc;AAC9B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,mBAAmB,4EAA4E;AAC/F;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,KAAK;;AAEL;AACA,aAAa,2DAA2D;AACxE,eAAe,sBAAsB;AACrC,eAAe,SAAS;AACxB,eAAe,OAAO,4CAA4C,oCAAoC;AACtG,gBAAgB,cAAc;AAC9B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,mBAAmB,4EAA4E;AAC/F;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,KAAK;;AAEL;AACA,aAAa,wDAAwD;AACrE,eAAe,wBAAwB;AACvC,eAAe,SAAS;AACxB,gBAAgB,cAAc;AAC9B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,KAAK;;AAEL;AACA,aAAa,2DAA2D;AACxE,eAAe,wBAAwB;AACvC,eAAe,SAAS;AACxB,gBAAgB,cAAc;AAC9B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO,4BAA4B;AAClD,WAAW,oDAAoD;AAC/D,eAAe,2BAA2B;AAC1C,eAAe,SAAS;AACxB,eAAe,OAAO,4CAA4C,yBAAyB;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO,4BAA4B;AAClD,WAAW,oDAAoD;AAC/D,eAAe,qBAAqB;AACpC,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA,iCAAiC,eAAe;AAChD,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA,iCAAiC,gBAAgB;AACjD,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,iDAAiD,SAAS;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,mBAAmB;AACnB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA,mCAAmC,cAAc;AACjD;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,MAAM;AACrB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,MAAM;AACrB;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA,yCAAyC,gCAAgC;AACzE,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,aAAa;AAC5B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB,kBAAkB;AAClB,aAAa;AACb;AACA;AACA,kEAAkE;AAClE,+BAA+B,uBAAuB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,+BAA+B,uBAAuB;AACtD;AACA;AACA,gDAAgD,sBAAsB,wBAAwB,uBAAuB;AACrH,QAAQ;AACR;AACA;AACA,6BAA6B,EAAE;;AAE/B;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,wEAAwE,SAAS;AACjF;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,KAAK;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6BAA6B,QAAQ;;AAErC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,KAAK;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6BAA6B,0BAA0B;;AAEvD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,iBAAiB,4CAA4C;AAC7D;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,qCAAqC;;AAEvD;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,MAAM;AACnB,cAAc,OAAO;AACrB,gBAAgB;AAChB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gDAAgD,SAAS;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wCAAwC,aAAa;AACrD;AACA,GAAG;AACH,CAAC;;;AAGD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,6CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;;AAEA;AACA;AACA,2CAA2C,uCAAuC;AAClF;;AAEA;AACA,sCAAsC,cAAc;;AAEpD;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,aAAa,OAAO;AACpB,cAAc,aAAa;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,cAAc,kBAAkB;AAChC;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mDAAmD,UAAU;AAC7D;;AAEA,+CAA+C,UAAU;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yCAAyC,uCAAuC;AAChF;;AAEA;AACA,sCAAsC,cAAc;;AAEpD;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;;AAEA;AACA,uBAAuB,EAAE;;AAEzB,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uDAAuD,SAAS;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;;AAEA,mBAAmB,kBAAkB;;AAErC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,WAAW,+BAA+B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,qBAAqB,QAAQ;AAC5C,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA,6BAA6B,EAAE;;AAE/B;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA,sDAAsD,YAAY;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,cAAc;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,cAAc;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,QAAQ;AACxB;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oCAAoC;AACxE;AACA;AACA,mCAAmC,uBAAuB;AAC1D;AACA;AACA;AACA;AACA;AACA,gCAAgC,oCAAoC;AACpE;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,QAAQ;AACvB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA,mBAAmB;AACnB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,MAAM;AACrB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,oCAAoC,uBAAuB;AAC3D,+BAA+B,OAAO;AACtC;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA,+CAA+C,cAAc;AAC7D;AACA,wCAAwC,cAAc;AACtD;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA,6CAA6C,6BAA6B;AAC1E;AACA,sCAAsC,OAAO;AAC7C,uDAAuD,OAAO;AAC9D;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,MAAM;AACrB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,sCAAsC,sBAAsB;AAC5D,gCAAgC,OAAO;AACvC;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA,6CAA6C,kBAAkB;AAC/D;AACA,sCAAsC,OAAO;AAC7C;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,4CAA4C;AAC3F;AACA;AACA;AACA,wCAAwC,6BAA6B;AACrE;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,iDAAiD,SAAS;AAC1D;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,oBAAoB;AAC1C;AACA;AACA;AACA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA,8BAA8B,uBAAuB;AACrD;AACA,yCAAyC,OAAO;AAChD,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sCAAsC,iBAAiB;AACvD;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,wCAAwC,uBAAuB;AAC/D,8BAA8B,OAAO;AACrC,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH,CAAC;;;AAGD;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,cAAc;AAC7B,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,cAAc;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,4BAA4B;AAClE;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,wCAAwC,sBAAsB;AAC9D;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,wCAAwC,gBAAgB;AACxD;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,KAAK;AAC7C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH,CAAC;;;AAGD;;AAEA;;AAEA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,6BAA6B,EAAE;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4BAA4B,2CAA2C;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,uCAAuC;AACjE;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;;AAEH,CAAC;;;AAGD;;AAEA;AACA;AACA,6CAA6C;AAC7C;AACA,aAAa,cAAc;AAC3B,aAAa,SAAS;AACtB,iEAAiE,mBAAmB;AACpF;AACA,aAAa,SAAS;AACtB,cAAc,cAAc;AAC5B;AACA,gBAAgB;AAChB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,6CAA6C;AAC7C,aAAa,cAAc;AAC3B,aAAa,SAAS;AACtB,iEAAiE,mBAAmB;AACpF;AACA,aAAa,SAAS;AACtB,cAAc,cAAc;AAC5B;AACA,gBAAgB;AAChB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB,aAAa,gBAAgB;AAC7B,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB,WAAW,+BAA+B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA,gBAAgB,MAAM;AACtB;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B,oCAAoC;AAC/D;AACA;AACA,gBAAgB,QAAQ;AACxB;;AAEA;AACA,sBAAsB,oCAAoC;AAC1D;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B,kCAAkC;AAC7D;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA,sBAAsB,kCAAkC;AACxD;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B,kCAAkC;AAC7D;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA,sBAAsB,kCAAkC;AACxD;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA,gBAAgB,QAAQ;AACxB;;AAEA;AACA,sBAAsB,gCAAgC;AACtD;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA,gBAAgB,QAAQ;AACxB;;AAEA;AACA,sBAAsB,gCAAgC;AACtD;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4HAA4H;AAC5H;AACA;AACA;AACA;;AAEA;AACA,8HAA8H;AAC9H;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,yBAAyB,iCAAiC;AAC1D;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,gBAAgB;AAC/B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,gBAAgB,cAAc;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,iCAAiC;AAC3D;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,MAAM;AACrB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,gBAAgB,OAAO;AACvB;AACA;AACA,6BAA6B,EAAE;;AAE/B;AACA;;AAEA;AACA;AACA;AACA,gDAAgD,mDAAmD;AACnG;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO,8CAA8C;AACpE,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,6BAA6B,EAAE;;AAE/B,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,0BAA0B;AACzC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,QAAQ;AACR;AACA;AACA;AACA,KAAK;;AAEL;AACA,aAAa,kCAAkC;AAC/C,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,kEAAkE;AAClE,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,QAAQ;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,MAAM;;AAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;AAGD;;AAEA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,QAAQ;AACrB,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,QAAQ;AACrB,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA;AACA;;AAEA;AACA;AACA,yCAAyC;AACzC,iDAAiD;AACjD,6CAA6C;AAC7C,+CAA+C;AAC/C,mDAAmD;AACnD;AACA,mCAAmC;AACnC,gCAAgC;AAChC;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA,uEAAuE;AACvE,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,EAAE;AACpB;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,QAAQ,6CAA6C,8BAA8B;AACnG;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,GAAG;AACH,CAAC;;;AAGD;;AAEA;AACA;AACA,0BAA0B,kDAAkD;AAC5E;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA,cAAc;AACd,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA,6BAA6B,EAAE;;AAE/B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,cAAc,cAAc;AAC5B;AACA;AACA;AACA,8BAA8B;;AAE9B,4BAA4B,EAAE;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,cAAc,cAAc;AAC5B;AACA;AACA;AACA,8BAA8B;;AAE9B,4BAA4B,EAAE;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,cAAc,cAAc;AAC5B;AACA;AACA;AACA,8BAA8B;;AAE9B,4BAA4B,EAAE;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,cAAc;AAC3B,cAAc,cAAc;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C,qBAAqB,sBAAsB,GAAG,gBAAgB;AAC9D;AACA;AACA;AACA;AACA,6BAA6B,gBAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,SAAS;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;AACpD;AACA,oBAAoB,6BAA6B;AACjD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,6BAA6B;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,6BAA6B,EAAE;;AAE/B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,+EAA+E,8BAA8B;AAC7G;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,WAAW;AACxB,aAAa,OAAO;AACpB,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;AACpD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,+BAA+B;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,gBAAgB,cAAc;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,+EAA+E,gCAAgC;AAC/G;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,oBAAoB;AAClC;AACA;AACA,aAAa,WAAW;AACxB,aAAa,OAAO;AACpB,cAAc,MAAM;AACpB,cAAc,cAAc;AAC5B;AACA;AACA,2BAA2B,EAAE;;AAE7B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,oBAAoB;AAClC;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;;AAEpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,gBAAgB;AAC9B,WAAW,iCAAiC;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;AACpD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B,WAAW,gCAAgC;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,+EAA+E,iCAAiC;AAChH;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,qBAAqB;AACnC;AACA;AACA,aAAa,WAAW;AACxB,aAAa,OAAO;AACpB,cAAc;AACd;AACA;AACA,2BAA2B,EAAE;;AAE7B;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,qBAAqB;AACnC;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;AACpD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,YAAY;AAC1B,WAAW,6BAA6B;AACxC;AACA;;AAEA;AACA,uFAAuF,oCAAoC;AAC3H;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,kBAAkB;AAChC;AACA;AACA,aAAa,WAAW;AACxB,aAAa,OAAO;AACpB,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;;AAEA;AACA;AACA,sFAAsF,EAAE;AACxF;AACA;AACA;AACA;;AAEA;AACA,cAAc,kBAAkB;AAChC;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;;AAEpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,iCAAiC;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,gBAAgB;AAChC;AACA;AACA,YAAY,eAAe;AAC3B,YAAY,eAAe;AAC3B,YAAY,eAAe;AAC3B,YAAY,eAAe;AAC3B,YAAY,iBAAiB;AAC7B,YAAY;AACZ;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;;AAEA;AACA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,+EAA+E,kCAAkC;AACjH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,WAAW;AACxB,aAAa,OAAO;AACpB,cAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;;AAE7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,gCAAgC;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,qBAAqB;AACnC;AACA;AACA,aAAa,WAAW;AACxB,aAAa,OAAO;AACpB,cAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,EAAE;;AAE7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,WAAW,6BAA6B;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,gBAAgB,YAAY;AAC5B;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,iCAAiC;AAC1D;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,6CAA6C,SAAS;;AAEtD;;AAEA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,aAAa,qDAAqD;AAClE,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,4CAA4C,sBAAsB;AAClE,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA,6CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2DAA2D,SAAS;AACpE;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,6CAA6C,UAAU;AACvD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qDAAqD,UAAU;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAA6C,SAAS;;AAEtD;;AAEA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,WAAW;AACxB,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;AACpD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,WAAW,kCAAkC;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,iBAAiB;AACjC;AACA;;AAEA,4BAA4B;AAC5B;;AAEA,qCAAqC,KAAK;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,iCAAiC;AAC1D;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,KAAK;AAC1C;AACA;AACA;AACA;AACA,WAAW,4BAA4B;AACvC,WAAW,oCAAoC;AAC/C,WAAW,qCAAqC;AAChD,WAAW;AACX;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,gBAAgB,iBAAiB;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,SAAS;AACpD;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,aAAa,iDAAiD;AAC9D,KAAK;;AAEL;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,WAAW,8BAA8B;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,gBAAgB,OAAO;AACvB;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC,KAAK;AAC7C;AACA;;AAEA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA,wCAAwC,KAAK;AAC7C;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA,iCAAiC;AACjC,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,sCAAsC;AACtC,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA,iDAAiD,SAAS;AAC1D;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,SAAS;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,iDAAiD,SAAS;AAC1D;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,UAAU;AACvB;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iDAAiD,SAAS;AAC1D;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,SAAS;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,cAAc,mBAAmB;AACjC;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA;;AAEA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,WAAW,8BAA8B;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAuC,oCAAoC;AAC3E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,0BAA0B;AACzC,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,gBAAgB,aAAa;AAC7B;AACA;AACA,6BAA6B,EAAE;AAC/B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA,+BAA+B,+BAA+B;AAC9D,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,MAAM;AACrB,eAAe,aAAa;AAC5B,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,6BAA6B,EAAE;AAC/B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,+EAA+E,+BAA+B;AAC9G;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA,cAAc,mBAAmB;AACjC;AACA,aAAa,WAAW;AACxB,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB,cAAc,aAAa;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6DAA6D,EAAE;AAC/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,cAAc,yCAAyC;AACvD,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,cAAc,cAAc;AAC5B;AACA;AACA;AACA,8BAA8B;;AAE9B,4BAA4B,EAAE;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,cAAc,+CAA+C;AAC7D,aAAa,cAAc;AAC3B,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,cAAc;AACd,SAAS;AACT;AACA,gDAAgD;;AAEhD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA,YAAY;AACZ,GAAG;;AAEH;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,iDAAiD;AAC5D,WAAW;AACX;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA,4BAA4B;AAC5B;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,gCAAgC;AAC9C;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,gDAAgD;AAC3D,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,MAAM;AACrB;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,QAAQ;AAC7B,uBAAuB,QAAQ;AAC/B;AACA;AACA;AACA,gBAAgB,OAAO,OAAO;;AAE9B,0BAA0B,WAAW;AACrC,4BAA4B,WAAW;AACvC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,+BAA+B;AAC7C;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,2DAA2D;AACtE,WAAW;AACX;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA,4BAA4B;AAC5B;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,0CAA0C;AACxD;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,cAAc,+BAA+B;AAC7C;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,cAAc,4BAA4B;AAC1C;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,2CAA2C;AACtD;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,UAAU;AAC3B;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,4CAA4C;AACvD,WAAW;AACX;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA,4BAA4B;AAC5B;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,SAAS;;AAEjD;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,2BAA2B;AACzC;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,+CAA+C;AAC1D,WAAW;AACX;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA,4BAA4B;AAC5B;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,UAAU;AAC3B,mBAAmB,UAAU;;AAE7B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sDAAsD,YAAY;AAClE,wDAAwD,YAAY;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,8BAA8B;AAC5C;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,kDAAkD;AAC7D,WAAW;AACX;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,iCAAiC;AAC/C;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,cAAc,2BAA2B;AACzC;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,UAAU;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,cAAc,4BAA4B;AAC1C;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,2CAA2C;AACtD,WAAW;AACX;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,iBAAiB,UAAU;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,0BAA0B;AACxC;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA,4BAA4B;;AAE5B;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,8BAA8B;AAC5C;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wCAAwC,SAAS;;AAEjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA,gBAAgB,SAAS,WAAW,UAAU;AAC9C,uCAAuC,0BAA0B;AACjE;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,6CAA6C,0BAA0B;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE,YAAY,EAAE,aAAa;;AAEpD;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,UAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B,uBAAuB,QAAQ;AAC/B;AACA;AACA,0CAA0C,uBAAuB;AACjE;AACA;AACA,4CAA4C,uBAAuB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,cAAc,4BAA4B;AAC1C;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,kDAAkD;AAC7D,WAAW;AACX,WAAW;AACX,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,UAAU;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,iCAAiC;AAC/C;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,+CAA+C;AAC1D,WAAW;AACX;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA,4BAA4B;AAC5B;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,8BAA8B;AAC5C;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,+CAA+C;AAC1D,WAAW;AACX;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA,4BAA4B;AAC5B;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,8BAA8B;AAC5C;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA,kDAAkD,EAAE;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,YAAY;AAC1B,gBAAgB;AAChB,WAAW,6BAA6B;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAuC,oCAAoC;AAC3E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,YAAY;AAC5B;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,uBAAuB,0CAA0C;AACjE,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,aAAa,uEAAuE;AACpF,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA,mDAAmD,SAAS;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,SAAS;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB;AACA;;AAEA;;AAEA,mDAAmD,SAAS;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mDAAmD,SAAS;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,0CAA0C;AAClE;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kDAAkD,SAAS;;AAE3D;AACA;AACA;;AAEA,4CAA4C,UAAU;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mDAAmD,SAAS;AAC5D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,qCAAqC,SAAS;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,+EAA+E,8BAA8B;AAC7G;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,WAAW;AACxB,aAAa,OAAO;AACpB,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA,wFAAwF,EAAE;;AAE1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,aAAa;AAC3B,WAAW,8BAA8B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA,kDAAkD,EAAE,KAAK;AACzD;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,eAAe;AAChF,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;;AAEA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,uBAAuB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;;AAEA;AACA,kEAAkE;AAClE;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,yBAAyB;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;;AAEA;AACA,4CAA4C,SAAS;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,YAAY;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8DAA8D,UAAU;AACxE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,SAAS;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,SAAS;AAC5D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,2CAA2C,UAAU;AACrD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;;AAEA,6BAA6B,yBAAyB;AACtD;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA,mDAAmD,SAAS;AAC5D;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc,aAAa;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA,gDAAgD,SAAS;AACzD;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,uEAAuE;;AAEvE;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gDAAgD,eAAe;AAC/D;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,cAAc;AACd,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iDAAiD,eAAe;AAChE,8DAA8D,eAAe;AAC7E;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,eAAe;AACtE;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,+BAA+B;AAC/B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wCAAwC;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;AAGD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0BAA0B;;AAE1B;AACA,GAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iDAAiD,SAAS;AAC1D;AACA;;AAEA;AACA;;AAEA;;AAEA,yCAAyC,UAAU;;AAEnD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,wBAAwB,0BAA0B;AAC9G,uDAAuD,YAAY,aAAa,eAAe;AAC/F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;;AAEA,kDAAkD,SAAS;AAC3D;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAA6C,UAAU;;AAEvD;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,qDAAqD,eAAe;AACpE,GAAG;;AAEH;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD,oEAAoE;;AAEpE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;;;AAGA;;AAEA;;AAEA,mDAAmD;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B,WAAW,gCAAgC;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;AACjC;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,eAAe;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;;AAElB;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,EAAE;AACzC;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,8BAA8B;AACnD;AACA;;AAEA,iBAAiB,8BAA8B;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,KAAK;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,4BAA4B;AAC/C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;AAGD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB;;AAEtB;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,qBAAqB,QAAQ;AAC5C,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;;AAEA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA,qBAAqB,oBAAoB;AACzC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,MAAM;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,kDAAkD,YAAY;AAC9D;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6BAA6B,QAAQ;;AAErC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6BAA6B,0BAA0B;;AAEvD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,KAAK;AACL;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,WAAW;AACxC;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mDAAmD;AACpE;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,sCAAsC,cAAc;AACpD,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,mBAAmB;AAChC,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,sCAAsC,kBAAkB;AACxD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,OAAO;AAClB,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,6CAA6C;;AAE7C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;;AAEA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH,CAAC;AACD;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB;;;AAGA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;;;AAIA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,iBAAiB;AACjB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B,gBAAgB,cAAc;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B,gBAAgB,cAAc;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B,gBAAgB,cAAc;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,cAAc;AAC5B,cAAc,SAAS;AACvB,cAAc,cAAc;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA,8BAA8B,YAAY;AAC1C;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA,aAAa,oCAAoC;AACjD;AACA,aAAa,oCAAoC;AACjD;AACA,aAAa,oCAAoC;AACjD;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,uBAAuB;AAC7B;AACA;AACA;AACA;AACA,MAAM,4BAA4B,MAAM;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,cAAc,EAAE;AAC5C;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA,6BAA6B;;AAE7B;;AAEA;;;AAGA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC,oFAAoF;AACpF,6CAA6C;AAC7C,QAAQ;;AAER;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,6DAA6D,eAAe;;AAE5E;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,qBAAqB,qCAAqC;AAC1D;AACA;AACA;AACA;AACA,qBAAqB,iCAAiC;AACtD;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mCAAmC;;AAEnC;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,4CAA4C;AAC5C;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,MAAM,KAAK;AACX;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8DAA8D,qCAAqC,cAAc;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;;AAEA;AACA,uBAAuB;AACvB;;AAEA;;AAEA;;AAEA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,4CAA4C,cAAc;AAC1D;AACA;AACA,YAAY;AACZ;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;;AAGL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,CAAC;AACD;AACA;;AAEA,qDAAqD;AACrD;;;AAGA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,UAAU;;AAEtC;AACA,2BAA2B,4BAA4B;AACvD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uBAAuB,6BAA6B;AACpD;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA,kBAAkB;AAClB;AACA,SAAS;AACT;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,sBAAsB;AACtC;AACA;AACA;AACA;AACA;;;AAGA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,+DAA+D;AAC/D;;AAEA;AACA;AACA,4DAA4D;AAC5D,0CAA0C;AAC1C;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA,CAAC;AACD;;AAEA;;AAEA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,OAAO;AAC1B,oBAAoB;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,sBAAsB;AACtC;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;AACD;;AAEA;;AAEA,mDAAmD;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,eAAe;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gDAAgD,SAAS;AACzD;AACA;AACA;;AAEA;;AAEA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;;AAEA,0BAA0B,2BAA2B;AACrD;AACA;;AAEA;AACA;AACA,KAAK;;;AAGL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,qBAAqB,wBAAwB;AAC7C;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,eAAe;AAC7B;AACA;AACA;AACA;;AAEA,CAAC;AACD;;AAEA;;AAEA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,OAAO;AAC3B,oBAAoB,OAAO;AAC3B,oBAAoB,QAAQ;AAC5B,oBAAoB,cAAc;AAClC;AACA;AACA;;AAEA,qEAAqE,eAAe;;AAEpF;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA,OAAO;;;AAGP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;;;AAGT;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA,oBAAoB,aAAa;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;;AAGT;AACA;AACA;AACA;AACA,oBAAoB,aAAa;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,kBAAkB,cAAc;AAChC,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA,oBAAoB,UAAU;AAC9B;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;;AAEA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA,CAAC;;AAED;;AAEA;;AAEA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;AACD;;AAEA;;AAEA,mDAAmD;AACnD;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;;AAEA,mBAAmB;AACnB,QAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,8BAA8B,2BAA2B;AACzD;AACA,4BAA4B,2BAA2B;AACvD,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,qCAAqC;;AAE1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA,qBAAqB,8BAA8B;AACnD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,2BAA2B;AAC9C;AACA,qBAAqB,8BAA8B;AACnD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,2BAA2B;AAC9C;AACA,qBAAqB,8BAA8B;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;;AAEA;;AAEA,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;AACD;;AAEA;;AAEA,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA,qDAAqD;AACrD;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA,SAAS;;;AAGT;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA,CAAC;;AAED;AACA;;AAEA,qDAAqD;;AAErD;;AAEA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,oBAAoB,YAAY;AAChC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;;AAEL,CAAC;;AAED;;AAEA;;AAEA,qDAAqD;AACrD;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC,4BAA4B,eAAe;;AAEnF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;;AAGA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,gBAAgB,OAAO,SAAS;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB;AAChB;;AAEA;;AAEA,CAAC;;AAED;;AAEA;;AAEA,mDAAmD;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA,+CAA+C,SAAS;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gDAAgD,SAAS;AACzD;AACA;AACA;;AAEA;;AAEA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;;AAEA,0BAA0B,2BAA2B;AACrD;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,eAAe;AAC7B;AACA;AACA;AACA;;AAEA,CAAC;AACD;;AAEA;;AAEA,mDAAmD;AACnD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA,0BAA0B,cAAc;AACxC;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B,4BAA4B;AACtD,gCAAgC;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;;AAEA;;AAEA,mDAAmD;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,SAAS,sCAAsC;AAC/C,SAAS,iCAAiC;AAC1C,SAAS,4BAA4B;AACrC,SAAS;AACT;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;;AAEA;;AAEA,mDAAmD;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,SAAS,iCAAiC;AAC1C,SAAS,yBAAyB;AAClC,SAAS;AACT;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;;AAEA;AACA;AACA,aAAa,kCAAkC;AAC/C;AACA,cAAc,kCAAkC;AAChD;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,QAAQ;AACtB,cAAc,SAAS;AACvB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;;AAEA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,kCAAkC;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA,kCAAkC,4BAA4B,eAAe;AAC7E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;;;AAGA;AACA;AACA,WAAW,2BAA2B;AACtC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,2BAA2B;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,2BAA2B;AACtC,aAAa;AACb;AACA;AACA;AACA,qCAAqC;AACrC,gCAAgC;;AAEhC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC;AACxC,yCAAyC;AACzC,gCAAgC;AAChC;AACA;;AAEA;AACA;AACA;AACA,WAAW,2BAA2B;AACtC,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,qCAAqC;AACrC;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAA6C;AAC7C,qCAAqC;AACrC;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA,YAAY;AACZ;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,kCAAkC;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,wDAAwD;AACxD;AACA;AACA,UAAU;AACV;AACA,yDAAyD;AACzD;AACA;AACA,UAAU;AACV;AACA,qDAAqD;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,6BAA6B;AAC9C;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,kCAAkC;AACrD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA,yCAAyC,YAAY;AACrD;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA,GAAG;;AAEH;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA,GAAG;;AAEH;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA,GAAG;;AAEH;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA,GAAG;;AAEH;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA,GAAG;;AAEH;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA,gCAAgC;AAChC;;AAEA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,gBAAgB;AAChC,gBAAgB,qCAAqC;AACrD,gBAAgB,6BAA6B;AAC7C,gBAAgB,6BAA6B;AAC7C;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,+BAA+B;AAC5C,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,gBAAgB,MAAM;AACtB;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,wCAAwC;AACrD,eAAe;AACf;AACA;AACA;AACA;AACA,oCAAoC,4BAA4B,0BAA0B,eAAe;AACzG,4CAA4C;AAC5C,uDAAuD;AACvD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,EAAE;AACf;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,EAAE;AACf,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;AACD,CAAC;AACD;;AAEA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,6BAA6B;AAC7C,gBAAgB,OAAO;AACvB,gBAAgB,qCAAqC;AACrD,gBAAgB,4CAA4C;AAC5D,gBAAgB,yCAAyC;AACzD,gBAAgB,yCAAyC;AACzD;;AAEA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,4CAA4C;AACzD,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB;AACA,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;;;AAGA;AACA;AACA,aAAa,gCAAgC;AAC7C,eAAe;AACf;AACA;AACA;AACA;AACA,oCAAoC,4BAA4B,0BAA0B,eAAe;AACzG,4CAA4C;AAC5C,uDAAuD;AACvD;AACA;;;AAGA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;AACD,CAAC;AACD;;AAEA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,eAAe;AAC/B,gBAAgB,6BAA6B;AAC7C,gBAAgB,iCAAiC;AACjD,gBAAgB,+BAA+B;AAC/C;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,8BAA8B;AAC3C,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,aAAa,4DAA4D;AACzE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,4BAA4B,kCAAkC;AAClG,4CAA4C;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,4CAA4C;AACzD,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,6BAA6B;AAC1E;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iCAAiC;AACjC,mCAAmC;AACnC,sCAAsC;AACtC,wCAAwC;AACxC,oCAAoC;AACpC,oCAAoC;AACpC,sCAAsC,gBAAgB,cAAc;AACpE,0CAA0C;AAC1C,6CAA6C;;;AAG7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,wCAAwC;AACxC,qCAAqC;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;;AAGD;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY,OAAO;AACnB;;AAEA;AACA,YAAY,cAAc;AAC1B;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,aAAa;AAC3B,cAAc,cAAc;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,cAAc,aAAa;AAC3B,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,gBAAgB,MAAM;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,cAAc;AAC9B,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;;AAEA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;;AAGA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,cAAc;AAC3B,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA,4CAA4C,4BAA4B,kCAAkC;AAC1G;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,EAAE;AAChB;AACA;;AAEA;;AAEA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,EAAE;AACf,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,cAAc,EAAE;AAChB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,cAAc;AAC5B,cAAc,SAAS;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAc,cAAc;AAC5B,cAAc,OAAO;AACrB,cAAc,SAAS;AACvB;AACA;AACA;;;AAGA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,uCAAuC,6BAA6B;AACpE,0CAA0C,gCAAgC;AAC1E;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,MAAM;AACpB;AACA;;AAEA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,EAAE;AACf,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,cAAc;AACd;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D,qDAAqD;AACrD,oDAAoD;AACpD,iDAAiD;AACjD;AACA;;;AAGA;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;;;AAIA,CAAC;AACD;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,oBAAoB,sBAAsB;AAC1C;AACA,eAAe,OAAO;AACtB;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,KAAK;AACpB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,eAAe,KAAK;AACpB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;;;AAGA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;;;AAGA,wCAAwC;;AAExC;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;;AAGA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,cAAc,aAAa;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA,kDAAkD;AAClD,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,qBAAqB;AACrC;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,aAAa,qDAAqD;AAClE,KAAK;;AAEL;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,WAAW;AACX;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO;AACpB,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO;AACpB,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO;AACpB,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO;AACpB;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,aAAa;AAC3B,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,sEAAsE;AACtE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;;AAEA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,qCAAqC;;AAEzE;AACA;AACA;;AAEA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,SAAS;AACtB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,mCAAmC,mBAAmB;AACtD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;;AAGA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,gCAAgC,gCAAgC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,aAAa,kBAAkB;AAC/B,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;;AAE/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,MAAM;AACnB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO;AACpB,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO;AACpB,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,wCAAwC;AACxC,qCAAqC;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,cAAc,MAAM;AACpB,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,WAAW;AACzB,cAAc,QAAQ;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,CAAC;AACD;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO;AACpB,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA,kCAAkC;;AAElC;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C;AAC3C;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,YAAY;;AAEZ,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,kCAAkC;AAClC;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,4BAA4B,eAAe;AAC/E;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,OAAO,mBAAmB;AACxC;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;AACA,cAAc,cAAc;AAC5B,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO,gCAAgC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA,CAAC;AACD;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO,uBAAuB;AAC3C,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;AAIA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,qCAAqC;AAClD,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,gBAAgB,OAAO;AACvB;AACA,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;;AAGA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF;AAClF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD,CAAC;AACD;;AAEA,mDAAmD;;AAEnD;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA,8C;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;;AAEA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA,4CAA4C;AAC5C;AACA,aAAa,gBAAgB;AAC7B;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,4BAA4B,eAAe;;AAEjF;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,SAAS;AACtB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,0BAA0B;;AAE7C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;;AAEA,CAAC;;AAED;AACA;;AAEA;AACA,4CAA4C;AAC5C;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA,sCAAsC,4BAA4B,eAAe;;AAEjF;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,SAAS;AACtB,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kCAAkC,wBAAwB;AAC1D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB;AACzB,+FAA+F;;AAE/F;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAc,YAAY;AAC1B,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB;AACzB,+FAA+F;;AAE/F;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAc,YAAY;AAC1B,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,oBAAoB,sBAAsB;AAC1C;AACA,eAAe,OAAO;AACtB;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,eAAe,KAAK;AACpB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,oCAAoC;AACxD;;AAEA;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB;AACzB,+FAA+F;;AAE/F;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAc,YAAY;AAC1B,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,kBAAkB,sBAAsB;AACxC;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,uBAAuB;AACpC;AACA;AACA,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAc,aAAa;AAC3B,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,aAAa;AAC3B,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,aAAa;AAC3B,cAAc,cAAc;AAC5B;AACA;AACA;AACA,mFAAmF;;AAEnF;AACA;AACA;AACA,SAAS;AACT,gDAAgD;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qD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","file":"scripts.js","sourcesContent":["/*! jQuery v3.4.1 | (c) JS Foundation and other contributors | jquery.org/license */\r\n!function(e,t){\"use strict\";\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error(\"jQuery requires a window with a document\");return t(e)}:t(e)}(\"undefined\"!=typeof window?window:this,function(C,e){\"use strict\";var t=[],E=C.document,r=Object.getPrototypeOf,s=t.slice,g=t.concat,u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return\"function\"==typeof e&&\"number\"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement(\"script\");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+\"\":\"object\"==typeof e||\"function\"==typeof e?n[o.call(e)]||\"object\":typeof e}var f=\"3.4.1\",k=function(e,t){return new k.fn.init(e,t)},p=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;function d(e){var t=!!e&&\"length\"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&(\"array\"===n||0===t||\"number\"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:f,constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for(\"boolean\"==typeof a&&(l=a,a=arguments[s]||{},s++),\"object\"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],\"__proto__\"!==t&&a!==r&&(l&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,a[t]=k.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:\"jQuery\"+(f+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||\"[object Object]\"!==o.call(e))&&(!(t=r(e))||\"function\"==typeof(n=v.call(t,\"constructor\")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){b(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(d(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?\"\":(e+\"\").replace(p,\"\")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?k.merge(n,\"string\"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(d(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g.apply([],a)},guid:1,support:y}),\"function\"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(e,t){n[\"[object \"+t+\"]\"]=t.toLowerCase()});var h=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,k=\"sizzle\"+1*new Date,m=n.document,S=0,r=0,p=ue(),x=ue(),N=ue(),A=ue(),D=function(e,t){return e===t&&(l=!0),0},j={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",M=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",I=\"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",W=\"\\\\[\"+M+\"*(\"+I+\")(?:\"+M+\"*([*^$|!~]?=)\"+M+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+I+\"))|)\"+M+\"*\\\\]\",$=\":(\"+I+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+W+\")*)|.*)\\\\)|)\",F=new RegExp(M+\"+\",\"g\"),B=new RegExp(\"^\"+M+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+M+\"+$\",\"g\"),_=new RegExp(\"^\"+M+\"*,\"+M+\"*\"),z=new RegExp(\"^\"+M+\"*([>+~]|\"+M+\")\"+M+\"*\"),U=new RegExp(M+\"|>\"),X=new RegExp($),V=new RegExp(\"^\"+I+\"$\"),G={ID:new RegExp(\"^#(\"+I+\")\"),CLASS:new RegExp(\"^\\\\.(\"+I+\")\"),TAG:new RegExp(\"^(\"+I+\"|[*])\"),ATTR:new RegExp(\"^\"+W),PSEUDO:new RegExp(\"^\"+$),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+M+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+M+\"*(?:([+-]|)\"+M+\"*(\\\\d+)|))\"+M+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+R+\")$\",\"i\"),needsContext:new RegExp(\"^\"+M+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+M+\"*((?:-\\\\d)?\\\\d*)\"+M+\"*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\\d$/i,K=/^[^{]+\\{\\s*\\[native \\w/,Z=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ee=/[+~]/,te=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+M+\"?|(\"+M+\")|.)\",\"ig\"),ne=function(e,t,n){var r=\"0x\"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,ie=function(e,t){return t?\"\\0\"===e?\"\\ufffd\":e.slice(0,-1)+\"\\\\\"+e.charCodeAt(e.length-1).toString(16)+\" \":\"\\\\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&\"fieldset\"===e.nodeName.toLowerCase()},{dir:\"parentNode\",next:\"legend\"});try{H.apply(t=O.call(m.childNodes),m.childNodes),t[m.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],\"string\"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:m)!==C&&T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!A[t+\" \"]&&(!v||!v.test(t))&&(1!==p||\"object\"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&U.test(t)){(s=e.getAttribute(\"id\"))?s=s.replace(re,ie):e.setAttribute(\"id\",s=k),o=(l=h(t)).length;while(o--)l[o]=\"#\"+s+\" \"+xe(l[o]);c=l.join(\",\"),f=ee.test(t)&&ye(e.parentNode)||e}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){A(t,!0)}finally{s===k&&e.removeAttribute(\"id\")}}}return g(t.replace(B,\"$1\"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+\" \")>b.cacheLength&&delete e[r.shift()],e[t+\" \"]=n}}function le(e){return e[k]=!0,e}function ce(e){var t=C.createElement(\"fieldset\");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split(\"|\"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return(\"input\"===t||\"button\"===t)&&e.type===n}}function ge(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&\"undefined\"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||\"HTML\")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:m;return r!==C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),m!==C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener(\"unload\",oe,!1):n.attachEvent&&n.attachEvent(\"onunload\",oe)),d.attributes=ce(function(e){return e.className=\"i\",!e.getAttribute(\"className\")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment(\"\")),!e.getElementsByTagName(\"*\").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=k,!C.getElementsByName||!C.getElementsByName(k).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute(\"id\")===t}},b.find.ID=function(e,t){if(\"undefined\"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t=\"undefined\"!=typeof e.getAttributeNode&&e.getAttributeNode(\"id\");return t&&t.value===n}},b.find.ID=function(e,t){if(\"undefined\"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return\"undefined\"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if(\"*\"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if(\"undefined\"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){a.appendChild(e).innerHTML=\"<a id='\"+k+\"'></a><select id='\"+k+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",e.querySelectorAll(\"[msallowcapture^='']\").length&&v.push(\"[*^$]=\"+M+\"*(?:''|\\\"\\\")\"),e.querySelectorAll(\"[selected]\").length||v.push(\"\\\\[\"+M+\"*(?:value|\"+R+\")\"),e.querySelectorAll(\"[id~=\"+k+\"-]\").length||v.push(\"~=\"),e.querySelectorAll(\":checked\").length||v.push(\":checked\"),e.querySelectorAll(\"a#\"+k+\"+*\").length||v.push(\".#.+[+~]\")}),ce(function(e){e.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var t=C.createElement(\"input\");t.setAttribute(\"type\",\"hidden\"),e.appendChild(t).setAttribute(\"name\",\"D\"),e.querySelectorAll(\"[name=d]\").length&&v.push(\"name\"+M+\"*[*^$|!~]?=\"),2!==e.querySelectorAll(\":enabled\").length&&v.push(\":enabled\",\":disabled\"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(\":disabled\").length&&v.push(\":enabled\",\":disabled\"),e.querySelectorAll(\"*,:x\"),v.push(\",.*:\")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,\"*\"),c.call(e,\"[s!='']:x\"),s.push(\"!=\",$)}),v=v.length&&new RegExp(v.join(\"|\")),s=s.length&&new RegExp(s.join(\"|\")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===m&&y(m,e)?-1:t===C||t.ownerDocument===m&&y(m,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===C?-1:t===C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]===m?-1:s[r]===m?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&T(e),d.matchesSelector&&E&&!A[t+\" \"]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){A(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!==C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&j.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+\"\").replace(re,ie)},se.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(D),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n=\"\",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||\"\").replace(te,ne),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\"nth\"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\"even\"===e[3]||\"odd\"===e[3])),e[5]=+(e[7]+e[8]||\"odd\"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(\")\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=p[e+\" \"];return t||(t=new RegExp(\"(^|\"+M+\")\"+e+\"(\"+M+\"|$)\"))&&p(e,function(e){return t.test(\"string\"==typeof e.className&&e.className||\"undefined\"!=typeof e.getAttribute&&e.getAttribute(\"class\")||\"\")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?\"!=\"===r:!r||(t+=\"\",\"=\"===r?t===i:\"!=\"===r?t!==i:\"^=\"===r?i&&0===t.indexOf(i):\"*=\"===r?i&&-1<t.indexOf(i):\"$=\"===r?i&&t.slice(-i.length)===i:\"~=\"===r?-1<(\" \"+t.replace(F,\" \")+\" \").indexOf(i):\"|=\"===r&&(t===i||t.slice(0,i.length+1)===i+\"-\"))}},CHILD:function(h,e,t,g,v){var y=\"nth\"!==h.slice(0,3),m=\"last\"!==h.slice(-4),x=\"of-type\"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?\"nextSibling\":\"previousSibling\",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l=\"only\"===h&&!u&&\"nextSibling\"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[S,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[S,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error(\"unsupported pseudo: \"+e);return a[k]?a(o):1<a.length?(t=[e,e,\"\",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace(B,\"$1\"));return s[k]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||\"\")||se.error(\"unsupported lang: \"+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(t=t.toLowerCase())===n||0===t.indexOf(n+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r=\"\";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&\"parentNode\"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[S,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===S&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[k]&&(v=Ce(v)),y&&!y[k]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||\"*\",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[\" \"],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:\" \"===e[s-2].type?\"*\":\"\"})).replace(B,\"$1\"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+\" \"];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B,\" \")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=N[e+\" \"];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[k]?i.push(a):o.push(a);(a=N(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l=\"0\",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG(\"*\",i),h=S+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t===C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument===C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(S=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(S=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l=\"function\"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&\"ID\"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=k.split(\"\").sort(D).join(\"\")===k,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement(\"fieldset\"))}),ce(function(e){return e.innerHTML=\"<a href='#'></a>\",\"#\"===e.firstChild.getAttribute(\"href\")})||fe(\"type|href|height|width\",function(e,t,n){if(!n)return e.getAttribute(t,\"type\"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML=\"<input/>\",e.firstChild.setAttribute(\"value\",\"\"),\"\"===e.firstChild.getAttribute(\"value\")})||fe(\"value\",function(e,t,n){if(!n&&\"input\"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute(\"disabled\")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);k.find=h,k.expr=h.selectors,k.expr[\":\"]=k.expr.pseudos,k.uniqueSort=k.unique=h.uniqueSort,k.text=h.getText,k.isXMLDoc=h.isXML,k.contains=h.contains,k.escapeSelector=h.escape;var T=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=k.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function j(e,n,r){return m(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):\"string\"!=typeof n?k.grep(e,function(e){return-1<i.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=\":not(\"+e+\")\"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if(\"string\"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,\"string\"==typeof e&&N.test(e)?k(e):e||[],!1).length}});var q,L=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||q,\"string\"==typeof e){if(!(r=\"<\"===e[0]&&\">\"===e[e.length-1]&&3<=e.length?[null,e,null]:L.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),D.test(r[1])&&k.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,q=k(E);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a=\"string\"!=typeof e&&k(e);if(!N.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?k.uniqueSort(o):o)},index:function(e){return e?\"string\"==typeof e?i.call(k(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,\"parentNode\")},parentsUntil:function(e,t,n){return T(e,\"parentNode\",n)},next:function(e){return P(e,\"nextSibling\")},prev:function(e){return P(e,\"previousSibling\")},nextAll:function(e){return T(e,\"nextSibling\")},prevAll:function(e){return T(e,\"previousSibling\")},nextUntil:function(e,t,n){return T(e,\"nextSibling\",n)},prevUntil:function(e,t,n){return T(e,\"previousSibling\",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return\"undefined\"!=typeof e.contentDocument?e.contentDocument:(A(e,\"template\")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,i){k.fn[r]=function(e,t){var n=k.map(this,i,e);return\"Until\"!==r.slice(-5)&&(t=e),t&&\"string\"==typeof t&&(n=k.filter(t,n)),1<this.length&&(O[r]||k.uniqueSort(n),H.test(r)&&n.reverse()),this.pushStack(n)}});var R=/[^\\x20\\t\\r\\n\\f]+/g;function M(e){return e}function I(e){throw e}function W(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){var e,n;r=\"string\"==typeof r?(e=r,n={},k.each(e.match(R)||[],function(e,t){n[t]=!0}),n):k.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:\"\")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){k.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&\"string\"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return k.each(arguments,function(e,t){var n;while(-1<(n=k.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<k.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t=\"\",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=\"\"),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},k.extend({Deferred:function(e){var o=[[\"notify\",\"progress\",k.Callbacks(\"memory\"),k.Callbacks(\"memory\"),2],[\"resolve\",\"done\",k.Callbacks(\"once memory\"),k.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",k.Callbacks(\"once memory\"),k.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},\"catch\":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return k.Deferred(function(r){k.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+\"With\"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError(\"Thenable self-resolution\");t=e&&(\"object\"==typeof e||\"function\"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,M,s),l(u,o,I,s)):(u++,t.call(e,l(u,o,M,s),l(u,o,I,s),l(u,o,M,o.notifyWith))):(a!==M&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==I&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),C.setTimeout(t))}}return k.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:M,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:M)),o[2][3].add(l(0,e,m(n)?n:I))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return k.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+\"With\"](this===s?void 0:this,arguments),this},s[t[0]+\"With\"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=k.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(W(e,o.done(a(t)).resolve,o.reject,!n),\"pending\"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)W(i[t],a(t),o.reject);return o.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&$.test(e.name)&&C.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,t)},k.readyException=function(e){C.setTimeout(function(){throw e})};var F=k.Deferred();function B(){E.removeEventListener(\"DOMContentLoaded\",B),C.removeEventListener(\"load\",B),k.ready()}k.fn.ready=function(e){return F.then(e)[\"catch\"](function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||F.resolveWith(E,[k])}}),k.ready.then=F.then,\"complete\"===E.readyState||\"loading\"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(k.ready):(E.addEventListener(\"DOMContentLoaded\",B),C.addEventListener(\"load\",B));var _=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if(\"object\"===w(n))for(s in i=!0,n)_(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(k(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},z=/^-ms-/,U=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function V(e){return e.replace(z,\"ms-\").replace(U,X)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=k.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if(\"string\"==typeof t)i[V(t)]=n;else for(r in t)i[V(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&\"string\"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in r?[t]:t.match(R)||[]).length;while(n--)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Q=new Y,J=new Y,K=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Z=/[A-Z]/g;function ee(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r=\"data-\"+t.replace(Z,\"-$&\").toLowerCase(),\"string\"==typeof(n=e.getAttribute(r))){try{n=\"true\"===(i=n)||\"false\"!==i&&(\"null\"===i?null:i===+i+\"\"?+i:K.test(i)?JSON.parse(i):i)}catch(e){}J.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=J.get(o),1===o.nodeType&&!Q.get(o,\"hasDataAttrs\"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf(\"data-\")&&(r=V(r.slice(5)),ee(o,r,i[r]));Q.set(o,\"hasDataAttrs\",!0)}return i}return\"object\"==typeof n?this.each(function(){J.set(this,n)}):_(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=J.get(o,n))?t:void 0!==(t=ee(o,n))?t:void 0;this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||\"fx\")+\"queue\",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||\"fx\";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);\"inprogress\"===i&&(i=n.shift(),r--),i&&(\"fx\"===t&&n.unshift(\"inprogress\"),delete o.stop,i.call(e,function(){k.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+\"queueHooks\";return Q.get(e,n)||Q.access(e,n,{empty:k.Callbacks(\"once memory\").add(function(){Q.remove(e,[t+\"queue\",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return\"string\"!=typeof t&&(n=t,t=\"fx\",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};\"string\"!=typeof e&&(t=e,e=void 0),e=e||\"fx\";while(a--)(n=Q.get(o[a],e+\"queueHooks\"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var te=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,ne=new RegExp(\"^(?:([+-])=|)(\"+te+\")([a-z%]*)$\",\"i\"),re=[\"Top\",\"Right\",\"Bottom\",\"Left\"],ie=E.documentElement,oe=function(e){return k.contains(e.ownerDocument,e)},ae={composed:!0};ie.getRootNode&&(oe=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var se=function(e,t){return\"none\"===(e=t||e).style.display||\"\"===e.style.display&&oe(e)&&\"none\"===k.css(e,\"display\")},ue=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function le(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,\"\")},u=s(),l=n&&n[3]||(k.cssNumber[t]?\"\":\"px\"),c=e.nodeType&&(k.cssNumber[t]||\"px\"!==l&&+u)&&ne.exec(k.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)k.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,k.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ce={};function fe(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?(\"none\"===n&&(l[c]=Q.get(r,\"display\")||null,l[c]||(r.style.display=\"\")),\"\"===r.style.display&&se(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ce[s])||(o=a.body.appendChild(a.createElement(s)),u=k.css(o,\"display\"),o.parentNode.removeChild(o),\"none\"===u&&(u=\"block\"),ce[s]=u)))):\"none\"!==n&&(l[c]=\"none\",Q.set(r,\"display\",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}k.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return\"boolean\"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?k(this).show():k(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,he=/^$|^module$|\\/(?:java|ecma)script/i,ge={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function ve(e,t){var n;return n=\"undefined\"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||\"*\"):\"undefined\"!=typeof e.querySelectorAll?e.querySelectorAll(t||\"*\"):[],void 0===t||t&&A(e,t)?k.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],\"globalEval\",!t||Q.get(t[n],\"globalEval\"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var me,xe,be=/<|&#?\\w+;/;function we(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if(\"object\"===w(o))k.merge(p,o.nodeType?[o]:o);else if(be.test(o)){a=a||f.appendChild(t.createElement(\"div\")),s=(de.exec(o)||[\"\",\"\"])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+k.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;k.merge(p,a.childNodes),(a=f.firstChild).textContent=\"\"}else p.push(t.createTextNode(o));f.textContent=\"\",d=0;while(o=p[d++])if(r&&-1<k.inArray(o,r))i&&i.push(o);else if(l=oe(o),a=ve(f.appendChild(o),\"script\"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||\"\")&&n.push(o)}return f}me=E.createDocumentFragment().appendChild(E.createElement(\"div\")),(xe=E.createElement(\"input\")).setAttribute(\"type\",\"radio\"),xe.setAttribute(\"checked\",\"checked\"),xe.setAttribute(\"name\",\"t\"),me.appendChild(xe),y.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML=\"<textarea>x</textarea>\",y.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue;var Te=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\\.(.+)|)/;function ke(){return!0}function Se(){return!1}function Ne(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==(\"focus\"===t)}function Ae(e,t,n,r,i,o){var a,s;if(\"object\"==typeof t){for(s in\"string\"!=typeof n&&(r=r||n,n=void 0),t)Ae(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&(\"string\"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Se;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}function De(e,i,o){o?(Q.set(e,i,!1),k.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Q.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(k.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Q.set(this,i,r),t=o(this,i),this[i](),r!==(n=Q.get(this,i))||t?Q.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Q.set(this,i,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,i)&&k.event.add(e,i,ke)}k.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.get(t);if(v){n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(ie,i),n.guid||(n.guid=k.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return\"undefined\"!=typeof k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(R)||[\"\"]).length;while(l--)d=g=(s=Ee.exec(e[l])||[])[1],h=(s[2]||\"\").split(\".\").sort(),d&&(f=k.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=k.event.special[d]||{},c=k.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:h.join(\".\")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),k.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.hasData(e)&&Q.get(e);if(v&&(u=v.events)){l=(t=(t||\"\").match(R)||[\"\"]).length;while(l--)if(d=g=(s=Ee.exec(t[l])||[])[1],h=(s[2]||\"\").split(\".\").sort(),d){f=k.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp(\"(^|\\\\.)\"+h.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&(\"**\"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||k.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)k.event.remove(e,d+t[l],n,r,!0);k.isEmptyObject(u)&&Q.remove(e,\"handle events\")}},dispatch:function(e){var t,n,r,i,o,a,s=k.event.fix(e),u=new Array(arguments.length),l=(Q.get(this,\"events\")||{})[s.type]||[],c=k.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){a=k.event.handlers.call(this,s,l),t=0;while((i=a[t++])&&!s.isPropagationStopped()){s.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!s.isImmediatePropagationStopped())s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!(\"click\"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+\" \"]&&(a[i]=r.needsContext?-1<k(i,this).index(l):k.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,\"input\")&&De(t,\"click\",ke),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,\"input\")&&De(t,\"click\"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,\"input\")&&Q.get(t,\"click\")||A(t,\"a\")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,\"char\":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:\"focusin\",blur:\"focusout\"},function(e,t){k.event.special[e]={setup:function(){return De(this,e,Ne),!1},trigger:function(){return De(this,e),!0},delegateType:t}}),k.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(e,i){k.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),k.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+\".\"+r.namespace:r.origType,r.selector,r.handler),this;if(\"object\"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&\"function\"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){k.event.remove(this,e,n,t)})}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,qe=/<script|<style|<link/i,Le=/checked\\s*(?:[^=]|=\\s*.checked.)/i,He=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Oe(e,t){return A(e,\"table\")&&A(11!==t.nodeType?t:t.firstChild,\"tr\")&&k(e).children(\"tbody\")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute(\"type\"))+\"/\"+e.type,e}function Re(e){return\"true/\"===(e.type||\"\").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute(\"type\"),e}function Me(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),a=Q.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)k.event.add(t,i,l[i][n]);J.hasData(e)&&(s=J.access(e),u=k.extend({},s),J.set(t,u))}}function Ie(n,r,i,o){r=g.apply([],r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&\"string\"==typeof d&&!y.checkClone&&Le.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Ie(t,r,i,o)});if(f&&(t=(e=we(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=k.map(ve(e,\"script\"),Pe)).length;c<f;c++)u=e,c!==p&&(u=k.clone(u,!0,!0),s&&k.merge(a,ve(u,\"script\"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,k.map(a,Re),c=0;c<s;c++)u=a[c],he.test(u.type||\"\")&&!Q.access(u,\"globalEval\")&&k.contains(l,u)&&(u.src&&\"module\"!==(u.type||\"\").toLowerCase()?k._evalUrl&&!u.noModule&&k._evalUrl(u.src,{nonce:u.nonce||u.getAttribute(\"nonce\")}):b(u.textContent.replace(He,\"\"),u,l))}return n}function We(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(ve(r)),r.parentNode&&(n&&oe(r)&&ye(ve(r,\"script\")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e.replace(je,\"<$1></$2>\")},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=oe(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,\"input\"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:\"input\"!==l&&\"textarea\"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Me(o[r],a[r]);else Me(e,c);return 0<(a=ve(c,\"script\")).length&&ye(a,!f&&ve(e,\"script\")),c},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return _(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ie(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Ie(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(ve(e,!1)),e.textContent=\"\");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if(\"string\"==typeof e&&!qe.test(e)&&!ge[(de.exec(e)||[\"\",\"\"])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Ie(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(e,a){k.fn[e]=function(e){for(var t,n=[],r=k(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),k(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var $e=new RegExp(\"^(\"+te+\")(?!px)[a-z%]+$\",\"i\"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Be=new RegExp(re.join(\"|\"),\"i\");function _e(e,t,n){var r,i,o,a,s=e.style;return(n=n||Fe(e))&&(\"\"!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=k.style(e,t)),!y.pixelBoxStyles()&&$e.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+\"\":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){s.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",u.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",ie.appendChild(s).appendChild(u);var e=C.getComputedStyle(u);n=\"1%\"!==e.top,a=12===t(e.marginLeft),u.style.right=\"60%\",o=36===t(e.right),r=36===t(e.width),u.style.position=\"absolute\",i=12===t(u.offsetWidth/3),ie.removeChild(s),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s=E.createElement(\"div\"),u=E.createElement(\"div\");u.style&&(u.style.backgroundClip=\"content-box\",u.cloneNode(!0).style.backgroundClip=\"\",y.clearCloneStyle=\"content-box\"===u.style.backgroundClip,k.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),i}}))}();var Ue=[\"Webkit\",\"Moz\",\"ms\"],Xe=E.createElement(\"div\").style,Ve={};function Ge(e){var t=k.cssProps[e]||Ve[e];return t||(e in Xe?e:Ve[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Ue.length;while(n--)if((e=Ue[n]+t)in Xe)return e}(e)||e)}var Ye=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Je={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Ke={letterSpacing:\"0\",fontWeight:\"400\"};function Ze(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||\"px\"):t}function et(e,t,n,r,i,o){var a=\"width\"===t?1:0,s=0,u=0;if(n===(r?\"border\":\"content\"))return 0;for(;a<4;a+=2)\"margin\"===n&&(u+=k.css(e,n+re[a],!0,i)),r?(\"content\"===n&&(u-=k.css(e,\"padding\"+re[a],!0,i)),\"margin\"!==n&&(u-=k.css(e,\"border\"+re[a]+\"Width\",!0,i))):(u+=k.css(e,\"padding\"+re[a],!0,i),\"padding\"!==n?u+=k.css(e,\"border\"+re[a]+\"Width\",!0,i):s+=k.css(e,\"border\"+re[a]+\"Width\",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function tt(e,t,n){var r=Fe(e),i=(!y.boxSizingReliable()||n)&&\"border-box\"===k.css(e,\"boxSizing\",!1,r),o=i,a=_e(e,t,r),s=\"offset\"+t[0].toUpperCase()+t.slice(1);if($e.test(a)){if(!n)return a;a=\"auto\"}return(!y.boxSizingReliable()&&i||\"auto\"===a||!parseFloat(a)&&\"inline\"===k.css(e,\"display\",!1,r))&&e.getClientRects().length&&(i=\"border-box\"===k.css(e,\"boxSizing\",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+et(e,t,n||(i?\"border\":\"content\"),o,r,a)+\"px\"}function nt(e,t,n,r,i){return new nt.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_e(e,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=V(t),u=Qe.test(t),l=e.style;if(u||(t=Ge(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&\"get\"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];\"string\"===(o=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=le(e,t,i),o=\"number\"),null!=n&&n==n&&(\"number\"!==o||u||(n+=i&&i[3]||(k.cssNumber[s]?\"\":\"px\")),y.clearCloneStyle||\"\"!==n||0!==t.indexOf(\"background\")||(l[t]=\"inherit\"),a&&\"set\"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=V(t);return Qe.test(t)||(t=Ge(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&\"get\"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=_e(e,t,r)),\"normal\"===i&&t in Ke&&(i=Ke[t]),\"\"===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each([\"height\",\"width\"],function(e,u){k.cssHooks[u]={get:function(e,t,n){if(t)return!Ye.test(k.css(e,\"display\"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,u,n):ue(e,Je,function(){return tt(e,u,n)})},set:function(e,t,n){var r,i=Fe(e),o=!y.scrollboxSize()&&\"absolute\"===i.position,a=(o||n)&&\"border-box\"===k.css(e,\"boxSizing\",!1,i),s=n?et(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e[\"offset\"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-et(e,u,\"border\",!1,i)-.5)),s&&(r=ne.exec(t))&&\"px\"!==(r[3]||\"px\")&&(e.style[u]=t,t=k.css(e,u)),Ze(0,t,s)}}}),k.cssHooks.marginLeft=ze(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(_e(e,\"marginLeft\"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+\"px\"}),k.each({margin:\"\",padding:\"\",border:\"Width\"},function(i,o){k.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r=\"string\"==typeof e?e.split(\" \"):[e];t<4;t++)n[i+re[t]+o]=r[t]||r[t-2]||r[0];return n}},\"margin\"!==i&&(k.cssHooks[i+o].set=Ze)}),k.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Fe(e),i=t.length;a<i;a++)o[t[a]]=k.css(e,t[a],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),((k.Tween=nt).prototype={constructor:nt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?\"\":\"px\")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}}).init.prototype=nt.prototype,(nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,\"\"))&&\"auto\"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:\"swing\"},k.fx=nt.prototype.init,k.fx.step={};var rt,it,ot,at,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function lt(){it&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(lt):C.setTimeout(lt,k.fx.interval),k.fx.tick())}function ct(){return C.setTimeout(function(){rt=void 0}),rt=Date.now()}function ft(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i[\"margin\"+(n=re[r])]=i[\"padding\"+n]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners[\"*\"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function dt(o,e,t){var n,a,r=0,i=dt.prefilters.length,s=k.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=rt||ct(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:rt||ct(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=V(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&\"expand\"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=dt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return k.map(c,pt,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(dt,{tweeners:{\"*\":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=[\"*\"]):e=e.match(R);for(var n,r=0,i=e.length;r<i;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f=\"width\"in t||\"height\"in t,p=this,d={},h=e.style,g=e.nodeType&&se(e),v=Q.get(e,\"fxshow\");for(r in n.queue||(null==(a=k._queueHooks(e,\"fx\")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,k.queue(e,\"fx\").length||a.empty.fire()})})),t)if(i=t[r],st.test(i)){if(delete t[r],o=o||\"toggle\"===i,i===(g?\"hide\":\"show\")){if(\"show\"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||k.style(e,r)}if((u=!k.isEmptyObject(t))||!k.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Q.get(e,\"display\")),\"none\"===(c=k.css(e,\"display\"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=k.css(e,\"display\"),fe([e]))),(\"inline\"===c||\"inline-block\"===c&&null!=l)&&\"none\"===k.css(e,\"float\")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l=\"none\"===c?\"\":c)),h.display=\"inline-block\")),n.overflow&&(h.overflow=\"hidden\",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?\"hidden\"in v&&(g=v.hidden):v=Q.access(e,\"fxshow\",{display:l}),o&&(v.hidden=!g),g&&fe([e],!0),p.done(function(){for(r in g||fe([e]),Q.remove(e,\"fxshow\"),d)k.style(e,r,d[r])})),u=pt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&\"object\"==typeof e?k.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return k.fx.off?r.duration=0:\"number\"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue=\"fx\"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css(\"opacity\",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=k.isEmptyObject(t),o=k.speed(e,n,r),a=function(){var e=dt(this,k.extend({},t),o);(i||Q.get(this,\"finish\"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return\"string\"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||\"fx\",[]),this.each(function(){var e=!0,t=null!=i&&i+\"queueHooks\",n=k.timers,r=Q.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ut.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||k.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||\"fx\"),this.each(function(){var e,t=Q.get(this),n=t[a+\"queue\"],r=t[a+\"queueHooks\"],i=k.timers,o=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each([\"toggle\",\"show\",\"hide\"],function(e,r){var i=k.fn[r];k.fn[r]=function(e,t,n){return null==e||\"boolean\"==typeof e?i.apply(this,arguments):this.animate(ft(r,!0),e,t,n)}}),k.each({slideDown:ft(\"show\"),slideUp:ft(\"hide\"),slideToggle:ft(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),rt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){it||(it=!0,lt())},k.fx.stop=function(){it=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,e=e||\"fx\",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},ot=E.createElement(\"input\"),at=E.createElement(\"select\").appendChild(E.createElement(\"option\")),ot.type=\"checkbox\",y.checkOn=\"\"!==ot.value,y.optSelected=at.selected,(ot=E.createElement(\"input\")).value=\"t\",ot.type=\"radio\",y.radioValue=\"t\"===ot.value;var ht,gt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return _(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return\"undefined\"==typeof e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+\"\"),n):i&&\"get\"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&\"radio\"===t&&A(e,\"input\")){var n=e.value;return e.setAttribute(\"type\",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(R);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\\w+/g),function(e,t){var a=gt[t]||k.find.attr;gt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=gt[o],gt[o]=r,r=null!=a(e,t,n)?o:null,gt[o]=i),r}});var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function mt(e){return(e.match(R)||[]).join(\" \")}function xt(e){return e.getAttribute&&e.getAttribute(\"class\")||\"\"}function bt(e){return Array.isArray(e)?e:\"string\"==typeof e&&e.match(R)||[]}k.fn.extend({prop:function(e,t){return _(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&\"get\"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,\"tabindex\");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),y.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).addClass(t.call(this,e,xt(this)))});if((e=bt(t)).length)while(n=this[u++])if(i=xt(n),r=1===n.nodeType&&\" \"+mt(i)+\" \"){a=0;while(o=e[a++])r.indexOf(\" \"+o+\" \")<0&&(r+=o+\" \");i!==(s=mt(r))&&n.setAttribute(\"class\",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).removeClass(t.call(this,e,xt(this)))});if(!arguments.length)return this.attr(\"class\",\"\");if((e=bt(t)).length)while(n=this[u++])if(i=xt(n),r=1===n.nodeType&&\" \"+mt(i)+\" \"){a=0;while(o=e[a++])while(-1<r.indexOf(\" \"+o+\" \"))r=r.replace(\" \"+o+\" \",\" \");i!==(s=mt(r))&&n.setAttribute(\"class\",s)}return this},toggleClass:function(i,t){var o=typeof i,a=\"string\"===o||Array.isArray(i);return\"boolean\"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){k(this).toggleClass(i.call(this,e,xt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=k(this),r=bt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&\"boolean\"!==o||((e=xt(this))&&Q.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===i?\"\":Q.get(this,\"__className__\")||\"\"))})},hasClass:function(e){var t,n,r=0;t=\" \"+e+\" \";while(n=this[r++])if(1===n.nodeType&&-1<(\" \"+mt(xt(n))+\" \").indexOf(t))return!0;return!1}});var wt=/\\r/g;k.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,k(this).val()):n)?t=\"\":\"number\"==typeof t?t+=\"\":Array.isArray(t)&&(t=k.map(t,function(e){return null==e?\"\":e+\"\"})),(r=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&\"set\"in r&&void 0!==r.set(this,t,\"value\")||(this.value=t))})):t?(r=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&\"get\"in r&&void 0!==(e=r.get(t,\"value\"))?e:\"string\"==typeof(e=t.value)?e.replace(wt,\"\"):null==e?\"\":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,\"value\");return null!=t?t:mt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a=\"select-one\"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,\"optgroup\"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=k.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<k.inArray(k.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each([\"radio\",\"checkbox\"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},y.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute(\"value\")?\"on\":e.value})}),y.focusin=\"onfocusin\"in C;var Tt=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,\"type\")?e.type:e,h=v.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!Tt.test(d+k.event.triggered)&&(-1<d.indexOf(\".\")&&(d=(h=d.split(\".\")).shift(),h.sort()),u=d.indexOf(\":\")<0&&\"on\"+d,(e=e[k.expando]?e:new k.Event(d,\"object\"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+h.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,Tt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Q.get(o,\"events\")||{})[e.type]&&Q.get(o,\"handle\"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&G(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!G(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),k.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Ct),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Ct),k.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),y.focusin||k.each({focus:\"focusin\",blur:\"focusout\"},function(n,r){var i=function(e){k.event.simulate(r,e.target,k.event.fix(e))};k.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=Q.access(e,r);t||e.addEventListener(n,i,!0),Q.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Q.access(e,r)-1;t?Q.access(e,r,t):(e.removeEventListener(n,i,!0),Q.remove(e,r))}}});var Et=C.location,kt=Date.now(),St=/\\?/;k.parseXML=function(e){var t;if(!e||\"string\"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,\"text/xml\")}catch(e){t=void 0}return t&&!t.getElementsByTagName(\"parsererror\").length||k.error(\"Invalid XML: \"+e),t};var Nt=/\\[\\]$/,At=/\\r?\\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function qt(n,e,r,i){var t;if(Array.isArray(e))k.each(e,function(e,t){r||Nt.test(n)?i(n,t):qt(n+\"[\"+(\"object\"==typeof t&&null!=t?e:\"\")+\"]\",t,r,i)});else if(r||\"object\"!==w(e))i(n,e);else for(t in e)qt(n+\"[\"+t+\"]\",e[t],r,i)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==e)return\"\";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){i(this.name,this.value)});else for(n in e)qt(n,e[n],t,i);return r.join(\"&\")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,\"elements\");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(\":disabled\")&&jt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(At,\"\\r\\n\")}}):{name:t.name,value:n.replace(At,\"\\r\\n\")}}).get()}});var Lt=/%20/g,Ht=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Mt=/^\\/\\//,It={},Wt={},$t=\"*/\".concat(\"*\"),Ft=E.createElement(\"a\");function Bt(o){return function(e,t){\"string\"!=typeof e&&(t=e,e=\"*\");var n,r=0,i=e.toLowerCase().match(R)||[];if(m(t))while(n=i[r++])\"+\"===n[0]?(n=n.slice(1)||\"*\",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function _t(t,i,o,a){var s={},u=t===Wt;function l(e){var r;return s[e]=!0,k.each(t[e]||[],function(e,t){var n=t(i,o,a);return\"string\"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s[\"*\"]&&l(\"*\")}function zt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Ft.href=Et.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":$t,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,k.ajaxSettings),t):zt(k.ajaxSettings,e)},ajaxPrefilter:Bt(It),ajaxTransport:Bt(Wt),ajax:function(e,t){\"object\"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=k.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?k(y):k.event,x=k.Deferred(),b=k.Callbacks(\"once memory\"),w=v.statusCode||{},a={},s={},u=\"canceled\",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Pt.exec(p))n[t[1].toLowerCase()+\" \"]=(n[t[1].toLowerCase()+\" \"]||[]).concat(t[2])}t=n[e.toLowerCase()+\" \"]}return null==t?null:t.join(\", \")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+\"\").replace(Mt,Et.protocol+\"//\"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||\"*\").toLowerCase().match(R)||[\"\"],null==v.crossDomain){r=E.createElement(\"a\");try{r.href=v.url,r.href=r.href,v.crossDomain=Ft.protocol+\"//\"+Ft.host!=r.protocol+\"//\"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&\"string\"!=typeof v.data&&(v.data=k.param(v.data,v.traditional)),_t(It,v,t,T),h)return T;for(i in(g=k.event&&v.global)&&0==k.active++&&k.event.trigger(\"ajaxStart\"),v.type=v.type.toUpperCase(),v.hasContent=!Rt.test(v.type),f=v.url.replace(Ht,\"\"),v.hasContent?v.data&&v.processData&&0===(v.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(v.data=v.data.replace(Lt,\"+\")):(o=v.url.slice(f.length),v.data&&(v.processData||\"string\"==typeof v.data)&&(f+=(St.test(f)?\"&\":\"?\")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Ot,\"$1\"),o=(St.test(f)?\"&\":\"?\")+\"_=\"+kt+++o),v.url=f+o),v.ifModified&&(k.lastModified[f]&&T.setRequestHeader(\"If-Modified-Since\",k.lastModified[f]),k.etag[f]&&T.setRequestHeader(\"If-None-Match\",k.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader(\"Content-Type\",v.contentType),T.setRequestHeader(\"Accept\",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+(\"*\"!==v.dataTypes[0]?\", \"+$t+\"; q=0.01\":\"\"):v.accepts[\"*\"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u=\"abort\",b.add(v.complete),T.done(v.success),T.fail(v.error),c=_t(Wt,v,t,T)){if(T.readyState=1,g&&m.trigger(\"ajaxSend\",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort(\"timeout\")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,\"No Transport\");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||\"\",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while(\"*\"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader(\"Content-Type\"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+\" \"+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if(\"*\"===o)o=u;else if(\"*\"!==u&&u!==o){if(!(a=l[u+\" \"+o]||l[\"* \"+o]))for(i in l)if((s=i.split(\" \"))[1]===o&&(a=l[u+\" \"+s[0]]||l[\"* \"+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e[\"throws\"])t=a(t);else try{t=a(t)}catch(e){return{state:\"parsererror\",error:a?e:\"No conversion from \"+u+\" to \"+o}}}return{state:\"success\",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader(\"Last-Modified\"))&&(k.lastModified[f]=u),(u=T.getResponseHeader(\"etag\"))&&(k.etag[f]=u)),204===e||\"HEAD\"===v.type?l=\"nocontent\":304===e?l=\"notmodified\":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l=\"error\",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+\"\",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?\"ajaxSuccess\":\"ajaxError\",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger(\"ajaxComplete\",[T,v]),--k.active||k.event.trigger(\"ajaxStop\")))}return T},getJSON:function(e,t,n){return k.get(e,t,n,\"json\")},getScript:function(e,t){return k.get(e,void 0,t,\"script\")}}),k.each([\"get\",\"post\"],function(e,i){k[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:i,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e,t){return k.ajax({url:e,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(e){k.globalEval(e,t)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not(\"body\").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Xt=k.ajaxSettings.xhr();y.cors=!!Xt&&\"withCredentials\"in Xt,y.ajax=Xt=!!Xt,k.ajaxTransport(function(i){var o,a;if(y.cors||Xt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e[\"X-Requested-With\"]||(e[\"X-Requested-With\"]=\"XMLHttpRequest\"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,\"abort\"===e?r.abort():\"error\"===e?\"number\"!=typeof r.status?t(0,\"error\"):t(r.status,r.statusText):t(Ut[r.status]||r.status,r.statusText,\"text\"!==(r.responseType||\"text\")||\"string\"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o(\"error\"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o(\"abort\");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter(\"script\",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\")}),k.ajaxTransport(\"script\",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=k(\"<script>\").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on(\"load error\",i=function(e){r.remove(),i=null,e&&t(\"error\"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Vt,Gt=[],Yt=/(=)\\?(?=&|$)|\\?\\?/;k.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=Gt.pop()||k.expando+\"_\"+kt++;return this[e]=!0,e}}),k.ajaxPrefilter(\"json jsonp\",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Yt.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Yt.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,\"$1\"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+r),e.converters[\"script json\"]=function(){return o||k.error(r+\" was not called\"),o[0]},e.dataTypes[0]=\"json\",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?k(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),\"script\"}),y.createHTMLDocument=((Vt=E.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Vt.childNodes.length),k.parseHTML=function(e,t,n){return\"string\"!=typeof e?[]:(\"boolean\"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=D.exec(e))?[t.createElement(i[1])]:(i=we([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(\" \");return-1<s&&(r=mt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&\"object\"==typeof t&&(i=\"POST\"),0<a.length&&k.ajax({url:e,type:i||\"GET\",dataType:\"html\",data:t}).done(function(e){o=arguments,a.html(r?k(\"<div>\").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},k.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=k.css(e,\"position\"),c=k(e),f={};\"static\"===l&&(e.style.position=\"relative\"),s=c.offset(),o=k.css(e,\"top\"),u=k.css(e,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&-1<(o+u).indexOf(\"auto\")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),\"using\"in t?t.using.call(e,f):c.css(f)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if(\"fixed\"===k.css(r,\"position\"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&\"static\"===k.css(e,\"position\"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,\"borderTopWidth\",!0),i.left+=k.css(e,\"borderLeftWidth\",!0))}return{top:t.top-i.top-k.css(r,\"marginTop\",!0),left:t.left-i.left-k.css(r,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&\"static\"===k.css(e,\"position\"))e=e.offsetParent;return e||ie})}}),k.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(t,i){var o=\"pageYOffset\"===i;k.fn[t]=function(e){return _(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),k.each([\"top\",\"left\"],function(e,n){k.cssHooks[n]=ze(y.pixelPosition,function(e,t){if(t)return t=_e(e,n),$e.test(t)?k(e).position()[n]+\"px\":t})}),k.each({Height:\"height\",Width:\"width\"},function(a,s){k.each({padding:\"inner\"+a,content:s,\"\":\"outer\"+a},function(r,o){k.fn[o]=function(e,t){var n=arguments.length&&(r||\"boolean\"!=typeof e),i=r||(!0===e||!0===t?\"margin\":\"border\");return _(this,function(e,t,n){var r;return x(e)?0===o.indexOf(\"outer\")?e[\"inner\"+a]:e.document.documentElement[\"client\"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body[\"scroll\"+a],r[\"scroll\"+a],e.body[\"offset\"+a],r[\"offset\"+a],r[\"client\"+a])):void 0===n?k.css(e,t,i):k.style(e,t,n,i)},s,n?e:void 0,n)}})}),k.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,\"**\"):this.off(t,e||\"**\",n)}}),k.proxy=function(e,t){var n,r,i;if(\"string\"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=A,k.isFunction=m,k.isWindow=x,k.camelCase=V,k.type=w,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return(\"number\"===t||\"string\"===t)&&!isNaN(e-parseFloat(e))},\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return k});var Qt=C.jQuery,Jt=C.$;return k.noConflict=function(e){return C.$===k&&(C.$=Jt),e&&C.jQuery===k&&(C.jQuery=Qt),k},e||(C.jQuery=C.$=k),k});\r\n","/*!\r\n  * Bootstrap v4.5.3 (https://getbootstrap.com/)\r\n  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\r\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\r\n  */\r\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports,require(\"jquery\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"jquery\"],e):e((t=\"undefined\"!=typeof globalThis?globalThis:t||self).bootstrap={},t.jQuery)}(this,(function(t,e){\"use strict\";function n(t){return t&&\"object\"==typeof t&&\"default\"in t?t:{default:t}}var i=n(e);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function s(t){var e=this,n=!1;return i.default(this).one(l.TRANSITION_END,(function(){n=!0})),setTimeout((function(){n||l.triggerTransitionEnd(e)}),t),this}var l={TRANSITION_END:\"bsTransitionEnd\",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute(\"data-target\");if(!e||\"#\"===e){var n=t.getAttribute(\"href\");e=n&&\"#\"!==n?n.trim():\"\"}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=i.default(t).css(\"transition-duration\"),n=i.default(t).css(\"transition-delay\"),o=parseFloat(e),r=parseFloat(n);return o||r?(e=e.split(\",\")[0],n=n.split(\",\")[0],1e3*(parseFloat(e)+parseFloat(n))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){i.default(t).trigger(\"transitionend\")},supportsTransitionEnd:function(){return Boolean(\"transitionend\")},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],r=e[i],a=r&&l.isElement(r)?\"element\":null===(s=r)||\"undefined\"==typeof s?\"\"+s:{}.toString.call(s).match(/\\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(a))throw new Error(t.toUpperCase()+': Option \"'+i+'\" provided type \"'+a+'\" but expected type \"'+o+'\".')}var s},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if(\"function\"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?l.findShadowRoot(t.parentNode):null},jQueryDetection:function(){if(\"undefined\"==typeof i.default)throw new TypeError(\"Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.\");var t=i.default.fn.jquery.split(\" \")[0].split(\".\");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error(\"Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0\")}};l.jQueryDetection(),i.default.fn.emulateTransitionEnd=s,i.default.event.special[l.TRANSITION_END]={bindType:\"transitionend\",delegateType:\"transitionend\",handle:function(t){if(i.default(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var u=\"alert\",f=i.default.fn[u],d=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){i.default.removeData(this._element,\"bs.alert\"),this._element=null},e._getRootElement=function(t){var e=l.getSelectorFromElement(t),n=!1;return e&&(n=document.querySelector(e)),n||(n=i.default(t).closest(\".alert\")[0]),n},e._triggerCloseEvent=function(t){var e=i.default.Event(\"close.bs.alert\");return i.default(t).trigger(e),e},e._removeElement=function(t){var e=this;if(i.default(t).removeClass(\"show\"),i.default(t).hasClass(\"fade\")){var n=l.getTransitionDurationFromElement(t);i.default(t).one(l.TRANSITION_END,(function(n){return e._destroyElement(t,n)})).emulateTransitionEnd(n)}else this._destroyElement(t)},e._destroyElement=function(t){i.default(t).detach().trigger(\"closed.bs.alert\").remove()},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this),o=n.data(\"bs.alert\");o||(o=new t(this),n.data(\"bs.alert\",o)),\"close\"===e&&o[e](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:\"VERSION\",get:function(){return\"4.5.3\"}}]),t}();i.default(document).on(\"click.bs.alert.data-api\",'[data-dismiss=\"alert\"]',d._handleDismiss(new d)),i.default.fn[u]=d._jQueryInterface,i.default.fn[u].Constructor=d,i.default.fn[u].noConflict=function(){return i.default.fn[u]=f,d._jQueryInterface};var c=i.default.fn.button,h=function(){function t(t){this._element=t,this.shouldAvoidTriggerChange=!1}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,n=i.default(this._element).closest('[data-toggle=\"buttons\"]')[0];if(n){var o=this._element.querySelector('input:not([type=\"hidden\"])');if(o){if(\"radio\"===o.type)if(o.checked&&this._element.classList.contains(\"active\"))t=!1;else{var r=n.querySelector(\".active\");r&&i.default(r).removeClass(\"active\")}t&&(\"checkbox\"!==o.type&&\"radio\"!==o.type||(o.checked=!this._element.classList.contains(\"active\")),this.shouldAvoidTriggerChange||i.default(o).trigger(\"change\")),o.focus(),e=!1}}this._element.hasAttribute(\"disabled\")||this._element.classList.contains(\"disabled\")||(e&&this._element.setAttribute(\"aria-pressed\",!this._element.classList.contains(\"active\")),t&&i.default(this._element).toggleClass(\"active\"))},e.dispose=function(){i.default.removeData(this._element,\"bs.button\"),this._element=null},t._jQueryInterface=function(e,n){return this.each((function(){var o=i.default(this),r=o.data(\"bs.button\");r||(r=new t(this),o.data(\"bs.button\",r)),r.shouldAvoidTriggerChange=n,\"toggle\"===e&&r[e]()}))},r(t,null,[{key:\"VERSION\",get:function(){return\"4.5.3\"}}]),t}();i.default(document).on(\"click.bs.button.data-api\",'[data-toggle^=\"button\"]',(function(t){var e=t.target,n=e;if(i.default(e).hasClass(\"btn\")||(e=i.default(e).closest(\".btn\")[0]),!e||e.hasAttribute(\"disabled\")||e.classList.contains(\"disabled\"))t.preventDefault();else{var o=e.querySelector('input:not([type=\"hidden\"])');if(o&&(o.hasAttribute(\"disabled\")||o.classList.contains(\"disabled\")))return void t.preventDefault();\"INPUT\"!==n.tagName&&\"LABEL\"===e.tagName||h._jQueryInterface.call(i.default(e),\"toggle\",\"INPUT\"===n.tagName)}})).on(\"focus.bs.button.data-api blur.bs.button.data-api\",'[data-toggle^=\"button\"]',(function(t){var e=i.default(t.target).closest(\".btn\")[0];i.default(e).toggleClass(\"focus\",/^focus(in)?$/.test(t.type))})),i.default(window).on(\"load.bs.button.data-api\",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle=\"buttons\"] .btn')),e=0,n=t.length;e<n;e++){var i=t[e],o=i.querySelector('input:not([type=\"hidden\"])');o.checked||o.hasAttribute(\"checked\")?i.classList.add(\"active\"):i.classList.remove(\"active\")}for(var r=0,a=(t=[].slice.call(document.querySelectorAll('[data-toggle=\"button\"]'))).length;r<a;r++){var s=t[r];\"true\"===s.getAttribute(\"aria-pressed\")?s.classList.add(\"active\"):s.classList.remove(\"active\")}})),i.default.fn.button=h._jQueryInterface,i.default.fn.button.Constructor=h,i.default.fn.button.noConflict=function(){return i.default.fn.button=c,h._jQueryInterface};var p=\"carousel\",m=\".bs.carousel\",g=i.default.fn[p],v={interval:5e3,keyboard:!0,slide:!1,pause:\"hover\",wrap:!0,touch:!0},_={interval:\"(number|boolean)\",keyboard:\"boolean\",slide:\"(boolean|string)\",pause:\"(string|boolean)\",wrap:\"boolean\",touch:\"boolean\"},b={TOUCH:\"touch\",PEN:\"pen\"},y=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(\".carousel-indicators\"),this._touchSupported=\"ontouchstart\"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=t.prototype;return e.next=function(){this._isSliding||this._slide(\"next\")},e.nextWhenVisible=function(){var t=i.default(this._element);!document.hidden&&t.is(\":visible\")&&\"hidden\"!==t.css(\"visibility\")&&this.next()},e.prev=function(){this._isSliding||this._slide(\"prev\")},e.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(\".carousel-item-next, .carousel-item-prev\")&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=this._element.querySelector(\".active.carousel-item\");var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)i.default(this._element).one(\"slid.bs.carousel\",(function(){return e.to(t)}));else{if(n===t)return this.pause(),void this.cycle();var o=t>n?\"next\":\"prev\";this._slide(o,this._items[t])}},e.dispose=function(){i.default(this._element).off(m),i.default.removeData(this._element,\"bs.carousel\"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=a({},v,t),l.typeCheckConfig(p,t,_),t},e._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},e._addEventListeners=function(){var t=this;this._config.keyboard&&i.default(this._element).on(\"keydown.bs.carousel\",(function(e){return t._keydown(e)})),\"hover\"===this._config.pause&&i.default(this._element).on(\"mouseenter.bs.carousel\",(function(e){return t.pause(e)})).on(\"mouseleave.bs.carousel\",(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var e=function(e){t._pointerEvent&&b[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},n=function(e){t._pointerEvent&&b[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),\"hover\"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};i.default(this._element.querySelectorAll(\".carousel-item img\")).on(\"dragstart.bs.carousel\",(function(t){return t.preventDefault()})),this._pointerEvent?(i.default(this._element).on(\"pointerdown.bs.carousel\",(function(t){return e(t)})),i.default(this._element).on(\"pointerup.bs.carousel\",(function(t){return n(t)})),this._element.classList.add(\"pointer-event\")):(i.default(this._element).on(\"touchstart.bs.carousel\",(function(t){return e(t)})),i.default(this._element).on(\"touchmove.bs.carousel\",(function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)})),i.default(this._element).on(\"touchend.bs.carousel\",(function(t){return n(t)})))}},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(\".carousel-item\")):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n=\"next\"===t,i=\"prev\"===t,o=this._getItemIndex(e),r=this._items.length-1;if((i&&0===o||n&&o===r)&&!this._config.wrap)return e;var a=(o+(\"prev\"===t?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},e._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),o=this._getItemIndex(this._element.querySelector(\".active.carousel-item\")),r=i.default.Event(\"slide.bs.carousel\",{relatedTarget:t,direction:e,from:o,to:n});return i.default(this._element).trigger(r),r},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(\".active\"));i.default(e).removeClass(\"active\");var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&i.default(n).addClass(\"active\")}},e._slide=function(t,e){var n,o,r,a=this,s=this._element.querySelector(\".active.carousel-item\"),u=this._getItemIndex(s),f=e||s&&this._getItemByDirection(t,s),d=this._getItemIndex(f),c=Boolean(this._interval);if(\"next\"===t?(n=\"carousel-item-left\",o=\"carousel-item-next\",r=\"left\"):(n=\"carousel-item-right\",o=\"carousel-item-prev\",r=\"right\"),f&&i.default(f).hasClass(\"active\"))this._isSliding=!1;else if(!this._triggerSlideEvent(f,r).isDefaultPrevented()&&s&&f){this._isSliding=!0,c&&this.pause(),this._setActiveIndicatorElement(f);var h=i.default.Event(\"slid.bs.carousel\",{relatedTarget:f,direction:r,from:u,to:d});if(i.default(this._element).hasClass(\"slide\")){i.default(f).addClass(o),l.reflow(f),i.default(s).addClass(n),i.default(f).addClass(n);var p=parseInt(f.getAttribute(\"data-interval\"),10);p?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=p):this._config.interval=this._config.defaultInterval||this._config.interval;var m=l.getTransitionDurationFromElement(s);i.default(s).one(l.TRANSITION_END,(function(){i.default(f).removeClass(n+\" \"+o).addClass(\"active\"),i.default(s).removeClass(\"active \"+o+\" \"+n),a._isSliding=!1,setTimeout((function(){return i.default(a._element).trigger(h)}),0)})).emulateTransitionEnd(m)}else i.default(s).removeClass(\"active\"),i.default(f).addClass(\"active\"),this._isSliding=!1,i.default(this._element).trigger(h);c&&this.cycle()}},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this).data(\"bs.carousel\"),o=a({},v,i.default(this).data());\"object\"==typeof e&&(o=a({},o,e));var r=\"string\"==typeof e?e:o.slide;if(n||(n=new t(this,o),i.default(this).data(\"bs.carousel\",n)),\"number\"==typeof e)n.to(e);else if(\"string\"==typeof r){if(\"undefined\"==typeof n[r])throw new TypeError('No method named \"'+r+'\"');n[r]()}else o.interval&&o.ride&&(n.pause(),n.cycle())}))},t._dataApiClickHandler=function(e){var n=l.getSelectorFromElement(this);if(n){var o=i.default(n)[0];if(o&&i.default(o).hasClass(\"carousel\")){var r=a({},i.default(o).data(),i.default(this).data()),s=this.getAttribute(\"data-slide-to\");s&&(r.interval=!1),t._jQueryInterface.call(i.default(o),r),s&&i.default(o).data(\"bs.carousel\").to(s),e.preventDefault()}}},r(t,null,[{key:\"VERSION\",get:function(){return\"4.5.3\"}},{key:\"Default\",get:function(){return v}}]),t}();i.default(document).on(\"click.bs.carousel.data-api\",\"[data-slide], [data-slide-to]\",y._dataApiClickHandler),i.default(window).on(\"load.bs.carousel.data-api\",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride=\"carousel\"]')),e=0,n=t.length;e<n;e++){var o=i.default(t[e]);y._jQueryInterface.call(o,o.data())}})),i.default.fn[p]=y._jQueryInterface,i.default.fn[p].Constructor=y,i.default.fn[p].noConflict=function(){return i.default.fn[p]=g,y._jQueryInterface};var w=\"collapse\",E=i.default.fn[w],T={toggle:!0,parent:\"\"},C={toggle:\"boolean\",parent:\"(string|element)\"},S=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle=\"collapse\"][href=\"#'+t.id+'\"],[data-toggle=\"collapse\"][data-target=\"#'+t.id+'\"]'));for(var n=[].slice.call(document.querySelectorAll('[data-toggle=\"collapse\"]')),i=0,o=n.length;i<o;i++){var r=n[i],a=l.getSelectorFromElement(r),s=[].slice.call(document.querySelectorAll(a)).filter((function(e){return e===t}));null!==a&&s.length>0&&(this._selector=a,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=t.prototype;return e.toggle=function(){i.default(this._element).hasClass(\"show\")?this.hide():this.show()},e.show=function(){var e,n,o=this;if(!this._isTransitioning&&!i.default(this._element).hasClass(\"show\")&&(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(\".show, .collapsing\")).filter((function(t){return\"string\"==typeof o._config.parent?t.getAttribute(\"data-parent\")===o._config.parent:t.classList.contains(\"collapse\")}))).length&&(e=null),!(e&&(n=i.default(e).not(this._selector).data(\"bs.collapse\"))&&n._isTransitioning))){var r=i.default.Event(\"show.bs.collapse\");if(i.default(this._element).trigger(r),!r.isDefaultPrevented()){e&&(t._jQueryInterface.call(i.default(e).not(this._selector),\"hide\"),n||i.default(e).data(\"bs.collapse\",null));var a=this._getDimension();i.default(this._element).removeClass(\"collapse\").addClass(\"collapsing\"),this._element.style[a]=0,this._triggerArray.length&&i.default(this._triggerArray).removeClass(\"collapsed\").attr(\"aria-expanded\",!0),this.setTransitioning(!0);var s=\"scroll\"+(a[0].toUpperCase()+a.slice(1)),u=l.getTransitionDurationFromElement(this._element);i.default(this._element).one(l.TRANSITION_END,(function(){i.default(o._element).removeClass(\"collapsing\").addClass(\"collapse show\"),o._element.style[a]=\"\",o.setTransitioning(!1),i.default(o._element).trigger(\"shown.bs.collapse\")})).emulateTransitionEnd(u),this._element.style[a]=this._element[s]+\"px\"}}},e.hide=function(){var t=this;if(!this._isTransitioning&&i.default(this._element).hasClass(\"show\")){var e=i.default.Event(\"hide.bs.collapse\");if(i.default(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+\"px\",l.reflow(this._element),i.default(this._element).addClass(\"collapsing\").removeClass(\"collapse show\");var o=this._triggerArray.length;if(o>0)for(var r=0;r<o;r++){var a=this._triggerArray[r],s=l.getSelectorFromElement(a);if(null!==s)i.default([].slice.call(document.querySelectorAll(s))).hasClass(\"show\")||i.default(a).addClass(\"collapsed\").attr(\"aria-expanded\",!1)}this.setTransitioning(!0);this._element.style[n]=\"\";var u=l.getTransitionDurationFromElement(this._element);i.default(this._element).one(l.TRANSITION_END,(function(){t.setTransitioning(!1),i.default(t._element).removeClass(\"collapsing\").addClass(\"collapse\").trigger(\"hidden.bs.collapse\")})).emulateTransitionEnd(u)}}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){i.default.removeData(this._element,\"bs.collapse\"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=a({},T,t)).toggle=Boolean(t.toggle),l.typeCheckConfig(w,t,C),t},e._getDimension=function(){return i.default(this._element).hasClass(\"width\")?\"width\":\"height\"},e._getParent=function(){var e,n=this;l.isElement(this._config.parent)?(e=this._config.parent,\"undefined\"!=typeof this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var o='[data-toggle=\"collapse\"][data-parent=\"'+this._config.parent+'\"]',r=[].slice.call(e.querySelectorAll(o));return i.default(r).each((function(e,i){n._addAriaAndCollapsedClass(t._getTargetFromElement(i),[i])})),e},e._addAriaAndCollapsedClass=function(t,e){var n=i.default(t).hasClass(\"show\");e.length&&i.default(e).toggleClass(\"collapsed\",!n).attr(\"aria-expanded\",n)},t._getTargetFromElement=function(t){var e=l.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this),o=n.data(\"bs.collapse\"),r=a({},T,n.data(),\"object\"==typeof e&&e?e:{});if(!o&&r.toggle&&\"string\"==typeof e&&/show|hide/.test(e)&&(r.toggle=!1),o||(o=new t(this,r),n.data(\"bs.collapse\",o)),\"string\"==typeof e){if(\"undefined\"==typeof o[e])throw new TypeError('No method named \"'+e+'\"');o[e]()}}))},r(t,null,[{key:\"VERSION\",get:function(){return\"4.5.3\"}},{key:\"Default\",get:function(){return T}}]),t}();i.default(document).on(\"click.bs.collapse.data-api\",'[data-toggle=\"collapse\"]',(function(t){\"A\"===t.currentTarget.tagName&&t.preventDefault();var e=i.default(this),n=l.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(n));i.default(o).each((function(){var t=i.default(this),n=t.data(\"bs.collapse\")?\"toggle\":e.data();S._jQueryInterface.call(t,n)}))})),i.default.fn[w]=S._jQueryInterface,i.default.fn[w].Constructor=S,i.default.fn[w].noConflict=function(){return i.default.fn[w]=E,S._jQueryInterface};var D=\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&\"undefined\"!=typeof navigator,N=function(){for(var t=[\"Edge\",\"Trident\",\"Firefox\"],e=0;e<t.length;e+=1)if(D&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var k=D&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),N))}};function A(t){return t&&\"[object Function]\"==={}.toString.call(t)}function I(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function O(t){return\"HTML\"===t.nodeName?t:t.parentNode||t.host}function x(t){if(!t)return document.body;switch(t.nodeName){case\"HTML\":case\"BODY\":return t.ownerDocument.body;case\"#document\":return t.body}var e=I(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(n+o+i)?t:x(O(t))}function j(t){return t&&t.referenceNode?t.referenceNode:t}var L=D&&!(!window.MSInputMethodContext||!document.documentMode),P=D&&/MSIE 10/.test(navigator.userAgent);function F(t){return 11===t?L:10===t?P:L||P}function R(t){if(!t)return document.documentElement;for(var e=F(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&\"BODY\"!==i&&\"HTML\"!==i?-1!==[\"TH\",\"TD\",\"TABLE\"].indexOf(n.nodeName)&&\"static\"===I(n,\"position\")?R(n):n:t?t.ownerDocument.documentElement:document.documentElement}function H(t){return null!==t.parentNode?H(t.parentNode):t}function M(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,o=n?e:t,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var a,s,l=r.commonAncestorContainer;if(t!==l&&e!==l||i.contains(o))return\"BODY\"===(s=(a=l).nodeName)||\"HTML\"!==s&&R(a.firstElementChild)!==a?R(l):l;var u=H(t);return u.host?M(u.host,e):M(t,H(e).host)}function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"top\",n=\"top\"===e?\"scrollTop\":\"scrollLeft\",i=t.nodeName;if(\"BODY\"===i||\"HTML\"===i){var o=t.ownerDocument.documentElement,r=t.ownerDocument.scrollingElement||o;return r[n]}return t[n]}function q(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=B(e,\"top\"),o=B(e,\"left\"),r=n?-1:1;return t.top+=i*r,t.bottom+=i*r,t.left+=o*r,t.right+=o*r,t}function Q(t,e){var n=\"x\"===e?\"Left\":\"Top\",i=\"Left\"===n?\"Right\":\"Bottom\";return parseFloat(t[\"border\"+n+\"Width\"])+parseFloat(t[\"border\"+i+\"Width\"])}function W(t,e,n,i){return Math.max(e[\"offset\"+t],e[\"scroll\"+t],n[\"client\"+t],n[\"offset\"+t],n[\"scroll\"+t],F(10)?parseInt(n[\"offset\"+t])+parseInt(i[\"margin\"+(\"Height\"===t?\"Top\":\"Left\")])+parseInt(i[\"margin\"+(\"Height\"===t?\"Bottom\":\"Right\")]):0)}function U(t){var e=t.body,n=t.documentElement,i=F(10)&&getComputedStyle(n);return{height:W(\"Height\",e,n,i),width:W(\"Width\",e,n,i)}}var V=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")},Y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),z=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function K(t){return X({},t,{right:t.left+t.width,bottom:t.top+t.height})}function G(t){var e={};try{if(F(10)){e=t.getBoundingClientRect();var n=B(t,\"top\"),i=B(t,\"left\");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r=\"HTML\"===t.nodeName?U(t.ownerDocument):{},a=r.width||t.clientWidth||o.width,s=r.height||t.clientHeight||o.height,l=t.offsetWidth-a,u=t.offsetHeight-s;if(l||u){var f=I(t);l-=Q(f,\"x\"),u-=Q(f,\"y\"),o.width-=l,o.height-=u}return K(o)}function $(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=F(10),o=\"HTML\"===e.nodeName,r=G(t),a=G(e),s=x(t),l=I(e),u=parseFloat(l.borderTopWidth),f=parseFloat(l.borderLeftWidth);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=K({top:r.top-a.top-u,left:r.left-a.left-f,width:r.width,height:r.height});if(d.marginTop=0,d.marginLeft=0,!i&&o){var c=parseFloat(l.marginTop),h=parseFloat(l.marginLeft);d.top-=u-c,d.bottom-=u-c,d.left-=f-h,d.right-=f-h,d.marginTop=c,d.marginLeft=h}return(i&&!n?e.contains(s):e===s&&\"BODY\"!==s.nodeName)&&(d=q(d,e)),d}function J(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=$(t,n),o=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:B(n),s=e?0:B(n,\"left\"),l={top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:o,height:r};return K(l)}function Z(t){var e=t.nodeName;if(\"BODY\"===e||\"HTML\"===e)return!1;if(\"fixed\"===I(t,\"position\"))return!0;var n=O(t);return!!n&&Z(n)}function tt(t){if(!t||!t.parentElement||F())return document.documentElement;for(var e=t.parentElement;e&&\"none\"===I(e,\"transform\");)e=e.parentElement;return e||document.documentElement}function et(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},a=o?tt(t):M(t,j(e));if(\"viewport\"===i)r=J(a,o);else{var s=void 0;\"scrollParent\"===i?\"BODY\"===(s=x(O(e))).nodeName&&(s=t.ownerDocument.documentElement):s=\"window\"===i?t.ownerDocument.documentElement:i;var l=$(s,a,o);if(\"HTML\"!==s.nodeName||Z(a))r=l;else{var u=U(t.ownerDocument),f=u.height,d=u.width;r.top+=l.top-l.marginTop,r.bottom=f+l.top,r.left+=l.left-l.marginLeft,r.right=d+l.left}}var c=\"number\"==typeof(n=n||0);return r.left+=c?n:n.left||0,r.top+=c?n:n.top||0,r.right-=c?n:n.right||0,r.bottom-=c?n:n.bottom||0,r}function nt(t){return t.width*t.height}function it(t,e,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf(\"auto\"))return t;var a=et(n,i,r,o),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map((function(t){return X({key:t},s[t],{area:nt(s[t])})})).sort((function(t,e){return e.area-t.area})),u=l.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),f=u.length>0?u[0].key:l[0].key,d=t.split(\"-\")[1];return f+(d?\"-\"+d:\"\")}function ot(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=i?tt(e):M(e,j(n));return $(n,o,i)}function rt(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function at(t){var e={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function st(t,e,n){n=n.split(\"-\")[0];var i=rt(t),o={width:i.width,height:i.height},r=-1!==[\"right\",\"left\"].indexOf(n),a=r?\"top\":\"left\",s=r?\"left\":\"top\",l=r?\"height\":\"width\",u=r?\"width\":\"height\";return o[a]=e[a]+e[l]/2-i[l]/2,o[s]=n===s?e[s]-i[u]:e[at(s)],o}function lt(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function ut(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=lt(t,(function(t){return t[e]===n}));return t.indexOf(i)}(t,\"name\",n))).forEach((function(t){t.function&&console.warn(\"`modifier.function` is deprecated, use `modifier.fn`!\");var n=t.function||t.fn;t.enabled&&A(n)&&(e.offsets.popper=K(e.offsets.popper),e.offsets.reference=K(e.offsets.reference),e=n(e,t))})),e}function ft(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=ot(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=it(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=st(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?\"fixed\":\"absolute\",t=ut(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function dt(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function ct(t){for(var e=[!1,\"ms\",\"Webkit\",\"Moz\",\"O\"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var o=e[i],r=o?\"\"+o+n:t;if(\"undefined\"!=typeof document.body.style[r])return r}return null}function ht(){return this.state.isDestroyed=!0,dt(this.modifiers,\"applyStyle\")&&(this.popper.removeAttribute(\"x-placement\"),this.popper.style.position=\"\",this.popper.style.top=\"\",this.popper.style.left=\"\",this.popper.style.right=\"\",this.popper.style.bottom=\"\",this.popper.style.willChange=\"\",this.popper.style[ct(\"transform\")]=\"\"),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function pt(t){var e=t.ownerDocument;return e?e.defaultView:window}function mt(t,e,n,i){n.updateBound=i,pt(t).addEventListener(\"resize\",n.updateBound,{passive:!0});var o=x(t);return function t(e,n,i,o){var r=\"BODY\"===e.nodeName,a=r?e.ownerDocument.defaultView:e;a.addEventListener(n,i,{passive:!0}),r||t(x(a.parentNode),n,i,o),o.push(a)}(o,\"scroll\",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function gt(){this.state.eventsEnabled||(this.state=mt(this.reference,this.options,this.state,this.scheduleUpdate))}function vt(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,pt(t).removeEventListener(\"resize\",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener(\"scroll\",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function _t(t){return\"\"!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function bt(t,e){Object.keys(e).forEach((function(n){var i=\"\";-1!==[\"width\",\"height\",\"top\",\"right\",\"bottom\",\"left\"].indexOf(n)&&_t(e[n])&&(i=\"px\"),t.style[n]=e[n]+i}))}var yt=D&&/Firefox/i.test(navigator.userAgent);function wt(t,e,n){var i=lt(t,(function(t){return t.name===e})),o=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!o){var r=\"`\"+e+\"`\",a=\"`\"+n+\"`\";console.warn(a+\" modifier is required by \"+r+\" modifier in order to work, be sure to include it before \"+r+\"!\")}return o}var Et=[\"auto-start\",\"auto\",\"auto-end\",\"top-start\",\"top\",\"top-end\",\"right-start\",\"right\",\"right-end\",\"bottom-end\",\"bottom\",\"bottom-start\",\"left-end\",\"left\",\"left-start\"],Tt=Et.slice(3);function Ct(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Tt.indexOf(t),i=Tt.slice(n+1).concat(Tt.slice(0,n));return e?i.reverse():i}var St=\"flip\",Dt=\"clockwise\",Nt=\"counterclockwise\";function kt(t,e,n,i){var o=[0,0],r=-1!==[\"right\",\"left\"].indexOf(i),a=t.split(/(\\+|\\-)/).map((function(t){return t.trim()})),s=a.indexOf(lt(a,(function(t){return-1!==t.search(/,|\\s/)})));a[s]&&-1===a[s].indexOf(\",\")&&console.warn(\"Offsets separated by white space(s) are deprecated, use a comma (,) instead.\");var l=/\\s*,\\s*|\\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(u=u.map((function(t,i){var o=(1===i?!r:r)?\"height\":\"width\",a=!1;return t.reduce((function(t,e){return\"\"===t[t.length-1]&&-1!==[\"+\",\"-\"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,i){var o=t.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/),r=+o[1],a=o[2];if(!r)return t;if(0===a.indexOf(\"%\")){var s=void 0;switch(a){case\"%p\":s=n;break;case\"%\":case\"%r\":default:s=i}return K(s)[e]/100*r}if(\"vh\"===a||\"vw\"===a){return(\"vh\"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}return r}(t,o,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,i){_t(n)&&(o[e]+=n*(\"-\"===t[i-1]?-1:1))}))})),o}var At={placement:\"bottom\",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split(\"-\")[0],i=e.split(\"-\")[1];if(i){var o=t.offsets,r=o.reference,a=o.popper,s=-1!==[\"bottom\",\"top\"].indexOf(n),l=s?\"left\":\"top\",u=s?\"width\":\"height\",f={start:z({},l,r[l]),end:z({},l,r[l]+r[u]-a[u])};t.offsets.popper=X({},a,f[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,o=t.offsets,r=o.popper,a=o.reference,s=i.split(\"-\")[0],l=void 0;return l=_t(+n)?[+n,0]:kt(n,r,a,s),\"left\"===s?(r.top+=l[0],r.left-=l[1]):\"right\"===s?(r.top+=l[0],r.left+=l[1]):\"top\"===s?(r.left+=l[0],r.top-=l[1]):\"bottom\"===s&&(r.left+=l[0],r.top+=l[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||R(t.instance.popper);t.instance.reference===n&&(n=R(n));var i=ct(\"transform\"),o=t.instance.popper.style,r=o.top,a=o.left,s=o[i];o.top=\"\",o.left=\"\",o[i]=\"\";var l=et(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);o.top=r,o.left=a,o[i]=s,e.boundaries=l;var u=e.priority,f=t.offsets.popper,d={primary:function(t){var n=f[t];return f[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(f[t],l[t])),z({},t,n)},secondary:function(t){var n=\"right\"===t?\"left\":\"top\",i=f[n];return f[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(f[n],l[t]-(\"right\"===t?f.width:f.height))),z({},n,i)}};return u.forEach((function(t){var e=-1!==[\"left\",\"top\"].indexOf(t)?\"primary\":\"secondary\";f=X({},f,d[e](t))})),t.offsets.popper=f,t},priority:[\"left\",\"right\",\"top\",\"bottom\"],padding:5,boundariesElement:\"scrollParent\"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,o=t.placement.split(\"-\")[0],r=Math.floor,a=-1!==[\"top\",\"bottom\"].indexOf(o),s=a?\"right\":\"bottom\",l=a?\"left\":\"top\",u=a?\"width\":\"height\";return n[s]<r(i[l])&&(t.offsets.popper[l]=r(i[l])-n[u]),n[l]>r(i[s])&&(t.offsets.popper[l]=r(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!wt(t.instance.modifiers,\"arrow\",\"keepTogether\"))return t;var i=e.element;if(\"string\"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn(\"WARNING: `arrow.element` must be child of its popper element!\"),t;var o=t.placement.split(\"-\")[0],r=t.offsets,a=r.popper,s=r.reference,l=-1!==[\"left\",\"right\"].indexOf(o),u=l?\"height\":\"width\",f=l?\"Top\":\"Left\",d=f.toLowerCase(),c=l?\"left\":\"top\",h=l?\"bottom\":\"right\",p=rt(i)[u];s[h]-p<a[d]&&(t.offsets.popper[d]-=a[d]-(s[h]-p)),s[d]+p>a[h]&&(t.offsets.popper[d]+=s[d]+p-a[h]),t.offsets.popper=K(t.offsets.popper);var m=s[d]+s[u]/2-p/2,g=I(t.instance.popper),v=parseFloat(g[\"margin\"+f]),_=parseFloat(g[\"border\"+f+\"Width\"]),b=m-t.offsets.popper[d]-v-_;return b=Math.max(Math.min(a[u]-p,b),0),t.arrowElement=i,t.offsets.arrow=(z(n={},d,Math.round(b)),z(n,c,\"\"),n),t},element:\"[x-arrow]\"},flip:{order:600,enabled:!0,fn:function(t,e){if(dt(t.instance.modifiers,\"inner\"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=et(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split(\"-\")[0],o=at(i),r=t.placement.split(\"-\")[1]||\"\",a=[];switch(e.behavior){case St:a=[i,o];break;case Dt:a=Ct(i);break;case Nt:a=Ct(i,!0);break;default:a=e.behavior}return a.forEach((function(s,l){if(i!==s||a.length===l+1)return t;i=t.placement.split(\"-\")[0],o=at(i);var u=t.offsets.popper,f=t.offsets.reference,d=Math.floor,c=\"left\"===i&&d(u.right)>d(f.left)||\"right\"===i&&d(u.left)<d(f.right)||\"top\"===i&&d(u.bottom)>d(f.top)||\"bottom\"===i&&d(u.top)<d(f.bottom),h=d(u.left)<d(n.left),p=d(u.right)>d(n.right),m=d(u.top)<d(n.top),g=d(u.bottom)>d(n.bottom),v=\"left\"===i&&h||\"right\"===i&&p||\"top\"===i&&m||\"bottom\"===i&&g,_=-1!==[\"top\",\"bottom\"].indexOf(i),b=!!e.flipVariations&&(_&&\"start\"===r&&h||_&&\"end\"===r&&p||!_&&\"start\"===r&&m||!_&&\"end\"===r&&g),y=!!e.flipVariationsByContent&&(_&&\"start\"===r&&p||_&&\"end\"===r&&h||!_&&\"start\"===r&&g||!_&&\"end\"===r&&m),w=b||y;(c||v||w)&&(t.flipped=!0,(c||v)&&(i=a[l+1]),w&&(r=function(t){return\"end\"===t?\"start\":\"start\"===t?\"end\":t}(r)),t.placement=i+(r?\"-\"+r:\"\"),t.offsets.popper=X({},t.offsets.popper,st(t.instance.popper,t.offsets.reference,t.placement)),t=ut(t.instance.modifiers,t,\"flip\"))})),t},behavior:\"flip\",padding:5,boundariesElement:\"viewport\",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split(\"-\")[0],i=t.offsets,o=i.popper,r=i.reference,a=-1!==[\"left\",\"right\"].indexOf(n),s=-1===[\"top\",\"left\"].indexOf(n);return o[a?\"left\":\"top\"]=r[n]-(s?o[a?\"width\":\"height\"]:0),t.placement=at(e),t.offsets.popper=K(o),t}},hide:{order:800,enabled:!0,fn:function(t){if(!wt(t.instance.modifiers,\"hide\",\"preventOverflow\"))return t;var e=t.offsets.reference,n=lt(t.instance.modifiers,(function(t){return\"preventOverflow\"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes[\"x-out-of-boundaries\"]=\"\"}else{if(!1===t.hide)return t;t.hide=!1,t.attributes[\"x-out-of-boundaries\"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,o=t.offsets.popper,r=lt(t.instance.modifiers,(function(t){return\"applyStyle\"===t.name})).gpuAcceleration;void 0!==r&&console.warn(\"WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!\");var a=void 0!==r?r:e.gpuAcceleration,s=R(t.instance.popper),l=G(s),u={position:o.position},f=function(t,e){var n=t.offsets,i=n.popper,o=n.reference,r=Math.round,a=Math.floor,s=function(t){return t},l=r(o.width),u=r(i.width),f=-1!==[\"left\",\"right\"].indexOf(t.placement),d=-1!==t.placement.indexOf(\"-\"),c=e?f||d||l%2==u%2?r:a:s,h=e?r:s;return{left:c(l%2==1&&u%2==1&&!d&&e?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:c(i.right)}}(t,window.devicePixelRatio<2||!yt),d=\"bottom\"===n?\"top\":\"bottom\",c=\"right\"===i?\"left\":\"right\",h=ct(\"transform\"),p=void 0,m=void 0;if(m=\"bottom\"===d?\"HTML\"===s.nodeName?-s.clientHeight+f.bottom:-l.height+f.bottom:f.top,p=\"right\"===c?\"HTML\"===s.nodeName?-s.clientWidth+f.right:-l.width+f.right:f.left,a&&h)u[h]=\"translate3d(\"+p+\"px, \"+m+\"px, 0)\",u[d]=0,u[c]=0,u.willChange=\"transform\";else{var g=\"bottom\"===d?-1:1,v=\"right\"===c?-1:1;u[d]=m*g,u[c]=p*v,u.willChange=d+\", \"+c}var _={\"x-placement\":t.placement};return t.attributes=X({},_,t.attributes),t.styles=X({},u,t.styles),t.arrowStyles=X({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:\"bottom\",y:\"right\"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return bt(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&bt(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,o){var r=ot(o,e,t,n.positionFixed),a=it(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute(\"x-placement\",a),bt(e,{position:n.positionFixed?\"fixed\":\"absolute\"}),n},gpuAcceleration:void 0}}},It=function(){function t(e,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};V(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=k(this.update.bind(this)),this.options=X({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(X({},t.Defaults.modifiers,o.modifiers)).forEach((function(e){i.options.modifiers[e]=X({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return X({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&A(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)})),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return Y(t,[{key:\"update\",value:function(){return ft.call(this)}},{key:\"destroy\",value:function(){return ht.call(this)}},{key:\"enableEventListeners\",value:function(){return gt.call(this)}},{key:\"disableEventListeners\",value:function(){return vt.call(this)}}]),t}();It.Utils=(\"undefined\"!=typeof window?window:global).PopperUtils,It.placements=Et,It.Defaults=At;var Ot=\"dropdown\",xt=i.default.fn[Ot],jt=new RegExp(\"38|40|27\"),Lt={offset:0,flip:!0,boundary:\"scrollParent\",reference:\"toggle\",display:\"dynamic\",popperConfig:null},Pt={offset:\"(number|string|function)\",flip:\"boolean\",boundary:\"(string|element)\",reference:\"(string|element)\",display:\"string\",popperConfig:\"(null|object)\"},Ft=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=t.prototype;return e.toggle=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(\"disabled\")){var e=i.default(this._menu).hasClass(\"show\");t._clearMenus(),e||this.show(!0)}},e.show=function(e){if(void 0===e&&(e=!1),!(this._element.disabled||i.default(this._element).hasClass(\"disabled\")||i.default(this._menu).hasClass(\"show\"))){var n={relatedTarget:this._element},o=i.default.Event(\"show.bs.dropdown\",n),r=t._getParentFromElement(this._element);if(i.default(r).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar&&e){if(\"undefined\"==typeof It)throw new TypeError(\"Bootstrap's dropdowns require Popper.js (https://popper.js.org/)\");var a=this._element;\"parent\"===this._config.reference?a=r:l.isElement(this._config.reference)&&(a=this._config.reference,\"undefined\"!=typeof this._config.reference.jquery&&(a=this._config.reference[0])),\"scrollParent\"!==this._config.boundary&&i.default(r).addClass(\"position-static\"),this._popper=new It(a,this._menu,this._getPopperConfig())}\"ontouchstart\"in document.documentElement&&0===i.default(r).closest(\".navbar-nav\").length&&i.default(document.body).children().on(\"mouseover\",null,i.default.noop),this._element.focus(),this._element.setAttribute(\"aria-expanded\",!0),i.default(this._menu).toggleClass(\"show\"),i.default(r).toggleClass(\"show\").trigger(i.default.Event(\"shown.bs.dropdown\",n))}}},e.hide=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(\"disabled\")&&i.default(this._menu).hasClass(\"show\")){var e={relatedTarget:this._element},n=i.default.Event(\"hide.bs.dropdown\",e),o=t._getParentFromElement(this._element);i.default(o).trigger(n),n.isDefaultPrevented()||(this._popper&&this._popper.destroy(),i.default(this._menu).toggleClass(\"show\"),i.default(o).toggleClass(\"show\").trigger(i.default.Event(\"hidden.bs.dropdown\",e)))}},e.dispose=function(){i.default.removeData(this._element,\"bs.dropdown\"),i.default(this._element).off(\".bs.dropdown\"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;i.default(this._element).on(\"click.bs.dropdown\",(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},e._getConfig=function(t){return t=a({},this.constructor.Default,i.default(this._element).data(),t),l.typeCheckConfig(Ot,t,this.constructor.DefaultType),t},e._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(\".dropdown-menu\"))}return this._menu},e._getPlacement=function(){var t=i.default(this._element.parentNode),e=\"bottom-start\";return t.hasClass(\"dropup\")?e=i.default(this._menu).hasClass(\"dropdown-menu-right\")?\"top-end\":\"top-start\":t.hasClass(\"dropright\")?e=\"right-start\":t.hasClass(\"dropleft\")?e=\"left-start\":i.default(this._menu).hasClass(\"dropdown-menu-right\")&&(e=\"bottom-end\"),e},e._detectNavbar=function(){return i.default(this._element).closest(\".navbar\").length>0},e._getOffset=function(){var t=this,e={};return\"function\"==typeof this._config.offset?e.fn=function(e){return e.offsets=a({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},e._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return\"static\"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),a({},t,this._config.popperConfig)},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this).data(\"bs.dropdown\");if(n||(n=new t(this,\"object\"==typeof e?e:null),i.default(this).data(\"bs.dropdown\",n)),\"string\"==typeof e){if(\"undefined\"==typeof n[e])throw new TypeError('No method named \"'+e+'\"');n[e]()}}))},t._clearMenus=function(e){if(!e||3!==e.which&&(\"keyup\"!==e.type||9===e.which))for(var n=[].slice.call(document.querySelectorAll('[data-toggle=\"dropdown\"]')),o=0,r=n.length;o<r;o++){var a=t._getParentFromElement(n[o]),s=i.default(n[o]).data(\"bs.dropdown\"),l={relatedTarget:n[o]};if(e&&\"click\"===e.type&&(l.clickEvent=e),s){var u=s._menu;if(i.default(a).hasClass(\"show\")&&!(e&&(\"click\"===e.type&&/input|textarea/i.test(e.target.tagName)||\"keyup\"===e.type&&9===e.which)&&i.default.contains(a,e.target))){var f=i.default.Event(\"hide.bs.dropdown\",l);i.default(a).trigger(f),f.isDefaultPrevented()||(\"ontouchstart\"in document.documentElement&&i.default(document.body).children().off(\"mouseover\",null,i.default.noop),n[o].setAttribute(\"aria-expanded\",\"false\"),s._popper&&s._popper.destroy(),i.default(u).removeClass(\"show\"),i.default(a).removeClass(\"show\").trigger(i.default.Event(\"hidden.bs.dropdown\",l)))}}}},t._getParentFromElement=function(t){var e,n=l.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(e){if(!(/input|textarea/i.test(e.target.tagName)?32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||i.default(e.target).closest(\".dropdown-menu\").length):!jt.test(e.which))&&!this.disabled&&!i.default(this).hasClass(\"disabled\")){var n=t._getParentFromElement(this),o=i.default(n).hasClass(\"show\");if(o||27!==e.which){if(e.preventDefault(),e.stopPropagation(),!o||27===e.which||32===e.which)return 27===e.which&&i.default(n.querySelector('[data-toggle=\"dropdown\"]')).trigger(\"focus\"),void i.default(this).trigger(\"click\");var r=[].slice.call(n.querySelectorAll(\".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)\")).filter((function(t){return i.default(t).is(\":visible\")}));if(0!==r.length){var a=r.indexOf(e.target);38===e.which&&a>0&&a--,40===e.which&&a<r.length-1&&a++,a<0&&(a=0),r[a].focus()}}}},r(t,null,[{key:\"VERSION\",get:function(){return\"4.5.3\"}},{key:\"Default\",get:function(){return Lt}},{key:\"DefaultType\",get:function(){return Pt}}]),t}();i.default(document).on(\"keydown.bs.dropdown.data-api\",'[data-toggle=\"dropdown\"]',Ft._dataApiKeydownHandler).on(\"keydown.bs.dropdown.data-api\",\".dropdown-menu\",Ft._dataApiKeydownHandler).on(\"click.bs.dropdown.data-api keyup.bs.dropdown.data-api\",Ft._clearMenus).on(\"click.bs.dropdown.data-api\",'[data-toggle=\"dropdown\"]',(function(t){t.preventDefault(),t.stopPropagation(),Ft._jQueryInterface.call(i.default(this),\"toggle\")})).on(\"click.bs.dropdown.data-api\",\".dropdown form\",(function(t){t.stopPropagation()})),i.default.fn[Ot]=Ft._jQueryInterface,i.default.fn[Ot].Constructor=Ft,i.default.fn[Ot].noConflict=function(){return i.default.fn[Ot]=xt,Ft._jQueryInterface};var Rt=i.default.fn.modal,Ht={backdrop:!0,keyboard:!0,focus:!0,show:!0},Mt={backdrop:\"(boolean|string)\",keyboard:\"boolean\",focus:\"boolean\",show:\"boolean\"},Bt=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(\".modal-dialog\"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){i.default(this._element).hasClass(\"fade\")&&(this._isTransitioning=!0);var n=i.default.Event(\"show.bs.modal\",{relatedTarget:t});i.default(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),i.default(this._element).on(\"click.dismiss.bs.modal\",'[data-dismiss=\"modal\"]',(function(t){return e.hide(t)})),i.default(this._dialog).on(\"mousedown.dismiss.bs.modal\",(function(){i.default(e._element).one(\"mouseup.dismiss.bs.modal\",(function(t){i.default(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)})))}},e.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var n=i.default.Event(\"hide.bs.modal\");if(i.default(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var o=i.default(this._element).hasClass(\"fade\");if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),i.default(document).off(\"focusin.bs.modal\"),i.default(this._element).removeClass(\"show\"),i.default(this._element).off(\"click.dismiss.bs.modal\"),i.default(this._dialog).off(\"mousedown.dismiss.bs.modal\"),o){var r=l.getTransitionDurationFromElement(this._element);i.default(this._element).one(l.TRANSITION_END,(function(t){return e._hideModal(t)})).emulateTransitionEnd(r)}else this._hideModal()}}},e.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return i.default(t).off(\".bs.modal\")})),i.default(document).off(\"focusin.bs.modal\"),i.default.removeData(this._element,\"bs.modal\"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=a({},Ht,t),l.typeCheckConfig(\"modal\",t,Mt),t},e._triggerBackdropTransition=function(){var t=this;if(\"static\"===this._config.backdrop){var e=i.default.Event(\"hidePrevented.bs.modal\");if(i.default(this._element).trigger(e),e.isDefaultPrevented())return;var n=this._element.scrollHeight>document.documentElement.clientHeight;n||(this._element.style.overflowY=\"hidden\"),this._element.classList.add(\"modal-static\");var o=l.getTransitionDurationFromElement(this._dialog);i.default(this._element).off(l.TRANSITION_END),i.default(this._element).one(l.TRANSITION_END,(function(){t._element.classList.remove(\"modal-static\"),n||i.default(t._element).one(l.TRANSITION_END,(function(){t._element.style.overflowY=\"\"})).emulateTransitionEnd(t._element,o)})).emulateTransitionEnd(o),this._element.focus()}else this.hide()},e._showElement=function(t){var e=this,n=i.default(this._element).hasClass(\"fade\"),o=this._dialog?this._dialog.querySelector(\".modal-body\"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display=\"block\",this._element.removeAttribute(\"aria-hidden\"),this._element.setAttribute(\"aria-modal\",!0),this._element.setAttribute(\"role\",\"dialog\"),i.default(this._dialog).hasClass(\"modal-dialog-scrollable\")&&o?o.scrollTop=0:this._element.scrollTop=0,n&&l.reflow(this._element),i.default(this._element).addClass(\"show\"),this._config.focus&&this._enforceFocus();var r=i.default.Event(\"shown.bs.modal\",{relatedTarget:t}),a=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,i.default(e._element).trigger(r)};if(n){var s=l.getTransitionDurationFromElement(this._dialog);i.default(this._dialog).one(l.TRANSITION_END,a).emulateTransitionEnd(s)}else a()},e._enforceFocus=function(){var t=this;i.default(document).off(\"focusin.bs.modal\").on(\"focusin.bs.modal\",(function(e){document!==e.target&&t._element!==e.target&&0===i.default(t._element).has(e.target).length&&t._element.focus()}))},e._setEscapeEvent=function(){var t=this;this._isShown?i.default(this._element).on(\"keydown.dismiss.bs.modal\",(function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()})):this._isShown||i.default(this._element).off(\"keydown.dismiss.bs.modal\")},e._setResizeEvent=function(){var t=this;this._isShown?i.default(window).on(\"resize.bs.modal\",(function(e){return t.handleUpdate(e)})):i.default(window).off(\"resize.bs.modal\")},e._hideModal=function(){var t=this;this._element.style.display=\"none\",this._element.setAttribute(\"aria-hidden\",!0),this._element.removeAttribute(\"aria-modal\"),this._element.removeAttribute(\"role\"),this._isTransitioning=!1,this._showBackdrop((function(){i.default(document.body).removeClass(\"modal-open\"),t._resetAdjustments(),t._resetScrollbar(),i.default(t._element).trigger(\"hidden.bs.modal\")}))},e._removeBackdrop=function(){this._backdrop&&(i.default(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(t){var e=this,n=i.default(this._element).hasClass(\"fade\")?\"fade\":\"\";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement(\"div\"),this._backdrop.className=\"modal-backdrop\",n&&this._backdrop.classList.add(n),i.default(this._backdrop).appendTo(document.body),i.default(this._element).on(\"click.dismiss.bs.modal\",(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&e._triggerBackdropTransition()})),n&&l.reflow(this._backdrop),i.default(this._backdrop).addClass(\"show\"),!t)return;if(!n)return void t();var o=l.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(l.TRANSITION_END,t).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){i.default(this._backdrop).removeClass(\"show\");var r=function(){e._removeBackdrop(),t&&t()};if(i.default(this._element).hasClass(\"fade\")){var a=l.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(l.TRANSITION_END,r).emulateTransitionEnd(a)}else r()}else t&&t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+\"px\"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+\"px\")},e._resetAdjustments=function(){this._element.style.paddingLeft=\"\",this._element.style.paddingRight=\"\"},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(\".fixed-top, .fixed-bottom, .is-fixed, .sticky-top\")),n=[].slice.call(document.querySelectorAll(\".sticky-top\"));i.default(e).each((function(e,n){var o=n.style.paddingRight,r=i.default(n).css(\"padding-right\");i.default(n).data(\"padding-right\",o).css(\"padding-right\",parseFloat(r)+t._scrollbarWidth+\"px\")})),i.default(n).each((function(e,n){var o=n.style.marginRight,r=i.default(n).css(\"margin-right\");i.default(n).data(\"margin-right\",o).css(\"margin-right\",parseFloat(r)-t._scrollbarWidth+\"px\")}));var o=document.body.style.paddingRight,r=i.default(document.body).css(\"padding-right\");i.default(document.body).data(\"padding-right\",o).css(\"padding-right\",parseFloat(r)+this._scrollbarWidth+\"px\")}i.default(document.body).addClass(\"modal-open\")},e._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(\".fixed-top, .fixed-bottom, .is-fixed, .sticky-top\"));i.default(t).each((function(t,e){var n=i.default(e).data(\"padding-right\");i.default(e).removeData(\"padding-right\"),e.style.paddingRight=n||\"\"}));var e=[].slice.call(document.querySelectorAll(\".sticky-top\"));i.default(e).each((function(t,e){var n=i.default(e).data(\"margin-right\");\"undefined\"!=typeof n&&i.default(e).css(\"margin-right\",n).removeData(\"margin-right\")}));var n=i.default(document.body).data(\"padding-right\");i.default(document.body).removeData(\"padding-right\"),document.body.style.paddingRight=n||\"\"},e._getScrollbarWidth=function(){var t=document.createElement(\"div\");t.className=\"modal-scrollbar-measure\",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(e,n){return this.each((function(){var o=i.default(this).data(\"bs.modal\"),r=a({},Ht,i.default(this).data(),\"object\"==typeof e&&e?e:{});if(o||(o=new t(this,r),i.default(this).data(\"bs.modal\",o)),\"string\"==typeof e){if(\"undefined\"==typeof o[e])throw new TypeError('No method named \"'+e+'\"');o[e](n)}else r.show&&o.show(n)}))},r(t,null,[{key:\"VERSION\",get:function(){return\"4.5.3\"}},{key:\"Default\",get:function(){return Ht}}]),t}();i.default(document).on(\"click.bs.modal.data-api\",'[data-toggle=\"modal\"]',(function(t){var e,n=this,o=l.getSelectorFromElement(this);o&&(e=document.querySelector(o));var r=i.default(e).data(\"bs.modal\")?\"toggle\":a({},i.default(e).data(),i.default(this).data());\"A\"!==this.tagName&&\"AREA\"!==this.tagName||t.preventDefault();var s=i.default(e).one(\"show.bs.modal\",(function(t){t.isDefaultPrevented()||s.one(\"hidden.bs.modal\",(function(){i.default(n).is(\":visible\")&&n.focus()}))}));Bt._jQueryInterface.call(i.default(e),r,this)})),i.default.fn.modal=Bt._jQueryInterface,i.default.fn.modal.Constructor=Bt,i.default.fn.modal.noConflict=function(){return i.default.fn.modal=Rt,Bt._jQueryInterface};var qt=[\"background\",\"cite\",\"href\",\"itemtype\",\"longdesc\",\"poster\",\"src\",\"xlink:href\"],Qt={\"*\":[\"class\",\"dir\",\"id\",\"lang\",\"role\",/^aria-[\\w-]*$/i],a:[\"target\",\"href\",\"title\",\"rel\"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:[\"src\",\"srcset\",\"alt\",\"title\",\"width\",\"height\"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Wt=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Ut=/^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[\\d+/a-z]+=*$/i;function Vt(t,e,n){if(0===t.length)return t;if(n&&\"function\"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,\"text/html\"),o=Object.keys(e),r=[].slice.call(i.body.querySelectorAll(\"*\")),a=function(t,n){var i=r[t],a=i.nodeName.toLowerCase();if(-1===o.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),\"continue\";var s=[].slice.call(i.attributes),l=[].concat(e[\"*\"]||[],e[a]||[]);s.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===qt.indexOf(n)||Boolean(t.nodeValue.match(Wt)||t.nodeValue.match(Ut));for(var i=e.filter((function(t){return t instanceof RegExp})),o=0,r=i.length;o<r;o++)if(n.match(i[o]))return!0;return!1})(t,l)||i.removeAttribute(t.nodeName)}))},s=0,l=r.length;s<l;s++)a(s);return i.body.innerHTML}var Yt=\"tooltip\",zt=i.default.fn[Yt],Xt=new RegExp(\"(^|\\\\s)bs-tooltip\\\\S+\",\"g\"),Kt=[\"sanitize\",\"whiteList\",\"sanitizeFn\"],Gt={animation:\"boolean\",template:\"string\",title:\"(string|element|function)\",trigger:\"string\",delay:\"(number|object)\",html:\"boolean\",selector:\"(string|boolean)\",placement:\"(string|function)\",offset:\"(number|string|function)\",container:\"(string|element|boolean)\",fallbackPlacement:\"(string|array)\",boundary:\"(string|element)\",sanitize:\"boolean\",sanitizeFn:\"(null|function)\",whiteList:\"object\",popperConfig:\"(null|object)\"},$t={AUTO:\"auto\",TOP:\"top\",RIGHT:\"right\",BOTTOM:\"bottom\",LEFT:\"left\"},Jt={animation:!0,template:'<div class=\"tooltip\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"tooltip-inner\"></div></div>',trigger:\"hover focus\",title:\"\",delay:0,html:!1,selector:!1,placement:\"top\",offset:0,container:!1,fallbackPlacement:\"flip\",boundary:\"scrollParent\",sanitize:!0,sanitizeFn:null,whiteList:Qt,popperConfig:null},Zt={HIDE:\"hide.bs.tooltip\",HIDDEN:\"hidden.bs.tooltip\",SHOW:\"show.bs.tooltip\",SHOWN:\"shown.bs.tooltip\",INSERTED:\"inserted.bs.tooltip\",CLICK:\"click.bs.tooltip\",FOCUSIN:\"focusin.bs.tooltip\",FOCUSOUT:\"focusout.bs.tooltip\",MOUSEENTER:\"mouseenter.bs.tooltip\",MOUSELEAVE:\"mouseleave.bs.tooltip\"},te=function(){function t(t,e){if(\"undefined\"==typeof It)throw new TypeError(\"Bootstrap's tooltips require Popper.js (https://popper.js.org/)\");this._isEnabled=!0,this._timeout=0,this._hoverState=\"\",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var e=t.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=i.default(t.currentTarget).data(e);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),i.default(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(i.default(this.getTipElement()).hasClass(\"show\"))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),i.default.removeData(this.element,this.constructor.DATA_KEY),i.default(this.element).off(this.constructor.EVENT_KEY),i.default(this.element).closest(\".modal\").off(\"hide.bs.modal\",this._hideModalHandler),this.tip&&i.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if(\"none\"===i.default(this.element).css(\"display\"))throw new Error(\"Please use show on visible elements\");var e=i.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){i.default(this.element).trigger(e);var n=l.findShadowRoot(this.element),o=i.default.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!o)return;var r=this.getTipElement(),a=l.getUID(this.constructor.NAME);r.setAttribute(\"id\",a),this.element.setAttribute(\"aria-describedby\",a),this.setContent(),this.config.animation&&i.default(r).addClass(\"fade\");var s=\"function\"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,u=this._getAttachment(s);this.addAttachmentClass(u);var f=this._getContainer();i.default(r).data(this.constructor.DATA_KEY,this),i.default.contains(this.element.ownerDocument.documentElement,this.tip)||i.default(r).appendTo(f),i.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new It(this.element,r,this._getPopperConfig(u)),i.default(r).addClass(\"show\"),\"ontouchstart\"in document.documentElement&&i.default(document.body).children().on(\"mouseover\",null,i.default.noop);var d=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,i.default(t.element).trigger(t.constructor.Event.SHOWN),\"out\"===e&&t._leave(null,t)};if(i.default(this.tip).hasClass(\"fade\")){var c=l.getTransitionDurationFromElement(this.tip);i.default(this.tip).one(l.TRANSITION_END,d).emulateTransitionEnd(c)}else d()}},e.hide=function(t){var e=this,n=this.getTipElement(),o=i.default.Event(this.constructor.Event.HIDE),r=function(){\"show\"!==e._hoverState&&n.parentNode&&n.parentNode.removeChild(n),e._cleanTipClass(),e.element.removeAttribute(\"aria-describedby\"),i.default(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(i.default(this.element).trigger(o),!o.isDefaultPrevented()){if(i.default(n).removeClass(\"show\"),\"ontouchstart\"in document.documentElement&&i.default(document.body).children().off(\"mouseover\",null,i.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,i.default(this.tip).hasClass(\"fade\")){var a=l.getTransitionDurationFromElement(n);i.default(n).one(l.TRANSITION_END,r).emulateTransitionEnd(a)}else r();this._hoverState=\"\"}},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(t){i.default(this.getTipElement()).addClass(\"bs-tooltip-\"+t)},e.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},e.setContent=function(){var t=this.getTipElement();this.setElementContent(i.default(t.querySelectorAll(\".tooltip-inner\")),this.getTitle()),i.default(t).removeClass(\"fade show\")},e.setElementContent=function(t,e){\"object\"!=typeof e||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=Vt(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?i.default(e).parent().is(t)||t.empty().append(e):t.text(i.default(e).text())},e.getTitle=function(){var t=this.element.getAttribute(\"data-original-title\");return t||(t=\"function\"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},e._getPopperConfig=function(t){var e=this;return a({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:\".arrow\"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},this.config.popperConfig)},e._getOffset=function(){var t=this,e={};return\"function\"==typeof this.config.offset?e.fn=function(e){return e.offsets=a({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},e._getContainer=function(){return!1===this.config.container?document.body:l.isElement(this.config.container)?i.default(this.config.container):i.default(document).find(this.config.container)},e._getAttachment=function(t){return $t[t.toUpperCase()]},e._setListeners=function(){var t=this;this.config.trigger.split(\" \").forEach((function(e){if(\"click\"===e)i.default(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if(\"manual\"!==e){var n=\"hover\"===e?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,o=\"hover\"===e?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;i.default(t.element).on(n,t.config.selector,(function(e){return t._enter(e)})).on(o,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t.element&&t.hide()},i.default(this.element).closest(\".modal\").on(\"hide.bs.modal\",this._hideModalHandler),this.config.selector?this.config=a({},this.config,{trigger:\"manual\",selector:\"\"}):this._fixTitle()},e._fixTitle=function(){var t=typeof this.element.getAttribute(\"data-original-title\");(this.element.getAttribute(\"title\")||\"string\"!==t)&&(this.element.setAttribute(\"data-original-title\",this.element.getAttribute(\"title\")||\"\"),this.element.setAttribute(\"title\",\"\"))},e._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||i.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),i.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger[\"focusin\"===t.type?\"focus\":\"hover\"]=!0),i.default(e.getTipElement()).hasClass(\"show\")||\"show\"===e._hoverState?e._hoverState=\"show\":(clearTimeout(e._timeout),e._hoverState=\"show\",e.config.delay&&e.config.delay.show?e._timeout=setTimeout((function(){\"show\"===e._hoverState&&e.show()}),e.config.delay.show):e.show())},e._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||i.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),i.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger[\"focusout\"===t.type?\"focus\":\"hover\"]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=\"out\",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((function(){\"out\"===e._hoverState&&e.hide()}),e.config.delay.hide):e.hide())},e._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},e._getConfig=function(t){var e=i.default(this.element).data();return Object.keys(e).forEach((function(t){-1!==Kt.indexOf(t)&&delete e[t]})),\"number\"==typeof(t=a({},this.constructor.Default,e,\"object\"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),\"number\"==typeof t.title&&(t.title=t.title.toString()),\"number\"==typeof t.content&&(t.content=t.content.toString()),l.typeCheckConfig(Yt,t,this.constructor.DefaultType),t.sanitize&&(t.template=Vt(t.template,t.whiteList,t.sanitizeFn)),t},e._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},e._cleanTipClass=function(){var t=i.default(this.getTipElement()),e=t.attr(\"class\").match(Xt);null!==e&&e.length&&t.removeClass(e.join(\"\"))},e._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},e._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute(\"x-placement\")&&(i.default(t).removeClass(\"fade\"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this),o=n.data(\"bs.tooltip\"),r=\"object\"==typeof e&&e;if((o||!/dispose|hide/.test(e))&&(o||(o=new t(this,r),n.data(\"bs.tooltip\",o)),\"string\"==typeof e)){if(\"undefined\"==typeof o[e])throw new TypeError('No method named \"'+e+'\"');o[e]()}}))},r(t,null,[{key:\"VERSION\",get:function(){return\"4.5.3\"}},{key:\"Default\",get:function(){return Jt}},{key:\"NAME\",get:function(){return Yt}},{key:\"DATA_KEY\",get:function(){return\"bs.tooltip\"}},{key:\"Event\",get:function(){return Zt}},{key:\"EVENT_KEY\",get:function(){return\".bs.tooltip\"}},{key:\"DefaultType\",get:function(){return Gt}}]),t}();i.default.fn[Yt]=te._jQueryInterface,i.default.fn[Yt].Constructor=te,i.default.fn[Yt].noConflict=function(){return i.default.fn[Yt]=zt,te._jQueryInterface};var ee=\"popover\",ne=i.default.fn[ee],ie=new RegExp(\"(^|\\\\s)bs-popover\\\\S+\",\"g\"),oe=a({},te.Default,{placement:\"right\",trigger:\"click\",content:\"\",template:'<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>'}),re=a({},te.DefaultType,{content:\"(string|element|function)\"}),ae={HIDE:\"hide.bs.popover\",HIDDEN:\"hidden.bs.popover\",SHOW:\"show.bs.popover\",SHOWN:\"shown.bs.popover\",INSERTED:\"inserted.bs.popover\",CLICK:\"click.bs.popover\",FOCUSIN:\"focusin.bs.popover\",FOCUSOUT:\"focusout.bs.popover\",MOUSEENTER:\"mouseenter.bs.popover\",MOUSELEAVE:\"mouseleave.bs.popover\"},se=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=o.prototype;return a.isWithContent=function(){return this.getTitle()||this._getContent()},a.addAttachmentClass=function(t){i.default(this.getTipElement()).addClass(\"bs-popover-\"+t)},a.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},a.setContent=function(){var t=i.default(this.getTipElement());this.setElementContent(t.find(\".popover-header\"),this.getTitle());var e=this._getContent();\"function\"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(\".popover-body\"),e),t.removeClass(\"fade show\")},a._getContent=function(){return this.element.getAttribute(\"data-content\")||this.config.content},a._cleanTipClass=function(){var t=i.default(this.getTipElement()),e=t.attr(\"class\").match(ie);null!==e&&e.length>0&&t.removeClass(e.join(\"\"))},o._jQueryInterface=function(t){return this.each((function(){var e=i.default(this).data(\"bs.popover\"),n=\"object\"==typeof t?t:null;if((e||!/dispose|hide/.test(t))&&(e||(e=new o(this,n),i.default(this).data(\"bs.popover\",e)),\"string\"==typeof t)){if(\"undefined\"==typeof e[t])throw new TypeError('No method named \"'+t+'\"');e[t]()}}))},r(o,null,[{key:\"VERSION\",get:function(){return\"4.5.3\"}},{key:\"Default\",get:function(){return oe}},{key:\"NAME\",get:function(){return ee}},{key:\"DATA_KEY\",get:function(){return\"bs.popover\"}},{key:\"Event\",get:function(){return ae}},{key:\"EVENT_KEY\",get:function(){return\".bs.popover\"}},{key:\"DefaultType\",get:function(){return re}}]),o}(te);i.default.fn[ee]=se._jQueryInterface,i.default.fn[ee].Constructor=se,i.default.fn[ee].noConflict=function(){return i.default.fn[ee]=ne,se._jQueryInterface};var le=\"scrollspy\",ue=i.default.fn[le],fe={offset:10,method:\"auto\",target:\"\"},de={offset:\"number\",method:\"string\",target:\"(string|element)\"},ce=function(){function t(t,e){var n=this;this._element=t,this._scrollElement=\"BODY\"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+\" .nav-link,\"+this._config.target+\" .list-group-item,\"+this._config.target+\" .dropdown-item\",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,i.default(this._scrollElement).on(\"scroll.bs.scrollspy\",(function(t){return n._process(t)})),this.refresh(),this._process()}var e=t.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?\"offset\":\"position\",n=\"auto\"===this._config.method?e:this._config.method,o=\"position\"===n?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var e,r=l.getSelectorFromElement(t);if(r&&(e=document.querySelector(r)),e){var a=e.getBoundingClientRect();if(a.width||a.height)return[i.default(e)[n]().top+o,r]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},e.dispose=function(){i.default.removeData(this._element,\"bs.scrollspy\"),i.default(this._scrollElement).off(\".bs.scrollspy\"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if(\"string\"!=typeof(t=a({},fe,\"object\"==typeof t&&t?t:{})).target&&l.isElement(t.target)){var e=i.default(t.target).attr(\"id\");e||(e=l.getUID(le),i.default(t.target).attr(\"id\",e)),t.target=\"#\"+e}return l.typeCheckConfig(le,t,de),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;){this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&(\"undefined\"==typeof this._offsets[o+1]||t<this._offsets[o+1])&&this._activate(this._targets[o])}}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(\",\").map((function(e){return e+'[data-target=\"'+t+'\"],'+e+'[href=\"'+t+'\"]'})),n=i.default([].slice.call(document.querySelectorAll(e.join(\",\"))));n.hasClass(\"dropdown-item\")?(n.closest(\".dropdown\").find(\".dropdown-toggle\").addClass(\"active\"),n.addClass(\"active\")):(n.addClass(\"active\"),n.parents(\".nav, .list-group\").prev(\".nav-link, .list-group-item\").addClass(\"active\"),n.parents(\".nav, .list-group\").prev(\".nav-item\").children(\".nav-link\").addClass(\"active\")),i.default(this._scrollElement).trigger(\"activate.bs.scrollspy\",{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains(\"active\")})).forEach((function(t){return t.classList.remove(\"active\")}))},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this).data(\"bs.scrollspy\");if(n||(n=new t(this,\"object\"==typeof e&&e),i.default(this).data(\"bs.scrollspy\",n)),\"string\"==typeof e){if(\"undefined\"==typeof n[e])throw new TypeError('No method named \"'+e+'\"');n[e]()}}))},r(t,null,[{key:\"VERSION\",get:function(){return\"4.5.3\"}},{key:\"Default\",get:function(){return fe}}]),t}();i.default(window).on(\"load.bs.scrollspy.data-api\",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy=\"scroll\"]')),e=t.length;e--;){var n=i.default(t[e]);ce._jQueryInterface.call(n,n.data())}})),i.default.fn[le]=ce._jQueryInterface,i.default.fn[le].Constructor=ce,i.default.fn[le].noConflict=function(){return i.default.fn[le]=ue,ce._jQueryInterface};var he=i.default.fn.tab,pe=function(){function t(t){this._element=t}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&i.default(this._element).hasClass(\"active\")||i.default(this._element).hasClass(\"disabled\"))){var e,n,o=i.default(this._element).closest(\".nav, .list-group\")[0],r=l.getSelectorFromElement(this._element);if(o){var a=\"UL\"===o.nodeName||\"OL\"===o.nodeName?\"> li > .active\":\".active\";n=(n=i.default.makeArray(i.default(o).find(a)))[n.length-1]}var s=i.default.Event(\"hide.bs.tab\",{relatedTarget:this._element}),u=i.default.Event(\"show.bs.tab\",{relatedTarget:n});if(n&&i.default(n).trigger(s),i.default(this._element).trigger(u),!u.isDefaultPrevented()&&!s.isDefaultPrevented()){r&&(e=document.querySelector(r)),this._activate(this._element,o);var f=function(){var e=i.default.Event(\"hidden.bs.tab\",{relatedTarget:t._element}),o=i.default.Event(\"shown.bs.tab\",{relatedTarget:n});i.default(n).trigger(e),i.default(t._element).trigger(o)};e?this._activate(e,e.parentNode,f):f()}}},e.dispose=function(){i.default.removeData(this._element,\"bs.tab\"),this._element=null},e._activate=function(t,e,n){var o=this,r=(!e||\"UL\"!==e.nodeName&&\"OL\"!==e.nodeName?i.default(e).children(\".active\"):i.default(e).find(\"> li > .active\"))[0],a=n&&r&&i.default(r).hasClass(\"fade\"),s=function(){return o._transitionComplete(t,r,n)};if(r&&a){var u=l.getTransitionDurationFromElement(r);i.default(r).removeClass(\"show\").one(l.TRANSITION_END,s).emulateTransitionEnd(u)}else s()},e._transitionComplete=function(t,e,n){if(e){i.default(e).removeClass(\"active\");var o=i.default(e.parentNode).find(\"> .dropdown-menu .active\")[0];o&&i.default(o).removeClass(\"active\"),\"tab\"===e.getAttribute(\"role\")&&e.setAttribute(\"aria-selected\",!1)}if(i.default(t).addClass(\"active\"),\"tab\"===t.getAttribute(\"role\")&&t.setAttribute(\"aria-selected\",!0),l.reflow(t),t.classList.contains(\"fade\")&&t.classList.add(\"show\"),t.parentNode&&i.default(t.parentNode).hasClass(\"dropdown-menu\")){var r=i.default(t).closest(\".dropdown\")[0];if(r){var a=[].slice.call(r.querySelectorAll(\".dropdown-toggle\"));i.default(a).addClass(\"active\")}t.setAttribute(\"aria-expanded\",!0)}n&&n()},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this),o=n.data(\"bs.tab\");if(o||(o=new t(this),n.data(\"bs.tab\",o)),\"string\"==typeof e){if(\"undefined\"==typeof o[e])throw new TypeError('No method named \"'+e+'\"');o[e]()}}))},r(t,null,[{key:\"VERSION\",get:function(){return\"4.5.3\"}}]),t}();i.default(document).on(\"click.bs.tab.data-api\",'[data-toggle=\"tab\"], [data-toggle=\"pill\"], [data-toggle=\"list\"]',(function(t){t.preventDefault(),pe._jQueryInterface.call(i.default(this),\"show\")})),i.default.fn.tab=pe._jQueryInterface,i.default.fn.tab.Constructor=pe,i.default.fn.tab.noConflict=function(){return i.default.fn.tab=he,pe._jQueryInterface};var me=i.default.fn.toast,ge={animation:\"boolean\",autohide:\"boolean\",delay:\"number\"},ve={animation:!0,autohide:!0,delay:500},_e=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var e=t.prototype;return e.show=function(){var t=this,e=i.default.Event(\"show.bs.toast\");if(i.default(this._element).trigger(e),!e.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add(\"fade\");var n=function(){t._element.classList.remove(\"showing\"),t._element.classList.add(\"show\"),i.default(t._element).trigger(\"shown.bs.toast\"),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove(\"hide\"),l.reflow(this._element),this._element.classList.add(\"showing\"),this._config.animation){var o=l.getTransitionDurationFromElement(this._element);i.default(this._element).one(l.TRANSITION_END,n).emulateTransitionEnd(o)}else n()}},e.hide=function(){if(this._element.classList.contains(\"show\")){var t=i.default.Event(\"hide.bs.toast\");i.default(this._element).trigger(t),t.isDefaultPrevented()||this._close()}},e.dispose=function(){this._clearTimeout(),this._element.classList.contains(\"show\")&&this._element.classList.remove(\"show\"),i.default(this._element).off(\"click.dismiss.bs.toast\"),i.default.removeData(this._element,\"bs.toast\"),this._element=null,this._config=null},e._getConfig=function(t){return t=a({},ve,i.default(this._element).data(),\"object\"==typeof t&&t?t:{}),l.typeCheckConfig(\"toast\",t,this.constructor.DefaultType),t},e._setListeners=function(){var t=this;i.default(this._element).on(\"click.dismiss.bs.toast\",'[data-dismiss=\"toast\"]',(function(){return t.hide()}))},e._close=function(){var t=this,e=function(){t._element.classList.add(\"hide\"),i.default(t._element).trigger(\"hidden.bs.toast\")};if(this._element.classList.remove(\"show\"),this._config.animation){var n=l.getTransitionDurationFromElement(this._element);i.default(this._element).one(l.TRANSITION_END,e).emulateTransitionEnd(n)}else e()},e._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this),o=n.data(\"bs.toast\");if(o||(o=new t(this,\"object\"==typeof e&&e),n.data(\"bs.toast\",o)),\"string\"==typeof e){if(\"undefined\"==typeof o[e])throw new TypeError('No method named \"'+e+'\"');o[e](this)}}))},r(t,null,[{key:\"VERSION\",get:function(){return\"4.5.3\"}},{key:\"DefaultType\",get:function(){return ge}},{key:\"Default\",get:function(){return ve}}]),t}();i.default.fn.toast=_e._jQueryInterface,i.default.fn.toast.Constructor=_e,i.default.fn.toast.noConflict=function(){return i.default.fn.toast=me,_e._jQueryInterface},t.Alert=d,t.Button=h,t.Carousel=y,t.Collapse=S,t.Dropdown=Ft,t.Modal=Bt,t.Popover=se,t.Scrollspy=ce,t.Tab=pe,t.Toast=_e,t.Tooltip=te,t.Util=l,Object.defineProperty(t,\"__esModule\",{value:!0})}));\r\n//# sourceMappingURL=bootstrap.bundle.min.js.map","/*!\r\n* metismenu https://github.com/onokumus/metismenu#readme\r\n* A jQuery menu plugin\r\n* @version 3.0.6\r\n* @author Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)\r\n* @license: MIT \r\n*/\r\n!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n(require(\"jquery\")):\"function\"==typeof define&&define.amd?define([\"jquery\"],n):(e=e||self).metisMenu=n(e.jQuery)}(this,function(o){\"use strict\";function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}o=o&&Object.prototype.hasOwnProperty.call(o,\"default\")?o.default:o;var i,n,r,s=(n=\"transitionend\",r={TRANSITION_END:\"mmTransitionEnd\",triggerTransitionEnd:function(e){i(e).trigger(n)},supportsTransitionEnd:function(){return Boolean(n)}},(i=o).fn.mmEmulateTransitionEnd=e,i.event.special[r.TRANSITION_END]={bindType:n,delegateType:n,handle:function(e){if(i(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}},r);function e(e){var n=this,t=!1;return i(this).one(r.TRANSITION_END,function(){t=!0}),setTimeout(function(){t||r.triggerTransitionEnd(n)},e),this}var t=\"metisMenu\",g=\"metisMenu\",l=\".\"+g,h=o.fn[t],f={toggle:!0,preventDefault:!0,triggerElement:\"a\",parentTrigger:\"li\",subMenu:\"ul\"},d={SHOW:\"show\"+l,SHOWN:\"shown\"+l,HIDE:\"hide\"+l,HIDDEN:\"hidden\"+l,CLICK_DATA_API:\"click\"+l+\".data-api\"},u=\"metismenu\",c=\"mm-active\",p=\"mm-show\",m=\"mm-collapse\",T=\"mm-collapsing\",v=function(){function r(e,n){this.element=e,this.config=a({},f,{},n),this.transitioning=null,this.init()}var e=r.prototype;return e.init=function(){var a=this,s=this.config,e=o(this.element);e.addClass(u),e.find(s.parentTrigger+\".\"+c).children(s.triggerElement).attr(\"aria-expanded\",\"true\"),e.find(s.parentTrigger+\".\"+c).parents(s.parentTrigger).addClass(c),e.find(s.parentTrigger+\".\"+c).parents(s.parentTrigger).children(s.triggerElement).attr(\"aria-expanded\",\"true\"),e.find(s.parentTrigger+\".\"+c).has(s.subMenu).children(s.subMenu).addClass(m+\" \"+p),e.find(s.parentTrigger).not(\".\"+c).has(s.subMenu).children(s.subMenu).addClass(m),e.find(s.parentTrigger).children(s.triggerElement).on(d.CLICK_DATA_API,function(e){var n=o(this);if(\"true\"!==n.attr(\"aria-disabled\")){s.preventDefault&&\"#\"===n.attr(\"href\")&&e.preventDefault();var t=n.parent(s.parentTrigger),i=t.siblings(s.parentTrigger),r=i.children(s.triggerElement);t.hasClass(c)?(n.attr(\"aria-expanded\",\"false\"),a.removeActive(t)):(n.attr(\"aria-expanded\",\"true\"),a.setActive(t),s.toggle&&(a.removeActive(i),r.attr(\"aria-expanded\",\"false\"))),s.onTransitionStart&&s.onTransitionStart(e)}})},e.setActive=function(e){o(e).addClass(c);var n=o(e).children(this.config.subMenu);0<n.length&&!n.hasClass(p)&&this.show(n)},e.removeActive=function(e){o(e).removeClass(c);var n=o(e).children(this.config.subMenu+\".\"+p);0<n.length&&this.hide(n)},e.show=function(e){var n=this;if(!this.transitioning&&!o(e).hasClass(T)){var t=o(e),i=o.Event(d.SHOW);if(t.trigger(i),!i.isDefaultPrevented()){if(t.parent(this.config.parentTrigger).addClass(c),this.config.toggle){var r=t.parent(this.config.parentTrigger).siblings().children(this.config.subMenu+\".\"+p);this.hide(r)}t.removeClass(m).addClass(T).height(0),this.setTransitioning(!0);t.height(e[0].scrollHeight).one(s.TRANSITION_END,function(){n.config&&n.element&&(t.removeClass(T).addClass(m+\" \"+p).height(\"\"),n.setTransitioning(!1),t.trigger(d.SHOWN))}).mmEmulateTransitionEnd(350)}}},e.hide=function(e){var n=this;if(!this.transitioning&&o(e).hasClass(p)){var t=o(e),i=o.Event(d.HIDE);if(t.trigger(i),!i.isDefaultPrevented()){t.parent(this.config.parentTrigger).removeClass(c),t.height(t.height())[0].offsetHeight,t.addClass(T).removeClass(m).removeClass(p),this.setTransitioning(!0);var r=function(){n.config&&n.element&&(n.transitioning&&n.config.onTransitionEnd&&n.config.onTransitionEnd(),n.setTransitioning(!1),t.trigger(d.HIDDEN),t.removeClass(T).addClass(m))};0===t.height()||\"none\"===t.css(\"display\")?r():t.height(0).one(s.TRANSITION_END,r).mmEmulateTransitionEnd(350)}}},e.setTransitioning=function(e){this.transitioning=e},e.dispose=function(){o.removeData(this.element,g),o(this.element).find(this.config.parentTrigger).children(this.config.triggerElement).off(d.CLICK_DATA_API),this.transitioning=null,this.config=null,this.element=null},r.jQueryInterface=function(i){return this.each(function(){var e=o(this),n=e.data(g),t=a({},f,{},e.data(),{},\"object\"==typeof i&&i?i:{});if(n||(n=new r(this,t),e.data(g,n)),\"string\"==typeof i){if(void 0===n[i])throw new Error('No method named \"'+i+'\"');n[i]()}})},r}();return o.fn[t]=v.jQueryInterface,o.fn[t].Constructor=v,o.fn[t].noConflict=function(){return o.fn[t]=h,v.jQueryInterface},v});\r\n//# sourceMappingURL=metisMenu.min.js.map","/**\r\n * SimpleBar.js - v4.2.3\r\n * Scrollbars, simpler.\r\n * https://grsmto.github.io/simplebar/\r\n *\r\n * Made by Adrien Denat from a fork by Jonathan Nicol\r\n * Under MIT License\r\n */\r\n\r\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=t||self).SimpleBar=e()}(this,function(){\"use strict\";var t=function(t){if(\"function\"!=typeof t)throw TypeError(String(t)+\" is not a function\");return t},e=function(t){try{return!!t()}catch(t){return!0}},i={}.toString,r=function(t){return i.call(t).slice(8,-1)},n=\"\".split,s=e(function(){return!Object(\"z\").propertyIsEnumerable(0)})?function(t){return\"String\"==r(t)?n.call(t,\"\"):Object(t)}:Object,o=function(t){if(null==t)throw TypeError(\"Can't call method on \"+t);return t},a=function(t){return Object(o(t))},l=Math.ceil,c=Math.floor,u=function(t){return isNaN(t=+t)?0:(t>0?c:l)(t)},h=Math.min,f=function(t){return t>0?h(u(t),9007199254740991):0},d=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t},p=Array.isArray||function(t){return\"Array\"==r(t)},v=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function g(t,e){return t(e={exports:{}},e.exports),e.exports}var b,m,y,x,E=\"object\"==typeof window&&window&&window.Math==Math?window:\"object\"==typeof self&&self&&self.Math==Math?self:Function(\"return this\")(),w=!e(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a}),O=E.document,_=d(O)&&d(O.createElement),S=!w&&!e(function(){return 7!=Object.defineProperty((t=\"div\",_?O.createElement(t):{}),\"a\",{get:function(){return 7}}).a;var t}),L=function(t){if(!d(t))throw TypeError(String(t)+\" is not an object\");return t},A=function(t,e){if(!d(t))return t;var i,r;if(e&&\"function\"==typeof(i=t.toString)&&!d(r=i.call(t)))return r;if(\"function\"==typeof(i=t.valueOf)&&!d(r=i.call(t)))return r;if(!e&&\"function\"==typeof(i=t.toString)&&!d(r=i.call(t)))return r;throw TypeError(\"Can't convert object to primitive value\")},M=Object.defineProperty,k={f:w?M:function(t,e,i){if(L(t),e=A(e,!0),L(i),S)try{return M(t,e,i)}catch(t){}if(\"get\"in i||\"set\"in i)throw TypeError(\"Accessors not supported\");return\"value\"in i&&(t[e]=i.value),t}},W=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},T=w?function(t,e,i){return k.f(t,e,W(1,i))}:function(t,e,i){return t[e]=i,t},R=function(t,e){try{T(E,t,e)}catch(i){E[t]=e}return e},j=g(function(t){var e=E[\"__core-js_shared__\"]||R(\"__core-js_shared__\",{});(t.exports=function(t,i){return e[t]||(e[t]=void 0!==i?i:{})})(\"versions\",[]).push({version:\"3.0.1\",mode:\"global\",copyright:\" 2019 Denis Pushkarev (zloirock.ru)\"})}),C=0,N=Math.random(),z=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++C+N).toString(36))},D=!e(function(){return!String(Symbol())}),V=j(\"wks\"),I=E.Symbol,B=function(t){return V[t]||(V[t]=D&&I[t]||(D?I:z)(\"Symbol.\"+t))},P=B(\"species\"),H=function(t,e){var i;return p(t)&&(\"function\"!=typeof(i=t.constructor)||i!==Array&&!p(i.prototype)?d(i)&&null===(i=i[P])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},F=function(e,i){var r=1==e,n=2==e,o=3==e,l=4==e,c=6==e,u=5==e||c,h=i||H;return function(i,d,p){for(var v,g,b=a(i),m=s(b),y=function(e,i,r){if(t(e),void 0===i)return e;switch(r){case 0:return function(){return e.call(i)};case 1:return function(t){return e.call(i,t)};case 2:return function(t,r){return e.call(i,t,r)};case 3:return function(t,r,n){return e.call(i,t,r,n)}}return function(){return e.apply(i,arguments)}}(d,p,3),x=f(m.length),E=0,w=r?h(i,x):n?h(i,0):void 0;x>E;E++)if((u||E in m)&&(g=y(v=m[E],E,b),e))if(r)w[E]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return E;case 2:w.push(v)}else if(l)return!1;return c?-1:o||l?l:w}},q=B(\"species\"),$={}.propertyIsEnumerable,Y=Object.getOwnPropertyDescriptor,X={f:Y&&!$.call({1:2},1)?function(t){var e=Y(this,t);return!!e&&e.enumerable}:$},G=function(t){return s(o(t))},K={}.hasOwnProperty,U=function(t,e){return K.call(t,e)},J=Object.getOwnPropertyDescriptor,Q={f:w?J:function(t,e){if(t=G(t),e=A(e,!0),S)try{return J(t,e)}catch(t){}if(U(t,e))return W(!X.f.call(t,e),t[e])}},Z=j(\"native-function-to-string\",Function.toString),tt=E.WeakMap,et=\"function\"==typeof tt&&/native code/.test(Z.call(tt)),it=j(\"keys\"),rt={},nt=E.WeakMap;if(et){var st=new nt,ot=st.get,at=st.has,lt=st.set;b=function(t,e){return lt.call(st,t,e),e},m=function(t){return ot.call(st,t)||{}},y=function(t){return at.call(st,t)}}else{var ct=it[x=\"state\"]||(it[x]=z(x));rt[ct]=!0,b=function(t,e){return T(t,ct,e),e},m=function(t){return U(t,ct)?t[ct]:{}},y=function(t){return U(t,ct)}}var ut,ht,ft={set:b,get:m,has:y,enforce:function(t){return y(t)?m(t):b(t,{})},getterFor:function(t){return function(e){var i;if(!d(e)||(i=m(e)).type!==t)throw TypeError(\"Incompatible receiver, \"+t+\" required\");return i}}},dt=g(function(t){var e=ft.get,i=ft.enforce,r=String(Z).split(\"toString\");j(\"inspectSource\",function(t){return Z.call(t)}),(t.exports=function(t,e,n,s){var o=!!s&&!!s.unsafe,a=!!s&&!!s.enumerable,l=!!s&&!!s.noTargetGet;\"function\"==typeof n&&(\"string\"!=typeof e||U(n,\"name\")||T(n,\"name\",e),i(n).source=r.join(\"string\"==typeof e?e:\"\")),t!==E?(o?!l&&t[e]&&(a=!0):delete t[e],a?t[e]=n:T(t,e,n)):a?t[e]=n:R(e,n)})(Function.prototype,\"toString\",function(){return\"function\"==typeof this&&e(this).source||Z.call(this)})}),pt=Math.max,vt=Math.min,gt=(ut=!1,function(t,e,i){var r,n=G(t),s=f(n.length),o=function(t,e){var i=u(t);return i<0?pt(i+e,0):vt(i,e)}(i,s);if(ut&&e!=e){for(;s>o;)if((r=n[o++])!=r)return!0}else for(;s>o;o++)if((ut||o in n)&&n[o]===e)return ut||o||0;return!ut&&-1}),bt=function(t,e){var i,r=G(t),n=0,s=[];for(i in r)!U(rt,i)&&U(r,i)&&s.push(i);for(;e.length>n;)U(r,i=e[n++])&&(~gt(s,i)||s.push(i));return s},mt=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],yt=mt.concat(\"length\",\"prototype\"),xt={f:Object.getOwnPropertyNames||function(t){return bt(t,yt)}},Et={f:Object.getOwnPropertySymbols},wt=E.Reflect,Ot=wt&&wt.ownKeys||function(t){var e=xt.f(L(t)),i=Et.f;return i?e.concat(i(t)):e},_t=function(t,e){for(var i=Ot(e),r=k.f,n=Q.f,s=0;s<i.length;s++){var o=i[s];U(t,o)||r(t,o,n(e,o))}},St=/#|\\.prototype\\./,Lt=function(t,i){var r=Mt[At(t)];return r==Wt||r!=kt&&(\"function\"==typeof i?e(i):!!i)},At=Lt.normalize=function(t){return String(t).replace(St,\".\").toLowerCase()},Mt=Lt.data={},kt=Lt.NATIVE=\"N\",Wt=Lt.POLYFILL=\"P\",Tt=Lt,Rt=Q.f,jt=function(t,e){var i,r,n,s,o,a=t.target,l=t.global,c=t.stat;if(i=l?E:c?E[a]||R(a,{}):(E[a]||{}).prototype)for(r in e){if(s=e[r],n=t.noTargetGet?(o=Rt(i,r))&&o.value:i[r],!Tt(l?r:a+(c?\".\":\"#\")+r,t.forced)&&void 0!==n){if(typeof s==typeof n)continue;_t(s,n)}(t.sham||n&&n.sham)&&T(s,\"sham\",!0),dt(i,r,s,t)}},Ct=F(2);jt({target:\"Array\",proto:!0,forced:!(ht=\"filter\",!e(function(){var t=[];return(t.constructor={})[q]=function(){return{foo:1}},1!==t[ht](Boolean).foo}))},{filter:function(t){return Ct(this,t,arguments[1])}});var Nt=function(t,i){var r=[][t];return!r||!e(function(){r.call(null,i||function(){throw 1},1)})},zt=[].forEach,Dt=F(0),Vt=Nt(\"forEach\")?function(t){return Dt(this,t,arguments[1])}:zt;jt({target:\"Array\",proto:!0,forced:[].forEach!=Vt},{forEach:Vt});jt({target:\"Array\",proto:!0,forced:Nt(\"reduce\")},{reduce:function(e){return function(e,i,r,n,o){t(i);var l=a(e),c=s(l),u=f(l.length),h=o?u-1:0,d=o?-1:1;if(r<2)for(;;){if(h in c){n=c[h],h+=d;break}if(h+=d,o?h<0:u<=h)throw TypeError(\"Reduce of empty array with no initial value\")}for(;o?h>=0:u>h;h+=d)h in c&&(n=i(n,c[h],h,l));return n}(this,e,arguments.length,arguments[1],!1)}});var It=k.f,Bt=Function.prototype,Pt=Bt.toString,Ht=/^\\s*function ([^ (]*)/;!w||\"name\"in Bt||It(Bt,\"name\",{configurable:!0,get:function(){try{return Pt.call(this).match(Ht)[1]}catch(t){return\"\"}}});var Ft=Object.keys||function(t){return bt(t,mt)},qt=Object.assign,$t=!qt||e(function(){var t={},e={},i=Symbol();return t[i]=7,\"abcdefghijklmnopqrst\".split(\"\").forEach(function(t){e[t]=t}),7!=qt({},t)[i]||\"abcdefghijklmnopqrst\"!=Ft(qt({},e)).join(\"\")})?function(t,e){for(var i=a(t),r=arguments.length,n=1,o=Et.f,l=X.f;r>n;)for(var c,u=s(arguments[n++]),h=o?Ft(u).concat(o(u)):Ft(u),f=h.length,d=0;f>d;)l.call(u,c=h[d++])&&(i[c]=u[c]);return i}:qt;jt({target:\"Object\",stat:!0,forced:Object.assign!==$t},{assign:$t});var Yt=\"\\t\\n\\v\\f\\r \\u2028\\u2029\\ufeff\",Xt=\"[\"+Yt+\"]\",Gt=RegExp(\"^\"+Xt+Xt+\"*\"),Kt=RegExp(Xt+Xt+\"*$\"),Ut=E.parseInt,Jt=/^[-+]?0[xX]/,Qt=8!==Ut(Yt+\"08\")||22!==Ut(Yt+\"0x16\")?function(t,e){var i=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(Gt,\"\")),2&e&&(t=t.replace(Kt,\"\")),t}(String(t),3);return Ut(i,e>>>0||(Jt.test(i)?16:10))}:Ut;jt({global:!0,forced:parseInt!=Qt},{parseInt:Qt});var Zt,te,ee=RegExp.prototype.exec,ie=String.prototype.replace,re=ee,ne=(Zt=/a/,te=/b*/g,ee.call(Zt,\"a\"),ee.call(te,\"a\"),0!==Zt.lastIndex||0!==te.lastIndex),se=void 0!==/()??/.exec(\"\")[1];(ne||se)&&(re=function(t){var e,i,r,n,s=this;return se&&(i=new RegExp(\"^\"+s.source+\"$(?!\\\\s)\",function(){var t=L(this),e=\"\";return t.global&&(e+=\"g\"),t.ignoreCase&&(e+=\"i\"),t.multiline&&(e+=\"m\"),t.unicode&&(e+=\"u\"),t.sticky&&(e+=\"y\"),e}.call(s))),ne&&(e=s.lastIndex),r=ee.call(s,t),ne&&r&&(s.lastIndex=s.global?r.index+r[0].length:e),se&&r&&r.length>1&&ie.call(r[0],i,function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(r[n]=void 0)}),r});var oe=re;jt({target:\"RegExp\",proto:!0,forced:/./.exec!==oe},{exec:oe});var ae=function(t,e,i){return e+(i?function(t,e,i){var r,n,s=String(o(t)),a=u(e),l=s.length;return a<0||a>=l?i?\"\":void 0:(r=s.charCodeAt(a))<55296||r>56319||a+1===l||(n=s.charCodeAt(a+1))<56320||n>57343?i?s.charAt(a):r:i?s.slice(a,a+2):n-56320+(r-55296<<10)+65536}(t,e,!0).length:1)},le=function(t,e){var i=t.exec;if(\"function\"==typeof i){var n=i.call(t,e);if(\"object\"!=typeof n)throw TypeError(\"RegExp exec method returned something other than an Object or null\");return n}if(\"RegExp\"!==r(t))throw TypeError(\"RegExp#exec called on incompatible receiver\");return oe.call(t,e)},ce=B(\"species\"),ue=!e(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:\"7\"},t},\"7\"!==\"\".replace(t,\"$<a>\")}),he=!e(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i=\"ab\".split(t);return 2!==i.length||\"a\"!==i[0]||\"b\"!==i[1]}),fe=function(t,i,r,n){var s=B(t),o=!e(function(){var e={};return e[s]=function(){return 7},7!=\"\"[t](e)}),a=o&&!e(function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},\"split\"===t&&(i.constructor={},i.constructor[ce]=function(){return i}),i[s](\"\"),!e});if(!o||!a||\"replace\"===t&&!ue||\"split\"===t&&!he){var l=/./[s],c=r(s,\"\"[t],function(t,e,i,r,n){return e.exec===oe?o&&!n?{done:!0,value:l.call(e,i,r)}:{done:!0,value:t.call(i,e,r)}:{done:!1}}),u=c[0],h=c[1];dt(String.prototype,t,u),dt(RegExp.prototype,s,2==i?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}),n&&T(RegExp.prototype[s],\"sham\",!0)}};fe(\"match\",1,function(t,e,i){return[function(e){var i=o(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,i):new RegExp(e)[t](String(i))},function(t){var r=i(e,t,this);if(r.done)return r.value;var n=L(t),s=String(this);if(!n.global)return le(n,s);var o=n.unicode;n.lastIndex=0;for(var a,l=[],c=0;null!==(a=le(n,s));){var u=String(a[0]);l[c]=u,\"\"===u&&(n.lastIndex=ae(s,f(n.lastIndex),o)),c++}return 0===c?null:l}]});var de=Math.max,pe=Math.min,ve=Math.floor,ge=/\\$([$&`']|\\d\\d?|<[^>]*>)/g,be=/\\$([$&`']|\\d\\d?)/g;fe(\"replace\",2,function(t,e,i){return[function(i,r){var n=o(this),s=null==i?void 0:i[t];return void 0!==s?s.call(i,n,r):e.call(String(n),i,r)},function(t,n){var s=i(e,t,this,n);if(s.done)return s.value;var o=L(t),a=String(this),l=\"function\"==typeof n;l||(n=String(n));var c=o.global;if(c){var h=o.unicode;o.lastIndex=0}for(var d=[];;){var p=le(o,a);if(null===p)break;if(d.push(p),!c)break;\"\"===String(p[0])&&(o.lastIndex=ae(a,f(o.lastIndex),h))}for(var v,g=\"\",b=0,m=0;m<d.length;m++){p=d[m];for(var y=String(p[0]),x=de(pe(u(p.index),a.length),0),E=[],w=1;w<p.length;w++)E.push(void 0===(v=p[w])?v:String(v));var O=p.groups;if(l){var _=[y].concat(E,x,a);void 0!==O&&_.push(O);var S=String(n.apply(void 0,_))}else S=r(y,a,x,E,O,n);x>=b&&(g+=a.slice(b,x)+S,b=x+y.length)}return g+a.slice(b)}];function r(t,i,r,n,s,o){var l=r+t.length,c=n.length,u=be;return void 0!==s&&(s=a(s),u=ge),e.call(o,u,function(e,o){var a;switch(o.charAt(0)){case\"$\":return\"$\";case\"&\":return t;case\"`\":return i.slice(0,r);case\"'\":return i.slice(l);case\"<\":a=s[o.slice(1,-1)];break;default:var u=+o;if(0===u)return e;if(u>c){var h=ve(u/10);return 0===h?e:h<=c?void 0===n[h-1]?o.charAt(1):n[h-1]+o.charAt(1):e}a=n[u-1]}return void 0===a?\"\":a})}});for(var me in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var ye=E[me],xe=ye&&ye.prototype;if(xe&&xe.forEach!==Vt)try{T(xe,\"forEach\",Vt)}catch(t){xe.forEach=Vt}}var Ee=\"Expected a function\",we=NaN,Oe=\"[object Symbol]\",_e=/^\\s+|\\s+$/g,Se=/^[-+]0x[0-9a-f]+$/i,Le=/^0b[01]+$/i,Ae=/^0o[0-7]+$/i,Me=parseInt,ke=\"object\"==typeof v&&v&&v.Object===Object&&v,We=\"object\"==typeof self&&self&&self.Object===Object&&self,Te=ke||We||Function(\"return this\")(),Re=Object.prototype.toString,je=Math.max,Ce=Math.min,Ne=function(){return Te.Date.now()};function ze(t,e,i){var r,n,s,o,a,l,c=0,u=!1,h=!1,f=!0;if(\"function\"!=typeof t)throw new TypeError(Ee);function d(e){var i=r,s=n;return r=n=void 0,c=e,o=t.apply(s,i)}function p(t){var i=t-l;return void 0===l||i>=e||i<0||h&&t-c>=s}function v(){var t=Ne();if(p(t))return g(t);a=setTimeout(v,function(t){var i=e-(t-l);return h?Ce(i,s-(t-c)):i}(t))}function g(t){return a=void 0,f&&r?d(t):(r=n=void 0,o)}function b(){var t=Ne(),i=p(t);if(r=arguments,n=this,l=t,i){if(void 0===a)return function(t){return c=t,a=setTimeout(v,e),u?d(t):o}(l);if(h)return a=setTimeout(v,e),d(l)}return void 0===a&&(a=setTimeout(v,e)),o}return e=Ve(e)||0,De(i)&&(u=!!i.leading,s=(h=\"maxWait\"in i)?je(Ve(i.maxWait)||0,e):s,f=\"trailing\"in i?!!i.trailing:f),b.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=n=a=void 0},b.flush=function(){return void 0===a?o:g(Ne())},b}function De(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function Ve(t){if(\"number\"==typeof t)return t;if(function(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&Re.call(t)==Oe}(t))return we;if(De(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=De(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(_e,\"\");var i=Le.test(t);return i||Ae.test(t)?Me(t.slice(2),i?2:8):Se.test(t)?we:+t}var Ie=function(t,e,i){var r=!0,n=!0;if(\"function\"!=typeof t)throw new TypeError(Ee);return De(i)&&(r=\"leading\"in i?!!i.leading:r,n=\"trailing\"in i?!!i.trailing:n),ze(t,e,{leading:r,maxWait:e,trailing:n})},Be=\"Expected a function\",Pe=NaN,He=\"[object Symbol]\",Fe=/^\\s+|\\s+$/g,qe=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,Ye=/^0o[0-7]+$/i,Xe=parseInt,Ge=\"object\"==typeof v&&v&&v.Object===Object&&v,Ke=\"object\"==typeof self&&self&&self.Object===Object&&self,Ue=Ge||Ke||Function(\"return this\")(),Je=Object.prototype.toString,Qe=Math.max,Ze=Math.min,ti=function(){return Ue.Date.now()};function ei(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function ii(t){if(\"number\"==typeof t)return t;if(function(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&Je.call(t)==He}(t))return Pe;if(ei(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=ei(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(Fe,\"\");var i=$e.test(t);return i||Ye.test(t)?Xe(t.slice(2),i?2:8):qe.test(t)?Pe:+t}var ri=function(t,e,i){var r,n,s,o,a,l,c=0,u=!1,h=!1,f=!0;if(\"function\"!=typeof t)throw new TypeError(Be);function d(e){var i=r,s=n;return r=n=void 0,c=e,o=t.apply(s,i)}function p(t){var i=t-l;return void 0===l||i>=e||i<0||h&&t-c>=s}function v(){var t=ti();if(p(t))return g(t);a=setTimeout(v,function(t){var i=e-(t-l);return h?Ze(i,s-(t-c)):i}(t))}function g(t){return a=void 0,f&&r?d(t):(r=n=void 0,o)}function b(){var t=ti(),i=p(t);if(r=arguments,n=this,l=t,i){if(void 0===a)return function(t){return c=t,a=setTimeout(v,e),u?d(t):o}(l);if(h)return a=setTimeout(v,e),d(l)}return void 0===a&&(a=setTimeout(v,e)),o}return e=ii(e)||0,ei(i)&&(u=!!i.leading,s=(h=\"maxWait\"in i)?Qe(ii(i.maxWait)||0,e):s,f=\"trailing\"in i?!!i.trailing:f),b.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=n=a=void 0},b.flush=function(){return void 0===a?o:g(ti())},b},ni=\"Expected a function\",si=\"__lodash_hash_undefined__\",oi=\"[object Function]\",ai=\"[object GeneratorFunction]\",li=/^\\[object .+?Constructor\\]$/,ci=\"object\"==typeof v&&v&&v.Object===Object&&v,ui=\"object\"==typeof self&&self&&self.Object===Object&&self,hi=ci||ui||Function(\"return this\")();var fi=Array.prototype,di=Function.prototype,pi=Object.prototype,vi=hi[\"__core-js_shared__\"],gi=function(){var t=/[^.]+$/.exec(vi&&vi.keys&&vi.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),bi=di.toString,mi=pi.hasOwnProperty,yi=pi.toString,xi=RegExp(\"^\"+bi.call(mi).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),Ei=fi.splice,wi=Wi(hi,\"Map\"),Oi=Wi(Object,\"create\");function _i(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function Si(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function Li(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function Ai(t,e){for(var i,r,n=t.length;n--;)if((i=t[n][0])===(r=e)||i!=i&&r!=r)return n;return-1}function Mi(t){return!(!Ri(t)||(e=t,gi&&gi in e))&&(function(t){var e=Ri(t)?yi.call(t):\"\";return e==oi||e==ai}(t)||function(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e}(t)?xi:li).test(function(t){if(null!=t){try{return bi.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}(t));var e}function ki(t,e){var i,r,n=t.__data__;return(\"string\"==(r=typeof(i=e))||\"number\"==r||\"symbol\"==r||\"boolean\"==r?\"__proto__\"!==i:null===i)?n[\"string\"==typeof e?\"string\":\"hash\"]:n.map}function Wi(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return Mi(i)?i:void 0}function Ti(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new TypeError(ni);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],s=i.cache;if(s.has(n))return s.get(n);var o=t.apply(this,r);return i.cache=s.set(n,o),o};return i.cache=new(Ti.Cache||Li),i}function Ri(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}_i.prototype.clear=function(){this.__data__=Oi?Oi(null):{}},_i.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},_i.prototype.get=function(t){var e=this.__data__;if(Oi){var i=e[t];return i===si?void 0:i}return mi.call(e,t)?e[t]:void 0},_i.prototype.has=function(t){var e=this.__data__;return Oi?void 0!==e[t]:mi.call(e,t)},_i.prototype.set=function(t,e){return this.__data__[t]=Oi&&void 0===e?si:e,this},Si.prototype.clear=function(){this.__data__=[]},Si.prototype.delete=function(t){var e=this.__data__,i=Ai(e,t);return!(i<0||(i==e.length-1?e.pop():Ei.call(e,i,1),0))},Si.prototype.get=function(t){var e=this.__data__,i=Ai(e,t);return i<0?void 0:e[i][1]},Si.prototype.has=function(t){return Ai(this.__data__,t)>-1},Si.prototype.set=function(t,e){var i=this.__data__,r=Ai(i,t);return r<0?i.push([t,e]):i[r][1]=e,this},Li.prototype.clear=function(){this.__data__={hash:new _i,map:new(wi||Si),string:new _i}},Li.prototype.delete=function(t){return ki(this,t).delete(t)},Li.prototype.get=function(t){return ki(this,t).get(t)},Li.prototype.has=function(t){return ki(this,t).has(t)},Li.prototype.set=function(t,e){return ki(this,t).set(t,e),this},Ti.Cache=Li;var ji=Ti,Ci=function(){if(\"undefined\"!=typeof Map)return Map;function t(t,e){var i=-1;return t.some(function(t,r){return t[0]===e&&(i=r,!0)}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,\"size\",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var i=t(this.__entries__,e),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(e,i){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,r=t(i,e);~r&&i.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,r=this.__entries__;i<r.length;i++){var n=r[i];t.call(e,n[1],n[0])}},e}()}(),Ni=\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&window.document===document,zi=\"undefined\"!=typeof global&&global.Math===Math?global:\"undefined\"!=typeof self&&self.Math===Math?self:\"undefined\"!=typeof window&&window.Math===Math?window:Function(\"return this\")(),Di=\"function\"==typeof requestAnimationFrame?requestAnimationFrame.bind(zi):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},Vi=2;var Ii=20,Bi=[\"top\",\"right\",\"bottom\",\"left\",\"width\",\"height\",\"size\",\"weight\"],Pi=\"undefined\"!=typeof MutationObserver,Hi=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var i=!1,r=!1,n=0;function s(){i&&(i=!1,t()),r&&a()}function o(){Di(s)}function a(){var t=Date.now();if(i){if(t-n<Vi)return;r=!0}else i=!0,r=!1,setTimeout(o,e);n=t}return a}(this.refresh.bind(this),Ii)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){Ni&&!this.connected_&&(document.addEventListener(\"transitionend\",this.onTransitionEnd_),window.addEventListener(\"resize\",this.refresh),Pi?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){Ni&&this.connected_&&(document.removeEventListener(\"transitionend\",this.onTransitionEnd_),window.removeEventListener(\"resize\",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?\"\":e;Bi.some(function(t){return!!~i.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Fi=function(t,e){for(var i=0,r=Object.keys(e);i<r.length;i++){var n=r[i];Object.defineProperty(t,n,{value:e[n],enumerable:!1,writable:!1,configurable:!0})}return t},qi=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||zi},$i=Ji(0,0,0,0);function Yi(t){return parseFloat(t)||0}function Xi(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce(function(e,i){return e+Yi(t[\"border-\"+i+\"-width\"])},0)}function Gi(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return $i;var r=qi(t).getComputedStyle(t),n=function(t){for(var e={},i=0,r=[\"top\",\"right\",\"bottom\",\"left\"];i<r.length;i++){var n=r[i],s=t[\"padding-\"+n];e[n]=Yi(s)}return e}(r),s=n.left+n.right,o=n.top+n.bottom,a=Yi(r.width),l=Yi(r.height);if(\"border-box\"===r.boxSizing&&(Math.round(a+s)!==e&&(a-=Xi(r,\"left\",\"right\")+s),Math.round(l+o)!==i&&(l-=Xi(r,\"top\",\"bottom\")+o)),!function(t){return t===qi(t).document.documentElement}(t)){var c=Math.round(a+s)-e,u=Math.round(l+o)-i;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return Ji(n.left,n.top,a,l)}var Ki=\"undefined\"!=typeof SVGGraphicsElement?function(t){return t instanceof qi(t).SVGGraphicsElement}:function(t){return t instanceof qi(t).SVGElement&&\"function\"==typeof t.getBBox};function Ui(t){return Ni?Ki(t)?function(t){var e=t.getBBox();return Ji(0,0,e.width,e.height)}(t):Gi(t):$i}function Ji(t,e,i,r){return{x:t,y:e,width:i,height:r}}var Qi=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ji(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=Ui(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),Zi=function(){return function(t,e){var i,r,n,s,o,a,l,c=(r=(i=e).x,n=i.y,s=i.width,o=i.height,a=\"undefined\"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),Fi(l,{x:r,y:n,width:s,height:o,top:n,right:r+s,bottom:o+n,left:r}),l);Fi(this,{target:t,contentRect:c})}}(),tr=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new Ci,\"function\"!=typeof t)throw new TypeError(\"The callback provided as parameter 1 is not a function.\");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(t instanceof qi(t).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var e=this.observations_;e.has(t)||(e.set(t,new Qi(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(t instanceof qi(t).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new Zi(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),er=\"undefined\"!=typeof WeakMap?new WeakMap:new Ci,ir=function(){return function t(e){if(!(this instanceof t))throw new TypeError(\"Cannot call a class as a function.\");if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");var i=Hi.getInstance(),r=new tr(e,i,this);er.set(this,r)}}();[\"observe\",\"unobserve\",\"disconnect\"].forEach(function(t){ir.prototype[t]=function(){var e;return(e=er.get(this))[t].apply(e,arguments)}});var rr=void 0!==zi.ResizeObserver?zi.ResizeObserver:ir,nr=!(\"undefined\"==typeof window||!window.document||!window.document.createElement);function sr(){if(\"undefined\"==typeof document)return 0;var t=document.body,e=document.createElement(\"div\"),i=e.style;i.position=\"fixed\",i.left=0,i.visibility=\"hidden\",i.overflowY=\"scroll\",t.appendChild(e);var r=e.getBoundingClientRect().right;return t.removeChild(e),r}var or=function(){function t(e,i){var r=this;this.onScroll=function(){r.scrollXTicking||(window.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(window.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0)},this.scrollX=function(){r.axis.x.isOverflowing&&(r.showScrollbar(\"x\"),r.positionScrollbar(\"x\")),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&(r.showScrollbar(\"y\"),r.positionScrollbar(\"y\")),r.scrollYTicking=!1},this.onMouseEnter=function(){r.showScrollbar(\"x\"),r.showScrollbar(\"y\")},this.onMouseMove=function(t){r.mouseX=t.clientX,r.mouseY=t.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis(\"x\"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis(\"y\")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis(\"x\"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis(\"y\"),r.mouseX=-1,r.mouseY=-1},this.onWindowResize=function(){r.scrollbarWidth=sr(),r.hideNativeScrollbar()},this.hideScrollbars=function(){r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.track.rect)||(r.axis.y.scrollbar.el.classList.remove(r.classNames.visible),r.axis.y.isVisible=!1),r.isWithinBounds(r.axis.x.track.rect)||(r.axis.x.scrollbar.el.classList.remove(r.classNames.visible),r.axis.x.isVisible=!1)},this.onPointerEvent=function(t){var e,i;r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(i=r.isWithinBounds(r.axis.x.scrollbar.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(e=r.isWithinBounds(r.axis.y.scrollbar.rect)),(e||i)&&(t.preventDefault(),t.stopPropagation(),\"mousedown\"===t.type&&(e&&r.onDragStart(t,\"y\"),i&&r.onDragStart(t,\"x\")))},this.drag=function(e){var i=r.axis[r.draggedAxis].track,n=i.rect[r.axis[r.draggedAxis].sizeAttr],s=r.axis[r.draggedAxis].scrollbar,o=r.contentWrapperEl[r.axis[r.draggedAxis].scrollSizeAttr],a=parseInt(r.elStyles[r.axis[r.draggedAxis].sizeAttr],10);e.preventDefault(),e.stopPropagation();var l=((\"y\"===r.draggedAxis?e.pageY:e.pageX)-i.rect[r.axis[r.draggedAxis].offsetAttr]-r.axis[r.draggedAxis].dragOffset)/(n-s.size)*(o-a);\"x\"===r.draggedAxis&&(l=r.isRtl&&t.getRtlHelpers().isRtlScrollbarInverted?l-(n+s.size):l,l=r.isRtl&&t.getRtlHelpers().isRtlScrollingInverted?-l:l),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=l},this.onEndDrag=function(t){t.preventDefault(),t.stopPropagation(),r.el.classList.remove(r.classNames.dragging),document.removeEventListener(\"mousemove\",r.drag,!0),document.removeEventListener(\"mouseup\",r.onEndDrag,!0),r.removePreventClickId=window.setTimeout(function(){document.removeEventListener(\"click\",r.preventClick,!0),document.removeEventListener(\"dblclick\",r.preventClick,!0),r.removePreventClickId=null})},this.preventClick=function(t){t.preventDefault(),t.stopPropagation()},this.el=e,this.flashTimeout,this.contentEl,this.contentWrapperEl,this.offsetEl,this.maskEl,this.globalObserver,this.mutationObserver,this.resizeObserver,this.scrollbarWidth,this.minScrollbarWidth=20,this.options=Object.assign({},t.defaultOptions,i),this.classNames=Object.assign({},t.defaultOptions.classNames,this.options.classNames),this.isRtl,this.axis={x:{scrollOffsetAttr:\"scrollLeft\",sizeAttr:\"width\",scrollSizeAttr:\"scrollWidth\",offsetAttr:\"left\",overflowAttr:\"overflowX\",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:\"scrollTop\",sizeAttr:\"height\",scrollSizeAttr:\"scrollHeight\",offsetAttr:\"top\",overflowAttr:\"overflowY\",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,this.el.SimpleBar||(this.recalculate=Ie(this.recalculate.bind(this),64),this.onMouseMove=Ie(this.onMouseMove.bind(this),64),this.hideScrollbars=ri(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=ri(this.onWindowResize.bind(this),64,{leading:!0}),t.getRtlHelpers=ji(t.getRtlHelpers),this.init())}t.getRtlHelpers=function(){var e=document.createElement(\"div\");e.innerHTML='<div class=\"hs-dummy-scrollbar-size\"><div style=\"height: 200%; width: 200%; margin: 10px 0;\"></div></div>';var i=e.firstElementChild;document.body.appendChild(i);var r=i.firstElementChild;i.scrollLeft=0;var n=t.getOffset(i),s=t.getOffset(r);i.scrollLeft=999;var o=t.getOffset(r);return{isRtlScrollingInverted:n.left!==s.left&&s.left-o.left!=0,isRtlScrollbarInverted:n.left!==s.left}},t.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),\"undefined\"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver(function(e){e.forEach(function(e){Array.prototype.forEach.call(e.addedNodes,function(e){1===e.nodeType&&(e.hasAttribute(\"data-simplebar\")?!e.SimpleBar&&new t(e,t.getElOptions(e)):Array.prototype.forEach.call(e.querySelectorAll(\"[data-simplebar]\"),function(e){!e.SimpleBar&&new t(e,t.getElOptions(e))}))}),Array.prototype.forEach.call(e.removedNodes,function(t){1===t.nodeType&&(t.hasAttribute(\"data-simplebar\")?t.SimpleBar&&t.SimpleBar.unMount():Array.prototype.forEach.call(t.querySelectorAll(\"[data-simplebar]\"),function(t){t.SimpleBar&&t.SimpleBar.unMount()}))})})}),this.globalObserver.observe(document,{childList:!0,subtree:!0})),\"complete\"===document.readyState||\"loading\"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener(\"DOMContentLoaded\",this.initDOMLoadedElements),window.addEventListener(\"load\",this.initDOMLoadedElements))},t.getElOptions=function(t){return Array.prototype.reduce.call(t.attributes,function(t,e){var i=e.name.match(/data-simplebar-(.+)/);if(i){var r=i[1].replace(/\\W+(.)/g,function(t,e){return e.toUpperCase()});switch(e.value){case\"true\":t[r]=!0;break;case\"false\":t[r]=!1;break;case void 0:t[r]=!0;break;default:t[r]=e.value}}return t},{})},t.removeObserver=function(){this.globalObserver.disconnect()},t.initDOMLoadedElements=function(){document.removeEventListener(\"DOMContentLoaded\",this.initDOMLoadedElements),window.removeEventListener(\"load\",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll(\"[data-simplebar]\"),function(e){e.SimpleBar||new t(e,t.getElOptions(e))})},t.getOffset=function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft)}};var e=t.prototype;return e.init=function(){this.el.SimpleBar=this,nr&&(this.initDOM(),this.scrollbarWidth=sr(),this.recalculate(),this.initListeners())},e.initDOM=function(){var t=this;if(Array.prototype.filter.call(this.el.children,function(e){return e.classList.contains(t.classNames.wrapper)}).length)this.wrapperEl=this.el.querySelector(\".\"+this.classNames.wrapper),this.contentWrapperEl=this.el.querySelector(\".\"+this.classNames.contentWrapper),this.offsetEl=this.el.querySelector(\".\"+this.classNames.offset),this.maskEl=this.el.querySelector(\".\"+this.classNames.mask),this.contentEl=this.el.querySelector(\".\"+this.classNames.contentEl),this.placeholderEl=this.el.querySelector(\".\"+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector(\".\"+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector(\".\"+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,\".\"+this.classNames.track+\".\"+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,\".\"+this.classNames.track+\".\"+this.classNames.vertical);else{for(this.wrapperEl=document.createElement(\"div\"),this.contentWrapperEl=document.createElement(\"div\"),this.offsetEl=document.createElement(\"div\"),this.maskEl=document.createElement(\"div\"),this.contentEl=document.createElement(\"div\"),this.placeholderEl=document.createElement(\"div\"),this.heightAutoObserverWrapperEl=document.createElement(\"div\"),this.heightAutoObserverEl=document.createElement(\"div\"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var e=document.createElement(\"div\"),i=document.createElement(\"div\");e.classList.add(this.classNames.track),i.classList.add(this.classNames.scrollbar),e.appendChild(i),this.axis.x.track.el=e.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=e.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector(\".\"+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector(\".\"+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute(\"data-simplebar\",\"init\")},e.initListeners=function(){var t=this;this.options.autoHide&&this.el.addEventListener(\"mouseenter\",this.onMouseEnter),[\"mousedown\",\"click\",\"dblclick\"].forEach(function(e){t.el.addEventListener(e,t.onPointerEvent,!0)}),[\"touchstart\",\"touchend\",\"touchmove\"].forEach(function(e){t.el.addEventListener(e,t.onPointerEvent,{capture:!0,passive:!0})}),this.el.addEventListener(\"mousemove\",this.onMouseMove),this.el.addEventListener(\"mouseleave\",this.onMouseLeave),this.contentWrapperEl.addEventListener(\"scroll\",this.onScroll),window.addEventListener(\"resize\",this.onWindowResize),this.resizeObserver=new rr(this.recalculate),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl)},e.recalculate=function(){var t=this.heightAutoObserverEl.offsetHeight<=1,e=this.heightAutoObserverEl.offsetWidth<=1;this.elStyles=window.getComputedStyle(this.el),this.isRtl=\"rtl\"===this.elStyles.direction,this.contentEl.style.padding=this.elStyles.paddingTop+\" \"+this.elStyles.paddingRight+\" \"+this.elStyles.paddingBottom+\" \"+this.elStyles.paddingLeft,this.wrapperEl.style.margin=\"-\"+this.elStyles.paddingTop+\" -\"+this.elStyles.paddingRight+\" -\"+this.elStyles.paddingBottom+\" -\"+this.elStyles.paddingLeft,this.contentWrapperEl.style.height=t?\"auto\":\"100%\",this.placeholderEl.style.width=e?this.contentEl.offsetWidth+\"px\":\"auto\",this.placeholderEl.style.height=this.contentEl.scrollHeight+\"px\",this.axis.x.isOverflowing=this.contentWrapperEl.scrollWidth>this.contentWrapperEl.offsetWidth,this.axis.y.isOverflowing=this.contentWrapperEl.scrollHeight>this.contentWrapperEl.offsetHeight,this.axis.x.isOverflowing=\"hidden\"!==this.elStyles.overflowX&&this.axis.x.isOverflowing,this.axis.y.isOverflowing=\"hidden\"!==this.elStyles.overflowY&&this.axis.y.isOverflowing,this.axis.x.forceVisible=\"x\"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible=\"y\"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar(),this.axis.x.track.rect=this.axis.x.track.el.getBoundingClientRect(),this.axis.y.track.rect=this.axis.y.track.el.getBoundingClientRect(),this.axis.x.scrollbar.size=this.getScrollbarSize(\"x\"),this.axis.y.scrollbar.size=this.getScrollbarSize(\"y\"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+\"px\",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+\"px\",this.positionScrollbar(\"x\"),this.positionScrollbar(\"y\"),this.toggleTrackVisibility(\"x\"),this.toggleTrackVisibility(\"y\")},e.getScrollbarSize=function(t){void 0===t&&(t=\"y\");var e,i=this.scrollbarWidth?this.contentWrapperEl[this.axis[t].scrollSizeAttr]:this.contentWrapperEl[this.axis[t].scrollSizeAttr]-this.minScrollbarWidth,r=this.axis[t].track.rect[this.axis[t].sizeAttr];if(this.axis[t].isOverflowing){var n=r/i;return e=Math.max(~~(n*r),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(e=Math.min(e,this.options.scrollbarMaxSize)),e}},e.positionScrollbar=function(e){void 0===e&&(e=\"y\");var i=this.contentWrapperEl[this.axis[e].scrollSizeAttr],r=this.axis[e].track.rect[this.axis[e].sizeAttr],n=parseInt(this.elStyles[this.axis[e].sizeAttr],10),s=this.axis[e].scrollbar,o=this.contentWrapperEl[this.axis[e].scrollOffsetAttr],a=(o=\"x\"===e&&this.isRtl&&t.getRtlHelpers().isRtlScrollingInverted?-o:o)/(i-n),l=~~((r-s.size)*a);l=\"x\"===e&&this.isRtl&&t.getRtlHelpers().isRtlScrollbarInverted?l+(r-s.size):l,s.el.style.transform=\"x\"===e?\"translate3d(\"+l+\"px, 0, 0)\":\"translate3d(0, \"+l+\"px, 0)\"},e.toggleTrackVisibility=function(t){void 0===t&&(t=\"y\");var e=this.axis[t].track.el,i=this.axis[t].scrollbar.el;this.axis[t].isOverflowing||this.axis[t].forceVisible?(e.style.visibility=\"visible\",this.contentWrapperEl.style[this.axis[t].overflowAttr]=\"scroll\"):(e.style.visibility=\"hidden\",this.contentWrapperEl.style[this.axis[t].overflowAttr]=\"hidden\"),this.axis[t].isOverflowing?i.style.display=\"block\":i.style.display=\"none\"},e.hideNativeScrollbar=function(){if(this.offsetEl.style[this.isRtl?\"left\":\"right\"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?\"-\"+(this.scrollbarWidth||this.minScrollbarWidth)+\"px\":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?\"-\"+(this.scrollbarWidth||this.minScrollbarWidth)+\"px\":0,!this.scrollbarWidth){var t=[this.isRtl?\"paddingLeft\":\"paddingRight\"];this.contentWrapperEl.style[t]=this.axis.y.isOverflowing||this.axis.y.forceVisible?this.minScrollbarWidth+\"px\":0,this.contentWrapperEl.style.paddingBottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?this.minScrollbarWidth+\"px\":0}},e.onMouseMoveForAxis=function(t){void 0===t&&(t=\"y\"),this.axis[t].track.rect=this.axis[t].track.el.getBoundingClientRect(),this.axis[t].scrollbar.rect=this.axis[t].scrollbar.el.getBoundingClientRect(),this.isWithinBounds(this.axis[t].scrollbar.rect)?this.axis[t].scrollbar.el.classList.add(this.classNames.hover):this.axis[t].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[t].track.rect)?(this.showScrollbar(t),this.axis[t].track.el.classList.add(this.classNames.hover)):this.axis[t].track.el.classList.remove(this.classNames.hover)},e.onMouseLeaveForAxis=function(t){void 0===t&&(t=\"y\"),this.axis[t].track.el.classList.remove(this.classNames.hover),this.axis[t].scrollbar.el.classList.remove(this.classNames.hover)},e.showScrollbar=function(t){void 0===t&&(t=\"y\");var e=this.axis[t].scrollbar.el;this.axis[t].isVisible||(e.classList.add(this.classNames.visible),this.axis[t].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},e.onDragStart=function(t,e){void 0===e&&(e=\"y\");var i=this.axis[e].scrollbar.el,r=\"y\"===e?t.pageY:t.pageX;this.axis[e].dragOffset=r-i.getBoundingClientRect()[this.axis[e].offsetAttr],this.draggedAxis=e,this.el.classList.add(this.classNames.dragging),document.addEventListener(\"mousemove\",this.drag,!0),document.addEventListener(\"mouseup\",this.onEndDrag,!0),null===this.removePreventClickId?(document.addEventListener(\"click\",this.preventClick,!0),document.addEventListener(\"dblclick\",this.preventClick,!0)):(window.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.getContentElement=function(){return this.contentEl},e.getScrollElement=function(){return this.contentWrapperEl},e.removeListeners=function(){var t=this;this.options.autoHide&&this.el.removeEventListener(\"mouseenter\",this.onMouseEnter),[\"mousedown\",\"click\",\"dblclick\"].forEach(function(e){t.el.removeEventListener(e,t.onPointerEvent,!0)}),[\"touchstart\",\"touchend\",\"touchmove\"].forEach(function(e){t.el.removeEventListener(e,t.onPointerEvent,{capture:!0,passive:!0})}),this.el.removeEventListener(\"mousemove\",this.onMouseMove),this.el.removeEventListener(\"mouseleave\",this.onMouseLeave),this.contentWrapperEl.removeEventListener(\"scroll\",this.onScroll),window.removeEventListener(\"resize\",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},e.unMount=function(){this.removeListeners(),this.el.SimpleBar=null},e.isChildNode=function(t){return null!==t&&(t===this.el||this.isChildNode(t.parentNode))},e.isWithinBounds=function(t){return this.mouseX>=t.left&&this.mouseX<=t.left+t.width&&this.mouseY>=t.top&&this.mouseY<=t.top+t.height},e.findChild=function(t,e){var i=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return Array.prototype.filter.call(t.children,function(t){return i.call(t,e)})[0]},t}();return or.defaultOptions={autoHide:!0,forceVisible:!1,classNames:{contentEl:\"simplebar-content\",contentWrapper:\"simplebar-content-wrapper\",offset:\"simplebar-offset\",mask:\"simplebar-mask\",wrapper:\"simplebar-wrapper\",placeholder:\"simplebar-placeholder\",scrollbar:\"simplebar-scrollbar\",track:\"simplebar-track\",heightAutoObserverWrapperEl:\"simplebar-height-auto-observer-wrapper\",heightAutoObserverEl:\"simplebar-height-auto-observer\",visible:\"simplebar-visible\",horizontal:\"simplebar-horizontal\",vertical:\"simplebar-vertical\",hover:\"simplebar-hover\",dragging:\"simplebar-dragging\"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3},nr&&or.initHtmlApi(),or});\r\n","!function(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define([],function(){return t.Waves=e.call(t),t.Waves}):\"object\"==typeof exports?module.exports=e.call(t):t.Waves=e.call(t)}(\"object\"==typeof global?global:this,function(){\"use strict\";function t(t){return null!==t&&t===t.window}function e(e){return t(e)?e:9===e.nodeType&&e.defaultView}function n(t){var e=typeof t;return\"function\"===e||\"object\"===e&&!!t}function o(t){return n(t)&&t.nodeType>0}function a(t){var e=f.call(t);return\"[object String]\"===e?d(t):n(t)&&/^\\[object (Array|HTMLCollection|NodeList|Object)\\]$/.test(e)&&t.hasOwnProperty(\"length\")?t:o(t)?[t]:[]}function i(t){var n,o,a={top:0,left:0},i=t&&t.ownerDocument;return n=i.documentElement,void 0!==t.getBoundingClientRect&&(a=t.getBoundingClientRect()),o=e(i),{top:a.top+o.pageYOffset-n.clientTop,left:a.left+o.pageXOffset-n.clientLeft}}function r(t){var e=\"\";for(var n in t)t.hasOwnProperty(n)&&(e+=n+\":\"+t[n]+\";\");return e}function s(t,e,n){if(n){n.classList.remove(\"waves-rippling\");var o=n.getAttribute(\"data-x\"),a=n.getAttribute(\"data-y\"),i=n.getAttribute(\"data-scale\"),s=n.getAttribute(\"data-translate\"),u=350-(Date.now()-Number(n.getAttribute(\"data-hold\")));u<0&&(u=0),\"mousemove\"===t.type&&(u=150);var c=\"mousemove\"===t.type?2500:v.duration;setTimeout(function(){var t={top:a+\"px\",left:o+\"px\",opacity:\"0\",\"-webkit-transition-duration\":c+\"ms\",\"-moz-transition-duration\":c+\"ms\",\"-o-transition-duration\":c+\"ms\",\"transition-duration\":c+\"ms\",\"-webkit-transform\":i+\" \"+s,\"-moz-transform\":i+\" \"+s,\"-ms-transform\":i+\" \"+s,\"-o-transform\":i+\" \"+s,transform:i+\" \"+s};n.setAttribute(\"style\",r(t)),setTimeout(function(){try{e.removeChild(n)}catch(t){return!1}},c)},u)}}function u(t){if(!1===h.allowEvent(t))return null;for(var e=null,n=t.target||t.srcElement;n.parentElement;){if(!(n instanceof SVGElement)&&n.classList.contains(\"waves-effect\")){e=n;break}n=n.parentElement}return e}function c(t){var e=u(t);if(null!==e){if(e.disabled||e.getAttribute(\"disabled\")||e.classList.contains(\"disabled\"))return;if(h.registerEvent(t),\"touchstart\"===t.type&&v.delay){var n=!1,o=setTimeout(function(){o=null,v.show(t,e)},v.delay),a=function(a){o&&(clearTimeout(o),o=null,v.show(t,e)),n||(n=!0,v.hide(a,e)),r()},i=function(t){o&&(clearTimeout(o),o=null),a(t),r()};e.addEventListener(\"touchmove\",i,!1),e.addEventListener(\"touchend\",a,!1),e.addEventListener(\"touchcancel\",a,!1);var r=function(){e.removeEventListener(\"touchmove\",i),e.removeEventListener(\"touchend\",a),e.removeEventListener(\"touchcancel\",a)}}else v.show(t,e),m&&(e.addEventListener(\"touchend\",v.hide,!1),e.addEventListener(\"touchcancel\",v.hide,!1)),e.addEventListener(\"mouseup\",v.hide,!1),e.addEventListener(\"mouseleave\",v.hide,!1)}}var l=l||{},d=document.querySelectorAll.bind(document),f=Object.prototype.toString,m=\"ontouchstart\"in window,v={duration:750,delay:200,show:function(t,e,n){if(2===t.button)return!1;e=e||this;var o=document.createElement(\"div\");o.className=\"waves-ripple waves-rippling\",e.appendChild(o);var a=i(e),s=0,u=0;\"touches\"in t&&t.touches.length?(s=t.touches[0].pageY-a.top,u=t.touches[0].pageX-a.left):(s=t.pageY-a.top,u=t.pageX-a.left),u=u>=0?u:0,s=s>=0?s:0;var c=\"scale(\"+e.clientWidth/100*3+\")\",l=\"translate(0,0)\";n&&(l=\"translate(\"+n.x+\"px, \"+n.y+\"px)\"),o.setAttribute(\"data-hold\",Date.now()),o.setAttribute(\"data-x\",u),o.setAttribute(\"data-y\",s),o.setAttribute(\"data-scale\",c),o.setAttribute(\"data-translate\",l);var d={top:s+\"px\",left:u+\"px\"};o.classList.add(\"waves-notransition\"),o.setAttribute(\"style\",r(d)),o.classList.remove(\"waves-notransition\"),d[\"-webkit-transform\"]=c+\" \"+l,d[\"-moz-transform\"]=c+\" \"+l,d[\"-ms-transform\"]=c+\" \"+l,d[\"-o-transform\"]=c+\" \"+l,d.transform=c+\" \"+l,d.opacity=\"1\";var f=\"mousemove\"===t.type?2500:v.duration;d[\"-webkit-transition-duration\"]=f+\"ms\",d[\"-moz-transition-duration\"]=f+\"ms\",d[\"-o-transition-duration\"]=f+\"ms\",d[\"transition-duration\"]=f+\"ms\",o.setAttribute(\"style\",r(d))},hide:function(t,e){for(var n=(e=e||this).getElementsByClassName(\"waves-rippling\"),o=0,a=n.length;o<a;o++)s(t,e,n[o]);m&&(e.removeEventListener(\"touchend\",v.hide),e.removeEventListener(\"touchcancel\",v.hide)),e.removeEventListener(\"mouseup\",v.hide),e.removeEventListener(\"mouseleave\",v.hide)}},p={input:function(t){var e=t.parentNode;if(\"i\"!==e.tagName.toLowerCase()||!e.classList.contains(\"waves-effect\")){var n=document.createElement(\"i\");n.className=t.className+\" waves-input-wrapper\",t.className=\"waves-button-input\",e.replaceChild(n,t),n.appendChild(t);var o=window.getComputedStyle(t,null),a=o.color,i=o.backgroundColor;n.setAttribute(\"style\",\"color:\"+a+\";background:\"+i),t.setAttribute(\"style\",\"background-color:rgba(0,0,0,0);\")}},img:function(t){var e=t.parentNode;if(\"i\"!==e.tagName.toLowerCase()||!e.classList.contains(\"waves-effect\")){var n=document.createElement(\"i\");e.replaceChild(n,t),n.appendChild(t)}}},h={touches:0,allowEvent:function(t){var e=!0;return/^(mousedown|mousemove)$/.test(t.type)&&h.touches&&(e=!1),e},registerEvent:function(t){var e=t.type;\"touchstart\"===e?h.touches+=1:/^(touchend|touchcancel)$/.test(e)&&setTimeout(function(){h.touches&&(h.touches-=1)},500)}};return l.init=function(t){var e=document.body;\"duration\"in(t=t||{})&&(v.duration=t.duration),\"delay\"in t&&(v.delay=t.delay),m&&(e.addEventListener(\"touchstart\",c,!1),e.addEventListener(\"touchcancel\",h.registerEvent,!1),e.addEventListener(\"touchend\",h.registerEvent,!1)),e.addEventListener(\"mousedown\",c,!1)},l.attach=function(t,e){t=a(t),\"[object Array]\"===f.call(e)&&(e=e.join(\" \")),e=e?\" \"+e:\"\";for(var n,o,i=0,r=t.length;i<r;i++)o=(n=t[i]).tagName.toLowerCase(),-1!==[\"input\",\"img\"].indexOf(o)&&(p[o](n),n=n.parentElement),-1===n.className.indexOf(\"waves-effect\")&&(n.className+=\" waves-effect\"+e)},l.ripple=function(t,e){var n=(t=a(t)).length;if(e=e||{},e.wait=e.wait||0,e.position=e.position||null,n)for(var o,r,s,u={},c=0,l={type:\"mousedown\",button:1};c<n;c++)if(o=t[c],r=e.position||{x:o.clientWidth/2,y:o.clientHeight/2},s=i(o),u.x=s.left+r.x,u.y=s.top+r.y,l.pageX=u.x,l.pageY=u.y,v.show(l,o),e.wait>=0&&null!==e.wait){var d={type:\"mouseup\",button:1};setTimeout(function(t,e){return function(){v.hide(t,e)}}(d,o),e.wait)}},l.calm=function(t){for(var e={type:\"mouseup\",button:1},n=0,o=(t=a(t)).length;n<o;n++)v.hide(e,t[n])},l.displayEffect=function(t){l.init(t)},l});\r\n//# sourceMappingURL=waves.min.js.map","// Peity jQuery plugin version 3.3.0\r\n// (c) 2018 Ben Pickles\r\n//\r\n// http://benpickles.github.io/peity\r\n//\r\n// Released under MIT license.\r\n!function(t,i,e,n){var a=t.fn.peity=function(i,e){return l&&this.each(function(){var n=t(this),h=n.data(\"_peity\");h?(i&&(h.type=i),t.extend(h.opts,e)):(h=new r(n,i,t.extend({},a.defaults[i],n.data(\"peity\"),e)),n.change(function(){h.draw()}).data(\"_peity\",h)),h.draw()}),this},r=function(t,i,e){this.$el=t,this.type=i,this.opts=e},h=r.prototype,s=h.svgElement=function(e,n){return t(i.createElementNS(\"http://www.w3.org/2000/svg\",e)).attr(n)},l=\"createElementNS\"in i&&s(\"svg\",{})[0].createSVGRect;h.draw=function(){var t=this.opts;a.graphers[this.type].call(this,t),t.after&&t.after.call(this,t)},h.fill=function(){var i=this.opts.fill;return t.isFunction(i)?i:function(t,e){return i[e%i.length]}},h.prepare=function(t,i){return this.$svg||this.$el.hide().after(this.$svg=s(\"svg\",{class:\"peity\"})),this.$svg.empty().data(\"_peity\",this).attr({height:i,width:t})},h.values=function(){return t.map(this.$el.text().split(this.opts.delimiter),function(t){return parseFloat(t)})},a.defaults={},a.graphers={},a.register=function(t,i,e){this.defaults[t]=i,this.graphers[t]=e},a.register(\"pie\",{fill:[\"#ff9900\",\"#fff4dd\",\"#ffc66e\"],radius:8},function(i){if(!i.delimiter){var n=this.$el.text().match(/[^0-9\\.]/);i.delimiter=n?n[0]:\",\"}var a=t.map(this.values(),function(t){return t>0?t:0});if(\"/\"==i.delimiter){var r=a[0],h=a[1];a=[r,e.max(0,h-r)]}for(var l=0,p=a.length,o=0;l<p;l++)o+=a[l];o||(p=2,o=1,a=[0,1]);var f=2*i.radius,c=this.prepare(i.width||f,i.height||f),u=c.width()/2,d=c.height()/2,g=e.min(u,d),v=i.innerRadius;\"donut\"!=this.type||v||(v=.5*g);var m=e.PI,y=this.fill(),w=this.scale=function(t,i){var n=t/o*m*2-m/2;return[i*e.cos(n)+u,i*e.sin(n)+d]},x=0;for(l=0;l<p;l++){var k,$=a[l],j=$/o;if(0!=j){if(1==j)if(v){var A=u-.01,E=d-g,F=d-v;k=s(\"path\",{d:[\"M\",u,E,\"A\",g,g,0,1,1,A,E,\"L\",A,F,\"A\",v,v,0,1,0,u,F].join(\" \"),\"data-value\":$})}else k=s(\"circle\",{cx:u,cy:d,\"data-value\":$,r:g});else{var M=x+$,S=[\"M\"].concat(w(x,g),\"A\",g,g,0,j>.5?1:0,1,w(M,g),\"L\");v?S=S.concat(w(M,v),\"A\",v,v,0,j>.5?1:0,0,w(x,v)):S.push(u,d),x+=$,k=s(\"path\",{d:S.join(\" \"),\"data-value\":$})}k.attr(\"fill\",y.call(this,$,l,a)),c.append(k)}}}),a.register(\"donut\",t.extend(!0,{},a.defaults.pie),function(t){a.graphers.pie.call(this,t)}),a.register(\"line\",{delimiter:\",\",fill:\"#c6d9fd\",height:16,min:0,stroke:\"#4d89f9\",strokeWidth:1,width:32},function(t){var i=this.values();1==i.length&&i.push(i[0]);for(var a=e.max.apply(e,t.max==n?i:i.concat(t.max)),r=e.min.apply(e,t.min==n?i:i.concat(t.min)),h=this.prepare(t.width,t.height),l=t.strokeWidth,p=h.width(),o=h.height()-l,f=a-r,c=this.x=function(t){return t*(p/(i.length-1))},u=this.y=function(t){var i=o;return f&&(i-=(t-r)/f*o),i+l/2},d=u(e.max(r,0)),g=[0,d],v=0;v<i.length;v++)g.push(c(v),u(i[v]));g.push(p,d),t.fill&&h.append(s(\"polygon\",{fill:t.fill,points:g.join(\" \")})),l&&h.append(s(\"polyline\",{fill:\"none\",points:g.slice(2,g.length-2).join(\" \"),stroke:t.stroke,\"stroke-width\":l,\"stroke-linecap\":\"square\"}))}),a.register(\"bar\",{delimiter:\",\",fill:[\"#4D89F9\"],height:16,min:0,padding:.1,width:32},function(t){for(var i=this.values(),a=e.max.apply(e,t.max==n?i:i.concat(t.max)),r=e.min.apply(e,t.min==n?i:i.concat(t.min)),h=this.prepare(t.width,t.height),l=h.width(),p=h.height(),o=a-r,f=t.padding,c=this.fill(),u=this.x=function(t){return t*l/i.length},d=this.y=function(t){return p-(o?(t-r)/o*p:1)},g=0;g<i.length;g++){var v,m=u(g+f),y=u(g+1-f)-m,w=i[g],x=d(w),k=x,$=x;o?w<0?k=d(e.min(a,0)):$=d(e.max(r,0)):v=1,0==(v=$-k)&&(v=1,a>0&&o&&k--),h.append(s(\"rect\",{\"data-value\":w,fill:c.call(this,w,g,i),x:m,y:k,width:y,height:v}))}})}(jQuery,document,Math);\r\n","!(function (t) {\r\n  \"use strict\";\r\n  function s(e) {\r\n    1 == t(\"#light-mode-switch\").prop(\"checked\") && \"light-mode-switch\" === e\r\n      ? (t(\"#dark-mode-switch\").prop(\"checked\", !1),\r\n        t(\"#rtl-mode-switch\").prop(\"checked\", !1),\r\n        t(\"#bootstrap-style\").attr(\"href\", \"assets/css/bootstrap.min.css\"),\r\n        t(\"#app-style\").attr(\"href\", \"assets/css/app.min.css\"),\r\n        sessionStorage.setItem(\"is_visited\", \"light-mode-switch\"))\r\n      : 1 == t(\"#dark-mode-switch\").prop(\"checked\") && \"dark-mode-switch\" === e\r\n      ? (t(\"#light-mode-switch\").prop(\"checked\", !1),\r\n        t(\"#rtl-mode-switch\").prop(\"checked\", !1),\r\n        t(\"#bootstrap-style\").attr(\"href\", \"assets/css/bootstrap-dark.min.css\"),\r\n        t(\"#app-style\").attr(\"href\", \"assets/css/app-dark.min.css\"),\r\n        sessionStorage.setItem(\"is_visited\", \"dark-mode-switch\"))\r\n      : 1 == t(\"#rtl-mode-switch\").prop(\"checked\") &&\r\n        \"rtl-mode-switch\" === e &&\r\n        (t(\"#light-mode-switch\").prop(\"checked\", !1),\r\n        t(\"#dark-mode-switch\").prop(\"checked\", !1),\r\n        t(\"#bootstrap-style\").attr(\"href\", \"assets/css/bootstrap.min.css\"),\r\n        t(\"#app-style\").attr(\"href\", \"assets/css/app-rtl.min.css\"),\r\n        sessionStorage.setItem(\"is_visited\", \"rtl-mode-switch\"));\r\n  }\r\n  function e() {\r\n    document.webkitIsFullScreen ||\r\n      document.mozFullScreen ||\r\n      document.msFullscreenElement ||\r\n      (console.log(\"pressed\"), t(\"body\").removeClass(\"fullscreen-enable\"));\r\n  }\r\n  var n;\r\n  t(\"#side-menu\").metisMenu(),\r\n    t(\"#vertical-menu-btn\").on(\"click\", function (e) {\r\n      e.preventDefault(),\r\n        t(\"body\").toggleClass(\"sidebar-enable\"),\r\n        992 <= t(window).width()\r\n          ? t(\"body\").toggleClass(\"vertical-collpsed\")\r\n          : t(\"body\").removeClass(\"vertical-collpsed\");\r\n    }),\r\n    t(\"#sidebar-menu a\").each(function () {\r\n      var e = window.location.href.split(/[?#]/)[0];\r\n      this.href == e &&\r\n        (t(this).addClass(\"active\"),\r\n        t(this).parent().addClass(\"mm-active\"),\r\n        t(this).parent().parent().addClass(\"mm-show\"),\r\n        t(this).parent().parent().prev().addClass(\"mm-active\"),\r\n        t(this).parent().parent().parent().addClass(\"mm-active\"),\r\n        t(this).parent().parent().parent().parent().addClass(\"mm-show\"),\r\n        t(this)\r\n          .parent()\r\n          .parent()\r\n          .parent()\r\n          .parent()\r\n          .parent()\r\n          .addClass(\"mm-active\"));\r\n    }),\r\n    t(\".navbar-nav a\").each(function () {\r\n      var e = window.location.href.split(/[?#]/)[0];\r\n      this.href == e &&\r\n        (t(this).addClass(\"active\"),\r\n        t(this).parent().addClass(\"active\"),\r\n        t(this).parent().parent().addClass(\"active\"),\r\n        t(this).parent().parent().parent().addClass(\"active\"),\r\n        t(this).parent().parent().parent().parent().addClass(\"active\"),\r\n        t(this)\r\n          .parent()\r\n          .parent()\r\n          .parent()\r\n          .parent()\r\n          .parent()\r\n          .addClass(\"active\"));\r\n    }),\r\n    t('[data-toggle=\"fullscreen\"]').on(\"click\", function (e) {\r\n      e.preventDefault(),\r\n        t(\"body\").toggleClass(\"fullscreen-enable\"),\r\n        document.fullscreenElement ||\r\n        document.mozFullScreenElement ||\r\n        document.webkitFullscreenElement\r\n          ? document.cancelFullScreen\r\n            ? document.cancelFullScreen()\r\n            : document.mozCancelFullScreen\r\n            ? document.mozCancelFullScreen()\r\n            : document.webkitCancelFullScreen &&\r\n              document.webkitCancelFullScreen()\r\n          : document.documentElement.requestFullscreen\r\n          ? document.documentElement.requestFullscreen()\r\n          : document.documentElement.mozRequestFullScreen\r\n          ? document.documentElement.mozRequestFullScreen()\r\n          : document.documentElement.webkitRequestFullscreen &&\r\n            document.documentElement.webkitRequestFullscreen(\r\n              Element.ALLOW_KEYBOARD_INPUT\r\n            );\r\n    }),\r\n    document.addEventListener(\"fullscreenchange\", e),\r\n    document.addEventListener(\"webkitfullscreenchange\", e),\r\n    document.addEventListener(\"mozfullscreenchange\", e),\r\n    t(\".right-bar-toggle\").on(\"click\", function (e) {\r\n      t(\"body\").toggleClass(\"right-bar-enabled\");\r\n    }),\r\n    t(document).on(\"click\", \"body\", function (e) {\r\n      0 < t(e.target).closest(\".right-bar-toggle, .right-bar\").length ||\r\n        t(\"body\").removeClass(\"right-bar-enabled\");\r\n    }),\r\n    t(\".dropdown-menu a.dropdown-toggle\").on(\"click\", function (e) {\r\n      return (\r\n        t(this).next().hasClass(\"show\") ||\r\n          t(this)\r\n            .parents(\".dropdown-menu\")\r\n            .first()\r\n            .find(\".show\")\r\n            .removeClass(\"show\"),\r\n        t(this).next(\".dropdown-menu\").toggleClass(\"show\"),\r\n        !1\r\n      );\r\n    }),\r\n    t(function () {\r\n      t('[data-toggle=\"tooltip\"]').tooltip();\r\n    }),\r\n    t(function () {\r\n      t('[data-toggle=\"popover\"]').popover();\r\n    }),\r\n    window.sessionStorage &&\r\n      ((n = sessionStorage.getItem(\"is_visited\"))\r\n        ? (t(\".right-bar input:checkbox\").prop(\"checked\", !1),\r\n          t(\"#\" + n).prop(\"checked\", !0),\r\n          s(n))\r\n        : sessionStorage.setItem(\"is_visited\", \"light-mode-switch\")),\r\n    t(\"#light-mode-switch, #dark-mode-switch, #rtl-mode-switch\").on(\r\n      \"change\",\r\n      function (e) {\r\n        s(e.target.id);\r\n      }\r\n    ),\r\n    t(window).on(\"load\", function () {\r\n      t(\"#status\").fadeOut(), t(\"#preloader\").delay(350).fadeOut(\"slow\");\r\n    }),\r\n    Waves.init();\r\n})(jQuery);\r\n","/*! jQuery UI - v1.12.1 - 2016-09-14\r\n* http://jqueryui.com\r\n* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js\r\n* Copyright jQuery Foundation and other contributors; Licensed MIT */\r\n\r\n(function(t){\"function\"==typeof define&&define.amd?define([\"jquery\"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css(\"visibility\");\"inherit\"===e;)t=t.parent(),e=t.css(\"visibility\");return\"hidden\"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css(\"position\"),(\"absolute\"===e||\"relative\"===e||\"fixed\"===e)&&(i=parseInt(t.css(\"zIndex\"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId=\"ui-datepicker-div\",this._inlineClass=\"ui-datepicker-inline\",this._appendClass=\"ui-datepicker-append\",this._triggerClass=\"ui-datepicker-trigger\",this._dialogClass=\"ui-datepicker-dialog\",this._disableClass=\"ui-datepicker-disabled\",this._unselectableClass=\"ui-datepicker-unselectable\",this._currentClass=\"ui-datepicker-current-day\",this._dayOverClass=\"ui-datepicker-days-cell-over\",this.regional=[],this.regional[\"\"]={closeText:\"Done\",prevText:\"Prev\",nextText:\"Next\",currentText:\"Today\",monthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthNamesShort:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],dayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],dayNamesShort:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],dayNamesMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],weekHeader:\"Wk\",dateFormat:\"mm/dd/yy\",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:\"\"},this._defaults={showOn:\"focus\",showAnim:\"fadeIn\",showOptions:{},defaultDate:null,appendText:\"\",buttonText:\"...\",buttonImage:\"\",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:\"c-10:c+10\",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:\"+10\",minDate:null,maxDate:null,duration:\"fast\",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:\"\",altFormat:\"\",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[\"\"]),this.regional.en=t.extend(!0,{},this.regional[\"\"]),this.regional[\"en-US\"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t(\"<div id='\"+this._mainDivId+\"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\"))}function n(e){var i=\"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\";return e.on(\"mouseout\",i,function(){t(this).removeClass(\"ui-state-hover\"),-1!==this.className.indexOf(\"ui-datepicker-prev\")&&t(this).removeClass(\"ui-datepicker-prev-hover\"),-1!==this.className.indexOf(\"ui-datepicker-next\")&&t(this).removeClass(\"ui-datepicker-next-hover\")}).on(\"mouseover\",i,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(\".ui-datepicker-calendar\").find(\"a\").removeClass(\"ui-state-hover\"),t(this).addClass(\"ui-state-hover\"),-1!==this.className.indexOf(\"ui-datepicker-prev\")&&t(this).addClass(\"ui-datepicker-prev-hover\"),-1!==this.className.indexOf(\"ui-datepicker-next\")&&t(this).addClass(\"ui-datepicker-next-hover\"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger(\"change\")}}t.ui=t.ui||{},t.ui.version=\"1.12.1\";var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,\"events\"),s&&s.remove&&t(n).triggerHandler(\"remove\")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(\".\")[0];e=e.split(\".\")[1];var l=h+\"-\"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[\":\"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+\".\"+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o=\"string\"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||\"instance\"!==n?this.each(function(){var i,o=t.data(this,s);return\"instance\"===n?(r=o,!1):o?t.isFunction(o[n])&&\"_\"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error(\"no such method '\"+n+\"' for \"+e+\" widget instance\"):t.error(\"cannot call methods on \"+e+\" prior to initialization; \"+\"attempted to call method '\"+n+\"'\")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:\"widget\",widgetEventPrefix:\"\",defaultElement:\"<div>\",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace=\".\"+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger(\"create\",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr(\"aria-disabled\"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if(\"string\"==typeof e)if(a={},s=e.split(\".\"),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return\"classes\"===t&&this._setOptionClasses(e),this.options[t]=e,\"disabled\"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+\"-disabled\",null,!!t),t&&(this._removeClass(this.hoverable,null,\"ui-state-hover\"),this._removeClass(this.focusable,null,\"ui-state-focus\"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:\"_untrackClassesElement\"}),e.keys&&i(e.keys.match(/\\S+/g)||[],!0),e.extra&&i(e.extra.match(/\\S+/g)||[]),s.join(\" \")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s=\"boolean\"==typeof s?s:i;var n=\"string\"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;\"boolean\"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass(\"ui-state-disabled\")?(\"string\"==typeof a?o[a]:a).apply(o,arguments):void 0}\"string\"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\\w:-]*)\\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r)})},_off:function(e,i){i=(i||\"\").split(\" \").join(this.eventNamespace+\" \")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return(\"string\"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,\"ui-state-hover\")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,\"ui-state-hover\")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,\"ui-state-focus\")},focusout:function(e){this._removeClass(t(e.currentTarget),null,\"ui-state-focus\")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:\"fadeIn\",hide:\"fadeOut\"},function(e,i){t.Widget.prototype[\"_\"+e]=function(s,n,o){\"string\"==typeof n&&(n={effect:n});var a,r=n?n===!0||\"number\"==typeof n?i:n.effect||i:e;n=n||{},\"number\"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,h=/top|center|bottom/,l=/[\\+\\-]\\d+(\\.[\\d]+)?%?/,c=/^\\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t(\"<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>\"),o=s.children()[0];return t(\"body\").append(s),e=o.offsetWidth,s.css(\"overflow\",\"scroll\"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?\"\":e.element.css(\"overflow-x\"),s=e.isWindow||e.isDocument?\"\":e.element.css(\"overflow-y\"),n=\"scroll\"===i||\"auto\"===i&&e.width<e.element[0].scrollWidth,o=\"scroll\"===s||\"auto\"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||\"flip\").split(\" \"),k={};return _=s(v),v[0].preventDefault&&(n.at=\"left top\"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each([\"my\",\"at\"],function(){var t,e,i=(n[this]||\"\").split(\" \");1===i.length&&(i=r.test(i[0])?i.concat([\"center\"]):h.test(i[0])?[\"center\"].concat(i):[\"center\",\"center\"]),i[0]=r.test(i[0])?i[0]:\"center\",i[1]=h.test(i[1])?i[1]:\"center\",t=l.exec(i[0]),e=l.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),\"right\"===n.at[0]?m.left+=p:\"center\"===n.at[0]&&(m.left+=p/2),\"bottom\"===n.at[1]?m.top+=f:\"center\"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,h=t(this),l=h.outerWidth(),c=h.outerHeight(),d=i(this,\"marginLeft\"),_=i(this,\"marginTop\"),x=l+d+i(this,\"marginRight\")+y.width,C=c+_+i(this,\"marginBottom\")+y.height,D=t.extend({},m),I=e(k.my,h.outerWidth(),h.outerHeight());\"right\"===n.my[0]?D.left-=l:\"center\"===n.my[0]&&(D.left-=l/2),\"bottom\"===n.my[1]?D.top-=c:\"center\"===n.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],s={marginLeft:d,marginTop:_},t.each([\"left\",\"top\"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+I[0],u[1]+I[1]],my:n.my,at:n.at,within:b,elem:h})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-l,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:h,left:D.left,top:D.top,width:l,height:c},horizontal:0>i?\"left\":e>0?\"right\":\"center\",vertical:0>r?\"top\":s>0?\"bottom\":\"middle\"};l>p&&p>a(e+i)&&(u.horizontal=\"center\"),c>f&&f>a(s+r)&&(u.vertical=\"middle\"),u.important=o(a(e),a(i))>o(a(s),a(r))?\"horizontal\":\"vertical\",n.using.call(this,t,u)}),h.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d=\"left\"===e.my[0]?-e.elemWidth:\"right\"===e.my[0]?e.elemWidth:0,p=\"left\"===e.at[0]?e.targetWidth:\"right\"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d=\"top\"===e.my[1],p=d?-e.elemHeight:\"bottom\"===e.my[1]?e.elemHeight:0,f=\"top\"===e.at[1]?e.targetHeight:\"bottom\"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[\":\"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t=\"onselectstart\"in document.createElement(\"div\")?\"selectstart\":\"mousedown\";return function(){return this.on(t+\".ui-disableSelection\",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(\".ui-disableSelection\")}});var c=\"ui-effects-\",u=\"ui-effects-style\",d=\"ui-effects-animated\",p=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||\"rgba\";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e}),n.length?(\"0,0,0,0\"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a=\"backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor\",r=/^([\\-+])=\\s*(\\d+\\.?\\d*)/,h=[{re:/rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,space:\"hsla\",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:\"byte\"},green:{idx:1,type:\"byte\"},blue:{idx:2,type:\"byte\"}}},hsla:{props:{hue:{idx:0,type:\"degrees\"},saturation:{idx:1,type:\"percent\"},lightness:{idx:2,type:\"percent\"}}}},u={\"byte\":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t(\"<p>\")[0],f=t.each;p.style.cssText=\"background-color:rgba(1,1,1,.5)\",d.rgba=p.style.backgroundColor.indexOf(\"rgba\")>-1,f(c,function(t,e){e.cache=\"_\"+t,e.props.alpha={idx:3,type:\"percent\",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d=\"array\"),\"string\"===d?this.parse(s(n)||o._default):\"array\"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):\"object\"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if(\"alpha\"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l(\"transparent\"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e=\"rgba(\",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e=\"rgb(\"),e+i.join()+\")\"},toHslaString:function(){var e=\"hsla(\",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+\"%\"),t});return 1===i[3]&&(i.pop(),e=\"hsl(\"),e+i.join()+\")\"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),\"#\"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?\"0\"+t:t}).join(\"\")},toString:function(){return 0===this._rgba[3]?\"transparent\":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u=\"array\"===r||\"object\"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u[\"object\"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h=\"alpha\"===e?this._hsla?\"hsla\":\"rgba\":s,l=this[h](),c=l[i.idx];return\"undefined\"===a?c:(\"function\"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:(\"string\"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*(\"+\"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(\" \");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r=\"\";if(\"transparent\"!==n&&(\"string\"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a=\"backgroundColor\"===i?e.parentNode:e;(\"\"===r||\"transparent\"===r)&&a&&a.style;)try{r=t.css(a,\"backgroundColor\"),a=a.parentNode}catch(h){}n=n.blend(r&&\"transparent\"!==r?r:\"_default\")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f([\"Top\",\"Right\",\"Bottom\",\"Left\"],function(i,s){e[\"border\"+s+\"Color\"]=t}),e}},o=t.Color.names={aqua:\"#00ffff\",black:\"#000000\",blue:\"#0000ff\",fuchsia:\"#ff00ff\",gray:\"#808080\",green:\"#008000\",lime:\"#00ff00\",maroon:\"#800000\",navy:\"#000080\",olive:\"#808000\",purple:\"#800080\",red:\"#ff0000\",silver:\"#c0c0c0\",teal:\"#008080\",white:\"#ffffff\",yellow:\"#ffff00\",transparent:[null,null,null,0],_default:\"#ffffff\"}}(p),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],\"string\"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)\"string\"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=[\"add\",\"remove\",\"toggle\"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each([\"borderLeftStyle\",\"borderRightStyle\",\"borderBottomStyle\",\"borderTopStyle\"],function(e,i){t.fx.step[i]=function(t){(\"none\"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr(\"class\")||\"\",l=h.children?a.find(\"*\").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+\"Class\"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr(\"class\",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,\"\")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return\"boolean\"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),(\"number\"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:\"number\"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||\"number\"==typeof e||t.fx.speeds[e]?!0:\"string\"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:\"object\"!=typeof e||e.effect?!1:!0:!0}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\\((-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto)\\)$/,o=n.exec(t)||[\"\",0,i,s,0];return{top:parseFloat(o[1])||0,right:\"auto\"===o[2]?i:parseFloat(o[2]),bottom:\"auto\"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(d)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(c+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(c+e[s]),t.css(e[s],i))},setMode:function(t,e){return\"toggle\"===e&&(e=t.is(\":hidden\")?\"show\":\"hide\"),e},createWrapper:function(e){if(e.parent().is(\".ui-effects-wrapper\"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),\"float\":e.css(\"float\")},s=t(\"<div></div>\").addClass(\"ui-effects-wrapper\").css({fontSize:\"100%\",background:\"transparent\",border:\"none\",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger(\"focus\"),s=e.parent(),\"static\"===e.css(\"position\")?(s.css({position:\"relative\"}),e.css({position:\"relative\"})):(t.extend(i,{position:e.css(\"position\"),zIndex:e.css(\"z-index\")}),t.each([\"top\",\"left\",\"bottom\",\"right\"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]=\"auto\")}),e.css({position:\"relative\",top:0,left:0,right:\"auto\",bottom:\"auto\"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(\".ui-effects-wrapper\")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger(\"focus\")),e}}),t.extend(t.effects,{version:\"1.12.1\",define:function(e,i,s){return s||(s=i,i=\"effect\"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s=\"horizontal\"!==i?(e||100)/100:1,n=\"vertical\"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||\"\",t.removeData(u)},mode:function(t,e){var i=t.is(\":hidden\");return\"toggle\"===e&&(e=i?\"show\":\"hide\"),(i?\"hide\"===e:\"show\"===e)&&(e=\"none\"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case\"top\":i=0;break;case\"middle\":i=.5;break;case\"bottom\":i=1;break;default:i=t[0]/e.height}switch(t[1]){case\"left\":s=0;break;case\"center\":s=.5;break;case\"right\":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css(\"position\"),n=e.position();return e.css({marginTop:e.css(\"marginTop\"),marginBottom:e.css(\"marginBottom\"),marginLeft:e.css(\"marginLeft\"),marginRight:e.css(\"marginRight\")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s=\"absolute\",i=t(\"<\"+e[0].nodeName+\">\").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css(\"display\"))?\"inline-block\":\"block\",visibility:\"hidden\",marginTop:e.css(\"marginTop\"),marginBottom:e.css(\"marginBottom\"),marginLeft:e.css(\"marginLeft\"),marginRight:e.css(\"marginRight\"),\"float\":e.css(\"float\")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass(\"ui-effects-placeholder\"),e.data(c+\"placeholder\",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=c+\"placeholder\",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){r.removeData(d),t.effects.cleanUp(r),\"hide\"===s.mode&&r.hide(),a()}function a(){t.isFunction(h)&&h.call(r[0]),t.isFunction(e)&&e()}var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?\"none\"===s.mode?(r[l](),a()):n.call(r[0],s,i):(r.is(\":hidden\")?\"hide\"===l:\"show\"===l)?(r[l](),a()):n.call(r[0],s,a)}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||\"fx\",h=s.complete,l=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,l)||o;i.data(d,!0),c.push(s),o&&(\"show\"===s||s===o&&\"hide\"===s)&&i.show(),o&&\"none\"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?l?this[l](s.duration,h):this.each(function(){h&&h.call(this)}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode=\"show\",this.effect.call(this,n)\r\n}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode=\"hide\",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||\"boolean\"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode=\"toggle\",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each([\"em\",\"px\",\"%\",\"pt\"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css(\"clip\",\"rect(\"+t.top+\"px \"+t.right+\"px \"+t.bottom+\"px \"+t.left+\"px)\"):s(this.css(\"clip\"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o=\"fixed\"===n.css(\"position\"),a=t(\"body\"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t(\"<div class='ui-effects-transfer'></div>\").appendTo(\"body\").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?\"fixed\":\"absolute\"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),\"string\"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each([\"Quad\",\"Cubic\",\"Quart\",\"Quint\",\"Expo\"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing[\"easeIn\"+e]=i,t.easing[\"easeOut\"+e]=function(t){return 1-i(1-t)},t.easing[\"easeInOut\"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var f=t.effects;t.effects.define(\"blind\",\"hide\",function(e,i){var s={up:[\"bottom\",\"top\"],vertical:[\"bottom\",\"top\"],down:[\"top\",\"bottom\"],left:[\"right\",\"left\"],horizontal:[\"right\",\"left\"],right:[\"left\",\"right\"]},n=t(this),o=e.direction||\"up\",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],\"show\"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define(\"bounce\",function(e,i){var s,n,o,a=t(this),r=e.mode,h=\"hide\"===r,l=\"show\"===r,c=e.direction||\"up\",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m=\"up\"===c||\"down\"===c?\"top\":\"left\",_=\"up\"===c||\"left\"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a[\"top\"===m?\"outerHeight\":\"outerWidth\"]()/3),l&&(n={opacity:1},n[m]=o,a.css(\"opacity\",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++)s={},s[m]=(_?\"-=\":\"+=\")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;h&&(s={opacity:0},s[m]=(_?\"-=\":\"+=\")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define(\"clip\",\"hide\",function(e,i){var s,n={},o=t(this),a=e.direction||\"vertical\",r=\"both\"===a,h=r||\"horizontal\"===a,l=r||\"vertical\"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),\"show\"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define(\"drop\",\"hide\",function(e,i){var s,n=t(this),o=e.mode,a=\"show\"===o,r=e.direction||\"left\",h=\"up\"===r||\"down\"===r?\"top\":\"left\",l=\"up\"===r||\"left\"===r?\"-=\":\"+=\",c=\"+=\"===l?\"-=\":\"+=\",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n[\"top\"===h?\"outerHeight\":\"outerWidth\"](!0)/2,u[h]=l+s,a&&(n.css(u),u[h]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define(\"explode\",\"hide\",function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:\"visible\"}),t(b).remove(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g=\"show\"===f,m=p.show().css(\"visibility\",\"hidden\").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(h=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,l=a-(d-1)/2,p.clone().appendTo(\"body\").wrap(\"<div></div>\").css({position:\"absolute\",visibility:\"visible\",left:-a*_,top:-o*v}).parent().addClass(\"ui-effects-explode\").css({position:\"absolute\",overflow:\"hidden\",width:_,height:v,left:r+(g?l*_:0),top:h+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:l*_),top:h+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s)}),t.effects.define(\"fade\",\"toggle\",function(e,i){var s=\"show\"===e.mode;t(this).css(\"opacity\",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define(\"fold\",\"hide\",function(e,i){var s=t(this),n=e.mode,o=\"show\"===n,a=\"hide\"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),l=!!e.horizFirst,c=l?[\"right\",\"bottom\"]:[\"bottom\",\"right\"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;h&&(r=parseInt(h[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define(\"highlight\",\"show\",function(e,i){var s=t(this),n={backgroundColor:s.css(\"backgroundColor\")};\"hide\"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:\"none\",backgroundColor:e.color||\"#ffff99\"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define(\"size\",function(e,i){var s,n,o,a=t(this),r=[\"fontSize\"],h=[\"borderTopWidth\",\"borderBottomWidth\",\"paddingTop\",\"paddingBottom\"],l=[\"borderLeftWidth\",\"borderRightWidth\",\"paddingLeft\",\"paddingRight\"],c=e.mode,u=\"effect\"!==c,d=e.scale||\"both\",p=e.origin||[\"middle\",\"center\"],f=a.css(\"position\"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),\"show\"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},(\"box\"===d||\"both\"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),(\"content\"===d||\"both\"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),(\"content\"===d||\"both\"===d)&&(h=h.concat([\"marginTop\",\"marginBottom\"]).concat(r),l=l.concat([\"marginLeft\",\"marginRight\"]),a.find(\"*[width]\").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css(\"opacity\",_.opacity),u||(a.css(\"position\",\"static\"===f?\"relative\":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define(\"scale\",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:\"effect\"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||\"both\"),origin:e.origin||[\"middle\",\"center\"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define(\"puff\",\"hide\",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define(\"pulsate\",\"show\",function(e,i){var s=t(this),n=e.mode,o=\"show\"===n,a=\"hide\"===n,r=o||a,h=2*(e.times||5)+(r?1:0),l=e.duration/h,c=0,u=1,d=s.queue().length;for((o||!s.is(\":visible\"))&&(s.css(\"opacity\",0).show(),c=1);h>u;u++)s.animate({opacity:c},l,e.easing),c=1-c;s.animate({opacity:c},l,e.easing),s.queue(i),t.effects.unshift(s,d,h+1)}),t.effects.define(\"shake\",function(e,i){var s=1,n=t(this),o=e.direction||\"left\",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c=\"up\"===o||\"down\"===o?\"top\":\"left\",u=\"up\"===o||\"left\"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?\"-=\":\"+=\")+a,p[c]=(u?\"+=\":\"-=\")+2*a,f[c]=(u?\"-=\":\"+=\")+2*a,n.animate(d,l,e.easing);r>s;s++)n.animate(p,l,e.easing).animate(f,l,e.easing);n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1)}),t.effects.define(\"slide\",\"show\",function(e,i){var s,n,o=t(this),a={up:[\"bottom\",\"top\"],down:[\"top\",\"bottom\"],left:[\"right\",\"left\"],right:[\"left\",\"right\"]},r=e.mode,h=e.direction||\"left\",l=\"up\"===h||\"down\"===h?\"top\":\"left\",c=\"up\"===h||\"left\"===h,u=e.distance||o[\"top\"===l?\"outerHeight\":\"outerWidth\"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],\"show\"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var f;t.uiBackCompat!==!1&&(f=t.effects.define(\"transfer\",function(e,i){t(this).transfer(e,i)})),t.ui.focusable=function(i,s){var n,o,a,r,h,l=i.nodeName.toLowerCase();return\"area\"===l?(n=i.parentNode,o=n.name,i.href&&o&&\"map\"===n.nodeName.toLowerCase()?(a=t(\"img[usemap='#\"+o+\"']\"),a.length>0&&a.is(\":visible\")):!1):(/^(input|select|textarea|button|object)$/.test(l)?(r=!i.disabled,r&&(h=t(i).closest(\"fieldset\")[0],h&&(r=!h.disabled))):r=\"a\"===l?i.href||s:s,r&&t(i).is(\":visible\")&&e(t(i)))},t.extend(t.expr[\":\"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,\"tabindex\"))}}),t.ui.focusable,t.fn.form=function(){return\"string\"==typeof this[0].form?this.closest(\"form\"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data(\"ui-form-reset-instances\");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data(\"ui-form-reset-instances\")||[];t.length||this.form.on(\"reset.ui-form-reset\",this._formResetHandler),t.push(this),this.form.data(\"ui-form-reset-instances\",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data(\"ui-form-reset-instances\");e.splice(t.inArray(this,e),1),e.length?this.form.data(\"ui-form-reset-instances\",e):this.form.removeData(\"ui-form-reset-instances\").off(\"reset.ui-form-reset\")}}},\"1.7\"===t.fn.jquery.substring(0,3)&&(t.each([\"Width\",\"Height\"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,\"padding\"+this))||0,s&&(i-=parseFloat(t.css(e,\"border\"+this+\"Width\"))||0),o&&(i-=parseFloat(t.css(e,\"margin\"+this))||0)}),i}var n=\"Width\"===i?[\"Left\",\"Right\"]:[\"Top\",\"Bottom\"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn[\"inner\"+i]=function(e){return void 0===e?a[\"inner\"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+\"px\")})},t.fn[\"outer\"+i]=function(e,n){return\"number\"!=typeof e?a[\"outer\"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+\"px\")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!\"#$%&'()*+,.\\/:;<=>?@[\\]^`{|}~])/g;return function(e){return e.replace(t,\"\\\\$1\")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents(\"label\"),s=this.attr(\"id\"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i=\"label[for='\"+t.ui.escapeSelector(s)+\"']\",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css(\"position\"),s=\"absolute\"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&\"static\"===e.css(\"position\")?!1:n.test(e.css(\"overflow\")+e.css(\"overflow-y\")+e.css(\"overflow-x\"))}).eq(0);return\"fixed\"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[\":\"],{tabbable:function(e){var i=t.attr(e,\"tabindex\"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id=\"ui-id-\"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\\d+$/.test(this.id)&&t(this).removeAttr(\"id\")})}}),t.widget(\"ui.accordion\",{version:\"1.12.1\",options:{active:0,animate:{},classes:{\"ui-accordion-header\":\"ui-corner-top\",\"ui-accordion-header-collapsed\":\"ui-corner-all\",\"ui-accordion-content\":\"ui-corner-bottom\"},collapsible:!1,event:\"click\",header:\"> li > :first-child, > :not(li):even\",heightStyle:\"auto\",icons:{activeHeader:\"ui-icon-triangle-1-s\",header:\"ui-icon-triangle-1-e\"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:\"hide\",borderBottomWidth:\"hide\",paddingTop:\"hide\",paddingBottom:\"hide\",height:\"hide\"},showProps:{borderTopWidth:\"show\",borderBottomWidth:\"show\",paddingTop:\"show\",paddingBottom:\"show\",height:\"show\"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass(\"ui-accordion\",\"ui-widget ui-helper-reset\"),this.element.attr(\"role\",\"tablist\"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t(\"<span>\"),this._addClass(e,\"ui-accordion-header-icon\",\"ui-icon \"+s.header),e.prependTo(this.headers),i=this.active.children(\".ui-accordion-header-icon\"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,\"ui-accordion-icons\"))},_destroyIcons:function(){this._removeClass(this.headers,\"ui-accordion-icons\"),this.headers.children(\".ui-accordion-header-icon\").remove()},_destroy:function(){var t;this.element.removeAttr(\"role\"),this.headers.removeAttr(\"role aria-expanded aria-selected aria-controls tabIndex\").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css(\"display\",\"\").removeAttr(\"role aria-hidden aria-labelledby\").removeUniqueId(),\"content\"!==this.options.heightStyle&&t.css(\"height\",\"\")},_setOption:function(t,e){return\"active\"===t?(this._activate(e),void 0):(\"event\"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),\"collapsible\"!==t||e||this.options.active!==!1||this._activate(0),\"icons\"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr(\"aria-disabled\",t),this._toggleClass(null,\"ui-state-disabled\",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,\"ui-state-disabled\",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr(\"tabIndex\",-1),t(o).attr(\"tabIndex\",0),t(o).trigger(\"focus\"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger(\"focus\")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(\".ui-state-disabled\").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,\"ui-accordion-header ui-accordion-header-collapsed\",\"ui-state-default\"),this.panels=this.headers.next().filter(\":not(.ui-accordion-content-active)\").hide(),this._addClass(this.panels,\"ui-accordion-content\",\"ui-helper-reset ui-widget-content\"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,\"ui-accordion-header-active\",\"ui-state-active\")._removeClass(this.active,\"ui-accordion-header-collapsed\"),this._addClass(this.active.next(),\"ui-accordion-content-active\"),this.active.next().show(),this.headers.attr(\"role\",\"tab\").each(function(){var e=t(this),i=e.uniqueId().attr(\"id\"),s=e.next(),n=s.uniqueId().attr(\"id\");e.attr(\"aria-controls\",n),s.attr(\"aria-labelledby\",i)}).next().attr(\"role\",\"tabpanel\"),this.headers.not(this.active).attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\",tabIndex:-1}).next().attr({\"aria-hidden\":\"true\"}).hide(),this.active.length?this.active.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0}).next().attr({\"aria-hidden\":\"false\"}):this.headers.eq(0).attr(\"tabIndex\",0),this._createIcons(),this._setupEvents(i.event),\"fill\"===s?(e=n.height(),this.element.siblings(\":visible\").each(function(){var i=t(this),s=i.css(\"position\");\"absolute\"!==s&&\"fixed\"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css(\"overflow\",\"auto\")):\"auto\"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(\":visible\");i||t(this).show(),e=Math.max(e,t(this).css(\"height\",\"\").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return\"number\"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:\"_keydown\"};e&&t.each(e.split(\" \"),function(t,e){i[e]=\"_eventHandler\"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:\"_panelKeyDown\"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||this._trigger(\"beforeActivate\",e,u)===!1||(n.active=h?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,\"ui-accordion-header-active\",\"ui-state-active\"),n.icons&&(i=o.children(\".ui-accordion-header-icon\"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,\"ui-accordion-header-collapsed\")._addClass(a,\"ui-accordion-header-active\",\"ui-state-active\"),n.icons&&(s=a.children(\".ui-accordion-header-icon\"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),\"ui-accordion-content-active\")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({\"aria-hidden\":\"true\"}),s.prev().attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\"}),i.length&&s.length?s.prev().attr({tabIndex:-1,\"aria-expanded\":\"false\"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr(\"tabIndex\"),10)}).attr(\"tabIndex\",-1),i.attr(\"aria-hidden\",\"false\").prev().attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css(\"box-sizing\"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(i)};return\"number\"==typeof u&&(o=u),\"string\"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),\"height\"!==i.prop?\"content-box\"===h&&(r+=i.now):\"content\"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,\"ui-accordion-content-active\"),this._removeClass(i,\"ui-accordion-header-active\")._addClass(i,\"ui-accordion-header-collapsed\"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger(\"activate\",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget(\"ui.menu\",{version:\"1.12.1\",defaultElement:\"<ul>\",delay:300,options:{icons:{submenu:\"ui-icon-caret-1-e\"},items:\"> *\",menus:\"ul\",position:{my:\"left top\",at:\"right top\"},role:\"menu\",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass(\"ui-menu\",\"ui-widget ui-widget-content\"),this._on({\"mousedown .ui-menu-item\":function(t){t.preventDefault()},\"click .ui-menu-item\":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(\".ui-state-disabled\").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(\".ui-menu\").length?this.expand(e):!this.element.is(\":focus\")&&s.closest(\".ui-menu\").length&&(this.element.trigger(\"focus\",[!0]),this.active&&1===this.active.parents(\".ui-menu\").length&&clearTimeout(this.timer)))},\"mouseenter .ui-menu-item\":function(e){if(!this.previousFilter){var i=t(e.target).closest(\".ui-menu-item\"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(\".ui-state-active\"),null,\"ui-state-active\"),this.focus(e,s))}},mouseleave:\"collapseAll\",\"mouseleave .ui-menu\":\"collapseAll\",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:\"_keydown\"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(\".ui-menu-item\").removeAttr(\"role aria-disabled\"),i=e.children(\".ui-menu-item-wrapper\").removeUniqueId().removeAttr(\"tabIndex role aria-haspopup\");this.element.removeAttr(\"aria-activedescendant\").find(\".ui-menu\").addBack().removeAttr(\"role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex\").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data(\"ui-menu-submenu-caret\")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move(\"first\",\"first\",e);break;case t.ui.keyCode.END:this._move(\"last\",\"last\",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(\".ui-state-disabled\")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||\"\",o=!1,n=e.keyCode>=96&&105>=e.keyCode?\"\"+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(\".ui-menu-item\"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(\".ui-state-disabled\")&&(this.active.children(\"[aria-haspopup='true']\").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,h=this.element.find(this.options.menus);this._toggleClass(\"ui-menu-icons\",null,!!this.element.find(\".ui-icon\").length),s=h.filter(\":not(.ui-menu)\").hide().attr({role:this.options.role,\"aria-hidden\":\"true\",\"aria-expanded\":\"false\"}).each(function(){var e=t(this),i=e.prev(),s=t(\"<span>\").data(\"ui-menu-submenu-caret\",!0);a._addClass(s,\"ui-menu-icon\",\"ui-icon \"+r),i.attr(\"aria-haspopup\",\"true\").prepend(s),e.attr(\"aria-labelledby\",i.attr(\"id\"))}),this._addClass(s,\"ui-menu\",\"ui-widget ui-widget-content ui-front\"),e=h.add(this.element),i=e.find(this.options.items),i.not(\".ui-menu-item\").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,\"ui-menu-divider\",\"ui-widget-content\")}),n=i.not(\".ui-menu-item, .ui-menu-divider\"),o=n.children().not(\".ui-menu\").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,\"ui-menu-item\")._addClass(o,\"ui-menu-item-wrapper\"),i.filter(\".ui-state-disabled\").attr(\"aria-disabled\",\"true\"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:\"menuitem\",listbox:\"option\"}[this.options.role]},_setOption:function(t,e){if(\"icons\"===t){var i=this.element.find(\".ui-menu-icon\");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr(\"aria-disabled\",t+\"\"),this._toggleClass(null,\"ui-state-disabled\",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&\"focus\"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(\".ui-menu-item-wrapper\"),this._addClass(s,null,\"ui-state-active\"),this.options.role&&this.element.attr(\"aria-activedescendant\",s.attr(\"id\")),n=this.active.parent().closest(\".ui-menu-item\").children(\".ui-menu-item-wrapper\"),this._addClass(n,null,\"ui-state-active\"),t&&\"keydown\"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(\".ui-menu\"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger(\"focus\",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],\"borderTopWidth\"))||0,s=parseFloat(t.css(this.activeMenu[0],\"paddingTop\"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(\".ui-menu-item-wrapper\"),null,\"ui-state-active\"),this._trigger(\"blur\",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),\"true\"===t.attr(\"aria-hidden\")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(\".ui-menu\").not(e.parents(\".ui-menu\")).hide().attr(\"aria-hidden\",\"true\"),e.show().removeAttr(\"aria-hidden\").attr(\"aria-expanded\",\"true\").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(\".ui-menu\"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(\".ui-state-active\"),null,\"ui-state-active\"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(\".ui-menu\").hide().attr(\"aria-hidden\",\"true\").attr(\"aria-expanded\",\"false\")},_closeOnDocumentClick:function(e){return!t(e.target).closest(\".ui-menu\").length},_isDivider:function(t){return!/[^\\-\\u2014\\u2013\\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(\".ui-menu-item\",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(\".ui-menu \").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move(\"next\",\"first\",t)},previous:function(t){this._move(\"prev\",\"last\",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(\".ui-menu-item\").length},isLastItem:function(){return this.active&&!this.active.nextAll(\".ui-menu-item\").length},_move:function(t,e,i){var s;this.active&&(s=\"first\"===t||\"last\"===t?this.active[\"first\"===t?\"prevAll\":\"nextAll\"](\".ui-menu-item\").eq(-1):this.active[t+\"All\"](\".ui-menu-item\").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(\".ui-menu-item\").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?\"last\":\"first\"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(\".ui-menu-item\").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop(\"scrollHeight\")},select:function(e){this.active=this.active||t(e.target).closest(\".ui-menu-item\");var i={item:this.active};this.active.has(\".ui-menu\").length||this.collapseAll(e,!0),this._trigger(\"select\",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\"),s=RegExp(\"^\"+i,\"i\");return this.activeMenu.find(this.options.items).filter(\".ui-menu-item\").filter(function(){return s.test(t.trim(t(this).children(\".ui-menu-item-wrapper\").text()))})}}),t.widget(\"ui.autocomplete\",{version:\"1.12.1\",defaultElement:\"<input>\",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:\"left top\",at:\"left bottom\",collision:\"none\"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o=\"textarea\"===n,a=\"input\"===n;\r\nthis.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?\"val\":\"text\"],this.isNewMenu=!0,this._addClass(\"ui-autocomplete-input\"),this.element.attr(\"autocomplete\",\"off\"),this._on(this.element,{keydown:function(n){if(this.element.prop(\"readOnly\"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move(\"previousPage\",n);break;case o.PAGE_DOWN:e=!0,this._move(\"nextPage\",n);break;case o.UP:e=!0,this._keyEvent(\"previous\",n);break;case o.DOWN:e=!0,this._keyEvent(\"next\",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(\":visible\")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(\":visible\"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move(\"previousPage\",s);break;case n.PAGE_DOWN:this._move(\"nextPage\",s);break;case n.UP:this._keyEvent(\"previous\",s);break;case n.DOWN:this._keyEvent(\"next\",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t(\"<ul>\").appendTo(this._appendTo()).menu({role:null}).hide().menu(\"instance\"),this._addClass(this.menu.element,\"ui-autocomplete\",\"ui-front\"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger(\"focus\")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one(\"mousemove\",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data(\"ui-autocomplete-item\"),!1!==this._trigger(\"focus\",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr(\"aria-label\")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t(\"<div>\").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data(\"ui-autocomplete-item\"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger(\"focus\"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger(\"select\",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t(\"<div>\",{role:\"status\",\"aria-live\":\"assertive\",\"aria-relevant\":\"additions\"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,\"ui-helper-hidden-accessible\"),this._on(this.window,{beforeunload:function(){this.element.removeAttr(\"autocomplete\")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr(\"autocomplete\"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),\"source\"===t&&this._initSource(),\"appendTo\"===t&&this.menu.element.appendTo(this._appendTo()),\"disabled\"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(\".ui-front, dialog\")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):\"string\"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:\"json\",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(\":visible\"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger(\"search\",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass(\"ui-autocomplete-loading\"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass(\"ui-autocomplete-loading\")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger(\"response\",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger(\"open\")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,\"mousedown\"),this.menu.element.is(\":visible\")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger(\"close\",t))},_change:function(t){this.previous!==this._value()&&this._trigger(\"change\",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return\"string\"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:\"_closeOnClickOutside\"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width(\"\").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data(\"ui-autocomplete-item\",e)},_renderItem:function(e,i){return t(\"<li>\").append(t(\"<div>\").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(\":visible\")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(\":visible\"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop(\"contentEditable\");return\"inherit\"===e?this._isContentEditable(t.parent()):\"true\"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),\"i\");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget(\"ui.autocomplete\",t.ui.autocomplete,{options:{messages:{noResults:\"No search results.\",results:function(t){return t+(t>1?\" results are\":\" result is\")+\" available, use up and down arrow keys to navigate.\"}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t(\"<div>\").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var g=/ui-corner-([a-z]){2,6}/g;t.widget(\"ui.controlgroup\",{version:\"1.12.1\",defaultElement:\"<div>\",options:{direction:\"horizontal\",disabled:null,onlyVisible:!0,items:{button:\"input[type=button], input[type=submit], input[type=reset], button, a\",controlgroupLabel:\".ui-controlgroup-label\",checkboxradio:\"input[type='checkbox'], input[type='radio']\",selectmenu:\"select\",spinner:\".ui-spinner-input\"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr(\"role\",\"toolbar\"),this.refresh()},_destroy:function(){this._callChildMethod(\"destroy\"),this.childWidgets.removeData(\"ui-controlgroup-data\"),this.element.removeAttr(\"role\"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(\".ui-controlgroup-label-contents\").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?\"controlgroupLabel\"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(\".ui-controlgroup-label-contents\").length||e.contents().wrapAll(\"<span class='ui-controlgroup-label-contents'></span>\")}),e._addClass(o,null,\"ui-widget ui-widget-content ui-state-default\"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e[\"_\"+s+\"Options\"]?e[\"_\"+s+\"Options\"](\"middle\"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s](\"instance\"),r=t.widget.extend({},a);if(\"button\"!==s||!n.parent(\".ui-spinner\").length){o||(o=n[s]()[s](\"instance\")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s](\"widget\");t.data(h[0],\"ui-controlgroup-data\",o?o:n[s](\"instance\")),i.push(h[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,\"ui-controlgroup-item\")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data(\"ui-controlgroup-data\");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i=\"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all\",s=this._buildSimpleOptions(e,\"label\").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i=\"vertical\"===this.options.direction,s={classes:{}};return s.classes[e]={middle:\"\",first:\"ui-corner-\"+(i?\"top\":\"left\"),last:\"ui-corner-\"+(i?\"bottom\":\"right\"),only:\"ui-corner-all\"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,\"ui-spinner\");return e.classes[\"ui-spinner-up\"]=\"\",e.classes[\"ui-spinner-down\"]=\"\",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,\"ui-button\")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,\"ui-checkboxradio-label\")},_selectmenuOptions:function(t){var e=\"vertical\"===this.options.direction;return{width:e?\"auto\":!1,classes:{middle:{\"ui-selectmenu-button-open\":\"\",\"ui-selectmenu-button-closed\":\"\"},first:{\"ui-selectmenu-button-open\":\"ui-corner-\"+(e?\"top\":\"tl\"),\"ui-selectmenu-button-closed\":\"ui-corner-\"+(e?\"top\":\"left\")},last:{\"ui-selectmenu-button-open\":e?\"\":\"ui-corner-tr\",\"ui-selectmenu-button-closed\":\"ui-corner-\"+(e?\"bottom\":\"right\")},only:{\"ui-selectmenu-button-open\":\"ui-corner-top\",\"ui-selectmenu-button-closed\":\"ui-corner-all\"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||\"\";o=t.trim(o.replace(g,\"\")),s[n]=(o+\" \"+e[n]).replace(/\\s+/g,\" \")}),s},_setOption:function(t,e){return\"direction\"===t&&this._removeClass(\"ui-controlgroup-\"+this.options.direction),this._super(t,e),\"disabled\"===t?(this._callChildMethod(e?\"disable\":\"enable\"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass(\"ui-controlgroup ui-controlgroup-\"+this.options.direction),\"horizontal\"===this.options.direction&&this._addClass(null,\"ui-helper-clearfix\"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(\":visible\")),e.length&&(t.each([\"first\",\"last\"],function(t,s){var n=e[s]().data(\"ui-controlgroup-data\");if(n&&i[\"_\"+n.widgetName+\"Options\"]){var o=i[\"_\"+n.widgetName+\"Options\"](1===e.length?\"only\":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod(\"refresh\"))}}),t.widget(\"ui.checkboxradio\",[t.ui.formResetMixin,{version:\"1.12.1\",options:{disabled:null,label:null,icon:!0,classes:{\"ui-checkboxradio-label\":\"ui-corner-all\",\"ui-checkboxradio-icon\":\"ui-corner-all\"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error(\"No label found for checkboxradio widget\"),this.originalLabel=\"\",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption(\"disabled\",this.options.disabled),this._addClass(\"ui-checkboxradio\",\"ui-helper-hidden-accessible\"),this._addClass(this.label,\"ui-checkboxradio-label\",\"ui-button ui-widget\"),\"radio\"===this.type&&this._addClass(this.label,\"ui-checkboxradio-radio-label\"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,\"ui-checkboxradio-checked\",\"ui-state-active\"),this.icon&&this._addClass(this.icon,null,\"ui-state-hover\")),this._on({change:\"_toggleClasses\",focus:function(){this._addClass(this.label,null,\"ui-state-focus ui-visual-focus\")},blur:function(){this._removeClass(this.label,null,\"ui-state-focus ui-visual-focus\")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,\"input\"===e&&/radio|checkbox/.test(this.type)||t.error(\"Can't create checkboxradio on element.nodeName=\"+e+\" and element.type=\"+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s=\"input[name='\"+t.ui.escapeSelector(i)+\"']\";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,\"ui-checkboxradio-checked\",\"ui-state-active\",e),this.options.icon&&\"checkbox\"===this.type&&this._toggleClass(this.icon,null,\"ui-icon-check ui-state-checked\",e)._toggleClass(this.icon,null,\"ui-icon-blank\",!e),\"radio\"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio(\"instance\");e&&e._removeClass(e.label,\"ui-checkboxradio-checked\",\"ui-state-active\")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return\"label\"!==t||e?(this._super(t,e),\"disabled\"===t?(this._toggleClass(this.label,null,\"ui-state-disabled\",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i=\"ui-icon ui-icon-background \";this.options.icon?(this.icon||(this.icon=t(\"<span>\"),this.iconSpace=t(\"<span> </span>\"),this._addClass(this.iconSpace,\"ui-checkboxradio-icon-space\")),\"checkbox\"===this.type?(i+=e?\"ui-icon-check ui-state-checked\":\"ui-icon-blank\",this._removeClass(this.icon,null,e?\"ui-icon-blank\":\"ui-icon-check\")):i+=\"ui-icon-blank\",this._addClass(this.icon,\"ui-checkboxradio-icon\",i),e||this._removeClass(this.icon,null,\"ui-icon-check ui-state-checked\"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,\"ui-checkboxradio-checked\",\"ui-state-active\",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget(\"ui.button\",{version:\"1.12.1\",defaultElement:\"<button>\",options:{classes:{\"ui-button\":\"ui-corner-all\"},disabled:null,icon:null,iconPosition:\"beginning\",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is(\"input\"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr(\"title\"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass(\"ui-button\",\"ui-widget\"),this._setOption(\"disabled\",this.options.disabled),this._enhance(),this.element.is(\"a\")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger(\"click\"))}})},_enhance:function(){this.element.is(\"button\")||this.element.attr(\"role\",\"button\"),this.options.icon&&(this._updateIcon(\"icon\",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr(\"title\"),this.options.showLabel||this.title||this.element.attr(\"title\",this.options.label)},_updateIcon:function(e,i){var s=\"iconPosition\"!==e,n=s?this.options.iconPosition:i,o=\"top\"===n||\"bottom\"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t(\"<span>\"),this._addClass(this.icon,\"ui-button-icon\",\"ui-icon\"),this.options.showLabel||this._addClass(\"ui-button-icon-only\")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,\"ui-widget-icon-block\"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t(\"<span> </span>\"),this._addClass(this.iconSpace,\"ui-button-icon-space\")),this._removeClass(this.icon,null,\"ui-wiget-icon-block\"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr(\"role\"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr(\"title\")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?\"before\":\"after\"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?\"append\":\"prepend\"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){\"icon\"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),\"iconPosition\"===t&&this._updateIcon(t,e),\"showLabel\"===t&&(this._toggleClass(\"ui-button-icon-only\",null,!e),this._updateTooltip()),\"label\"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),\"disabled\"===t&&(this._toggleClass(null,\"ui-state-disabled\",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is(\"input, button\")?this.element[0].disabled:this.element.hasClass(\"ui-button-disabled\");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget(\"ui.button\",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition=\"end\"),this._super()},_setOption:function(t,e){return\"text\"===t?(this._super(\"showLabel\",e),void 0):(\"showLabel\"===t&&(this.options.text=e),\"icon\"===t&&(this.options.icons.primary=e),\"icons\"===t&&(e.primary?(this._super(\"icon\",e.primary),this._super(\"iconPosition\",\"beginning\")):e.secondary&&(this._super(\"icon\",e.secondary),this._super(\"iconPosition\",\"end\"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&\"INPUT\"!==this[0].tagName||this.length&&\"INPUT\"===this[0].tagName&&\"checkbox\"!==this.attr(\"type\")&&\"radio\"!==this.attr(\"type\")?e.apply(this,arguments):(t.ui.checkboxradio||t.error(\"Checkboxradio widget missing\"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error(\"Controlgroup widget missing\"),\"option\"===arguments[0]&&\"items\"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],\"items.button\",arguments[2]]):\"option\"===arguments[0]&&\"items\"===arguments[1]?this.controlgroup.apply(this,[arguments[0],\"items.button\"]):(\"object\"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:\"1.12.1\"}});var m;t.extend(s.prototype,{markerClassName:\"hasDatepicker\",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n=\"div\"===s||\"span\"===s,e.id||(this.uuid+=1,e.id=\"dp\"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),\"input\"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\\-])/g,\"\\\\\\\\$1\");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t(\"<div class='\"+this._inlineClass+\" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on(\"keydown\",this._doKeyDown).on(\"keypress\",this._doKeyPress).on(\"keyup\",this._doKeyUp),this._autoSize(i),t.data(e,\"datepicker\",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,\"appendText\"),r=this._get(i,\"isRTL\");i.append&&i.append.remove(),a&&(i.append=t(\"<span class='\"+this._appendClass+\"'>\"+a+\"</span>\"),e[r?\"before\":\"after\"](i.append)),e.off(\"focus\",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,\"showOn\"),(\"focus\"===s||\"both\"===s)&&e.on(\"focus\",this._showDatepicker),(\"button\"===s||\"both\"===s)&&(n=this._get(i,\"buttonText\"),o=this._get(i,\"buttonImage\"),i.trigger=t(this._get(i,\"buttonImageOnly\")?t(\"<img/>\").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t(\"<button type='button'></button>\").addClass(this._triggerClass).html(o?t(\"<img/>\").attr({src:o,alt:n,title:n}):n)),e[r?\"before\":\"after\"](i.trigger),i.trigger.on(\"click\",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,\"autoSize\")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,\"dateFormat\");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?\"monthNames\":\"monthNamesShort\"))),o.setDate(e(this._get(t,a.match(/DD/)?\"dayNames\":\"dayNamesShort\"))+20-o.getDay())),t.input.attr(\"size\",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,\"datepicker\",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css(\"display\",\"block\"))},_dialogDatepicker:function(e,i,s,n,o){var r,h,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r=\"dp\"+this.uuid,this._dialogInput=t(\"<input type='text' id='\"+r+\"' style='position: absolute; top: -100px; width: 0px;'/>\"),this._dialogInput.on(\"keydown\",this._doKeyDown),t(\"body\").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],\"datepicker\",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+c,l/2-150+u]),this._dialogInput.css(\"left\",this._pos[0]+20+\"px\").css(\"top\",this._pos[1]+\"px\"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],\"datepicker\",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,\"datepicker\");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,\"datepicker\"),\"input\"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off(\"focus\",this._showDatepicker).off(\"keydown\",this._doKeyDown).off(\"keypress\",this._doKeyPress).off(\"keyup\",this._doKeyUp)):(\"div\"===i||\"span\"===i)&&s.removeClass(this.markerClassName).empty(),m===n&&(m=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,\"datepicker\");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),\"input\"===i?(e.disabled=!1,o.trigger.filter(\"button\").each(function(){this.disabled=!1}).end().filter(\"img\").css({opacity:\"1.0\",cursor:\"\"})):(\"div\"===i||\"span\"===i)&&(s=n.children(\".\"+this._inlineClass),s.children().removeClass(\"ui-state-disabled\"),s.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,\"datepicker\");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),\"input\"===i?(e.disabled=!0,o.trigger.filter(\"button\").each(function(){this.disabled=!0}).end().filter(\"img\").css({opacity:\"0.5\",cursor:\"default\"})):(\"div\"===i||\"span\"===i)&&(s=n.children(\".\"+this._inlineClass),s.children().addClass(\"ui-state-disabled\"),s.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,\"datepicker\")}catch(i){throw\"Missing instance data for this datepicker\"}},_optionDatepicker:function(e,i,s){var n,o,r,h,l=this._getInst(e);return 2===arguments.length&&\"string\"==typeof i?\"defaults\"===i?t.extend({},t.datepicker._defaults):l?\"all\"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},\"string\"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,\"min\"),h=this._getMinMaxDate(l,\"max\"),a(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),\"disabled\"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(\".ui-datepicker-rtl\");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t(\"td.\"+t.datepicker._dayOverClass+\":not(.\"+t.datepicker._currentClass+\")\",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,\"onSelect\"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,\"stepBigMonths\"):-t.datepicker._get(o,\"stepMonths\"),\"M\");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,\"stepBigMonths\"):+t.datepicker._get(o,\"stepMonths\"),\"M\");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,\"D\"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,\"stepBigMonths\"):-t.datepicker._get(o,\"stepMonths\"),\"M\");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,\"D\"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,\"D\"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,\"stepBigMonths\"):+t.datepicker._get(o,\"stepMonths\"),\"M\");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,\"D\"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,\"constrainInput\")?(i=t.datepicker._possibleChars(t.datepicker._get(n,\"dateFormat\")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||\" \">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,\"dateFormat\"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,\"input\"!==e.nodeName.toLowerCase()&&(e=t(\"input\",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,h,l,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,\"beforeShow\"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=\"\"),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|=\"fixed\"===t(this).css(\"position\"),!r}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:\"absolute\",display:\"block\",top:\"-1000px\"}),t.datepicker._updateDatepicker(s),h=t.datepicker._checkOffset(s,h,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?\"static\":r?\"fixed\":\"absolute\",display:\"none\",left:h.left+\"px\",top:h.top+\"px\"}),s.inline||(l=t.datepicker._get(s,\"showAnim\"),c=t.datepicker._get(s,\"duration\"),s.dpDiv.css(\"z-index\",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?s.dpDiv.show(l,t.datepicker._get(s,\"showOptions\"),c):s.dpDiv[l||\"show\"](l?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger(\"focus\"),t.datepicker._curInst=s))\r\n}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find(\".\"+this._dayOverClass+\" a\");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass(\"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\").width(\"\"),n>1&&e.dpDiv.addClass(\"ui-datepicker-multi-\"+n).css(\"width\",a*n+\"em\"),e.dpDiv[(1!==s[0]||1!==s[1]?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-multi\"),e.dpDiv[(this._get(e,\"isRTL\")?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-rtl\"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger(\"focus\"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find(\"select.ui-datepicker-year:first\").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(\":visible\")&&!t.input.is(\":disabled\")&&!t.input.is(\":focus\")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,\"isRTL\")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,\"isRTL\");e&&(\"hidden\"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?\"previousSibling\":\"nextSibling\"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,\"datepicker\")||this._datepickerShowing&&(i=this._get(a,\"showAnim\"),s=this._get(a,\"duration\"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,\"showOptions\"),s,n):a.dpDiv[\"slideDown\"===i?\"slideUp\":\"fadeIn\"===i?\"fadeOut\":\"hide\"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,\"onClose\"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():\"\",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:\"absolute\",left:\"0\",top:\"-100px\"}),t.blockUI&&(t.unblockUI(),t(\"body\").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(\".ui-datepicker-calendar\")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents(\"#\"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest(\".\"+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+(\"M\"===s?this._get(o,\"showCurrentAtPos\"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,\"gotoCurrent\")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o[\"selected\"+(\"M\"===s?\"Month\":\"Year\")]=o[\"draw\"+(\"M\"===s?\"Month\":\"Year\")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t(\"a\",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,\"\")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,\"onSelect\"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger(\"change\"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],\"object\"!=typeof o.input[0]&&o.input.trigger(\"focus\"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,\"altField\");o&&(i=this._get(e,\"altFormat\")||this._get(e,\"dateFormat\"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,\"\"]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw\"Invalid arguments\";if(i=\"object\"==typeof i?\"\"+i:i+\"\",\"\"===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c=\"string\"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s=\"@\"===t?14:\"!\"===t?20:\"y\"===t&&e?4:\"o\"===t?3:2,n=\"y\"===t?s:1,o=RegExp(\"^\\\\d{\"+n+\",\"+s+\"}\"),a=i.substring(h).match(o);if(!a)throw\"Missing number at position \"+h;return h+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw\"Unknown name at position \"+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw\"Unexpected literal at position \"+h;h++};for(n=0;e.length>n;n++)if(b)\"'\"!==e.charAt(n)||y(\"'\")?x():b=!1;else switch(e.charAt(n)){case\"d\":_=w(\"d\");break;case\"D\":k(\"D\",u,d);break;case\"o\":v=w(\"o\");break;case\"m\":m=w(\"m\");break;case\"M\":m=k(\"M\",p,f);break;case\"y\":g=w(\"y\");break;case\"@\":r=new Date(w(\"@\")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case\"!\":r=new Date((w(\"!\")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case\"'\":y(\"'\")?x():b=!0;break;default:x()}if(i.length>h&&(a=i.substr(h),!/^\\s+/.test(a)))throw\"Extra/unparsed characters found in date: \"+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw\"Invalid date\";return r},ATOM:\"yy-mm-dd\",COOKIE:\"D, dd M yy\",ISO_8601:\"yy-mm-dd\",RFC_822:\"D, d M y\",RFC_850:\"DD, dd-M-y\",RFC_1036:\"D, d M y\",RFC_1123:\"D, d M yy\",RFC_2822:\"D, d M yy\",RSS:\"D, d M y\",TICKS:\"!\",TIMESTAMP:\"@\",W3C:\"yy-mm-dd\",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return\"\";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=\"\"+e;if(h(t))for(;i>s.length;)s=\"0\"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u=\"\",d=!1;if(e)for(s=0;t.length>s;s++)if(d)\"'\"!==t.charAt(s)||h(\"'\")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case\"d\":u+=l(\"d\",e.getDate(),2);break;case\"D\":u+=c(\"D\",e.getDay(),n,o);break;case\"o\":u+=l(\"o\",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case\"m\":u+=l(\"m\",e.getMonth()+1,2);break;case\"M\":u+=c(\"M\",e.getMonth(),a,r);break;case\"y\":u+=h(\"y\")?e.getFullYear():(10>e.getFullYear()%100?\"0\":\"\")+e.getFullYear()%100;break;case\"@\":u+=e.getTime();break;case\"!\":u+=1e4*e.getTime()+this._ticksTo1970;break;case\"'\":h(\"'\")?u+=\"'\":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i=\"\",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)\"'\"!==t.charAt(e)||n(\"'\")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case\"d\":case\"m\":case\"y\":case\"@\":i+=\"0123456789\";break;case\"D\":case\"M\":return null;case\"'\":n(\"'\")?i+=\"'\":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,\"dateFormat\"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?\"\":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,\"defaultDate\"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,\"dateFormat\"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||\"d\"){case\"d\":case\"D\":r+=parseInt(l[1],10);break;case\"w\":case\"W\":r+=7*parseInt(l[1],10);break;case\"m\":case\"M\":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case\"y\":case\"Y\":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||\"\"===i?s:\"string\"==typeof i?o(i):\"number\"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&\"Invalid Date\"==\"\"+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?\"\":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&\"\"===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,\"stepMonths\"),s=\"#\"+e.id.replace(/\\\\\\\\/g,\"\\\\\");e.dpDiv.find(\"[data-handler]\").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,\"M\")},next:function(){t.datepicker._adjustDate(s,+i,\"M\")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute(\"data-month\"),+this.getAttribute(\"data-year\"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,\"M\"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,\"Y\"),!1}};t(this).on(this.getAttribute(\"data-event\"),e[this.getAttribute(\"data-handler\")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,\"isRTL\"),j=this._get(t,\"showButtonPanel\"),q=this._get(t,\"hideIfNoPrevNext\"),K=this._get(t,\"navigationAsDateFormat\"),U=this._getNumberOfMonths(t),V=this._get(t,\"showCurrentAtPos\"),$=this._get(t,\"stepMonths\"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,\"min\"),J=this._getMinMaxDate(t,\"max\"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,\"prevText\"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?\"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='\"+i+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(Y?\"e\":\"w\")+\"'>\"+i+\"</span></a>\":q?\"\":\"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='\"+i+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(Y?\"e\":\"w\")+\"'>\"+i+\"</span></a>\",n=this._get(t,\"nextText\"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?\"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='\"+n+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(Y?\"w\":\"e\")+\"'>\"+n+\"</span></a>\":q?\"\":\"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\"+n+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(Y?\"w\":\"e\")+\"'>\"+n+\"</span></a>\",a=this._get(t,\"currentText\"),r=this._get(t,\"gotoCurrent\")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?\"\":\"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>\"+this._get(t,\"closeText\")+\"</button>\",l=j?\"<div class='ui-datepicker-buttonpane ui-widget-content'>\"+(Y?h:\"\")+(this._isInRange(t,r)?\"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>\"+a+\"</button>\":\"\")+(Y?\"\":h)+\"</div>\":\"\",c=parseInt(this._get(t,\"firstDay\"),10),c=isNaN(c)?0:c,u=this._get(t,\"showWeek\"),d=this._get(t,\"dayNames\"),p=this._get(t,\"dayNamesMin\"),f=this._get(t,\"monthNames\"),g=this._get(t,\"monthNamesShort\"),m=this._get(t,\"beforeShowDay\"),_=this._get(t,\"showOtherMonths\"),v=this._get(t,\"selectOtherMonths\"),b=this._getDefaultDate(t),y=\"\",k=0;U[0]>k;k++){for(x=\"\",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=\" ui-corner-all\",T=\"\",X){if(T+=\"<div class='ui-datepicker-group\",U[1]>1)switch(C){case 0:T+=\" ui-datepicker-group-first\",I=\" ui-corner-\"+(Y?\"right\":\"left\");break;case U[1]-1:T+=\" ui-datepicker-group-last\",I=\" ui-corner-\"+(Y?\"left\":\"right\");break;default:T+=\" ui-datepicker-group-middle\",I=\"\"}T+=\"'>\"}for(T+=\"<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix\"+I+\"'>\"+(/all|left/.test(I)&&0===k?Y?o:s:\"\")+(/all|right/.test(I)&&0===k?Y?s:o:\"\")+this._generateMonthYearHeader(t,Z,te,Q,J,k>0||C>0,f,g)+\"</div><table class='ui-datepicker-calendar'><thead>\"+\"<tr>\",P=u?\"<th class='ui-datepicker-week-col'>\"+this._get(t,\"weekHeader\")+\"</th>\":\"\",w=0;7>w;w++)M=(w+c)%7,P+=\"<th scope='col'\"+((w+c+6)%7>=5?\" class='ui-datepicker-week-end'\":\"\")+\">\"+\"<span title='\"+d[M]+\"'>\"+p[M]+\"</span></th>\";for(T+=P+\"</tr></thead><tbody>\",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(te,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X?this.maxRows>z?this.maxRows:z:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(te,Z,1-H)),N=0;O>N;N++){for(T+=\"<tr>\",W=u?\"<td class='ui-datepicker-week-col'>\"+this._get(t,\"calculateWeek\")(A)+\"</td>\":\"\",w=0;7>w;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,\"\"],F=A.getMonth()!==Z,L=F&&!v||!E[0]||Q&&Q>A||J&&A>J,W+=\"<td class='\"+((w+c+6)%7>=5?\" ui-datepicker-week-end\":\"\")+(F?\" ui-datepicker-other-month\":\"\")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?\" \"+this._dayOverClass:\"\")+(L?\" \"+this._unselectableClass+\" ui-state-disabled\":\"\")+(F&&!_?\"\":\" \"+E[1]+(A.getTime()===G.getTime()?\" \"+this._currentClass:\"\")+(A.getTime()===B.getTime()?\" ui-datepicker-today\":\"\"))+\"'\"+(F&&!_||!E[2]?\"\":\" title='\"+E[2].replace(/'/g,\"&#39;\")+\"'\")+(L?\"\":\" data-handler='selectDay' data-event='click' data-month='\"+A.getMonth()+\"' data-year='\"+A.getFullYear()+\"'\")+\">\"+(F&&!_?\"&#xa0;\":L?\"<span class='ui-state-default'>\"+A.getDate()+\"</span>\":\"<a class='ui-state-default\"+(A.getTime()===B.getTime()?\" ui-state-highlight\":\"\")+(A.getTime()===G.getTime()?\" ui-state-active\":\"\")+(F?\" ui-priority-secondary\":\"\")+\"' href='#'>\"+A.getDate()+\"</a>\")+\"</td>\",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+\"</tr>\"}Z++,Z>11&&(Z=0,te++),T+=\"</tbody></table>\"+(X?\"</div>\"+(U[0]>0&&C===U[1]-1?\"<div class='ui-datepicker-row-break'></div>\":\"\"):\"\"),x+=T}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,\"changeMonth\"),_=this._get(t,\"changeYear\"),v=this._get(t,\"showMonthAfterYear\"),b=\"<div class='ui-datepicker-title'>\",y=\"\";if(o||!m)y+=\"<span class='ui-datepicker-month'>\"+a[e]+\"</span>\";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+=\"<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>\",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+=\"<option value='\"+c+\"'\"+(c===e?\" selected='selected'\":\"\")+\">\"+r[c]+\"</option>\");y+=\"</select>\"}if(v||(b+=y+(!o&&m&&_?\"\":\"&#xa0;\")),!t.yearshtml)if(t.yearshtml=\"\",o||!_)b+=\"<span class='ui-datepicker-year'>\"+i+\"</span>\";else{for(u=this._get(t,\"yearRange\").split(\":\"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||\"\")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+=\"<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>\";g>=f;f++)t.yearshtml+=\"<option value='\"+f+\"'\"+(f===i?\" selected='selected'\":\"\")+\">\"+f+\"</option>\";t.yearshtml+=\"</select>\",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,\"yearSuffix\"),v&&(b+=(!o&&m&&_?\"\":\"&#xa0;\")+y),b+=\"</div>\"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+(\"Y\"===i?e:0),n=t.selectedMonth+(\"M\"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+(\"D\"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),(\"M\"===i||\"Y\"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,\"min\"),s=this._getMinMaxDate(t,\"max\"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,\"onChangeMonthYear\");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,\"numberOfMonths\");return null==e?[1,1]:\"number\"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+\"Date\"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,\"min\"),o=this._getMinMaxDate(t,\"max\"),a=null,r=null,h=this._get(t,\"yearRange\");return h&&(i=h.split(\":\"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\\-].*/)&&(a+=s),i[1].match(/[+\\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,\"shortYearCutoff\");return e=\"string\"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,\"dayNamesShort\"),dayNames:this._get(t,\"dayNames\"),monthNamesShort:this._get(t,\"monthNamesShort\"),monthNames:this._get(t,\"monthNames\")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?\"object\"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,\"dateFormat\"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on(\"mousedown\",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t(\"#\"+t.datepicker._mainDivId).length&&t(\"body\").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return\"string\"!=typeof e||\"isDisabled\"!==e&&\"getDate\"!==e&&\"widget\"!==e?\"option\"===e&&2===arguments.length&&\"string\"==typeof arguments[1]?t.datepicker[\"_\"+e+\"Datepicker\"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){\"string\"==typeof e?t.datepicker[\"_\"+e+\"Datepicker\"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker[\"_\"+e+\"Datepicker\"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version=\"1.12.1\",t.datepicker,t.ui.ie=!!/msie [\\w.]+/.exec(navigator.userAgent.toLowerCase());var _=!1;t(document).on(\"mouseup\",function(){_=!1}),t.widget(\"ui.mouse\",{version:\"1.12.1\",options:{cancel:\"input, textarea, button, select, option\",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on(\"mousedown.\"+this.widgetName,function(t){return e._mouseDown(t)}).on(\"click.\"+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+\".preventClickEvent\")?(t.removeData(i.target,e.widgetName+\".preventClickEvent\"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off(\".\"+this.widgetName),this._mouseMoveDelegate&&this.document.off(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).off(\"mouseup.\"+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n=\"string\"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+\".preventClickEvent\")&&t.removeData(e.target,this.widgetName+\".preventClickEvent\"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).on(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),e.preventDefault(),_=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).off(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+\".preventClickEvent\",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&\"body\"!==e.nodeName.toLowerCase()&&t(e).trigger(\"blur\")},t.widget(\"ui.draggable\",t.ui.mouse,{version:\"1.12.1\",widgetEventPrefix:\"drag\",options:{addClasses:!0,appendTo:\"parent\",axis:!1,connectToSortable:!1,containment:!1,cursor:\"auto\",cursorAt:!1,grid:!1,handle:!1,helper:\"original\",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:\"default\",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:\"both\",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){\"original\"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass(\"ui-draggable\"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),\"handle\"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(\".ui-draggable-dragging\")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(\".ui-resizable-handle\").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?\"iframe\":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t(\"<div>\").css(\"position\",\"absolute\").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,\"ui-draggable-dragging\"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css(\"position\"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return\"fixed\"===t(this).css(\"position\")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger(\"start\",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo(\"absolute\"),!i){var s=this._uiHash();if(this._trigger(\"drag\",e,s)===!1)return this._mouseUp(new t.Event(\"mouseup\",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+\"px\",this.helper[0].style.top=this.position.top+\"px\",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),\"invalid\"===this.options.revert&&!s||\"valid\"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger(\"stop\",e)!==!1&&i._clear()}):this._trigger(\"stop\",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger(\"focus\"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(\".ui-draggable-dragging\")?this._mouseUp(new t.Event(\"mouseup\",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,\"ui-draggable-handle\")},_removeHandleClassName:function(){this._removeClass(this.handleElement,\"ui-draggable-handle\")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):\"clone\"===i.helper?this.element.clone().removeAttr(\"id\"):this.element;return n.parents(\"body\").length||n.appendTo(\"parent\"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css(\"position\"))||n.css(\"position\",\"absolute\"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css(\"position\"))||(this.element[0].style.position=\"relative\")},_adjustOffsetFromHelper:function(e){\"string\"==typeof e&&(e=e.split(\" \")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),\"left\"in e&&(this.offset.click.left=e.left+this.margins.left),\"right\"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),\"top\"in e&&(this.offset.click.top=e.top+this.margins.top),\"bottom\"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:e.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css(\"top\"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css(\"left\"),10)||0)+(e?0:this.scrollParent.scrollLeft())}\r\n},_cacheMargins:function(){this.margins={left:parseInt(this.element.css(\"marginLeft\"),10)||0,top:parseInt(this.element.css(\"marginTop\"),10)||0,right:parseInt(this.element.css(\"marginRight\"),10)||0,bottom:parseInt(this.element.css(\"marginBottom\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?\"window\"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):\"document\"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):(\"parent\"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css(\"overflow\")),this.containment=[(parseInt(i.css(\"borderLeftWidth\"),10)||0)+(parseInt(i.css(\"paddingLeft\"),10)||0),(parseInt(i.css(\"borderTopWidth\"),10)||0)+(parseInt(i.css(\"paddingTop\"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css(\"borderRightWidth\"),10)||0)-(parseInt(i.css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css(\"borderBottomWidth\"),10)||0)-(parseInt(i.css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i=\"absolute\"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-(\"fixed\"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-(\"fixed\"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),\"y\"===a.axis&&(h=this.originalPageX),\"x\"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,\"ui-draggable-dragging\"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo(\"absolute\"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add(\"draggable\",\"connectToSortable\",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable(\"instance\");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger(\"activate\",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css(\"position\"),top:t.placeholder.css(\"top\"),left:t.placeholder.css(\"left\")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger(\"deactivate\",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data(\"ui-sortable-item\",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger(\"toSortable\",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger(\"out\",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger(\"fromSortable\",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add(\"draggable\",\"cursor\",{start:function(e,i,s){var n=t(\"body\"),o=s.options;n.css(\"cursor\")&&(o._cursor=n.css(\"cursor\")),n.css(\"cursor\",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t(\"body\").css(\"cursor\",n._cursor)}}),t.ui.plugin.add(\"draggable\",\"opacity\",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css(\"opacity\")&&(o._opacity=n.css(\"opacity\")),n.css(\"opacity\",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css(\"opacity\",n._opacity)}}),t.ui.plugin.add(\"draggable\",\"scroll\",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&\"HTML\"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&\"HTML\"!==a.tagName?(n.axis&&\"x\"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&\"y\"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&\"x\"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&\"y\"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add(\"draggable\",\"snap\",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||\":data(ui-draggable)\":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,h-g>_||m>l+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):(\"inner\"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(h-_),r=g>=Math.abs(l-m),n&&(i.position.top=s._convertPositionTo(\"relative\",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo(\"relative\",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo(\"relative\",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo(\"relative\",{top:0,left:l}).left)),p=n||o||a||r,\"outer\"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(h-m),r=g>=Math.abs(l-_),n&&(i.position.top=s._convertPositionTo(\"relative\",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo(\"relative\",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo(\"relative\",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo(\"relative\",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add(\"draggable\",\"stack\",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css(\"zIndex\"),10)||0)-(parseInt(t(i).css(\"zIndex\"),10)||0)});a.length&&(n=parseInt(t(a[0]).css(\"zIndex\"),10)||0,t(a).each(function(e){t(this).css(\"zIndex\",n+e)}),this.css(\"zIndex\",n+a.length))}}),t.ui.plugin.add(\"draggable\",\"zIndex\",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css(\"zIndex\")&&(o._zIndex=n.css(\"zIndex\")),n.css(\"zIndex\",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css(\"zIndex\",n._zIndex)}}),t.ui.draggable,t.widget(\"ui.resizable\",t.ui.mouse,{version:\"1.12.1\",widgetEventPrefix:\"resize\",options:{alsoResize:!1,animate:!1,animateDuration:\"slow\",animateEasing:\"swing\",aspectRatio:!1,autoHide:!1,classes:{\"ui-resizable-se\":\"ui-icon ui-icon-gripsmall-diagonal-se\"},containment:!1,ghost:!1,grid:!1,handles:\"e,s,se\",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if(\"hidden\"===t(e).css(\"overflow\"))return!1;var s=i&&\"left\"===i?\"scrollLeft\":\"scrollTop\",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass(\"ui-resizable\"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||\"ui-resizable-helper\":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t(\"<div class='ui-wrapper' style='overflow: hidden;'></div>\").css({position:this.element.css(\"position\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\"top\"),left:this.element.css(\"left\")})),this.element=this.element.parent().data(\"ui-resizable\",this.element.resizable(\"instance\")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css(\"marginTop\"),marginRight:this.originalElement.css(\"marginRight\"),marginBottom:this.originalElement.css(\"marginBottom\"),marginLeft:this.originalElement.css(\"marginLeft\")},this.element.css(e),this.originalElement.css(\"margin\",0),this.originalResizeStyle=this.originalElement.css(\"resize\"),this.originalElement.css(\"resize\",\"none\"),this._proportionallyResizeElements.push(this.originalElement.css({position:\"static\",zoom:1,display:\"block\"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on(\"mouseenter\",function(){i.disabled||(s._removeClass(\"ui-resizable-autohide\"),s._handles.show())}).on(\"mouseleave\",function(){i.disabled||s.resizing||(s._addClass(\"ui-resizable-autohide\"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData(\"resizable\").removeData(\"ui-resizable\").off(\".resizable\").find(\".ui-resizable-handle\").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css(\"position\"),width:e.outerWidth(),height:e.outerHeight(),top:e.css(\"top\"),left:e.css(\"left\")}).insertAfter(e),e.remove()),this.originalElement.css(\"resize\",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case\"handles\":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(\".ui-resizable-handle\",this.element).length?{n:\".ui-resizable-n\",e:\".ui-resizable-e\",s:\".ui-resizable-s\",w:\".ui-resizable-w\",se:\".ui-resizable-se\",sw:\".ui-resizable-sw\",ne:\".ui-resizable-ne\",nw:\".ui-resizable-nw\"}:\"e,s,se\"),this._handles=t(),this.handles.constructor===String)for(\"all\"===this.handles&&(this.handles=\"n,e,s,w,se,sw,ne,nw\"),s=this.handles.split(\",\"),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n=\"ui-resizable-\"+e,o=t(\"<div>\"),this._addClass(o,\"ui-resizable-handle \"+n),o.css({zIndex:a.zIndex}),this.handles[e]=\".ui-resizable-\"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=[\"padding\",/ne|nw|n/.test(i)?\"Top\":/se|sw|s/.test(i)?\"Bottom\":/^e$/.test(i)?\"Right\":\"Left\"].join(\"\"),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(\".ui-resizable-handle\")),this._handles.disableSelection(),this._handles.on(\"mouseover\",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:\"se\")}),a.autoHide&&(this._handles.hide(),this._addClass(\"ui-resizable-autohide\"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css(\"left\")),s=this._num(this.helper.css(\"top\")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio=\"number\"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(\".ui-resizable-\"+this.axis).css(\"cursor\"),t(\"body\").css(\"cursor\",\"auto\"===n?this.axis+\"-resize\":n),this._addClass(\"ui-resizable-resizing\"),this._propagate(\"start\",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate(\"resize\",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger(\"resize\",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],\"left\")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css(\"left\"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css(\"top\"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t(\"body\").css(\"cursor\",\"auto\"),this._removeClass(\"ui-resizable-resizing\"),this._propagate(\"stop\",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+\"px\"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+\"px\"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+\"px\"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+\"px\"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),\"sw\"===s&&(t.left=e.left+(i.width-t.width),t.top=null),\"nw\"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css(\"borderTopWidth\"),t.css(\"borderRightWidth\"),t.css(\"borderBottomWidth\"),t.css(\"borderLeftWidth\")],n=[t.css(\"paddingTop\"),t.css(\"paddingRight\"),t.css(\"paddingBottom\"),t.css(\"paddingLeft\")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t(\"<div style='overflow:hidden;'></div>\"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:\"absolute\",left:this.elementOffset.left+\"px\",top:this.elementOffset.top+\"px\",zIndex:++i.zIndex}),this.helper.appendTo(\"body\").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),\"resize\"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add(\"resizable\",\"animate\",{stop:function(e){var i=t(this).resizable(\"instance\"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],\"left\")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css(\"left\"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css(\"top\"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css(\"width\")),height:parseFloat(i.element.css(\"height\")),top:parseFloat(i.element.css(\"top\")),left:parseFloat(i.element.css(\"left\"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate(\"resize\",e)}})}}),t.ui.plugin.add(\"resizable\",\"containment\",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable(\"instance\"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t([\"Top\",\"Right\",\"Left\",\"Bottom\"]).each(function(t,s){i[t]=h._num(e.css(\"padding\"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,\"left\")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable(\"instance\"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css(\"position\"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css(\"position\")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable(\"instance\"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css(\"position\"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css(\"position\"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add(\"resizable\",\"alsoResize\",{start:function(){var e=t(this).resizable(\"instance\"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data(\"ui-resizable-alsoresize\",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css(\"left\")),top:parseFloat(e.css(\"top\"))})})},resize:function(e,i){var s=t(this).resizable(\"instance\"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data(\"ui-resizable-alsoresize\"),n={},o=e.parents(i.originalElement[0]).length?[\"width\",\"height\"]:[\"width\",\"height\",\"top\",\"left\"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData(\"ui-resizable-alsoresize\")}}),t.ui.plugin.add(\"resizable\",\"ghost\",{start:function(){var e=t(this).resizable(\"instance\"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:\"block\",position:\"relative\",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,\"ui-resizable-ghost\"),t.uiBackCompat!==!1&&\"string\"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable(\"instance\");e.ghost&&e.ghost.css({position:\"relative\",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable(\"instance\");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add(\"resizable\",\"grid\",{resize:function(){var e,i=t(this).resizable(\"instance\"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h=\"number\"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget(\"ui.dialog\",{version:\"1.12.1\",options:{appendTo:\"body\",autoOpen:!0,buttons:[],classes:{\"ui-dialog\":\"ui-corner-all\",\"ui-dialog-titlebar\":\"ui-corner-all\"},closeOnEscape:!0,closeText:\"Close\",draggable:!0,hide:null,height:\"auto\",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:\"center\",at:\"center\",of:window,collision:\"fit\",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css(\"top\",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr(\"title\"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr(\"title\").appendTo(this.uiDialog),this._addClass(\"ui-dialog-content\",\"ui-widget-content\"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||\"body\").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr(\"title\",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog\r\n},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger(\"beforeClose\",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(\":focusable\").trigger(\"focus\").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger(\"close\",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(\".ui-front:visible\").map(function(){return+t(this).css(\"z-index\")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css(\"z-index\")&&(this.uiDialog.css(\"z-index\",o+1),s=!0),s&&!i&&this._trigger(\"focus\",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css(\"z-index\",this.uiDialog.css(\"z-index\")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger(\"focus\")}),this._makeFocusTarget(),this._trigger(\"open\"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find(\"[autofocus]\")),t.length||(t=this.element.find(\":tabbable\")),t.length||(t=this.uiDialogButtonPane.find(\":tabbable\")),t.length||(t=this.uiDialogTitlebarClose.filter(\":tabbable\")),t.length||(t=this.uiDialog),t.eq(0).trigger(\"focus\")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t(\"<div>\").hide().attr({tabIndex:-1,role:\"dialog\"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,\"ui-dialog\",\"ui-widget ui-widget-content ui-front\"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(\":tabbable\"),s=i.filter(\":first\"),n=i.filter(\":last\");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger(\"focus\")}),e.preventDefault()):(this._delay(function(){s.trigger(\"focus\")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find(\"[aria-describedby]\").length||this.uiDialog.attr({\"aria-describedby\":this.element.uniqueId().attr(\"id\")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t(\"<div>\"),this._addClass(this.uiDialogTitlebar,\"ui-dialog-titlebar\",\"ui-widget-header ui-helper-clearfix\"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(\".ui-dialog-titlebar-close\")||this.uiDialog.trigger(\"focus\")}}),this.uiDialogTitlebarClose=t(\"<button type='button'></button>\").button({label:t(\"<a>\").text(this.options.closeText).html(),icon:\"ui-icon-closethick\",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,\"ui-dialog-titlebar-close\"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t(\"<span>\").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,\"ui-dialog-title\"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({\"aria-labelledby\":e.attr(\"id\")})},_title:function(t){this.options.title?t.text(this.options.title):t.html(\"&#160;\")},_createButtonPane:function(){this.uiDialogButtonPane=t(\"<div>\"),this._addClass(this.uiDialogButtonPane,\"ui-dialog-buttonpane\",\"ui-widget-content ui-helper-clearfix\"),this.uiButtonSet=t(\"<div>\").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,\"ui-dialog-buttonset\"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,\"ui-dialog-buttons\"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:\"button\"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,\"boolean\"==typeof s.text&&delete s.text,t(\"<button></button>\",s).button(o).appendTo(e.uiButtonSet).on(\"click\",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,\"ui-dialog-buttons\"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:\".ui-dialog-content, .ui-dialog-titlebar-close\",handle:\".ui-dialog-titlebar\",containment:\"document\",start:function(s,n){i._addClass(t(this),\"ui-dialog-dragging\"),i._blockFrames(),i._trigger(\"dragStart\",s,e(n))},drag:function(t,s){i._trigger(\"drag\",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:\"left top\",at:\"left\"+(a>=0?\"+\":\"\")+a+\" \"+\"top\"+(r>=0?\"+\":\"\")+r,of:i.window},i._removeClass(t(this),\"ui-dialog-dragging\"),i._unblockFrames(),i._trigger(\"dragStop\",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css(\"position\"),a=\"string\"==typeof n?n:\"n,e,s,w,se,sw,ne,nw\";this.uiDialog.resizable({cancel:\".ui-dialog-content\",containment:\"document\",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),\"ui-dialog-resizing\"),i._blockFrames(),i._trigger(\"resizeStart\",s,e(n))},resize:function(t,s){i._trigger(\"resize\",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:\"left top\",at:\"left\"+(r>=0?\"+\":\"\")+r+\" \"+\"top\"+(h>=0?\"+\":\"\")+h,of:i.window},i._removeClass(t(this),\"ui-dialog-resizing\"),i._unblockFrames(),i._trigger(\"resizeStop\",n,e(o))}}).css(\"position\",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data(\"ui-dialog-instances\");return t||(t=[],this.document.data(\"ui-dialog-instances\",t)),t},_minHeight:function(){var t=this.options;return\"auto\"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(\":visible\");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(\":data(ui-resizable)\")&&this.uiDialog.resizable(\"option\",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;\"disabled\"!==e&&(this._super(e,i),\"appendTo\"===e&&this.uiDialog.appendTo(this._appendTo()),\"buttons\"===e&&this._createButtons(),\"closeText\"===e&&this.uiDialogTitlebarClose.button({label:t(\"<a>\").text(\"\"+this.options.closeText).html()}),\"draggable\"===e&&(s=o.is(\":data(ui-draggable)\"),s&&!i&&o.draggable(\"destroy\"),!s&&i&&this._makeDraggable()),\"position\"===e&&this._position(),\"resizable\"===e&&(n=o.is(\":data(ui-resizable)\"),n&&!i&&o.resizable(\"destroy\"),n&&\"string\"==typeof i&&o.resizable(\"option\",\"handles\",i),n||i===!1||this._makeResizable()),\"title\"===e&&this._title(this.uiDialogTitlebar.find(\".ui-dialog-title\")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:\"auto\",minHeight:0,maxHeight:\"none\",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:\"auto\",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i=\"number\"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):\"none\",\"auto\"===s.height?this.element.css({minHeight:e,maxHeight:i,height:\"auto\"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(\":data(ui-resizable)\")&&this.uiDialog.resizable(\"option\",\"minHeight\",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find(\"iframe\").map(function(){var e=t(this);return t(\"<div>\").css({position:\"absolute\",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(\".ui-dialog\").length?!0:!!t(e.target).closest(\".ui-datepicker\").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data(\"ui-dialog-overlays\")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t(\"<div>\").appendTo(this._appendTo()),this._addClass(this.overlay,null,\"ui-widget-overlay ui-front\"),this._on(this.overlay,{mousedown:\"_keepFocus\"}),this.document.data(\"ui-dialog-overlays\",(this.document.data(\"ui-dialog-overlays\")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data(\"ui-dialog-overlays\")-1;t?this.document.data(\"ui-dialog-overlays\",t):(this._off(this.document,\"focusin\"),this.document.removeData(\"ui-dialog-overlays\")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget(\"ui.dialog\",t.ui.dialog,{options:{dialogClass:\"\"},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){\"dialogClass\"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget(\"ui.droppable\",{version:\"1.12.1\",widgetEventPrefix:\"drop\",options:{accept:\"*\",addClasses:!0,greedy:!1,scope:\"default\",tolerance:\"intersect\",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass(\"ui-droppable\")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if(\"accept\"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if(\"scope\"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger(\"activate\",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger(\"deactivate\",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger(\"over\",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger(\"out\",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(\":data(ui-droppable)\").not(\".ui-draggable-dragging\").each(function(){var i=t(this).droppable(\"instance\");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&v(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger(\"drop\",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass(\"ui-droppable-hover\")},_removeHoverClass:function(){this._removeClass(\"ui-droppable-hover\")},_addActiveClass:function(){this._addClass(\"ui-droppable-active\")},_removeActiveClass:function(){this._removeClass(\"ui-droppable-active\")}});var v=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case\"fit\":return o>=l&&u>=r&&a>=c&&d>=h;case\"intersect\":return o+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>h-e.helperProportions.height/2;case\"pointer\":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case\"touch\":return(a>=c&&d>=a||h>=c&&d>=h||c>a&&h>d)&&(o>=l&&u>=o||r>=l&&u>=r||l>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{\"default\":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(\":data(ui-droppable)\").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible=\"none\"!==o[s].element.css(\"display\"),o[s].visible&&(\"mousedown\"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&v(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil(\"body\").on(\"scroll.droppable\",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=v(e,this,this.options.tolerance,i),r=!a&&this.isover?\"isout\":a&&!this.isover?\"isover\":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(\":data(ui-droppable)\").filter(function(){return t(this).droppable(\"instance\").options.scope===n}),o.length&&(s=t(o[0]).droppable(\"instance\"),s.greedyChild=\"isover\"===r)),s&&\"isover\"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this[\"isout\"===r?\"isover\":\"isout\"]=!1,this[\"isover\"===r?\"_over\":\"_out\"].call(this,i),s&&\"isout\"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil(\"body\").off(\"scroll.droppable\"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget(\"ui.droppable\",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget(\"ui.progressbar\",{version:\"1.12.1\",options:{classes:{\"ui-progressbar\":\"ui-corner-all\",\"ui-progressbar-value\":\"ui-corner-left\",\"ui-progressbar-complete\":\"ui-corner-right\"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:\"progressbar\",\"aria-valuemin\":this.min}),this._addClass(\"ui-progressbar\",\"ui-widget ui-widget-content\"),this.valueDiv=t(\"<div>\").appendTo(this.element),this._addClass(this.valueDiv,\"ui-progressbar-value\",\"ui-widget-header\"),this._refreshValue()},_destroy:function(){this.element.removeAttr(\"role aria-valuemin aria-valuemax aria-valuenow\"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,\"number\"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){\"max\"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr(\"aria-disabled\",t),this._toggleClass(null,\"ui-state-disabled\",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+\"%\"),this._toggleClass(this.valueDiv,\"ui-progressbar-complete\",null,e===this.options.max)._toggleClass(\"ui-progressbar-indeterminate\",null,this.indeterminate),this.indeterminate?(this.element.removeAttr(\"aria-valuenow\"),this.overlayDiv||(this.overlayDiv=t(\"<div>\").appendTo(this.valueDiv),this._addClass(this.overlayDiv,\"ui-progressbar-overlay\"))):(this.element.attr({\"aria-valuemax\":this.options.max,\"aria-valuenow\":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger(\"change\")),e===this.options.max&&this._trigger(\"complete\")}}),t.widget(\"ui.selectable\",t.ui.mouse,{version:\"1.12.1\",options:{appendTo:\"body\",autoRefresh:!0,distance:0,filter:\"*\",tolerance:\"touch\",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass(\"ui-selectable\"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,\"ui-selectee\"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,\"selectable-item\",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass(\"ui-selected\"),selecting:i.hasClass(\"ui-selecting\"),unselecting:i.hasClass(\"ui-unselecting\")})})},this.refresh(),this._mouseInit(),this.helper=t(\"<div>\"),this._addClass(this.helper,\"ui-selectable-helper\")},_destroy:function(){this.selectees.removeData(\"selectable-item\"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger(\"start\",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(\".ui-selected\").each(function(){var s=t.data(this,\"selectable-item\");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,\"ui-selected\"),s.selected=!1,i._addClass(s.$element,\"ui-unselecting\"),s.unselecting=!0,i._trigger(\"unselecting\",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,\"selectable-item\");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass(\"ui-selected\"),i._removeClass(n.$element,s?\"ui-unselecting\":\"ui-selected\")._addClass(n.$element,s?\"ui-selecting\":\"ui-unselecting\"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger(\"selecting\",e,{selecting:n.element}):i._trigger(\"unselecting\",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,\"selectable-item\"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,\"touch\"===n.tolerance?l=!(c.left>r||o>c.right||c.top>h||a>c.bottom):\"fit\"===n.tolerance&&(l=c.left>o&&r>c.right&&c.top>a&&h>c.bottom),l?(i.selected&&(s._removeClass(i.$element,\"ui-selected\"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,\"ui-unselecting\"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,\"ui-selecting\"),i.selecting=!0,s._trigger(\"selecting\",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,\"ui-selecting\"),i.selecting=!1,s._addClass(i.$element,\"ui-selected\"),i.selected=!0):(s._removeClass(i.$element,\"ui-selecting\"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,\"ui-unselecting\"),i.unselecting=!0),s._trigger(\"unselecting\",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,\"ui-selected\"),i.selected=!1,s._addClass(i.$element,\"ui-unselecting\"),i.unselecting=!0,s._trigger(\"unselecting\",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(\".ui-unselecting\",this.element[0]).each(function(){var s=t.data(this,\"selectable-item\");i._removeClass(s.$element,\"ui-unselecting\"),s.unselecting=!1,s.startselected=!1,i._trigger(\"unselected\",e,{unselected:s.element})}),t(\".ui-selecting\",this.element[0]).each(function(){var s=t.data(this,\"selectable-item\");i._removeClass(s.$element,\"ui-selecting\")._addClass(s.$element,\"ui-selected\"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger(\"selected\",e,{selected:s.element})}),this._trigger(\"stop\",e),this.helper.remove(),!1}}),t.widget(\"ui.selectmenu\",[t.ui.formResetMixin,{version:\"1.12.1\",defaultElement:\"<select>\",options:{appendTo:null,classes:{\"ui-selectmenu-button-open\":\"ui-corner-top\",\"ui-selectmenu-button-closed\":\"ui-corner-all\"},disabled:null,icons:{button:\"ui-icon-triangle-1-s\"},position:{my:\"left top\",at:\"left bottom\",collision:\"none\"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr(\"id\");this.ids={element:e,button:e+\"-button\",menu:e+\"-menu\"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find(\"option:selected\"),this.element[0].selectedIndex);this.labels=this.element.labels().attr(\"for\",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t(\"<span>\",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:\"combobox\",\"aria-expanded\":\"false\",\"aria-autocomplete\":\"list\",\"aria-owns\":this.ids.menu,\"aria-haspopup\":\"true\",title:this.element.attr(\"title\")}).insertAfter(this.element),this._addClass(this.button,\"ui-selectmenu-button ui-selectmenu-button-closed\",\"ui-button ui-widget\"),e=t(\"<span>\").appendTo(this.button),this._addClass(e,\"ui-selectmenu-icon\",\"ui-icon \"+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one(\"focusin\",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t(\"<ul>\",{\"aria-hidden\":\"true\",\"aria-labelledby\":this.ids.button,id:this.ids.menu}),this.menuWrap=t(\"<div>\").append(this.menu),this._addClass(this.menuWrap,\"ui-selectmenu-menu\",\"ui-front\"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{\"ui-menu\":\"ui-corner-bottom\"},role:\"listbox\",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data(\"ui-selectmenu-item\"),t)},focus:function(t,i){var s=i.item.data(\"ui-selectmenu-item\");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger(\"focus\",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr(\"aria-activedescendant\",e.menuItems.eq(s.index).attr(\"id\"))}}).menu(\"instance\"),this.menuInstance._off(this.menu,\"mouseleave\"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data(\"ui-selectmenu-item\")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find(\"option\");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find(\"li\").not(\".ui-selectmenu-optgroup\").find(\".ui-menu-item-wrapper\"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data(\"ui-selectmenu-item\")),this._setOption(\"disabled\",this.element.prop(\"disabled\")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(\".ui-state-active\"),null,\"ui-state-active\"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger(\"open\",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger(\"close\",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t(\"<span>\");return this._setText(i,e.label),this._addClass(i,\"ui-selectmenu-text\"),i},_renderMenu:function(e,i){var s=this,n=\"\";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t(\"<li>\",{text:o.optgroup}),s._addClass(a,\"ui-selectmenu-optgroup\",\"ui-menu-divider\"+(o.element.parent(\"optgroup\").prop(\"disabled\")?\" ui-state-disabled\":\"\")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data(\"ui-selectmenu-item\",e)},_renderItem:function(e,i){var s=t(\"<li>\"),n=t(\"<div>\",{title:i.element.attr(\"title\")});return i.disabled&&this._addClass(s,null,\"ui-state-disabled\"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html(\"&#160;\")},_move:function(t,e){var i,s,n=\".ui-menu-item\";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent(\"li\"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent(\"li\"),n+=\":not(.ui-state-disabled)\"),s=\"first\"===t||\"last\"===t?i[\"first\"===t?\"prevAll\":\"nextAll\"](n).eq(-1):i[t+\"All\"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent(\"li\")},_toggle:function(t){this[this.isOpen?\"close\":\"open\"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(\".ui-selectmenu-menu, #\"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move(\"prev\",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move(\"next\",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move(\"prev\",e);break;case t.ui.keyCode.RIGHT:this._move(\"next\",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move(\"first\",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move(\"last\",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent(\"li\");e.hasClass(\"ui-state-disabled\")||this._select(e.data(\"ui-selectmenu-item\"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger(\"select\",e,{item:t}),t.index!==i&&this._trigger(\"change\",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr(\"id\");this.button.attr({\"aria-labelledby\":e,\"aria-activedescendant\":e}),this.menu.attr(\"aria-activedescendant\",e)},_setOption:function(t,e){if(\"icons\"===t){var i=this.button.find(\"span.ui-icon\");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),\"appendTo\"===t&&this.menuWrap.appendTo(this._appendTo()),\"width\"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option(\"disabled\",t),this.button.attr(\"aria-disabled\",t),this._toggleClass(this.button,null,\"ui-state-disabled\",t),this.element.prop(\"disabled\",t),t?(this.button.attr(\"tabindex\",-1),this.close()):this.button.attr(\"tabindex\",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(\".ui-front, dialog\")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr(\"aria-expanded\",this.isOpen),this._removeClass(this.button,\"ui-selectmenu-button-\"+(this.isOpen?\"closed\":\"open\"))._addClass(this.button,\"ui-selectmenu-button-\"+(this.isOpen?\"open\":\"closed\"))._toggleClass(this.menuWrap,\"ui-selectmenu-open\",null,this.isOpen),this.menu.attr(\"aria-hidden\",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css(\"width\",\"\"),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width(\"\").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop(\"disabled\"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent(\"optgroup\");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr(\"label\")||\"\",disabled:i.prop(\"disabled\")||t.prop(\"disabled\")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr(\"for\",this.ids.element)}}]),t.widget(\"ui.slider\",t.ui.mouse,{version:\"1.12.1\",widgetEventPrefix:\"slide\",options:{animate:!1,classes:{\"ui-slider\":\"ui-corner-all\",\"ui-slider-handle\":\"ui-corner-all\",\"ui-slider-range\":\"ui-corner-all ui-widget-header\"},distance:0,max:100,min:0,orientation:\"horizontal\",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass(\"ui-slider ui-slider-\"+this.orientation,\"ui-widget ui-widget-content\"),this._refresh(),this._animateOff=!1\r\n},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(\".ui-slider-handle\"),o=\"<span tabindex='0'></span>\",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join(\"\")).appendTo(this.element)),this._addClass(this.handles,\"ui-slider-handle\",\"ui-state-default\"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data(\"ui-slider-handle-index\",e).attr(\"tabIndex\",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,\"ui-slider-range-min ui-slider-range-max\"),this.range.css({left:\"\",bottom:\"\"})):(this.range=t(\"<div>\").appendTo(this.element),this._addClass(this.range,\"ui-slider-range\")),(\"min\"===e.range||\"max\"===e.range)&&this._addClass(this.range,\"ui-slider-range-\"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,\"ui-state-active\"),o.trigger(\"focus\"),h=o.offset(),l=!t(e.target).parents().addBack().is(\".ui-slider-handle\"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css(\"borderTopWidth\"),10)||0)-(parseInt(o.css(\"borderBottomWidth\"),10)||0)+(parseInt(o.css(\"marginTop\"),10)||0)},this.handles.hasClass(\"ui-state-hover\")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,\"ui-state-active\"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=\"vertical\"===this.options.orientation?\"vertical\":\"horizontal\"},_normValueFromMouse:function(t){var e,i,s,n,o;return\"horizontal\"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),\"vertical\"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger(\"start\",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger(\"slide\",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger(\"stop\",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger(\"change\",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch(\"range\"===e&&this.options.range===!0&&(\"min\"===i?(this.options.value=this._values(0),this.options.values=null):\"max\"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case\"orientation\":this._detectOrientation(),this._removeClass(\"ui-slider-horizontal ui-slider-vertical\")._addClass(\"ui-slider-\"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css(\"horizontal\"===i?\"bottom\":\"left\",\"\");break;case\"value\":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case\"values\":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case\"step\":case\"min\":case\"max\":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case\"range\":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,\"ui-state-disabled\",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=\"\"+t,i=e.indexOf(\".\");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){\"vertical\"===t&&this.range.css({width:\"\",left:\"\"}),\"horizontal\"===t&&this.range.css({height:\"\",bottom:\"\"})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),c[\"horizontal\"===h.orientation?\"left\":\"bottom\"]=i+\"%\",t(this).stop(1,1)[l?\"animate\":\"css\"](c,r.animate),h.options.range===!0&&(\"horizontal\"===h.orientation?(0===s&&h.range.stop(1,1)[l?\"animate\":\"css\"]({left:i+\"%\"},r.animate),1===s&&h.range[l?\"animate\":\"css\"]({width:i-e+\"%\"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?\"animate\":\"css\"]({bottom:i+\"%\"},r.animate),1===s&&h.range[l?\"animate\":\"css\"]({height:i-e+\"%\"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c[\"horizontal\"===this.orientation?\"left\":\"bottom\"]=i+\"%\",this.handle.stop(1,1)[l?\"animate\":\"css\"](c,r.animate),\"min\"===a&&\"horizontal\"===this.orientation&&this.range.stop(1,1)[l?\"animate\":\"css\"]({width:i+\"%\"},r.animate),\"max\"===a&&\"horizontal\"===this.orientation&&this.range.stop(1,1)[l?\"animate\":\"css\"]({width:100-i+\"%\"},r.animate),\"min\"===a&&\"vertical\"===this.orientation&&this.range.stop(1,1)[l?\"animate\":\"css\"]({height:i+\"%\"},r.animate),\"max\"===a&&\"vertical\"===this.orientation&&this.range.stop(1,1)[l?\"animate\":\"css\"]({height:100-i+\"%\"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data(\"ui-slider-handle-index\");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,\"ui-state-active\"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data(\"ui-slider-handle-index\");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,\"ui-state-active\"))}}}),t.widget(\"ui.sortable\",t.ui.mouse,{version:\"1.12.1\",widgetEventPrefix:\"sort\",ready:!1,options:{appendTo:\"parent\",axis:!1,connectWith:!1,containment:!1,cursor:\"auto\",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:\"original\",items:\"> *\",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:\"default\",tolerance:\"intersect\",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css(\"float\"))||/inline|table-cell/.test(t.css(\"display\"))},_create:function(){this.containerCache={},this._addClass(\"ui-sortable\"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),\"handle\"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(\".ui-sortable-handle\"),\"ui-sortable-handle\"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,\"ui-sortable-handle\")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+\"-item\");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||\"static\"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+\"-item\")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+\"-item\")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find(\"*\").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css(\"position\",\"absolute\"),this.cssPosition=this.helper.css(\"position\"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&\"auto\"!==a.cursor&&(o=this.document.find(\"body\"),this.storedCursor=o.css(\"cursor\"),o.css(\"cursor\",a.cursor),this.storedStylesheet=t(\"<style>*{ cursor: \"+a.cursor+\" !important; }</style>\").appendTo(o)),a.opacity&&(this.helper.css(\"opacity\")&&(this._storedOpacity=this.helper.css(\"opacity\")),this.helper.css(\"opacity\",a.opacity)),a.zIndex&&(this.helper.css(\"zIndex\")&&(this._storedZIndex=this.helper.css(\"zIndex\")),this.helper.css(\"zIndex\",a.zIndex)),this.scrollParent[0]!==this.document[0]&&\"HTML\"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger(\"start\",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger(\"activate\",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,\"ui-sortable-helper\"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo(\"absolute\"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&\"HTML\"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo(\"absolute\"),this.options.axis&&\"y\"===this.options.axis||(this.helper[0].style.left=this.position.left+\"px\"),this.options.axis&&\"x\"===this.options.axis||(this.helper[0].style.top=this.position.top+\"px\"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?\"next\":\"prev\"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&(\"semi-dynamic\"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?\"down\":\"up\",\"pointer\"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger(\"change\",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger(\"sort\",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&\"x\"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&\"y\"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event(\"mouseup\",{target:null})),\"original\"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,\"ui-sortable-helper\")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger(\"deactivate\",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger(\"out\",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),\"original\"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||\"id\")||\"\").match(e.expression||/(.+)[\\-=_](.+)/);i&&s.push((e.key||i[1]+\"[]\")+\"=\"+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+\"=\"),s.join(\"&\")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||\"id\")||\"\")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u=\"x\"===this.options.axis||s+l>r&&h>s+l,d=\"y\"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return\"pointer\"===this.options.tolerance||this.options.forcePointerForContainers||\"pointer\"!==this.options.tolerance&&this.helperProportions[this.floating?\"width\":\"height\"]>t[this.floating?\"width\":\"height\"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s=\"x\"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n=\"y\"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?\"right\"===i||\"down\"===e?2:1:e&&(\"down\"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?\"right\"===n&&i||\"left\"===n&&!i:s&&(\"down\"===s&&e||\"up\"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?\"down\":\"up\")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?\"right\":\"left\")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(\":data(\"+this.widgetName+\"-item)\");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+\"-item\",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?\"x\"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t(\"<\"+s+\">\",e.document[0]);return e._addClass(n,\"ui-sortable-placeholder\",i||e.currentItem[0].className)._removeClass(n,\"ui-sortable-helper\"),\"tbody\"===s?e._createTrPlaceholder(e.currentItem.find(\"tr\").eq(0),t(\"<tr>\",e.document[0]).appendTo(n)):\"tr\"===s?e._createTrPlaceholder(e.currentItem,n):\"img\"===s&&n.attr(\"src\",e.currentItem.attr(\"src\")),i||n.css(\"visibility\",\"hidden\"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css(\"paddingTop\")||0,10)-parseInt(e.currentItem.css(\"paddingBottom\")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css(\"paddingLeft\")||0,10)-parseInt(e.currentItem.css(\"paddingRight\")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t(\"<td>&#160;</td>\",s.document[0]).attr(\"colspan\",t(this).attr(\"colspan\")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger(\"out\",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger(\"over\",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?\"left\":\"top\",r=c?\"width\":\"height\",u=c?\"pageX\":\"pageY\",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[u]-h)&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?\"up\":\"down\"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger(\"over\",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger(\"change\",e,this._uiHash()),this.containers[p]._trigger(\"change\",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger(\"over\",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):\"clone\"===i.helper?this.currentItem.clone():this.currentItem;return s.parents(\"body\").length||t(\"parent\"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\"position\"),top:this.currentItem.css(\"top\"),left:this.currentItem.css(\"left\")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){\"string\"==typeof e&&(e=e.split(\" \")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),\"left\"in e&&(this.offset.click.left=e.left+this.margins.left),\"right\"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),\"top\"in e&&(this.offset.click.top=e.top+this.margins.top),\"bottom\"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&\"html\"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:e.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css(\"marginLeft\"),10)||0,top:parseInt(this.currentItem.css(\"marginTop\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;\"parent\"===n.containment&&(n.containment=this.helper[0].parentNode),(\"document\"===n.containment||\"window\"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,\"document\"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(\"document\"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s=\"hidden\"!==t(e).css(\"overflow\"),this.containment=[i.left+(parseInt(t(e).css(\"borderLeftWidth\"),10)||0)+(parseInt(t(e).css(\"paddingLeft\"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css(\"borderTopWidth\"),10)||0)+(parseInt(t(e).css(\"paddingTop\"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css(\"borderLeftWidth\"),10)||0)-(parseInt(t(e).css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css(\"borderTopWidth\"),10)||0)-(parseInt(t(e).css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s=\"absolute\"===e?1:-1,n=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return\"relative\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],\"down\"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;\r\nthis._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)(\"auto\"===this._storedCSS[s]||\"static\"===this._storedCSS[s])&&(this._storedCSS[s]=\"\");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,\"ui-sortable-helper\")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger(\"receive\",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(\".ui-sortable-helper\")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger(\"update\",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger(\"remove\",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger(\"receive\",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger(\"update\",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i(\"deactivate\",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i(\"out\",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find(\"body\").css(\"cursor\",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css(\"opacity\",this._storedOpacity),this._storedZIndex&&this.helper.css(\"zIndex\",\"auto\"===this._storedZIndex?\"\":this._storedZIndex),this.dragging=!1,e||this._trigger(\"beforeStop\",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger(\"stop\",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget(\"ui.spinner\",{version:\"1.12.1\",defaultElement:\"<input>\",widgetEventPrefix:\"spin\",options:{classes:{\"ui-spinner\":\"ui-corner-all\",\"ui-spinner-down\":\"ui-corner-br\",\"ui-spinner-up\":\"ui-corner-tr\"},culture:null,icons:{down:\"ui-icon-triangle-1-s\",up:\"ui-icon-triangle-1-n\"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption(\"max\",this.options.max),this._setOption(\"min\",this.options.min),this._setOption(\"step\",this.options.step),\"\"!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr(\"autocomplete\")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each([\"min\",\"max\",\"step\"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:\"_stop\",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger(\"change\",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},\"mousedown .ui-spinner-button\":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger(\"focus\"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass(\"ui-spinner-up\")?1:-1,e)},\"mouseup .ui-spinner-button\":\"_stop\",\"mouseenter .ui-spinner-button\":function(e){return t(e.currentTarget).hasClass(\"ui-state-active\")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass(\"ui-spinner-up\")?1:-1,e),void 0):void 0},\"mouseleave .ui-spinner-button\":\"_stop\"},_enhance:function(){this.uiSpinner=this.element.attr(\"autocomplete\",\"off\").wrap(\"<span>\").parent().append(\"<a></a><a></a>\")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,\"ui-spinner\",\"ui-widget ui-widget-content\"),this._addClass(\"ui-spinner-input\"),this.element.attr(\"role\",\"spinbutton\"),this.buttons=this.uiSpinner.children(\"a\").attr(\"tabIndex\",-1).attr(\"aria-hidden\",!0).button({classes:{\"ui-button\":\"\"}}),this._removeClass(this.buttons,\"ui-corner-all\"),this._addClass(this.buttons.first(),\"ui-spinner-button ui-spinner-up\"),this._addClass(this.buttons.last(),\"ui-spinner-button ui-spinner-down\"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger(\"start\",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger(\"spin\",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=\"\"+t,i=e.indexOf(\".\");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger(\"stop\",t))},_setOption:function(t,e){var i,s,n;return\"culture\"===t||\"numberFormat\"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):((\"max\"===t||\"min\"===t||\"step\"===t)&&\"string\"==typeof e&&(e=this._parse(e)),\"icons\"===t&&(s=this.buttons.first().find(\".ui-icon\"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(\".ui-icon\"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,\"ui-state-disabled\",!!t),this.element.prop(\"disabled\",!!t),this.buttons.button(t?\"disable\":\"enable\")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return\"string\"==typeof t&&\"\"!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),\"\"===t||isNaN(t)?null:t},_format:function(t){return\"\"===t?\"\":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({\"aria-valuemin\":this.options.min,\"aria-valuemax\":this.options.max,\"aria-valuenow\":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;\"\"!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop(\"disabled\",!1).removeAttr(\"autocomplete role aria-valuemin aria-valuemax aria-valuenow\"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget(\"ui.spinner\",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr(\"autocomplete\",\"off\").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return\"<span>\"},_buttonHtml:function(){return\"<a></a><a></a>\"}}),t.ui.spinner,t.widget(\"ui.tabs\",{version:\"1.12.1\",delay:300,options:{active:null,classes:{\"ui-tabs\":\"ui-corner-all\",\"ui-tabs-nav\":\"ui-corner-all\",\"ui-tabs-panel\":\"ui-corner-bottom\",\"ui-tabs-tab\":\"ui-corner-top\"},collapsible:!1,event:\"click\",heightStyle:\"content\",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,\"\"),s=location.href.replace(t,\"\");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass(\"ui-tabs\",\"ui-widget ui-widget-content\"),this._toggleClass(\"ui-tabs-collapsible\",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(\".ui-state-disabled\"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr(\"aria-controls\")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(\".ui-tabs-active\"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest(\"li\"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr(\"aria-selected\",\"false\"),this.tabs.eq(s).attr(\"aria-selected\",\"true\"),this.activating=this._delay(function(){this.option(\"active\",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger(\"focus\"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger(\"focus\"),t},_setOption:function(t,e){return\"active\"===t?(this._activate(e),void 0):(this._super(t,e),\"collapsible\"===t&&(this._toggleClass(\"ui-tabs-collapsible\",null,e),e||this.options.active!==!1||this._activate(0)),\"event\"===t&&this._setupEvents(e),\"heightStyle\"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!\"$%&'()*+,.\\/:;<=>?@\\[\\]\\^`{|}~]/g,\"\\\\$&\"):\"\"},refresh:function(){var e=this.options,i=this.tablist.children(\":has(a[href])\");e.disabled=t.map(i.filter(\".ui-state-disabled\"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({\"aria-hidden\":\"true\"}),this.active.length?(this.active.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0}),this._addClass(this.active,\"ui-tabs-active\",\"ui-state-active\"),this._getPanelForTab(this.active).show().attr({\"aria-hidden\":\"false\"})):this.tabs.eq(0).attr(\"tabIndex\",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr(\"role\",\"tablist\"),this._addClass(this.tablist,\"ui-tabs-nav\",\"ui-helper-reset ui-helper-clearfix ui-widget-header\"),this.tablist.on(\"mousedown\"+this.eventNamespace,\"> li\",function(e){t(this).is(\".ui-state-disabled\")&&e.preventDefault()}).on(\"focus\"+this.eventNamespace,\".ui-tabs-anchor\",function(){t(this).closest(\"li\").is(\".ui-state-disabled\")&&this.blur()}),this.tabs=this.tablist.find(\"> li:has(a[href])\").attr({role:\"tab\",tabIndex:-1}),this._addClass(this.tabs,\"ui-tabs-tab\",\"ui-state-default\"),this.anchors=this.tabs.map(function(){return t(\"a\",this)[0]}).attr({role:\"presentation\",tabIndex:-1}),this._addClass(this.anchors,\"ui-tabs-anchor\"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr(\"id\"),h=t(s).closest(\"li\"),l=h.attr(\"aria-controls\");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr(\"aria-controls\")||t({}).uniqueId()[0].id,n=\"#\"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr(\"aria-live\",\"polite\")),o.length&&(e.panels=e.panels.add(o)),l&&h.data(\"ui-tabs-aria-controls\",l),h.attr({\"aria-controls\":a,\"aria-labelledby\":r}),o.attr(\"aria-labelledby\",r)}),this.panels.attr(\"role\",\"tabpanel\"),this._addClass(this.panels,\"ui-tabs-panel\",\"ui-widget-content\"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find(\"ol, ul\").eq(0)},_createPanel:function(e){return t(\"<div>\").attr(\"id\",e).data(\"ui-tabs-destroy\",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr(\"aria-disabled\",\"true\"),this._addClass(i,null,\"ui-state-disabled\")):(i.removeAttr(\"aria-disabled\"),this._removeClass(i,null,\"ui-state-disabled\"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+\"-disabled\",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(\" \"),function(t,e){i[e]=\"_eventHandler\"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:\"_tabKeydown\"}),this._on(this.panels,{keydown:\"_panelKeydown\"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();\"fill\"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(\":visible\").each(function(){var e=t(this),s=e.css(\"position\");\"absolute\"!==s&&\"fixed\"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css(\"overflow\",\"auto\")):\"auto\"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height(\"\").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest(\"li\"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass(\"ui-state-disabled\")||o.hasClass(\"ui-tabs-loading\")||this.running||a&&!i.collapsible||this._trigger(\"beforeActivate\",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error(\"jQuery UI Tabs: Mismatching fragment identifier.\"),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger(\"activate\",e,i)}function n(){o._addClass(i.newTab.closest(\"li\"),\"ui-tabs-active\",\"ui-state-active\"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest(\"li\"),\"ui-tabs-active\",\"ui-state-active\"),n()}):(this._removeClass(i.oldTab.closest(\"li\"),\"ui-tabs-active\",\"ui-state-active\"),r.hide(),n()),r.attr(\"aria-hidden\",\"true\"),i.oldTab.attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\"}),a.length&&r.length?i.oldTab.attr(\"tabIndex\",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr(\"tabIndex\")}).attr(\"tabIndex\",-1),a.attr(\"aria-hidden\",\"false\"),i.newTab.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(\".ui-tabs-anchor\")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return\"string\"==typeof e&&(e=this.anchors.index(this.anchors.filter(\"[href$='\"+t.ui.escapeSelector(e)+\"']\"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr(\"role\").off(this.eventNamespace),this.anchors.removeAttr(\"role tabIndex\").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,\"ui-tabs-destroy\")?t(this).remove():t(this).removeAttr(\"role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded\")}),this.tabs.each(function(){var e=t(this),i=e.data(\"ui-tabs-aria-controls\");i?e.attr(\"aria-controls\",i).removeData(\"ui-tabs-aria-controls\"):e.removeAttr(\"aria-controls\")}),this.panels.show(),\"content\"!==this.options.heightStyle&&this.panels.css(\"height\",\"\")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(\".ui-tabs-anchor\"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){\"abort\"===e&&s.panels.stop(!1,!0),s._removeClass(n,\"ui-tabs-loading\"),a.removeAttr(\"aria-busy\"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&\"canceled\"!==this.xhr.statusText&&(this._addClass(n,\"ui-tabs-loading\"),a.attr(\"aria-busy\",\"true\"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger(\"load\",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr(\"href\").replace(/#.*$/,\"\"),beforeSend:function(e,o){return n._trigger(\"beforeLoad\",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr(\"aria-controls\");return this.element.find(this._sanitizeSelector(\"#\"+i))}}),t.uiBackCompat!==!1&&t.widget(\"ui.tabs\",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,\"ui-tab\")}}),t.ui.tabs,t.widget(\"ui.tooltip\",{version:\"1.12.1\",options:{classes:{\"ui-tooltip\":\"ui-corner-all ui-widget-shadow\"},content:function(){var e=t(this).attr(\"title\")||\"\";return t(\"<a>\").text(e).html()},hide:!0,items:\"[title]:not([disabled])\",position:{my:\"left top+15\",at:\"left bottom\",collision:\"flipfit flip\"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr(\"aria-describedby\")||\"\").split(/\\s+/);s.push(i),e.data(\"ui-tooltip-id\",i).attr(\"aria-describedby\",t.trim(s.join(\" \")))},_removeDescribedBy:function(e){var i=e.data(\"ui-tooltip-id\"),s=(e.attr(\"aria-describedby\")||\"\").split(/\\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData(\"ui-tooltip-id\"),s=t.trim(s.join(\" \")),s?e.attr(\"aria-describedby\",s):e.removeAttr(\"aria-describedby\")},_create:function(){this._on({mouseover:\"open\",focusin:\"open\"}),this.tooltips={},this.parents={},this.liveRegion=t(\"<div>\").attr({role:\"log\",\"aria-live\":\"assertive\",\"aria-relevant\":\"additions\"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,\"ui-helper-hidden-accessible\"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),\"content\"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?\"_disable\":\"_enable\"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event(\"blur\");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is(\"[title]\")?e.data(\"ui-tooltip-title\",e.attr(\"title\")).removeAttr(\"title\"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data(\"ui-tooltip-title\")&&e.attr(\"title\",e.data(\"ui-tooltip-title\"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data(\"ui-tooltip-id\")&&(s.attr(\"title\")&&s.data(\"ui-tooltip-title\",s.attr(\"title\")),s.data(\"ui-tooltip-open\",!0),e&&\"mouseover\"===e.type&&s.parents().each(function(){var e,s=t(this);s.data(\"ui-tooltip-open\")&&(e=t.Event(\"blur\"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr(\"title\")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr(\"title\")},s.attr(\"title\",\"\"))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return\"string\"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data(\"ui-tooltip-open\")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){l.of=t,a.is(\":hidden\")||a.position(l)}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(\".ui-tooltip-content\").html(s),void 0;i.is(\"[title]\")&&(e&&\"mouseover\"===e.type?i.attr(\"title\",\"\"):i.removeAttr(\"title\")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr(\"id\")),a.find(\".ui-tooltip-content\").html(s),this.liveRegion.children().hide(),h=t(\"<div>\").html(a.find(\".ui-tooltip-content\").html()),h.removeAttr(\"name\").find(\"[name]\").removeAttr(\"name\"),h.removeAttr(\"id\").find(\"[id]\").removeAttr(\"id\"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(\":visible\")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger(\"open\",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&\"mouseover\"!==e.type||(s.mouseleave=\"close\"),e&&\"focusin\"!==e.type||(s.focusout=\"close\"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data(\"ui-tooltip-title\")&&!n.attr(\"title\")&&n.attr(\"title\",n.data(\"ui-tooltip-title\")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData(\"ui-tooltip-open\"),this._off(n,\"mouseleave focusout keyup\"),n[0]!==this.element[0]&&this._off(n,\"remove\"),this._off(this.document,\"mousemove\"),e&&\"mouseleave\"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr(\"title\",i.title),delete s.parents[e]}),o.closing=!0,this._trigger(\"close\",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData(\"ui-tooltip-open\"),void 0)},_tooltip:function(e){var i=t(\"<div>\").attr(\"role\",\"tooltip\"),s=t(\"<div>\").appendTo(i),n=i.uniqueId().attr(\"id\");return this._addClass(s,\"ui-tooltip-content\"),this._addClass(i,\"ui-tooltip\",\"ui-widget ui-widget-content\"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data(\"ui-tooltip-id\");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr(\"id\")]},_appendTo:function(t){var e=t.closest(\".ui-front, dialog\");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event(\"blur\"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t(\"#\"+i).remove(),o.data(\"ui-tooltip-title\")&&(o.attr(\"title\")||o.attr(\"title\",o.data(\"ui-tooltip-title\")),o.removeData(\"ui-tooltip-title\"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget(\"ui.tooltip\",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip});","/** Trumbowyg v2.25.1 - A lightweight WYSIWYG editor - alex-d.github.io/Trumbowyg - License MIT - Author : Alexandre Demode (Alex-D) / alex-d.fr */\n/**\n * Trumbowyg v2.25.1 - A lightweight WYSIWYG editor\n * Trumbowyg core file\n * ------------------------\n * @link http://alex-d.github.io/Trumbowyg\n * @license MIT\n * @author Alexandre Demode (Alex-D)\n *         Twitter : @AlexandreDemode\n *         Website : alex-d.fr\n */\njQuery.trumbowyg={langs:{en:{viewHTML:\"View HTML\",undo:\"Undo\",redo:\"Redo\",formatting:\"Formatting\",p:\"Paragraph\",blockquote:\"Quote\",code:\"Code\",header:\"Header\",bold:\"Bold\",italic:\"Italic\",strikethrough:\"Strikethrough\",underline:\"Underline\",strong:\"Strong\",em:\"Emphasis\",del:\"Deleted\",superscript:\"Superscript\",subscript:\"Subscript\",unorderedList:\"Unordered list\",orderedList:\"Ordered list\",insertImage:\"Insert Image\",link:\"Link\",createLink:\"Insert link\",unlink:\"Remove link\",justifyLeft:\"Align Left\",justifyCenter:\"Align Center\",justifyRight:\"Align Right\",justifyFull:\"Align Justify\",horizontalRule:\"Insert horizontal rule\",removeformat:\"Remove format\",fullscreen:\"Fullscreen\",close:\"Close\",submit:\"Confirm\",reset:\"Cancel\",required:\"Required\",description:\"Description\",title:\"Title\",text:\"Text\",target:\"Target\",width:\"Width\"}},plugins:{},svgPath:null,svgAbsoluteUseHref:!1,hideButtonTexts:null},Object.defineProperty(jQuery.trumbowyg,\"defaultOptions\",{value:{lang:\"en\",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,autogrowOnEnter:!1,imageWidthModalEdit:!1,hideButtonTexts:null,prefix:\"trumbowyg-\",tagClasses:{},semantic:!0,semanticKeepAttributes:!1,resetCss:!1,removeformatPasted:!1,tabToIndent:!1,tagsToRemove:[],tagsToKeep:[\"hr\",\"img\",\"embed\",\"iframe\",\"input\"],btns:[[\"viewHTML\"],[\"undo\",\"redo\"],[\"formatting\"],[\"strong\",\"em\",\"del\"],[\"superscript\",\"subscript\"],[\"link\"],[\"insertImage\"],[\"justifyLeft\",\"justifyCenter\",\"justifyRight\",\"justifyFull\"],[\"unorderedList\",\"orderedList\"],[\"horizontalRule\"],[\"removeformat\"],[\"fullscreen\"]],btnsDef:{},changeActiveDropdownIcon:!1,inlineElementsSelector:\"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u\",pasteHandlers:[],plugins:{},urlProtocol:!1,minimalLinks:!1,defaultLinkTarget:void 0,svgPath:null},writable:!1,enumerable:!0,configurable:!1}),function(e,t,n,a){\"use strict\";var o=\"tbwconfirm\",r=\"tbwcancel\";a.fn.trumbowyg=function(e,t){var n=\"trumbowyg\";if(e===Object(e)||!e)return this.each((function(){a(this).data(n)||a(this).data(n,new i(this,e))}));if(1===this.length)try{var o=a(this).data(n);switch(e){case\"execCmd\":return o.execCmd(t.cmd,t.param,t.forceCss,t.skipTrumbowyg);case\"openModal\":return o.openModal(t.title,t.content);case\"closeModal\":return o.closeModal();case\"openModalInsert\":return o.openModalInsert(t.title,t.fields,t.callback);case\"saveRange\":return o.saveRange();case\"getRange\":return o.range;case\"getRangeText\":return o.getRangeText();case\"restoreRange\":return o.restoreRange();case\"enable\":return o.setDisabled(!1);case\"disable\":return o.setDisabled(!0);case\"toggle\":return o.toggle();case\"destroy\":return o.destroy();case\"empty\":return o.empty();case\"html\":return o.html(t)}}catch(e){}return!1};var i=function(o,r){var i=this,s=\"trumbowyg-icons\",l=a.trumbowyg;i.doc=o.ownerDocument||n,i.$ta=a(o),i.$c=a(o),null!=(r=r||{}).lang||null!=l.langs[r.lang]?i.lang=a.extend(!0,{},l.langs.en,l.langs[r.lang]):i.lang=l.langs.en,i.hideButtonTexts=null!=l.hideButtonTexts?l.hideButtonTexts:r.hideButtonTexts;var d=null!=l.svgPath?l.svgPath:r.svgPath;if(i.hasSvg=!1!==d,!1!==d&&(l.svgAbsoluteUseHref||0===a(\"#trumbowyg-icons\",i.doc).length)){if(null==d)a(\"script[src]\").each((function(e,t){var n=t.src,a=n.match(\"trumbowyg(.min)?.js\");null!=a&&(d=n.substring(0,n.indexOf(a[0]))+\"ui/icons.svg\")}));if(null==d)console.warn(\"You must define svgPath: https://goo.gl/CfTY9U\");else if(!l.svgAbsoluteUseHref){var c=i.doc.createElement(\"div\");c.id=s,i.doc.body.insertBefore(c,i.doc.body.childNodes[0]),a.ajax({async:!0,type:\"GET\",contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",dataType:\"xml\",crossDomain:!0,url:d,data:null,beforeSend:null,complete:null,success:function(e){c.innerHTML=(new XMLSerializer).serializeToString(e.documentElement)}})}}var u=i.doc.querySelector(\"base\")?t.location.href.split(/[?#]/)[0]:\"\";i.svgPath=l.svgAbsoluteUseHref?d:u;var g=i.lang.header,f=function(){return(t.chrome||t.Intl&&Intl.v8BreakIterator)&&\"CSS\"in t};i.btnsDef={viewHTML:{fn:\"toggle\",class:\"trumbowyg-not-disable\"},undo:{isSupported:f,key:\"Z\"},redo:{isSupported:f,key:\"Y\"},p:{fn:\"formatBlock\"},blockquote:{fn:\"formatBlock\"},h1:{fn:\"formatBlock\",title:g+\" 1\"},h2:{fn:\"formatBlock\",title:g+\" 2\"},h3:{fn:\"formatBlock\",title:g+\" 3\"},h4:{fn:\"formatBlock\",title:g+\" 4\"},h5:{fn:\"formatBlock\",title:g+\" 5\"},h6:{fn:\"formatBlock\",title:g+\" 6\"},subscript:{tag:\"sub\"},superscript:{tag:\"sup\"},bold:{key:\"B\",tag:\"b\"},italic:{key:\"I\",tag:\"i\"},underline:{tag:\"u\"},strikethrough:{tag:\"strike\"},strong:{fn:\"bold\",key:\"B\"},em:{fn:\"italic\",key:\"I\"},del:{fn:\"strikethrough\"},createLink:{key:\"K\",tag:\"a\"},unlink:{},insertImage:{},justifyLeft:{tag:\"left\",forceCss:!0},justifyCenter:{tag:\"center\",forceCss:!0},justifyRight:{tag:\"right\",forceCss:!0},justifyFull:{tag:\"justify\",forceCss:!0},unorderedList:{fn:\"insertUnorderedList\",tag:\"ul\"},orderedList:{fn:\"insertOrderedList\",tag:\"ol\"},horizontalRule:{fn:\"insertHorizontalRule\"},removeformat:{},fullscreen:{class:\"trumbowyg-not-disable\"},close:{fn:\"destroy\",class:\"trumbowyg-not-disable\"},formatting:{dropdown:[\"p\",\"blockquote\",\"h1\",\"h2\",\"h3\",\"h4\"],ico:\"p\"},link:{dropdown:[\"createLink\",\"unlink\"]}},i.o=a.extend(!0,{},l.defaultOptions,r),i.o.hasOwnProperty(\"imgDblClickHandler\")||(i.o.imgDblClickHandler=i.getDefaultImgDblClickHandler()),i.urlPrefix=i.setupUrlPrefix(),i.disabled=i.o.disabled||\"TEXTAREA\"===o.nodeName&&o.disabled,r.btns?i.o.btns=r.btns:i.o.semantic||(i.o.btns[3]=[\"bold\",\"italic\",\"underline\",\"strikethrough\"]),a.each(i.o.btnsDef,(function(e,t){i.addBtnDef(e,t)})),i.eventNamespace=\"trumbowyg-event\",i.keys=[],i.tagToButton={},i.tagHandlers=[],i.pasteHandlers=[].concat(i.o.pasteHandlers),i.isIE=-1!==e.userAgent.indexOf(\"MSIE\")||-1!==e.appVersion.indexOf(\"Trident/\"),i.isMac=-1!==e.platform.toUpperCase().indexOf(\"MAC\"),i.init()};i.prototype={DEFAULT_SEMANTIC_MAP:{b:\"strong\",i:\"em\",s:\"del\",strike:\"del\",div:\"p\"},init:function(){var e=this;e.height=e.$ta.height(),e.initPlugins();try{e.doc.execCommand(\"enableObjectResizing\",!1,!1),e.doc.execCommand(\"defaultParagraphSeparator\",!1,\"p\")}catch(e){}e.buildEditor(),e.buildBtnPane(),e.fixedBtnPaneEvents(),e.buildOverlay(),setTimeout((function(){e.disabled&&e.setDisabled(!0),e.$c.trigger(\"tbwinit\")}))},addBtnDef:function(e,t){this.btnsDef[e]=a.extend(t,this.btnsDef[e]||{})},setupUrlPrefix:function(){var e=this.o.urlProtocol;if(e)return\"string\"!=typeof e?\"https://\":e.replace(\"://\",\"\")+\"://\"},buildEditor:function(){var e=this,n=e.o.prefix,o=\"\";e.$box=a(\"<div/>\",{class:n+\"box \"+n+\"editor-visible \"+n+e.o.lang+\" trumbowyg\"}),e.isTextarea=e.$ta.is(\"textarea\"),e.isTextarea?(o=e.$ta.val(),e.$ed=a(\"<div/>\"),e.$box.insertAfter(e.$ta).append(e.$ed,e.$ta)):(e.$ed=e.$ta,o=e.$ed.html(),e.$ta=a(\"<textarea/>\",{name:e.$ta.attr(\"id\"),height:e.height}).val(o),e.$box.insertAfter(e.$ed).append(e.$ta,e.$ed),e.syncCode()),e.$ta.addClass(n+\"textarea\").attr(\"tabindex\",-1),e.$ed.addClass(n+\"editor\").attr({contenteditable:!0,dir:e.lang._dir||\"ltr\"}).html(o),e.o.tabindex&&e.$ed.attr(\"tabindex\",e.o.tabindex),e.$c.is(\"[placeholder]\")&&e.$ed.attr(\"placeholder\",e.$c.attr(\"placeholder\")),e.$c.is(\"[spellcheck]\")&&e.$ed.attr(\"spellcheck\",e.$c.attr(\"spellcheck\")),e.o.resetCss&&e.$ed.addClass(n+\"reset-css\"),e.o.autogrow||e.$ta.add(e.$ed).css({height:e.height}),e.semanticCode(),e.o.autogrowOnEnter&&e.$ed.addClass(n+\"autogrow-on-enter\");var r,i=!1,s=!1;e.$ed.on(\"dblclick\",\"img\",e.o.imgDblClickHandler).on(\"keydown\",(function(t){var n=t.which;if(8!==n&&13!==n&&46!==n||e.toggleSpan(!0),!t.ctrlKey&&!t.metaKey||t.altKey){if(e.o.tabToIndent&&\"Tab\"===t.key)try{return t.shiftKey?e.execCmd(\"outdent\",!0,null):e.execCmd(\"indent\",!0,null),!1}catch(e){}}else{i=!0;var a=e.keys[String.fromCharCode(t.which).toUpperCase()];try{return e.execCmd(a.fn,a.param),!1}catch(e){}}})).on(\"compositionstart compositionupdate\",(function(){s=!0})).on(\"keyup compositionend\",(function(t){if(\"compositionend\"===t.type)s=!1;else if(s)return;var n=t.which;if(!(n>=37&&n<=40)){if(8!==n&&13!==n&&46!==n||e.toggleSpan(),!t.ctrlKey&&!t.metaKey||89!==n&&90!==n)if(i||17===n)void 0===t.which&&e.semanticCode(!1,!1,!0);else{var a=!e.isIE||\"compositionend\"===t.type;e.semanticCode(!1,a&&13===n),e.$c.trigger(\"tbwchange\")}else e.semanticCode(!1,!0),e.$c.trigger(\"tbwchange\");setTimeout((function(){i=!1}),50)}})).on(\"mouseup keydown keyup\",(function(t){(!t.ctrlKey&&!t.metaKey||t.altKey)&&setTimeout((function(){i=!1}),50),clearTimeout(r),r=setTimeout((function(){e.updateButtonPaneStatus()}),50)})).on(\"focus blur\",(function(t){if(\"blur\"===t.type&&e.clearButtonPaneStatus(),e.$c.trigger(\"tbw\"+t.type),e.o.autogrowOnEnter){if(e.autogrowOnEnterDontClose)return;\"focus\"===t.type?(e.autogrowOnEnterWasFocused=!0,e.autogrowEditorOnEnter()):e.o.autogrow||(e.$ed.css({height:e.$ed.css(\"min-height\")}),e.$c.trigger(\"tbwresize\"))}})).on(\"keyup focus\",(function(){e.$ta.val().match(/<.*>/)||e.$ed.html().match(/<.*>/)||setTimeout((function(){var t=e.isIE?\"<p>\":\"p\";e.doc.execCommand(\"formatBlock\",!1,t),e.syncCode()}),0)})).on(\"cut drop\",(function(){setTimeout((function(){e.semanticCode(!1,!0),e.$c.trigger(\"tbwchange\")}),0)})).on(\"paste\",(function(n){if(e.o.removeformatPasted){n.preventDefault(),t.getSelection&&t.getSelection().deleteFromDocument&&t.getSelection().deleteFromDocument();try{var o=t.clipboardData.getData(\"Text\");try{e.doc.selection.createRange().pasteHTML(o)}catch(t){e.doc.getSelection().getRangeAt(0).insertNode(e.doc.createTextNode(o))}e.$c.trigger(\"tbwchange\",n)}catch(t){e.execCmd(\"insertText\",(n.originalEvent||n).clipboardData.getData(\"text/plain\"))}}a.each(e.pasteHandlers,(function(e,t){t(n)})),setTimeout((function(){e.semanticCode(!1,!0),e.$c.trigger(\"tbwpaste\",n),e.$c.trigger(\"tbwchange\")}),0)})),e.$ta.on(\"keyup\",(function(){e.$c.trigger(\"tbwchange\")})).on(\"paste\",(function(){setTimeout((function(){e.$c.trigger(\"tbwchange\")}),0)})),a(e.doc.body).on(\"keydown.\"+e.eventNamespace,(function(t){if(27===t.which&&a(\".\"+n+\"modal-box\").length>=1)return e.closeModal(),!1}))},autogrowEditorOnEnter:function(){var e=this;e.$ed.removeClass(\"autogrow-on-enter\");var t=e.$ed[0].clientHeight;e.$ed.height(\"auto\");var n=e.$ed[0].scrollHeight;e.$ed.addClass(\"autogrow-on-enter\"),t!==n&&(e.$ed.height(t),setTimeout((function(){e.$ed.css({height:n}),e.$c.trigger(\"tbwresize\")}),0))},buildBtnPane:function(){var e=this,t=e.o.prefix,n=e.$btnPane=a(\"<div/>\",{class:t+\"button-pane\"});a.each(e.o.btns,(function(o,r){a.isArray(r)||(r=[r]);var i=a(\"<div/>\",{class:t+\"button-group \"+(r.indexOf(\"fullscreen\")>=0?t+\"right\":\"\")});a.each(r,(function(t,n){try{e.isSupportedBtn(n)&&i.append(e.buildBtn(n))}catch(e){}})),i.html().trim().length>0&&n.append(i)})),e.$box.prepend(n)},buildBtn:function(e){var t=this,n=t.o.prefix,o=t.btnsDef[e],r=o.dropdown,i=null==o.hasIcon||o.hasIcon,s=t.lang[e]||e,l=a(\"<button/>\",{type:\"button\",class:n+e+\"-button \"+(o.class||\"\")+(i?\"\":\" \"+n+\"textual-button\"),html:t.hasSvg&&i?'<svg><use xlink:href=\"'+t.svgPath+\"#\"+n+(o.ico||e).replace(/([A-Z]+)/g,\"-$1\").toLowerCase()+'\"/></svg>':t.hideButtonTexts?\"\":o.text||o.title||t.lang[e]||e,title:(o.title||o.text||s)+(o.key?\" (\"+(t.isMac?\"Cmd\":\"Ctrl\")+\" + \"+o.key+\")\":\"\"),tabindex:-1,mousedown:function(){return r&&!a(\".\"+e+\"-\"+n+\"dropdown\",t.$box).is(\":hidden\")||a(\"body\",t.doc).trigger(\"mousedown\"),!((t.$btnPane.hasClass(n+\"disable\")||t.$box.hasClass(n+\"disabled\"))&&!a(this).hasClass(n+\"active\")&&!a(this).hasClass(n+\"not-disable\"))&&(t.execCmd((!r?o.fn:\"dropdown\")||e,o.param||e,o.forceCss),!1)}});if(r){l.addClass(n+\"open-dropdown\");var d=n+\"dropdown\",c={class:d+\"-\"+e+\" \"+d+\" \"+n+\"fixed-top \"+(o.dropdownClass||\"\")};c[\"data-\"+d]=e;var u=a(\"<div/>\",c);a.each(r,(function(e,n){t.btnsDef[n]&&t.isSupportedBtn(n)&&u.append(t.buildSubBtn(n))})),t.$box.append(u.hide())}else o.key&&(t.keys[o.key]={fn:o.fn||e,param:o.param||e});return r||(t.tagToButton[(o.tag||e).toLowerCase()]=e),l},buildSubBtn:function(e){var t=this,n=t.o.prefix,o=t.btnsDef[e],r=null==o.hasIcon||o.hasIcon;return o.key&&(t.keys[o.key]={fn:o.fn||e,param:o.param||e}),t.tagToButton[(o.tag||e).toLowerCase()]=e,a(\"<button/>\",{type:\"button\",class:n+e+\"-dropdown-button \"+(o.class||\"\")+(o.ico?\" \"+n+o.ico+\"-button\":\"\"),html:t.hasSvg&&r?'<svg><use xlink:href=\"'+t.svgPath+\"#\"+n+(o.ico||e).replace(/([A-Z]+)/g,\"-$1\").toLowerCase()+'\"/></svg>'+(o.text||o.title||t.lang[e]||e):o.text||o.title||t.lang[e]||e,title:o.key?\"(\"+(t.isMac?\"Cmd\":\"Ctrl\")+\" + \"+o.key+\")\":null,style:o.style||null,mousedown:function(){return a(\"body\",t.doc).trigger(\"mousedown\"),t.execCmd(o.fn||e,o.param||e,o.forceCss),!1}})},isSupportedBtn:function(e){try{return this.btnsDef[e].isSupported()}catch(e){}return!0},buildOverlay:function(){var e=this;return e.$overlay=a(\"<div/>\",{class:e.o.prefix+\"overlay\"}).appendTo(e.$box),e.$overlay},showOverlay:function(){var e=this;a(t).trigger(\"scroll\"),e.$overlay.fadeIn(200),e.$box.addClass(e.o.prefix+\"box-blur\")},hideOverlay:function(){var e=this;e.$overlay.fadeOut(50),e.$box.removeClass(e.o.prefix+\"box-blur\")},fixedBtnPaneEvents:function(){var e=this,n=e.o.fixedFullWidth,o=e.$box;e.o.fixedBtnPane&&(e.isFixed=!1,a(t).on(\"scroll.\"+e.eventNamespace+\" resize.\"+e.eventNamespace,(function(){if(o){e.syncCode();var r=a(t).scrollTop(),i=o.offset().top+1,s=e.$btnPane,l=s.outerHeight()-2;r-i>0&&r-i-e.height<0?(e.isFixed||(e.isFixed=!0,s.css({position:\"fixed\",top:0,left:n?0:\"auto\",zIndex:7}),e.$box.css({paddingTop:s.height()})),s.css({width:n?\"100%\":o.width()-1}),a(\".\"+e.o.prefix+\"fixed-top\",o).css({position:n?\"fixed\":\"absolute\",top:n?l:l+(r-i),zIndex:15})):e.isFixed&&(e.isFixed=!1,s.removeAttr(\"style\"),e.$box.css({paddingTop:0}),a(\".\"+e.o.prefix+\"fixed-top\",o).css({position:\"absolute\",top:l}))}})))},setDisabled:function(e){var t=this,n=t.o.prefix;t.disabled=e,e?t.$ta.attr(\"disabled\",!0):t.$ta.removeAttr(\"disabled\"),t.$box.toggleClass(n+\"disabled\",e),t.$ed.attr(\"contenteditable\",!e)},destroy:function(){var e=this,n=e.o.prefix;e.isTextarea?e.$box.after(e.$ta.css({height:\"\"}).val(e.html()).removeClass(n+\"textarea\").show()):e.$box.after(e.$ed.css({height:\"\"}).removeClass(n+\"editor\").removeAttr(\"contenteditable\").removeAttr(\"dir\").html(e.html()).show()),e.$ed.off(\"dblclick\",\"img\"),e.destroyPlugins(),e.$box.remove(),e.$c.removeData(\"trumbowyg\"),a(\"body\").removeClass(n+\"body-fullscreen\"),e.$c.trigger(\"tbwclose\"),a(t).off(\"scroll.\"+e.eventNamespace+\" resize.\"+e.eventNamespace),a(e.doc.body).off(\"keydown.\"+e.eventNamespace)},empty:function(){this.$ta.val(\"\"),this.syncCode(!0)},toggle:function(){var e=this,t=e.o.prefix;e.o.autogrowOnEnter&&(e.autogrowOnEnterDontClose=!e.$box.hasClass(t+\"editor-hidden\")),e.semanticCode(!1,!0),e.$c.trigger(\"tbwchange\"),setTimeout((function(){e.doc.activeElement.blur(),e.$box.toggleClass(t+\"editor-hidden \"+t+\"editor-visible\"),e.$btnPane.toggleClass(t+\"disable\"),a(\".\"+t+\"viewHTML-button\",e.$btnPane).toggleClass(t+\"active\"),e.$box.hasClass(t+\"editor-visible\")?e.$ta.attr(\"tabindex\",-1):e.$ta.removeAttr(\"tabindex\"),e.o.autogrowOnEnter&&!e.autogrowOnEnterDontClose&&e.autogrowEditorOnEnter()}),0)},toggleSpan:function(e){this.$ed.find(\"span\").each((function(){!0===e?a(this).attr(\"data-tbw-flag\",!0):a(this).attr(\"data-tbw-flag\")?a(this).removeAttr(\"data-tbw-flag\"):a(this).contents().unwrap()}))},dropdown:function(e){var n=this,o=a(\"body\",n.doc),r=n.o.prefix,i=a(\"[data-\"+r+\"dropdown=\"+e+\"]\",n.$box),s=a(\".\"+r+e+\"-button\",n.$btnPane),l=i.is(\":hidden\");if(o.trigger(\"mousedown\"),l){var d=s.offset().left;s.addClass(r+\"active\"),i.css({position:\"absolute\",top:s.offset().top-n.$btnPane.offset().top+s.outerHeight(),left:n.o.fixedFullWidth&&n.isFixed?d:d-n.$btnPane.offset().left}).show(),a(t).trigger(\"scroll\"),o.on(\"mousedown.\"+n.eventNamespace,(function(e){i.is(e.target)||(a(\".\"+r+\"dropdown\",n.$box).hide(),a(\".\"+r+\"active\",n.$btnPane).removeClass(r+\"active\"),o.off(\"mousedown.\"+n.eventNamespace))}))}},html:function(e){var t=this;return null!=e?(t.$ta.val(e),t.syncCode(!0),t.$c.trigger(\"tbwchange\"),t):t.$ta.val()},syncTextarea:function(){var e=this;e.$ta.val(e.$ed.text().trim().length>0||e.$ed.find(e.o.tagsToKeep.join(\",\")).length>0?e.$ed.html():\"\")},syncCode:function(e){var t=this;if(!e&&t.$ed.is(\":visible\"))t.syncTextarea();else{var n=a(\"<div>\").html(t.$ta.val()),o=a(\"<div>\").append(n);a(t.o.tagsToRemove.join(\",\"),o).remove(),t.$ed.html(o.contents().html())}if(t.o.autogrow&&(t.height=t.$ed.height(),t.height!==t.$ta.css(\"height\")&&(t.$ta.css({height:t.height}),t.$c.trigger(\"tbwresize\"))),t.o.autogrowOnEnter){t.$ed.height(\"auto\");var r=t.autogrowOnEnterWasFocused?t.$ed[0].scrollHeight:t.$ed.css(\"min-height\");r!==t.$ta.css(\"height\")&&(t.$ed.css({height:r}),t.$c.trigger(\"tbwresize\"))}},semanticCode:function(e,t,n){var o=this;o.saveRange(),o.syncCode(e);var r=!0;if(o.range&&o.range.collapsed&&(r=!1),o.o.semantic){if(o.semanticTag(\"b\",o.o.semanticKeepAttributes),o.semanticTag(\"i\",o.o.semanticKeepAttributes),o.semanticTag(\"s\",o.o.semanticKeepAttributes),o.semanticTag(\"strike\",o.o.semanticKeepAttributes),t){var i=o.o.inlineElementsSelector,s=\":not(\"+i+\")\";o.$ed.contents().filter((function(){return 3===this.nodeType&&this.nodeValue.trim().length>0})).wrap(\"<span data-tbw/>\");var l=function(e){if(0!==e.length){var t=e.nextUntil(s).addBack().wrapAll(\"<p/>\").parent(),n=t.nextAll(i).first();t.next(\"br\").remove(),l(n)}};l(o.$ed.children(i).first()),o.semanticTag(\"div\",!0),a(\"[data-tbw]\",o.$ed).contents().unwrap(),o.$ed.find(\"p:empty\").remove()}!n&&r&&o.restoreRange(),o.syncTextarea()}},semanticTag:function(e,t,n){var o,r=this,i=e;if(null!=this.o.semantic&&\"object\"==typeof this.o.semantic&&this.o.semantic.hasOwnProperty(e))o=this.o.semantic[e];else{if(!0!==this.o.semantic||!this.DEFAULT_SEMANTIC_MAP.hasOwnProperty(e))return;o=this.DEFAULT_SEMANTIC_MAP[e]}n&&(e=o,o=i),a(e,this.$ed).each((function(){var e=!1,n=a(this);if(0===n.contents().length)return!1;r.range&&r.range.startContainer.parentNode===this&&(e=!0);var i=a(\"<\"+o+\"/>\");i.insertBefore(n),t&&a.each(n.prop(\"attributes\"),(function(){i.attr(this.name,this.value)})),i.html(n.html()),n.remove(),!0===e&&(r.range.selectNodeContents(i.get(0)),r.range.collapse(!1))}))},createLink:function(){for(var e,t,n,o=this,r=o.doc.getSelection(),i=r.getRangeAt(0),s=r.focusNode,l=(new XMLSerializer).serializeToString(i.cloneContents())||i+\"\";[\"A\",\"DIV\"].indexOf(s.nodeName)<0;)s=s.parentNode;if(s&&\"A\"===s.nodeName){var d=a(s);l=d.text(),e=d.attr(\"href\"),o.o.minimalLinks||(t=d.attr(\"title\"),n=d.attr(\"target\")||o.o.defaultLinkTarget);var c=o.doc.createRange();c.selectNode(s),r.removeAllRanges(),r.addRange(c)}o.saveRange();var u={url:{label:o.lang.linkUrl||\"URL\",required:!0,value:e},text:{label:o.lang.text,value:l}};o.o.minimalLinks||a.extend(u,{title:{label:o.lang.title,value:t},target:{label:o.lang.target,value:n}}),o.openModalInsert(o.lang.createLink,u,(function(e){var t=o.prependUrlPrefix(e.url);if(!t.length)return!1;var n=a(['<a href=\"',t,'\">',e.text||e.url,\"</a>\"].join(\"\"));return e.title&&n.attr(\"title\",e.title),(e.target||o.o.defaultLinkTarget)&&n.attr(\"target\",e.target||o.o.defaultLinkTarget),o.range.deleteContents(),o.range.insertNode(n[0]),o.syncCode(),o.$c.trigger(\"tbwchange\"),!0}))},prependUrlPrefix:function(e){if(!this.urlPrefix)return e;if(/^([a-z][-+.a-z0-9]*:|\\/|#)/i.test(e))return e;return/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(e)?\"mailto:\"+e:this.urlPrefix+e},unlink:function(){var e=this,t=e.doc.getSelection(),n=t.focusNode;if(t.isCollapsed){for(;[\"A\",\"DIV\"].indexOf(n.nodeName)<0;)n=n.parentNode;if(n&&\"A\"===n.nodeName){var a=e.doc.createRange();a.selectNode(n),t.removeAllRanges(),t.addRange(a)}}e.execCmd(\"unlink\",void 0,void 0,!0)},insertImage:function(){var e=this;e.saveRange();var t={url:{label:\"URL\",required:!0},alt:{label:e.lang.description,value:e.getRangeText()}};e.o.imageWidthModalEdit&&(t.width={}),e.openModalInsert(e.lang.insertImage,t,(function(t){e.execCmd(\"insertImage\",t.url,!1,!0);var n=a('img[src=\"'+t.url+'\"]:not([alt])',e.$box);return n.attr(\"alt\",t.alt),e.o.imageWidthModalEdit&&n.attr({width:t.width}),e.syncCode(),e.$c.trigger(\"tbwchange\"),!0}))},fullscreen:function(){var e,n=this,o=n.o.prefix,r=o+\"fullscreen\",i=r+\"-placeholder\",s=n.$box.outerHeight();n.$box.toggleClass(r),(e=n.$box.hasClass(r))?n.$box.before(a(\"<div/>\",{class:i}).css({height:s})):a(\".\"+i).remove(),a(\"body\").toggleClass(o+\"body-fullscreen\",e),a(t).trigger(\"scroll\"),n.$c.trigger(\"tbw\"+(e?\"open\":\"close\")+\"fullscreen\")},execCmd:function(e,n,o,r){var i=this;r=!!r||\"\",\"dropdown\"!==e&&i.$ed.focus(),\"strikethrough\"===e&&i.o.semantic&&i.semanticTag(\"strike\",i.o.semanticKeepAttributes,!0);try{i.doc.execCommand(\"styleWithCSS\",!1,o||!1)}catch(e){}try{i[e+r](n)}catch(o){try{e(n)}catch(o){\"insertHorizontalRule\"===e?n=void 0:\"formatBlock\"===e&&i.isIE&&(n=\"<\"+n+\">\"),i.doc.execCommand(e,!1,n),i.syncCode(),i.semanticCode(!1,!0);try{var s=t.getSelection().focusNode;a(t.getSelection().focusNode.parentNode).hasClass(\"trumbowyg-editor\")||(s=t.getSelection().focusNode.parentNode);var l=i.o.tagClasses[n];l&&a(s).addClass(l)}catch(e){}}\"dropdown\"!==e&&(i.updateButtonPaneStatus(),i.$c.trigger(\"tbwchange\"))}},openModal:function(e,n,i){var s=this,l=s.o.prefix;if(i=!1!==i,a(\".\"+l+\"modal-box\",s.$box).length>0)return!1;s.o.autogrowOnEnter&&(s.autogrowOnEnterDontClose=!0),s.saveRange(),s.showOverlay(),s.$btnPane.addClass(l+\"disable\");var d,c=a(\"<div/>\",{class:l+\"modal \"+l+\"fixed-top\"}).css({top:s.$box.offset().top+s.$btnPane.height(),zIndex:99999}).appendTo(a(s.doc.body));s.$overlay.one(\"click\",(function(){return c.trigger(r),!1})),d=i?a(\"<form/>\",{action:\"\",html:n}).on(\"submit\",(function(){return c.trigger(o),!1})).on(\"reset\",(function(){return c.trigger(r),!1})).on(\"submit reset\",(function(){s.o.autogrowOnEnter&&(s.autogrowOnEnterDontClose=!1)})):n;var u=a(\"<div/>\",{class:l+\"modal-box\",html:d}).css({top:\"-\"+s.$btnPane.outerHeight(),opacity:0,paddingBottom:i?null:\"5%\"}).appendTo(c).animate({top:0,opacity:1},100);return e&&a(\"<span/>\",{text:e,class:l+\"modal-title\"}).prependTo(u),i&&(a(\":input:first\",u).focus(),s.buildModalBtn(\"submit\",u),s.buildModalBtn(\"reset\",u),c.height(u.outerHeight()+10)),a(t).trigger(\"scroll\"),s.$c.trigger(\"tbwmodalopen\"),c},buildModalBtn:function(e,t){var n=this.o.prefix;return a(\"<button/>\",{class:n+\"modal-button \"+n+\"modal-\"+e,type:e,text:this.lang[e]||e}).appendTo(a(\"form\",t))},closeModal:function(){var e=this,t=e.o.prefix;e.$btnPane.removeClass(t+\"disable\"),e.$overlay.off();var n=a(\".\"+t+\"modal-box\",a(e.doc.body));n.animate({top:\"-\"+n.height()},100,(function(){n.parent().remove(),e.hideOverlay(),e.$c.trigger(\"tbwmodalclose\")})),e.restoreRange()},openModalInsert:function(e,t,n){var i=this,s=i.o.prefix,l=i.lang,d=\"\",c=s+\"form-\"+Date.now()+\"-\";return a.each(t,(function(e,t){var n=t.label||e,a=t.name||e,o=t.attributes||{},r=c+e,i=Object.keys(o).map((function(e){return e+'=\"'+o[e]+'\"'})).join(\" \");\"function\"==typeof t.type?(t.name||(t.name=a),d+=t.type(t,r,s,l)):(d+='<div class=\"'+s+'input-row\"><div class=\"'+s+'input-infos\"><label for=\"'+r+'\"><span>'+(l[n]?l[n]:n)+'</span></label></div><div class=\"'+s+'input-html\"><input id=\"'+r+'\" type=\"'+(t.type||\"text\")+'\" name=\"'+a+'\" '+i,d+=(\"checkbox\"===t.type&&t.value?' checked=\"checked\"':\"\")+' value=\"'+(t.value||\"\").replace(/\"/g,\"&quot;\")+'\"></div>',d+=\"</div>\")})),i.openModal(e,d).on(o,(function(){var e=a(\"form\",a(this)),r=!0,s={};a.each(t,(function(t,n){var o=n.name||t,l=a(':input[name=\"'+o+'\"]',e);switch(l[0].type.toLowerCase()){case\"checkbox\":s[o]=l.is(\":checked\");break;case\"radio\":s[o]=l.filter(\":checked\").val();break;default:s[o]=a.trim(l.val())}n.required&&\"\"===s[o]?(r=!1,i.addErrorOnModalField(l,i.lang.required)):n.pattern&&!n.pattern.test(s[o])&&(r=!1,i.addErrorOnModalField(l,n.patternError))})),r&&(i.restoreRange(),n(s,t)&&(i.syncCode(),i.$c.trigger(\"tbwchange\"),i.closeModal(),a(this).off(o)))})).one(r,(function(){a(this).off(o),i.closeModal()}))},addErrorOnModalField:function(e,t){var n=this.o.prefix,o=n+\"msg-error\",r=e.closest(\".\"+n+\"input-row\");e.on(\"change keyup\",(function(){r.removeClass(n+\"input-error\"),setTimeout((function(){r.find(\".\"+o).remove()}),150)})),r.addClass(n+\"input-error\").find(\".\"+n+\"input-infos label\").append(a(\"<span/>\",{class:o,text:t}))},getDefaultImgDblClickHandler:function(){var e=this;return function(){var t=a(this),n=t.attr(\"src\"),o=\"(Base64)\";0===n.indexOf(\"data:image\")&&(n=o);var r={url:{label:\"URL\",value:n,required:!0},alt:{label:e.lang.description,value:t.attr(\"alt\")}};return e.o.imageWidthModalEdit&&(r.width={value:t.attr(\"width\")?t.attr(\"width\"):\"\"}),e.openModalInsert(e.lang.insertImage,r,(function(n){return n.url!==o&&t.attr({src:n.url}),t.attr({alt:n.alt}),e.o.imageWidthModalEdit&&(parseInt(n.width)>0?t.attr({width:n.width}):t.removeAttr(\"width\")),!0})),!1}},saveRange:function(){var e=this,t=e.doc.getSelection();if(e.range=null,t&&t.rangeCount){var n,a=e.range=t.getRangeAt(0),o=e.doc.createRange();o.selectNodeContents(e.$ed[0]),o.setEnd(a.startContainer,a.startOffset),n=(o+\"\").length,e.metaRange={start:n,end:n+(a+\"\").length}}},restoreRange:function(){var e,t=this,n=t.metaRange,a=t.range,o=t.doc.getSelection();if(a){if(n&&n.start!==n.end){var r,i=0,s=[t.$ed[0]],l=!1,d=!1;for(e=t.doc.createRange();!d&&(r=s.pop());)if(3===r.nodeType){var c=i+r.length;!l&&n.start>=i&&n.start<=c&&(e.setStart(r,n.start-i),l=!0),l&&n.end>=i&&n.end<=c&&(e.setEnd(r,n.end-i),d=!0),i=c}else for(var u=r.childNodes,g=u.length;g>0;)g-=1,s.push(u[g])}try{o.removeAllRanges()}catch(e){}o.addRange(e||a)}},getRangeText:function(){return this.range+\"\"},clearButtonPaneStatus:function(){var e=this,t=e.o.prefix,n=t+\"active-button \"+t+\"active\",o=t+\"original-icon\";a(\".\"+t+\"active-button\",e.$btnPane).removeClass(n),a(\".\"+o,e.$btnPane).each((function(){a(this).find(\"svg use\").attr(\"xlink:href\",a(this).data(o))}))},updateButtonPaneStatus:function(){var e=this,t=e.o.prefix,n=t+\"active-button \"+t+\"active\",o=t+\"original-icon\",r=e.getTagsRecursive(e.doc.getSelection().focusNode);e.clearButtonPaneStatus(),a.each(r,(function(r,i){var s=e.tagToButton[i.toLowerCase()],l=a(\".\"+t+s+\"-button\",e.$btnPane);if(l.length>0)l.addClass(n);else try{var d=(l=a(\".\"+t+\"dropdown .\"+t+s+\"-dropdown-button\",e.$box)).find(\"svg use\"),c=l.parent().data(t+\"dropdown\"),u=a(\".\"+t+c+\"-button\",e.$box),g=u.find(\"svg use\");u.addClass(n),e.o.changeActiveDropdownIcon&&d.length>0&&(u.addClass(o).data(o,g.attr(\"xlink:href\")),g.attr(\"xlink:href\",d.attr(\"xlink:href\")))}catch(e){}}))},getTagsRecursive:function(e,t){var n=this;if(t=t||(e&&e.tagName?[e.tagName]:[]),!e||!e.parentNode)return t;var o=(e=e.parentNode).tagName;return\"DIV\"===o?t:(\"P\"===o&&\"\"!==e.style.textAlign&&t.push(e.style.textAlign),a.each(n.tagHandlers,(function(a,o){t=t.concat(o(e,n))})),t.push(o),n.getTagsRecursive(e,t).filter((function(e){return null!=e})))},initPlugins:function(){var e=this;e.loadedPlugins=[],a.each(a.trumbowyg.plugins,(function(t,n){n.shouldInit&&!n.shouldInit(e)||(n.init(e),n.tagHandler&&e.tagHandlers.push(n.tagHandler),e.loadedPlugins.push(n))}))},destroyPlugins:function(){var e=this;a.each(this.loadedPlugins,(function(t,n){n.destroy&&n.destroy(e)}))}}}(navigator,window,document,jQuery);","!function(e){\"use strict\";var a=function(){return\"undefined\"!=typeof FileReader};e.extend(!0,e.trumbowyg,{langs:{en:{base64:\"Image as base64\",file:\"File\",errFileReaderNotSupported:\"FileReader is not supported by your browser.\",errInvalidImage:\"Invalid image file.\"},cs:{base64:\"Vloit obrzek\",file:\"Soubor\"},da:{base64:\"Billede som base64\",file:\"Fil\",errFileReaderNotSupported:\"FileReader er ikke understttet af din browser.\",errInvalidImage:\"Ugyldig billedfil.\"},et:{base64:\"Pilt base64 formaadis\",file:\"Fail\",errFileReaderNotSupported:\"Teie veebilehitseja ei toeta FileReader funktsiooni.\",errInvalidImage:\"Vigane pildifail.\"},fr:{base64:\"Image en base64\",file:\"Fichier\"},hu:{base64:\"Kp beszrs inline\",file:\"Fjl\",errFileReaderNotSupported:\"Ez a bngsz nem tmogatja a FileReader funkcit.\",errInvalidImage:\"rvnytelen kpfjl.\"},ja:{base64:\" (Base64)\",file:\"\",errFileReaderNotSupported:\"FileReader\",errInvalidImage:\"\"},ko:{base64:\" (base64)\",file:\"\",errFileReaderNotSupported:\"FileReader    .\",errInvalidImage:\"  \"},nl:{base64:\"Afbeelding inline\",file:\"Bestand\",errFileReaderNotSupported:\"Uw browser ondersteunt deze functionaliteit niet.\",errInvalidImage:\"De gekozen afbeelding is ongeldig.\"},pt_br:{base64:\"Imagem em base64\",file:\"Arquivo\",errFileReaderNotSupported:\"FileReader no  suportado pelo seu navegador.\",errInvalidImage:\"Arquivo de imagem invlido.\"},ru:{base64:\"    base64\",file:\"\",errFileReaderNotSupported:\"FileReader    .\",errInvalidImage:\"  .\"},tr:{base64:\"Base64 olarak resim\",file:\"Dosya\",errFileReaderNotSupported:\"FileReader taraycnz tarafndan desteklenmiyor.\",errInvalidImage:\"Geersiz resim dosyas.\"},zh_cn:{base64:\"Base64\",file:\"\"},zh_tw:{base64:\"(base64)\",file:\"\",errFileReaderNotSupported:\"FileReader\",errInvalidImage:\"\"}},plugins:{base64:{shouldInit:a,init:function(r){var i={isSupported:a,fn:function(){var a;r.saveRange();var i=r.openModalInsert(r.lang.base64,{file:{type:\"file\",required:!0,attributes:{accept:\"image/*\"}},alt:{label:\"description\",value:r.getRangeText()}},(function(l){var t=new FileReader;t.onloadend=function(a){var n;n=a.target.result,/^data:image\\/[a-z]?/i.test(n)?(r.execCmd(\"insertImage\",t.result,!1,!0),e(['img[src=\"',t.result,'\"]:not([alt])'].join(\"\"),r.$box).attr(\"alt\",l.alt),r.closeModal()):r.addErrorOnModalField(e(\"input[type=file]\",i),r.lang.errInvalidImage)},t.readAsDataURL(a)}));e(\"input[type=file]\").on(\"change\",(function(e){a=e.target.files[0]}))}};r.addBtnDef(\"base64\",i)}}}})}(jQuery);","!function(e){\"use strict\";var t={rows:8,columns:8,styler:\"table\"};e.extend(!0,e.trumbowyg,{langs:{en:{table:\"Insert table\",tableAddRow:\"Add row\",tableAddRowAbove:\"Add row above\",tableAddColumnLeft:\"Add column to the left\",tableAddColumn:\"Add column to the right\",tableDeleteRow:\"Delete row\",tableDeleteColumn:\"Delete column\",tableDestroy:\"Delete table\",error:\"Error\"},cs:{table:\"Vytvoit pkaz Table\",tableAddRow:\"Pidat dek\",tableAddRowAbove:\"Pidat dek\",tableAddColumnLeft:\"Pidat sloupec\",tableAddColumn:\"Pidat sloupec\",error:\"Chyba\"},da:{table:\"Indst tabel\",tableAddRow:\"Tilfj rkke\",tableAddRowAbove:\"Tilfj rkke\",tableAddColumnLeft:\"Tilfj kolonne\",tableAddColumn:\"Tilfj kolonne\",tableDeleteRow:\"Slet rkke\",tableDeleteColumn:\"Slet kolonne\",tableDestroy:\"Slet tabel\",error:\"Fejl\"},de:{table:\"Tabelle einfgen\",tableAddRow:\"Zeile hinzufgen\",tableAddRowAbove:\"Zeile hinzufgen\",tableAddColumnLeft:\"Spalte hinzufgen\",tableAddColumn:\"Spalte hinzufgen\",tableDeleteRow:\"Zeile lschen\",tableDeleteColumn:\"Spalte lschen\",tableDestroy:\"Tabelle lschen\",error:\"Error\"},et:{table:\"Sisesta tabel\",tableAddRow:\"Lisa rida\",tableAddRowAbove:\"Lisa rida les\",tableAddColumnLeft:\"Lisa tulp vasakule\",tableAddColumn:\"Lisa tulp paremale\",tableDeleteRow:\"Kustuta rida\",tableDeleteColumn:\"Kustuta tulp\",tableDestroy:\"Kustuta tabel\",error:\"Viga\"},fr:{table:\"Insrer un tableau\",tableAddRow:\"Ajouter des lignes\",tableAddRowAbove:\"Ajouter des lignes\",tableAddColumnLeft:\"Ajouter des colonnes\",tableAddColumn:\"Ajouter des colonnes\",tableDeleteRow:\"Effacer la ligne\",tableDeleteColumn:\"Effacer la colonne\",tableDestroy:\"Effacer le tableau\",error:\"Erreur\"},hu:{table:\"Tblzat beszrs\",tableAddRow:\"Sor hozzads\",tableAddRowAbove:\"Sor beszrs fnt\",tableAddColumnLeft:\"Sor beszrs balra\",tableAddColumn:\"Sor beszrs jobbra\",tableDeleteRow:\"Sor trls\",tableDeleteColumn:\"Oszlop trls\",tableDestroy:\"Tblzat trls\",error:\"Hiba\"},id:{table:\"Sisipkan tabel\",tableAddRow:\"Sisipkan baris\",tableAddRowAbove:\"Sisipkan baris\",tableAddColumnLeft:\"Sisipkan kolom\",tableAddColumn:\"Sisipkan kolom\",tableDeleteRow:\"Hapus baris\",tableDeleteColumn:\"Hapus kolom\",tableDestroy:\"Hapus tabel\",error:\"Galat\"},ja:{table:\"\",tableAddRow:\"\",tableAddRowAbove:\"\",tableAddColumnLeft:\"\",tableAddColumn:\"\",error:\"\"},ko:{table:\" \",tableAddRow:\" \",tableAddRowAbove:\" \",tableAddColumnLeft:\" \",tableAddColumn:\" \",tableDeleteRow:\" \",tableDeleteColumn:\" \",tableDestroy:\" \",error:\"\"},pt_br:{table:\"Inserir tabela\",tableAddRow:\"Adicionar linha\",tableAddRowAbove:\"Adicionar linha\",tableAddColumnLeft:\"Adicionar coluna\",tableAddColumn:\"Adicionar coluna\",tableDeleteRow:\"Deletar linha\",tableDeleteColumn:\"Deletar coluna\",tableDestroy:\"Deletar tabela\",error:\"Erro\"},ru:{table:\" \",tableAddRow:\" \",tableAddRowAbove:\" \",tableAddColumnLeft:\" \",tableAddColumn:\" \",tableDeleteRow:\" \",tableDeleteColumn:\" \",tableDestroy:\" \",error:\"\"},sk:{table:\"Vytvori tabuky\",tableAddRow:\"Prida riadok\",tableAddRowAbove:\"Prida riadok\",tableAddColumnLeft:\"Prida stpec\",tableAddColumn:\"Prida stpec\",error:\"Chyba\"},tr:{table:\"Tablo ekle\",tableAddRow:\"Satr ekle\",tableAddRowAbove:\"Yukarya satr ekle\",tableAddColumnLeft:\"Sola stun ekle\",tableAddColumn:\"Saa stun ekle\",tableDeleteRow:\"Satr sil\",tableDeleteColumn:\"Stunu sil\",tableDestroy:\"Tabloyu sil\",error:\"Hata\"},zh_tw:{table:\"\",tableAddRow:\"\",tableAddRowAbove:\"\",tableAddColumnLeft:\"\",tableAddColumn:\"\",tableDeleteRow:\"\",tableDeleteColumn:\"\",tableDestroy:\"\",error:\"\"},es:{table:\"Insertar tabla\",tableAddRow:\"Agregar fila\",tableAddRowAbove:\"Agregar fila arriba\",tableAddColumnLeft:\"Agregar columna a la izquierda\",tableAddColumn:\"Agregar columna a la derecha\",tableDeleteRow:\"Borrar fila\",tableDeleteColumn:\"Borrar columna\",tableDestroy:\"Borrar tabla\",error:\"Error\"}},plugins:{table:{init:function(l){l.o.plugins.table=e.extend(!0,{},t,l.o.plugins.table||{});var a={fn:function(){l.saveRange();var t=\"table\",a=l.o.prefix+\"dropdown\",n={class:a+\"-\"+\"table \"+a+\" \"+l.o.prefix+\"fixed-top\"};n[\"data-\"+a]=t;var b=e(\"<div/>\",n);if(0===l.$box.find(\".\"+a+\"-\"+t).length?l.$box.append(b.hide()):b=l.$box.find(\".\"+a+\"-\"+t),b.html(\"\"),l.$box.find(\".\"+l.o.prefix+\"table-button\").hasClass(l.o.prefix+\"active-button\"))b.append(l.buildSubBtn(\"tableAddRowAbove\")),b.append(l.buildSubBtn(\"tableAddRow\")),b.append(l.buildSubBtn(\"tableAddColumnLeft\")),b.append(l.buildSubBtn(\"tableAddColumn\")),b.append(l.buildSubBtn(\"tableDeleteRow\")),b.append(l.buildSubBtn(\"tableDeleteColumn\")),b.append(l.buildSubBtn(\"tableDestroy\"));else{var r=e(\"<table/>\");e(\"<tbody/>\").appendTo(r);for(var i=0;i<l.o.plugins.table.rows;i+=1)for(var s=e(\"<tr/>\").appendTo(r),u=0;u<l.o.plugins.table.columns;u+=1)e(\"<td/>\").appendTo(s);r.find(\"td\").on(\"mouseover\",o),r.find(\"td\").on(\"mousedown\",d),b.append(r),b.append(e('<div class=\"trumbowyg-table-size\">1x1</div>'))}l.dropdown(t)}},o=function(t){var l=e(t.target).closest(\"table\"),a=this.cellIndex,o=this.parentNode.rowIndex;l.find(\"td\").removeClass(\"active\");for(var d=0;d<=o;d+=1)for(var n=0;n<=a;n+=1)l.find(\"tr:nth-of-type(\"+(d+1)+\")\").find(\"td:nth-of-type(\"+(n+1)+\")\").addClass(\"active\");l.next(\".trumbowyg-table-size\").html(a+1+\"x\"+(o+1))},d=function(){l.saveRange();var t=e(\"<table/>\");e(\"<tbody/>\").appendTo(t),l.o.plugins.table.styler&&t.attr(\"class\",l.o.plugins.table.styler);for(var a=this.cellIndex,o=this.parentNode.rowIndex,d=0;d<=o;d+=1)for(var n=e(\"<tr></tr>\").appendTo(t),b=0;b<=a;b+=1)e(\"<td/>\").appendTo(n);l.range.deleteContents(),l.range.insertNode(t[0]),l.$c.trigger(\"tbwchange\")},n={title:l.lang.tableAddRow,text:l.lang.tableAddRow,ico:\"row-below\",fn:function(){l.saveRange();var t=l.doc.getSelection().focusNode,a=e(t).closest(\"tr\"),o=e(t).closest(\"table\");if(o.length>0){for(var d=e(\"<tr/>\"),n=0;n<o.find(\"tr\")[0].childElementCount;n+=1)e(\"<td/>\").appendTo(d);a.after(d)}l.syncCode()}},b={title:l.lang.tableAddRowAbove,text:l.lang.tableAddRowAbove,ico:\"row-above\",fn:function(){l.saveRange();var t=l.doc.getSelection().focusNode,a=e(t).closest(\"tr\"),o=e(t).closest(\"table\");if(o.length>0){for(var d=e(\"<tr/>\"),n=0;n<o.find(\"tr\")[0].childElementCount;n+=1)e(\"<td/>\").appendTo(d);a.before(d)}l.syncCode()}},r={title:l.lang.tableAddColumn,text:l.lang.tableAddColumn,ico:\"col-right\",fn:function(){l.saveRange();var t=l.doc.getSelection().focusNode,a=e(t).closest(\"td\"),o=e(t).closest(\"table\"),d=a.index();o.length>0&&e(o).find(\"tr\").each((function(){e(e(this).children()[d]).after(\"<td></td>\")})),l.syncCode()}},i={title:l.lang.tableAddColumnLeft,text:l.lang.tableAddColumnLeft,ico:\"col-left\",fn:function(){l.saveRange();var t=l.doc.getSelection().focusNode,a=e(t).closest(\"td\"),o=e(t).closest(\"table\"),d=a.index();o.length>0&&e(o).find(\"tr\").each((function(){e(e(this).children()[d]).before(\"<td></td>\")})),l.syncCode()}},s={title:l.lang.tableDestroy,text:l.lang.tableDestroy,ico:\"table-delete\",fn:function(){l.saveRange();var t=l.doc.getSelection().focusNode;e(t).closest(\"table\").remove(),l.syncCode()}},u={title:l.lang.tableDeleteRow,text:l.lang.tableDeleteRow,ico:\"row-delete\",fn:function(){l.saveRange();var t=l.doc.getSelection().focusNode;e(t).closest(\"tr\").remove(),l.syncCode()}},f={title:l.lang.tableDeleteColumn,text:l.lang.tableDeleteColumn,ico:\"col-delete\",fn:function(){l.saveRange();var t=l.doc.getSelection().focusNode,a=e(t).closest(\"table\"),o=e(t).closest(\"td\").index();e(a).find(\"tr\").each((function(){e(this).find(\"td:eq(\"+o+\")\").remove()})),l.syncCode()}};l.addBtnDef(\"table\",a),l.addBtnDef(\"tableAddRowAbove\",b),l.addBtnDef(\"tableAddRow\",n),l.addBtnDef(\"tableAddColumnLeft\",i),l.addBtnDef(\"tableAddColumn\",r),l.addBtnDef(\"tableDeleteRow\",u),l.addBtnDef(\"tableDeleteColumn\",f),l.addBtnDef(\"tableDestroy\",s)}}}})}(jQuery);","!function(e){\"use strict\";e.extend(!0,e.trumbowyg,{langs:{en:{fontsize:\"Font size\",fontsizes:{\"x-small\":\"Extra small\",small:\"Small\",medium:\"Regular\",large:\"Large\",\"x-large\":\"Extra large\",custom:\"Custom\"},fontCustomSize:{title:\"Custom Font Size\",label:\"Font Size\",value:\"48px\"}},da:{fontsize:\"Skriftstrrelse\",fontsizes:{\"x-small\":\"Ekstra lille\",small:\"Lille\",medium:\"Normal\",large:\"Stor\",\"x-large\":\"Ekstra stor\",custom:\"Brugerdefineret\"}},de:{fontsize:\"Schriftgre\",fontsizes:{\"x-small\":\"Sehr klein\",small:\"Klein\",medium:\"Normal\",large:\"Gro\",\"x-large\":\"Sehr gro\",custom:\"Benutzerdefiniert\"},fontCustomSize:{title:\"Benutzerdefinierte Schriftgre\",label:\"Schriftgre\",value:\"48px\"}},es:{fontsize:\"Tamao de Fuente\",fontsizes:{\"x-small\":\"Extra pequea\",small:\"Peguea\",medium:\"Regular\",large:\"Grande\",\"x-large\":\"Extra Grande\",custom:\"Customizada\"},fontCustomSize:{title:\"Tamao de Fuente Customizada\",label:\"Tamao de Fuente\",value:\"48px\"}},et:{fontsize:\"Teksti suurus\",fontsizes:{\"x-small\":\"Vga vike\",small:\"Vike\",medium:\"Tavaline\",large:\"Suur\",\"x-large\":\"Vga suur\",custom:\"Mra ise\"},fontCustomSize:{title:\"Kohandatud teksti suurus\",label:\"Teksti suurus\",value:\"48px\"}},fr:{fontsize:\"Taille de la police\",fontsizes:{\"x-small\":\"Trs petit\",small:\"Petit\",medium:\"Normal\",large:\"Grand\",\"x-large\":\"Trs grand\",custom:\"Taille personnalise\"},fontCustomSize:{title:\"Taille de police personnalise\",label:\"Taille de la police\",value:\"48px\"}},hu:{fontsize:\"Bet mret\",fontsizes:{\"x-small\":\"Extra kicsi\",small:\"Kicsi\",medium:\"Normlis\",large:\"Nagy\",\"x-large\":\"Extra nagy\",custom:\"Egyedi\"},fontCustomSize:{title:\"Egyedi bet mret\",label:\"Bet mret\",value:\"48px\"}},it:{fontsize:\"Dimensioni del testo\",fontsizes:{\"x-small\":\"Molto piccolo\",small:\"piccolo\",regular:\"normale\",large:\"grande\",\"x-large\":\"Molto grande\",custom:\"Personalizzato\"},fontCustomSize:{title:\"Dimensioni del testo personalizzato\",label:\"Dimensioni del testo\",value:\"48px\"}},ko:{fontsize:\" \",fontsizes:{\"x-small\":\" \",small:\"\",medium:\"\",large:\"\",\"x-large\":\" \",custom:\" \"},fontCustomSize:{title:\"   \",label:\" \",value:\"48px\"}},nl:{fontsize:\"Lettergrootte\",fontsizes:{\"x-small\":\"Extra klein\",small:\"Klein\",medium:\"Normaal\",large:\"Groot\",\"x-large\":\"Extra groot\",custom:\"Tilpasset\"}},pt_br:{fontsize:\"Tamanho da fonte\",fontsizes:{\"x-small\":\"Extra pequeno\",small:\"Pequeno\",regular:\"Mdio\",large:\"Grande\",\"x-large\":\"Extra grande\",custom:\"Personalizado\"},fontCustomSize:{title:\"Tamanho de Fonte Personalizado\",label:\"Tamanho de Fonte\",value:\"48px\"}},tr:{fontsize:\"Yaz boyutu\",fontsizes:{\"x-small\":\"ok kk\",small:\"Kk\",medium:\"Normal\",large:\"Byk\",\"x-large\":\"ok byk\",custom:\"zel\"},fontCustomSize:{title:\"zel Yaz Boyutu\",label:\"Yaz Boyutu\",value:\"48px\"}},zh_tw:{fontsize:\"\",fontsizes:{\"x-small\":\"\",small:\"\",medium:\"\",large:\"\",\"x-large\":\"\",custom:\"\"},fontCustomSize:{title:\"\",label:\"\",value:\"48px\"}}}});var t={sizeList:[\"x-small\",\"small\",\"medium\",\"large\",\"x-large\"],allowCustomSize:!0};function l(t,l){t.$ed.focus(),t.saveRange(),t.execCmd(\"fontSize\",\"1\"),t.$ed.find('font[size=\"1\"]').replaceWith((function(){return e(\"<span/>\",{css:{\"font-size\":l},html:this.innerHTML})})),e(t.range.startContainer.parentElement).find('span[style=\"\"]').contents().unwrap(),t.restoreRange(),t.syncCode(),t.$c.trigger(\"tbwchange\")}function a(t){var a=[];if(e.each(t.o.plugins.fontsize.sizeList,(function(e,s){t.addBtnDef(\"fontsize_\"+s,{text:'<span style=\"font-size: '+s+';\">'+(t.lang.fontsizes[s]||s)+\"</span>\",hasIcon:!1,fn:function(){l(t,s)}}),a.push(\"fontsize_\"+s)})),t.o.plugins.fontsize.allowCustomSize){var s=\"fontsize_custom\",o={fn:function(){t.openModalInsert(t.lang.fontCustomSize.title,{size:{label:t.lang.fontCustomSize.label,value:t.lang.fontCustomSize.value}},(function(e){return l(t,e.size),!0}))},text:'<span style=\"font-size: medium;\">'+t.lang.fontsizes.custom+\"</span>\",hasIcon:!1};t.addBtnDef(s,o),a.push(s)}return a}e.extend(!0,e.trumbowyg,{plugins:{fontsize:{init:function(l){l.o.plugins.fontsize=e.extend({},t,l.o.plugins.fontsize||{}),l.addBtnDef(\"fontsize\",{dropdown:a(l)})}}}})}(jQuery);","!function(o){\"use strict\";function r(o){return(\"0\"+parseInt(o).toString(16)).slice(-2)}function e(o){return-1===o.search(\"rgb\")?o.replace(\"#\",\"\"):\"rgba(0, 0, 0, 0)\"===o?\"transparent\":r((o=o.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d?(.\\d+)))?\\)$/))[1])+r(o[2])+r(o[3])}o.extend(!0,o.trumbowyg,{langs:{en:{foreColor:\"Text color\",backColor:\"Background color\",foreColorRemove:\"Remove text color\",backColorRemove:\"Remove background color\"},cs:{foreColor:\"Barva textu\",backColor:\"Barva pozad\"},da:{foreColor:\"Tekstfarve\",backColor:\"Baggrundsfarve\"},de:{foreColor:\"Textfarbe\",backColor:\"Hintergrundfarbe\"},et:{foreColor:\"Teksti vrv\",backColor:\"Taustavrv\",foreColorRemove:\"Eemalda teksti vrv\",backColorRemove:\"Eemalda taustavrv\"},fr:{foreColor:\"Couleur du texte\",backColor:\"Couleur de fond\",foreColorRemove:\"Supprimer la couleur du texte\",backColorRemove:\"Supprimer la couleur de fond\"},hu:{foreColor:\"Bet szn\",backColor:\"Httr szn\",foreColorRemove:\"Bet szn eltvoltsa\",backColorRemove:\"Httr szn eltvoltsa\"},ja:{foreColor:\"\",backColor:\"\"},ko:{foreColor:\"\",backColor:\"\",foreColorRemove:\" \",backColorRemove:\" \"},nl:{foreColor:\"Tekstkleur\",backColor:\"Achtergrondkleur\"},pt_br:{foreColor:\"Cor de fonte\",backColor:\"Cor de fundo\"},ru:{foreColor:\" \",backColor:\"  \"},sk:{foreColor:\"Farba textu\",backColor:\"Farba pozadia\"},tr:{foreColor:\"Yaz rengi\",backColor:\"Arka plan rengi\",foreColorRemove:\"Yaz rengini kaldr\",backColorRemove:\"Arka plan rengini kaldr\"},zh_cn:{foreColor:\"\",backColor:\"\"},zh_tw:{foreColor:\"\",backColor:\"\"}}});var l={colorList:[\"ffffff\",\"000000\",\"eeece1\",\"1f497d\",\"4f81bd\",\"c0504d\",\"9bbb59\",\"8064a2\",\"4bacc6\",\"f79646\",\"ffff00\",\"f2f2f2\",\"7f7f7f\",\"ddd9c3\",\"c6d9f0\",\"dbe5f1\",\"f2dcdb\",\"ebf1dd\",\"e5e0ec\",\"dbeef3\",\"fdeada\",\"fff2ca\",\"d8d8d8\",\"595959\",\"c4bd97\",\"8db3e2\",\"b8cce4\",\"e5b9b7\",\"d7e3bc\",\"ccc1d9\",\"b7dde8\",\"fbd5b5\",\"ffe694\",\"bfbfbf\",\"3f3f3f\",\"938953\",\"548dd4\",\"95b3d7\",\"d99694\",\"c3d69b\",\"b2a2c7\",\"b7dde8\",\"fac08f\",\"f2c314\",\"a5a5a5\",\"262626\",\"494429\",\"17365d\",\"366092\",\"953734\",\"76923c\",\"5f497a\",\"92cddc\",\"e36c09\",\"c09100\",\"7f7f7f\",\"0c0c0c\",\"1d1b10\",\"0f243e\",\"244061\",\"632423\",\"4f6128\",\"3f3151\",\"31859b\",\"974806\",\"7f6000\"],foreColorList:null,backColorList:null,allowCustomForeColor:!0,allowCustomBackColor:!0,displayAsList:!1};function a(r,e){var l=[],a=e.o.plugins.colors,t=a[r+\"List\"]||a.colorList;o.each(t,(function(o,t){var c=r+t,f={fn:r,forceCss:!0,hasIcon:!1,text:e.lang[\"#\"+t]||\"#\"+t,param:\"#\"+t,style:\"background-color: #\"+t+\";\"};a.displayAsList&&\"foreColor\"===r&&(f.style=\"color: #\"+t+\" !important;\"),e.addBtnDef(c,f),l.push(c)}));var c=r+\"Remove\",f={fn:\"removeFormat\",hasIcon:!1,param:r,style:\"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2NkQAAfEJMRmwBYhoGBYQtMBYoAADziAp0jtJTgAAAAAElFTkSuQmCC);\"};if(a.displayAsList&&(f.style=\"\"),e.addBtnDef(c,f),l.push(c),a[\"allowCustom\"+r.charAt(0).toUpperCase()+r.substr(1)]){var d=r+\"Free\",n={fn:function(){e.openModalInsert(e.lang[r],{color:{label:r,forceCss:!0,type:\"color\",value:\"#FFFFFF\"}},(function(o){return e.execCmd(r,o.color),!0}))},hasIcon:!1,text:\"#\",style:\"text-indent: 0; line-height: 20px; padding: 0 5px;\"};e.addBtnDef(d,n),l.push(d)}return l}o.extend(!0,o.trumbowyg,{plugins:{color:{init:function(o){o.o.plugins.colors=o.o.plugins.colors||l;var r=o.o.plugins.colors.displayAsList?o.o.prefix+\"dropdown--color-list\":\"\",e={dropdown:a(\"foreColor\",o),dropdownClass:r},t={dropdown:a(\"backColor\",o),dropdownClass:r};o.addBtnDef(\"foreColor\",e),o.addBtnDef(\"backColor\",t)},tagHandler:function(o,r){var l,a=[];if(!o.style)return a;if(\"\"!==o.style.backgroundColor){var t=e(o.style.backgroundColor);r.o.plugins.colors.colorList.indexOf(t)>=0?a.push(\"backColor\"+t):a.push(\"backColorFree\")}return\"\"!==o.style.color?l=e(o.style.color):o.hasAttribute(\"color\")&&(l=e(o.getAttribute(\"color\"))),l&&(r.o.plugins.colors.colorList.indexOf(l)>=0?a.push(\"foreColor\"+l):a.push(\"foreColorFree\")),a}}}})}(jQuery);","; (function ($) {\n    'use strict';\n\n    var defaultOptions = {\n        minSize: 32,\n        step: 4\n    };\n\n    function preventDefault(e) {\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    var ResizeWithCanvas = function (trumbowyg) {\n        // variable to create canvas and save img in resize mode\n        this.resizeCanvas = document.createElement('canvas');\n        // to allow canvas to get focus\n        this.resizeCanvas.setAttribute('tabindex', '0');\n        this.resizeCanvas.id = 'trumbowyg-resizimg-' + (+new Date());\n        this.ctx = null;\n        this.resizeImg = null;\n\n        this.pressEscape = function (obj) {\n            obj.reset();\n        };\n        this.pressBackspaceOrDelete = function (obj) {\n            $(obj.resizeCanvas).remove();\n            obj.resizeImg = null;\n            if (trumbowyg !== null){\n                trumbowyg.syncCode();\n                // notify changes\n                trumbowyg.$c.trigger('tbwchange');\n            }\n        };\n\n        // PRIVATE FUNCTION\n        var focusedNow = false;\n        var isCursorSeResize = false;\n\n        // calculate offset to change mouse over square in the canvas\n        var offsetX, offsetY;\n        var reOffset = function (canvas) {\n            var BB = canvas.getBoundingClientRect();\n            offsetX = BB.left;\n            offsetY = BB.top;\n        };\n\n        var updateCanvas = function (canvas, ctx, img, canvasWidth, canvasHeight) {\n            ctx.translate(0.5, 0.5);\n            ctx.lineWidth = 1;\n\n            // image\n            ctx.drawImage(img, 5, 5, canvasWidth - 10, canvasHeight - 10);\n\n            // border\n            ctx.beginPath();\n            ctx.rect(5, 5, canvasWidth - 10, canvasHeight - 10);\n            ctx.stroke();\n\n            // square in the angle\n            ctx.beginPath();\n            ctx.fillStyle = 'rgb(255, 255, 255)';\n            ctx.rect(canvasWidth - 10, canvasHeight - 10, 9, 9);\n            ctx.fill();\n            ctx.stroke();\n\n            // get the offset to change the mouse cursor\n            reOffset(canvas);\n\n            return ctx;\n        };\n\n        // PUBLIC FUNCTION\n        // necessary to correctly print cursor over square. Called once for instance. Useless with trumbowyg.\n        this.init = function () {\n            var _this = this;\n            $(window).on('scroll resize', function () {\n                _this.reCalcOffset();\n            });\n        };\n\n        this.reCalcOffset = function () {\n            reOffset(this.resizeCanvas);\n        };\n\n        this.canvasId = function () {\n            return this.resizeCanvas.id;\n        };\n\n        this.isActive = function () {\n            return this.resizeImg !== null;\n        };\n\n        this.isFocusedNow = function () {\n            return focusedNow;\n        };\n\n        this.blurNow = function () {\n            focusedNow = false;\n        };\n\n        // restore image in the HTML of the editor\n        this.reset = function () {\n            if (this.resizeImg === null) {\n                return;\n            }\n\n            // set style of image to avoid issue on resize because this attribute have priority over width and height attribute\n            this.resizeImg.setAttribute('style', 'width: 100%; max-width: ' + (this.resizeCanvas.clientWidth - 10) + 'px; height: auto; max-height: ' + (this.resizeCanvas.clientHeight - 10) + 'px;');\n\n            $(this.resizeCanvas).replaceWith($(this.resizeImg));\n\n            // reset canvas style\n            this.resizeCanvas.removeAttribute('style');\n            this.resizeImg = null;\n        };\n\n        // setup canvas with points and border to allow the resizing operation\n        this.setup = function (img, resizableOptions) {\n            this.resizeImg = img;\n\n            if (!this.resizeCanvas.getContext) {\n                return false;\n            }\n\n            focusedNow = true;\n\n            // draw canvas\n            this.resizeCanvas.width = $(this.resizeImg).width() + 10;\n            this.resizeCanvas.height = $(this.resizeImg).height() + 10;\n            this.resizeCanvas.style.margin = '-5px';\n            this.ctx = this.resizeCanvas.getContext('2d');\n\n            // replace image with canvas\n            $(this.resizeImg).replaceWith($(this.resizeCanvas));\n\n            updateCanvas(this.resizeCanvas, this.ctx, this.resizeImg, this.resizeCanvas.width, this.resizeCanvas.height);\n\n            // enable resize\n            $(this.resizeCanvas).resizableSafe(resizableOptions)\n                .on('mousedown', preventDefault);\n\n            var _this = this;\n            $(this.resizeCanvas)\n                .on('mousemove', function (e) {\n                    var mouseX = Math.round(e.clientX - offsetX);\n                    var mouseY = Math.round(e.clientY - offsetY);\n\n                    var wasCursorSeResize = isCursorSeResize;\n\n                    _this.ctx.rect(_this.resizeCanvas.width - 10, _this.resizeCanvas.height - 10, 9, 9);\n                    isCursorSeResize = _this.ctx.isPointInPath(mouseX, mouseY);\n                    if (wasCursorSeResize !== isCursorSeResize) {\n                        this.style.cursor = isCursorSeResize ? 'se-resize' : 'default';\n                    }\n                })\n                .on('keydown', function (e) {\n                    if (!_this.isActive()) {\n                        return;\n                    }\n\n                    var x = e.keyCode;\n                    if (x === 27) { // ESC\n                        _this.pressEscape(_this);\n                    } else if (x === 8 || x === 46) { // BACKSPACE or DELETE\n                        _this.pressBackspaceOrDelete(_this);\n                    }\n                })\n                .on('focus', preventDefault)\n                .on('blur', function () {\n                    _this.reset();\n                    // save changes\n                    if (trumbowyg !== null){\n                        trumbowyg.syncCode();\n                        // notify changes\n                        trumbowyg.$c.trigger('tbwchange');\n                    }\n                });\n\n            this.resizeCanvas.focus();\n\n            return true;\n        };\n\n        // update the canvas after the resizing\n        this.refresh = function () {\n            if (!this.resizeCanvas.getContext) {\n                return;\n            }\n\n            this.resizeCanvas.width = this.resizeCanvas.clientWidth;\n            this.resizeCanvas.height = this.resizeCanvas.clientHeight;\n            updateCanvas(this.resizeCanvas, this.ctx, this.resizeImg, this.resizeCanvas.width, this.resizeCanvas.height);\n        };\n    };\n\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            resizimg: {\n                destroyResizable: function () {},\n                init: function (trumbowyg) {\n                    var destroyResizable = this.destroyResizable;\n\n                    // object to interact with canvas\n                    var resizeWithCanvas = new ResizeWithCanvas(trumbowyg);\n\n                    this.destroyResizable = function () {\n                        // clean html code\n                        trumbowyg.$ed.find('canvas.resizable')\n                            .resizableSafe('destroy')\n                            .off('mousedown', preventDefault)\n                            .removeClass('resizable');\n\n                        resizeWithCanvas.reset();\n\n                        trumbowyg.syncCode();\n                    };\n\n                    trumbowyg.o.plugins.resizimg = $.extend(true, {},\n                        defaultOptions,\n                        trumbowyg.o.plugins.resizimg || {},\n                        {\n                            resizable: {\n                                resizeWidth: false,\n                                onDragStart: function (ev, $el) {\n                                    var opt = trumbowyg.o.plugins.resizimg;\n                                    var x = ev.pageX - $el.offset().left;\n                                    var y = ev.pageY - $el.offset().top;\n                                    if (x < $el.width() - opt.minSize || y < $el.height() - opt.minSize) {\n                                        return false;\n                                    }\n                                },\n                                onDrag: function (ev, $el, newWidth, newHeight) {\n                                    var opt = trumbowyg.o.plugins.resizimg;\n                                    if (newHeight < opt.minSize) {\n                                        newHeight = opt.minSize;\n                                    }\n                                    newHeight -= newHeight % opt.step;\n                                    $el.height(newHeight);\n                                    return false;\n                                },\n                                onDragEnd: function () {\n                                    // resize update canvas information\n                                    resizeWithCanvas.refresh();\n                                    trumbowyg.syncCode();\n                                }\n                            }\n                        }\n                    );\n\n                    function initResizable() {\n                        trumbowyg.$ed.find('img')\n                            .off('click')\n                            .on('click', function (e) {\n                                // if I'm already do a resize, reset it\n                                if (resizeWithCanvas.isActive()) {\n                                    resizeWithCanvas.reset();\n                                }\n                                // initialize resize of image\n                                resizeWithCanvas.setup(this, trumbowyg.o.plugins.resizimg.resizable);\n\n                                preventDefault(e);\n                            });\n                    }\n\n                    trumbowyg.$c.on('tbwinit', function () {\n                        initResizable();\n\n                        // disable resize when click on other items\n                        trumbowyg.$ed.on('click', function (e) {\n                            // check if I've clicked out of canvas or image to reset it\n                            if ($(e.target).is('img') || e.target.id === resizeWithCanvas.canvasId()) {\n                                return;\n                            }\n\n                            preventDefault(e);\n                            resizeWithCanvas.reset();\n                            //sync\n                            trumbowyg.syncCode();\n                            // notify changes\n                            trumbowyg.$c.trigger('tbwchange');\n                        });\n\n                        trumbowyg.$ed.on('scroll', function () {\n                            resizeWithCanvas.reCalcOffset();\n                        });\n                    });\n\n                    trumbowyg.$c.on('tbwfocus tbwchange', initResizable);\n                    trumbowyg.$c.on('tbwresize', function () {\n                        resizeWithCanvas.reCalcOffset();\n                    });\n\n                    // Destroy\n                    trumbowyg.$c.on('tbwblur', function () {\n                        // when canvas is created the tbwblur is called\n                        // this code avoid to destroy the canvas that allow the image resizing\n                        if (resizeWithCanvas.isFocusedNow()) {\n                            resizeWithCanvas.blurNow();\n                        } else {\n                            destroyResizable();\n                        }\n                    });\n                },\n                destroy: function () {\n                    this.destroyResizable();\n                }\n            }\n        }\n    });\n})(jQuery);\n","!function(a){\"use strict\";var s={symbolList:[\"0024\",\"20AC\",\"00A3\",\"00A2\",\"00A5\",\"00A4\",\"2030\",null,\"00A9\",\"00AE\",\"2122\",null,\"00A7\",\"00B6\",\"00C6\",\"00E6\",\"0152\",\"0153\",null,\"2022\",\"25CF\",\"2023\",\"25B6\",\"2B29\",\"25C6\",null,\"00B1\",\"00D7\",\"00F7\",\"21D2\",\"21D4\",\"220F\",\"2211\",\"2243\",\"2264\",\"2265\"]};function e(s){var e=[];return a.each(s.o.plugins.specialchars.symbolList,(function(a,r){var n=\"symbol-\"+(r=null===r?\"&nbsp\":\"&#x\"+r).replace(/:/g,\"\"),i={text:r,hasIcon:!1,fn:function(){var a=String.fromCodePoint(parseInt(r.replace(\"&#\",\"0\")));return s.execCmd(\"insertText\",a),!0}};s.addBtnDef(n,i),e.push(n)})),e}a.extend(!0,a.trumbowyg,{langs:{en:{specialChars:\"Special characters\"},et:{specialChars:\"Erimrgid\"},fr:{specialChars:\"Caractres spciaux\"},hu:{specialChars:\"Specilis karakterek\"},ko:{specialChars:\"\"}},plugins:{specialchars:{init:function(a){a.o.plugins.specialchars=a.o.plugins.specialchars||s;var r={dropdown:e(a)};a.addBtnDef(\"specialChars\",r)}}}})}(jQuery);","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"pdfjs-dist/build/pdf.worker\",[],t):\"object\"==typeof exports?exports[\"pdfjs-dist/build/pdf.worker\"]=t():e[\"pdfjs-dist/build/pdf.worker\"]=e.pdfjsWorker=t()}(this,function(){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";var a=r(1);t.WorkerMessageHandler=a.WorkerMessageHandler},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.WorkerMessageHandler=t.WorkerTask=void 0;var a=u(r(2)),n=r(5),i=r(151),o=u(r(8)),s=r(191),c=r(156),l=r(153);function u(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function d(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}var g=function(){function e(e){this.name=e,this.terminated=!1,this._capability=(0,n.createPromiseCapability)()}return e.prototype={get finished(){return this._capability.promise},finish:function(){this._capability.resolve()},terminate:function(){this.terminated=!0},ensureNotTerminated:function(){if(this.terminated)throw new Error(\"Worker task was terminated\")}},e}();t.WorkerTask=g;var m,p=function(){function e(e){this._msgHandler=e,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}function t(e){var t=this;this._msgHandler=e,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;var r=this._msgHandler.sendWithStream(\"GetReader\");this._reader=r.getReader(),this._headersReady=this._msgHandler.sendWithPromise(\"ReaderHeadersReady\").then(function(e){t._isStreamingSupported=e.isStreamingSupported,t._isRangeSupported=e.isRangeSupported,t._contentLength=e.contentLength})}function r(e,t,r){this._msgHandler=r,this.onProgress=null;var a=this._msgHandler.sendWithStream(\"GetRangeReader\",{begin:e,end:t});this._reader=a.getReader()}return e.prototype={getFullReader:function(){return(0,n.assert)(!this._fullRequestReader),this._fullRequestReader=new t(this._msgHandler),this._fullRequestReader},getRangeReader:function(e,t){var a=new r(e,t,this._msgHandler);return this._rangeRequestReaders.push(a),a},cancelAllRequests:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach(function(t){t.cancel(e)})}},t.prototype={get headersReady(){return this._headersReady},get contentLength(){return this._contentLength},get isStreamingSupported(){return this._isStreamingSupported},get isRangeSupported(){return this._isRangeSupported},read:function(){return this._reader.read().then(function(e){var t=e.value;return e.done?{value:void 0,done:!0}:{value:t.buffer,done:!1}})},cancel:function(e){this._reader.cancel(e)}},r.prototype={get isStreamingSupported(){return!1},read:function(){return this._reader.read().then(function(e){var t=e.value;return e.done?{value:void 0,done:!0}:{value:t.buffer,done:!1}})},cancel:function(e){this._reader.cancel(e)}},e}(),v={setup:function(e,t){var r=!1;e.on(\"test\",function(t){if(!r)if(r=!0,t instanceof Uint8Array){var a=255===t[0];e.postMessageTransfers=a;var n=new XMLHttpRequest,i=\"response\"in n;try{n.responseType}catch(e){i=!1}i?e.send(\"test\",{supportTypedArray:!0,supportTransfers:a}):e.send(\"test\",!1)}else e.send(\"test\",!1)}),e.on(\"configure\",function(e){(0,n.setVerbosityLevel)(e.verbosity)}),e.on(\"GetDocRequest\",function(e){return v.createDocumentHandler(e,t)})},createDocumentHandler:function(e,t){var r,o=!1,u=null,m=[],v=(0,n.getVerbosityLevel)(),b=e.apiVersion;if(\"2.2.171\"!==b)throw new Error('The API version \"'.concat(b,'\" does not match ')+'the Worker version \"'.concat(\"2.2.171\",'\".'));var y=e.docId,w=e.docBaseUrl,k=e.docId+\"_worker\",S=new s.MessageHandler(k,y,t);function C(){if(o)throw new Error(\"Worker was terminated\")}function x(e){m.push(e)}function A(e){e.finish();var t=m.indexOf(e);m.splice(t,1)}function _(e){return P.apply(this,arguments)}function P(){var e;return e=a.default.mark(function e(t){var n,i,o,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.ensureDoc(\"checkHeader\");case 2:return e.next=4,r.ensureDoc(\"parseStartXRef\");case 4:return e.next=6,r.ensureDoc(\"parse\",[t]);case 6:if(t){e.next=9;break}return e.next=9,r.ensureDoc(\"checkFirstPage\");case 9:return e.next=11,Promise.all([r.ensureDoc(\"numPages\"),r.ensureDoc(\"fingerprint\")]);case 11:return n=e.sent,i=f(n,2),o=i[0],s=i[1],e.abrupt(\"return\",{numPages:o,fingerprint:s});case 16:case\"end\":return e.stop()}},e)}),(P=function(){var t=this,r=arguments;return new Promise(function(a,n){var i=e.apply(t,r);function o(e){d(i,a,n,o,s,\"next\",e)}function s(e){d(i,a,n,o,s,\"throw\",e)}o(void 0)})}).apply(this,arguments)}function I(e,t){var r,a=(0,n.createPromiseCapability)(),o=e.source;if(o.data){try{r=new i.LocalPdfManager(y,o.data,o.password,t,w),a.resolve(r)}catch(e){a.reject(e)}return a.promise}var s,c=[];try{s=new p(S)}catch(e){return a.reject(e),a.promise}var l=s.getFullReader();l.headersReady.then(function(){if(l.isRangeSupported){var e=o.disableAutoFetch||l.isStreamingSupported;r=new i.NetworkPdfManager(y,s,{msgHandler:S,password:o.password,length:l.contentLength,disableAutoFetch:e,rangeChunkSize:o.rangeChunkSize},t,w);for(var n=0;n<c.length;n++)r.sendProgressiveData(c[n]);c=[],a.resolve(r),u=null}}).catch(function(e){a.reject(e),u=null});var h=0;return new Promise(function(e,s){l.read().then(function e(f){try{if(C(),f.done)return r||function(){var e=(0,n.arraysToBytes)(c);o.length&&e.length!==o.length&&(0,n.warn)(\"reported HTTP length is different from actual\");try{r=new i.LocalPdfManager(y,e,o.password,t,w),a.resolve(r)}catch(e){a.reject(e)}c=[]}(),void(u=null);var d=f.value;h+=(0,n.arrayByteLength)(d),l.isStreamingSupported||S.send(\"DocProgress\",{loaded:h,total:Math.max(h,l.contentLength||0)}),r?r.sendProgressiveData(d):c.push(d),l.read().then(e,s)}catch(e){s(e)}},s)}).catch(function(e){a.reject(e),u=null}),u=function(){s.cancelAllRequests(\"abort\")},a.promise}return S.postMessageTransfers=e.postMessageTransfers,S.on(\"GetPage\",function(e){return r.getPage(e.pageIndex).then(function(e){return Promise.all([r.ensure(e,\"rotate\"),r.ensure(e,\"ref\"),r.ensure(e,\"userUnit\"),r.ensure(e,\"view\")]).then(function(e){var t=f(e,4);return{rotate:t[0],ref:t[1],userUnit:t[2],view:t[3]}})})}),S.on(\"GetPageIndex\",function(e){var t=new c.Ref(e.ref.num,e.ref.gen);return r.pdfDocument.catalog.getPageIndex(t)}),S.on(\"GetDestinations\",function(e){return r.ensureCatalog(\"destinations\")}),S.on(\"GetDestination\",function(e){return r.ensureCatalog(\"getDestination\",[e.id])}),S.on(\"GetPageLabels\",function(e){return r.ensureCatalog(\"pageLabels\")}),S.on(\"GetPageLayout\",function(e){return r.ensureCatalog(\"pageLayout\")}),S.on(\"GetPageMode\",function(e){return r.ensureCatalog(\"pageMode\")}),S.on(\"GetViewerPreferences\",function(e){return r.ensureCatalog(\"viewerPreferences\")}),S.on(\"GetOpenActionDestination\",function(e){return r.ensureCatalog(\"openActionDestination\")}),S.on(\"GetAttachments\",function(e){return r.ensureCatalog(\"attachments\")}),S.on(\"GetJavaScript\",function(e){return r.ensureCatalog(\"javaScript\")}),S.on(\"GetOutline\",function(e){return r.ensureCatalog(\"documentOutline\")}),S.on(\"GetPermissions\",function(e){return r.ensureCatalog(\"permissions\")}),S.on(\"GetMetadata\",function(e){return Promise.all([r.ensureDoc(\"documentInfo\"),r.ensureCatalog(\"metadata\")])}),S.on(\"GetData\",function(e){return r.requestLoadedStream(),r.onLoadedStream().then(function(e){return e.bytes})}),S.on(\"GetStats\",function(e){return r.pdfDocument.xref.stats}),S.on(\"GetAnnotations\",function(e){var t=e.pageIndex,a=e.intent;return r.getPage(t).then(function(e){return e.getAnnotationsData(a)})}),S.on(\"RenderPageRequest\",function(e){var t=e.pageIndex;r.getPage(t).then(function(r){var a=new g(\"RenderPageRequest: page \"+t);x(a);var i=v>=n.VerbosityLevel.INFOS?Date.now():0;r.getOperatorList({handler:S,task:a,intent:e.intent,renderInteractiveForms:e.renderInteractiveForms}).then(function(e){A(a),i&&(0,n.info)(\"page=\".concat(t+1,\" - getOperatorList: time=\")+\"\".concat(Date.now()-i,\"ms, len=\").concat(e.totalLength))},function(r){if(A(a),!a.terminated){S.send(\"UnsupportedFeature\",{featureId:n.UNSUPPORTED_FEATURES.unknown});var i,o=\"worker.js: while trying to getPage() and getOperatorList()\";i=\"string\"==typeof r?{message:r,stack:o}:\"object\"===h(r)?{message:r.message||r.toString(),stack:r.stack||o}:{message:\"Unknown exception type: \"+h(r),stack:o},S.send(\"PageError\",{pageIndex:t,error:i,intent:e.intent})}})})},this),S.on(\"GetTextContent\",function(e,t){var a=e.pageIndex;t.onPull=function(e){},t.onCancel=function(e){},r.getPage(a).then(function(r){var i=new g(\"GetTextContent: page \"+a);x(i);var o=v>=n.VerbosityLevel.INFOS?Date.now():0;r.extractTextContent({handler:S,task:i,sink:t,normalizeWhitespace:e.normalizeWhitespace,combineTextItems:e.combineTextItems}).then(function(){A(i),o&&(0,n.info)(\"page=\".concat(a+1,\" - getTextContent: time=\")+\"\".concat(Date.now()-o,\"ms\")),t.close()},function(e){if(A(i),!i.terminated)throw t.error(e),e})})}),S.on(\"FontFallback\",function(e){return r.fontFallback(e.id,S)}),S.on(\"Cleanup\",function(e){return r.cleanup()}),S.on(\"Terminate\",function(e){o=!0,r&&(r.terminate(),r=null),u&&u();var t=[];return m.forEach(function(e){t.push(e.finished),e.terminate()}),Promise.all(t).then(function(){S.destroy(),S=null})}),S.on(\"Ready\",function(t){!function(e){function t(e){C(),S.send(\"GetDoc\",{pdfInfo:e})}function a(e){if(C(),e instanceof n.PasswordException){var t=new g(\"PasswordException: response \"+e.code);x(t),S.sendWithPromise(\"PasswordRequest\",e).then(function(e){A(t),r.updatePassword(e.password),i()}).catch(function(e){A(t),S.send(\"PasswordException\",e)}.bind(null,e))}else e instanceof n.InvalidPDFException?S.send(\"InvalidPDF\",e):e instanceof n.MissingPDFException?S.send(\"MissingPDF\",e):e instanceof n.UnexpectedResponseException?S.send(\"UnexpectedResponse\",e):S.send(\"UnknownError\",new n.UnknownErrorException(e.message,e.toString()))}function i(){C(),_(!1).then(t,function(e){C(),e instanceof l.XRefParseException?(r.requestLoadedStream(),r.onLoadedStream().then(function(){C(),_(!0).then(t,a)})):a(e)},a)}C(),I(e,{forceDataSchema:e.disableCreateObjectURL,maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,nativeImageDecoderSupport:e.nativeImageDecoderSupport,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported}).then(function(e){if(o)throw e.terminate(),new Error(\"Worker was terminated\");(r=e).onLoadedStream().then(function(e){S.send(\"DataLoaded\",{length:e.bytes.byteLength})})}).then(i,a)}(e),e=null}),k},initializeFromPort:function(e){var t=new s.MessageHandler(\"worker\",\"main\",e);v.setup(t,e),t.send(\"ready\",null)}};t.WorkerMessageHandler=v,\"undefined\"==typeof window&&!(0,o.default)()&&\"undefined\"!=typeof self&&(\"function\"==typeof(m=self).postMessage&&\"onmessage\"in m)&&v.initializeFromPort(self)},function(e,t,r){\"use strict\";e.exports=r(3)},function(e,t,r){\"use strict\";(function(e){function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var r=function(e){var r,a=Object.prototype,n=a.hasOwnProperty,i=\"function\"==typeof Symbol?Symbol:{},o=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function l(e,t,r,a){var n=t&&t.prototype instanceof p?t:p,i=Object.create(n.prototype),o=new I(a||[]);return i._invoke=function(e,t,r){var a=h;return function(n,i){if(a===d)throw new Error(\"Generator is already running\");if(a===g){if(\"throw\"===n)throw i;return T()}for(r.method=n,r.arg=i;;){var o=r.delegate;if(o){var s=A(o,r);if(s){if(s===m)continue;return s}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(a===h)throw a=g,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);a=d;var c=u(e,t,r);if(\"normal\"===c.type){if(a=r.done?g:f,c.arg===m)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(a=g,r.method=\"throw\",r.arg=c.arg)}}}(e,r,o),i}function u(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}e.wrap=l;var h=\"suspendedStart\",f=\"suspendedYield\",d=\"executing\",g=\"completed\",m={};function p(){}function v(){}function b(){}var y={};y[o]=function(){return this};var w=Object.getPrototypeOf,k=w&&w(w(O([])));k&&k!==a&&n.call(k,o)&&(y=k);var S=b.prototype=p.prototype=Object.create(y);function C(e){[\"next\",\"throw\",\"return\"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var r;this._invoke=function(a,i){function o(){return new Promise(function(r,o){!function r(a,i,o,s){var c=u(e[a],e,i);if(\"throw\"!==c.type){var l=c.arg,h=l.value;return h&&\"object\"===t(h)&&n.call(h,\"__await\")?Promise.resolve(h.__await).then(function(e){r(\"next\",e,o,s)},function(e){r(\"throw\",e,o,s)}):Promise.resolve(h).then(function(e){l.value=e,o(l)},function(e){return r(\"throw\",e,o,s)})}s(c.arg)}(a,i,r,o)})}return r=r?r.then(o,o):o()}}function A(e,t){var a=e.iterator[t.method];if(a===r){if(t.delegate=null,\"throw\"===t.method){if(e.iterator.return&&(t.method=\"return\",t.arg=r,A(e,t),\"throw\"===t.method))return m;t.method=\"throw\",t.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return m}var n=u(a,e.iterator,t.arg);if(\"throw\"===n.type)return t.method=\"throw\",t.arg=n.arg,t.delegate=null,m;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,\"return\"!==t.method&&(t.method=\"next\",t.arg=r),t.delegate=null,m):i:(t.method=\"throw\",t.arg=new TypeError(\"iterator result is not an object\"),t.delegate=null,m)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(_,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:r,done:!0}}return v.prototype=S.constructor=b,b.constructor=v,b[c]=v.displayName=\"GeneratorFunction\",e.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===v||\"GeneratorFunction\"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c in e||(e[c]=\"GeneratorFunction\")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},C(x.prototype),x.prototype[s]=function(){return this},e.AsyncIterator=x,e.async=function(t,r,a,n){var i=new x(l(t,r,a,n));return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(S),S[c]=\"Generator\",S[o]=function(){return this},S.toString=function(){return\"[object Generator]\"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=r,this.tryEntries.forEach(P),!e)for(var t in this)\"t\"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(a,n){return s.type=\"throw\",s.arg=e,t.next=a,n&&(t.method=\"next\",t.arg=r),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if(\"root\"===o.tryLoc)return a(\"end\");if(o.tryLoc<=this.prev){var c=n.call(o,\"catchLoc\"),l=n.call(o,\"finallyLoc\");if(c&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,\"finallyLoc\")&&this.prev<a.finallyLoc){var i=a;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if(\"throw\"===a.type){var n=a.arg;P(r)}return n}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,t,a){return this.delegate={iterator:O(e),resultName:t,nextLoc:a},\"next\"===this.method&&(this.arg=r),m}},e}(\"object\"===t(e)?e.exports:{});try{regeneratorRuntime=r}catch(e){Function(\"r\",\"regeneratorRuntime = r\")(r)}}).call(this,r(4)(e))},function(e,t,r){\"use strict\";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.arrayByteLength=w,t.arraysToBytes=function(e){if(1===e.length&&e[0]instanceof Uint8Array)return e[0];var t,r,a,n=0,i=e.length;for(t=0;t<i;t++)r=e[t],a=w(r),n+=a;var o=0,s=new Uint8Array(n);for(t=0;t<i;t++)(r=e[t])instanceof Uint8Array||(r=\"string\"==typeof r?y(r):new Uint8Array(r)),a=r.byteLength,s.set(r,o),o+=a;return s},t.assert=u,t.bytesToString=function(e){u(null!==e&&\"object\"===i(e)&&void 0!==e.length,\"Invalid argument for bytesToString\");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var r=[],a=0;a<t;a+=8192){var n=Math.min(a+8192,t),o=e.subarray(a,n);r.push(String.fromCharCode.apply(null,o))}return r.join(\"\")},t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,\"settled\",{get:function(){return t}}),e.promise=new Promise(function(r,a){e.resolve=function(e){t=!0,r(e)},e.reject=function(e){t=!0,a(e)}}),e},t.getVerbosityLevel=function(){return s},t.info=function(e){s>=o.INFOS&&console.log(\"Info: \"+e)},t.isArrayBuffer=function(e){return\"object\"===i(e)&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;return e.every(function(e,r){return e===t[r]})},t.isBool=function(e){return\"boolean\"==typeof e},t.isEmptyObj=function(e){for(var t in e)return!1;return!0},t.isNum=function(e){return\"number\"==typeof e},t.isString=function(e){return\"string\"==typeof e},t.isSpace=function(e){return 32===e||9===e||13===e||10===e},t.isSameOrigin=function(e,t){try{var r=new n.URL(e);if(!r.origin||\"null\"===r.origin)return!1}catch(e){return!1}var a=new n.URL(t,r);return r.origin===a.origin},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var r=t?new n.URL(e,t):new n.URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case\"http:\":case\"https:\":case\"ftp:\":case\"mailto:\":case\"tel:\":return!0;default:return!1}}(r))return r}catch(e){}return null},t.isLittleEndian=function(){var e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]},t.isEvalSupported=function(){try{return new Function(\"\"),!0}catch(e){return!1}},t.log2=function(e){if(e<=0)return 0;return Math.ceil(Math.log2(e))},t.readInt8=function(e,t){return e[t]<<24>>24},t.readUint16=function(e,t){return e[t]<<8|e[t+1]},t.readUint32=function(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0},t.removeNullCharacters=function(e){if(\"string\"!=typeof e)return c(\"The argument for removeNullCharacters must be a string.\"),e;return e.replace(b,\"\")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(s=e)},t.shadow=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!1}),r},t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=y,t.stringToPDFString=function(e){var t,r=e.length,a=[];if(\"\"===e[0]&&\"\"===e[1])for(t=2;t<r;t+=2)a.push(String.fromCharCode(e.charCodeAt(t)<<8|e.charCodeAt(t+1)));else for(t=0;t<r;++t){var n=S[e.charCodeAt(t)];a.push(n?String.fromCharCode(n):e.charAt(t))}return a.join(\"\")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=c,t.unreachable=l,Object.defineProperty(t,\"ReadableStream\",{enumerable:!0,get:function(){return a.ReadableStream}}),Object.defineProperty(t,\"URL\",{enumerable:!0,get:function(){return n.URL}}),t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.NativeImageDecoding=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=void 0,r(6);var a=r(147),n=r(149);function i(e){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}t.IDENTITY_MATRIX=[1,0,0,1,0,0];t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];t.NativeImageDecoding={NONE:\"none\",DECODE:\"decode\",DISPLAY:\"display\"};t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9};t.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};var o={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=o;t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.UNSUPPORTED_FEATURES={unknown:\"unknown\",forms:\"forms\",javaScript:\"javaScript\",smask:\"smask\",shadingPattern:\"shadingPattern\",font:\"font\"};t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var s=o.WARNINGS;function c(e){s>=o.WARNINGS&&console.log(\"Warning: \"+e)}function l(e){throw new Error(e)}function u(e,t){e||l(t)}var h=function(){function e(e,t){this.name=\"PasswordException\",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}();t.PasswordException=h;var f=function(){function e(e,t){this.name=\"UnknownErrorException\",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}();t.UnknownErrorException=f;var d=function(){function e(e){this.name=\"InvalidPDFException\",this.message=e}return e.prototype=new Error,e.constructor=e,e}();t.InvalidPDFException=d;var g=function(){function e(e){this.name=\"MissingPDFException\",this.message=e}return e.prototype=new Error,e.constructor=e,e}();t.MissingPDFException=g;var m=function(){function e(e,t){this.name=\"UnexpectedResponseException\",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}();t.UnexpectedResponseException=m;var p=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name=\"FormatError\",e.constructor=e,e}();t.FormatError=p;var v=function(){function e(e){this.name=\"AbortException\",this.message=e}return e.prototype=new Error,e.constructor=e,e}();t.AbortException=v;var b=/\\x00/g;function y(e){u(\"string\"==typeof e,\"Invalid argument for stringToBytes\");for(var t=e.length,r=new Uint8Array(t),a=0;a<t;++a)r[a]=255&e.charCodeAt(a);return r}function w(e){return void 0!==e.length?e.length:(u(void 0!==e.byteLength),e.byteLength)}var k=function(){function e(){}var t=[\"rgb(\",0,\",\",0,\",\",0,\")\"];return e.makeCssRgb=function(e,r,a){return t[1]=e,t[3]=r,t[5]=a,t.join(\"\")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]},e.applyInverseTransform=function(e,t){var r=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r]},e.getAxialAlignedBoundingBox=function(t,r){var a=e.applyTransform(t,r),n=e.applyTransform(t.slice(2,4),r),i=e.applyTransform([t[0],t[3]],r),o=e.applyTransform([t[2],t[1]],r);return[Math.min(a[0],n[0],i[0],o[0]),Math.min(a[1],n[1],i[1],o[1]),Math.max(a[0],n[0],i[0],o[0]),Math.max(a[1],n[1],i[1],o[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],a=e[0]*t[1]+e[1]*t[3],n=e[2]*t[0]+e[3]*t[2],i=e[2]*t[1]+e[3]*t[3],o=(r+i)/2,s=Math.sqrt((r+i)*(r+i)-4*(r*i-n*a))/2,c=o+s||1,l=o-s||1;return[Math.sqrt(c),Math.sqrt(l)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,r){function a(e,t){return e-t}var n=[t[0],t[2],r[0],r[2]].sort(a),i=[t[1],t[3],r[1],r[3]].sort(a),o=[];return t=e.normalizeRect(t),r=e.normalizeRect(r),(n[0]===t[0]&&n[1]===r[0]||n[0]===r[0]&&n[1]===t[0])&&(o[0]=n[1],o[2]=n[2],(i[0]===t[1]&&i[1]===r[1]||i[0]===r[1]&&i[1]===t[1])&&(o[1]=i[1],o[3]=i[2],o))},e}();t.Util=k;var S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];var C,x=(C=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",function(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&n.URL.createObjectURL){var r=new Blob([e],{type:t});return n.URL.createObjectURL(r)}for(var a=\"data:\"+t+\";base64,\",i=0,o=e.length;i<o;i+=3){var s=255&e[i],c=255&e[i+1],l=255&e[i+2];a+=C[s>>2]+C[(3&s)<<4|c>>4]+C[i+1<o?(15&c)<<2|l>>6:64]+C[i+2<o?63&l:64]}return a});t.createObjectURL=x},function(e,t,r){\"use strict\";function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var n=r(7);if(!n._pdfjsCompatibilityChecked){n._pdfjsCompatibilityChecked=!0;var i=r(8),o=\"object\"===(\"undefined\"==typeof window?\"undefined\":a(window))&&\"object\"===(\"undefined\"==typeof document?\"undefined\":a(document));!n.btoa&&i()&&(n.btoa=function(e){return Buffer.from(e,\"binary\").toString(\"base64\")}),!n.atob&&i()&&(n.atob=function(e){return Buffer.from(e,\"base64\").toString(\"binary\")}),o&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),function(){if(o&&!i()){var e=document.createElement(\"div\");if(e.classList.add(\"testOne\",\"testTwo\"),!0!==e.classList.contains(\"testOne\")||!0!==e.classList.contains(\"testTwo\")){var t=DOMTokenList.prototype.add,r=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];for(var n=0,i=r;n<i.length;n++){var o=i[n];t.call(this,o)}},DOMTokenList.prototype.remove=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var n=0,i=t;n<i.length;n++){var o=i[n];r.call(this,o)}}}}}(),o&&!i()&&!1!==document.createElement(\"div\").classList.toggle(\"test\",0)&&(DOMTokenList.prototype.toggle=function(e){var t=arguments.length>1?!!arguments[1]:!this.contains(e);return this[t?\"add\":\"remove\"](e),t}),String.prototype.startsWith||r(9),String.prototype.endsWith||r(40),String.prototype.includes||r(42),Array.prototype.includes||r(44),Array.from||r(51),Object.assign||r(74),Math.log2||(Math.log2=r(79)),Number.isNaN||(Number.isNaN=r(81)),Number.isInteger||(Number.isInteger=r(83)),n.Promise&&n.Promise.prototype&&n.Promise.prototype.finally||(n.Promise=r(86)),n.WeakMap||(n.WeakMap=r(106)),n.WeakSet||(n.WeakSet=r(123)),String.codePointAt||(String.codePointAt=r(127)),String.fromCodePoint||(String.fromCodePoint=r(129)),n.Symbol||r(131),String.prototype.padStart||r(138),String.prototype.padEnd||r(142),Object.values||(Object.values=r(144))}},function(e,t,r){\"use strict\";e.exports=\"undefined\"!=typeof window&&window.Math===Math?window:\"undefined\"!=typeof global&&global.Math===Math?global:\"undefined\"!=typeof self&&self.Math===Math?self:{}},function(e,t,r){\"use strict\";function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}e.exports=function(){return\"object\"===(\"undefined\"==typeof process?\"undefined\":a(process))&&process+\"\"==\"[object process]\"&&!process.versions.nw&&!process.versions.electron}},function(e,t,r){\"use strict\";r(10),e.exports=r(13).String.startsWith},function(e,t,r){\"use strict\";var a=r(11),n=r(32),i=r(34),o=\"\".startsWith;a(a.P+a.F*r(39)(\"startsWith\"),\"String\",{startsWith:function(e){var t=i(this,e,\"startsWith\"),r=n(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),a=String(e);return o?o.call(t,a,r):t.slice(r,r+a.length)===a}})},function(e,t,r){\"use strict\";var a=r(12),n=r(13),i=r(14),o=r(24),s=r(30),c=function e(t,r,c){var l,u,h,f,d=t&e.F,g=t&e.G,m=t&e.P,p=t&e.B,v=g?a:t&e.S?a[r]||(a[r]={}):(a[r]||{}).prototype,b=g?n:n[r]||(n[r]={}),y=b.prototype||(b.prototype={});for(l in g&&(c=r),c)h=((u=!d&&v&&void 0!==v[l])?v:c)[l],f=p&&u?s(h,a):m&&\"function\"==typeof h?s(Function.call,h):h,v&&o(v,l,h,t&e.U),b[l]!=h&&i(b,l,f),m&&y[l]!=h&&(y[l]=h)};a.core=n,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,r){\"use strict\";var a=e.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=a)},function(e,t,r){\"use strict\";var a=e.exports={version:\"2.6.5\"};\"number\"==typeof __e&&(__e=a)},function(e,t,r){\"use strict\";var a=r(15),n=r(23);e.exports=r(19)?function(e,t,r){return a.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){\"use strict\";var a=r(16),n=r(18),i=r(22),o=Object.defineProperty;t.f=r(19)?Object.defineProperty:function(e,t,r){if(a(e),t=i(t,!0),a(r),n)try{return o(e,t,r)}catch(e){}if(\"get\"in r||\"set\"in r)throw TypeError(\"Accessors not supported!\");return\"value\"in r&&(e[t]=r.value),e}},function(e,t,r){\"use strict\";var a=r(17);e.exports=function(e){if(!a(e))throw TypeError(e+\" is not an object!\");return e}},function(e,t,r){\"use strict\";function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}e.exports=function(e){return\"object\"===a(e)?null!==e:\"function\"==typeof e}},function(e,t,r){\"use strict\";e.exports=!r(19)&&!r(20)(function(){return 7!=Object.defineProperty(r(21)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(e,t,r){\"use strict\";e.exports=!r(20)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(e,t,r){\"use strict\";e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){\"use strict\";var a=r(17),n=r(12).document,i=a(n)&&a(n.createElement);e.exports=function(e){return i?n.createElement(e):{}}},function(e,t,r){\"use strict\";var a=r(17);e.exports=function(e,t){if(!a(e))return e;var r,n;if(t&&\"function\"==typeof(r=e.toString)&&!a(n=r.call(e)))return n;if(\"function\"==typeof(r=e.valueOf)&&!a(n=r.call(e)))return n;if(!t&&\"function\"==typeof(r=e.toString)&&!a(n=r.call(e)))return n;throw TypeError(\"Can't convert object to primitive value\")}},function(e,t,r){\"use strict\";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){\"use strict\";var a=r(12),n=r(14),i=r(25),o=r(26)(\"src\"),s=r(27),c=(\"\"+s).split(\"toString\");r(13).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var l=\"function\"==typeof r;l&&(i(r,\"name\")||n(r,\"name\",t)),e[t]!==r&&(l&&(i(r,o)||n(r,o,e[t]?\"\"+e[t]:c.join(String(t)))),e===a?e[t]=r:s?e[t]?e[t]=r:n(e,t,r):(delete e[t],n(e,t,r)))})(Function.prototype,\"toString\",function(){return\"function\"==typeof this&&this[o]||s.call(this)})},function(e,t,r){\"use strict\";var a={}.hasOwnProperty;e.exports=function(e,t){return a.call(e,t)}},function(e,t,r){\"use strict\";var a=0,n=Math.random();e.exports=function(e){return\"Symbol(\".concat(void 0===e?\"\":e,\")_\",(++a+n).toString(36))}},function(e,t,r){\"use strict\";e.exports=r(28)(\"native-function-to-string\",Function.toString)},function(e,t,r){\"use strict\";var a=r(13),n=r(12),i=n[\"__core-js_shared__\"]||(n[\"__core-js_shared__\"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:a.version,mode:r(29)?\"pure\":\"global\",copyright:\" 2019 Denis Pushkarev (zloirock.ru)\"})},function(e,t,r){\"use strict\";e.exports=!1},function(e,t,r){\"use strict\";var a=r(31);e.exports=function(e,t,r){if(a(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,a){return e.call(t,r,a)};case 3:return function(r,a,n){return e.call(t,r,a,n)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){\"use strict\";e.exports=function(e){if(\"function\"!=typeof e)throw TypeError(e+\" is not a function!\");return e}},function(e,t,r){\"use strict\";var a=r(33),n=Math.min;e.exports=function(e){return e>0?n(a(e),9007199254740991):0}},function(e,t,r){\"use strict\";var a=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:a)(e)}},function(e,t,r){\"use strict\";var a=r(35),n=r(38);e.exports=function(e,t,r){if(a(t))throw TypeError(\"String#\"+r+\" doesn't accept regex!\");return String(n(e))}},function(e,t,r){\"use strict\";var a=r(17),n=r(36),i=r(37)(\"match\");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:\"RegExp\"==n(e))}},function(e,t,r){\"use strict\";var a={}.toString;e.exports=function(e){return a.call(e).slice(8,-1)}},function(e,t,r){\"use strict\";var a=r(28)(\"wks\"),n=r(26),i=r(12).Symbol,o=\"function\"==typeof i;(e.exports=function(e){return a[e]||(a[e]=o&&i[e]||(o?i:n)(\"Symbol.\"+e))}).store=a},function(e,t,r){\"use strict\";e.exports=function(e){if(null==e)throw TypeError(\"Can't call method on  \"+e);return e}},function(e,t,r){\"use strict\";var a=r(37)(\"match\");e.exports=function(e){var t=/./;try{\"/./\"[e](t)}catch(r){try{return t[a]=!1,!\"/./\"[e](t)}catch(e){}}return!0}},function(e,t,r){\"use strict\";r(41),e.exports=r(13).String.endsWith},function(e,t,r){\"use strict\";var a=r(11),n=r(32),i=r(34),o=\"\".endsWith;a(a.P+a.F*r(39)(\"endsWith\"),\"String\",{endsWith:function(e){var t=i(this,e,\"endsWith\"),r=arguments.length>1?arguments[1]:void 0,a=n(t.length),s=void 0===r?a:Math.min(n(r),a),c=String(e);return o?o.call(t,c,s):t.slice(s-c.length,s)===c}})},function(e,t,r){\"use strict\";r(43),e.exports=r(13).String.includes},function(e,t,r){\"use strict\";var a=r(11),n=r(34);a(a.P+a.F*r(39)(\"includes\"),\"String\",{includes:function(e){return!!~n(this,e,\"includes\").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){\"use strict\";r(45),e.exports=r(13).Array.includes},function(e,t,r){\"use strict\";var a=r(11),n=r(46)(!0);a(a.P,\"Array\",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(50)(\"includes\")},function(e,t,r){\"use strict\";var a=r(47),n=r(32),i=r(49);e.exports=function(e){return function(t,r,o){var s,c=a(t),l=n(c.length),u=i(o,l);if(e&&r!=r){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){\"use strict\";var a=r(48),n=r(38);e.exports=function(e){return a(n(e))}},function(e,t,r){\"use strict\";var a=r(36);e.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(e){return\"String\"==a(e)?e.split(\"\"):Object(e)}},function(e,t,r){\"use strict\";var a=r(33),n=Math.max,i=Math.min;e.exports=function(e,t){return(e=a(e))<0?n(e+t,0):i(e,t)}},function(e,t,r){\"use strict\";var a=r(37)(\"unscopables\"),n=Array.prototype;null==n[a]&&r(14)(n,a,{}),e.exports=function(e){n[a][e]=!0}},function(e,t,r){\"use strict\";r(52),r(67),e.exports=r(13).Array.from},function(e,t,r){\"use strict\";var a=r(53)(!0);r(54)(String,\"String\",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=a(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){\"use strict\";var a=r(33),n=r(38);e.exports=function(e){return function(t,r){var i,o,s=String(n(t)),c=a(r),l=s.length;return c<0||c>=l?e?\"\":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):i:e?s.slice(c,c+2):o-56320+(i-55296<<10)+65536}}},function(e,t,r){\"use strict\";var a=r(29),n=r(11),i=r(24),o=r(14),s=r(55),c=r(56),l=r(64),u=r(65),h=r(37)(\"iterator\"),f=!([].keys&&\"next\"in[].keys()),d=function(){return this};e.exports=function(e,t,r,g,m,p,v){c(r,t,g);var b,y,w,k=function(e){if(!f&&e in A)return A[e];switch(e){case\"keys\":case\"values\":return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+\" Iterator\",C=\"values\"==m,x=!1,A=e.prototype,_=A[h]||A[\"@@iterator\"]||m&&A[m],P=_||k(m),I=m?C?k(\"entries\"):P:void 0,O=\"Array\"==t&&A.entries||_;if(O&&(w=u(O.call(new e)))!==Object.prototype&&w.next&&(l(w,S,!0),a||\"function\"==typeof w[h]||o(w,h,d)),C&&_&&\"values\"!==_.name&&(x=!0,P=function(){return _.call(this)}),a&&!v||!f&&!x&&A[h]||o(A,h,P),s[t]=P,s[S]=d,m)if(b={values:C?P:k(\"values\"),keys:p?P:k(\"keys\"),entries:I},v)for(y in b)y in A||i(A,y,b[y]);else n(n.P+n.F*(f||x),t,b);return b}},function(e,t,r){\"use strict\";e.exports={}},function(e,t,r){\"use strict\";var a=r(57),n=r(23),i=r(64),o={};r(14)(o,r(37)(\"iterator\"),function(){return this}),e.exports=function(e,t,r){e.prototype=a(o,{next:n(1,r)}),i(e,t+\" Iterator\")}},function(e,t,r){\"use strict\";var a=r(16),n=r(58),i=r(62),o=r(61)(\"IE_PROTO\"),s=function(){},c=function(){var e,t=r(21)(\"iframe\"),a=i.length;for(t.style.display=\"none\",r(63).appendChild(t),t.src=\"javascript:\",(e=t.contentWindow.document).open(),e.write(\"<script>document.F=Object<\\/script>\"),e.close(),c=e.F;a--;)delete c.prototype[i[a]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=a(e),r=new s,s.prototype=null,r[o]=e):r=c(),void 0===t?r:n(r,t)}},function(e,t,r){\"use strict\";var a=r(15),n=r(16),i=r(59);e.exports=r(19)?Object.defineProperties:function(e,t){n(e);for(var r,o=i(t),s=o.length,c=0;s>c;)a.f(e,r=o[c++],t[r]);return e}},function(e,t,r){\"use strict\";var a=r(60),n=r(62);e.exports=Object.keys||function(e){return a(e,n)}},function(e,t,r){\"use strict\";var a=r(25),n=r(47),i=r(46)(!1),o=r(61)(\"IE_PROTO\");e.exports=function(e,t){var r,s=n(e),c=0,l=[];for(r in s)r!=o&&a(s,r)&&l.push(r);for(;t.length>c;)a(s,r=t[c++])&&(~i(l,r)||l.push(r));return l}},function(e,t,r){\"use strict\";var a=r(28)(\"keys\"),n=r(26);e.exports=function(e){return a[e]||(a[e]=n(e))}},function(e,t,r){\"use strict\";e.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(e,t,r){\"use strict\";var a=r(12).document;e.exports=a&&a.documentElement},function(e,t,r){\"use strict\";var a=r(15).f,n=r(25),i=r(37)(\"toStringTag\");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,i)&&a(e,i,{configurable:!0,value:t})}},function(e,t,r){\"use strict\";var a=r(25),n=r(66),i=r(61)(\"IE_PROTO\"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),a(e,i)?e[i]:\"function\"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){\"use strict\";var a=r(38);e.exports=function(e){return Object(a(e))}},function(e,t,r){\"use strict\";var a=r(30),n=r(11),i=r(66),o=r(68),s=r(69),c=r(32),l=r(70),u=r(71);n(n.S+n.F*!r(73)(function(e){Array.from(e)}),\"Array\",{from:function(e){var t,r,n,h,f=i(e),d=\"function\"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,p=void 0!==m,v=0,b=u(f);if(p&&(m=a(m,g>2?arguments[2]:void 0,2)),null==b||d==Array&&s(b))for(r=new d(t=c(f.length));t>v;v++)l(r,v,p?m(f[v],v):f[v]);else for(h=b.call(f),r=new d;!(n=h.next()).done;v++)l(r,v,p?o(h,m,[n.value,v],!0):n.value);return r.length=v,r}})},function(e,t,r){\"use strict\";var a=r(16);e.exports=function(e,t,r,n){try{return n?t(a(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&a(i.call(e)),t}}},function(e,t,r){\"use strict\";var a=r(55),n=r(37)(\"iterator\"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||i[n]===e)}},function(e,t,r){\"use strict\";var a=r(15),n=r(23);e.exports=function(e,t,r){t in e?a.f(e,t,n(0,r)):e[t]=r}},function(e,t,r){\"use strict\";var a=r(72),n=r(37)(\"iterator\"),i=r(55);e.exports=r(13).getIteratorMethod=function(e){if(null!=e)return e[n]||e[\"@@iterator\"]||i[a(e)]}},function(e,t,r){\"use strict\";var a=r(36),n=r(37)(\"toStringTag\"),i=\"Arguments\"==a(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),n))?r:i?a(t):\"Object\"==(o=a(t))&&\"function\"==typeof t.callee?\"Arguments\":o}},function(e,t,r){\"use strict\";var a=r(37)(\"iterator\"),n=!1;try{var i=[7][a]();i.return=function(){n=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var i=[7],o=i[a]();o.next=function(){return{done:r=!0}},i[a]=function(){return o},e(i)}catch(e){}return r}},function(e,t,r){\"use strict\";r(75),e.exports=r(13).Object.assign},function(e,t,r){\"use strict\";var a=r(11);a(a.S+a.F,\"Object\",{assign:r(76)})},function(e,t,r){\"use strict\";var a=r(59),n=r(77),i=r(78),o=r(66),s=r(48),c=Object.assign;e.exports=!c||r(20)(function(){var e={},t={},r=Symbol(),a=\"abcdefghijklmnopqrst\";return e[r]=7,a.split(\"\").forEach(function(e){t[e]=e}),7!=c({},e)[r]||Object.keys(c({},t)).join(\"\")!=a})?function(e,t){for(var r=o(e),c=arguments.length,l=1,u=n.f,h=i.f;c>l;)for(var f,d=s(arguments[l++]),g=u?a(d).concat(u(d)):a(d),m=g.length,p=0;m>p;)h.call(d,f=g[p++])&&(r[f]=d[f]);return r}:c},function(e,t,r){\"use strict\";t.f=Object.getOwnPropertySymbols},function(e,t,r){\"use strict\";t.f={}.propertyIsEnumerable},function(e,t,r){\"use strict\";r(80),e.exports=r(13).Math.log2},function(e,t,r){\"use strict\";var a=r(11);a(a.S,\"Math\",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,r){\"use strict\";r(82),e.exports=r(13).Number.isNaN},function(e,t,r){\"use strict\";var a=r(11);a(a.S,\"Number\",{isNaN:function(e){return e!=e}})},function(e,t,r){\"use strict\";r(84),e.exports=r(13).Number.isInteger},function(e,t,r){\"use strict\";var a=r(11);a(a.S,\"Number\",{isInteger:r(85)})},function(e,t,r){\"use strict\";var a=r(17),n=Math.floor;e.exports=function(e){return!a(e)&&isFinite(e)&&n(e)===e}},function(e,t,r){\"use strict\";r(87),r(52),r(88),r(91),r(104),r(105),e.exports=r(13).Promise},function(e,t,r){\"use strict\";var a=r(72),n={};n[r(37)(\"toStringTag\")]=\"z\",n+\"\"!=\"[object z]\"&&r(24)(Object.prototype,\"toString\",function(){return\"[object \"+a(this)+\"]\"},!0)},function(e,t,r){\"use strict\";for(var a=r(89),n=r(59),i=r(24),o=r(12),s=r(14),c=r(55),l=r(37),u=l(\"iterator\"),h=l(\"toStringTag\"),f=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=n(d),m=0;m<g.length;m++){var p,v=g[m],b=d[v],y=o[v],w=y&&y.prototype;if(w&&(w[u]||s(w,u,f),w[h]||s(w,h,v),c[v]=f,b))for(p in a)w[p]||i(w,p,a[p],!0)}},function(e,t,r){\"use strict\";var a=r(50),n=r(90),i=r(55),o=r(47);e.exports=r(54)(Array,\"Array\",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,n(1)):n(0,\"keys\"==t?r:\"values\"==t?e[r]:[r,e[r]])},\"values\"),i.Arguments=i.Array,a(\"keys\"),a(\"values\"),a(\"entries\")},function(e,t,r){\"use strict\";e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){\"use strict\";var a,n,i,o,s=r(29),c=r(12),l=r(30),u=r(72),h=r(11),f=r(17),d=r(31),g=r(92),m=r(93),p=r(94),v=r(95).set,b=r(97)(),y=r(98),w=r(99),k=r(100),S=r(101),C=c.TypeError,x=c.process,A=x&&x.versions,_=A&&A.v8||\"\",P=c.Promise,I=\"process\"==u(x),O=function(){},T=n=y.f,E=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[r(37)(\"species\")]=function(e){e(O,O)};return(I||\"function\"==typeof PromiseRejectionEvent)&&e.then(O)instanceof t&&0!==_.indexOf(\"6.6\")&&-1===k.indexOf(\"Chrome/66\")}catch(e){}}(),F=function(e){var t;return!(!f(e)||\"function\"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var r=e._c;b(function(){for(var a=e._v,n=1==e._s,i=0,o=function(t){var r,i,o,s=n?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(n||(2==e._h&&M(e),e._h=1),!0===s?r=a:(u&&u.enter(),r=s(a),u&&(u.exit(),o=!0)),r===t.promise?l(C(\"Promise-chain cycle\")):(i=F(r))?i.call(r,c,l):c(r)):l(a)}catch(e){u&&!o&&u.exit(),l(e)}};r.length>i;)o(r[i++]);e._c=[],e._n=!1,t&&!e._h&&B(e)})}},B=function(e){v.call(c,function(){var t,r,a,n=e._v,i=D(e);if(i&&(t=w(function(){I?x.emit(\"unhandledRejection\",n,e):(r=c.onunhandledrejection)?r({promise:e,reason:n}):(a=c.console)&&a.error&&a.error(\"Unhandled promise rejection\",n)}),e._h=I||D(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){v.call(c,function(){var t;I?x.emit(\"rejectionHandled\",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},N=function e(t){var r,a=this;if(!a._d){a._d=!0,a=a._w||a;try{if(a===t)throw C(\"Promise can't be resolved itself\");(r=F(t))?b(function(){var n={_w:a,_d:!1};try{r.call(t,l(e,n,1),l(L,n,1))}catch(e){L.call(n,e)}}):(a._v=t,a._s=1,R(a,!1))}catch(e){L.call({_w:a,_d:!1},e)}}};E||(P=function(e){g(this,P,\"Promise\",\"_h\"),d(e),a.call(this);try{e(l(N,this,1),l(L,this,1))}catch(e){L.call(this,e)}},(a=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(102)(P.prototype,{then:function(e,t){var r=T(p(this,P));return r.ok=\"function\"!=typeof e||e,r.fail=\"function\"==typeof t&&t,r.domain=I?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new a;this.promise=e,this.resolve=l(N,e,1),this.reject=l(L,e,1)},y.f=T=function(e){return e===P||e===o?new i(e):n(e)}),h(h.G+h.W+h.F*!E,{Promise:P}),r(64)(P,\"Promise\"),r(103)(\"Promise\"),o=r(13).Promise,h(h.S+h.F*!E,\"Promise\",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(s||!E),\"Promise\",{resolve:function(e){return S(s&&this===o?P:this,e)}}),h(h.S+h.F*!(E&&r(73)(function(e){P.all(e).catch(O)})),\"Promise\",{all:function(e){var t=this,r=T(t),a=r.resolve,n=r.reject,i=w(function(){var r=[],i=0,o=1;m(e,!1,function(e){var s=i++,c=!1;r.push(void 0),o++,t.resolve(e).then(function(e){c||(c=!0,r[s]=e,--o||a(r))},n)}),--o||a(r)});return i.e&&n(i.v),r.promise},race:function(e){var t=this,r=T(t),a=r.reject,n=w(function(){m(e,!1,function(e){t.resolve(e).then(r.resolve,a)})});return n.e&&a(n.v),r.promise}})},function(e,t,r){\"use strict\";e.exports=function(e,t,r,a){if(!(e instanceof t)||void 0!==a&&a in e)throw TypeError(r+\": incorrect invocation!\");return e}},function(e,t,r){\"use strict\";var a=r(30),n=r(68),i=r(69),o=r(16),s=r(32),c=r(71),l={},u={},h=e.exports=function(e,t,r,h,f){var d,g,m,p,v=f?function(){return e}:c(e),b=a(r,h,t?2:1),y=0;if(\"function\"!=typeof v)throw TypeError(e+\" is not iterable!\");if(i(v)){for(d=s(e.length);d>y;y++)if((p=t?b(o(g=e[y])[0],g[1]):b(e[y]))===l||p===u)return p}else for(m=v.call(e);!(g=m.next()).done;)if((p=n(m,b,g.value,t))===l||p===u)return p};h.BREAK=l,h.RETURN=u},function(e,t,r){\"use strict\";var a=r(16),n=r(31),i=r(37)(\"species\");e.exports=function(e,t){var r,o=a(e).constructor;return void 0===o||null==(r=a(o)[i])?t:n(r)}},function(e,t,r){\"use strict\";var a,n,i,o=r(30),s=r(96),c=r(63),l=r(21),u=r(12),h=u.process,f=u.setImmediate,d=u.clearImmediate,g=u.MessageChannel,m=u.Dispatch,p=0,v={},b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){b.call(e.data)};f&&d||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++p]=function(){s(\"function\"==typeof e?e:Function(e),t)},a(p),p},d=function(e){delete v[e]},\"process\"==r(36)(h)?a=function(e){h.nextTick(o(b,e,1))}:m&&m.now?a=function(e){m.now(o(b,e,1))}:g?(i=(n=new g).port2,n.port1.onmessage=y,a=o(i.postMessage,i,1)):u.addEventListener&&\"function\"==typeof postMessage&&!u.importScripts?(a=function(e){u.postMessage(e+\"\",\"*\")},u.addEventListener(\"message\",y,!1)):a=\"onreadystatechange\"in l(\"script\")?function(e){c.appendChild(l(\"script\")).onreadystatechange=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(o(b,e,1),0)}),e.exports={set:f,clear:d}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var a=void 0===r;switch(t.length){case 0:return a?e():e.call(r);case 1:return a?e(t[0]):e.call(r,t[0]);case 2:return a?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return a?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return a?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){\"use strict\";var a=r(12),n=r(95).set,i=a.MutationObserver||a.WebKitMutationObserver,o=a.process,s=a.Promise,c=\"process\"==r(36)(o);e.exports=function(){var e,t,r,l=function(){var a,n;for(c&&(a=o.domain)&&a.exit();e;){n=e.fn,e=e.next;try{n()}catch(a){throw e?r():t=void 0,a}}t=void 0,a&&a.enter()};if(c)r=function(){o.nextTick(l)};else if(!i||a.navigator&&a.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);r=function(){u.then(l)}}else r=function(){n.call(a,l)};else{var h=!0,f=document.createTextNode(\"\");new i(l).observe(f,{characterData:!0}),r=function(){f.data=h=!h}}return function(a){var n={fn:a,next:void 0};t&&(t.next=n),e||(e=n,r()),t=n}}},function(e,t,r){\"use strict\";var a=r(31);function n(e){var t,r;this.promise=new e(function(e,a){if(void 0!==t||void 0!==r)throw TypeError(\"Bad Promise constructor\");t=e,r=a}),this.resolve=a(t),this.reject=a(r)}e.exports.f=function(e){return new n(e)}},function(e,t,r){\"use strict\";e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){\"use strict\";var a=r(12).navigator;e.exports=a&&a.userAgent||\"\"},function(e,t,r){\"use strict\";var a=r(16),n=r(17),i=r(98);e.exports=function(e,t){if(a(e),n(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){\"use strict\";var a=r(24);e.exports=function(e,t,r){for(var n in t)a(e,n,t[n],r);return e}},function(e,t,r){\"use strict\";var a=r(12),n=r(15),i=r(19),o=r(37)(\"species\");e.exports=function(e){var t=a[e];i&&t&&!t[o]&&n.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,r){\"use strict\";var a=r(11),n=r(13),i=r(12),o=r(94),s=r(101);a(a.P+a.R,\"Promise\",{finally:function(e){var t=o(this,n.Promise||i.Promise),r=\"function\"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){\"use strict\";var a=r(11),n=r(98),i=r(99);a(a.S,\"Promise\",{try:function(e){var t=n.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){\"use strict\";r(87),r(88),r(107),r(119),r(121),e.exports=r(13).WeakMap},function(e,t,r){\"use strict\";var a,n=r(12),i=r(108)(0),o=r(24),s=r(112),c=r(76),l=r(113),u=r(17),h=r(114),f=r(114),d=!n.ActiveXObject&&\"ActiveXObject\"in n,g=s.getWeak,m=Object.isExtensible,p=l.ufstore,v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(u(e)){var t=g(e);return!0===t?p(h(this,\"WeakMap\")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(h(this,\"WeakMap\"),e,t)}},y=e.exports=r(115)(\"WeakMap\",v,b,l,!0,!0);f&&d&&(c((a=l.getConstructor(v,\"WeakMap\")).prototype,b),s.NEED=!0,i([\"delete\",\"has\",\"get\",\"set\"],function(e){var t=y.prototype,r=t[e];o(t,e,function(t,n){if(u(t)&&!m(t)){this._f||(this._f=new a);var i=this._f[e](t,n);return\"set\"==e?this:i}return r.call(this,t,n)})}))},function(e,t,r){\"use strict\";var a=r(30),n=r(48),i=r(66),o=r(32),s=r(109);e.exports=function(e,t){var r=1==e,c=2==e,l=3==e,u=4==e,h=6==e,f=5==e||h,d=t||s;return function(t,s,g){for(var m,p,v=i(t),b=n(v),y=a(s,g,3),w=o(b.length),k=0,S=r?d(t,w):c?d(t,0):void 0;w>k;k++)if((f||k in b)&&(p=y(m=b[k],k,v),e))if(r)S[k]=p;else if(p)switch(e){case 3:return!0;case 5:return m;case 6:return k;case 2:S.push(m)}else if(u)return!1;return h?-1:l||u?u:S}}},function(e,t,r){\"use strict\";var a=r(110);e.exports=function(e,t){return new(a(e))(t)}},function(e,t,r){\"use strict\";var a=r(17),n=r(111),i=r(37)(\"species\");e.exports=function(e){var t;return n(e)&&(\"function\"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),a(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){\"use strict\";var a=r(36);e.exports=Array.isArray||function(e){return\"Array\"==a(e)}},function(e,t,r){\"use strict\";function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var n=r(26)(\"meta\"),i=r(17),o=r(25),s=r(15).f,c=0,l=Object.isExtensible||function(){return!0},u=!r(20)(function(){return l(Object.preventExtensions({}))}),h=function(e){s(e,n,{value:{i:\"O\"+ ++c,w:{}}})},f=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return\"symbol\"==a(e)?e:(\"string\"==typeof e?\"S\":\"P\")+e;if(!o(e,n)){if(!l(e))return\"F\";if(!t)return\"E\";h(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!l(e))return!0;if(!t)return!1;h(e)}return e[n].w},onFreeze:function(e){return u&&f.NEED&&l(e)&&!o(e,n)&&h(e),e}}},function(e,t,r){\"use strict\";var a=r(102),n=r(112).getWeak,i=r(16),o=r(17),s=r(92),c=r(93),l=r(108),u=r(25),h=r(114),f=l(5),d=l(6),g=0,m=function(e){return e._l||(e._l=new p)},p=function(){this.a=[]},v=function(e,t){return f(e.a,function(e){return e[0]===t})};p.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var r=v(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=d(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,i){var l=e(function(e,a){s(e,l,t,\"_i\"),e._t=t,e._i=g++,e._l=void 0,null!=a&&c(a,r,e[i],e)});return a(l.prototype,{delete:function(e){if(!o(e))return!1;var r=n(e);return!0===r?m(h(this,t)).delete(e):r&&u(r,this._i)&&delete r[this._i]},has:function(e){if(!o(e))return!1;var r=n(e);return!0===r?m(h(this,t)).has(e):r&&u(r,this._i)}}),l},def:function(e,t,r){var a=n(i(t),!0);return!0===a?m(e).set(t,r):a[e._i]=r,e},ufstore:m}},function(e,t,r){\"use strict\";var a=r(17);e.exports=function(e,t){if(!a(e)||e._t!==t)throw TypeError(\"Incompatible receiver, \"+t+\" required!\");return e}},function(e,t,r){\"use strict\";var a=r(12),n=r(11),i=r(24),o=r(102),s=r(112),c=r(93),l=r(92),u=r(17),h=r(20),f=r(73),d=r(64),g=r(116);e.exports=function(e,t,r,m,p,v){var b=a[e],y=b,w=p?\"set\":\"add\",k=y&&y.prototype,S={},C=function(e){var t=k[e];i(k,e,\"delete\"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:\"has\"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:\"get\"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:\"add\"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(\"function\"==typeof y&&(v||k.forEach&&!h(function(){(new y).entries().next()}))){var x=new y,A=x[w](v?{}:-0,1)!=x,_=h(function(){x.has(1)}),P=f(function(e){new y(e)}),I=!v&&h(function(){for(var e=new y,t=5;t--;)e[w](t,t);return!e.has(-0)});P||((y=t(function(t,r){l(t,y,e);var a=g(new b,t,y);return null!=r&&c(r,p,a[w],a),a})).prototype=k,k.constructor=y),(_||I)&&(C(\"delete\"),C(\"has\"),p&&C(\"get\")),(I||A)&&C(w),v&&k.clear&&delete k.clear}else y=m.getConstructor(t,e,p,w),o(y.prototype,r),s.NEED=!0;return d(y,e),S[e]=y,n(n.G+n.W+n.F*(y!=b),S),v||m.setStrong(y,e,p),y}},function(e,t,r){\"use strict\";var a=r(17),n=r(117).set;e.exports=function(e,t,r){var i,o=t.constructor;return o!==r&&\"function\"==typeof o&&(i=o.prototype)!==r.prototype&&a(i)&&n&&n(e,i),e}},function(e,t,r){\"use strict\";var a=r(17),n=r(16),i=function(e,t){if(n(e),!a(t)&&null!==t)throw TypeError(t+\": can't set as prototype!\")};e.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(e,t,a){try{(a=r(30)(Function.call,r(118).f(Object.prototype,\"__proto__\").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:a(e,r),e}}({},!1):void 0),check:i}},function(e,t,r){\"use strict\";var a=r(78),n=r(23),i=r(47),o=r(22),s=r(25),c=r(18),l=Object.getOwnPropertyDescriptor;t.f=r(19)?l:function(e,t){if(e=i(e),t=o(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return n(!a.f.call(e,t),e[t])}},function(e,t,r){\"use strict\";r(120)(\"WeakMap\")},function(e,t,r){\"use strict\";var a=r(11);e.exports=function(e){a(a.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){\"use strict\";r(122)(\"WeakMap\")},function(e,t,r){\"use strict\";var a=r(11),n=r(31),i=r(30),o=r(93);e.exports=function(e){a(a.S,e,{from:function(e){var t,r,a,s,c=arguments[1];return n(this),(t=void 0!==c)&&n(c),null==e?new this:(r=[],t?(a=0,s=i(c,arguments[2],2),o(e,!1,function(e){r.push(s(e,a++))})):o(e,!1,r.push,r),new this(r))}})}},function(e,t,r){\"use strict\";r(87),r(88),r(124),r(125),r(126),e.exports=r(13).WeakSet},function(e,t,r){\"use strict\";var a=r(113),n=r(114);r(115)(\"WeakSet\",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return a.def(n(this,\"WeakSet\"),e,!0)}},a,!1,!0)},function(e,t,r){\"use strict\";r(120)(\"WeakSet\")},function(e,t,r){\"use strict\";r(122)(\"WeakSet\")},function(e,t,r){\"use strict\";r(128),e.exports=r(13).String.codePointAt},function(e,t,r){\"use strict\";var a=r(11),n=r(53)(!1);a(a.P,\"String\",{codePointAt:function(e){return n(this,e)}})},function(e,t,r){\"use strict\";r(130),e.exports=r(13).String.fromCodePoint},function(e,t,r){\"use strict\";var a=r(11),n=r(49),i=String.fromCharCode,o=String.fromCodePoint;a(a.S+a.F*(!!o&&1!=o.length),\"String\",{fromCodePoint:function(e){for(var t,r=[],a=arguments.length,o=0;a>o;){if(t=+arguments[o++],n(t,1114111)!==t)throw RangeError(t+\" is not a valid code point\");r.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return r.join(\"\")}})},function(e,t,r){\"use strict\";r(132),r(87),e.exports=r(13).Symbol},function(e,t,r){\"use strict\";function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var n=r(12),i=r(25),o=r(19),s=r(11),c=r(24),l=r(112).KEY,u=r(20),h=r(28),f=r(64),d=r(26),g=r(37),m=r(133),p=r(134),v=r(135),b=r(111),y=r(16),w=r(17),k=r(47),S=r(22),C=r(23),x=r(57),A=r(136),_=r(118),P=r(15),I=r(59),O=_.f,T=P.f,E=A.f,F=n.Symbol,R=n.JSON,B=R&&R.stringify,D=g(\"_hidden\"),M=g(\"toPrimitive\"),L={}.propertyIsEnumerable,N=h(\"symbol-registry\"),U=h(\"symbols\"),q=h(\"op-symbols\"),j=Object.prototype,z=\"function\"==typeof F,H=n.QObject,W=!H||!H.prototype||!H.prototype.findChild,G=o&&u(function(){return 7!=x(T({},\"a\",{get:function(){return T(this,\"a\",{value:7}).a}})).a})?function(e,t,r){var a=O(j,t);a&&delete j[t],T(e,t,r),a&&e!==j&&T(j,t,a)}:T,X=function(e){var t=U[e]=x(F.prototype);return t._k=e,t},V=z&&\"symbol\"==a(F.iterator)?function(e){return\"symbol\"==a(e)}:function(e){return e instanceof F},K=function(e,t,r){return e===j&&K(q,t,r),y(e),t=S(t,!0),y(r),i(U,t)?(r.enumerable?(i(e,D)&&e[D][t]&&(e[D][t]=!1),r=x(r,{enumerable:C(0,!1)})):(i(e,D)||T(e,D,C(1,{})),e[D][t]=!0),G(e,t,r)):T(e,t,r)},Y=function(e,t){y(e);for(var r,a=v(t=k(t)),n=0,i=a.length;i>n;)K(e,r=a[n++],t[r]);return e},J=function(e){var t=L.call(this,e=S(e,!0));return!(this===j&&i(U,e)&&!i(q,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,D)&&this[D][e])||t)},Z=function(e,t){if(e=k(e),t=S(t,!0),e!==j||!i(U,t)||i(q,t)){var r=O(e,t);return!r||!i(U,t)||i(e,D)&&e[D][t]||(r.enumerable=!0),r}},Q=function(e){for(var t,r=E(k(e)),a=[],n=0;r.length>n;)i(U,t=r[n++])||t==D||t==l||a.push(t);return a},$=function(e){for(var t,r=e===j,a=E(r?q:k(e)),n=[],o=0;a.length>o;)!i(U,t=a[o++])||r&&!i(j,t)||n.push(U[t]);return n};z||(c((F=function(){if(this instanceof F)throw TypeError(\"Symbol is not a constructor!\");var e=d(arguments.length>0?arguments[0]:void 0);return o&&W&&G(j,e,{configurable:!0,set:function t(r){this===j&&t.call(q,r),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),G(this,e,C(1,r))}}),X(e)}).prototype,\"toString\",function(){return this._k}),_.f=Z,P.f=K,r(137).f=A.f=Q,r(78).f=J,r(77).f=$,o&&!r(29)&&c(j,\"propertyIsEnumerable\",J,!0),m.f=function(e){return X(g(e))}),s(s.G+s.W+s.F*!z,{Symbol:F});for(var ee=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),te=0;ee.length>te;)g(ee[te++]);for(var re=I(g.store),ae=0;re.length>ae;)p(re[ae++]);s(s.S+s.F*!z,\"Symbol\",{for:function(e){return i(N,e+=\"\")?N[e]:N[e]=F(e)},keyFor:function(e){if(!V(e))throw TypeError(e+\" is not a symbol!\");for(var t in N)if(N[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!z,\"Object\",{create:function(e,t){return void 0===t?x(e):Y(x(e),t)},defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:$}),R&&s(s.S+s.F*(!z||u(function(){var e=F();return\"[null]\"!=B([e])||\"{}\"!=B({a:e})||\"{}\"!=B(Object(e))})),\"JSON\",{stringify:function(e){for(var t,r,a=[e],n=1;arguments.length>n;)a.push(arguments[n++]);if(r=t=a[1],(w(t)||void 0!==e)&&!V(e))return b(t)||(t=function(e,t){if(\"function\"==typeof r&&(t=r.call(this,e,t)),!V(t))return t}),a[1]=t,B.apply(R,a)}}),F.prototype[M]||r(14)(F.prototype,M,F.prototype.valueOf),f(F,\"Symbol\"),f(Math,\"Math\",!0),f(n.JSON,\"JSON\",!0)},function(e,t,r){\"use strict\";t.f=r(37)},function(e,t,r){\"use strict\";var a=r(12),n=r(13),i=r(29),o=r(133),s=r(15).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=i?{}:a.Symbol||{});\"_\"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,r){\"use strict\";var a=r(59),n=r(77),i=r(78);e.exports=function(e){var t=a(e),r=n.f;if(r)for(var o,s=r(e),c=i.f,l=0;s.length>l;)c.call(e,o=s[l++])&&t.push(o);return t}},function(e,t,r){\"use strict\";function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var n=r(47),i=r(137).f,o={}.toString,s=\"object\"==(\"undefined\"==typeof window?\"undefined\":a(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&\"[object Window]\"==o.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(n(e))}},function(e,t,r){\"use strict\";var a=r(60),n=r(62).concat(\"length\",\"prototype\");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},function(e,t,r){\"use strict\";r(139),e.exports=r(13).String.padStart},function(e,t,r){\"use strict\";var a=r(11),n=r(140),i=r(100),o=/Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(i);a(a.P+a.F*o,\"String\",{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,r){\"use strict\";var a=r(32),n=r(141),i=r(38);e.exports=function(e,t,r,o){var s=String(i(e)),c=s.length,l=void 0===r?\" \":String(r),u=a(t);if(u<=c||\"\"==l)return s;var h=u-c,f=n.call(l,Math.ceil(h/l.length));return f.length>h&&(f=f.slice(0,h)),o?f+s:s+f}},function(e,t,r){\"use strict\";var a=r(33),n=r(38);e.exports=function(e){var t=String(n(this)),r=\"\",i=a(e);if(i<0||i==1/0)throw RangeError(\"Count can't be negative\");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}},function(e,t,r){\"use strict\";r(143),e.exports=r(13).String.padEnd},function(e,t,r){\"use strict\";var a=r(11),n=r(140),i=r(100),o=/Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(i);a(a.P+a.F*o,\"String\",{padEnd:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,r){\"use strict\";r(145),e.exports=r(13).Object.values},function(e,t,r){\"use strict\";var a=r(11),n=r(146)(!1);a(a.S,\"Object\",{values:function(e){return n(e)}})},function(e,t,r){\"use strict\";var a=r(59),n=r(47),i=r(78).f;e.exports=function(e){return function(t){for(var r,o=n(t),s=a(o),c=s.length,l=0,u=[];c>l;)i.call(o,r=s[l++])&&u.push(e?[r,o[r]]:o[r]);return u}}},function(e,t,r){\"use strict\";var a=!1;if(\"undefined\"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),a=!0}catch(e){}t.ReadableStream=a?ReadableStream:r(148).ReadableStream},function(e,t,r){\"use strict\";function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}!function(e,t){for(var r in t)e[r]=t[r]}(t,function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=7)}([function(e,t,r){var n=\"function\"==typeof Symbol&&\"symbol\"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":a(e)},i=r(1).assert;function o(e){return\"string\"==typeof e||\"symbol\"===(void 0===e?\"undefined\":n(e))}function s(e,t,r){if(\"function\"!=typeof e)throw new TypeError(\"Argument is not a function\");return Function.prototype.apply.call(e,t,r)}t.typeIsObject=function(e){return\"object\"===(void 0===e?\"undefined\":n(e))&&null!==e||\"function\"==typeof e},t.createDataProperty=function(e,r,a){i(t.typeIsObject(e)),Object.defineProperty(e,r,{value:a,writable:!0,enumerable:!0,configurable:!0})},t.createArrayFromList=function(e){return e.slice()},t.ArrayBufferCopy=function(e,t,r,a,n){new Uint8Array(e).set(new Uint8Array(r,a,n),t)},t.CreateIterResultObject=function(e,t){i(\"boolean\"==typeof t);var r={};return Object.defineProperty(r,\"value\",{value:e,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(r,\"done\",{value:t,enumerable:!0,writable:!0,configurable:!0}),r},t.IsFiniteNonNegativeNumber=function(e){return!Number.isNaN(e)&&(e!==1/0&&!(e<0))},t.InvokeOrNoop=function(e,t,r){i(void 0!==e),i(o(t)),i(Array.isArray(r));var a=e[t];if(void 0!==a)return s(a,e,r)},t.PromiseInvokeOrNoop=function(e,r,a){i(void 0!==e),i(o(r)),i(Array.isArray(a));try{return Promise.resolve(t.InvokeOrNoop(e,r,a))}catch(e){return Promise.reject(e)}},t.PromiseInvokeOrPerformFallback=function(e,t,r,a,n){i(void 0!==e),i(o(t)),i(Array.isArray(r)),i(Array.isArray(n));var c=void 0;try{c=e[t]}catch(e){return Promise.reject(e)}if(void 0===c)return a.apply(null,n);try{return Promise.resolve(s(c,e,r))}catch(e){return Promise.reject(e)}},t.TransferArrayBuffer=function(e){return e.slice()},t.ValidateAndNormalizeHighWaterMark=function(e){if(e=Number(e),Number.isNaN(e)||e<0)throw new RangeError(\"highWaterMark property of a queuing strategy must be non-negative and non-NaN\");return e},t.ValidateAndNormalizeQueuingStrategy=function(e,r){if(void 0!==e&&\"function\"!=typeof e)throw new TypeError(\"size property of a queuing strategy must be a function\");return{size:e,highWaterMark:r=t.ValidateAndNormalizeHighWaterMark(r)}}},function(e,t,r){function a(e){this.name=\"AssertionError\",this.message=e||\"\",this.stack=(new Error).stack}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,e.exports={rethrowAssertionErrorRejection:function(e){e&&e.constructor===a&&setTimeout(function(){throw e},0)},AssertionError:a,assert:function(e,t){if(!e)throw new a(t)}}},function(e,t,r){var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var i=r(0),o=i.InvokeOrNoop,s=i.PromiseInvokeOrNoop,c=i.ValidateAndNormalizeQueuingStrategy,l=i.typeIsObject,u=r(1),h=u.assert,f=u.rethrowAssertionErrorRejection,d=r(3),g=d.DequeueValue,m=d.EnqueueValueWithSize,p=d.PeekQueueValue,v=d.ResetQueue,b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.size,i=r.highWaterMark,o=void 0===i?1:i;if(n(this,e),this._state=\"writable\",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1,void 0!==t.type)throw new RangeError(\"Invalid type is specified\");this._writableStreamController=new N(this,t,a,o),this._writableStreamController.__startSteps()}return a(e,[{key:\"abort\",value:function(e){return!1===w(this)?Promise.reject(W(\"abort\")):!0===k(this)?Promise.reject(new TypeError(\"Cannot abort a stream that already has a writer\")):S(this,e)}},{key:\"getWriter\",value:function(){if(!1===w(this))throw W(\"getWriter\");return y(this)}},{key:\"locked\",get:function(){if(!1===w(this))throw W(\"locked\");return k(this)}}]),e}();function y(e){return new E(e)}function w(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_writableStreamController\")}function k(e){return h(!0===w(e),\"IsWritableStreamLocked should only be used on known writable streams\"),void 0!==e._writer}function S(e,t){var r=e._state;if(\"closed\"===r)return Promise.resolve(void 0);if(\"errored\"===r)return Promise.reject(e._storedError);var a=new TypeError(\"Requested to abort\");if(void 0!==e._pendingAbortRequest)return Promise.reject(a);h(\"writable\"===r||\"erroring\"===r,\"state must be writable or erroring\");var n=!1;\"erroring\"===r&&(n=!0,t=void 0);var i=new Promise(function(r,a){e._pendingAbortRequest={_resolve:r,_reject:a,_reason:t,_wasAlreadyErroring:n}});return!1===n&&x(e,a),i}function C(e,t){var r=e._state;\"writable\"!==r?(h(\"erroring\"===r),A(e)):x(e,t)}function x(e,t){h(void 0===e._storedError,\"stream._storedError === undefined\"),h(\"writable\"===e._state,\"state must be writable\");var r=e._writableStreamController;h(void 0!==r,\"controller must not be undefined\"),e._state=\"erroring\",e._storedError=t;var a=e._writer;void 0!==a&&D(a,t),!1===I(e)&&!0===r._started&&A(e)}function A(e){h(\"erroring\"===e._state,\"stream._state === erroring\"),h(!1===I(e),\"WritableStreamHasOperationMarkedInFlight(stream) === false\"),e._state=\"errored\",e._writableStreamController.__errorSteps();for(var t=e._storedError,r=0;r<e._writeRequests.length;r++){e._writeRequests[r]._reject(t)}if(e._writeRequests=[],void 0!==e._pendingAbortRequest){var a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===a._wasAlreadyErroring)return a._reject(t),void O(e);e._writableStreamController.__abortSteps(a._reason).then(function(){a._resolve(),O(e)},function(t){a._reject(t),O(e)})}else O(e)}function _(e){h(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var t=e._state;h(\"writable\"===t||\"erroring\"===t),\"erroring\"===t&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state=\"closed\";var r=e._writer;void 0!==r&&function(e){h(void 0!==e._closedPromise_resolve,\"writer._closedPromise_resolve !== undefined\"),h(void 0!==e._closedPromise_reject,\"writer._closedPromise_reject !== undefined\"),h(\"pending\"===e._closedPromiseState,\"writer._closedPromiseState is pending\"),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState=\"resolved\"}(r),h(void 0===e._pendingAbortRequest,\"stream._pendingAbortRequest === undefined\"),h(void 0===e._storedError,\"stream._storedError === undefined\")}function P(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function I(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function O(e){h(\"errored\"===e._state,'_stream_.[[state]] is `\"errored\"`'),void 0!==e._closeRequest&&(h(void 0===e._inFlightCloseRequest),e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&(K(t,e._storedError),t._closedPromise.catch(function(){}))}function T(e,t){h(\"writable\"===e._state),h(!1===P(e));var r=e._writer;void 0!==r&&t!==e._backpressure&&(!0===t?function(e){h(void 0===e._readyPromise_resolve,\"writer._readyPromise_resolve === undefined\"),h(void 0===e._readyPromise_reject,\"writer._readyPromise_reject === undefined\"),e._readyPromise=new Promise(function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState=\"pending\"}(r):(h(!1===t),Z(r))),e._backpressure=t}e.exports={AcquireWritableStreamDefaultWriter:y,IsWritableStream:w,IsWritableStreamLocked:k,WritableStream:b,WritableStreamAbort:S,WritableStreamDefaultControllerError:H,WritableStreamDefaultWriterCloseWithErrorPropagation:function(e){var t=e._ownerWritableStream;h(void 0!==t);var r=t._state;if(!0===P(t)||\"closed\"===r)return Promise.resolve();if(\"errored\"===r)return Promise.reject(t._storedError);return h(\"writable\"===r||\"erroring\"===r),R(e)},WritableStreamDefaultWriterRelease:M,WritableStreamDefaultWriterWrite:L,WritableStreamCloseQueuedOrInFlight:P};var E=function(){function e(t){if(n(this,e),!1===w(t))throw new TypeError(\"WritableStreamDefaultWriter can only be constructed with a WritableStream instance\");if(!0===k(t))throw new TypeError(\"This stream has already been locked for exclusive writing by another writer\");this._ownerWritableStream=t,t._writer=this;var r,a=t._state;if(\"writable\"===a)!1===P(t)&&!0===t._backpressure?((r=this)._readyPromise=new Promise(function(e,t){r._readyPromise_resolve=e,r._readyPromise_reject=t}),r._readyPromiseState=\"pending\"):J(this),V(this);else if(\"erroring\"===a)Y(this,t._storedError),this._readyPromise.catch(function(){}),V(this);else if(\"closed\"===a)J(this),function(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState=\"resolved\"}(this);else{h(\"errored\"===a,\"state must be errored\");var i=t._storedError;Y(this,i),this._readyPromise.catch(function(){}),function(e,t){e._closedPromise=Promise.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState=\"rejected\"}(this,i),this._closedPromise.catch(function(){})}}return a(e,[{key:\"abort\",value:function(e){return!1===F(this)?Promise.reject(G(\"abort\")):void 0===this._ownerWritableStream?Promise.reject(X(\"abort\")):function(e,t){var r=e._ownerWritableStream;return h(void 0!==r),S(r,t)}(this,e)}},{key:\"close\",value:function(){if(!1===F(this))return Promise.reject(G(\"close\"));var e=this._ownerWritableStream;return void 0===e?Promise.reject(X(\"close\")):!0===P(e)?Promise.reject(new TypeError(\"cannot close an already-closing stream\")):R(this)}},{key:\"releaseLock\",value:function(){if(!1===F(this))throw G(\"releaseLock\");var e=this._ownerWritableStream;void 0!==e&&(h(void 0!==e._writer),M(this))}},{key:\"write\",value:function(e){return!1===F(this)?Promise.reject(G(\"write\")):void 0===this._ownerWritableStream?Promise.reject(X(\"write to\")):L(this,e)}},{key:\"closed\",get:function(){return!1===F(this)?Promise.reject(G(\"closed\")):this._closedPromise}},{key:\"desiredSize\",get:function(){if(!1===F(this))throw G(\"desiredSize\");if(void 0===this._ownerWritableStream)throw X(\"desiredSize\");return function(e){var t=e._ownerWritableStream,r=t._state;if(\"errored\"===r||\"erroring\"===r)return null;if(\"closed\"===r)return 0;return U(t._writableStreamController)}(this)}},{key:\"ready\",get:function(){return!1===F(this)?Promise.reject(G(\"ready\")):this._readyPromise}}]),e}();function F(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_ownerWritableStream\")}function R(e){var t=e._ownerWritableStream;h(void 0!==t);var r=t._state;if(\"closed\"===r||\"errored\"===r)return Promise.reject(new TypeError(\"The stream (in \"+r+\" state) is not in the writable state and cannot be closed\"));h(\"writable\"===r||\"erroring\"===r),h(!1===P(t));var a,n=new Promise(function(e,r){var a={_resolve:e,_reject:r};t._closeRequest=a});return!0===t._backpressure&&\"writable\"===r&&Z(e),a=t._writableStreamController,m(a,\"close\",0),q(a),n}function B(e,t){\"pending\"===e._closedPromiseState?K(e,t):function(e,t){h(void 0===e._closedPromise_resolve,\"writer._closedPromise_resolve === undefined\"),h(void 0===e._closedPromise_reject,\"writer._closedPromise_reject === undefined\"),h(\"pending\"!==e._closedPromiseState,\"writer._closedPromiseState is not pending\"),e._closedPromise=Promise.reject(t),e._closedPromiseState=\"rejected\"}(e,t),e._closedPromise.catch(function(){})}function D(e,t){\"pending\"===e._readyPromiseState?function(e,t){h(void 0!==e._readyPromise_resolve,\"writer._readyPromise_resolve !== undefined\"),h(void 0!==e._readyPromise_reject,\"writer._readyPromise_reject !== undefined\"),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState=\"rejected\"}(e,t):function(e,t){h(void 0===e._readyPromise_resolve,\"writer._readyPromise_resolve === undefined\"),h(void 0===e._readyPromise_reject,\"writer._readyPromise_reject === undefined\"),e._readyPromise=Promise.reject(t),e._readyPromiseState=\"rejected\"}(e,t),e._readyPromise.catch(function(){})}function M(e){var t=e._ownerWritableStream;h(void 0!==t),h(t._writer===e);var r=new TypeError(\"Writer was released and can no longer be used to monitor the stream's closedness\");D(e,r),B(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function L(e,t){var r=e._ownerWritableStream;h(void 0!==r);var a=r._writableStreamController,n=function(e,t){var r=e._strategySize;if(void 0===r)return 1;try{return r(t)}catch(t){return j(e,t),1}}(a,t);if(r!==e._ownerWritableStream)return Promise.reject(X(\"write to\"));var i=r._state;if(\"errored\"===i)return Promise.reject(r._storedError);if(!0===P(r)||\"closed\"===i)return Promise.reject(new TypeError(\"The stream is closing or closed and cannot be written to\"));if(\"erroring\"===i)return Promise.reject(r._storedError);h(\"writable\"===i);var o=function(e){return h(!0===k(e)),h(\"writable\"===e._state),new Promise(function(t,r){var a={_resolve:t,_reject:r};e._writeRequests.push(a)})}(r);return function(e,t,r){var a={chunk:t};try{m(e,a,r)}catch(t){return void j(e,t)}var n=e._controlledWritableStream;if(!1===P(n)&&\"writable\"===n._state){var i=z(e);T(n,i)}q(e)}(a,t,n),o}var N=function(){function e(t,r,a,i){if(n(this,e),!1===w(t))throw new TypeError(\"WritableStreamDefaultController can only be constructed with a WritableStream instance\");if(void 0!==t._writableStreamController)throw new TypeError(\"WritableStreamDefaultController instances can only be created by the WritableStream constructor\");this._controlledWritableStream=t,this._underlyingSink=r,this._queue=void 0,this._queueTotalSize=void 0,v(this),this._started=!1;var o=c(a,i);this._strategySize=o.size,this._strategyHWM=o.highWaterMark,T(t,z(this))}return a(e,[{key:\"error\",value:function(e){if(!1===function(e){if(!l(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,\"_underlyingSink\"))return!1;return!0}(this))throw new TypeError(\"WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController\");\"writable\"===this._controlledWritableStream._state&&H(this,e)}},{key:\"__abortSteps\",value:function(e){return s(this._underlyingSink,\"abort\",[e])}},{key:\"__errorSteps\",value:function(){v(this)}},{key:\"__startSteps\",value:function(){var e=this,t=o(this._underlyingSink,\"start\",[this]),r=this._controlledWritableStream;Promise.resolve(t).then(function(){h(\"writable\"===r._state||\"erroring\"===r._state),e._started=!0,q(e)},function(t){h(\"writable\"===r._state||\"erroring\"===r._state),e._started=!0,C(r,t)}).catch(f)}}]),e}();function U(e){return e._strategyHWM-e._queueTotalSize}function q(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest){var r=t._state;if(\"closed\"!==r&&\"errored\"!==r)if(\"erroring\"!==r){if(0!==e._queue.length){var a=p(e);\"close\"===a?function(e){var t=e._controlledWritableStream;(function(e){h(void 0===e._inFlightCloseRequest),h(void 0!==e._closeRequest),e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),g(e),h(0===e._queue.length,\"queue must be empty once the final write record is dequeued\"),s(e._underlyingSink,\"close\",[]).then(function(){_(t)},function(e){!function(e,t){h(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,h(\"writable\"===e._state||\"erroring\"===e._state),void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),C(e,t)}(t,e)}).catch(f)}(e):function(e,t){var r=e._controlledWritableStream;(function(e){h(void 0===e._inFlightWriteRequest,\"there must be no pending write request\"),h(0!==e._writeRequests.length,\"writeRequests must not be empty\"),e._inFlightWriteRequest=e._writeRequests.shift()})(r),s(e._underlyingSink,\"write\",[t,e]).then(function(){!function(e){h(void 0!==e._inFlightWriteRequest),e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);var t=r._state;if(h(\"writable\"===t||\"erroring\"===t),g(e),!1===P(r)&&\"writable\"===t){var a=z(e);T(r,a)}q(e)},function(e){!function(e,t){h(void 0!==e._inFlightWriteRequest),e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,h(\"writable\"===e._state||\"erroring\"===e._state),C(e,t)}(r,e)}).catch(f)}(e,a.chunk)}}else A(t)}}function j(e,t){\"writable\"===e._controlledWritableStream._state&&H(e,t)}function z(e){return U(e)<=0}function H(e,t){var r=e._controlledWritableStream;h(\"writable\"===r._state),x(r,t)}function W(e){return new TypeError(\"WritableStream.prototype.\"+e+\" can only be used on a WritableStream\")}function G(e){return new TypeError(\"WritableStreamDefaultWriter.prototype.\"+e+\" can only be used on a WritableStreamDefaultWriter\")}function X(e){return new TypeError(\"Cannot \"+e+\" a stream using a released writer\")}function V(e){e._closedPromise=new Promise(function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState=\"pending\"})}function K(e,t){h(void 0!==e._closedPromise_resolve,\"writer._closedPromise_resolve !== undefined\"),h(void 0!==e._closedPromise_reject,\"writer._closedPromise_reject !== undefined\"),h(\"pending\"===e._closedPromiseState,\"writer._closedPromiseState is pending\"),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState=\"rejected\"}function Y(e,t){e._readyPromise=Promise.reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState=\"rejected\"}function J(e){e._readyPromise=Promise.resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState=\"fulfilled\"}function Z(e){h(void 0!==e._readyPromise_resolve,\"writer._readyPromise_resolve !== undefined\"),h(void 0!==e._readyPromise_reject,\"writer._readyPromise_reject !== undefined\"),e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState=\"fulfilled\"}},function(e,t,r){var a=r(0).IsFiniteNonNegativeNumber,n=r(1).assert;t.DequeueValue=function(e){n(\"_queue\"in e&&\"_queueTotalSize\"in e,\"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].\"),n(e._queue.length>0,\"Spec-level failure: should never dequeue from an empty queue.\");var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value},t.EnqueueValueWithSize=function(e,t,r){if(n(\"_queue\"in e&&\"_queueTotalSize\"in e,\"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]].\"),r=Number(r),!a(r))throw new RangeError(\"Size must be a finite, non-NaN, non-negative number.\");e._queue.push({value:t,size:r}),e._queueTotalSize+=r},t.PeekQueueValue=function(e){return n(\"_queue\"in e&&\"_queueTotalSize\"in e,\"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].\"),n(e._queue.length>0,\"Spec-level failure: should never peek at an empty queue.\"),e._queue[0].value},t.ResetQueue=function(e){n(\"_queue\"in e&&\"_queueTotalSize\"in e,\"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].\"),e._queue=[],e._queueTotalSize=0}},function(e,t,r){var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var i=r(0),o=i.ArrayBufferCopy,s=i.CreateIterResultObject,c=i.IsFiniteNonNegativeNumber,l=i.InvokeOrNoop,u=i.PromiseInvokeOrNoop,h=i.TransferArrayBuffer,f=i.ValidateAndNormalizeQueuingStrategy,d=i.ValidateAndNormalizeHighWaterMark,g=r(0),m=g.createArrayFromList,p=g.createDataProperty,v=g.typeIsObject,b=r(1),y=b.assert,w=b.rethrowAssertionErrorRejection,k=r(3),S=k.DequeueValue,C=k.EnqueueValueWithSize,x=k.ResetQueue,A=r(2),_=A.AcquireWritableStreamDefaultWriter,P=A.IsWritableStream,I=A.IsWritableStreamLocked,O=A.WritableStreamAbort,T=A.WritableStreamDefaultWriterCloseWithErrorPropagation,E=A.WritableStreamDefaultWriterRelease,F=A.WritableStreamDefaultWriterWrite,R=A.WritableStreamCloseQueuedOrInFlight,B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.size,i=r.highWaterMark;n(this,e),this._state=\"readable\",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;var o=t.type;if(\"bytes\"===String(o))void 0===i&&(i=0),this._readableStreamController=new fe(this,t,i);else{if(void 0!==o)throw new RangeError(\"Invalid type is specified\");void 0===i&&(i=1),this._readableStreamController=new ae(this,t,a,i)}}return a(e,[{key:\"cancel\",value:function(e){return!1===M(this)?Promise.reject(Oe(\"cancel\")):!0===L(this)?Promise.reject(new TypeError(\"Cannot cancel a stream that already has a reader\")):j(this,e)}},{key:\"getReader\",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===M(this))throw Oe(\"getReader\");if(void 0===e)return D(this);if(\"byob\"===(e=String(e)))return new J(this);throw new RangeError(\"Invalid mode is specified\")}},{key:\"pipeThrough\",value:function(e,t){var r=e.writable,a=e.readable;return function(e){try{Promise.prototype.then.call(e,void 0,function(){})}catch(e){}}(this.pipeTo(r,t)),a}},{key:\"pipeTo\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.preventClose,n=r.preventAbort,i=r.preventCancel;if(!1===M(this))return Promise.reject(Oe(\"pipeTo\"));if(!1===P(e))return Promise.reject(new TypeError(\"ReadableStream.prototype.pipeTo's first argument must be a WritableStream\"));if(a=Boolean(a),n=Boolean(n),i=Boolean(i),!0===L(this))return Promise.reject(new TypeError(\"ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream\"));if(!0===I(e))return Promise.reject(new TypeError(\"ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream\"));var o=D(this),s=_(e),c=!1,l=Promise.resolve();return new Promise(function(r,u){var h,f,d;if(p(t,o._closedPromise,function(t){!1===n?v(function(){return O(e,t)},!0,t):b(!0,t)}),p(e,s._closedPromise,function(e){!1===i?v(function(){return j(t,e)},!0,e):b(!0,e)}),h=t,f=o._closedPromise,d=function(){!1===a?v(function(){return T(s)}):b()},\"closed\"===h._state?d():f.then(d).catch(w),!0===R(e)||\"closed\"===e._state){var g=new TypeError(\"the destination writable stream closed before all data could be piped to it\");!1===i?v(function(){return j(t,g)},!0,g):b(!0,g)}function m(){var e=l;return l.then(function(){return e!==l?m():void 0})}function p(e,t,r){\"errored\"===e._state?r(e._storedError):t.catch(r).catch(w)}function v(t,r,a){function n(){t().then(function(){return y(r,a)},function(e){return y(!0,e)}).catch(w)}!0!==c&&(c=!0,\"writable\"===e._state&&!1===R(e)?m().then(n):n())}function b(t,r){!0!==c&&(c=!0,\"writable\"===e._state&&!1===R(e)?m().then(function(){return y(t,r)}).catch(w):y(t,r))}function y(e,t){E(s),te(o),e?u(t):r(void 0)}(function e(){return l=Promise.resolve(),!0===c?Promise.resolve():s._readyPromise.then(function(){return re(o).then(function(e){var t=e.value;!0!==e.done&&(l=F(s,t).catch(function(){}))})}).then(e)})().catch(function(e){l=Promise.resolve(),w(e)})})}},{key:\"tee\",value:function(){if(!1===M(this))throw Oe(\"tee\");var e=N(this,!1);return m(e)}},{key:\"locked\",get:function(){if(!1===M(this))throw Oe(\"locked\");return L(this)}}]),e}();function D(e){return new Y(e)}function M(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_readableStreamController\")}function L(e){return y(!0===M(e),\"IsReadableStreamLocked should only be used on known readable streams\"),void 0!==e._reader}function N(e,t){y(!0===M(e)),y(\"boolean\"==typeof t);var r=D(e),a={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};a.promise=new Promise(function(e){a._resolve=e});var n=function(){return function e(){var t=e._reader,r=e._branch1,a=e._branch2,n=e._teeState;return re(t).then(function(e){y(v(e));var t=e.value,i=e.done;if(y(\"boolean\"==typeof i),!0===i&&!1===n.closedOrErrored&&(!1===n.canceled1&&oe(r),!1===n.canceled2&&oe(a),n.closedOrErrored=!0),!0!==n.closedOrErrored){var o=t,s=t;!1===n.canceled1&&se(r,o),!1===n.canceled2&&se(a,s)}})}}();n._reader=r,n._teeState=a,n._cloneForBranch2=t;var i=function(){return function e(t){var r=e._stream,a=e._teeState;a.canceled1=!0;a.reason1=t;if(!0===a.canceled2){var n=m([a.reason1,a.reason2]),i=j(r,n);a._resolve(i)}return a.promise}}();i._stream=e,i._teeState=a;var o=function(){return function e(t){var r=e._stream,a=e._teeState;a.canceled2=!0;a.reason2=t;if(!0===a.canceled1){var n=m([a.reason1,a.reason2]),i=j(r,n);a._resolve(i)}return a.promise}}();o._stream=e,o._teeState=a;var s=Object.create(Object.prototype);p(s,\"pull\",n),p(s,\"cancel\",i);var c=new B(s),l=Object.create(Object.prototype);p(l,\"pull\",n),p(l,\"cancel\",o);var u=new B(l);return n._branch1=c._readableStreamController,n._branch2=u._readableStreamController,r._closedPromise.catch(function(e){!0!==a.closedOrErrored&&(ce(n._branch1,e),ce(n._branch2,e),a.closedOrErrored=!0)}),[c,u]}function U(e){return y(!0===Z(e._reader)),y(\"readable\"===e._state||\"closed\"===e._state),new Promise(function(t,r){var a={_resolve:t,_reject:r};e._reader._readIntoRequests.push(a)})}function q(e){return y(!0===Q(e._reader)),y(\"readable\"===e._state),new Promise(function(t,r){var a={_resolve:t,_reject:r};e._reader._readRequests.push(a)})}function j(e,t){return e._disturbed=!0,\"closed\"===e._state?Promise.resolve(void 0):\"errored\"===e._state?Promise.reject(e._storedError):(z(e),e._readableStreamController.__cancelSteps(t).then(function(){}))}function z(e){y(\"readable\"===e._state),e._state=\"closed\";var t=e._reader;if(void 0!==t){if(!0===Q(t)){for(var r=0;r<t._readRequests.length;r++){(0,t._readRequests[r]._resolve)(s(void 0,!0))}t._readRequests=[]}!function(e){y(void 0!==e._closedPromise_resolve),y(void 0!==e._closedPromise_reject),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(t)}}function H(e,t){y(!0===M(e),\"stream must be ReadableStream\"),y(\"readable\"===e._state,\"state must be readable\"),e._state=\"errored\",e._storedError=t;var r=e._reader;if(void 0!==r){if(!0===Q(r)){for(var a=0;a<r._readRequests.length;a++){r._readRequests[a]._reject(t)}r._readRequests=[]}else{y(Z(r),\"reader must be ReadableStreamBYOBReader\");for(var n=0;n<r._readIntoRequests.length;n++){r._readIntoRequests[n]._reject(t)}r._readIntoRequests=[]}Fe(r,t),r._closedPromise.catch(function(){})}}function W(e,t,r){var a=e._reader;y(a._readRequests.length>0),a._readRequests.shift()._resolve(s(t,r))}function G(e){return e._reader._readIntoRequests.length}function X(e){return e._reader._readRequests.length}function V(e){var t=e._reader;return void 0!==t&&!1!==Z(t)}function K(e){var t=e._reader;return void 0!==t&&!1!==Q(t)}e.exports={ReadableStream:B,IsReadableStreamDisturbed:function(e){return y(!0===M(e),\"IsReadableStreamDisturbed should only be used on known readable streams\"),e._disturbed},ReadableStreamDefaultControllerClose:oe,ReadableStreamDefaultControllerEnqueue:se,ReadableStreamDefaultControllerError:ce,ReadableStreamDefaultControllerGetDesiredSize:ue};var Y=function(){function e(t){if(n(this,e),!1===M(t))throw new TypeError(\"ReadableStreamDefaultReader can only be constructed with a ReadableStream instance\");if(!0===L(t))throw new TypeError(\"This stream has already been locked for exclusive reading by another reader\");$(this,t),this._readRequests=[]}return a(e,[{key:\"cancel\",value:function(e){return!1===Q(this)?Promise.reject(Ee(\"cancel\")):void 0===this._ownerReadableStream?Promise.reject(Te(\"cancel\")):ee(this,e)}},{key:\"read\",value:function(){return!1===Q(this)?Promise.reject(Ee(\"read\")):void 0===this._ownerReadableStream?Promise.reject(Te(\"read from\")):re(this)}},{key:\"releaseLock\",value:function(){if(!1===Q(this))throw Ee(\"releaseLock\");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError(\"Tried to release a reader lock when that reader has pending read() calls un-settled\");te(this)}}},{key:\"closed\",get:function(){return!1===Q(this)?Promise.reject(Ee(\"closed\")):this._closedPromise}}]),e}(),J=function(){function e(t){if(n(this,e),!M(t))throw new TypeError(\"ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source\");if(!1===de(t._readableStreamController))throw new TypeError(\"Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source\");if(L(t))throw new TypeError(\"This stream has already been locked for exclusive reading by another reader\");$(this,t),this._readIntoRequests=[]}return a(e,[{key:\"cancel\",value:function(e){return Z(this)?void 0===this._ownerReadableStream?Promise.reject(Te(\"cancel\")):ee(this,e):Promise.reject(Re(\"cancel\"))}},{key:\"read\",value:function(e){return Z(this)?void 0===this._ownerReadableStream?Promise.reject(Te(\"read from\")):ArrayBuffer.isView(e)?0===e.byteLength?Promise.reject(new TypeError(\"view must have non-zero byteLength\")):function(e,t){var r=e._ownerReadableStream;if(y(void 0!==r),r._disturbed=!0,\"errored\"===r._state)return Promise.reject(r._storedError);return function(e,t){var r=e._controlledReadableStream,a=1;t.constructor!==DataView&&(a=t.constructor.BYTES_PER_ELEMENT);var n=t.constructor,i={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:a,ctor:n,readerType:\"byob\"};if(e._pendingPullIntos.length>0)return i.buffer=h(i.buffer),e._pendingPullIntos.push(i),U(r);if(\"closed\"===r._state){var o=new t.constructor(i.buffer,i.byteOffset,0);return Promise.resolve(s(o,!0))}if(e._queueTotalSize>0){if(!0===we(e,i)){var c=be(i);return Se(e),Promise.resolve(s(c,!1))}if(!0===e._closeRequested){var l=new TypeError(\"Insufficient bytes to fill elements in the given buffer\");return Pe(e,l),Promise.reject(l)}}i.buffer=h(i.buffer),e._pendingPullIntos.push(i);var u=U(r);return me(e),u}(r._readableStreamController,t)}(this,e):Promise.reject(new TypeError(\"view must be an array buffer view\")):Promise.reject(Re(\"read\"))}},{key:\"releaseLock\",value:function(){if(!Z(this))throw Re(\"releaseLock\");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError(\"Tried to release a reader lock when that reader has pending read() calls un-settled\");te(this)}}},{key:\"closed\",get:function(){return Z(this)?this._closedPromise:Promise.reject(Re(\"closed\"))}}]),e}();function Z(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_readIntoRequests\")}function Q(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_readRequests\")}function $(e,t){e._ownerReadableStream=t,t._reader=e,\"readable\"===t._state?function(e){e._closedPromise=new Promise(function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r})}(e):\"closed\"===t._state?function(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(e):(y(\"errored\"===t._state,\"state must be errored\"),function(e,t){e._closedPromise=Promise.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(e,t._storedError),e._closedPromise.catch(function(){}))}function ee(e,t){var r=e._ownerReadableStream;return y(void 0!==r),j(r,t)}function te(e){y(void 0!==e._ownerReadableStream),y(e._ownerReadableStream._reader===e),\"readable\"===e._ownerReadableStream._state?Fe(e,new TypeError(\"Reader was released and can no longer be used to monitor the stream's closedness\")):function(e,t){y(void 0===e._closedPromise_resolve),y(void 0===e._closedPromise_reject),e._closedPromise=Promise.reject(t)}(e,new TypeError(\"Reader was released and can no longer be used to monitor the stream's closedness\")),e._closedPromise.catch(function(){}),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function re(e){var t=e._ownerReadableStream;return y(void 0!==t),t._disturbed=!0,\"closed\"===t._state?Promise.resolve(s(void 0,!0)):\"errored\"===t._state?Promise.reject(t._storedError):(y(\"readable\"===t._state),t._readableStreamController.__pullSteps())}var ae=function(){function e(t,r,a,i){if(n(this,e),!1===M(t))throw new TypeError(\"ReadableStreamDefaultController can only be constructed with a ReadableStream instance\");if(void 0!==t._readableStreamController)throw new TypeError(\"ReadableStreamDefaultController instances can only be created by the ReadableStream constructor\");this._controlledReadableStream=t,this._underlyingSource=r,this._queue=void 0,this._queueTotalSize=void 0,x(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var o=f(a,i);this._strategySize=o.size,this._strategyHWM=o.highWaterMark;var s=this,c=l(r,\"start\",[this]);Promise.resolve(c).then(function(){s._started=!0,y(!1===s._pulling),y(!1===s._pullAgain),ie(s)},function(e){le(s,e)}).catch(w)}return a(e,[{key:\"close\",value:function(){if(!1===ne(this))throw Be(\"close\");if(!0===this._closeRequested)throw new TypeError(\"The stream has already been closed; do not close it again!\");var e=this._controlledReadableStream._state;if(\"readable\"!==e)throw new TypeError(\"The stream (in \"+e+\" state) is not in the readable state and cannot be closed\");oe(this)}},{key:\"enqueue\",value:function(e){if(!1===ne(this))throw Be(\"enqueue\");if(!0===this._closeRequested)throw new TypeError(\"stream is closed or draining\");var t=this._controlledReadableStream._state;if(\"readable\"!==t)throw new TypeError(\"The stream (in \"+t+\" state) is not in the readable state and cannot be enqueued to\");return se(this,e)}},{key:\"error\",value:function(e){if(!1===ne(this))throw Be(\"error\");var t=this._controlledReadableStream;if(\"readable\"!==t._state)throw new TypeError(\"The stream is \"+t._state+\" and so cannot be errored\");ce(this,e)}},{key:\"__cancelSteps\",value:function(e){return x(this),u(this._underlyingSource,\"cancel\",[e])}},{key:\"__pullSteps\",value:function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=S(this);return!0===this._closeRequested&&0===this._queue.length?z(e):ie(this),Promise.resolve(s(t,!1))}var r=q(e);return ie(this),r}},{key:\"desiredSize\",get:function(){if(!1===ne(this))throw Be(\"desiredSize\");return ue(this)}}]),e}();function ne(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_underlyingSource\")}function ie(e){!1!==function(e){var t=e._controlledReadableStream;if(\"closed\"===t._state||\"errored\"===t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===L(t)&&X(t)>0)return!0;if(ue(e)>0)return!0;return!1}(e)&&(!0!==e._pulling?(y(!1===e._pullAgain),e._pulling=!0,u(e._underlyingSource,\"pull\",[e]).then(function(){if(e._pulling=!1,!0===e._pullAgain)return e._pullAgain=!1,ie(e)},function(t){le(e,t)}).catch(w)):e._pullAgain=!0)}function oe(e){var t=e._controlledReadableStream;y(!1===e._closeRequested),y(\"readable\"===t._state),e._closeRequested=!0,0===e._queue.length&&z(t)}function se(e,t){var r=e._controlledReadableStream;if(y(!1===e._closeRequested),y(\"readable\"===r._state),!0===L(r)&&X(r)>0)W(r,t,!1);else{var a=1;if(void 0!==e._strategySize){var n=e._strategySize;try{a=n(t)}catch(t){throw le(e,t),t}}try{C(e,t,a)}catch(t){throw le(e,t),t}}ie(e)}function ce(e,t){var r=e._controlledReadableStream;y(\"readable\"===r._state),x(e),H(r,t)}function le(e,t){\"readable\"===e._controlledReadableStream._state&&ce(e,t)}function ue(e){var t=e._controlledReadableStream._state;return\"errored\"===t?null:\"closed\"===t?0:e._strategyHWM-e._queueTotalSize}var he=function(){function e(t,r){n(this,e),this._associatedReadableByteStreamController=t,this._view=r}return a(e,[{key:\"respond\",value:function(e){if(!1===ge(this))throw De(\"respond\");if(void 0===this._associatedReadableByteStreamController)throw new TypeError(\"This BYOB request has been invalidated\");!function(e,t){if(t=Number(t),!1===c(t))throw new RangeError(\"bytesWritten must be a finite\");y(e._pendingPullIntos.length>0),Ae(e,t)}(this._associatedReadableByteStreamController,e)}},{key:\"respondWithNewView\",value:function(e){if(!1===ge(this))throw De(\"respond\");if(void 0===this._associatedReadableByteStreamController)throw new TypeError(\"This BYOB request has been invalidated\");if(!ArrayBuffer.isView(e))throw new TypeError(\"You can only respond with array buffer views\");!function(e,t){y(e._pendingPullIntos.length>0);var r=e._pendingPullIntos[0];if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError(\"The region specified by view does not match byobRequest\");if(r.byteLength!==t.byteLength)throw new RangeError(\"The buffer of view has different capacity than byobRequest\");r.buffer=t.buffer,Ae(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}},{key:\"view\",get:function(){return this._view}}]),e}(),fe=function(){function e(t,r,a){if(n(this,e),!1===M(t))throw new TypeError(\"ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source\");if(void 0!==t._readableStreamController)throw new TypeError(\"ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source\");this._controlledReadableStream=t,this._underlyingByteSource=r,this._pullAgain=!1,this._pulling=!1,pe(this),this._queue=this._queueTotalSize=void 0,x(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=d(a);var i=r.autoAllocateChunkSize;if(void 0!==i&&(!1===Number.isInteger(i)||i<=0))throw new RangeError(\"autoAllocateChunkSize must be a positive integer\");this._autoAllocateChunkSize=i,this._pendingPullIntos=[];var o=this,s=l(r,\"start\",[this]);Promise.resolve(s).then(function(){o._started=!0,y(!1===o._pulling),y(!1===o._pullAgain),me(o)},function(e){\"readable\"===t._state&&Pe(o,e)}).catch(w)}return a(e,[{key:\"close\",value:function(){if(!1===de(this))throw Me(\"close\");if(!0===this._closeRequested)throw new TypeError(\"The stream has already been closed; do not close it again!\");var e=this._controlledReadableStream._state;if(\"readable\"!==e)throw new TypeError(\"The stream (in \"+e+\" state) is not in the readable state and cannot be closed\");!function(e){var t=e._controlledReadableStream;if(y(!1===e._closeRequested),y(\"readable\"===t._state),e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0){var r=e._pendingPullIntos[0];if(r.bytesFilled>0){var a=new TypeError(\"Insufficient bytes to fill elements in the given buffer\");throw Pe(e,a),a}}z(t)}(this)}},{key:\"enqueue\",value:function(e){if(!1===de(this))throw Me(\"enqueue\");if(!0===this._closeRequested)throw new TypeError(\"stream is closed or draining\");var t=this._controlledReadableStream._state;if(\"readable\"!==t)throw new TypeError(\"The stream (in \"+t+\" state) is not in the readable state and cannot be enqueued to\");if(!ArrayBuffer.isView(e))throw new TypeError(\"You can only enqueue array buffer views when using a ReadableByteStreamController\");!function(e,t){var r=e._controlledReadableStream;y(!1===e._closeRequested),y(\"readable\"===r._state);var a=t.buffer,n=t.byteOffset,i=t.byteLength,o=h(a);if(!0===K(r))if(0===X(r))ye(e,o,n,i);else{y(0===e._queue.length);var s=new Uint8Array(o,n,i);W(r,s,!1)}else!0===V(r)?(ye(e,o,n,i),xe(e)):(y(!1===L(r),\"stream must not be locked\"),ye(e,o,n,i))}(this,e)}},{key:\"error\",value:function(e){if(!1===de(this))throw Me(\"error\");var t=this._controlledReadableStream;if(\"readable\"!==t._state)throw new TypeError(\"The stream is \"+t._state+\" and so cannot be errored\");Pe(this,e)}},{key:\"__cancelSteps\",value:function(e){this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0);return x(this),u(this._underlyingByteSource,\"cancel\",[e])}},{key:\"__pullSteps\",value:function(){var e=this._controlledReadableStream;if(y(!0===K(e)),this._queueTotalSize>0){y(0===X(e));var t=this._queue.shift();this._queueTotalSize-=t.byteLength,Se(this);var r=void 0;try{r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(s(r,!1))}var a=this._autoAllocateChunkSize;if(void 0!==a){var n=void 0;try{n=new ArrayBuffer(a)}catch(e){return Promise.reject(e)}var i={buffer:n,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:\"default\"};this._pendingPullIntos.push(i)}var o=q(e);return me(this),o}},{key:\"byobRequest\",get:function(){if(!1===de(this))throw Me(\"byobRequest\");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos[0],t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled);this._byobRequest=new he(this,t)}return this._byobRequest}},{key:\"desiredSize\",get:function(){if(!1===de(this))throw Me(\"desiredSize\");return Ie(this)}}]),e}();function de(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_underlyingByteSource\")}function ge(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_associatedReadableByteStreamController\")}function me(e){!1!==function(e){var t=e._controlledReadableStream;if(\"readable\"!==t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===K(t)&&X(t)>0)return!0;if(!0===V(t)&&G(t)>0)return!0;if(Ie(e)>0)return!0;return!1}(e)&&(!0!==e._pulling?(y(!1===e._pullAgain),e._pulling=!0,u(e._underlyingByteSource,\"pull\",[e]).then(function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,me(e))},function(t){\"readable\"===e._controlledReadableStream._state&&Pe(e,t)}).catch(w)):e._pullAgain=!0)}function pe(e){Ce(e),e._pendingPullIntos=[]}function ve(e,t){y(\"errored\"!==e._state,\"state must not be errored\");var r=!1;\"closed\"===e._state&&(y(0===t.bytesFilled),r=!0);var a=be(t);\"default\"===t.readerType?W(e,a,r):(y(\"byob\"===t.readerType),function(e,t,r){var a=e._reader;y(a._readIntoRequests.length>0),a._readIntoRequests.shift()._resolve(s(t,r))}(e,a,r))}function be(e){var t=e.bytesFilled,r=e.elementSize;return y(t<=e.byteLength),y(t%r==0),new e.ctor(e.buffer,e.byteOffset,t/r)}function ye(e,t,r,a){e._queue.push({buffer:t,byteOffset:r,byteLength:a}),e._queueTotalSize+=a}function we(e,t){var r=t.elementSize,a=t.bytesFilled-t.bytesFilled%r,n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+n,s=i-i%r,c=n,l=!1;s>a&&(c=s-t.bytesFilled,l=!0);for(var u=e._queue;c>0;){var h=u[0],f=Math.min(c,h.byteLength),d=t.byteOffset+t.bytesFilled;o(t.buffer,d,h.buffer,h.byteOffset,f),h.byteLength===f?u.shift():(h.byteOffset+=f,h.byteLength-=f),e._queueTotalSize-=f,ke(e,f,t),c-=f}return!1===l&&(y(0===e._queueTotalSize,\"queue must be empty\"),y(t.bytesFilled>0),y(t.bytesFilled<t.elementSize)),l}function ke(e,t,r){y(0===e._pendingPullIntos.length||e._pendingPullIntos[0]===r),Ce(e),r.bytesFilled+=t}function Se(e){y(\"readable\"===e._controlledReadableStream._state),0===e._queueTotalSize&&!0===e._closeRequested?z(e._controlledReadableStream):me(e)}function Ce(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function xe(e){for(y(!1===e._closeRequested);e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos[0];!0===we(e,t)&&(_e(e),ve(e._controlledReadableStream,t))}}function Ae(e,t){var r=e._pendingPullIntos[0],a=e._controlledReadableStream;if(\"closed\"===a._state){if(0!==t)throw new TypeError(\"bytesWritten must be 0 when calling respond() on a closed stream\");!function(e,t){t.buffer=h(t.buffer),y(0===t.bytesFilled,\"bytesFilled must be 0\");var r=e._controlledReadableStream;if(!0===V(r))for(;G(r)>0;)ve(r,_e(e))}(e,r)}else y(\"readable\"===a._state),function(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError(\"bytesWritten out of range\");if(ke(e,t,r),!(r.bytesFilled<r.elementSize)){_e(e);var a=r.bytesFilled%r.elementSize;if(a>0){var n=r.byteOffset+r.bytesFilled,i=r.buffer.slice(n-a,n);ye(e,i,0,i.byteLength)}r.buffer=h(r.buffer),r.bytesFilled-=a,ve(e._controlledReadableStream,r),xe(e)}}(e,t,r)}function _e(e){var t=e._pendingPullIntos.shift();return Ce(e),t}function Pe(e,t){var r=e._controlledReadableStream;y(\"readable\"===r._state),pe(e),x(e),H(r,t)}function Ie(e){var t=e._controlledReadableStream._state;return\"errored\"===t?null:\"closed\"===t?0:e._strategyHWM-e._queueTotalSize}function Oe(e){return new TypeError(\"ReadableStream.prototype.\"+e+\" can only be used on a ReadableStream\")}function Te(e){return new TypeError(\"Cannot \"+e+\" a stream using a released reader\")}function Ee(e){return new TypeError(\"ReadableStreamDefaultReader.prototype.\"+e+\" can only be used on a ReadableStreamDefaultReader\")}function Fe(e,t){y(void 0!==e._closedPromise_resolve),y(void 0!==e._closedPromise_reject),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function Re(e){return new TypeError(\"ReadableStreamBYOBReader.prototype.\"+e+\" can only be used on a ReadableStreamBYOBReader\")}function Be(e){return new TypeError(\"ReadableStreamDefaultController.prototype.\"+e+\" can only be used on a ReadableStreamDefaultController\")}function De(e){return new TypeError(\"ReadableStreamBYOBRequest.prototype.\"+e+\" can only be used on a ReadableStreamBYOBRequest\")}function Me(e){return new TypeError(\"ReadableByteStreamController.prototype.\"+e+\" can only be used on a ReadableByteStreamController\")}},function(e,t,r){var a=r(6),n=r(4),i=r(2);t.TransformStream=a.TransformStream,t.ReadableStream=n.ReadableStream,t.IsReadableStreamDisturbed=n.IsReadableStreamDisturbed,t.ReadableStreamDefaultControllerClose=n.ReadableStreamDefaultControllerClose,t.ReadableStreamDefaultControllerEnqueue=n.ReadableStreamDefaultControllerEnqueue,t.ReadableStreamDefaultControllerError=n.ReadableStreamDefaultControllerError,t.ReadableStreamDefaultControllerGetDesiredSize=n.ReadableStreamDefaultControllerGetDesiredSize,t.AcquireWritableStreamDefaultWriter=i.AcquireWritableStreamDefaultWriter,t.IsWritableStream=i.IsWritableStream,t.IsWritableStreamLocked=i.IsWritableStreamLocked,t.WritableStream=i.WritableStream,t.WritableStreamAbort=i.WritableStreamAbort,t.WritableStreamDefaultControllerError=i.WritableStreamDefaultControllerError,t.WritableStreamDefaultWriterCloseWithErrorPropagation=i.WritableStreamDefaultWriterCloseWithErrorPropagation,t.WritableStreamDefaultWriterRelease=i.WritableStreamDefaultWriterRelease,t.WritableStreamDefaultWriterWrite=i.WritableStreamDefaultWriterWrite},function(e,t,r){var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var i=r(1).assert,o=r(0),s=o.InvokeOrNoop,c=o.PromiseInvokeOrPerformFallback,l=o.PromiseInvokeOrNoop,u=o.typeIsObject,h=r(4),f=h.ReadableStream,d=h.ReadableStreamDefaultControllerClose,g=h.ReadableStreamDefaultControllerEnqueue,m=h.ReadableStreamDefaultControllerError,p=h.ReadableStreamDefaultControllerGetDesiredSize,v=r(2),b=v.WritableStream,y=v.WritableStreamDefaultControllerError;function w(e,t){if(!0===e._errored)throw new TypeError(\"TransformStream is already errored\");if(!0===e._readableClosed)throw new TypeError(\"Readable side is already closed\");var r=e._readableController;try{g(r,t)}catch(t){throw e._readableClosed=!0,S(e,t),e._storedError}!0===p(r)<=0&&!1===e._backpressure&&A(e,!0)}function k(e){i(!1===e._errored),i(!1===e._readableClosed);try{d(e._readableController)}catch(e){i(!1)}e._readableClosed=!0}function S(e,t){!1===e._errored&&C(e,t)}function C(e,t){i(!1===e._errored),e._errored=!0,e._storedError=t,!1===e._writableDone&&y(e._writableController,t),!1===e._readableClosed&&m(e._readableController,t)}function x(e){return i(void 0!==e._backpressureChangePromise,\"_backpressureChangePromise should have been initialized\"),!1===e._backpressure?Promise.resolve():(i(!0===e._backpressure,\"_backpressure should have been initialized\"),e._backpressureChangePromise)}function A(e,t){i(e._backpressure!==t,\"TransformStreamSetBackpressure() should be called only when backpressure is changed\"),void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(t),e._backpressureChangePromise=new Promise(function(t){e._backpressureChangePromise_resolve=t}),e._backpressureChangePromise.then(function(e){i(e!==t,\"_backpressureChangePromise should be fulfilled only when backpressure is changed\")}),e._backpressure=t}function _(e,t){return w(t._controlledTransformStream,e),Promise.resolve()}function P(e){return!!u(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_controlledTransformStream\")}function I(e){return!!u(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_transformStreamController\")}var O=function(){function e(t,r){n(this,e),this._transformStream=t,this._startPromise=r}return a(e,[{key:\"start\",value:function(e){var t=this._transformStream;return t._writableController=e,this._startPromise.then(function(){return x(t)})}},{key:\"write\",value:function(e){return function(e,t){i(!1===e._errored),i(!1===e._transforming),i(!1===e._backpressure),e._transforming=!0;var r=e._transformer,a=e._transformStreamController;return c(r,\"transform\",[t,a],_,[t,a]).then(function(){return e._transforming=!1,x(e)},function(t){return S(e,t),Promise.reject(t)})}(this._transformStream,e)}},{key:\"abort\",value:function(){var e=this._transformStream;e._writableDone=!0,C(e,new TypeError(\"Writable side aborted\"))}},{key:\"close\",value:function(){var e=this._transformStream;return i(!1===e._transforming),e._writableDone=!0,l(e._transformer,\"flush\",[e._transformStreamController]).then(function(){return!0===e._errored?Promise.reject(e._storedError):(!1===e._readableClosed&&k(e),Promise.resolve())}).catch(function(t){return S(e,t),Promise.reject(e._storedError)})}}]),e}(),T=function(){function e(t,r){n(this,e),this._transformStream=t,this._startPromise=r}return a(e,[{key:\"start\",value:function(e){var t=this._transformStream;return t._readableController=e,this._startPromise.then(function(){return i(void 0!==t._backpressureChangePromise,\"_backpressureChangePromise should have been initialized\"),!0===t._backpressure?Promise.resolve():(i(!1===t._backpressure,\"_backpressure should have been initialized\"),t._backpressureChangePromise)})}},{key:\"pull\",value:function(){var e=this._transformStream;return i(!0===e._backpressure,\"pull() should be never called while _backpressure is false\"),i(void 0!==e._backpressureChangePromise,\"_backpressureChangePromise should have been initialized\"),A(e,!1),e._backpressureChangePromise}},{key:\"cancel\",value:function(){var e=this._transformStream;e._readableClosed=!0,C(e,new TypeError(\"Readable side canceled\"))}}]),e}(),E=function(){function e(t){if(n(this,e),!1===I(t))throw new TypeError(\"TransformStreamDefaultController can only be constructed with a TransformStream instance\");if(void 0!==t._transformStreamController)throw new TypeError(\"TransformStreamDefaultController instances can only be created by the TransformStream constructor\");this._controlledTransformStream=t}return a(e,[{key:\"enqueue\",value:function(e){if(!1===P(this))throw R(\"enqueue\");w(this._controlledTransformStream,e)}},{key:\"close\",value:function(){if(!1===P(this))throw R(\"close\");!function(e){if(!0===e._errored)throw new TypeError(\"TransformStream is already errored\");if(!0===e._readableClosed)throw new TypeError(\"Readable side is already closed\");k(e)}(this._controlledTransformStream)}},{key:\"error\",value:function(e){if(!1===P(this))throw R(\"error\");!function(e,t){if(!0===e._errored)throw new TypeError(\"TransformStream is already errored\");C(e,t)}(this._controlledTransformStream,e)}},{key:\"desiredSize\",get:function(){if(!1===P(this))throw R(\"desiredSize\");var e=this._controlledTransformStream._readableController;return p(e)}}]),e}(),F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this._transformer=t;var r=t.readableStrategy,a=t.writableStrategy;this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new E(this);var o=void 0,c=new Promise(function(e){o=e}),l=new T(this,c);this._readable=new f(l,r);var u=new O(this,c);this._writable=new b(u,a),i(void 0!==this._writableController),i(void 0!==this._readableController),A(this,p(this._readableController)<=0);var h=this,d=s(t,\"start\",[h._transformStreamController]);o(d),c.catch(function(e){!1===h._errored&&(h._errored=!0,h._storedError=e)})}return a(e,[{key:\"readable\",get:function(){if(!1===I(this))throw B(\"readable\");return this._readable}},{key:\"writable\",get:function(){if(!1===I(this))throw B(\"writable\");return this._writable}}]),e}();function R(e){return new TypeError(\"TransformStreamDefaultController.prototype.\"+e+\" can only be used on a TransformStreamDefaultController\")}function B(e){return new TypeError(\"TransformStream.prototype.\"+e+\" can only be used on a TransformStream\")}e.exports={TransformStream:F}},function(e,t,r){e.exports=r(5)}]))},function(e,t,r){\"use strict\";function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var n=!1;try{if(\"function\"==typeof URL&&\"object\"===a(URL.prototype)&&\"origin\"in URL.prototype){var i=new URL(\"b\",\"http://a\");i.pathname=\"c%20d\",n=\"http://a/c%20d\"===i.href}}catch(e){}if(n)t.URL=URL;else{var o=r(150).URL,s=r(7).URL;s&&(o.createObjectURL=function(e){return s.createObjectURL.apply(s,arguments)},o.revokeObjectURL=function(e){s.revokeObjectURL(e)}),t.URL=o}},function(e,t,r){\"use strict\";!function(){var e=Object.create(null);e.ftp=21,e.file=0,e.gopher=70,e.http=80,e.https=443,e.ws=80,e.wss=443;var r=Object.create(null);function a(t){return void 0!==e[t]}function n(){f.call(this),this._isInvalid=!0}function i(e){return\"\"===e&&n.call(this),e.toLowerCase()}function o(e){var t=e.charCodeAt(0);return t>32&&t<127&&-1===[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function s(e){var t=e.charCodeAt(0);return t>32&&t<127&&-1===[34,35,60,62,96].indexOf(t)?e:encodeURIComponent(e)}r[\"%2e\"]=\".\",r[\".%2e\"]=\"..\",r[\"%2e.\"]=\"..\",r[\"%2e%2e\"]=\"..\";var c,l=/[a-zA-Z]/,u=/[a-zA-Z0-9\\+\\-\\.]/;function h(t,h,f){function d(e){y.push(e)}var g=h||\"scheme start\",m=0,p=\"\",v=!1,b=!1,y=[];e:for(;(t[m-1]!==c||0===m)&&!this._isInvalid;){var w=t[m];switch(g){case\"scheme start\":if(!w||!l.test(w)){if(h){d(\"Invalid scheme.\");break e}p=\"\",g=\"no scheme\";continue}p+=w.toLowerCase(),g=\"scheme\";break;case\"scheme\":if(w&&u.test(w))p+=w.toLowerCase();else{if(\":\"!==w){if(h){if(w===c)break e;d(\"Code point not allowed in scheme: \"+w);break e}p=\"\",m=0,g=\"no scheme\";continue}if(this._scheme=p,p=\"\",h)break e;a(this._scheme)&&(this._isRelative=!0),g=\"file\"===this._scheme?\"relative\":this._isRelative&&f&&f._scheme===this._scheme?\"relative or authority\":this._isRelative?\"authority first slash\":\"scheme data\"}break;case\"scheme data\":\"?\"===w?(this._query=\"?\",g=\"query\"):\"#\"===w?(this._fragment=\"#\",g=\"fragment\"):w!==c&&\"\\t\"!==w&&\"\\n\"!==w&&\"\\r\"!==w&&(this._schemeData+=o(w));break;case\"no scheme\":if(f&&a(f._scheme)){g=\"relative\";continue}d(\"Missing scheme.\"),n.call(this);break;case\"relative or authority\":if(\"/\"!==w||\"/\"!==t[m+1]){d(\"Expected /, got: \"+w),g=\"relative\";continue}g=\"authority ignore slashes\";break;case\"relative\":if(this._isRelative=!0,\"file\"!==this._scheme&&(this._scheme=f._scheme),w===c){this._host=f._host,this._port=f._port,this._path=f._path.slice(),this._query=f._query,this._username=f._username,this._password=f._password;break e}if(\"/\"===w||\"\\\\\"===w)\"\\\\\"===w&&d(\"\\\\ is an invalid code point.\"),g=\"relative slash\";else if(\"?\"===w)this._host=f._host,this._port=f._port,this._path=f._path.slice(),this._query=\"?\",this._username=f._username,this._password=f._password,g=\"query\";else{if(\"#\"!==w){var k=t[m+1],S=t[m+2];(\"file\"!==this._scheme||!l.test(w)||\":\"!==k&&\"|\"!==k||S!==c&&\"/\"!==S&&\"\\\\\"!==S&&\"?\"!==S&&\"#\"!==S)&&(this._host=f._host,this._port=f._port,this._username=f._username,this._password=f._password,this._path=f._path.slice(),this._path.pop()),g=\"relative path\";continue}this._host=f._host,this._port=f._port,this._path=f._path.slice(),this._query=f._query,this._fragment=\"#\",this._username=f._username,this._password=f._password,g=\"fragment\"}break;case\"relative slash\":if(\"/\"!==w&&\"\\\\\"!==w){\"file\"!==this._scheme&&(this._host=f._host,this._port=f._port,this._username=f._username,this._password=f._password),g=\"relative path\";continue}\"\\\\\"===w&&d(\"\\\\ is an invalid code point.\"),g=\"file\"===this._scheme?\"file host\":\"authority ignore slashes\";break;case\"authority first slash\":if(\"/\"!==w){d(\"Expected '/', got: \"+w),g=\"authority ignore slashes\";continue}g=\"authority second slash\";break;case\"authority second slash\":if(g=\"authority ignore slashes\",\"/\"!==w){d(\"Expected '/', got: \"+w);continue}break;case\"authority ignore slashes\":if(\"/\"!==w&&\"\\\\\"!==w){g=\"authority\";continue}d(\"Expected authority, got: \"+w);break;case\"authority\":if(\"@\"===w){v&&(d(\"@ already seen.\"),p+=\"%40\"),v=!0;for(var C=0;C<p.length;C++){var x=p[C];if(\"\\t\"!==x&&\"\\n\"!==x&&\"\\r\"!==x)if(\":\"!==x||null!==this._password){var A=o(x);null!==this._password?this._password+=A:this._username+=A}else this._password=\"\";else d(\"Invalid whitespace in authority.\")}p=\"\"}else{if(w===c||\"/\"===w||\"\\\\\"===w||\"?\"===w||\"#\"===w){m-=p.length,p=\"\",g=\"host\";continue}p+=w}break;case\"file host\":if(w===c||\"/\"===w||\"\\\\\"===w||\"?\"===w||\"#\"===w){2!==p.length||!l.test(p[0])||\":\"!==p[1]&&\"|\"!==p[1]?0===p.length?g=\"relative path start\":(this._host=i.call(this,p),p=\"\",g=\"relative path start\"):g=\"relative path\";continue}\"\\t\"===w||\"\\n\"===w||\"\\r\"===w?d(\"Invalid whitespace in file host.\"):p+=w;break;case\"host\":case\"hostname\":if(\":\"!==w||b){if(w===c||\"/\"===w||\"\\\\\"===w||\"?\"===w||\"#\"===w){if(this._host=i.call(this,p),p=\"\",g=\"relative path start\",h)break e;continue}\"\\t\"!==w&&\"\\n\"!==w&&\"\\r\"!==w?(\"[\"===w?b=!0:\"]\"===w&&(b=!1),p+=w):d(\"Invalid code point in host/hostname: \"+w)}else if(this._host=i.call(this,p),p=\"\",g=\"port\",\"hostname\"===h)break e;break;case\"port\":if(/[0-9]/.test(w))p+=w;else{if(w===c||\"/\"===w||\"\\\\\"===w||\"?\"===w||\"#\"===w||h){if(\"\"!==p){var _=parseInt(p,10);_!==e[this._scheme]&&(this._port=_+\"\"),p=\"\"}if(h)break e;g=\"relative path start\";continue}\"\\t\"===w||\"\\n\"===w||\"\\r\"===w?d(\"Invalid code point in port: \"+w):n.call(this)}break;case\"relative path start\":if(\"\\\\\"===w&&d(\"'\\\\' not allowed in path.\"),g=\"relative path\",\"/\"!==w&&\"\\\\\"!==w)continue;break;case\"relative path\":var P;if(w!==c&&\"/\"!==w&&\"\\\\\"!==w&&(h||\"?\"!==w&&\"#\"!==w))\"\\t\"!==w&&\"\\n\"!==w&&\"\\r\"!==w&&(p+=o(w));else\"\\\\\"===w&&d(\"\\\\ not allowed in relative path.\"),(P=r[p.toLowerCase()])&&(p=P),\"..\"===p?(this._path.pop(),\"/\"!==w&&\"\\\\\"!==w&&this._path.push(\"\")):\".\"===p&&\"/\"!==w&&\"\\\\\"!==w?this._path.push(\"\"):\".\"!==p&&(\"file\"===this._scheme&&0===this._path.length&&2===p.length&&l.test(p[0])&&\"|\"===p[1]&&(p=p[0]+\":\"),this._path.push(p)),p=\"\",\"?\"===w?(this._query=\"?\",g=\"query\"):\"#\"===w&&(this._fragment=\"#\",g=\"fragment\");break;case\"query\":h||\"#\"!==w?w!==c&&\"\\t\"!==w&&\"\\n\"!==w&&\"\\r\"!==w&&(this._query+=s(w)):(this._fragment=\"#\",g=\"fragment\");break;case\"fragment\":w!==c&&\"\\t\"!==w&&\"\\n\"!==w&&\"\\r\"!==w&&(this._fragment+=w)}m++}}function f(){this._scheme=\"\",this._schemeData=\"\",this._username=\"\",this._password=null,this._host=\"\",this._port=\"\",this._path=[],this._query=\"\",this._fragment=\"\",this._isInvalid=!1,this._isRelative=!1}function d(e,t){void 0===t||t instanceof d||(t=new d(String(t))),this._url=e,f.call(this);var r=e.replace(/^[ \\t\\r\\n\\f]+|[ \\t\\r\\n\\f]+$/g,\"\");h.call(this,r,null,t)}d.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e=\"\";return\"\"===this._username&&null===this._password||(e=this._username+(null!==this._password?\":\"+this._password:\"\")+\"@\"),this.protocol+(this._isRelative?\"//\"+e+this.host:\"\")+this.pathname+this._query+this._fragment},set href(e){f.call(this),h.call(this,e)},get protocol(){return this._scheme+\":\"},set protocol(e){this._isInvalid||h.call(this,e+\":\",\"scheme start\")},get host(){return this._isInvalid?\"\":this._port?this._host+\":\"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&h.call(this,e,\"host\")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&h.call(this,e,\"hostname\")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&h.call(this,e,\"port\")},get pathname(){return this._isInvalid?\"\":this._isRelative?\"/\"+this._path.join(\"/\"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],h.call(this,e,\"relative path start\"))},get search(){return this._isInvalid||!this._query||\"?\"===this._query?\"\":this._query},set search(e){!this._isInvalid&&this._isRelative&&(this._query=\"?\",\"?\"===e[0]&&(e=e.slice(1)),h.call(this,e,\"query\"))},get hash(){return this._isInvalid||!this._fragment||\"#\"===this._fragment?\"\":this._fragment},set hash(e){this._isInvalid||(this._fragment=\"#\",\"#\"===e[0]&&(e=e.slice(1)),h.call(this,e,\"fragment\"))},get origin(){var e;if(this._isInvalid||!this._scheme)return\"\";switch(this._scheme){case\"data\":case\"file\":case\"javascript\":case\"mailto\":return\"null\";case\"blob\":try{return new d(this._schemeData).origin||\"null\"}catch(e){}return\"null\"}return(e=this.host)?this._scheme+\"://\"+e:\"\"}},t.URL=d}()},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.NetworkPdfManager=t.LocalPdfManager=void 0;var a,n=(a=r(2))&&a.__esModule?a:{default:a},i=r(5),o=r(152),s=r(153),c=r(154),l=r(158);function u(e){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function h(e,t){return!t||\"object\"!==u(t)&&\"function\"!=typeof t?d(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function g(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function v(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var i=e.apply(t,r);function o(e){p(i,a,n,o,s,\"next\",e)}function s(e){p(i,a,n,o,s,\"throw\",e)}o(void 0)})}}function b(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function y(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function w(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),e}var k=function(){function e(){b(this,e),this.constructor===e&&(0,i.unreachable)(\"Cannot initialize BasePdfManager.\")}return w(e,[{key:\"onLoadedStream\",value:function(){(0,i.unreachable)(\"Abstract method `onLoadedStream` called\")}},{key:\"ensureDoc\",value:function(e,t){return this.ensure(this.pdfDocument,e,t)}},{key:\"ensureXRef\",value:function(e,t){return this.ensure(this.pdfDocument.xref,e,t)}},{key:\"ensureCatalog\",value:function(e,t){return this.ensure(this.pdfDocument.catalog,e,t)}},{key:\"getPage\",value:function(e){return this.pdfDocument.getPage(e)}},{key:\"fontFallback\",value:function(e,t){return this.pdfDocument.fontFallback(e,t)}},{key:\"cleanup\",value:function(){return this.pdfDocument.cleanup()}},{key:\"ensure\",value:function(){var e=v(n.default.mark(function e(t,r,a){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,i.unreachable)(\"Abstract method `ensure` called\");case 1:case\"end\":return e.stop()}},e)}));return function(t,r,a){return e.apply(this,arguments)}}()},{key:\"requestRange\",value:function(e,t){(0,i.unreachable)(\"Abstract method `requestRange` called\")}},{key:\"requestLoadedStream\",value:function(){(0,i.unreachable)(\"Abstract method `requestLoadedStream` called\")}},{key:\"sendProgressiveData\",value:function(e){(0,i.unreachable)(\"Abstract method `sendProgressiveData` called\")}},{key:\"updatePassword\",value:function(e){this._password=e}},{key:\"terminate\",value:function(){(0,i.unreachable)(\"Abstract method `terminate` called\")}},{key:\"docId\",get:function(){return this._docId}},{key:\"password\",get:function(){return this._password}},{key:\"docBaseUrl\",get:function(){var e=null;if(this._docBaseUrl){var t=(0,i.createValidAbsoluteUrl)(this._docBaseUrl);t?e=t.href:(0,i.warn)('Invalid absolute docBaseUrl: \"'.concat(this._docBaseUrl,'\".'))}return(0,i.shadow)(this,\"docBaseUrl\",e)}}]),e}(),S=function(e){function t(e,r,a,n,i){var o;b(this,t),(o=h(this,f(t).call(this)))._docId=e,o._password=a,o._docBaseUrl=i,o.evaluatorOptions=n;var s=new l.Stream(r);return o.pdfDocument=new c.PDFDocument(d(o),s),o._loadedStreamPromise=Promise.resolve(s),o}return g(t,k),w(t,[{key:\"ensure\",value:function(){var e=v(n.default.mark(function e(t,r,a){var i;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(\"function\"!=typeof(i=t[r])){e.next=3;break}return e.abrupt(\"return\",i.apply(t,a));case 3:return e.abrupt(\"return\",i);case 4:case\"end\":return e.stop()}},e)}));return function(t,r,a){return e.apply(this,arguments)}}()},{key:\"requestRange\",value:function(e,t){return Promise.resolve()}},{key:\"requestLoadedStream\",value:function(){}},{key:\"onLoadedStream\",value:function(){return this._loadedStreamPromise}},{key:\"terminate\",value:function(){}}]),t}();t.LocalPdfManager=S;var C=function(e){function t(e,r,a,n,i){var s;return b(this,t),(s=h(this,f(t).call(this)))._docId=e,s._password=a.password,s._docBaseUrl=i,s.msgHandler=a.msgHandler,s.evaluatorOptions=n,s.streamManager=new o.ChunkedStreamManager(r,{msgHandler:a.msgHandler,length:a.length,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize}),s.pdfDocument=new c.PDFDocument(d(s),s.streamManager.getStream()),s}return g(t,k),w(t,[{key:\"ensure\",value:function(){var e=v(n.default.mark(function e(t,r,a){var i;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,\"function\"!=typeof(i=t[r])){e.next=4;break}return e.abrupt(\"return\",i.apply(t,a));case 4:return e.abrupt(\"return\",i);case 7:if(e.prev=7,e.t0=e.catch(0),e.t0 instanceof s.MissingDataException){e.next=11;break}throw e.t0;case 11:return e.next=13,this.requestRange(e.t0.begin,e.t0.end);case 13:return e.abrupt(\"return\",this.ensure(t,r,a));case 14:case\"end\":return e.stop()}},e,this,[[0,7]])}));return function(t,r,a){return e.apply(this,arguments)}}()},{key:\"requestRange\",value:function(e,t){return this.streamManager.requestRange(e,t)}},{key:\"requestLoadedStream\",value:function(){this.streamManager.requestAllChunks()}},{key:\"sendProgressiveData\",value:function(e){this.streamManager.onReceiveData({chunk:e})}},{key:\"onLoadedStream\",value:function(){return this.streamManager.onLoadedStream()}},{key:\"terminate\",value:function(){this.streamManager.abort()}}]),t}();t.NetworkPdfManager=C},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChunkedStreamManager=t.ChunkedStream=void 0;var a=r(5),n=r(153);function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}var c=function(){function e(t,r,a){i(this,e),this.bytes=new Uint8Array(t),this.start=0,this.pos=0,this.end=t,this.chunkSize=r,this.loadedChunks=[],this.numChunksLoaded=0,this.numChunks=Math.ceil(t/r),this.manager=a,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}return s(e,[{key:\"getMissingChunks\",value:function(){for(var e=[],t=0,r=this.numChunks;t<r;++t)this.loadedChunks[t]||e.push(t);return e}},{key:\"getBaseStreams\",value:function(){return[this]}},{key:\"allChunksLoaded\",value:function(){return this.numChunksLoaded===this.numChunks}},{key:\"onReceiveData\",value:function(e,t){var r=this.chunkSize;if(e%r!=0)throw new Error(\"Bad begin offset: \".concat(e));var a=e+t.byteLength;if(a%r!=0&&a!==this.bytes.length)throw new Error(\"Bad end offset: \".concat(a));this.bytes.set(new Uint8Array(t),e);for(var n=Math.floor(e/r),i=Math.floor((a-1)/r)+1,o=n;o<i;++o)this.loadedChunks[o]||(this.loadedChunks[o]=!0,++this.numChunksLoaded)}},{key:\"onReceiveProgressiveData\",value:function(e){var t=this.progressiveDataLength,r=Math.floor(t/this.chunkSize);this.bytes.set(new Uint8Array(e),t),t+=e.byteLength,this.progressiveDataLength=t;for(var a=t>=this.end?this.numChunks:Math.floor(t/this.chunkSize),n=r;n<a;++n)this.loadedChunks[n]||(this.loadedChunks[n]=!0,++this.numChunksLoaded)}},{key:\"ensureByte\",value:function(e){if(!(e<this.progressiveDataLength)){var t=Math.floor(e/this.chunkSize);if(t!==this.lastSuccessfulEnsureByteChunk){if(!this.loadedChunks[t])throw new n.MissingDataException(e,e+1);this.lastSuccessfulEnsureByteChunk=t}}}},{key:\"ensureRange\",value:function(e,t){if(!(e>=t||t<=this.progressiveDataLength))for(var r=this.chunkSize,a=Math.floor(e/r),i=Math.floor((t-1)/r)+1,o=a;o<i;++o)if(!this.loadedChunks[o])throw new n.MissingDataException(e,t)}},{key:\"nextEmptyChunk\",value:function(e){for(var t=this.numChunks,r=0;r<t;++r){var a=(e+r)%t;if(!this.loadedChunks[a])return a}return null}},{key:\"hasChunk\",value:function(e){return!!this.loadedChunks[e]}},{key:\"getByte\",value:function(){var e=this.pos;return e>=this.end?-1:(this.ensureByte(e),this.bytes[this.pos++])}},{key:\"getUint16\",value:function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t}},{key:\"getInt32\",value:function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()}},{key:\"getBytes\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.bytes,a=this.pos,n=this.end;if(!e){this.ensureRange(a,n);var i=r.subarray(a,n);return t?new Uint8ClampedArray(i):i}var o=a+e;o>n&&(o=n),this.ensureRange(a,o),this.pos=o;var s=r.subarray(a,o);return t?new Uint8ClampedArray(s):s}},{key:\"peekByte\",value:function(){var e=this.getByte();return this.pos--,e}},{key:\"peekBytes\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getBytes(e,t);return this.pos-=r.length,r}},{key:\"getByteRange\",value:function(e,t){return this.ensureRange(e,t),this.bytes.subarray(e,t)}},{key:\"skip\",value:function(e){e||(e=1),this.pos+=e}},{key:\"reset\",value:function(){this.pos=this.start}},{key:\"moveStart\",value:function(){this.start=this.pos}},{key:\"makeSubStream\",value:function(e,t,r){function a(){}t?this.ensureRange(e,e+t):this.ensureByte(e),a.prototype=Object.create(this),a.prototype.getMissingChunks=function(){for(var e=this.chunkSize,t=Math.floor(this.start/e),r=Math.floor((this.end-1)/e)+1,a=[],n=t;n<r;++n)this.loadedChunks[n]||a.push(n);return a};var n=new a;return n.pos=n.start=e,n.end=e+t||this.end,n.dict=r,n}},{key:\"length\",get:function(){return this.end-this.start}},{key:\"isEmpty\",get:function(){return 0===this.length}}]),e}();t.ChunkedStream=c;var l=function(){function e(t,r){i(this,e),this.length=r.length,this.chunkSize=r.rangeChunkSize,this.stream=new c(this.length,this.chunkSize,this),this.pdfNetworkStream=t,this.disableAutoFetch=r.disableAutoFetch,this.msgHandler=r.msgHandler,this.currRequestId=0,this.chunksNeededByRequest=Object.create(null),this.requestsByChunk=Object.create(null),this.promisesByRequest=Object.create(null),this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,a.createPromiseCapability)()}return s(e,[{key:\"onLoadedStream\",value:function(){return this._loadedStreamCapability.promise}},{key:\"sendRequest\",value:function(e,t){var r=this,n=this.pdfNetworkStream.getRangeReader(e,t);n.isStreamingSupported||(n.onProgress=this.onProgress.bind(this));var i=[],o=0;new Promise(function(e,t){n.read().then(function s(c){try{if(!c.done){var l=c.value;return i.push(l),o+=(0,a.arrayByteLength)(l),n.isStreamingSupported&&r.onProgress({loaded:o}),void n.read().then(s,t)}var u=(0,a.arraysToBytes)(i);i=null,e(u)}catch(e){t(e)}},t)}).then(function(t){r.aborted||r.onReceiveData({chunk:t,begin:e})})}},{key:\"requestAllChunks\",value:function(){var e=this.stream.getMissingChunks();return this._requestChunks(e),this._loadedStreamCapability.promise}},{key:\"_requestChunks\",value:function(e){var t=this.currRequestId++,r=Object.create(null);this.chunksNeededByRequest[t]=r;var n=!0,i=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;this.stream.hasChunk(l)||(r[l]=!0)}}catch(e){i=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}if((0,a.isEmptyObj)(r))return Promise.resolve();var u=(0,a.createPromiseCapability)();this.promisesByRequest[t]=u;var h=[];for(var f in r)(f|=0)in this.requestsByChunk||(this.requestsByChunk[f]=[],h.push(f)),this.requestsByChunk[f].push(t);if(!h.length)return u.promise;var d=this.groupChunks(h),g=!0,m=!1,p=void 0;try{for(var v,b=d[Symbol.iterator]();!(g=(v=b.next()).done);g=!0){var y=v.value,w=y.beginChunk*this.chunkSize,k=Math.min(y.endChunk*this.chunkSize,this.length);this.sendRequest(w,k)}}catch(e){m=!0,p=e}finally{try{g||null==b.return||b.return()}finally{if(m)throw p}}return u.promise}},{key:\"getStream\",value:function(){return this.stream}},{key:\"requestRange\",value:function(e,t){t=Math.min(t,this.length);for(var r=this.getBeginChunk(e),a=this.getEndChunk(t),n=[],i=r;i<a;++i)n.push(i);return this._requestChunks(n)}},{key:\"requestRanges\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],r=!0,a=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0)for(var s=i.value,c=this.getBeginChunk(s.begin),l=this.getEndChunk(s.end),u=c;u<l;++u)t.includes(u)||t.push(u)}catch(e){a=!0,n=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw n}}return t.sort(function(e,t){return e-t}),this._requestChunks(t)}},{key:\"groupChunks\",value:function(e){for(var t=[],r=-1,a=-1,n=0,i=e.length;n<i;++n){var o=e[n];r<0&&(r=o),a>=0&&a+1!==o&&(t.push({beginChunk:r,endChunk:a+1}),r=o),n+1===e.length&&t.push({beginChunk:r,endChunk:o+1}),a=o}return t}},{key:\"onProgress\",value:function(e){this.msgHandler.send(\"DocProgress\",{loaded:this.stream.numChunksLoaded*this.chunkSize+e.loaded,total:this.length})}},{key:\"onReceiveData\",value:function(e){var t=e.chunk,r=void 0===e.begin,n=r?this.progressiveDataLength:e.begin,i=n+t.byteLength,o=Math.floor(n/this.chunkSize),s=i<this.length?Math.floor(i/this.chunkSize):Math.ceil(i/this.chunkSize);r?(this.stream.onReceiveProgressiveData(t),this.progressiveDataLength=i):this.stream.onReceiveData(n,t),this.stream.allChunksLoaded()&&this._loadedStreamCapability.resolve(this.stream);for(var c=[],l=o;l<s;++l){var u=this.requestsByChunk[l]||[];delete this.requestsByChunk[l];var h=!0,f=!1,d=void 0;try{for(var g,m=u[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var p=g.value,v=this.chunksNeededByRequest[p];l in v&&delete v[l],(0,a.isEmptyObj)(v)&&c.push(p)}}catch(e){f=!0,d=e}finally{try{h||null==m.return||m.return()}finally{if(f)throw d}}}if(!this.disableAutoFetch&&(0,a.isEmptyObj)(this.requestsByChunk)){var b;if(1===this.stream.numChunksLoaded){var y=this.stream.numChunks-1;this.stream.hasChunk(y)||(b=y)}else b=this.stream.nextEmptyChunk(s);Number.isInteger(b)&&this._requestChunks([b])}for(var w=0,k=c;w<k.length;w++){var S=k[w],C=this.promisesByRequest[S];delete this.promisesByRequest[S],C.resolve()}this.msgHandler.send(\"DocProgress\",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}},{key:\"onError\",value:function(e){this._loadedStreamCapability.reject(e)}},{key:\"getBeginChunk\",value:function(e){return Math.floor(e/this.chunkSize)}},{key:\"getEndChunk\",value:function(e){return Math.floor((e-1)/this.chunkSize)+1}},{key:\"abort\",value:function(){for(var e in this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(\"abort\"),this.promisesByRequest)this.promisesByRequest[e].reject(new Error(\"Request was aborted\"))}}]),e}();t.ChunkedStreamManager=l},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getLookupTableFactory=function(e){var t;return function(){return e&&(t=Object.create(null),e(t),e=null),t}},t.getInheritableProperty=function(e){var t,r=e.dict,n=e.key,i=e.getArray,o=void 0!==i&&i,s=e.stopWhenFound,c=void 0===s||s,l=0;for(;r;){var u=o?r.getArray(n):r.get(n);if(void 0!==u){if(c)return u;t||(t=[]),t.push(u)}if(++l>100){(0,a.warn)('getInheritableProperty: maximum loop count exceeded for \"'.concat(n,'\"'));break}r=r.get(\"Parent\")}return t},t.toRomanNumerals=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,a.assert)(Number.isInteger(e)&&e>0,\"The number should be a positive integer.\");var r,n=[];for(;e>=1e3;)e-=1e3,n.push(\"M\");r=e/100|0,e%=100,n.push(s[r]),r=e/10|0,e%=10,n.push(s[10+r]),n.push(s[20+e]);var i=n.join(\"\");return t?i.toLowerCase():i},t.XRefParseException=t.XRefEntryException=t.MissingDataException=void 0;var a=r(5);var n=function(){function e(e,t){this.begin=e,this.end=t,this.message=\"Missing data [\".concat(e,\", \").concat(t,\")\")}return e.prototype=new Error,e.prototype.name=\"MissingDataException\",e.constructor=e,e}();t.MissingDataException=n;var i=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name=\"XRefEntryException\",e.constructor=e,e}();t.XRefEntryException=i;var o=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name=\"XRefParseException\",e.constructor=e,e}();t.XRefParseException=o;var s=[\"\",\"C\",\"CC\",\"CCC\",\"CD\",\"D\",\"DC\",\"DCC\",\"DCCC\",\"CM\",\"\",\"X\",\"XX\",\"XXX\",\"XL\",\"L\",\"LX\",\"LXX\",\"LXXX\",\"XC\",\"\",\"I\",\"II\",\"III\",\"IV\",\"V\",\"VI\",\"VII\",\"VIII\",\"IX\"]},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PDFDocument=t.Page=void 0;var a=r(5),n=r(155),i=r(156),o=r(153),s=r(158),c=r(170),l=r(168),u=r(157),h=r(171),f=r(172),d=r(186);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function m(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function p(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}var b=[0,0,612,792];function y(e,t){return\"display\"===t&&e.viewable||\"print\"===t&&e.printable}var w=function(){function e(t){var r=t.pdfManager,a=t.xref,n=t.pageIndex,i=t.pageDict,o=t.ref,s=t.fontCache,c=t.builtInCMapCache,l=t.pdfFunctionFactory;m(this,e),this.pdfManager=r,this.pageIndex=n,this.pageDict=i,this.xref=a,this.ref=o,this.fontCache=s,this.builtInCMapCache=c,this.pdfFunctionFactory=l,this.evaluatorOptions=r.evaluatorOptions,this.resourcesPromise=null;var u={obj:0};this.idFactory={createObjId:function(){return\"p\".concat(n,\"_\").concat(++u.obj)},getDocId:function(){return\"g_\".concat(r.docId)}}}return v(e,[{key:\"_getInheritableProperty\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,o.getInheritableProperty)({dict:this.pageDict,key:e,getArray:t,stopWhenFound:!1});return Array.isArray(r)?1!==r.length&&(0,i.isDict)(r[0])?i.Dict.merge(this.xref,r):r[0]:r}},{key:\"getContentStream\",value:function(){var e,t=this.content;if(Array.isArray(t)){var r=this.xref,a=[],n=!0,o=!1,c=void 0;try{for(var l,u=t[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var h=l.value;a.push(r.fetchIfRef(h))}}catch(e){o=!0,c=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw c}}e=new s.StreamsSequenceStream(a)}else e=(0,i.isStream)(t)?t:new s.NullStream;return e}},{key:\"loadResources\",value:function(e){var t=this;return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,\"resources\")),this.resourcesPromise.then(function(){return new n.ObjectLoader(t.resources,e,t.xref).load()})}},{key:\"getOperatorList\",value:function(e){var t=this,r=e.handler,n=e.task,i=e.intent,o=e.renderInteractiveForms,s=this.pdfManager.ensure(this,\"getContentStream\"),c=this.loadResources([\"ExtGState\",\"ColorSpace\",\"Pattern\",\"Shading\",\"XObject\",\"Font\"]),l=new f.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this.idFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,options:this.evaluatorOptions,pdfFunctionFactory:this.pdfFunctionFactory}),u=Promise.all([s,c]).then(function(e){var a=g(e,1)[0],o=new h.OperatorList(i,r,t.pageIndex);return r.send(\"StartRenderPage\",{transparency:l.hasBlendModes(t.resources),pageIndex:t.pageIndex,intent:i}),l.getOperatorList({stream:a,task:n,resources:t.resources,operatorList:o}).then(function(){return o})});return Promise.all([u,this._parsedAnnotations]).then(function(e){var t=g(e,2),r=t[0],s=t[1];if(0===s.length)return r.flush(!0),r;var c=[],u=!0,h=!1,f=void 0;try{for(var d,m=s[Symbol.iterator]();!(u=(d=m.next()).done);u=!0){var p=d.value;y(p,i)&&c.push(p.getOperatorList(l,n,o))}}catch(e){h=!0,f=e}finally{try{u||null==m.return||m.return()}finally{if(h)throw f}}return Promise.all(c).then(function(e){r.addOp(a.OPS.beginAnnotations,[]);var t=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var c=o.value;r.addOpList(c)}}catch(e){n=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw i}}return r.addOp(a.OPS.endAnnotations,[]),r.flush(!0),r})})}},{key:\"extractTextContent\",value:function(e){var t=this,r=e.handler,a=e.task,n=e.normalizeWhitespace,i=e.sink,o=e.combineTextItems,s=this.pdfManager.ensure(this,\"getContentStream\"),c=this.loadResources([\"ExtGState\",\"XObject\",\"Font\"]);return Promise.all([s,c]).then(function(e){var s=g(e,1)[0];return new f.PartialEvaluator({xref:t.xref,handler:r,pageIndex:t.pageIndex,idFactory:t.idFactory,fontCache:t.fontCache,builtInCMapCache:t.builtInCMapCache,options:t.evaluatorOptions,pdfFunctionFactory:t.pdfFunctionFactory}).getTextContent({stream:s,task:a,resources:t.resources,normalizeWhitespace:n,combineTextItems:o,sink:i})})}},{key:\"getAnnotationsData\",value:function(e){return this._parsedAnnotations.then(function(t){for(var r=[],a=0,n=t.length;a<n;a++)e&&!y(t[a],e)||r.push(t[a].data);return r})}},{key:\"content\",get:function(){return this.pageDict.get(\"Contents\")}},{key:\"resources\",get:function(){return(0,a.shadow)(this,\"resources\",this._getInheritableProperty(\"Resources\")||i.Dict.empty)}},{key:\"mediaBox\",get:function(){var e=this._getInheritableProperty(\"MediaBox\",!0);return Array.isArray(e)&&4===e.length?(0,a.shadow)(this,\"mediaBox\",e):(0,a.shadow)(this,\"mediaBox\",b)}},{key:\"cropBox\",get:function(){var e=this._getInheritableProperty(\"CropBox\",!0);return Array.isArray(e)&&4===e.length?(0,a.shadow)(this,\"cropBox\",e):(0,a.shadow)(this,\"cropBox\",this.mediaBox)}},{key:\"userUnit\",get:function(){var e=this.pageDict.get(\"UserUnit\");return(!(0,a.isNum)(e)||e<=0)&&(e=1),(0,a.shadow)(this,\"userUnit\",e)}},{key:\"view\",get:function(){var e=this.mediaBox,t=this.cropBox;if(e===t)return(0,a.shadow)(this,\"view\",e);var r=a.Util.intersect(t,e);return(0,a.shadow)(this,\"view\",r||e)}},{key:\"rotate\",get:function(){var e=this._getInheritableProperty(\"Rotate\")||0;return e%90!=0?e=0:e>=360?e%=360:e<0&&(e=(e%360+360)%360),(0,a.shadow)(this,\"rotate\",e)}},{key:\"annotations\",get:function(){return(0,a.shadow)(this,\"annotations\",this._getInheritableProperty(\"Annots\")||[])}},{key:\"_parsedAnnotations\",get:function(){var e=this,t=this.pdfManager.ensure(this,\"annotations\").then(function(){for(var t=e.annotations,r=[],n=0,i=t.length;n<i;n++)r.push(c.AnnotationFactory.create(e.xref,t[n],e.pdfManager,e.idFactory));return Promise.all(r).then(function(e){return e.filter(function(e){return!!e})},function(e){return(0,a.warn)('_parsedAnnotations: \"'.concat(e,'\".')),[]})});return(0,a.shadow)(this,\"_parsedAnnotations\",t)}}]),e}();t.Page=w;function k(e,t,r,a){var n=e.pos,i=e.end;n+r>i&&(r=i-n);for(var o=[],s=0;s<r;++s)o.push(String.fromCharCode(e.getByte()));var c=o.join(\"\");e.pos=n;var l=a?c.lastIndexOf(t):c.indexOf(t);return-1!==l&&(e.pos+=l,!0)}var S=function(){function e(t,r){var o;if(m(this,e),(0,i.isStream)(r))o=r;else{if(!(0,a.isArrayBuffer)(r))throw new Error(\"PDFDocument: Unknown argument type\");o=new s.Stream(r)}if(o.length<=0)throw new Error(\"PDFDocument: Stream must have data\");this.pdfManager=t,this.stream=o,this.xref=new n.XRef(o,t),this.pdfFunctionFactory=new d.PDFFunctionFactory({xref:this.xref,isEvalSupported:t.evaluatorOptions.isEvalSupported}),this._pagePromises=[]}return v(e,[{key:\"parse\",value:function(e){this.setup(e);var t=this.catalog.catDict.get(\"Version\");(0,i.isName)(t)&&(this.pdfFormatVersion=t.name);try{if(this.acroForm=this.catalog.catDict.get(\"AcroForm\"),this.acroForm){this.xfa=this.acroForm.get(\"XFA\");var r=this.acroForm.get(\"Fields\");Array.isArray(r)&&0!==r.length||this.xfa||(this.acroForm=null)}}catch(e){if(e instanceof o.MissingDataException)throw e;(0,a.info)(\"Cannot fetch AcroForm entry; assuming no AcroForms are present\"),this.acroForm=null}try{var n=this.catalog.catDict.get(\"Collection\");(0,i.isDict)(n)&&n.getKeys().length>0&&(this.collection=n)}catch(e){if(e instanceof o.MissingDataException)throw e;(0,a.info)(\"Cannot fetch Collection dictionary.\")}}},{key:\"checkHeader\",value:function(){var e=this.stream;if(e.reset(),k(e,\"%PDF-\",1024)){e.moveStart();for(var t,r=\"\";(t=e.getByte())>32&&!(r.length>=12);)r+=String.fromCharCode(t);this.pdfFormatVersion||(this.pdfFormatVersion=r.substring(5))}}},{key:\"parseStartXRef\",value:function(){this.xref.setStartXRef(this.startXRef)}},{key:\"setup\",value:function(e){this.xref.parse(e),this.catalog=new n.Catalog(this.pdfManager,this.xref)}},{key:\"_getLinearizationPage\",value:function(e){var t=this.catalog,r=this.linearization;(0,a.assert)(r&&r.pageFirst===e);var n=new i.Ref(r.objectNumberFirst,0);return this.xref.fetchAsync(n).then(function(e){if((0,i.isDict)(e,\"Page\")||(0,i.isDict)(e)&&!e.has(\"Type\")&&e.has(\"Contents\"))return n&&!t.pageKidsCountCache.has(n)&&t.pageKidsCountCache.put(n,1),[e,n];throw new a.FormatError(\"The Linearization dictionary doesn't point to a valid Page dictionary.\")}).catch(function(r){return(0,a.info)(r),t.getPageDict(e)})}},{key:\"getPage\",value:function(e){var t=this;if(void 0!==this._pagePromises[e])return this._pagePromises[e];var r=this.catalog,a=this.linearization,n=a&&a.pageFirst===e?this._getLinearizationPage(e):r.getPageDict(e);return this._pagePromises[e]=n.then(function(a){var n=g(a,2),i=n[0],o=n[1];return new w({pdfManager:t.pdfManager,xref:t.xref,pageIndex:e,pageDict:i,ref:o,fontCache:r.fontCache,builtInCMapCache:r.builtInCMapCache,pdfFunctionFactory:t.pdfFunctionFactory})})}},{key:\"checkFirstPage\",value:function(){var e=this;return this.getPage(0).catch(function(t){if(t instanceof o.XRefEntryException)throw e._pagePromises.length=0,e.cleanup(),new o.XRefParseException})}},{key:\"fontFallback\",value:function(e,t){return this.catalog.fontFallback(e,t)}},{key:\"cleanup\",value:function(){return this.catalog.cleanup()}},{key:\"linearization\",get:function(){var e=null;try{e=u.Linearization.create(this.stream)}catch(e){if(e instanceof o.MissingDataException)throw e;(0,a.info)(e)}return(0,a.shadow)(this,\"linearization\",e)}},{key:\"startXRef\",get:function(){var e=this.stream,t=0;if(this.linearization)e.reset(),k(e,\"endobj\",1024)&&(t=e.pos+6);else{for(var r=\"startxref\".length,n=!1,i=e.end;!n&&i>0;)(i-=1024-r)<0&&(i=0),e.pos=i,n=k(e,\"startxref\",1024,!0);if(n){var o;e.skip(9);do{o=e.getByte()}while((0,a.isSpace)(o));for(var s=\"\";o>=32&&o<=57;)s+=String.fromCharCode(o),o=e.getByte();t=parseInt(s,10),isNaN(t)&&(t=0)}}return(0,a.shadow)(this,\"startXRef\",t)}},{key:\"numPages\",get:function(){var e=this.linearization,t=e?e.numPages:this.catalog.numPages;return(0,a.shadow)(this,\"numPages\",t)}},{key:\"documentInfo\",get:function(){var e,t={Title:a.isString,Author:a.isString,Subject:a.isString,Keywords:a.isString,Creator:a.isString,Producer:a.isString,CreationDate:a.isString,ModDate:a.isString,Trapped:i.isName},r={PDFFormatVersion:this.pdfFormatVersion,IsLinearized:!!this.linearization,IsAcroFormPresent:!!this.acroForm,IsXFAPresent:!!this.xfa,IsCollectionPresent:!!this.collection};try{e=this.xref.trailer.get(\"Info\")}catch(e){if(e instanceof o.MissingDataException)throw e;(0,a.info)(\"The document information dictionary is invalid.\")}if((0,i.isDict)(e)){var n=!0,s=!1,c=void 0;try{for(var l,u=e.getKeys()[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var h=l.value,f=e.get(h);if(t[h])t[h](f)?r[h]=\"string\"!=typeof f?f:(0,a.stringToPDFString)(f):(0,a.info)('Bad value in document info for \"'.concat(h,'\".'));else if(\"string\"==typeof h){var d=void 0;if((0,a.isString)(f))d=(0,a.stringToPDFString)(f);else{if(!((0,i.isName)(f)||(0,a.isNum)(f)||(0,a.isBool)(f))){(0,a.info)('Unsupported value in document info for (custom) \"'.concat(h,'\".'));continue}d=f}r.Custom||(r.Custom=Object.create(null)),r.Custom[h]=d}}}catch(e){s=!0,c=e}finally{try{n||null==u.return||u.return()}finally{if(s)throw c}}}return(0,a.shadow)(this,\"documentInfo\",r)}},{key:\"fingerprint\",get:function(){var e,t=this.xref.trailer.get(\"ID\");Array.isArray(t)&&t[0]&&(0,a.isString)(t[0])&&\"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"!==t[0]?e=(0,a.stringToBytes)(t[0]):(this.stream.ensureRange&&this.stream.ensureRange(0,Math.min(1024,this.stream.end)),e=(0,l.calculateMD5)(this.stream.bytes.subarray(0,1024),0,1024));for(var r=\"\",n=0,i=e.length;n<i;n++){var o=e[n].toString(16);r+=1===o.length?\"0\"+o:o}return(0,a.shadow)(this,\"fingerprint\",r)}}]),e}();t.PDFDocument=S},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.FileSpec=t.XRef=t.ObjectLoader=t.Catalog=void 0;var a,n=(a=r(2))&&a.__esModule?a:{default:a},i=r(5),o=r(156),s=r(157),c=r(153),l=r(152),u=r(168),h=r(169);function f(e,t){return!t||\"object\"!==y(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function v(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var i=e.apply(t,r);function o(e){p(i,a,n,o,s,\"next\",e)}function s(e){p(i,a,n,o,s,\"throw\",e)}o(void 0)})}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function y(e){return(y=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function k(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e,t,r){return t&&k(e.prototype,t),r&&k(e,r),e}function C(e){return(0,o.isDict)(e)?e.get(\"D\"):e}var x=function(){function e(t,r){if(w(this,e),this.pdfManager=t,this.xref=r,this.catDict=r.getCatalogObj(),!(0,o.isDict)(this.catDict))throw new i.FormatError(\"Catalog object is not a dictionary.\");this.fontCache=new o.RefSetCache,this.builtInCMapCache=new Map,this.pageKidsCountCache=new o.RefSetCache}return S(e,[{key:\"_readDocumentOutline\",value:function(){var t=this.catDict.get(\"Outlines\");if(!(0,o.isDict)(t))return null;if(t=t.getRaw(\"First\"),!(0,o.isRef)(t))return null;var r={items:[]},a=[{obj:t,parent:r}],n=new o.RefSet;n.put(t);for(var s=this.xref,c=new Uint8ClampedArray(3);a.length>0;){var l=a.shift(),u=s.fetchIfRef(l.obj);if(null!==u){if(!u.has(\"Title\"))throw new i.FormatError(\"Invalid outline item encountered.\");var f={url:null,dest:null};e.parseDestDictionary({destDict:u,resultObj:f,docBaseUrl:this.pdfManager.docBaseUrl});var d=u.get(\"Title\"),g=u.get(\"F\")||0,m=u.getArray(\"C\"),p=c;!Array.isArray(m)||3!==m.length||0===m[0]&&0===m[1]&&0===m[2]||(p=h.ColorSpace.singletons.rgb.getRgb(m,0));var v={dest:f.dest,url:f.url,unsafeUrl:f.unsafeUrl,newWindow:f.newWindow,title:(0,i.stringToPDFString)(d),color:p,count:u.get(\"Count\"),bold:!!(2&g),italic:!!(1&g),items:[]};l.parent.items.push(v),t=u.getRaw(\"First\"),(0,o.isRef)(t)&&!n.has(t)&&(a.push({obj:t,parent:v}),n.put(t)),t=u.getRaw(\"Next\"),(0,o.isRef)(t)&&!n.has(t)&&(a.push({obj:t,parent:l.parent}),n.put(t))}}return r.items.length>0?r.items:null}},{key:\"_readPermissions\",value:function(){var e=this.xref.trailer.get(\"Encrypt\");if(!(0,o.isDict)(e))return null;var t=e.get(\"P\");if(!(0,i.isNum)(t))return null;t+=Math.pow(2,32);var r=[];for(var a in i.PermissionFlag){var n=i.PermissionFlag[a];t&n&&r.push(n)}return r}},{key:\"getDestination\",value:function(e){var t=this._readDests();return t instanceof P||t instanceof o.Dict?C(t.get(e)||null):null}},{key:\"_readDests\",value:function(){var e=this.catDict.get(\"Names\");return e&&e.has(\"Dests\")?new P(e.getRaw(\"Dests\"),this.xref):this.catDict.has(\"Dests\")?this.catDict.get(\"Dests\"):void 0}},{key:\"_readPageLabels\",value:function(){var e=this.catDict.getRaw(\"PageLabels\");if(!e)return null;for(var t=new Array(this.numPages),r=null,a=\"\",n=new I(e,this.xref).getAll(),s=\"\",l=1,u=0,h=this.numPages;u<h;u++){if(u in n){var f=n[u];if(!(0,o.isDict)(f))throw new i.FormatError(\"PageLabel is not a dictionary.\");if(f.has(\"Type\")&&!(0,o.isName)(f.get(\"Type\"),\"PageLabel\"))throw new i.FormatError(\"Invalid type in PageLabel dictionary.\");if(f.has(\"S\")){var d=f.get(\"S\");if(!(0,o.isName)(d))throw new i.FormatError(\"Invalid style in PageLabel dictionary.\");r=d.name}else r=null;if(f.has(\"P\")){var g=f.get(\"P\");if(!(0,i.isString)(g))throw new i.FormatError(\"Invalid prefix in PageLabel dictionary.\");a=(0,i.stringToPDFString)(g)}else a=\"\";if(f.has(\"St\")){var m=f.get(\"St\");if(!(Number.isInteger(m)&&m>=1))throw new i.FormatError(\"Invalid start in PageLabel dictionary.\");l=m}else l=1}switch(r){case\"D\":s=l;break;case\"R\":case\"r\":s=(0,c.toRomanNumerals)(l,\"r\"===r);break;case\"A\":case\"a\":for(var p=\"a\"===r?97:65,v=l-1,b=String.fromCharCode(p+v%26),y=[],w=0,k=v/26|0;w<=k;w++)y.push(b);s=y.join(\"\");break;default:if(r)throw new i.FormatError('Invalid style \"'.concat(r,'\" in PageLabel dictionary.'));s=\"\"}t[u]=a+s,l++}return t}},{key:\"fontFallback\",value:function(e,t){var r=[];return this.fontCache.forEach(function(e){r.push(e)}),Promise.all(r).then(function(r){var a=!0,n=!1,i=void 0;try{for(var o,s=r[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value;if(c.loadedName===e)return void c.fallback(t)}}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}})}},{key:\"cleanup\",value:function(){var e=this;this.pageKidsCountCache.clear();var t=[];return this.fontCache.forEach(function(e){t.push(e)}),Promise.all(t).then(function(t){for(var r=0,a=t.length;r<a;r++){delete t[r].dict.translated}e.fontCache.clear(),e.builtInCMapCache.clear()})}},{key:\"getPageDict\",value:function(e){var t,r=(0,i.createPromiseCapability)(),a=[this.catDict.getRaw(\"Pages\")],n=this.xref,s=this.pageKidsCountCache,c=0;return function l(){for(var u=function(){var u=a.pop();if((0,o.isRef)(u))return(t=s.get(u))>0&&c+t<e?(c+=t,\"continue\"):(n.fetchAsync(u).then(function(t){(0,o.isDict)(t,\"Page\")||(0,o.isDict)(t)&&!t.has(\"Kids\")?e===c?(u&&!s.has(u)&&s.put(u,1),r.resolve([t,u])):(c++,l()):(a.push(t),l())},r.reject),{v:void 0});if(!(0,o.isDict)(u))return r.reject(new i.FormatError(\"Page dictionary kid reference points to wrong type of object.\")),{v:void 0};if(t=u.get(\"Count\"),Number.isInteger(t)&&t>=0){var h=u.objId;if(h&&!s.has(h)&&s.put(h,t),c+t<=e)return c+=t,\"continue\"}var f=u.get(\"Kids\");if(!Array.isArray(f))return(0,o.isName)(u.get(\"Type\"),\"Page\")||!u.has(\"Type\")&&u.has(\"Contents\")?c===e?(r.resolve([u,null]),{v:void 0}):(c++,\"continue\"):(r.reject(new i.FormatError(\"Page dictionary kids object is not an array.\")),{v:void 0});for(var d=f.length-1;d>=0;d--)a.push(f[d])};a.length;){var h=u();switch(h){case\"continue\":continue;default:if(\"object\"===y(h))return h.v}}r.reject(new Error(\"Page index \".concat(e,\" not found.\")))}(),r.promise}},{key:\"getPageIndex\",value:function(e){var t=this.xref;var r=0;return function a(n){return function(r){var a,n=0;return t.fetchAsync(r).then(function(t){if((0,o.isRefsEqual)(r,e)&&!(0,o.isDict)(t,\"Page\")&&(!(0,o.isDict)(t)||t.has(\"Type\")||!t.has(\"Contents\")))throw new i.FormatError(\"The reference does not point to a /Page dictionary.\");if(!t)return null;if(!(0,o.isDict)(t))throw new i.FormatError(\"Node must be a dictionary.\");return a=t.getRaw(\"Parent\"),t.getAsync(\"Parent\")}).then(function(e){if(!e)return null;if(!(0,o.isDict)(e))throw new i.FormatError(\"Parent must be a dictionary.\");return e.getAsync(\"Kids\")}).then(function(e){if(!e)return null;for(var s=[],c=!1,l=0,u=e.length;l<u;l++){var h=e[l];if(!(0,o.isRef)(h))throw new i.FormatError(\"Kid must be a reference.\");if((0,o.isRefsEqual)(h,r)){c=!0;break}s.push(t.fetchAsync(h).then(function(e){if(!(0,o.isDict)(e))throw new i.FormatError(\"Kid node must be a dictionary.\");e.has(\"Count\")?n+=e.get(\"Count\"):n++}))}if(!c)throw new i.FormatError(\"Kid reference not found in parent's kids.\");return Promise.all(s).then(function(){return[n,a]})})}(n).then(function(e){if(!e)return r;var t=b(e,2),n=t[0],i=t[1];return r+=n,a(i)})}(e)}},{key:\"metadata\",get:function(){var e=this.catDict.getRaw(\"Metadata\");if(!(0,o.isRef)(e))return(0,i.shadow)(this,\"metadata\",null);var t,r=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),a=this.xref.fetch(e,r);if(a&&(0,o.isDict)(a.dict)){var n=a.dict.get(\"Type\"),s=a.dict.get(\"Subtype\");if((0,o.isName)(n,\"Metadata\")&&(0,o.isName)(s,\"XML\"))try{t=(0,i.stringToUTF8String)((0,i.bytesToString)(a.getBytes()))}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.info)(\"Skipping invalid metadata.\")}}return(0,i.shadow)(this,\"metadata\",t)}},{key:\"toplevelPagesDict\",get:function(){var e=this.catDict.get(\"Pages\");if(!(0,o.isDict)(e))throw new i.FormatError(\"Invalid top-level pages dictionary.\");return(0,i.shadow)(this,\"toplevelPagesDict\",e)}},{key:\"documentOutline\",get:function(){var e=null;try{e=this._readDocumentOutline()}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.warn)(\"Unable to read document outline.\")}return(0,i.shadow)(this,\"documentOutline\",e)}},{key:\"permissions\",get:function(){var e=null;try{e=this._readPermissions()}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.warn)(\"Unable to read permissions.\")}return(0,i.shadow)(this,\"permissions\",e)}},{key:\"numPages\",get:function(){var e=this.toplevelPagesDict.get(\"Count\");if(!Number.isInteger(e))throw new i.FormatError(\"Page count in top-level pages dictionary is not an integer.\");return(0,i.shadow)(this,\"numPages\",e)}},{key:\"destinations\",get:function(){var e=this._readDests(),t=Object.create(null);if(e instanceof P){var r=e.getAll();for(var a in r)t[a]=C(r[a])}else e instanceof o.Dict&&e.forEach(function(e,r){r&&(t[e]=C(r))});return(0,i.shadow)(this,\"destinations\",t)}},{key:\"pageLabels\",get:function(){var e=null;try{e=this._readPageLabels()}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.warn)(\"Unable to read page labels.\")}return(0,i.shadow)(this,\"pageLabels\",e)}},{key:\"pageLayout\",get:function(){var e=this.catDict.get(\"PageLayout\"),t=\"\";if((0,o.isName)(e))switch(e.name){case\"SinglePage\":case\"OneColumn\":case\"TwoColumnLeft\":case\"TwoColumnRight\":case\"TwoPageLeft\":case\"TwoPageRight\":t=e.name}return(0,i.shadow)(this,\"pageLayout\",t)}},{key:\"pageMode\",get:function(){var e=this.catDict.get(\"PageMode\"),t=\"UseNone\";if((0,o.isName)(e))switch(e.name){case\"UseNone\":case\"UseOutlines\":case\"UseThumbs\":case\"FullScreen\":case\"UseOC\":case\"UseAttachments\":t=e.name}return(0,i.shadow)(this,\"pageMode\",t)}},{key:\"viewerPreferences\",get:function(){var e=this,t={HideToolbar:i.isBool,HideMenubar:i.isBool,HideWindowUI:i.isBool,FitWindow:i.isBool,CenterWindow:i.isBool,DisplayDocTitle:i.isBool,NonFullScreenPageMode:o.isName,Direction:o.isName,ViewArea:o.isName,ViewClip:o.isName,PrintArea:o.isName,PrintClip:o.isName,PrintScaling:o.isName,Duplex:o.isName,PickTrayByPDFSize:i.isBool,PrintPageRange:Array.isArray,NumCopies:Number.isInteger},r=this.catDict.get(\"ViewerPreferences\"),a=Object.create(null);if((0,o.isDict)(r))for(var n in t)if(r.has(n)){var s=r.get(n);if(t[n](s)){var c=void 0;switch(n){case\"NonFullScreenPageMode\":switch(s.name){case\"UseNone\":case\"UseOutlines\":case\"UseThumbs\":case\"UseOC\":c=s.name;break;default:c=\"UseNone\"}break;case\"Direction\":switch(s.name){case\"L2R\":case\"R2L\":c=s.name;break;default:c=\"L2R\"}break;case\"ViewArea\":case\"ViewClip\":case\"PrintArea\":case\"PrintClip\":switch(s.name){case\"MediaBox\":case\"CropBox\":case\"BleedBox\":case\"TrimBox\":case\"ArtBox\":c=s.name;break;default:c=\"CropBox\"}break;case\"PrintScaling\":switch(s.name){case\"None\":case\"AppDefault\":c=s.name;break;default:c=\"AppDefault\"}break;case\"Duplex\":switch(s.name){case\"Simplex\":case\"DuplexFlipShortEdge\":case\"DuplexFlipLongEdge\":c=s.name;break;default:c=\"None\"}break;case\"PrintPageRange\":if(s.length%2!=0)break;s.every(function(t,r,a){return Number.isInteger(t)&&t>0&&(0===r||t>=a[r-1])&&t<=e.numPages})&&(c=s);break;case\"NumCopies\":s>0&&(c=s);break;default:(0,i.assert)(\"boolean\"==typeof s),c=s}void 0!==c?a[n]=c:(0,i.info)('Bad value in ViewerPreferences for \"'.concat(n,'\".'))}else(0,i.info)('Bad value in ViewerPreferences for \"'.concat(n,'\".'))}return(0,i.shadow)(this,\"viewerPreferences\",a)}},{key:\"openActionDestination\",get:function(){var t=this.catDict.get(\"OpenAction\"),r=null;if((0,o.isDict)(t)){var a=new o.Dict(this.xref);a.set(\"A\",t);var n={url:null,dest:null};e.parseDestDictionary({destDict:a,resultObj:n}),Array.isArray(n.dest)&&(r=n.dest)}else Array.isArray(t)&&(r=t);return(0,i.shadow)(this,\"openActionDestination\",r)}},{key:\"attachments\",get:function(){var e=this.catDict.get(\"Names\"),t=null;if(e&&e.has(\"EmbeddedFiles\")){var r=new P(e.getRaw(\"EmbeddedFiles\"),this.xref).getAll();for(var a in r){var n=new O(r[a],this.xref);t||(t=Object.create(null)),t[(0,i.stringToPDFString)(a)]=n.serializable}}return(0,i.shadow)(this,\"attachments\",t)}},{key:\"javaScript\",get:function(){var e=this.catDict.get(\"Names\"),t=null;function r(e){var r=e.get(\"S\");if((0,o.isName)(r,\"JavaScript\")){var a=e.get(\"JS\");if((0,o.isStream)(a))a=(0,i.bytesToString)(a.getBytes());else if(!(0,i.isString)(a))return;t||(t=[]),t.push((0,i.stringToPDFString)(a))}}if(e&&e.has(\"JavaScript\")){var a=new P(e.getRaw(\"JavaScript\"),this.xref).getAll();for(var n in a){var s=a[n];(0,o.isDict)(s)&&r(s)}}var c=this.catDict.get(\"OpenAction\");if((0,o.isDict)(c,\"Action\")){var l=c.get(\"S\");if((0,o.isName)(l,\"Named\")){var u=c.get(\"N\");(0,o.isName)(u,\"Print\")&&(t||(t=[]),t.push(\"print({});\"))}else r(c)}return(0,i.shadow)(this,\"javaScript\",t)}}],[{key:\"parseDestDictionary\",value:function(e){var t=e.destDict;if((0,o.isDict)(t)){var r=e.resultObj;if(\"object\"===y(r)){var a,n,s=e.docBaseUrl||null,c=t.get(\"A\");if(!(0,o.isDict)(c)&&t.has(\"Dest\")&&(c=t.get(\"Dest\")),(0,o.isDict)(c)){var l=c.get(\"S\");if(!(0,o.isName)(l))return void(0,i.warn)(\"parseDestDictionary: Invalid type in Action dictionary.\");var u=l.name;switch(u){case\"URI\":a=c.get(\"URI\"),(0,o.isName)(a)?a=\"/\"+a.name:(0,i.isString)(a)&&(a=function(e){return e.startsWith(\"www.\")?\"http://\".concat(e):e}(a));break;case\"GoTo\":n=c.get(\"D\");break;case\"Launch\":case\"GoToR\":var h=c.get(\"F\");(0,o.isDict)(h)?a=h.get(\"F\")||null:(0,i.isString)(h)&&(a=h);var f=c.get(\"D\");if(f&&((0,o.isName)(f)&&(f=f.name),(0,i.isString)(a))){var d=a.split(\"#\")[0];(0,i.isString)(f)?a=d+\"#\"+f:Array.isArray(f)&&(a=d+\"#\"+JSON.stringify(f))}var g=c.get(\"NewWindow\");(0,i.isBool)(g)&&(r.newWindow=g);break;case\"Named\":var m=c.get(\"N\");(0,o.isName)(m)&&(r.action=m.name);break;case\"JavaScript\":var p,v=c.get(\"JS\");if((0,o.isStream)(v)?p=(0,i.bytesToString)(v.getBytes()):(0,i.isString)(v)&&(p=v),p){var b=new RegExp(\"^\\\\s*(\"+[\"app.launchURL\",\"window.open\"].join(\"|\").split(\".\").join(\"\\\\.\")+\")\\\\((?:'|\\\")([^'\\\"]*)(?:'|\\\")(?:,\\\\s*(\\\\w+)\\\\)|\\\\))\",\"i\").exec((0,i.stringToPDFString)(p));if(b&&b[2]){a=b[2],\"true\"===b[3]&&\"app.launchURL\"===b[1]&&(r.newWindow=!0);break}}default:(0,i.warn)('parseDestDictionary: unsupported action type \"'.concat(u,'\".'))}}else t.has(\"Dest\")&&(n=t.get(\"Dest\"));if((0,i.isString)(a)){a=function(e){try{return(0,i.stringToUTF8String)(e)}catch(t){return e}}(a);var w=(0,i.createValidAbsoluteUrl)(a,s);w&&(r.url=w.href),r.unsafeUrl=a}n&&((0,o.isName)(n)&&(n=n.name),((0,i.isString)(n)||Array.isArray(n))&&(r.dest=n))}else(0,i.warn)(\"parseDestDictionary: `resultObj` must be an object.\")}else(0,i.warn)(\"parseDestDictionary: `destDict` must be a dictionary.\")}}]),e}();t.Catalog=x;var A=function(){function e(e,t){this.stream=e,this.pdfManager=t,this.entries=[],this.xrefstms=Object.create(null),this.cache=[],this.stats={streamTypes:[],fontTypes:[]}}return e.prototype={setStartXRef:function(e){this.startXRefQueue=[e]},parse:function(e){var t,r,a;e?((0,i.warn)(\"Indexing all PDF objects\"),t=this.indexObjects()):t=this.readXRef(),t.assignXref(this),this.trailer=t;try{r=t.get(\"Encrypt\")}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.warn)('XRef.parse - Invalid \"Encrypt\" reference: \"'.concat(e,'\".'))}if((0,o.isDict)(r)){var n=t.get(\"ID\"),s=n&&n.length?n[0]:\"\";r.suppressEncryption=!0,this.encrypt=new u.CipherTransformFactory(r,s,this.pdfManager.password)}try{a=t.get(\"Root\")}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.warn)('XRef.parse - Invalid \"Root\" reference: \"'.concat(e,'\".'))}if(!(0,o.isDict)(a)||!a.has(\"Pages\")){if(!e)throw new c.XRefParseException;throw new i.FormatError(\"Invalid root reference\")}this.root=a},processXRefTable:function(e){\"tableState\"in this||(this.tableState={entryNum:0,streamPos:e.lexer.stream.pos,parserBuf1:e.buf1,parserBuf2:e.buf2});var t=this.readXRefTable(e);if(!(0,o.isCmd)(t,\"trailer\"))throw new i.FormatError(\"Invalid XRef table: could not find trailer dictionary\");var r=e.getObj();if(!(0,o.isDict)(r)&&r.dict&&(r=r.dict),!(0,o.isDict)(r))throw new i.FormatError(\"Invalid XRef table: could not parse trailer dictionary\");return delete this.tableState,r},readXRefTable:function(e){var t,r=e.lexer.stream,a=this.tableState;for(r.pos=a.streamPos,e.buf1=a.parserBuf1,e.buf2=a.parserBuf2;;){if(!(\"firstEntryNum\"in a&&\"entryCount\"in a)){if((0,o.isCmd)(t=e.getObj(),\"trailer\"))break;a.firstEntryNum=t,a.entryCount=e.getObj()}var n=a.firstEntryNum,s=a.entryCount;if(!Number.isInteger(n)||!Number.isInteger(s))throw new i.FormatError(\"Invalid XRef table: wrong types in subsection header\");for(var c=a.entryNum;c<s;c++){a.streamPos=r.pos,a.entryNum=c,a.parserBuf1=e.buf1,a.parserBuf2=e.buf2;var l={};l.offset=e.getObj(),l.gen=e.getObj();var u=e.getObj();if((0,o.isCmd)(u,\"f\")?l.free=!0:(0,o.isCmd)(u,\"n\")&&(l.uncompressed=!0),!Number.isInteger(l.offset)||!Number.isInteger(l.gen)||!l.free&&!l.uncompressed)throw new i.FormatError(\"Invalid entry in XRef subsection: \".concat(n,\", \").concat(s));0===c&&l.free&&1===n&&(n=0),this.entries[c+n]||(this.entries[c+n]=l)}a.entryNum=0,a.streamPos=r.pos,a.parserBuf1=e.buf1,a.parserBuf2=e.buf2,delete a.firstEntryNum,delete a.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new i.FormatError(\"Invalid XRef table: unexpected first object\");return t},processXRefStream:function(e){if(!(\"streamState\"in this)){var t=e.dict,r=t.get(\"W\"),a=t.get(\"Index\");a||(a=[0,t.get(\"Size\")]),this.streamState={entryRanges:a,byteWidths:r,entryNum:0,streamPos:e.pos}}return this.readXRefStream(e),delete this.streamState,e.dict},readXRefStream:function(e){var t,r,a=this.streamState;e.pos=a.streamPos;for(var n=a.byteWidths,o=n[0],s=n[1],c=n[2],l=a.entryRanges;l.length>0;){var u=l[0],h=l[1];if(!Number.isInteger(u)||!Number.isInteger(h))throw new i.FormatError(\"Invalid XRef range fields: \".concat(u,\", \").concat(h));if(!Number.isInteger(o)||!Number.isInteger(s)||!Number.isInteger(c))throw new i.FormatError(\"Invalid XRef entry fields length: \".concat(u,\", \").concat(h));for(t=a.entryNum;t<h;++t){a.entryNum=t,a.streamPos=e.pos;var f=0,d=0,g=0;for(r=0;r<o;++r)f=f<<8|e.getByte();for(0===o&&(f=1),r=0;r<s;++r)d=d<<8|e.getByte();for(r=0;r<c;++r)g=g<<8|e.getByte();var m={};switch(m.offset=d,m.gen=g,f){case 0:m.free=!0;break;case 1:m.uncompressed=!0;break;case 2:break;default:throw new i.FormatError(\"Invalid XRef entry type: \".concat(f))}this.entries[u+t]||(this.entries[u+t]=m)}a.entryNum=0,a.streamPos=e.pos,l.splice(0,2)}},indexObjects:function(){var e=10,t=13,r=60;function a(a,n){for(var i=\"\",o=a[n];o!==e&&o!==t&&o!==r&&!(++n>=a.length);)i+=String.fromCharCode(o),o=a[n];return i}function n(e,t,r){for(var a=r.length,n=e.length,i=0;t<n;){for(var o=0;o<a&&e[t+o]===r[o];)++o;if(o>=a)break;t++,i++}return i}var l=/^(\\d+)\\s+(\\d+)\\s+obj\\b/,u=/\\bendobj[\\b\\s]$/,h=/\\s+(\\d+\\s+\\d+\\s+obj[\\b\\s<])$/,f=new Uint8Array([116,114,97,105,108,101,114]),d=new Uint8Array([115,116,97,114,116,120,114,101,102]),g=new Uint8Array([111,98,106]),m=new Uint8Array([47,88,82,101,102]);this.entries.length=0;var p=this.stream;p.pos=0;for(var v,b,y,w=p.getBytes(),k=p.start,S=w.length,C=[],x=[];k<S;){var A=w[k];if(9!==A&&A!==e&&A!==t&&32!==A)if(37!==A){var _,P=a(w,k);if(P.startsWith(\"xref\")&&(4===P.length||/\\s/.test(P[4])))k+=n(w,k,f),C.push(k),k+=n(w,k,d);else if(_=l.exec(P)){var I=0|_[1],O=0|_[2];void 0===this.entries[I]&&(this.entries[I]={offset:k-p.start,gen:O,uncompressed:!0});for(var T=void 0,E=k+P.length;E<w.length;){var F=E+n(w,E,g)+4;T=F-k;var R=Math.max(F-25,E),B=(0,i.bytesToString)(w.subarray(R,F));if(u.test(B))break;var D=h.exec(B);if(D&&D[1]){(0,i.warn)('indexObjects: Found new \"obj\" inside of another \"obj\", caused by missing \"endobj\" -- trying to recover.'),T-=D[1].length;break}E=F}var M=w.subarray(k,k+T),L=n(M,0,m);L<T&&M[L+5]<64&&(x.push(k-p.start),this.xrefstms[k-p.start]=1),k+=T}else P.startsWith(\"trailer\")&&(7===P.length||/\\s/.test(P[7]))?(C.push(k),k+=n(w,k,d)):k+=P.length+1}else do{if(++k>=S)break;A=w[k]}while(A!==e&&A!==t);else++k}for(v=0,b=x.length;v<b;++v)this.startXRefQueue.push(x[v]),this.readXRef(!0);for(v=0,b=C.length;v<b;++v){p.pos=C[v];var N=new s.Parser(new s.Lexer(p),!0,this,!0),U=N.getObj();if((0,o.isCmd)(U,\"trailer\")){var q=N.getObj();if((0,o.isDict)(q)){var j=void 0;try{j=q.get(\"Root\")}catch(e){if(e instanceof c.MissingDataException)throw e;continue}if((0,o.isDict)(j)&&j.has(\"Pages\")){if(q.has(\"ID\"))return q;y=q}}}}if(y)return y;throw new i.InvalidPDFException(\"Invalid PDF structure\")},readXRef:function(e){var t=this.stream,r=Object.create(null);try{for(;this.startXRefQueue.length;){var a=this.startXRefQueue[0];if(r[a])(0,i.warn)(\"readXRef - skipping XRef table since it was already parsed.\"),this.startXRefQueue.shift();else{r[a]=!0,t.pos=a+t.start;var n,l=new s.Parser(new s.Lexer(t),!0,this),u=l.getObj();if((0,o.isCmd)(u,\"xref\")){if(n=this.processXRefTable(l),this.topDict||(this.topDict=n),u=n.get(\"XRefStm\"),Number.isInteger(u)){var h=u;h in this.xrefstms||(this.xrefstms[h]=1,this.startXRefQueue.push(h))}}else{if(!Number.isInteger(u))throw new i.FormatError(\"Invalid XRef stream header\");if(!Number.isInteger(l.getObj())||!(0,o.isCmd)(l.getObj(),\"obj\")||!(0,o.isStream)(u=l.getObj()))throw new i.FormatError(\"Invalid XRef stream\");if(n=this.processXRefStream(u),this.topDict||(this.topDict=n),!n)throw new i.FormatError(\"Failed to read XRef stream\")}u=n.get(\"Prev\"),Number.isInteger(u)?this.startXRefQueue.push(u):(0,o.isRef)(u)&&this.startXRefQueue.push(u.num),this.startXRefQueue.shift()}}return this.topDict}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.info)(\"(while reading XRef): \"+e)}if(!e)throw new c.XRefParseException},getEntry:function(e){var t=this.entries[e];return t&&!t.free&&t.offset?t:null},fetchIfRef:function(e,t){return(0,o.isRef)(e)?this.fetch(e,t):e},fetch:function(e,t){if(!(0,o.isRef)(e))throw new Error(\"ref object is not a reference\");var r=e.num;if(r in this.cache){var a=this.cache[r];return a instanceof o.Dict&&!a.objId&&(a.objId=e.toString()),a}var n=this.getEntry(r);return null===n?this.cache[r]=null:(n=n.uncompressed?this.fetchUncompressed(e,n,t):this.fetchCompressed(e,n,t),(0,o.isDict)(n)?n.objId=e.toString():(0,o.isStream)(n)&&(n.dict.objId=e.toString()),n)},fetchUncompressed:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.gen,n=e.num;if(t.gen!==a)throw new c.XRefEntryException(\"Inconsistent generation in XRef: \".concat(e));var i=this.stream.makeSubStream(t.offset+this.stream.start),l=new s.Parser(new s.Lexer(i),!0,this),u=l.getObj(),h=l.getObj(),f=l.getObj();if(Number.isInteger(u)||(u=parseInt(u,10)),Number.isInteger(h)||(h=parseInt(h,10)),u!==n||h!==a||!(0,o.isCmd)(f))throw new c.XRefEntryException(\"Bad (uncompressed) XRef entry: \".concat(e));if(\"obj\"!==f.cmd){if(f.cmd.startsWith(\"obj\")&&(n=parseInt(f.cmd.substring(3),10),!Number.isNaN(n)))return n;throw new c.XRefEntryException(\"Bad (uncompressed) XRef entry: \".concat(e))}return t=this.encrypt&&!r?l.getObj(this.encrypt.createCipherTransform(n,a)):l.getObj(),(0,o.isStream)(t)||(this.cache[n]=t),t},fetchCompressed:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=t.offset,a=this.fetch(new o.Ref(r,0));if(!(0,o.isStream)(a))throw new i.FormatError(\"bad ObjStm stream\");var n=a.dict.get(\"First\"),l=a.dict.get(\"N\");if(!Number.isInteger(n)||!Number.isInteger(l))throw new i.FormatError(\"invalid first and n parameters for ObjStm stream\");var u=new s.Parser(new s.Lexer(a),!1,this);u.allowStreams=!0;var h,f,d=[],g=[];for(h=0;h<l;++h){if(f=u.getObj(),!Number.isInteger(f))throw new i.FormatError(\"invalid object number in the ObjStm stream: \".concat(f));g.push(f);var m=u.getObj();if(!Number.isInteger(m))throw new i.FormatError(\"invalid object offset in the ObjStm stream: \".concat(m))}for(h=0;h<l;++h){d.push(u.getObj()),(0,o.isCmd)(u.buf1,\"endobj\")&&u.shift(),f=g[h];var p=this.entries[f];p&&p.offset===r&&p.gen===h&&(this.cache[f]=d[h])}if(void 0===(t=d[t.gen]))throw new c.XRefEntryException(\"Bad (compressed) XRef entry: \".concat(e));return t},fetchIfRefAsync:function(){var e=v(n.default.mark(function e(t,r){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,o.isRef)(t)){e.next=2;break}return e.abrupt(\"return\",t);case 2:return e.abrupt(\"return\",this.fetchAsync(t,r));case 3:case\"end\":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),fetchAsync:function(){var e=v(n.default.mark(function e(t,r){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt(\"return\",this.fetch(t,r));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof c.MissingDataException){e.next=8;break}throw e.t0;case 8:return e.next=10,this.pdfManager.requestRange(e.t0.begin,e.t0.end);case 10:return e.abrupt(\"return\",this.fetchAsync(t,r));case 11:case\"end\":return e.stop()}},e,this,[[0,4]])}));return function(t,r){return e.apply(this,arguments)}}(),getCatalogObj:function(){return this.root}},e}();t.XRef=A;var _=function(){function e(t,r,a){w(this,e),this.constructor===e&&(0,i.unreachable)(\"Cannot initialize NameOrNumberTree.\"),this.root=t,this.xref=r,this._type=a}return S(e,[{key:\"getAll\",value:function(){var e=Object.create(null);if(!this.root)return e;var t=this.xref,r=new o.RefSet;r.put(this.root);for(var a=[this.root];a.length>0;){var n=t.fetchIfRef(a.shift());if((0,o.isDict)(n))if(n.has(\"Kids\"))for(var s=n.get(\"Kids\"),c=0,l=s.length;c<l;c++){var u=s[c];if(r.has(u))throw new i.FormatError('Duplicate entry in \"'.concat(this._type,'\" tree.'));a.push(u),r.put(u)}else{var h=n.get(this._type);if(Array.isArray(h))for(var f=0,d=h.length;f<d;f+=2)e[t.fetchIfRef(h[f])]=t.fetchIfRef(h[f+1])}}return e}},{key:\"get\",value:function(e){if(!this.root)return null;for(var t=this.xref,r=t.fetchIfRef(this.root),a=0;r.has(\"Kids\");){if(++a>10)return(0,i.warn)('Search depth limit reached for \"'.concat(this._type,'\" tree.')),null;var n=r.get(\"Kids\");if(!Array.isArray(n))return null;for(var o=0,s=n.length-1;o<=s;){var c=o+s>>1,l=t.fetchIfRef(n[c]).get(\"Limits\");if(e<t.fetchIfRef(l[0]))s=c-1;else{if(!(e>t.fetchIfRef(l[1]))){r=t.fetchIfRef(n[c]);break}o=c+1}}if(o>s)return null}var u=r.get(this._type);if(Array.isArray(u)){for(var h=0,f=u.length-2;h<=f;){var d=h+f>>1,g=d+(1&d),m=t.fetchIfRef(u[g]);if(e<m)f=g-2;else{if(!(e>m))return t.fetchIfRef(u[g+1]);h=g+2}}(0,i.info)('Falling back to an exhaustive search, for key \"'.concat(e,'\", ')+'in \"'.concat(this._type,'\" tree.'));for(var p=0,v=u.length;p<v;p+=2){if(t.fetchIfRef(u[p])===e)return(0,i.warn)('The \"'.concat(e,'\" key was found at an incorrect, ')+'i.e. out-of-order, position in \"'.concat(this._type,'\" tree.')),t.fetchIfRef(u[p+1])}}return null}}]),e}(),P=function(e){function t(e,r){return w(this,t),f(this,d(t).call(this,e,r,\"Names\"))}return g(t,_),t}(),I=function(e){function t(e,r){return w(this,t),f(this,d(t).call(this,e,r,\"Nums\"))}return g(t,_),t}(),O=function(){function e(e,t){e&&(0,o.isDict)(e)&&(this.xref=t,this.root=e,e.has(\"FS\")&&(this.fs=e.get(\"FS\")),this.description=e.has(\"Desc\")?(0,i.stringToPDFString)(e.get(\"Desc\")):\"\",e.has(\"RF\")&&(0,i.warn)(\"Related file specifications are not supported\"),this.contentAvailable=!0,e.has(\"EF\")||(this.contentAvailable=!1,(0,i.warn)(\"Non-embedded file specifications are not supported\")))}function t(e){return e.has(\"UF\")?e.get(\"UF\"):e.has(\"F\")?e.get(\"F\"):e.has(\"Unix\")?e.get(\"Unix\"):e.has(\"Mac\")?e.get(\"Mac\"):e.has(\"DOS\")?e.get(\"DOS\"):null}return e.prototype={get filename(){if(!this._filename&&this.root){var e=t(this.root)||\"unnamed\";this._filename=(0,i.stringToPDFString)(e).replace(/\\\\\\\\/g,\"\\\\\").replace(/\\\\\\//g,\"/\").replace(/\\\\/g,\"/\")}return this._filename},get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=t(this.root.get(\"EF\")));var e=null;if(this.contentRef){var r=this.xref.fetchIfRef(this.contentRef);r&&(0,o.isStream)(r)?e=r.getBytes():(0,i.warn)(\"Embedded file specification points to non-existing/invalid content\")}else(0,i.warn)(\"Embedded file specification does not have a content\");return e},get serializable(){return{filename:this.filename,content:this.content}}},e}();t.FileSpec=O;var T=function(){function e(e){return(0,o.isRef)(e)||(0,o.isDict)(e)||Array.isArray(e)||(0,o.isStream)(e)}function t(t,r){if((0,o.isDict)(t)||(0,o.isStream)(t))for(var a=(0,o.isDict)(t)?t:t.dict,n=a.getKeys(),i=0,s=n.length;i<s;i++){var c=a.getRaw(n[i]);e(c)&&r.push(c)}else if(Array.isArray(t))for(var l=0,u=t.length;l<u;l++){var h=t[l];e(h)&&r.push(h)}}function r(e,t,r){this.dict=e,this.keys=t,this.xref=r,this.refSet=null,this.capability=null}return r.prototype={load:function(){if(this.capability=(0,i.createPromiseCapability)(),!(this.xref.stream instanceof l.ChunkedStream)||0===this.xref.stream.getMissingChunks().length)return this.capability.resolve(),this.capability.promise;var e=this.keys,t=this.dict;this.refSet=new o.RefSet;for(var r=[],a=0,n=e.length;a<n;a++){var s=t.getRaw(e[a]);void 0!==s&&r.push(s)}return this._walk(r),this.capability.promise},_walk:function(e){for(var r=this,a=[],n=[];e.length;){var i=e.pop();if((0,o.isRef)(i)){if(this.refSet.has(i))continue;try{this.refSet.put(i),i=this.xref.fetch(i)}catch(e){if(!(e instanceof c.MissingDataException))throw e;a.push(i),n.push({begin:e.begin,end:e.end})}}if(i&&i.getBaseStreams){for(var s=i.getBaseStreams(),l=!1,u=0,h=s.length;u<h;u++){var f=s[u];f.getMissingChunks&&f.getMissingChunks().length&&(l=!0,n.push({begin:f.start,end:f.end}))}l&&a.push(i)}t(i,e)}n.length?this.xref.stream.manager.requestRanges(n).then(function(){for(var e=0,t=a.length;e<t;e++){var n=a[e];(0,o.isRef)(n)&&r.refSet.remove(n)}r._walk(a)},this.capability.reject):(this.refSet=null,this.capability.resolve())}},r}();t.ObjectLoader=T},function(e,t,r){\"use strict\";function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.isEOF=function(e){return e===n},t.isCmd=function(e,t){return e instanceof o&&(void 0===t||e.cmd===t)},t.isDict=f,t.isName=h,t.isRef=d,t.isRefsEqual=function(e,t){return e.num===t.num&&e.gen===t.gen},t.isStream=function(e){return\"object\"===a(e)&&null!==e&&void 0!==e.getBytes},t.RefSetCache=t.RefSet=t.Ref=t.Name=t.Dict=t.Cmd=t.EOF=void 0;var n={};t.EOF=n;var i=function(){function e(e){this.name=e}e.prototype={};var t=Object.create(null);return e.get=function(r){var a=t[r];return a||(t[r]=new e(r))},e}();t.Name=i;var o=function(){function e(e){this.cmd=e}e.prototype={};var t=Object.create(null);return e.get=function(r){var a=t[r];return a||(t[r]=new e(r))},e}();t.Cmd=o;var s=function(){var e=function(){return e};function t(t){this._map=Object.create(null),this.xref=t,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=e}return t.prototype={assignXref:function(e){this.xref=e},get:function(e,t,r){var a,n=this.xref,i=this.suppressEncryption;return void 0!==(a=this._map[e])||e in this._map||void 0===t?n?n.fetchIfRef(a,i):a:void 0!==(a=this._map[t])||t in this._map||void 0===r?n?n.fetchIfRef(a,i):a:(a=this._map[r]||null,n?n.fetchIfRef(a,i):a)},getAsync:function(e,t,r){var a,n=this.xref,i=this.suppressEncryption;return void 0!==(a=this._map[e])||e in this._map||void 0===t?n?n.fetchIfRefAsync(a,i):Promise.resolve(a):void 0!==(a=this._map[t])||t in this._map||void 0===r?n?n.fetchIfRefAsync(a,i):Promise.resolve(a):(a=this._map[r]||null,n?n.fetchIfRefAsync(a,i):Promise.resolve(a))},getArray:function(e,t,r){var a=this.get(e,t,r),n=this.xref,i=this.suppressEncryption;if(!Array.isArray(a)||!n)return a;for(var o=0,s=(a=a.slice()).length;o<s;o++)d(a[o])&&(a[o]=n.fetch(a[o],i));return a},getRaw:function(e){return this._map[e]},getKeys:function(){return Object.keys(this._map)},set:function(e,t){this._map[e]=t},has:function(e){return e in this._map},forEach:function(e){for(var t in this._map)e(t,this.get(t))}},t.empty=new t(null),t.merge=function(e,r){for(var a=new t(e),n=0,i=r.length;n<i;n++){var o=r[n];if(f(o))for(var s in o._map)void 0===a._map[s]&&(a._map[s]=o._map[s])}return a},t}();t.Dict=s;var c=function(){function e(e,t){this.num=e,this.gen=t}return e.prototype={toString:function(){return 0!==this.gen?\"\".concat(this.num,\"R\").concat(this.gen):\"\".concat(this.num,\"R\")}},e}();t.Ref=c;var l=function(){function e(){this.dict=Object.create(null)}return e.prototype={has:function(e){return e.toString()in this.dict},put:function(e){this.dict[e.toString()]=!0},remove:function(e){delete this.dict[e.toString()]}},e}();t.RefSet=l;var u=function(){function e(){this.dict=Object.create(null)}return e.prototype={get:function(e){return this.dict[e.toString()]},has:function(e){return e.toString()in this.dict},put:function(e,t){this.dict[e.toString()]=t},putAlias:function(e,t){this.dict[e.toString()]=this.get(t)},forEach:function(e,t){for(var r in this.dict)e.call(t,this.dict[r])},clear:function(){this.dict=Object.create(null)}},e}();function h(e,t){return e instanceof i&&(void 0===t||e.name===t)}function f(e,t){return e instanceof s&&(void 0===t||h(e.get(\"Type\"),t))}function d(e){return e instanceof c}t.RefSetCache=u},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Parser=t.Linearization=t.Lexer=void 0;var a=r(158),n=r(5),i=r(156),o=r(159),s=r(161),c=r(164),l=r(166),u=r(153);function h(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function g(e){for(var t=e.length,r=1,a=0,n=0;n<t;++n)a+=r+=255&e[n];return a%65521<<16|r%65521}var m=function(){function e(t,r,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];h(this,e),this.lexer=t,this.allowStreams=r,this.xref=a,this.recoveryMode=n,this.imageCache=Object.create(null),this.refill()}return d(e,[{key:\"refill\",value:function(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}},{key:\"shift\",value:function(){(0,i.isCmd)(this.buf2,\"ID\")?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}},{key:\"tryShift\",value:function(){try{return this.shift(),!0}catch(e){if(e instanceof u.MissingDataException)throw e;return!1}}},{key:\"getObj\",value:function(e){var t=this.buf1;if(this.shift(),t instanceof i.Cmd)switch(t.cmd){case\"BI\":return this.makeInlineImage(e);case\"[\":for(var r=[];!(0,i.isCmd)(this.buf1,\"]\")&&!(0,i.isEOF)(this.buf1);)r.push(this.getObj(e));if((0,i.isEOF)(this.buf1)){if(!this.recoveryMode)throw new n.FormatError(\"End of file inside array\");return r}return this.shift(),r;case\"<<\":for(var a=new i.Dict(this.xref);!(0,i.isCmd)(this.buf1,\">>\")&&!(0,i.isEOF)(this.buf1);)if((0,i.isName)(this.buf1)){var o=this.buf1.name;if(this.shift(),(0,i.isEOF)(this.buf1))break;a.set(o,this.getObj(e))}else(0,n.info)(\"Malformed dictionary: key must be a name object\"),this.shift();if((0,i.isEOF)(this.buf1)){if(!this.recoveryMode)throw new n.FormatError(\"End of file inside dictionary\");return a}return(0,i.isCmd)(this.buf2,\"stream\")?this.allowStreams?this.makeStream(a,e):a:(this.shift(),a);default:return t}if(Number.isInteger(t)){var s=t;if(Number.isInteger(this.buf1)&&(0,i.isCmd)(this.buf2,\"R\")){var c=new i.Ref(s,this.buf1);return this.shift(),this.shift(),c}return s}if((0,n.isString)(t)){var l=t;return e&&(l=e.decryptString(l)),l}return t}},{key:\"findDefaultInlineStreamEnd\",value:function(e){for(var t,r,a=e.pos,i=0;-1!==(t=e.getByte());)if(0===i)i=69===t?1:0;else if(1===i)i=73===t?2:0;else if((0,n.assert)(2===i),32===t||10===t||13===t){r=e.pos;for(var o=e.peekBytes(10),s=0,c=o.length;s<c;s++)if((0!==(t=o[s])||0===o[s+1])&&10!==t&&13!==t&&(t<32||t>127)){i=0;break}if(2===i)break}else i=0;-1===t&&((0,n.warn)(\"findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker\"),r&&((0,n.warn)('... trying to recover by using the last \"EI\" occurrence.'),e.skip(-(e.pos-r))));var l=4;return e.skip(-l),t=e.peekByte(),e.skip(l),(0,n.isSpace)(t)||l--,e.pos-l-a}},{key:\"findDCTDecodeInlineStreamEnd\",value:function(e){for(var t,r,a,i=e.pos,o=!1;-1!==(t=e.getByte());)if(255===t){switch(e.getByte()){case 0:break;case 255:e.skip(-1);break;case 217:o=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:(r=e.getUint16())>2?e.skip(r-2):e.skip(-2)}if(o)break}return a=e.pos-i,-1===t?((0,n.warn)(\"Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead.\"),e.skip(-a),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),a)}},{key:\"findASCII85DecodeInlineStreamEnd\",value:function(e){for(var t,r,a=e.pos;-1!==(t=e.getByte());)if(126===t){for(t=e.peekByte();(0,n.isSpace)(t);)e.skip(),t=e.peekByte();if(62===t){e.skip();break}}return r=e.pos-a,-1===t?((0,n.warn)(\"Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead.\"),e.skip(-r),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),r)}},{key:\"findASCIIHexDecodeInlineStreamEnd\",value:function(e){for(var t,r,a=e.pos;-1!==(t=e.getByte())&&62!==t;);return r=e.pos-a,-1===t?((0,n.warn)(\"Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead.\"),e.skip(-r),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),r)}},{key:\"inlineStreamSkipEI\",value:function(e){for(var t,r=0;-1!==(t=e.getByte());)if(0===r)r=69===t?1:0;else if(1===r)r=73===t?2:0;else if(2===r)break}},{key:\"makeInlineImage\",value:function(e){for(var t,r=this.lexer,a=r.stream,o=new i.Dict(this.xref);!(0,i.isCmd)(this.buf1,\"ID\")&&!(0,i.isEOF)(this.buf1);){if(!(0,i.isName)(this.buf1))throw new n.FormatError(\"Dictionary key must be a name object\");var s=this.buf1.name;if(this.shift(),(0,i.isEOF)(this.buf1))break;o.set(s,this.getObj(e))}-1!==r.beginInlineImagePos&&(t=a.pos-r.beginInlineImagePos);var c,l=o.get(\"Filter\",\"F\");if((0,i.isName)(l))c=l.name;else if(Array.isArray(l)){var u=this.xref.fetchIfRef(l[0]);(0,i.isName)(u)&&(c=u.name)}var h,f=a.pos;h=\"DCTDecode\"===c||\"DCT\"===c?this.findDCTDecodeInlineStreamEnd(a):\"ASCII85Decode\"===c||\"A85\"===c?this.findASCII85DecodeInlineStreamEnd(a):\"ASCIIHexDecode\"===c||\"AHx\"===c?this.findASCIIHexDecodeInlineStreamEnd(a):this.findDefaultInlineStreamEnd(a);var d,m=a.makeSubStream(f,h,o);if(h<1e3&&t<5552){var p=m.getBytes();m.reset();var v=a.pos;a.pos=r.beginInlineImagePos;var b=a.getBytes(t);a.pos=v,d=g(p)+\"_\"+g(b);var y=this.imageCache[d];if(void 0!==y)return this.buf2=i.Cmd.get(\"EI\"),this.shift(),y.reset(),y}return e&&(m=e.createStream(m,h)),(m=this.filter(m,o,h)).dict=o,void 0!==d&&(m.cacheKey=\"inline_\".concat(h,\"_\").concat(d),this.imageCache[d]=m),this.buf2=i.Cmd.get(\"EI\"),this.shift(),m}},{key:\"_findStreamLength\",value:function(e,t){var r=this.lexer.stream;r.pos=e;for(var a=t.length;r.pos<r.end;){var n=r.peekBytes(2048),i=n.length-a;if(i<=0)break;for(var o=0;o<i;){for(var s=0;s<a&&n[o+s]===t[s];)s++;if(s>=a)return r.pos+=o,r.pos-e;o++}r.pos+=i}return-1}},{key:\"makeStream\",value:function(e,t){var r=this.lexer,a=r.stream;r.skipToNextLine();var o=a.pos-1,s=e.get(\"Length\");if(Number.isInteger(s)||((0,n.info)('Bad length \"'.concat(s,'\" in stream')),s=0),a.pos=o+s,r.nextChar(),this.tryShift()&&(0,i.isCmd)(this.buf2,\"endstream\"))this.shift();else{var c=new Uint8Array([101,110,100,115,116,114,101,97,109]),l=this._findStreamLength(o,c);if(l<0){for(var u=1;u<=1;u++){var h=c.length-u,f=c.slice(0,h),d=this._findStreamLength(o,f);if(d>=0){var g=a.peekBytes(h+1)[h];if(!(0,n.isSpace)(g))break;(0,n.info)('Found \"'.concat((0,n.bytesToString)(f),'\" when ')+\"searching for endstream command.\"),l=d;break}}if(l<0)throw new n.FormatError(\"Missing endstream command.\")}s=l,r.nextChar(),this.shift(),this.shift()}return this.shift(),a=a.makeSubStream(o,s,e),t&&(a=t.createStream(a,s)),(a=this.filter(a,e,s)).dict=e,a}},{key:\"filter\",value:function(e,t,r){var a=t.get(\"Filter\",\"F\"),o=t.get(\"DecodeParms\",\"DP\");if((0,i.isName)(a))return Array.isArray(o)&&(0,n.warn)(\"/DecodeParms should not contain an Array, when /Filter contains a Name.\"),this.makeFilter(e,a.name,r,o);var s=r;if(Array.isArray(a))for(var c=a,l=o,u=0,h=c.length;u<h;++u){if(a=this.xref.fetchIfRef(c[u]),!(0,i.isName)(a))throw new n.FormatError('Bad filter name \"'.concat(a,'\"'));o=null,Array.isArray(l)&&u in l&&(o=this.xref.fetchIfRef(l[u])),e=this.makeFilter(e,a.name,s,o),s=null}return e}},{key:\"makeFilter\",value:function(e,t,r,i){if(0===r)return(0,n.warn)('Empty \"'.concat(t,'\" stream.')),new a.NullStream;try{var h=this.xref.stats.streamTypes;if(\"FlateDecode\"===t||\"Fl\"===t)return h[n.StreamType.FLATE]=!0,i?new a.PredictorStream(new a.FlateStream(e,r),r,i):new a.FlateStream(e,r);if(\"LZWDecode\"===t||\"LZW\"===t){h[n.StreamType.LZW]=!0;var f=1;return i?(i.has(\"EarlyChange\")&&(f=i.get(\"EarlyChange\")),new a.PredictorStream(new a.LZWStream(e,r,f),r,i)):new a.LZWStream(e,r,f)}return\"DCTDecode\"===t||\"DCT\"===t?(h[n.StreamType.DCT]=!0,new c.JpegStream(e,r,e.dict,i)):\"JPXDecode\"===t||\"JPX\"===t?(h[n.StreamType.JPX]=!0,new l.JpxStream(e,r,e.dict,i)):\"ASCII85Decode\"===t||\"A85\"===t?(h[n.StreamType.A85]=!0,new a.Ascii85Stream(e,r)):\"ASCIIHexDecode\"===t||\"AHx\"===t?(h[n.StreamType.AHX]=!0,new a.AsciiHexStream(e,r)):\"CCITTFaxDecode\"===t||\"CCF\"===t?(h[n.StreamType.CCF]=!0,new o.CCITTFaxStream(e,r,i)):\"RunLengthDecode\"===t||\"RL\"===t?(h[n.StreamType.RL]=!0,new a.RunLengthStream(e,r)):\"JBIG2Decode\"===t?(h[n.StreamType.JBIG]=!0,new s.Jbig2Stream(e,r,e.dict,i)):((0,n.warn)('Filter \"'.concat(t,'\" is not supported.')),e)}catch(e){if(e instanceof u.MissingDataException)throw e;return(0,n.warn)('Invalid stream: \"'.concat(e,'\"')),new a.NullStream}}}]),e}();t.Parser=m;var p=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function v(e){return e>=48&&e<=57?15&e:e>=65&&e<=70||e>=97&&e<=102?9+(15&e):-1}var b=function(){function e(t,r){h(this,e),this.stream=t,this.nextChar(),this.strBuf=[],this.knownCommands=r,this.beginInlineImagePos=-1}return d(e,[{key:\"nextChar\",value:function(){return this.currentChar=this.stream.getByte()}},{key:\"peekChar\",value:function(){return this.stream.peekByte()}},{key:\"getNumber\",value:function(){var e=this.currentChar,t=!1,r=0,a=0;if(45===e?(a=-1,45===(e=this.nextChar())&&(e=this.nextChar())):43===e&&(a=1,e=this.nextChar()),10===e||13===e)do{e=this.nextChar()}while(10===e||13===e);if(46===e&&(r=10,e=this.nextChar()),e<48||e>57){if(10===r&&0===a&&((0,n.isSpace)(e)||-1===e))return(0,n.warn)(\"Lexer.getNumber - treating a single decimal point as zero.\"),0;throw new n.FormatError(\"Invalid number: \".concat(String.fromCharCode(e),\" (charCode \").concat(e,\")\"))}a=a||1;for(var i=e-48,o=0,s=1;(e=this.nextChar())>=0;)if(48<=e&&e<=57){var c=e-48;t?o=10*o+c:(0!==r&&(r*=10),i=10*i+c)}else if(46===e){if(0!==r)break;r=1}else if(45===e)(0,n.warn)(\"Badly formatted number: minus sign in the middle\");else{if(69!==e&&101!==e)break;if(43===(e=this.peekChar())||45===e)s=45===e?-1:1,this.nextChar();else if(e<48||e>57)break;t=!0}return 0!==r&&(i/=r),t&&(i*=Math.pow(10,s*o)),a*i}},{key:\"getString\",value:function(){var e=1,t=!1,r=this.strBuf;r.length=0;for(var a=this.nextChar();;){var i=!1;switch(0|a){case-1:(0,n.warn)(\"Unterminated string\"),t=!0;break;case 40:++e,r.push(\"(\");break;case 41:0==--e?(this.nextChar(),t=!0):r.push(\")\");break;case 92:switch(a=this.nextChar()){case-1:(0,n.warn)(\"Unterminated string\"),t=!0;break;case 110:r.push(\"\\n\");break;case 114:r.push(\"\\r\");break;case 116:r.push(\"\\t\");break;case 98:r.push(\"\\b\");break;case 102:r.push(\"\\f\");break;case 92:case 40:case 41:r.push(String.fromCharCode(a));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:var o=15&a;i=!0,(a=this.nextChar())>=48&&a<=55&&(o=(o<<3)+(15&a),(a=this.nextChar())>=48&&a<=55&&(i=!1,o=(o<<3)+(15&a))),r.push(String.fromCharCode(o));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:r.push(String.fromCharCode(a))}break;default:r.push(String.fromCharCode(a))}if(t)break;i||(a=this.nextChar())}return r.join(\"\")}},{key:\"getName\",value:function(){var e,t,r=this.strBuf;for(r.length=0;(e=this.nextChar())>=0&&!p[e];)if(35===e){if(e=this.nextChar(),p[e]){(0,n.warn)(\"Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number.\"),r.push(\"#\");break}var a=v(e);if(-1!==a){t=e;var o=v(e=this.nextChar());if(-1===o){if((0,n.warn)(\"Lexer_getName: Illegal digit (\".concat(String.fromCharCode(e),\") \")+\"in hexadecimal number.\"),r.push(\"#\",String.fromCharCode(t)),p[e])break;r.push(String.fromCharCode(e));continue}r.push(String.fromCharCode(a<<4|o))}else r.push(\"#\",String.fromCharCode(e))}else r.push(String.fromCharCode(e));return r.length>127&&(0,n.warn)(\"Name token is longer than allowed by the spec: \".concat(r.length)),i.Name.get(r.join(\"\"))}},{key:\"getHexString\",value:function(){var e=this.strBuf;e.length=0;for(var t,r,a=this.currentChar,i=!0;;){if(a<0){(0,n.warn)(\"Unterminated hex string\");break}if(62===a){this.nextChar();break}if(1!==p[a]){if(i){if(-1===(t=v(a))){(0,n.warn)('Ignoring invalid character \"'.concat(a,'\" in hex string')),a=this.nextChar();continue}}else{if(-1===(r=v(a))){(0,n.warn)('Ignoring invalid character \"'.concat(a,'\" in hex string')),a=this.nextChar();continue}e.push(String.fromCharCode(t<<4|r))}i=!i,a=this.nextChar()}else a=this.nextChar()}return e.join(\"\")}},{key:\"getObj\",value:function(){for(var e=!1,t=this.currentChar;;){if(t<0)return i.EOF;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(1!==p[t])break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),i.Cmd.get(\"[\");case 93:return this.nextChar(),i.Cmd.get(\"]\");case 60:return 60===(t=this.nextChar())?(this.nextChar(),i.Cmd.get(\"<<\")):this.getHexString();case 62:return 62===(t=this.nextChar())?(this.nextChar(),i.Cmd.get(\">>\")):i.Cmd.get(\">\");case 123:return this.nextChar(),i.Cmd.get(\"{\");case 125:return this.nextChar(),i.Cmd.get(\"}\");case 41:throw this.nextChar(),new n.FormatError(\"Illegal character: \".concat(t))}for(var r=String.fromCharCode(t),a=this.knownCommands,o=a&&void 0!==a[r];(t=this.nextChar())>=0&&!p[t];){var s=r+String.fromCharCode(t);if(o&&void 0===a[s])break;if(128===r.length)throw new n.FormatError(\"Command token too long: \".concat(r.length));r=s,o=a&&void 0!==a[r]}return\"true\"===r||\"false\"!==r&&(\"null\"===r?null:(\"BI\"===r&&(this.beginInlineImagePos=this.stream.pos),i.Cmd.get(r)))}},{key:\"skipToNextLine\",value:function(){for(var e=this.currentChar;e>=0;){if(13===e){10===(e=this.nextChar())&&this.nextChar();break}if(10===e){this.nextChar();break}e=this.nextChar()}}}]),e}();t.Lexer=b;var y=function(){function e(){h(this,e)}return d(e,null,[{key:\"create\",value:function(e){function t(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.get(t);if(Number.isInteger(a)&&(r?a>=0:a>0))return a;throw new Error('The \"'.concat(t,'\" parameter in the linearization ')+\"dictionary is invalid.\")}var r,a,o=new m(new b(e),!1,null),s=o.getObj(),c=o.getObj(),l=o.getObj(),u=o.getObj();if(!(Number.isInteger(s)&&Number.isInteger(c)&&(0,i.isCmd)(l,\"obj\")&&(0,i.isDict)(u)&&(0,n.isNum)(r=u.get(\"Linearized\"))&&r>0))return null;if((a=t(u,\"L\"))!==e.length)throw new Error('The \"L\" parameter in the linearization dictionary does not equal the stream length.');return{length:a,hints:function(e){var t,r=e.get(\"H\");if(Array.isArray(r)&&(2===(t=r.length)||4===t)){for(var a=0;a<t;a++){var n=r[a];if(!(Number.isInteger(n)&&n>0))throw new Error(\"Hint (\".concat(a,\") in the linearization dictionary \")+\"is invalid.\")}return r}throw new Error(\"Hint array in the linearization dictionary is invalid.\")}(u),objectNumberFirst:t(u,\"O\"),endFirst:t(u,\"E\"),numPages:t(u,\"N\"),mainXRefEntriesOffset:t(u,\"T\"),pageFirst:u.has(\"P\")?t(u,\"P\",!0):0}}}]),e}();t.Linearization=y},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.LZWStream=t.StringStream=t.StreamsSequenceStream=t.Stream=t.RunLengthStream=t.PredictorStream=t.NullStream=t.FlateStream=t.DecodeStream=t.DecryptStream=t.AsciiHexStream=t.Ascii85Stream=void 0;var a=r(5),n=r(156);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var o=function(){function e(e,t,r,a){this.bytes=e instanceof Uint8Array?e:new Uint8Array(e),this.start=t||0,this.pos=this.start,this.end=t+r||this.bytes.length,this.dict=a}return e.prototype={get length(){return this.end-this.start},get isEmpty(){return 0===this.length},getByte:function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},getUint16:function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},getInt32:function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},getBytes:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.bytes,a=this.pos,n=this.end;if(!e){var i=r.subarray(a,n);return t?new Uint8ClampedArray(i):i}var o=a+e;o>n&&(o=n),this.pos=o;var s=r.subarray(a,o);return t?new Uint8ClampedArray(s):s},peekByte:function(){var e=this.getByte();return this.pos--,e},peekBytes:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getBytes(e,t);return this.pos-=r.length,r},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=this.start},moveStart:function(){this.start=this.pos},makeSubStream:function(t,r,a){return new e(this.bytes.buffer,t,r,a)}},e}();t.Stream=o;var s=function(){function e(e){var t=(0,a.stringToBytes)(e);o.call(this,t)}return e.prototype=o.prototype,e}();t.StringStream=s;var c=function(){var e=new Uint8Array(0);function t(t){if(this._rawMinBufferLength=t||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=e,this.minBufferLength=512,t)for(;this.minBufferLength<t;)this.minBufferLength*=2}return t.prototype={get isEmpty(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength},ensureBuffer:function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var r=this.minBufferLength;r<e;)r*=2;var a=new Uint8Array(r);return a.set(t),this.buffer=a},getByte:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},getUint16:function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},getInt32:function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},getBytes:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.pos;if(e){for(this.ensureBuffer(a+e),t=a+e;!this.eof&&this.bufferLength<t;)this.readBlock();var n=this.bufferLength;t>n&&(t=n)}else{for(;!this.eof;)this.readBlock();t=this.bufferLength}this.pos=t;var i=this.buffer.subarray(a,t);return!r||i instanceof Uint8ClampedArray?i:new Uint8ClampedArray(i)},peekByte:function(){var e=this.getByte();return this.pos--,e},peekBytes:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getBytes(e,t);return this.pos-=r.length,r},makeSubStream:function(e,t,r){for(var a=e+t;this.bufferLength<=a&&!this.eof;)this.readBlock();return new o(this.buffer,e,t,r)},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=0},getBaseStreams:function(){return this.str&&this.str.getBaseStreams?this.str.getBaseStreams():[]}},t}();t.DecodeStream=c;var l=function(){function e(e){this.streams=e;for(var t=0,r=0,a=e.length;r<a;r++){var n=e[r];t+=n instanceof c?n._rawMinBufferLength:n.length}c.call(this,t)}return e.prototype=Object.create(c.prototype),e.prototype.readBlock=function(){var e=this.streams;if(0!==e.length){var t=e.shift().getBytes(),r=this.bufferLength,a=r+t.length;this.ensureBuffer(a).set(t,r),this.bufferLength=a}else this.eof=!0},e.prototype.getBaseStreams=function(){for(var e=[],t=0,r=this.streams.length;t<r;t++){var a=this.streams[t];a.getBaseStreams&&e.push.apply(e,i(a.getBaseStreams()))}return e},e}();t.StreamsSequenceStream=l;var u=function(){var e=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),r=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),n=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],i=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function o(e,t){this.str=e,this.dict=e.dict;var r=e.getByte(),n=e.getByte();if(-1===r||-1===n)throw new a.FormatError(\"Invalid header in flate stream: \".concat(r,\", \").concat(n));if(8!=(15&r))throw new a.FormatError(\"Unknown compression method in flate stream: \".concat(r,\", \").concat(n));if(((r<<8)+n)%31!=0)throw new a.FormatError(\"Bad FCHECK in flate stream: \".concat(r,\", \").concat(n));if(32&n)throw new a.FormatError(\"FDICT bit set in flate stream: \".concat(r,\", \").concat(n));this.codeSize=0,this.codeBuf=0,c.call(this,t)}return o.prototype=Object.create(c.prototype),o.prototype.getBits=function(e){for(var t,r=this.str,n=this.codeSize,i=this.codeBuf;n<e;){if(-1===(t=r.getByte()))throw new a.FormatError(\"Bad encoding in flate stream\");i|=t<<n,n+=8}return t=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=n-=e,t},o.prototype.getCode=function(e){for(var t,r=this.str,n=e[0],i=e[1],o=this.codeSize,s=this.codeBuf;o<i&&-1!==(t=r.getByte());)s|=t<<o,o+=8;var c=n[s&(1<<i)-1],l=c>>16,u=65535&c;if(l<1||o<l)throw new a.FormatError(\"Bad encoding in flate stream\");return this.codeBuf=s>>l,this.codeSize=o-l,u},o.prototype.generateHuffmanTable=function(e){var t,r=e.length,a=0;for(t=0;t<r;++t)e[t]>a&&(a=e[t]);for(var n=1<<a,i=new Int32Array(n),o=1,s=0,c=2;o<=a;++o,s<<=1,c<<=1)for(var l=0;l<r;++l)if(e[l]===o){var u=0,h=s;for(t=0;t<o;++t)u=u<<1|1&h,h>>=1;for(t=u;t<n;t+=c)i[t]=o<<16|l;++s}return[i,a]},o.prototype.readBlock=function(){var o,s,c=this.str,l=this.getBits(3);if(1&l&&(this.eof=!0),0!==(l>>=1)){var u,h;if(1===l)u=n,h=i;else{if(2!==l)throw new a.FormatError(\"Unknown block type in flate stream\");var f,d=this.getBits(5)+257,g=this.getBits(5)+1,m=this.getBits(4)+4,p=new Uint8Array(e.length);for(f=0;f<m;++f)p[e[f]]=this.getBits(3);var v=this.generateHuffmanTable(p);s=0,f=0;for(var b,y,w,k=d+g,S=new Uint8Array(k);f<k;){var C=this.getCode(v);if(16===C)b=2,y=3,w=s;else if(17===C)b=3,y=3,w=s=0;else{if(18!==C){S[f++]=s=C;continue}b=7,y=11,w=s=0}for(var x=this.getBits(b)+y;x-- >0;)S[f++]=w}u=this.generateHuffmanTable(S.subarray(0,d)),h=this.generateHuffmanTable(S.subarray(d,k))}for(var A=(o=this.buffer)?o.length:0,_=this.bufferLength;;){var P=this.getCode(u);if(P<256)_+1>=A&&(A=(o=this.ensureBuffer(_+1)).length),o[_++]=P;else{if(256===P)return void(this.bufferLength=_);var I=(P=t[P-=257])>>16;I>0&&(I=this.getBits(I)),s=(65535&P)+I,P=this.getCode(h),(I=(P=r[P])>>16)>0&&(I=this.getBits(I));var O=(65535&P)+I;_+s>=A&&(A=(o=this.ensureBuffer(_+s)).length);for(var T=0;T<s;++T,++_)o[_]=o[_-O]}}}else{var E;if(-1===(E=c.getByte()))throw new a.FormatError(\"Bad block header in flate stream\");var F=E;if(-1===(E=c.getByte()))throw new a.FormatError(\"Bad block header in flate stream\");if(F|=E<<8,-1===(E=c.getByte()))throw new a.FormatError(\"Bad block header in flate stream\");var R=E;if(-1===(E=c.getByte()))throw new a.FormatError(\"Bad block header in flate stream\");if((R|=E<<8)!==(65535&~F)&&(0!==F||0!==R))throw new a.FormatError(\"Bad uncompressed block length in flate stream\");this.codeBuf=0,this.codeSize=0;var B=this.bufferLength;o=this.ensureBuffer(B+F);var D=B+F;if(this.bufferLength=D,0===F)-1===c.peekByte()&&(this.eof=!0);else for(var M=B;M<D;++M){if(-1===(E=c.getByte())){this.eof=!0;break}o[M]=E}}},o}();t.FlateStream=u;var h=function(){function e(e,t,r){if(!(0,n.isDict)(r))return e;var i=this.predictor=r.get(\"Predictor\")||1;if(i<=1)return e;if(2!==i&&(i<10||i>15))throw new a.FormatError(\"Unsupported predictor: \".concat(i));this.readBlock=2===i?this.readBlockTiff:this.readBlockPng,this.str=e,this.dict=e.dict;var o=this.colors=r.get(\"Colors\")||1,s=this.bits=r.get(\"BitsPerComponent\")||8,l=this.columns=r.get(\"Columns\")||1;return this.pixBytes=o*s+7>>3,this.rowBytes=l*o*s+7>>3,c.call(this,t),this}return e.prototype=Object.create(c.prototype),e.prototype.readBlockTiff=function(){var e=this.rowBytes,t=this.bufferLength,r=this.ensureBuffer(t+e),a=this.bits,n=this.colors,i=this.str.getBytes(e);if(this.eof=!i.length,!this.eof){var o,s=0,c=0,l=0,u=0,h=t;if(1===a&&1===n)for(o=0;o<e;++o){var f=i[o]^s;f^=f>>1,f^=f>>2,s=(1&(f^=f>>4))<<7,r[h++]=f}else if(8===a){for(o=0;o<n;++o)r[h++]=i[o];for(;o<e;++o)r[h]=r[h-n]+i[o],h++}else if(16===a){var d=2*n;for(o=0;o<d;++o)r[h++]=i[o];for(;o<e;o+=2){var g=((255&i[o])<<8)+(255&i[o+1])+((255&r[h-d])<<8)+(255&r[h-d+1]);r[h++]=g>>8&255,r[h++]=255&g}}else{var m=new Uint8Array(n+1),p=(1<<a)-1,v=0,b=t,y=this.columns;for(o=0;o<y;++o)for(var w=0;w<n;++w)l<a&&(s=s<<8|255&i[v++],l+=8),m[w]=m[w]+(s>>l-a)&p,l-=a,c=c<<a|m[w],(u+=a)>=8&&(r[b++]=c>>u-8&255,u-=8);u>0&&(r[b++]=(c<<8-u)+(s&(1<<8-u)-1))}this.bufferLength+=e}},e.prototype.readBlockPng=function(){var e=this.rowBytes,t=this.pixBytes,r=this.str.getByte(),n=this.str.getBytes(e);if(this.eof=!n.length,!this.eof){var i=this.bufferLength,o=this.ensureBuffer(i+e),s=o.subarray(i-e,i);0===s.length&&(s=new Uint8Array(e));var c,l,u,h=i;switch(r){case 0:for(c=0;c<e;++c)o[h++]=n[c];break;case 1:for(c=0;c<t;++c)o[h++]=n[c];for(;c<e;++c)o[h]=o[h-t]+n[c]&255,h++;break;case 2:for(c=0;c<e;++c)o[h++]=s[c]+n[c]&255;break;case 3:for(c=0;c<t;++c)o[h++]=(s[c]>>1)+n[c];for(;c<e;++c)o[h]=(s[c]+o[h-t]>>1)+n[c]&255,h++;break;case 4:for(c=0;c<t;++c)l=s[c],u=n[c],o[h++]=l+u;for(;c<e;++c){l=s[c];var f=s[c-t],d=o[h-t],g=d+l-f,m=g-d;m<0&&(m=-m);var p=g-l;p<0&&(p=-p);var v=g-f;v<0&&(v=-v),u=n[c],o[h++]=m<=p&&m<=v?d+u:p<=v?l+u:f+u}break;default:throw new a.FormatError(\"Unsupported predictor: \".concat(r))}this.bufferLength+=e}},e}();t.PredictorStream=h;var f=function(){function e(e,t,r){this.str=e,this.dict=e.dict,this.decrypt=r,this.nextChunk=null,this.initialized=!1,c.call(this,t)}return e.prototype=Object.create(c.prototype),e.prototype.readBlock=function(){var e;if(this.initialized?e=this.nextChunk:(e=this.str.getBytes(512),this.initialized=!0),e&&0!==e.length){this.nextChunk=this.str.getBytes(512);var t=this.nextChunk&&this.nextChunk.length>0;e=(0,this.decrypt)(e,!t);var r,a=this.bufferLength,n=e.length,i=this.ensureBuffer(a+n);for(r=0;r<n;r++)i[a++]=e[r];this.bufferLength=a}else this.eof=!0},e}();t.DecryptStream=f;var d=function(){function e(e,t){this.str=e,this.dict=e.dict,this.input=new Uint8Array(5),t&&(t*=.8),c.call(this,t)}return e.prototype=Object.create(c.prototype),e.prototype.readBlock=function(){for(var e=this.str,t=e.getByte();(0,a.isSpace)(t);)t=e.getByte();if(-1!==t&&126!==t){var r,n,i=this.bufferLength;if(122===t){for(r=this.ensureBuffer(i+4),n=0;n<4;++n)r[i+n]=0;this.bufferLength+=4}else{var o=this.input;for(o[0]=t,n=1;n<5;++n){for(t=e.getByte();(0,a.isSpace)(t);)t=e.getByte();if(o[n]=t,-1===t||126===t)break}if(r=this.ensureBuffer(i+n-1),this.bufferLength+=n-1,n<5){for(;n<5;++n)o[n]=117;this.eof=!0}var s=0;for(n=0;n<5;++n)s=85*s+(o[n]-33);for(n=3;n>=0;--n)r[i+n]=255&s,s>>=8}}else this.eof=!0},e}();t.Ascii85Stream=d;var g=function(){function e(e,t){this.str=e,this.dict=e.dict,this.firstDigit=-1,t&&(t*=.5),c.call(this,t)}return e.prototype=Object.create(c.prototype),e.prototype.readBlock=function(){var e=this.str.getBytes(8e3);if(e.length){for(var t=e.length+1>>1,r=this.ensureBuffer(this.bufferLength+t),a=this.bufferLength,n=this.firstDigit,i=0,o=e.length;i<o;i++){var s,c=e[i];if(c>=48&&c<=57)s=15&c;else{if(!(c>=65&&c<=70||c>=97&&c<=102)){if(62===c){this.eof=!0;break}continue}s=9+(15&c)}n<0?n=s:(r[a++]=n<<4|s,n=-1)}n>=0&&this.eof&&(r[a++]=n<<4,n=-1),this.firstDigit=n,this.bufferLength=a}else this.eof=!0},e}();t.AsciiHexStream=g;var m=function(){function e(e,t){this.str=e,this.dict=e.dict,c.call(this,t)}return e.prototype=Object.create(c.prototype),e.prototype.readBlock=function(){var e=this.str.getBytes(2);if(!e||e.length<2||128===e[0])this.eof=!0;else{var t,r=this.bufferLength,a=e[0];if(a<128){if((t=this.ensureBuffer(r+a+1))[r++]=e[1],a>0){var n=this.str.getBytes(a);t.set(n,r),r+=a}}else{a=257-a;var i=e[1];t=this.ensureBuffer(r+a+1);for(var o=0;o<a;o++)t[r++]=i}this.bufferLength=r}},e}();t.RunLengthStream=m;var p=function(){function e(e,t,r){this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;for(var a={earlyChange:r,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(4096),dictionaryLengths:new Uint16Array(4096),dictionaryPrevCodes:new Uint16Array(4096),currentSequence:new Uint8Array(4096),currentSequenceLength:0},n=0;n<256;++n)a.dictionaryValues[n]=n,a.dictionaryLengths[n]=1;this.lzwState=a,c.call(this,t)}return e.prototype=Object.create(c.prototype),e.prototype.readBits=function(e){for(var t=this.bitsCached,r=this.cachedData;t<e;){var a=this.str.getByte();if(-1===a)return this.eof=!0,null;r=r<<8|a,t+=8}return this.bitsCached=t-=e,this.cachedData=r,this.lastCode=null,r>>>t&(1<<e)-1},e.prototype.readBlock=function(){var e,t,r,a=1024,n=this.lzwState;if(n){var i=n.earlyChange,o=n.nextCode,s=n.dictionaryValues,c=n.dictionaryLengths,l=n.dictionaryPrevCodes,u=n.codeLength,h=n.prevCode,f=n.currentSequence,d=n.currentSequenceLength,g=0,m=this.bufferLength,p=this.ensureBuffer(this.bufferLength+a);for(e=0;e<512;e++){var v=this.readBits(u),b=d>0;if(v<256)f[0]=v,d=1;else{if(!(v>=258)){if(256===v){u=9,o=258,d=0;continue}this.eof=!0,delete this.lzwState;break}if(v<o)for(t=(d=c[v])-1,r=v;t>=0;t--)f[t]=s[r],r=l[r];else f[d++]=f[0]}if(b&&(l[o]=h,c[o]=c[h]+1,s[o]=f[0],u=++o+i&o+i-1?u:0|Math.min(Math.log(o+i)/.6931471805599453+1,12)),h=v,a<(g+=d)){do{a+=512}while(a<g);p=this.ensureBuffer(this.bufferLength+a)}for(t=0;t<d;t++)p[m++]=f[t]}n.nextCode=o,n.codeLength=u,n.prevCode=h,n.currentSequenceLength=d,this.bufferLength=m}},e}();t.LZWStream=p;var v=function(){function e(){o.call(this,new Uint8Array(0))}return e.prototype=o.prototype,e}();t.NullStream=v},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CCITTFaxStream=void 0;var a=r(156),n=r(160),i=r(158),o=function(){function e(e,t,r){this.str=e,this.dict=e.dict,(0,a.isDict)(r)||(r=a.Dict.empty);var o={next:function(){return e.getByte()}};this.ccittFaxDecoder=new n.CCITTFaxDecoder(o,{K:r.get(\"K\"),EndOfLine:r.get(\"EndOfLine\"),EncodedByteAlign:r.get(\"EncodedByteAlign\"),Columns:r.get(\"Columns\"),Rows:r.get(\"Rows\"),EndOfBlock:r.get(\"EndOfBlock\"),BlackIs1:r.get(\"BlackIs1\")}),i.DecodeStream.call(this,t)}return e.prototype=Object.create(i.DecodeStream.prototype),e.prototype.readBlock=function(){for(;!this.eof;){var e=this.ccittFaxDecoder.readNextChar();if(-1===e)return void(this.eof=!0);this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=e}},e}();t.CCITTFaxStream=o},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CCITTFaxDecoder=void 0;var a=r(5),n=function(){var e=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],t=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],r=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],n=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],i=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],o=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||\"function\"!=typeof e.next)throw new Error('CCITTFaxDecoder - invalid \"source\" parameter.');this.source=e,this.eof=!1,this.encoding=t.K||0,this.eoline=t.EndOfLine||!1,this.byteAlign=t.EncodedByteAlign||!1,this.columns=t.Columns||1728,this.rows=t.Rows||0;var r,a=t.EndOfBlock;for(null==a&&(a=!0),this.eoblock=a,this.black=t.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;0===(r=this._lookBits(12));)this._eatBits(1);1===r&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}return s.prototype={readNextChar:function(){if(this.eof)return-1;var e,t,r,n,i,o=this.refLine,s=this.codingLine,c=this.columns;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;var l,u,h;if(this.err=!1,this.nextLine2D){for(n=0;s[n]<c;++n)o[n]=s[n];for(o[n++]=c,o[n]=c,s[0]=0,this.codingPos=0,e=0,t=0;s[this.codingPos]<c;)switch(l=this._getTwoDimCode()){case 0:this._addPixels(o[e+1],t),o[e+1]<c&&(e+=2);break;case 1:if(l=u=0,t){do{l+=h=this._getBlackCode()}while(h>=64);do{u+=h=this._getWhiteCode()}while(h>=64)}else{do{l+=h=this._getWhiteCode()}while(h>=64);do{u+=h=this._getBlackCode()}while(h>=64)}for(this._addPixels(s[this.codingPos]+l,t),s[this.codingPos]<c&&this._addPixels(s[this.codingPos]+u,1^t);o[e]<=s[this.codingPos]&&o[e]<c;)e+=2;break;case 7:if(this._addPixels(o[e]+3,t),t^=1,s[this.codingPos]<c)for(++e;o[e]<=s[this.codingPos]&&o[e]<c;)e+=2;break;case 5:if(this._addPixels(o[e]+2,t),t^=1,s[this.codingPos]<c)for(++e;o[e]<=s[this.codingPos]&&o[e]<c;)e+=2;break;case 3:if(this._addPixels(o[e]+1,t),t^=1,s[this.codingPos]<c)for(++e;o[e]<=s[this.codingPos]&&o[e]<c;)e+=2;break;case 2:if(this._addPixels(o[e],t),t^=1,s[this.codingPos]<c)for(++e;o[e]<=s[this.codingPos]&&o[e]<c;)e+=2;break;case 8:if(this._addPixelsNeg(o[e]-3,t),t^=1,s[this.codingPos]<c)for(e>0?--e:++e;o[e]<=s[this.codingPos]&&o[e]<c;)e+=2;break;case 6:if(this._addPixelsNeg(o[e]-2,t),t^=1,s[this.codingPos]<c)for(e>0?--e:++e;o[e]<=s[this.codingPos]&&o[e]<c;)e+=2;break;case 4:if(this._addPixelsNeg(o[e]-1,t),t^=1,s[this.codingPos]<c)for(e>0?--e:++e;o[e]<=s[this.codingPos]&&o[e]<c;)e+=2;break;case-1:this._addPixels(c,0),this.eof=!0;break;default:(0,a.info)(\"bad 2d code\"),this._addPixels(c,0),this.err=!0}}else for(s[0]=0,this.codingPos=0,t=0;s[this.codingPos]<c;){if(l=0,t)do{l+=h=this._getBlackCode()}while(h>=64);else do{l+=h=this._getWhiteCode()}while(h>=64);this._addPixels(s[this.codingPos]+l,t),t^=1}var f=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(l=this._lookBits(12),this.eoline)for(;-1!==l&&1!==l;)this._eatBits(1),l=this._lookBits(12);else for(;0===l;)this._eatBits(1),l=this._lookBits(12);1===l?(this._eatBits(12),f=!0):-1===l&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&f&&this.byteAlign){if(1===(l=this._lookBits(12))){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(n=0;n<4;++n)1!==(l=this._lookBits(12))&&(0,a.info)(\"bad rtc code: \"+l),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(-1===(l=this._lookBits(13)))return this.eof=!0,-1;if(l>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&l))}s[0]>0?this.outputBits=s[this.codingPos=0]:this.outputBits=s[this.codingPos=1],this.row++}if(this.outputBits>=8)i=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&s[this.codingPos]<c&&(this.codingPos++,this.outputBits=s[this.codingPos]-s[this.codingPos-1]);else{r=8,i=0;do{this.outputBits>r?(i<<=r,1&this.codingPos||(i|=255>>8-r),this.outputBits-=r,r=0):(i<<=this.outputBits,1&this.codingPos||(i|=255>>8-this.outputBits),r-=this.outputBits,this.outputBits=0,s[this.codingPos]<c?(this.codingPos++,this.outputBits=s[this.codingPos]-s[this.codingPos-1]):r>0&&(i<<=r,r=0))}while(r)}return this.black&&(i^=255),i},_addPixels:function(e,t){var r=this.codingLine,n=this.codingPos;e>r[n]&&(e>this.columns&&((0,a.info)(\"row is wrong length\"),this.err=!0,e=this.columns),1&n^t&&++n,r[n]=e),this.codingPos=n},_addPixelsNeg:function(e,t){var r=this.codingLine,n=this.codingPos;if(e>r[n])e>this.columns&&((0,a.info)(\"row is wrong length\"),this.err=!0,e=this.columns),1&n^t&&++n,r[n]=e;else if(e<r[n]){for(e<0&&((0,a.info)(\"invalid code\"),this.err=!0,e=0);n>0&&e<r[n-1];)--n;r[n]=e}this.codingPos=n},_findTableCode:function(e,t,r,a){for(var n=a||0,i=e;i<=t;++i){var o=this._lookBits(i);if(-1===o)return[!0,1,!1];if(i<t&&(o<<=t-i),!n||o>=n){var s=r[o-n];if(s[0]===i)return this._eatBits(i),[!0,s[1],!0]}}return[!1,0,!1]},_getTwoDimCode:function(){var t,r=0;if(this.eoblock){if(r=this._lookBits(7),(t=e[r])&&t[0]>0)return this._eatBits(t[0]),t[1]}else{var n=this._findTableCode(1,7,e);if(n[0]&&n[2])return n[1]}return(0,a.info)(\"Bad two dim code\"),-1},_getWhiteCode:function(){var e,n=0;if(this.eoblock){if(-1===(n=this._lookBits(12)))return 1;if((e=n>>5==0?t[n]:r[n>>3])[0]>0)return this._eatBits(e[0]),e[1]}else{var i=this._findTableCode(1,9,r);if(i[0])return i[1];if((i=this._findTableCode(11,12,t))[0])return i[1]}return(0,a.info)(\"bad white code\"),this._eatBits(1),1},_getBlackCode:function(){var e,t;if(this.eoblock){if(-1===(e=this._lookBits(13)))return 1;if((t=e>>7==0?n[e]:e>>9==0&&e>>7!=0?i[(e>>1)-64]:o[e>>7])[0]>0)return this._eatBits(t[0]),t[1]}else{var r=this._findTableCode(2,6,o);if(r[0])return r[1];if((r=this._findTableCode(7,12,i,64))[0])return r[1];if((r=this._findTableCode(10,13,n))[0])return r[1]}return(0,a.info)(\"bad black code\"),this._eatBits(1),1},_lookBits:function(e){for(var t;this.inputBits<e;){if(-1===(t=this.source.next()))return 0===this.inputBits?-1:this.inputBuf<<e-this.inputBits&65535>>16-e;this.inputBuf=this.inputBuf<<8|t,this.inputBits+=8}return this.inputBuf>>this.inputBits-e&65535>>16-e},_eatBits:function(e){(this.inputBits-=e)<0&&(this.inputBits=0)}},s}();t.CCITTFaxDecoder=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Jbig2Stream=void 0;var a=r(156),n=r(158),i=r(162),o=r(5),s=function(){function e(e,t,r,a){this.stream=e,this.maybeLength=t,this.dict=r,this.params=a,n.DecodeStream.call(this,t)}return e.prototype=Object.create(n.DecodeStream.prototype),Object.defineProperty(e.prototype,\"bytes\",{get:function(){return(0,o.shadow)(this,\"bytes\",this.stream.getBytes(this.maybeLength))},configurable:!0}),e.prototype.ensureBuffer=function(e){},e.prototype.readBlock=function(){if(!this.eof){var e=new i.Jbig2Image,t=[];if((0,a.isDict)(this.params)){var r=this.params.get(\"JBIG2Globals\");if((0,a.isStream)(r)){var n=r.getBytes();t.push({data:n,start:0,end:n.length})}}t.push({data:this.bytes,start:0,end:this.bytes.length});for(var o=e.parseChunks(t),s=o.length,c=0;c<s;c++)o[c]^=255;this.buffer=o,this.bufferLength=s,this.eof=!0}},e}();t.Jbig2Stream=s},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Jbig2Image=void 0;var a=r(5),n=r(163),i=r(160),o=function(){function e(e){this.message=\"JBIG2 error: \"+e}return e.prototype=new Error,e.prototype.name=\"Jbig2Error\",e.constructor=e,e}(),s=function(){function e(){}function t(e,t,r){this.data=e,this.start=t,this.end=r}function r(e,t,r){var a=e.getContexts(t),n=1;function i(e){for(var t=0,i=0;i<e;i++){var o=r.readBit(a,n);n=n<256?n<<1|o:511&(n<<1|o)|256,t=t<<1|o}return t>>>0}var o=i(1),s=i(1)?i(1)?i(1)?i(1)?i(1)?i(32)+4436:i(12)+340:i(8)+84:i(6)+20:i(4)+4:i(2);return 0===o?s:s>0?-s:null}function s(e,t,r){for(var a=e.getContexts(\"IAID\"),n=1,i=0;i<r;i++){n=n<<1|t.readBit(a,n)}return r<31?n&(1<<r)-1:2147483647&n}e.prototype={getContexts:function(e){return e in this?this[e]:this[e]=new Int8Array(65536)}},t.prototype={get decoder(){var e=new n.ArithmeticDecoder(this.data,this.start,this.end);return(0,a.shadow)(this,\"decoder\",e)},get contextCache(){var t=new e;return(0,a.shadow)(this,\"contextCache\",t)}};var c=[\"SymbolDictionary\",null,null,null,\"IntermediateTextRegion\",null,\"ImmediateTextRegion\",\"ImmediateLosslessTextRegion\",null,null,null,null,null,null,null,null,\"PatternDictionary\",null,null,null,\"IntermediateHalftoneRegion\",null,\"ImmediateHalftoneRegion\",\"ImmediateLosslessHalftoneRegion\",null,null,null,null,null,null,null,null,null,null,null,null,\"IntermediateGenericRegion\",null,\"ImmediateGenericRegion\",\"ImmediateLosslessGenericRegion\",\"IntermediateGenericRefinementRegion\",null,\"ImmediateGenericRefinementRegion\",\"ImmediateLosslessGenericRefinementRegion\",null,null,null,null,\"PageInformation\",\"EndOfPage\",\"EndOfStripe\",\"EndOfFile\",\"Profiles\",\"Tables\",null,null,null,null,null,null,null,null,\"Extension\"],l=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],u=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],h=[39717,1941,229,405],f=[32,8];function d(e,t,r,a,n,i,o,s){if(e)return E(new I(s.data,s.start,s.end),t,r,!1);if(0===a&&!i&&!n&&4===o.length&&3===o[0].x&&-1===o[0].y&&-3===o[1].x&&-1===o[1].y&&2===o[2].x&&-2===o[2].y&&-2===o[3].x&&-2===o[3].y)return function(e,t,r){var a,n,i,o,s,c,l,u=r.decoder,h=r.contextCache.getContexts(\"GB\"),f=[];for(n=0;n<t;n++)for(s=f[n]=new Uint8Array(e),c=n<1?s:f[n-1],a=(l=n<2?s:f[n-2])[0]<<13|l[1]<<12|l[2]<<11|c[0]<<7|c[1]<<6|c[2]<<5|c[3]<<4,i=0;i<e;i++)s[i]=o=u.readBit(h,a),a=(31735&a)<<1|(i+3<e?l[i+3]<<11:0)|(i+4<e?c[i+4]<<4:0)|o;return f}(t,r,s);var c=!!i,u=l[a].concat(o);u.sort(function(e,t){return e.y-t.y||e.x-t.x});var f,d,g=u.length,m=new Int8Array(g),p=new Int8Array(g),v=[],b=0,y=0,w=0,k=0;for(d=0;d<g;d++)m[d]=u[d].x,p[d]=u[d].y,y=Math.min(y,u[d].x),w=Math.max(w,u[d].x),k=Math.min(k,u[d].y),d<g-1&&u[d].y===u[d+1].y&&u[d].x===u[d+1].x-1?b|=1<<g-1-d:v.push(d);var S=v.length,C=new Int8Array(S),x=new Int8Array(S),A=new Uint16Array(S);for(f=0;f<S;f++)d=v[f],C[f]=u[d].x,x[f]=u[d].y,A[f]=1<<g-1-d;for(var _,P,O,T,F,R=-y,B=-k,D=t-w,M=h[a],L=new Uint8Array(t),N=[],U=s.decoder,q=s.contextCache.getContexts(\"GB\"),j=0,z=0,H=0;H<r;H++){if(n)if(j^=U.readBit(q,M)){N.push(L);continue}for(L=new Uint8Array(L),N.push(L),_=0;_<t;_++)if(c&&i[H][_])L[_]=0;else{if(_>=R&&_<D&&H>=B)for(z=z<<1&b,d=0;d<S;d++)P=H+x[d],O=_+C[d],(T=N[P][O])&&(z|=T=A[d]);else for(z=0,F=g-1,d=0;d<g;d++,F--)(O=_+m[d])>=0&&O<t&&(P=H+p[d])>=0&&(T=N[P][O])&&(z|=T<<F);var W=U.readBit(q,z);L[_]=W}}return N}function g(e,t,r,a,n,i,s,c,l){var h=u[r].coding;0===r&&(h=h.concat([c[0]]));var d,g=h.length,m=new Int32Array(g),p=new Int32Array(g);for(d=0;d<g;d++)m[d]=h[d].x,p[d]=h[d].y;var v=u[r].reference;0===r&&(v=v.concat([c[1]]));var b=v.length,y=new Int32Array(b),w=new Int32Array(b);for(d=0;d<b;d++)y[d]=v[d].x,w[d]=v[d].y;for(var k=a[0].length,S=a.length,C=f[r],x=[],A=l.decoder,_=l.contextCache.getContexts(\"GR\"),P=0,I=0;I<t;I++){if(s)if(P^=A.readBit(_,C))throw new o(\"prediction is not supported\");var O=new Uint8Array(e);x.push(O);for(var T=0;T<e;T++){var E,F,R=0;for(d=0;d<g;d++)E=I+p[d],F=T+m[d],E<0||F<0||F>=e?R<<=1:R=R<<1|x[E][F];for(d=0;d<b;d++)E=I+w[d]-i,F=T+y[d]-n,E<0||E>=S||F<0||F>=k?R<<=1:R=R<<1|a[E][F];var B=A.readBit(_,R);O[T]=B}}return x}function m(e,t,a,n,i,c,l,u,h,f,d,m,p,v,b,y,w,k,S){if(e&&t)throw new o(\"refinement with Huffman is not supported\");var C,x,A=[];for(C=0;C<n;C++){if(x=new Uint8Array(a),i)for(var _=0;_<a;_++)x[_]=i;A.push(x)}var P=w.decoder,I=w.contextCache,O=e?-v.tableDeltaT.decode(S):-r(I,\"IADT\",P),T=0;for(C=0;C<c;){O+=e?v.tableDeltaT.decode(S):r(I,\"IADT\",P);for(var E=T+=e?v.tableFirstS.decode(S):r(I,\"IAFS\",P);;){var F=0;l>1&&(F=e?S.readBits(k):r(I,\"IAIT\",P));var R=l*O+F,B=e?v.symbolIDTable.decode(S):s(I,P,h),D=t&&(e?S.readBit():r(I,\"IARI\",P)),M=u[B],L=M[0].length,N=M.length;if(D){var U=r(I,\"IARDW\",P),q=r(I,\"IARDH\",P);M=g(L+=U,N+=q,b,M,(U>>1)+r(I,\"IARDX\",P),(q>>1)+r(I,\"IARDY\",P),!1,y,w)}var j,z,H,W=R-(1&m?0:N-1),G=E-(2&m?L-1:0);if(f){for(j=0;j<N;j++)if(x=A[G+j]){H=M[j];var X=Math.min(a-W,L);switch(p){case 0:for(z=0;z<X;z++)x[W+z]|=H[z];break;case 2:for(z=0;z<X;z++)x[W+z]^=H[z];break;default:throw new o(\"operator \".concat(p,\" is not supported\"))}}E+=N-1}else{for(z=0;z<N;z++)if(x=A[W+z])switch(H=M[z],p){case 0:for(j=0;j<L;j++)x[G+j]|=H[j];break;case 2:for(j=0;j<L;j++)x[G+j]^=H[j];break;default:throw new o(\"operator \".concat(p,\" is not supported\"))}E+=L-1}C++;var V=e?v.tableDeltaS.decode(S):r(I,\"IADS\",P);if(null===V)break;E+=V+d}}return A}function p(e,t){var r={};r.number=(0,a.readUint32)(e,t);var n=e[t+4],i=63&n;if(!c[i])throw new o(\"invalid segment type: \"+i);r.type=i,r.typeName=c[i],r.deferredNonRetain=!!(128&n);var s=!!(64&n),l=e[t+5],u=l>>5&7,h=[31&l],f=t+6;if(7===l){u=536870911&(0,a.readUint32)(e,f-1),f+=3;var d=u+7>>3;for(h[0]=e[f++];--d>0;)h.push(e[f++])}else if(5===l||6===l)throw new o(\"invalid referred-to flags\");r.retainBits=h;var g,m,p=r.number<=256?1:r.number<=65536?2:4,v=[];for(g=0;g<u;g++){var w=1===p?e[f]:2===p?(0,a.readUint16)(e,f):(0,a.readUint32)(e,f);v.push(w),f+=p}if(r.referredTo=v,s?(r.pageAssociation=(0,a.readUint32)(e,f),f+=4):r.pageAssociation=e[f++],r.length=(0,a.readUint32)(e,f),f+=4,4294967295===r.length){if(38!==i)throw new o(\"invalid unknown segment length\");var k=b(e,f),S=!!(1&e[f+y]),C=new Uint8Array(6);for(S||(C[0]=255,C[1]=172),C[2]=k.height>>>24&255,C[3]=k.height>>16&255,C[4]=k.height>>8&255,C[5]=255&k.height,g=f,m=e.length;g<m;g++){for(var x=0;x<6&&C[x]===e[g+x];)x++;if(6===x){r.length=g+6;break}}if(4294967295===r.length)throw new o(\"segment end was not found\")}return r.headerEnd=f,r}function v(e,t,r,a){for(var n=[],i=r;i<a;){var o=p(t,i);i=o.headerEnd;var s={header:o,data:t};if(e.randomAccess||(s.start=i,i+=o.length,s.end=i),n.push(s),51===o.type)break}if(e.randomAccess)for(var c=0,l=n.length;c<l;c++)n[c].start=i,i+=n[c].header.length,n[c].end=i;return n}function b(e,t){return{width:(0,a.readUint32)(e,t),height:(0,a.readUint32)(e,t+4),x:(0,a.readUint32)(e,t+8),y:(0,a.readUint32)(e,t+12),combinationOperator:7&e[t+16]}}var y=17;function w(e,t){var r,n,i,s,c=e.header,l=e.data,u=e.start,h=e.end;switch(c.type){case 0:var f={},d=(0,a.readUint16)(l,u);if(f.huffman=!!(1&d),f.refinement=!!(2&d),f.huffmanDHSelector=d>>2&3,f.huffmanDWSelector=d>>4&3,f.bitmapSizeSelector=d>>6&1,f.aggregationInstancesSelector=d>>7&1,f.bitmapCodingContextUsed=!!(256&d),f.bitmapCodingContextRetained=!!(512&d),f.template=d>>10&3,f.refinementTemplate=d>>12&1,u+=2,!f.huffman){for(s=0===f.template?4:1,n=[],i=0;i<s;i++)n.push({x:(0,a.readInt8)(l,u),y:(0,a.readInt8)(l,u+1)}),u+=2;f.at=n}if(f.refinement&&!f.refinementTemplate){for(n=[],i=0;i<2;i++)n.push({x:(0,a.readInt8)(l,u),y:(0,a.readInt8)(l,u+1)}),u+=2;f.refinementAt=n}f.numberOfExportedSymbols=(0,a.readUint32)(l,u),u+=4,f.numberOfNewSymbols=(0,a.readUint32)(l,u),u+=4,r=[f,c.number,c.referredTo,l,u,h];break;case 6:case 7:var g={};g.info=b(l,u),u+=y;var m=(0,a.readUint16)(l,u);if(u+=2,g.huffman=!!(1&m),g.refinement=!!(2&m),g.logStripSize=m>>2&3,g.stripSize=1<<g.logStripSize,g.referenceCorner=m>>4&3,g.transposed=!!(64&m),g.combinationOperator=m>>7&3,g.defaultPixelValue=m>>9&1,g.dsOffset=m<<17>>27,g.refinementTemplate=m>>15&1,g.huffman){var p=(0,a.readUint16)(l,u);u+=2,g.huffmanFS=3&p,g.huffmanDS=p>>2&3,g.huffmanDT=p>>4&3,g.huffmanRefinementDW=p>>6&3,g.huffmanRefinementDH=p>>8&3,g.huffmanRefinementDX=p>>10&3,g.huffmanRefinementDY=p>>12&3,g.huffmanRefinementSizeSelector=!!(16384&p)}if(g.refinement&&!g.refinementTemplate){for(n=[],i=0;i<2;i++)n.push({x:(0,a.readInt8)(l,u),y:(0,a.readInt8)(l,u+1)}),u+=2;g.refinementAt=n}g.numberOfSymbolInstances=(0,a.readUint32)(l,u),u+=4,r=[g,c.referredTo,l,u,h];break;case 16:var v={},w=l[u++];v.mmr=!!(1&w),v.template=w>>1&3,v.patternWidth=l[u++],v.patternHeight=l[u++],v.maxPatternIndex=(0,a.readUint32)(l,u),u+=4,r=[v,c.number,l,u,h];break;case 22:case 23:var k={};k.info=b(l,u),u+=y;var S=l[u++];k.mmr=!!(1&S),k.template=S>>1&3,k.enableSkip=!!(8&S),k.combinationOperator=S>>4&7,k.defaultPixelValue=S>>7&1,k.gridWidth=(0,a.readUint32)(l,u),u+=4,k.gridHeight=(0,a.readUint32)(l,u),u+=4,k.gridOffsetX=4294967295&(0,a.readUint32)(l,u),u+=4,k.gridOffsetY=4294967295&(0,a.readUint32)(l,u),u+=4,k.gridVectorX=(0,a.readUint16)(l,u),u+=2,k.gridVectorY=(0,a.readUint16)(l,u),u+=2,r=[k,c.referredTo,l,u,h];break;case 38:case 39:var C={};C.info=b(l,u),u+=y;var x=l[u++];if(C.mmr=!!(1&x),C.template=x>>1&3,C.prediction=!!(8&x),!C.mmr){for(s=0===C.template?4:1,n=[],i=0;i<s;i++)n.push({x:(0,a.readInt8)(l,u),y:(0,a.readInt8)(l,u+1)}),u+=2;C.at=n}r=[C,l,u,h];break;case 48:var A={width:(0,a.readUint32)(l,u),height:(0,a.readUint32)(l,u+4),resolutionX:(0,a.readUint32)(l,u+8),resolutionY:(0,a.readUint32)(l,u+12)};4294967295===A.height&&delete A.height;var _=l[u+16];(0,a.readUint16)(l,u+17),A.lossless=!!(1&_),A.refinement=!!(2&_),A.defaultPixelValue=_>>2&1,A.combinationOperator=_>>3&3,A.requiresBuffer=!!(32&_),A.combinationOperatorOverride=!!(64&_),r=[A];break;case 49:case 50:case 51:break;case 53:r=[c.number,l,u,h];break;case 62:break;default:throw new o(\"segment type \".concat(c.typeName,\"(\").concat(c.type,\")\")+\" is not implemented\")}var P=\"on\"+c.typeName;P in t&&t[P].apply(t,r)}function k(e,t){for(var r=0,a=e.length;r<a;r++)w(e[r],t)}function S(){}function C(e){2===e.length?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=e[0],this.rangeLength=0,this.prefixCode=e[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=e[0],this.prefixLength=e[1],this.rangeLength=e[2],this.prefixCode=e[3],this.isLowerRange=\"lower\"===e[4])}function x(e){this.children=[],e?(this.isLeaf=!0,this.rangeLength=e.rangeLength,this.rangeLow=e.rangeLow,this.isLowerRange=e.isLowerRange,this.isOOB=e.isOOB):this.isLeaf=!1}function A(e,t){t||this.assignPrefixCodes(e),this.rootNode=new x(null);var r,a,n=e.length;for(r=0;r<n;r++)(a=e[r]).prefixLength>0&&this.rootNode.buildTree(a,a.prefixLength-1)}S.prototype={onPageInformation:function(e){this.currentPageInfo=e;var t=e.width+7>>3,r=new Uint8ClampedArray(t*e.height);if(e.defaultPixelValue)for(var a=0,n=r.length;a<n;a++)r[a]=255;this.buffer=r},drawBitmap:function(e,t){var r,a,n,i,s=this.currentPageInfo,c=e.width,l=e.height,u=s.width+7>>3,h=s.combinationOperatorOverride?e.combinationOperator:s.combinationOperator,f=this.buffer,d=128>>(7&e.x),g=e.y*u+(e.x>>3);switch(h){case 0:for(r=0;r<l;r++){for(n=d,i=g,a=0;a<c;a++)t[r][a]&&(f[i]|=n),(n>>=1)||(n=128,i++);g+=u}break;case 2:for(r=0;r<l;r++){for(n=d,i=g,a=0;a<c;a++)t[r][a]&&(f[i]^=n),(n>>=1)||(n=128,i++);g+=u}break;default:throw new o(\"operator \".concat(h,\" is not supported\"))}},onImmediateGenericRegion:function(e,r,a,n){var i=e.info,o=new t(r,a,n),s=d(e.mmr,i.width,i.height,e.template,e.prediction,null,e.at,o);this.drawBitmap(i,s)},onImmediateLosslessGenericRegion:function(){this.onImmediateGenericRegion.apply(this,arguments)},onSymbolDictionary:function(e,n,i,c,l,u){var h,f;e.huffman&&(h=function(e,t,r){var a,n,i,s,c=0;switch(e.huffmanDHSelector){case 0:case 1:a=P(e.huffmanDHSelector+4);break;case 3:a=O(c,t,r),c++;break;default:throw new o(\"invalid Huffman DH selector\")}switch(e.huffmanDWSelector){case 0:case 1:n=P(e.huffmanDWSelector+2);break;case 3:n=O(c,t,r),c++;break;default:throw new o(\"invalid Huffman DW selector\")}e.bitmapSizeSelector?(i=O(c,t,r),c++):i=P(1);s=e.aggregationInstancesSelector?O(c,t,r):P(1);return{tableDeltaHeight:a,tableDeltaWidth:n,tableBitmapSize:i,tableAggregateInstances:s}}(e,i,this.customTables),f=new I(c,l,u));var p=this.symbols;p||(this.symbols=p={});for(var v=[],b=0,y=i.length;b<y;b++){var w=p[i[b]];w&&(v=v.concat(w))}var k=new t(c,l,u);p[n]=function(e,t,n,i,c,l,u,h,f,p,v,b){if(e&&t)throw new o(\"symbol refinement with Huffman is not supported\");var y,w,k=[],S=0,C=(0,a.log2)(n.length+i),x=v.decoder,A=v.contextCache;for(e&&(y=P(1),w=[],C=Math.max(C,1));k.length<i;){S+=e?l.tableDeltaHeight.decode(b):r(A,\"IADH\",x);for(var _=0,I=0,O=e?w.length:0;;){var F,R=e?l.tableDeltaWidth.decode(b):r(A,\"IADW\",x);if(null===R)break;if(I+=_+=R,t){var B=r(A,\"IAAI\",x);if(B>1)F=m(e,t,_,S,0,B,1,n.concat(k),C,0,0,1,0,l,f,p,v,0,b);else{var D=s(A,x,C),M=r(A,\"IARDX\",x),L=r(A,\"IARDY\",x);F=g(_,S,f,D<n.length?n[D]:k[D-n.length],M,L,!1,p,v)}k.push(F)}else e?w.push(_):(F=d(!1,_,S,u,!1,null,h,v),k.push(F))}if(e&&!t){var N=l.tableBitmapSize.decode(b);b.byteAlign();var U=void 0;if(0===N)U=T(b,I,S);else{var q=b.end,j=b.position+N;b.end=j,U=E(b,I,S,!1),b.end=q,b.position=j}var z=w.length;if(O===z-1)k.push(U);else{var H=void 0,W=void 0,G=0,X=void 0,V=void 0;for(H=O;H<z;H++){for(X=G+w[H],V=[],W=0;W<S;W++)V.push(U[W].subarray(G,X));k.push(V),G=X}}}}for(var K=[],Y=[],J=!1,Z=n.length+i;Y.length<Z;){for(var Q=e?y.decode(b):r(A,\"IAEX\",x);Q--;)Y.push(J);J=!J}for(var $=0,ee=n.length;$<ee;$++)Y[$]&&K.push(n[$]);for(var te=0;te<i;$++,te++)Y[$]&&K.push(k[te]);return K}(e.huffman,e.refinement,v,e.numberOfNewSymbols,e.numberOfExportedSymbols,h,e.template,e.at,e.refinementTemplate,e.refinementAt,k,f)},onImmediateTextRegion:function(e,r,n,i,s){for(var c,l,u=e.info,h=this.symbols,f=[],d=0,g=r.length;d<g;d++){var p=h[r[d]];p&&(f=f.concat(p))}var v=(0,a.log2)(f.length);e.huffman&&(l=new I(n,i,s),c=function(e,t,r,a,n){var i,s,c=[];for(i=0;i<=34;i++)s=n.readBits(4),c.push(new C([i,s,0,0]));var l=new A(c,!1);for(c.length=0,i=0;i<a;)if((s=l.decode(n))>=32){var u=void 0,h=void 0,f=void 0;switch(s){case 32:if(0===i)throw new o(\"no previous value in symbol ID table\");h=n.readBits(2)+3,u=c[i-1].prefixLength;break;case 33:h=n.readBits(3)+3,u=0;break;case 34:h=n.readBits(7)+11,u=0;break;default:throw new o(\"invalid code length in symbol ID table\")}for(f=0;f<h;f++)c.push(new C([i,u,0,0])),i++}else c.push(new C([i,s,0,0])),i++;n.byteAlign();var d,g,m,p=new A(c,!1),v=0;switch(e.huffmanFS){case 0:case 1:d=P(e.huffmanFS+6);break;case 3:d=O(v,t,r),v++;break;default:throw new o(\"invalid Huffman FS selector\")}switch(e.huffmanDS){case 0:case 1:case 2:g=P(e.huffmanDS+8);break;case 3:g=O(v,t,r),v++;break;default:throw new o(\"invalid Huffman DS selector\")}switch(e.huffmanDT){case 0:case 1:case 2:m=P(e.huffmanDT+11);break;case 3:m=O(v,t,r),v++;break;default:throw new o(\"invalid Huffman DT selector\")}if(e.refinement)throw new o(\"refinement with Huffman is not supported\");return{symbolIDTable:p,tableFirstS:d,tableDeltaS:g,tableDeltaT:m}}(e,r,this.customTables,f.length,l));var b=new t(n,i,s),y=m(e.huffman,e.refinement,u.width,u.height,e.defaultPixelValue,e.numberOfSymbolInstances,e.stripSize,f,v,e.transposed,e.dsOffset,e.referenceCorner,e.combinationOperator,c,e.refinementTemplate,e.refinementAt,b,e.logStripSize,l);this.drawBitmap(u,y)},onImmediateLosslessTextRegion:function(){this.onImmediateTextRegion.apply(this,arguments)},onPatternDictionary:function(e,r,a,n,i){var o=this.patterns;o||(this.patterns=o={});var s=new t(a,n,i);o[r]=function(e,t,r,a,n,i){var o=[];e||(o.push({x:-t,y:0}),0===n&&(o.push({x:-3,y:-1}),o.push({x:2,y:-2}),o.push({x:-2,y:-2})));for(var s,c,l,u,h=d(e,(a+1)*t,r,n,!1,null,o,i),f=[],g=0;g<=a;){for(s=[],l=(c=t*g)+t,u=0;u<r;u++)s.push(h[u].subarray(c,l));f.push(s),g++}return f}(e.mmr,e.patternWidth,e.patternHeight,e.maxPatternIndex,e.template,s)},onImmediateHalftoneRegion:function(e,r,n,i,s){var c=this.patterns[r[0]],l=e.info,u=new t(n,i,s),h=function(e,t,r,n,i,s,c,l,u,h,f,g,m,p,v){if(c)throw new o(\"skip is not supported\");if(0!==l)throw new o(\"operator \"+l+\" is not supported in halftone region\");var b,y,w,k=[];for(b=0;b<i;b++){if(w=new Uint8Array(n),s)for(y=0;y<n;y++)w[y]=s;k.push(w)}var S=t.length,C=t[0],x=C[0].length,A=C.length,_=(0,a.log2)(S),P=[];e||(P.push({x:r<=1?3:2,y:-1}),0===r&&(P.push({x:-3,y:-1}),P.push({x:2,y:-2}),P.push({x:-2,y:-2})));var O,T,F,R,B,D,M,L,N,U,q,j=[];for(e&&(O=new I(v.data,v.start,v.end)),b=_-1;b>=0;b--)T=e?E(O,u,h,!0):d(!1,u,h,r,!1,null,P,v),j[b]=T;for(F=0;F<h;F++)for(R=0;R<u;R++){for(B=0,D=0,y=_-1;y>=0;y--)D|=(B=j[y][F][R]^B)<<y;if(M=t[D],N=g+F*m-R*p>>8,(L=f+F*p+R*m>>8)>=0&&L+x<=n&&N>=0&&N+A<=i)for(b=0;b<A;b++)for(q=k[N+b],U=M[b],y=0;y<x;y++)q[L+y]|=U[y];else{var z=void 0,H=void 0;for(b=0;b<A;b++)if(!((H=N+b)<0||H>=i))for(q=k[H],U=M[b],y=0;y<x;y++)(z=L+y)>=0&&z<n&&(q[z]|=U[y])}}return k}(e.mmr,c,e.template,l.width,l.height,e.defaultPixelValue,e.enableSkip,e.combinationOperator,e.gridWidth,e.gridHeight,e.gridOffsetX,e.gridOffsetY,e.gridVectorX,e.gridVectorY,u);this.drawBitmap(l,h)},onImmediateLosslessHalftoneRegion:function(){this.onImmediateHalftoneRegion.apply(this,arguments)},onTables:function(e,t,r,n){var i=this.customTables;i||(this.customTables=i={}),i[e]=function(e,t,r){var n,i,o=e[t],s=4294967295&(0,a.readUint32)(e,t+1),c=4294967295&(0,a.readUint32)(e,t+5),l=new I(e,t+9,r),u=1+(o>>1&7),h=1+(o>>4&7),f=[],d=s;do{n=l.readBits(u),i=l.readBits(h),f.push(new C([d,n,i,0])),d+=1<<i}while(d<c);n=l.readBits(u),f.push(new C([s-1,n,32,0,\"lower\"])),n=l.readBits(u),f.push(new C([c,n,32,0])),1&o&&(n=l.readBits(u),f.push(new C([n,0])));return new A(f,!1)}(t,r,n)}},x.prototype={buildTree:function(e,t){var r=e.prefixCode>>t&1;if(t<=0)this.children[r]=new x(e);else{var a=this.children[r];a||(this.children[r]=a=new x(null)),a.buildTree(e,t-1)}},decodeNode:function(e){if(this.isLeaf){if(this.isOOB)return null;var t=e.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-t:t)}var r=this.children[e.readBit()];if(!r)throw new o(\"invalid Huffman data\");return r.decodeNode(e)}},A.prototype={decode:function(e){return this.rootNode.decodeNode(e)},assignPrefixCodes:function(e){var t,r=e.length,a=0;for(t=0;t<r;t++)a=Math.max(a,e[t].prefixLength);var n=new Uint32Array(a+1);for(t=0;t<r;t++)n[e[t].prefixLength]++;var i,o,s,c=1,l=0;for(n[0]=0;c<=a;){for(i=l=l+n[c-1]<<1,o=0;o<r;)(s=e[o]).prefixLength===c&&(s.prefixCode=i,i++),o++;c++}}};var _={};function P(e){var t,r=_[e];if(r)return r;switch(e){case 1:t=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:t=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:t=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,\"lower\"],[75,7,32,126],[6,62]];break;case 4:t=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:t=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,\"lower\"],[76,6,32,62]];break;case 6:t=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,\"lower\"],[2048,6,32,63]];break;case 7:t=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,\"lower\"],[2048,5,32,31]];break;case 8:t=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,\"lower\"],[1670,9,32,511],[2,1]];break;case 9:t=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,\"lower\"],[3339,9,32,511],[2,0]];break;case 10:t=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,\"lower\"],[4166,8,32,255],[2,2]];break;case 11:t=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:t=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:t=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:t=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:t=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,\"lower\"],[25,7,32,127]];break;default:throw new o(\"standard table B.\".concat(e,\" does not exist\"))}var a,n=t.length;for(a=0;a<n;a++)t[a]=new C(t[a]);return r=new A(t,!0),_[e]=r,r}function I(e,t,r){this.data=e,this.start=t,this.end=r,this.position=t,this.shift=-1,this.currentByte=0}function O(e,t,r){var a,n,i=0,s=t.length;for(a=0;a<s;a++)if(n=r[t[a]]){if(e===i)return n;i++}throw new o(\"can't find custom Huffman table\")}function T(e,t,r){var a,n,i,o=[];for(n=0;n<r;n++){for(i=new Uint8Array(t),o.push(i),a=0;a<t;a++)i[a]=e.readBit();e.byteAlign()}return o}function E(e,t,r,a){var n,o,s,c,l,u={K:-1,Columns:t,Rows:r,BlackIs1:!0,EndOfBlock:a},h=new i.CCITTFaxDecoder(e,u),f=[],d=!1;for(o=0;o<r;o++)for(s=new Uint8Array(t),f.push(s),l=-1,n=0;n<t;n++)l<0&&(-1===(c=h.readNextChar())&&(c=0,d=!0),l=7),s[n]=c>>l&1,l--;if(a&&!d)for(var g=0;g<5&&-1!==h.readNextChar();g++);return f}function F(){}return I.prototype={readBit:function(){if(this.shift<0){if(this.position>=this.end)throw new o(\"end of data while reading bit\");this.currentByte=this.data[this.position++],this.shift=7}var e=this.currentByte>>this.shift&1;return this.shift--,e},readBits:function(e){var t,r=0;for(t=e-1;t>=0;t--)r|=this.readBit()<<t;return r},byteAlign:function(){this.shift=-1},next:function(){return this.position>=this.end?-1:this.data[this.position++]}},F.prototype={parseChunks:function(e){return function(e){for(var t=new S,r=0,a=e.length;r<a;r++){var n=e[r];k(v({},n.data,n.start,n.end),t)}return t.buffer}(e)},parse:function(e){var t=function(e){var t=0,r=e.length;if(151!==e[t]||74!==e[t+1]||66!==e[t+2]||50!==e[t+3]||13!==e[t+4]||10!==e[t+5]||26!==e[t+6]||10!==e[t+7])throw new o(\"parseJbig2 - invalid header.\");var n=Object.create(null);t+=8;var i=e[t++];n.randomAccess=!(1&i),2&i||(n.numberOfPages=(0,a.readUint32)(e,t),t+=4);var s=v(n,e,t,r),c=new S;k(s,c);for(var l=c.currentPageInfo,u=l.width,h=l.height,f=c.buffer,d=new Uint8ClampedArray(u*h),g=0,m=0,p=0;p<h;p++)for(var b=0,y=void 0,w=0;w<u;w++)b||(b=128,y=f[m++]),d[g++]=y&b?0:255,b>>=1;return{imgData:d,width:u,height:h}}(e),r=t.imgData,n=t.width,i=t.height;return this.width=n,this.height=i,r}},F}();t.Jbig2Image=s},function(e,t,r){\"use strict\";function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.ArithmeticDecoder=void 0;var n=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}],i=function(){function e(t,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.data=t,this.bp=r,this.dataEnd=a,this.chigh=t[r],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}var t,r,i;return t=e,(r=[{key:\"byteIn\",value:function(){var e=this.data,t=this.bp;255===e[t]?e[t+1]>143?(this.clow+=65280,this.ct=8):(t++,this.clow+=e[t]<<9,this.ct=7,this.bp=t):(t++,this.clow+=t<this.dataEnd?e[t]<<8:65280,this.ct=8,this.bp=t),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}},{key:\"readBit\",value:function(e,t){var r,a=e[t]>>1,i=1&e[t],o=n[a],s=o.qe,c=this.a-s;if(this.chigh<s)c<s?(c=s,r=i,a=o.nmps):(c=s,r=1^i,1===o.switchFlag&&(i=r),a=o.nlps);else{if(this.chigh-=s,0!=(32768&c))return this.a=c,i;c<s?(r=1^i,1===o.switchFlag&&(i=r),a=o.nlps):(r=i,a=o.nmps)}do{0===this.ct&&this.byteIn(),c<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(0==(32768&c));return this.a=c,e[t]=a<<1|i,r}}])&&a(t.prototype,r),i&&a(t,i),e}();t.ArithmeticDecoder=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.JpegStream=void 0;var a=r(5),n=r(158),i=r(156),o=r(165),s=function(){function e(e,t,r,a){for(var i;-1!==(i=e.getByte());)if(255===i){e.skip(-1);break}this.stream=e,this.maybeLength=t,this.dict=r,this.params=a,n.DecodeStream.call(this,t)}return e.prototype=Object.create(n.DecodeStream.prototype),Object.defineProperty(e.prototype,\"bytes\",{get:function(){return(0,a.shadow)(this,\"bytes\",this.stream.getBytes(this.maybeLength))},configurable:!0}),e.prototype.ensureBuffer=function(e){},e.prototype.readBlock=function(){if(!this.eof){var e={decodeTransform:void 0,colorTransform:void 0},t=this.dict.getArray(\"Decode\",\"D\");if(this.forceRGB&&Array.isArray(t)){for(var r=this.dict.get(\"BitsPerComponent\")||8,a=t.length,n=new Int32Array(a),s=!1,c=(1<<r)-1,l=0;l<a;l+=2)n[l]=256*(t[l+1]-t[l])|0,n[l+1]=t[l]*c|0,256===n[l]&&0===n[l+1]||(s=!0);s&&(e.decodeTransform=n)}if((0,i.isDict)(this.params)){var u=this.params.get(\"ColorTransform\");Number.isInteger(u)&&(e.colorTransform=u)}var h=new o.JpegImage(e);h.parse(this.bytes);var f=h.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=f,this.bufferLength=f.length,this.eof=!0}},e.prototype.getIR=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,a.createObjectURL)(this.bytes,\"image/jpeg\",e)},e}();t.JpegStream=s},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.JpegImage=void 0;var a=r(5);function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var i=function(){function e(e){this.message=\"JPEG error: \"+e}return e.prototype=new Error,e.prototype.name=\"JpegError\",e.constructor=e,e}(),o=function(){function e(e,t){this.message=e,this.scanLines=t}return e.prototype=new Error,e.prototype.name=\"DNLMarkerError\",e.constructor=e,e}(),s=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name=\"EOIMarkerError\",e.constructor=e,e}(),c=function(){var e=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,r=799,c=3406,l=2276,u=1567,h=3784,f=5793,d=2896;function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.decodeTransform,r=void 0===t?null:t,a=e.colorTransform,n=void 0===a?-1:a;this._decodeTransform=r,this._colorTransform=n}function m(e,t){for(var r,a,n=0,i=[],o=16;o>0&&!e[o-1];)o--;i.push({children:[],index:0});var s,c=i[0];for(r=0;r<o;r++){for(a=0;a<e[r];a++){for((c=i.pop()).children[c.index]=t[n];c.index>0;)c=i.pop();for(c.index++,i.push(c);i.length<=r;)i.push(s={children:[],index:0}),c.children[c.index]=s.children,c=s;n++}r+1<o&&(i.push(s={children:[],index:0}),c.children[c.index]=s.children,c=s)}return i[0].children}function p(e,t,r){return 64*((e.blocksPerLine+1)*t+r)}function v(t,r,c,l,u,h,f,d,g){var m=arguments.length>9&&void 0!==arguments[9]&&arguments[9],v=c.mcusPerLine,b=c.progressive,y=r,k=0,S=0;function C(){if(S>0)return k>>--S&1;if(255===(k=t[r++])){var e=t[r++];if(e){if(220===e&&m){r+=2;var a=t[r++]<<8|t[r++];if(a>0&&a!==c.scanLines)throw new o(\"Found DNL marker (0xFFDC) while parsing scan data\",a)}else if(217===e)throw new s(\"Found EOI marker (0xFFD9) while parsing scan data\");throw new i(\"unexpected marker \".concat((k<<8|e).toString(16)))}}return S=7,k>>>7}function x(e){for(var t=e;;){if(\"number\"==typeof(t=t[C()]))return t;if(\"object\"!==n(t))throw new i(\"invalid huffman sequence\")}}function A(e){for(var t=0;e>0;)t=t<<1|C(),e--;return t}function _(e){if(1===e)return 1===C()?1:-1;var t=A(e);return t>=1<<e-1?t:t+(-1<<e)+1}var P=0;var I,O=0;function T(e,t,r,a,n){var i=r%v;t(e,p(e,(r/v|0)*e.v+a,i*e.h+n))}function E(e,t,r){t(e,p(e,r/e.blocksPerLine|0,r%e.blocksPerLine))}var F,R,B,D,M,L,N=l.length;L=b?0===h?0===d?function(e,t){var r=x(e.huffmanTableDC),a=0===r?0:_(r)<<g;e.blockData[t]=e.pred+=a}:function(e,t){e.blockData[t]|=C()<<g}:0===d?function(t,r){if(P>0)P--;else for(var a=h,n=f;a<=n;){var i=x(t.huffmanTableAC),o=15&i,s=i>>4;if(0!==o){var c=e[a+=s];t.blockData[r+c]=_(o)*(1<<g),a++}else{if(s<15){P=A(s)+(1<<s)-1;break}a+=16}}}:function(t,r){for(var a,n,o=h,s=f,c=0;o<=s;){var l=r+e[o],u=t.blockData[l]<0?-1:1;switch(O){case 0:if(c=(n=x(t.huffmanTableAC))>>4,0==(a=15&n))c<15?(P=A(c)+(1<<c),O=4):(c=16,O=1);else{if(1!==a)throw new i(\"invalid ACn encoding\");I=_(a),O=c?2:3}continue;case 1:case 2:t.blockData[l]?t.blockData[l]+=u*(C()<<g):0==--c&&(O=2===O?3:0);break;case 3:t.blockData[l]?t.blockData[l]+=u*(C()<<g):(t.blockData[l]=I<<g,O=0);break;case 4:t.blockData[l]&&(t.blockData[l]+=u*(C()<<g))}o++}4===O&&0==--P&&(O=0)}:function(t,r){var a=x(t.huffmanTableDC),n=0===a?0:_(a);t.blockData[r]=t.pred+=n;for(var i=1;i<64;){var o=x(t.huffmanTableAC),s=15&o,c=o>>4;if(0!==s){var l=e[i+=c];t.blockData[r+l]=_(s),i++}else{if(c<15)break;i+=16}}};var U,q,j,z,H=0;for(q=1===N?l[0].blocksPerLine*l[0].blocksPerColumn:v*c.mcusPerColumn;H<q;){var W=u?Math.min(q-H,u):q;for(R=0;R<N;R++)l[R].pred=0;if(P=0,1===N)for(F=l[0],M=0;M<W;M++)E(F,L,H),H++;else for(M=0;M<W;M++){for(R=0;R<N;R++)for(j=(F=l[R]).h,z=F.v,B=0;B<z;B++)for(D=0;D<j;D++)T(F,L,H,B,D);H++}S=0,(U=w(t,r))&&U.invalid&&((0,a.warn)(\"decodeScan - unexpected MCU data, current marker is: \"+U.invalid),r=U.offset);var G=U&&U.marker;if(!G||G<=65280)throw new i(\"marker was not found\");if(!(G>=65488&&G<=65495))break;r+=2}return(U=w(t,r))&&U.invalid&&((0,a.warn)(\"decodeScan - unexpected Scan data, current marker is: \"+U.invalid),r=U.offset),r-y}function b(e,a,n){var o,s,g,m,p,v,b,y,w,k,S,C,x,A,_,P,I,O=e.quantizationTable,T=e.blockData;if(!O)throw new i(\"missing required Quantization Table.\");for(var E=0;E<64;E+=8)w=T[a+E],k=T[a+E+1],S=T[a+E+2],C=T[a+E+3],x=T[a+E+4],A=T[a+E+5],_=T[a+E+6],P=T[a+E+7],w*=O[E],0!=(k|S|C|x|A|_|P)?(k*=O[E+1],S*=O[E+2],C*=O[E+3],x*=O[E+4],A*=O[E+5],_*=O[E+6],P*=O[E+7],s=(o=(o=f*w+128>>8)+(s=f*x+128>>8)+1>>1)-s,I=(g=S)*h+(m=_)*u+128>>8,g=g*u-m*h+128>>8,b=(p=(p=d*(k-P)+128>>8)+(b=A<<4)+1>>1)-b,v=(y=(y=d*(k+P)+128>>8)+(v=C<<4)+1>>1)-v,m=(o=o+(m=I)+1>>1)-m,g=(s=s+g+1>>1)-g,I=p*l+y*c+2048>>12,p=p*c-y*l+2048>>12,y=I,I=v*r+b*t+2048>>12,v=v*t-b*r+2048>>12,b=I,n[E]=o+y,n[E+7]=o-y,n[E+1]=s+b,n[E+6]=s-b,n[E+2]=g+v,n[E+5]=g-v,n[E+3]=m+p,n[E+4]=m-p):(I=f*w+512>>10,n[E]=I,n[E+1]=I,n[E+2]=I,n[E+3]=I,n[E+4]=I,n[E+5]=I,n[E+6]=I,n[E+7]=I);for(var F=0;F<8;++F)w=n[F],0!=((k=n[F+8])|(S=n[F+16])|(C=n[F+24])|(x=n[F+32])|(A=n[F+40])|(_=n[F+48])|(P=n[F+56]))?(s=(o=4112+((o=f*w+2048>>12)+(s=f*x+2048>>12)+1>>1))-s,I=(g=S)*h+(m=_)*u+2048>>12,g=g*u-m*h+2048>>12,m=I,b=(p=(p=d*(k-P)+2048>>12)+(b=A)+1>>1)-b,v=(y=(y=d*(k+P)+2048>>12)+(v=C)+1>>1)-v,I=p*l+y*c+2048>>12,p=p*c-y*l+2048>>12,y=I,I=v*r+b*t+2048>>12,v=v*t-b*r+2048>>12,w=(w=(o=o+m+1>>1)+y)<16?0:w>=4080?255:w>>4,k=(k=(s=s+g+1>>1)+(b=I))<16?0:k>=4080?255:k>>4,S=(S=(g=s-g)+v)<16?0:S>=4080?255:S>>4,C=(C=(m=o-m)+p)<16?0:C>=4080?255:C>>4,x=(x=m-p)<16?0:x>=4080?255:x>>4,A=(A=g-v)<16?0:A>=4080?255:A>>4,_=(_=s-b)<16?0:_>=4080?255:_>>4,P=(P=o-y)<16?0:P>=4080?255:P>>4,T[a+F]=w,T[a+F+8]=k,T[a+F+16]=S,T[a+F+24]=C,T[a+F+32]=x,T[a+F+40]=A,T[a+F+48]=_,T[a+F+56]=P):(I=(I=f*w+8192>>14)<-2040?0:I>=2024?255:I+2056>>4,T[a+F]=I,T[a+F+8]=I,T[a+F+16]=I,T[a+F+24]=I,T[a+F+32]=I,T[a+F+40]=I,T[a+F+48]=I,T[a+F+56]=I)}function y(e,t){for(var r=t.blocksPerLine,a=t.blocksPerColumn,n=new Int16Array(64),i=0;i<a;i++)for(var o=0;o<r;o++){b(t,p(t,i,o),n)}return t.blockData}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;function a(t){return e[t]<<8|e[t+1]}var n=e.length-1,i=r<t?r:t;if(t>=n)return null;var o=a(t);if(o>=65472&&o<=65534)return{invalid:null,marker:o,offset:t};for(var s=a(i);!(s>=65472&&s<=65534);){if(++i>=n)return null;s=a(i)}return{invalid:o.toString(16),marker:s,offset:i}}return g.prototype={parse:function(t){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).dnlScanLines,n=void 0===r?null:r;function c(){var e=t[d]<<8|t[d+1];return d+=2,e}function l(){var e=c(),r=d+e-2,n=w(t,r,d);n&&n.invalid&&((0,a.warn)(\"readDataBlock - incorrect length, current marker is: \"+n.invalid),r=n.offset);var i=t.subarray(d,r);return d+=i.length,i}function u(e){for(var t=Math.ceil(e.samplesPerLine/8/e.maxH),r=Math.ceil(e.scanLines/8/e.maxV),a=0;a<e.components.length;a++){X=e.components[a];var n=Math.ceil(Math.ceil(e.samplesPerLine/8)*X.h/e.maxH),i=Math.ceil(Math.ceil(e.scanLines/8)*X.v/e.maxV),o=t*X.h,s=64*(r*X.v)*(o+1);X.blockData=new Int16Array(s),X.blocksPerLine=n,X.blocksPerColumn=i}e.mcusPerLine=t,e.mcusPerColumn=r}var h,f,d=0,g=null,p=null,b=0,k=[],S=[],C=[],x=c();if(65496!==x)throw new i(\"SOI not found\");x=c();e:for(;65497!==x;){var A,_,P;switch(x){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var I=l();65504===x&&74===I[0]&&70===I[1]&&73===I[2]&&70===I[3]&&0===I[4]&&(g={version:{major:I[5],minor:I[6]},densityUnits:I[7],xDensity:I[8]<<8|I[9],yDensity:I[10]<<8|I[11],thumbWidth:I[12],thumbHeight:I[13],thumbData:I.subarray(14,14+3*I[12]*I[13])}),65518===x&&65===I[0]&&100===I[1]&&111===I[2]&&98===I[3]&&101===I[4]&&(p={version:I[5]<<8|I[6],flags0:I[7]<<8|I[8],flags1:I[9]<<8|I[10],transformCode:I[11]});break;case 65499:for(var O=c()+d-2;d<O;){var T=t[d++],E=new Uint16Array(64);if(T>>4==0)for(_=0;_<64;_++)E[e[_]]=t[d++];else{if(T>>4!=1)throw new i(\"DQT - invalid table spec\");for(_=0;_<64;_++)E[e[_]]=c()}k[15&T]=E}break;case 65472:case 65473:case 65474:if(h)throw new i(\"Only single frame JPEGs supported\");c(),(h={}).extended=65473===x,h.progressive=65474===x,h.precision=t[d++];var F=c();h.scanLines=n||F,h.samplesPerLine=c(),h.components=[],h.componentIds={};var R,B=t[d++],D=0,M=0;for(A=0;A<B;A++){R=t[d];var L=t[d+1]>>4,N=15&t[d+1];D<L&&(D=L),M<N&&(M=N);var U=t[d+2];P=h.components.push({h:L,v:N,quantizationId:U,quantizationTable:null}),h.componentIds[R]=P-1,d+=3}h.maxH=D,h.maxV=M,u(h);break;case 65476:var q=c();for(A=2;A<q;){var j=t[d++],z=new Uint8Array(16),H=0;for(_=0;_<16;_++,d++)H+=z[_]=t[d];var W=new Uint8Array(H);for(_=0;_<H;_++,d++)W[_]=t[d];A+=17+H,(j>>4==0?C:S)[15&j]=m(z,W)}break;case 65501:c(),f=c();break;case 65498:var G=1==++b&&!n;c();var X,V=t[d++],K=[];for(A=0;A<V;A++){var Y=h.componentIds[t[d++]];X=h.components[Y];var J=t[d++];X.huffmanTableDC=C[J>>4],X.huffmanTableAC=S[15&J],K.push(X)}var Z=t[d++],Q=t[d++],$=t[d++];try{var ee=v(t,d,h,K,f,Z,Q,$>>4,15&$,G);d+=ee}catch(e){if(e instanceof o)return(0,a.warn)(\"\".concat(e.message,\" -- attempting to re-parse the JPEG image.\")),this.parse(t,{dnlScanLines:e.scanLines});if(e instanceof s){(0,a.warn)(\"\".concat(e.message,\" -- ignoring the rest of the image data.\"));break e}throw e}break;case 65500:d+=4;break;case 65535:255!==t[d]&&d--;break;default:if(255===t[d-3]&&t[d-2]>=192&&t[d-2]<=254){d-=3;break}var te=w(t,d-2);if(te&&te.invalid){(0,a.warn)(\"JpegImage.parse - unexpected data, current marker is: \"+te.invalid),d=te.offset;break}throw new i(\"unknown marker \"+x.toString(16))}x=c()}for(this.width=h.samplesPerLine,this.height=h.scanLines,this.jfif=g,this.adobe=p,this.components=[],A=0;A<h.components.length;A++){var re=k[(X=h.components[A]).quantizationId];re&&(X.quantizationTable=re),this.components.push({output:y(0,X),scaleX:X.h/h.maxH,scaleY:X.v/h.maxV,blocksPerLine:X.blocksPerLine,blocksPerColumn:X.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(e,t){var r,a,n,i,o,s,c,l,u,h,f,d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g=this.width/e,m=this.height/t,p=0,v=this.components.length,b=e*t*v,y=new Uint8ClampedArray(b),w=new Uint32Array(e);for(c=0;c<v;c++){for(a=(r=this.components[c]).scaleX*g,n=r.scaleY*m,p=c,f=r.output,i=r.blocksPerLine+1<<3,o=0;o<e;o++)l=0|o*a,w[o]=(4294967288&l)<<3|7&l;for(s=0;s<t;s++)for(h=i*(4294967288&(l=0|s*n))|(7&l)<<3,o=0;o<e;o++)y[p]=f[h+w[o]],p+=v}var k=this._decodeTransform;if(d||4!==v||k||(k=new Int32Array([-256,255,-256,255,-256,255,-256,255])),k)for(c=0;c<b;)for(l=0,u=0;l<v;l++,c++,u+=2)y[c]=(y[c]*k[u]>>8)+k[u+1];return y},get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform:1===this._colorTransform},_convertYccToRgb:function(e){for(var t,r,a,n=0,i=e.length;n<i;n+=3)t=e[n],r=e[n+1],a=e[n+2],e[n]=t-179.456+1.402*a,e[n+1]=t+135.459-.344*r-.714*a,e[n+2]=t-226.816+1.772*r;return e},_convertYcckToRgb:function(e){for(var t,r,a,n,i=0,o=0,s=e.length;o<s;o+=4)t=e[o],r=e[o+1],a=e[o+2],n=e[o+3],e[i++]=r*(-660635669420364e-19*r+.000437130475926232*a-54080610064599e-18*t+.00048449797120281*n-.154362151871126)-122.67195406894+a*(-.000957964378445773*a+.000817076911346625*t-.00477271405408747*n+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*n+.48357088451265)+n*(-.000336197177618394*n+.484791561490776),e[i++]=107.268039397724+r*(219927104525741e-19*r-.000640992018297945*a+.000659397001245577*t+.000426105652938837*n-.176491792462875)+a*(-.000778269941513683*a+.00130872261408275*t+.000770482631801132*n-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*n+.25802910206845)+n*(-.000318913117588328*n-.213742400323665),e[i++]=r*(-.000570115196973677*r-263409051004589e-19*a+.0020741088115012*t-.00288260236853442*n+.814272968359295)-20.810012546947+a*(-153496057440975e-19*a-.000132689043961446*t+.000560833691242812*n-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*n+.116935020465145)+n*(-.000343531996510555*n+.24165260232407);return e.subarray(0,i)},_convertYcckToCmyk:function(e){for(var t,r,a,n=0,i=e.length;n<i;n+=4)t=e[n],r=e[n+1],a=e[n+2],e[n]=434.456-t-1.402*a,e[n+1]=119.541-t+.344*r+.714*a,e[n+2]=481.816-t-1.772*r;return e},_convertCmykToRgb:function(e){for(var t,r,a,n,i=0,o=0,s=e.length;o<s;o+=4)t=e[o]*(1/255),r=e[o+1]*(1/255),a=e[o+2]*(1/255),n=e[o+3]*(1/255),e[i++]=255+t*(-4.387332384609988*t+54.48615194189176*r+18.82290502165302*a+212.25662451639585*n-285.2331026137004)+r*(1.7149763477362134*r-5.6096736904047315*a-17.873870861415444*n-5.497006427196366)+a*(-2.5217340131683033*a-21.248923337353073*n+17.5119270841813)-n*(21.86122147463605*n+189.48180835922747),e[i++]=255+t*(8.841041422036149*t+60.118027045597366*r+6.871425592049007*a+31.159100130055922*n-79.2970844816548)+r*(-15.310361306967817*r+17.575251261109482*a+131.35250912493976*n-190.9453302588951)+a*(4.444339102852739*a+9.8632861493405*n-24.86741582555878)-n*(20.737325471181034*n+187.80453709719578),e[i++]=255+t*(.8842522430003296*t+8.078677503112928*r+30.89978309703729*a-.23883238689178934*n-14.183576799673286)+r*(10.49593273432072*r+63.02378494754052*a+50.606957656360734*n-112.23884253719248)+a*(.03296041114873217*a+115.60384449646641*n-193.58209356861505)-n*(22.33816807309886*n+180.12613974708367);return e.subarray(0,i)},getData:function(e){var t=e.width,r=e.height,a=e.forceRGB,n=void 0!==a&&a,o=e.isSourcePDF,s=void 0!==o&&o;if(this.numComponents>4)throw new i(\"Unsupported color mode\");var c=this._getLinearizedBlockData(t,r,s);if(1===this.numComponents&&n){for(var l=c.length,u=new Uint8ClampedArray(3*l),h=0,f=0;f<l;f++){var d=c[f];u[h++]=d,u[h++]=d,u[h++]=d}return u}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb(c);if(4===this.numComponents){if(this._isColorConversionNeeded)return n?this._convertYcckToRgb(c):this._convertYcckToCmyk(c);if(n)return this._convertCmykToRgb(c)}return c}},g}();t.JpegImage=c},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.JpxStream=void 0;var a=r(158),n=r(167),i=r(5),o=function(){function e(e,t,r,n){this.stream=e,this.maybeLength=t,this.dict=r,this.params=n,a.DecodeStream.call(this,t)}return e.prototype=Object.create(a.DecodeStream.prototype),Object.defineProperty(e.prototype,\"bytes\",{get:function(){return(0,i.shadow)(this,\"bytes\",this.stream.getBytes(this.maybeLength))},configurable:!0}),e.prototype.ensureBuffer=function(e){},e.prototype.readBlock=function(){if(!this.eof){var e=new n.JpxImage;e.parse(this.bytes);var t=e.width,r=e.height,a=e.componentsCount,i=e.tiles.length;if(1===i)this.buffer=e.tiles[0].items;else{for(var o=new Uint8ClampedArray(t*r*a),s=0;s<i;s++)for(var c=e.tiles[s],l=c.width,u=c.height,h=c.left,f=c.top,d=c.items,g=0,m=(t*f+h)*a,p=t*a,v=l*a,b=0;b<u;b++){var y=d.subarray(g,g+v);o.set(y,m),g+=v,m+=p}this.buffer=o}this.bufferLength=this.buffer.length,this.eof=!0}},e}();t.JpxStream=o},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.JpxImage=void 0;var a=r(5),n=r(163),i=function(){function e(e){this.message=\"JPX error: \"+e}return e.prototype=new Error,e.prototype.name=\"JpxError\",e.constructor=e,e}(),o=function(){var e={LL:0,LH:1,HL:1,HH:2};function t(){this.failOnCorruptedImage=!1}function r(e,t){e.x0=Math.ceil(t.XOsiz/e.XRsiz),e.x1=Math.ceil(t.Xsiz/e.XRsiz),e.y0=Math.ceil(t.YOsiz/e.YRsiz),e.y1=Math.ceil(t.Ysiz/e.YRsiz),e.width=e.x1-e.x0,e.height=e.y1-e.y0}function o(e,t){for(var r,a=e.SIZ,n=[],i=Math.ceil((a.Xsiz-a.XTOsiz)/a.XTsiz),o=Math.ceil((a.Ysiz-a.YTOsiz)/a.YTsiz),s=0;s<o;s++)for(var c=0;c<i;c++)(r={}).tx0=Math.max(a.XTOsiz+c*a.XTsiz,a.XOsiz),r.ty0=Math.max(a.YTOsiz+s*a.YTsiz,a.YOsiz),r.tx1=Math.min(a.XTOsiz+(c+1)*a.XTsiz,a.Xsiz),r.ty1=Math.min(a.YTOsiz+(s+1)*a.YTsiz,a.Ysiz),r.width=r.tx1-r.tx0,r.height=r.ty1-r.ty0,r.components=[],n.push(r);e.tiles=n;for(var l=0,u=a.Csiz;l<u;l++)for(var h=t[l],f=0,d=n.length;f<d;f++){var g={};r=n[f],g.tcx0=Math.ceil(r.tx0/h.XRsiz),g.tcy0=Math.ceil(r.ty0/h.YRsiz),g.tcx1=Math.ceil(r.tx1/h.XRsiz),g.tcy1=Math.ceil(r.ty1/h.YRsiz),g.width=g.tcx1-g.tcx0,g.height=g.tcy1-g.tcy0,r.components[l]=g}}function s(e,t,r){var a=t.codingStyleParameters,n={};return a.entropyCoderWithCustomPrecincts?(n.PPx=a.precinctsSizes[r].PPx,n.PPy=a.precinctsSizes[r].PPy):(n.PPx=15,n.PPy=15),n.xcb_=r>0?Math.min(a.xcb,n.PPx-1):Math.min(a.xcb,n.PPx),n.ycb_=r>0?Math.min(a.ycb,n.PPy-1):Math.min(a.ycb,n.PPy),n}function c(e,t,r){var a=1<<r.PPx,n=1<<r.PPy,i=0===t.resLevel,o=1<<r.PPx+(i?0:-1),s=1<<r.PPy+(i?0:-1),c=t.trx1>t.trx0?Math.ceil(t.trx1/a)-Math.floor(t.trx0/a):0,l=t.try1>t.try0?Math.ceil(t.try1/n)-Math.floor(t.try0/n):0,u=c*l;t.precinctParameters={precinctWidth:a,precinctHeight:n,numprecinctswide:c,numprecinctshigh:l,numprecincts:u,precinctWidthInSubband:o,precinctHeightInSubband:s}}function l(e,t,r){var a,n,i,o,s=r.xcb_,c=r.ycb_,l=1<<s,u=1<<c,h=t.tbx0>>s,f=t.tby0>>c,d=t.tbx1+l-1>>s,g=t.tby1+u-1>>c,m=t.resolution.precinctParameters,p=[],v=[];for(n=f;n<g;n++)for(a=h;a<d;a++){if((i={cbx:a,cby:n,tbx0:l*a,tby0:u*n,tbx1:l*(a+1),tby1:u*(n+1)}).tbx0_=Math.max(t.tbx0,i.tbx0),i.tby0_=Math.max(t.tby0,i.tby0),i.tbx1_=Math.min(t.tbx1,i.tbx1),i.tby1_=Math.min(t.tby1,i.tby1),o=Math.floor((i.tbx0_-t.tbx0)/m.precinctWidthInSubband)+Math.floor((i.tby0_-t.tby0)/m.precinctHeightInSubband)*m.numprecinctswide,i.precinctNumber=o,i.subbandType=t.type,i.Lblock=3,!(i.tbx1_<=i.tbx0_||i.tby1_<=i.tby0_)){p.push(i);var b=v[o];void 0!==b?(a<b.cbxMin?b.cbxMin=a:a>b.cbxMax&&(b.cbxMax=a),n<b.cbyMin?b.cbxMin=n:n>b.cbyMax&&(b.cbyMax=n)):v[o]=b={cbxMin:a,cbyMin:n,cbxMax:a,cbyMax:n},i.precinct=b}}t.codeblockParameters={codeblockWidth:s,codeblockHeight:c,numcodeblockwide:d-h+1,numcodeblockhigh:g-f+1},t.codeblocks=p,t.precincts=v}function u(e,t,r){for(var a=[],n=e.subbands,i=0,o=n.length;i<o;i++)for(var s=n[i].codeblocks,c=0,l=s.length;c<l;c++){var u=s[c];u.precinctNumber===t&&a.push(u)}return{layerNumber:r,codeblocks:a}}function h(e){for(var t=e.SIZ,r=e.currentTile.index,a=e.tiles[r],n=a.codingStyleDefaultParameters.layersCount,o=t.Csiz,s=0,c=0;c<o;c++)s=Math.max(s,a.components[c].codingStyleParameters.decompositionLevelsCount);var l=0,h=0,f=0,d=0;this.nextPacket=function(){for(;l<n;l++){for(;h<=s;h++){for(;f<o;f++){var e=a.components[f];if(!(h>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[h],r=t.precinctParameters.numprecincts;d<r;){var c=u(t,d,l);return d++,c}d=0}}f=0}h=0}throw new i(\"Out of packets\")}}function f(e){for(var t=e.SIZ,r=e.currentTile.index,a=e.tiles[r],n=a.codingStyleDefaultParameters.layersCount,o=t.Csiz,s=0,c=0;c<o;c++)s=Math.max(s,a.components[c].codingStyleParameters.decompositionLevelsCount);var l=0,h=0,f=0,d=0;this.nextPacket=function(){for(;l<=s;l++){for(;h<n;h++){for(;f<o;f++){var e=a.components[f];if(!(l>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[l],r=t.precinctParameters.numprecincts;d<r;){var c=u(t,d,h);return d++,c}d=0}}f=0}h=0}throw new i(\"Out of packets\")}}function d(e){var t,r,a,n,o=e.SIZ,s=e.currentTile.index,c=e.tiles[s],l=c.codingStyleDefaultParameters.layersCount,h=o.Csiz,f=0;for(a=0;a<h;a++){var d=c.components[a];f=Math.max(f,d.codingStyleParameters.decompositionLevelsCount)}var g=new Int32Array(f+1);for(r=0;r<=f;++r){var m=0;for(a=0;a<h;++a){var p=c.components[a].resolutions;r<p.length&&(m=Math.max(m,p[r].precinctParameters.numprecincts))}g[r]=m}t=0,r=0,a=0,n=0,this.nextPacket=function(){for(;r<=f;r++){for(;n<g[r];n++){for(;a<h;a++){var e=c.components[a];if(!(r>e.codingStyleParameters.decompositionLevelsCount)){var o=e.resolutions[r],s=o.precinctParameters.numprecincts;if(!(n>=s)){for(;t<l;){var d=u(o,n,t);return t++,d}t=0}}}a=0}n=0}throw new i(\"Out of packets\")}}function g(e){var t=e.SIZ,r=e.currentTile.index,a=e.tiles[r],n=a.codingStyleDefaultParameters.layersCount,o=t.Csiz,s=v(a),c=s,l=0,h=0,f=0,d=0,g=0;this.nextPacket=function(){for(;g<c.maxNumHigh;g++){for(;d<c.maxNumWide;d++){for(;f<o;f++){for(var e=a.components[f],t=e.codingStyleParameters.decompositionLevelsCount;h<=t;h++){var r=e.resolutions[h],m=s.components[f].resolutions[h],v=p(d,g,m,c,r);if(null!==v){for(;l<n;){var b=u(r,v,l);return l++,b}l=0}}h=0}f=0}d=0}throw new i(\"Out of packets\")}}function m(e){var t=e.SIZ,r=e.currentTile.index,a=e.tiles[r],n=a.codingStyleDefaultParameters.layersCount,o=t.Csiz,s=v(a),c=0,l=0,h=0,f=0,d=0;this.nextPacket=function(){for(;h<o;++h){for(var e=a.components[h],t=s.components[h],r=e.codingStyleParameters.decompositionLevelsCount;d<t.maxNumHigh;d++){for(;f<t.maxNumWide;f++){for(;l<=r;l++){var g=e.resolutions[l],m=t.resolutions[l],v=p(f,d,m,t,g);if(null!==v){for(;c<n;){var b=u(g,v,c);return c++,b}c=0}}l=0}f=0}d=0}throw new i(\"Out of packets\")}}function p(e,t,r,a,n){var i=e*a.minWidth,o=t*a.minHeight;if(i%r.width!=0||o%r.height!=0)return null;var s=o/r.width*n.precinctParameters.numprecinctswide;return i/r.height+s}function v(e){for(var t=e.components.length,r=Number.MAX_VALUE,a=Number.MAX_VALUE,n=0,i=0,o=new Array(t),s=0;s<t;s++){for(var c=e.components[s],l=c.codingStyleParameters.decompositionLevelsCount,u=new Array(l+1),h=Number.MAX_VALUE,f=Number.MAX_VALUE,d=0,g=0,m=1,p=l;p>=0;--p){var v=c.resolutions[p],b=m*v.precinctParameters.precinctWidth,y=m*v.precinctParameters.precinctHeight;h=Math.min(h,b),f=Math.min(f,y),d=Math.max(d,v.precinctParameters.numprecinctswide),g=Math.max(g,v.precinctParameters.numprecinctshigh),u[p]={width:b,height:y},m<<=1}r=Math.min(r,h),a=Math.min(a,f),n=Math.max(n,d),i=Math.max(i,g),o[s]={resolutions:u,minWidth:h,minHeight:f,maxNumWide:d,maxNumHigh:g}}return{components:o,minWidth:r,minHeight:a,maxNumWide:n,maxNumHigh:i}}function b(e){for(var t=e.SIZ,r=e.currentTile.index,a=e.tiles[r],n=t.Csiz,o=0;o<n;o++){for(var u=a.components[o],p=u.codingStyleParameters.decompositionLevelsCount,v=[],b=[],y=0;y<=p;y++){var w,k=s(0,u,y),S={},C=1<<p-y;if(S.trx0=Math.ceil(u.tcx0/C),S.try0=Math.ceil(u.tcy0/C),S.trx1=Math.ceil(u.tcx1/C),S.try1=Math.ceil(u.tcy1/C),S.resLevel=y,c(0,S,k),v.push(S),0===y)(w={}).type=\"LL\",w.tbx0=Math.ceil(u.tcx0/C),w.tby0=Math.ceil(u.tcy0/C),w.tbx1=Math.ceil(u.tcx1/C),w.tby1=Math.ceil(u.tcy1/C),w.resolution=S,l(0,w,k),b.push(w),S.subbands=[w];else{var x=1<<p-y+1,A=[];(w={}).type=\"HL\",w.tbx0=Math.ceil(u.tcx0/x-.5),w.tby0=Math.ceil(u.tcy0/x),w.tbx1=Math.ceil(u.tcx1/x-.5),w.tby1=Math.ceil(u.tcy1/x),w.resolution=S,l(0,w,k),b.push(w),A.push(w),(w={}).type=\"LH\",w.tbx0=Math.ceil(u.tcx0/x),w.tby0=Math.ceil(u.tcy0/x-.5),w.tbx1=Math.ceil(u.tcx1/x),w.tby1=Math.ceil(u.tcy1/x-.5),w.resolution=S,l(0,w,k),b.push(w),A.push(w),(w={}).type=\"HH\",w.tbx0=Math.ceil(u.tcx0/x-.5),w.tby0=Math.ceil(u.tcy0/x-.5),w.tbx1=Math.ceil(u.tcx1/x-.5),w.tby1=Math.ceil(u.tcy1/x-.5),w.resolution=S,l(0,w,k),b.push(w),A.push(w),S.subbands=A}}u.resolutions=v,u.subbands=b}var _=a.codingStyleDefaultParameters.progressionOrder;switch(_){case 0:a.packetsIterator=new h(e);break;case 1:a.packetsIterator=new f(e);break;case 2:a.packetsIterator=new d(e);break;case 3:a.packetsIterator=new g(e);break;case 4:a.packetsIterator=new m(e);break;default:throw new i(\"Unsupported progression order \".concat(_))}}function y(e,t,r,n){var i,o=0,s=0,c=!1;function l(e){for(;s<e;){var a=t[r+o];o++,c?(i=i<<7|a,s+=7,c=!1):(i=i<<8|a,s+=8),255===a&&(c=!0)}return i>>>(s-=e)&(1<<e)-1}function u(e){return 255===t[r+o-1]&&t[r+o]===e?(h(1),!0):255===t[r+o]&&t[r+o+1]===e&&(h(2),!0)}function h(e){o+=e}function f(){s=0,c&&(o++,c=!1)}function d(){if(0===l(1))return 1;if(0===l(1))return 2;var e=l(2);return e<3?e+3:(e=l(5))<31?e+6:(e=l(7))+37}for(var g=e.currentTile.index,m=e.tiles[g],p=e.COD.sopMarkerUsed,v=e.COD.ephMarkerUsed,b=m.packetsIterator;o<n;){f(),p&&u(145)&&h(4);var y=b.nextPacket();if(l(1)){for(var w,k=y.layerNumber,S=[],A=0,_=y.codeblocks.length;A<_;A++){var P=(w=y.codeblocks[A]).precinct,I=w.cbx-P.cbxMin,O=w.cby-P.cbyMin,T=!1,E=!1;if(void 0!==w.included)T=!!l(1);else{var F,R;if(void 0!==(P=w.precinct).inclusionTree)F=P.inclusionTree;else{var B=P.cbxMax-P.cbxMin+1,D=P.cbyMax-P.cbyMin+1;F=new x(B,D,k),R=new C(B,D),P.inclusionTree=F,P.zeroBitPlanesTree=R}if(F.reset(I,O,k))for(;;){if(!l(1)){F.incrementValue(k);break}if(!F.nextLevel()){w.included=!0,T=E=!0;break}}}if(T){if(E){for((R=P.zeroBitPlanesTree).reset(I,O);;)if(l(1)){if(!R.nextLevel())break}else R.incrementValue();w.zeroBitPlanes=R.value}for(var M=d();l(1);)w.Lblock++;var L=(0,a.log2)(M),N=l((M<1<<L?L-1:L)+w.Lblock);S.push({codeblock:w,codingpasses:M,dataLength:N})}}for(f(),v&&u(146);S.length>0;){var U=S.shift();void 0===(w=U.codeblock).data&&(w.data=[]),w.data.push({data:t,start:r+o,end:r+o+U.dataLength,codingpasses:U.codingpasses}),o+=U.dataLength}}}return o}function w(e,t,r,a,i,o,s,c){for(var l=a.tbx0,u=a.tby0,h=a.tbx1-a.tbx0,f=a.codeblocks,d=\"H\"===a.type.charAt(0)?1:0,g=\"H\"===a.type.charAt(1)?t:0,m=0,p=f.length;m<p;++m){var v=f[m],b=v.tbx1_-v.tbx0_,y=v.tby1_-v.tby0_;if(0!==b&&0!==y&&void 0!==v.data){var w,k;w=new A(b,y,v.subbandType,v.zeroBitPlanes,o),k=2;var S,C,x,_=v.data,P=0,I=0;for(S=0,C=_.length;S<C;S++)P+=(x=_[S]).end-x.start,I+=x.codingpasses;var O=new Uint8Array(P),T=0;for(S=0,C=_.length;S<C;S++){var E=(x=_[S]).data.subarray(x.start,x.end);O.set(E,T),T+=E.length}var F=new n.ArithmeticDecoder(O,0,P);for(w.setDecoder(F),S=0;S<I;S++){switch(k){case 0:w.runSignificancePropagationPass();break;case 1:w.runMagnitudeRefinementPass();break;case 2:w.runCleanupPass(),c&&w.checkSegmentationSymbol()}k=(k+1)%3}var R,B,D,M=v.tbx0_-l+(v.tby0_-u)*h,L=w.coefficentsSign,N=w.coefficentsMagnitude,U=w.bitsDecoded,q=s?0:.5;T=0;var j=\"LL\"!==a.type;for(S=0;S<y;S++){var z=2*(M/h|0)*(t-h)+d+g;for(R=0;R<b;R++){if(0!==(B=N[T])){B=(B+q)*i,0!==L[T]&&(B=-B),D=U[T];var H=j?z+(M<<1):M;e[H]=s&&D>=o?B:B*(1<<o-D)}M++,T++}M+=h-b}}}}function k(t,r,a){for(var n=r.components[a],i=n.codingStyleParameters,o=n.quantizationParameters,s=i.decompositionLevelsCount,c=o.SPqcds,l=o.scalarExpounded,u=o.guardBits,h=i.segmentationSymbolUsed,f=t.components[a].precision,d=i.reversibleTransformation,g=d?new I:new P,m=[],p=0,v=0;v<=s;v++){for(var b=n.resolutions[v],y=b.trx1-b.trx0,k=b.try1-b.try0,S=new Float32Array(y*k),C=0,x=b.subbands.length;C<x;C++){var A,_;l?(A=c[p].mu,_=c[p].epsilon,p++):(A=c[0].mu,_=c[0].epsilon+(v>0?1-v:0));var O=b.subbands[C],T=e[O.type];w(S,y,0,O,d?1:Math.pow(2,f+T-_)*(1+A/2048),u+_-1,d,h)}m.push({width:y,height:k,items:S})}var E=g.calculate(m,n.tcx0,n.tcy0);return{left:n.tcx0,top:n.tcy0,width:E.width,height:E.height,items:E.items}}function S(e,t){for(var r=e.SIZ.Csiz,a=e.tiles[t],n=0;n<r;n++){var i=a.components[n],o=void 0!==e.currentTile.QCC[n]?e.currentTile.QCC[n]:e.currentTile.QCD;i.quantizationParameters=o;var s=void 0!==e.currentTile.COC[n]?e.currentTile.COC[n]:e.currentTile.COD;i.codingStyleParameters=s}a.codingStyleDefaultParameters=e.currentTile.COD}t.prototype={parse:function(e){if(65359!==(0,a.readUint16)(e,0))for(var t=0,r=e.length;t<r;){var n=8,o=(0,a.readUint32)(e,t),s=(0,a.readUint32)(e,t+4);if(t+=n,1===o&&(o=4294967296*(0,a.readUint32)(e,t)+(0,a.readUint32)(e,t+4),t+=8,n+=8),0===o&&(o=r-t+n),o<n)throw new i(\"Invalid box field size\");var c=o-n,l=!0;switch(s){case 1785737832:l=!1;break;case 1668246642:var u=e[t];if(1===u){var h=(0,a.readUint32)(e,t+3);switch(h){case 16:case 17:case 18:break;default:(0,a.warn)(\"Unknown colorspace \"+h)}}else 2===u&&(0,a.info)(\"ICC profile not supported\");break;case 1785737827:this.parseCodestream(e,t,t+c);break;case 1783636e3:218793738!==(0,a.readUint32)(e,t)&&(0,a.warn)(\"Invalid JP2 signature\");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:var f=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);(0,a.warn)(\"Unsupported header type \"+s+\" (\"+f+\")\")}l&&(t+=c)}else this.parseCodestream(e,0,e.length)},parseImageProperties:function(e){for(var t=e.getByte();t>=0;){if(65361===(t<<8|(t=e.getByte()))){e.skip(4);var r=e.getInt32()>>>0,a=e.getInt32()>>>0,n=e.getInt32()>>>0,o=e.getInt32()>>>0;e.skip(16);var s=e.getUint16();return this.width=r-n,this.height=a-o,this.componentsCount=s,void(this.bitsPerComponent=8)}}throw new i(\"No size marker found in JPX stream\")},parseCodestream:function(e,t,n){var s={},c=!1;try{for(var l=t;l+1<n;){var u=(0,a.readUint16)(e,l);l+=2;var h,f,d,g,m,p,v=0;switch(u){case 65359:s.mainHeader=!0;break;case 65497:break;case 65361:v=(0,a.readUint16)(e,l);var w={};w.Xsiz=(0,a.readUint32)(e,l+4),w.Ysiz=(0,a.readUint32)(e,l+8),w.XOsiz=(0,a.readUint32)(e,l+12),w.YOsiz=(0,a.readUint32)(e,l+16),w.XTsiz=(0,a.readUint32)(e,l+20),w.YTsiz=(0,a.readUint32)(e,l+24),w.XTOsiz=(0,a.readUint32)(e,l+28),w.YTOsiz=(0,a.readUint32)(e,l+32);var C=(0,a.readUint16)(e,l+36);w.Csiz=C;var x=[];h=l+38;for(var A=0;A<C;A++){var _={precision:1+(127&e[h]),isSigned:!!(128&e[h]),XRsiz:e[h+1],YRsiz:e[h+2]};h+=3,r(_,w),x.push(_)}s.SIZ=w,s.components=x,o(s,x),s.QCC=[],s.COC=[];break;case 65372:v=(0,a.readUint16)(e,l);var P={};switch(h=l+2,31&(f=e[h++])){case 0:g=8,m=!0;break;case 1:g=16,m=!1;break;case 2:g=16,m=!0;break;default:throw new Error(\"Invalid SQcd value \"+f)}for(P.noQuantization=8===g,P.scalarExpounded=m,P.guardBits=f>>5,d=[];h<v+l;){var I={};8===g?(I.epsilon=e[h++]>>3,I.mu=0):(I.epsilon=e[h]>>3,I.mu=(7&e[h])<<8|e[h+1],h+=2),d.push(I)}P.SPqcds=d,s.mainHeader?s.QCD=P:(s.currentTile.QCD=P,s.currentTile.QCC=[]);break;case 65373:v=(0,a.readUint16)(e,l);var O,T={};switch(h=l+2,s.SIZ.Csiz<257?O=e[h++]:(O=(0,a.readUint16)(e,h),h+=2),31&(f=e[h++])){case 0:g=8,m=!0;break;case 1:g=16,m=!1;break;case 2:g=16,m=!0;break;default:throw new Error(\"Invalid SQcd value \"+f)}for(T.noQuantization=8===g,T.scalarExpounded=m,T.guardBits=f>>5,d=[];h<v+l;)I={},8===g?(I.epsilon=e[h++]>>3,I.mu=0):(I.epsilon=e[h]>>3,I.mu=(7&e[h])<<8|e[h+1],h+=2),d.push(I);T.SPqcds=d,s.mainHeader?s.QCC[O]=T:s.currentTile.QCC[O]=T;break;case 65362:v=(0,a.readUint16)(e,l);var E={};h=l+2;var F=e[h++];E.entropyCoderWithCustomPrecincts=!!(1&F),E.sopMarkerUsed=!!(2&F),E.ephMarkerUsed=!!(4&F),E.progressionOrder=e[h++],E.layersCount=(0,a.readUint16)(e,h),h+=2,E.multipleComponentTransform=e[h++],E.decompositionLevelsCount=e[h++],E.xcb=2+(15&e[h++]),E.ycb=2+(15&e[h++]);var R=e[h++];if(E.selectiveArithmeticCodingBypass=!!(1&R),E.resetContextProbabilities=!!(2&R),E.terminationOnEachCodingPass=!!(4&R),E.verticallyStripe=!!(8&R),E.predictableTermination=!!(16&R),E.segmentationSymbolUsed=!!(32&R),E.reversibleTransformation=e[h++],E.entropyCoderWithCustomPrecincts){for(var B=[];h<v+l;){var D=e[h++];B.push({PPx:15&D,PPy:D>>4})}E.precinctsSizes=B}var M=[];if(E.selectiveArithmeticCodingBypass&&M.push(\"selectiveArithmeticCodingBypass\"),E.resetContextProbabilities&&M.push(\"resetContextProbabilities\"),E.terminationOnEachCodingPass&&M.push(\"terminationOnEachCodingPass\"),E.verticallyStripe&&M.push(\"verticallyStripe\"),E.predictableTermination&&M.push(\"predictableTermination\"),M.length>0)throw c=!0,new Error(\"Unsupported COD options (\"+M.join(\", \")+\")\");s.mainHeader?s.COD=E:(s.currentTile.COD=E,s.currentTile.COC=[]);break;case 65424:v=(0,a.readUint16)(e,l),(p={}).index=(0,a.readUint16)(e,l+2),p.length=(0,a.readUint32)(e,l+4),p.dataEnd=p.length+l-2,p.partIndex=e[l+8],p.partsCount=e[l+9],s.mainHeader=!1,0===p.partIndex&&(p.COD=s.COD,p.COC=s.COC.slice(0),p.QCD=s.QCD,p.QCC=s.QCC.slice(0)),s.currentTile=p;break;case 65427:0===(p=s.currentTile).partIndex&&(S(s,p.index),b(s)),y(s,e,l,v=p.dataEnd-l);break;case 65365:case 65367:case 65368:case 65380:v=(0,a.readUint16)(e,l);break;case 65363:throw new Error(\"Codestream code 0xFF53 (COC) is not implemented\");default:throw new Error(\"Unknown codestream code: \"+u.toString(16))}l+=v}}catch(e){if(c||this.failOnCorruptedImage)throw new i(e.message);(0,a.warn)(\"JPX: Trying to recover from: \"+e.message)}this.tiles=function(e){for(var t=e.SIZ,r=e.components,a=t.Csiz,n=[],i=0,o=e.tiles.length;i<o;i++){var s,c=e.tiles[i],l=[];for(s=0;s<a;s++)l[s]=k(e,c,s);var u,h,f,d,g,m,p,v=l[0],b=new Uint8ClampedArray(v.items.length*a),y={left:v.left,top:v.top,width:v.width,height:v.height,items:b},w=0;if(c.codingStyleDefaultParameters.multipleComponentTransform){var S=4===a,C=l[0].items,x=l[1].items,A=l[2].items,_=S?l[3].items:null;u=r[0].precision-8,h=.5+(128<<u);var P=c.components[0],I=a-3;if(d=C.length,P.codingStyleParameters.reversibleTransformation)for(f=0;f<d;f++,w+=I){g=C[f]+h,m=x[f],p=A[f];var O=g-(p+m>>2);b[w++]=O+p>>u,b[w++]=O>>u,b[w++]=O+m>>u}else for(f=0;f<d;f++,w+=I)g=C[f]+h,m=x[f],p=A[f],b[w++]=g+1.402*p>>u,b[w++]=g-.34413*m-.71414*p>>u,b[w++]=g+1.772*m>>u;if(S)for(f=0,w=3;f<d;f++,w+=4)b[w]=_[f]+h>>u}else for(s=0;s<a;s++){var T=l[s].items;for(u=r[s].precision-8,h=.5+(128<<u),w=s,f=0,d=T.length;f<d;f++)b[w]=T[f]+h>>u,w+=a}n.push(y)}return n}(s),this.width=s.SIZ.Xsiz-s.SIZ.XOsiz,this.height=s.SIZ.Ysiz-s.SIZ.YOsiz,this.componentsCount=s.SIZ.Csiz}};var C=function(){function e(e,t){var r=(0,a.log2)(Math.max(e,t))+1;this.levels=[];for(var n=0;n<r;n++){var i={width:e,height:t,items:[]};this.levels.push(i),e=Math.ceil(e/2),t=Math.ceil(t/2)}}return e.prototype={reset:function(e,t){for(var r,a=0,n=0;a<this.levels.length;){var i=e+t*(r=this.levels[a]).width;if(void 0!==r.items[i]){n=r.items[i];break}r.index=i,e>>=1,t>>=1,a++}a--,(r=this.levels[a]).items[r.index]=n,this.currentLevel=a,delete this.value},incrementValue:function(){var e=this.levels[this.currentLevel];e.items[e.index]++},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];return--e<0?(this.value=r,!1):(this.currentLevel=e,(t=this.levels[e]).items[t.index]=r,!0)}},e}(),x=function(){function e(e,t,r){var n=(0,a.log2)(Math.max(e,t))+1;this.levels=[];for(var i=0;i<n;i++){for(var o=new Uint8Array(e*t),s=0,c=o.length;s<c;s++)o[s]=r;var l={width:e,height:t,items:o};this.levels.push(l),e=Math.ceil(e/2),t=Math.ceil(t/2)}}return e.prototype={reset:function(e,t,r){for(var a=0;a<this.levels.length;){var n=this.levels[a],i=e+t*n.width;n.index=i;var o=n.items[i];if(255===o)break;if(o>r)return this.currentLevel=a,this.propagateValues(),!1;e>>=1,t>>=1,a++}return this.currentLevel=a-1,!0},incrementValue:function(e){var t=this.levels[this.currentLevel];t.items[t.index]=e+1,this.propagateValues()},propagateValues:function(){for(var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];--e>=0;)(t=this.levels[e]).items[t.index]=r},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];return t.items[t.index]=255,!(--e<0)&&(this.currentLevel=e,(t=this.levels[e]).items[t.index]=r,!0)}},e}(),A=function(){var e=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),t=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),r=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);function a(a,n,i,o,s){this.width=a,this.height=n,this.contextLabelTable=\"HH\"===i?r:\"HL\"===i?t:e;var c=a*n;this.neighborsSignificance=new Uint8Array(c),this.coefficentsSign=new Uint8Array(c),this.coefficentsMagnitude=s>14?new Uint32Array(c):s>6?new Uint16Array(c):new Uint8Array(c),this.processingFlags=new Uint8Array(c);var l=new Uint8Array(c);if(0!==o)for(var u=0;u<c;u++)l[u]=o;this.bitsDecoded=l,this.reset()}return a.prototype={setDecoder:function(e){this.decoder=e},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6},setNeighborsSignificance:function(e,t,r){var a,n=this.neighborsSignificance,i=this.width,o=this.height,s=t>0,c=t+1<i;e>0&&(a=r-i,s&&(n[a-1]+=16),c&&(n[a+1]+=16),n[a]+=4),e+1<o&&(a=r+i,s&&(n[a-1]+=16),c&&(n[a+1]+=16),n[a]+=4),s&&(n[r-1]+=1),c&&(n[r+1]+=1),n[r]|=128},runSignificancePropagationPass:function(){for(var e=this.decoder,t=this.width,r=this.height,a=this.coefficentsMagnitude,n=this.coefficentsSign,i=this.neighborsSignificance,o=this.processingFlags,s=this.contexts,c=this.contextLabelTable,l=this.bitsDecoded,u=0;u<r;u+=4)for(var h=0;h<t;h++)for(var f=u*t+h,d=0;d<4;d++,f+=t){var g=u+d;if(g>=r)break;if(o[f]&=-2,!a[f]&&i[f]){var m=c[i[f]];if(e.readBit(s,m)){var p=this.decodeSignBit(g,h,f);n[f]=p,a[f]=1,this.setNeighborsSignificance(g,h,f),o[f]|=2}l[f]++,o[f]|=1}}},decodeSignBit:function(e,t,r){var a,n,i,o,s,c,l=this.width,u=this.height,h=this.coefficentsMagnitude,f=this.coefficentsSign;o=t>0&&0!==h[r-1],t+1<l&&0!==h[r+1]?(i=f[r+1],a=o?1-i-(n=f[r-1]):1-i-i):a=o?1-(n=f[r-1])-n:0;var d=3*a;return o=e>0&&0!==h[r-l],e+1<u&&0!==h[r+l]?(i=f[r+l],a=o?1-i-(n=f[r-l])+d:1-i-i+d):a=o?1-(n=f[r-l])-n+d:d,a>=0?(s=9+a,c=this.decoder.readBit(this.contexts,s)):(s=9-a,c=1^this.decoder.readBit(this.contexts,s)),c},runMagnitudeRefinementPass:function(){for(var e,t=this.decoder,r=this.width,a=this.height,n=this.coefficentsMagnitude,i=this.neighborsSignificance,o=this.contexts,s=this.bitsDecoded,c=this.processingFlags,l=r*a,u=4*r,h=0;h<l;h=e){e=Math.min(l,h+u);for(var f=0;f<r;f++)for(var d=h+f;d<e;d+=r)if(n[d]&&0==(1&c[d])){var g=16;if(0!=(2&c[d]))c[d]^=2,g=0===(127&i[d])?15:14;var m=t.readBit(o,g);n[d]=n[d]<<1|m,s[d]++,c[d]|=1}}},runCleanupPass:function(){for(var e,t=this.decoder,r=this.width,a=this.height,n=this.neighborsSignificance,i=this.coefficentsMagnitude,o=this.coefficentsSign,s=this.contexts,c=this.contextLabelTable,l=this.bitsDecoded,u=this.processingFlags,h=r,f=2*r,d=3*r,g=0;g<a;g=e){e=Math.min(g+4,a);for(var m=g*r,p=g+3<a,v=0;v<r;v++){var b,y=m+v,w=0,k=y,S=g;if(p&&0===u[y]&&0===u[y+h]&&0===u[y+f]&&0===u[y+d]&&0===n[y]&&0===n[y+h]&&0===n[y+f]&&0===n[y+d]){if(!t.readBit(s,18)){l[y]++,l[y+h]++,l[y+f]++,l[y+d]++;continue}0!==(w=t.readBit(s,17)<<1|t.readBit(s,17))&&(S=g+w,k+=w*r),b=this.decodeSignBit(S,v,k),o[k]=b,i[k]=1,this.setNeighborsSignificance(S,v,k),u[k]|=2,k=y;for(var C=g;C<=S;C++,k+=r)l[k]++;w++}for(S=g+w;S<e;S++,k+=r)if(!i[k]&&0==(1&u[k])){var x=c[n[k]];1===t.readBit(s,x)&&(b=this.decodeSignBit(S,v,k),o[k]=b,i[k]=1,this.setNeighborsSignificance(S,v,k),u[k]|=2),l[k]++}}}},checkSegmentationSymbol:function(){var e=this.decoder,t=this.contexts;if(10!==(e.readBit(t,17)<<3|e.readBit(t,17)<<2|e.readBit(t,17)<<1|e.readBit(t,17)))throw new i(\"Invalid segmentation symbol\")}},a}(),_=function(){function e(){}return e.prototype.calculate=function(e,t,r){for(var a=e[0],n=1,i=e.length;n<i;n++)a=this.iterate(a,e[n],t,r);return a},e.prototype.extend=function(e,t,r){var a=t-1,n=t+1,i=t+r-2,o=t+r;e[a--]=e[n++],e[o++]=e[i--],e[a--]=e[n++],e[o++]=e[i--],e[a--]=e[n++],e[o++]=e[i--],e[a]=e[n],e[o]=e[i]},e.prototype.iterate=function(e,t,r,a){var n,i,o,s,c,l,u=e.width,h=e.height,f=e.items,d=t.width,g=t.height,m=t.items;for(o=0,n=0;n<h;n++)for(s=2*n*d,i=0;i<u;i++,o++,s+=2)m[s]=f[o];f=e.items=null;var p=new Float32Array(d+8);if(1===d){if(0!=(1&r))for(l=0,o=0;l<g;l++,o+=d)m[o]*=.5}else for(l=0,o=0;l<g;l++,o+=d)p.set(m.subarray(o,o+d),4),this.extend(p,4,d),this.filter(p,4,d),m.set(p.subarray(4,4+d),o);var v=16,b=[];for(n=0;n<v;n++)b.push(new Float32Array(g+8));var y,w=0;if(e=4+g,1===g){if(0!=(1&a))for(c=0;c<d;c++)m[c]*=.5}else for(c=0;c<d;c++){if(0===w){for(v=Math.min(d-c,v),o=c,s=4;s<e;o+=d,s++)for(y=0;y<v;y++)b[y][s]=m[o+y];w=v}var k=b[--w];if(this.extend(k,4,g),this.filter(k,4,g),0===w)for(o=c-v+1,s=4;s<e;o+=d,s++)for(y=0;y<v;y++)m[o+y]=b[y][s]}return{width:d,height:g,items:m}},e}(),P=function(){function e(){_.call(this)}return e.prototype=Object.create(_.prototype),e.prototype.filter=function(e,t,r){var a,n,i,o,s=r>>1,c=-1.586134342059924,l=-.052980118572961,u=.882911075530934,h=.443506852043971,f=1.230174104914001;for(a=(t|=0)-3,n=s+4;n--;a+=2)e[a]*=.8128930661159609;for(i=h*e[(a=t-2)-1],n=s+3;n--&&(o=h*e[a+1],e[a]=f*e[a]-i-o,n--);a+=2)i=h*e[(a+=2)+1],e[a]=f*e[a]-i-o;for(i=u*e[(a=t-1)-1],n=s+2;n--&&(o=u*e[a+1],e[a]-=i+o,n--);a+=2)i=u*e[(a+=2)+1],e[a]-=i+o;for(i=l*e[(a=t)-1],n=s+1;n--&&(o=l*e[a+1],e[a]-=i+o,n--);a+=2)i=l*e[(a+=2)+1],e[a]-=i+o;if(0!==s)for(i=c*e[(a=t+1)-1],n=s;n--&&(o=c*e[a+1],e[a]-=i+o,n--);a+=2)i=c*e[(a+=2)+1],e[a]-=i+o},e}(),I=function(){function e(){_.call(this)}return e.prototype=Object.create(_.prototype),e.prototype.filter=function(e,t,r){var a,n,i=r>>1;for(a=t|=0,n=i+1;n--;a+=2)e[a]-=e[a-1]+e[a+1]+2>>2;for(a=t+1,n=i;n--;a+=2)e[a]+=e[a-1]+e[a+1]>>1},e}();return t}();t.JpxImage=o},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.calculateSHA512=t.calculateSHA384=t.calculateSHA256=t.calculateMD5=t.PDF20=t.PDF17=t.CipherTransformFactory=t.ARCFourCipher=t.AES256Cipher=t.AES128Cipher=void 0;var a=r(5),n=r(156),i=r(158);function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,t){return!t||\"object\"!==o(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}var g=function(){function e(e){this.a=0,this.b=0;var t,r,a=new Uint8Array(256),n=0,i=e.length;for(t=0;t<256;++t)a[t]=t;for(t=0;t<256;++t)n=n+(r=a[t])+e[t%i]&255,a[t]=a[n],a[n]=r;this.s=a}return e.prototype={encryptBlock:function(e){var t,r,a,n=e.length,i=this.a,o=this.b,s=this.s,c=new Uint8Array(n);for(t=0;t<n;++t)a=s[o=o+(r=s[i=i+1&255])&255],s[i]=a,s[o]=r,c[t]=e[t]^s[r+a&255];return this.a=i,this.b=o,c}},e.prototype.decryptBlock=e.prototype.encryptBlock,e}();t.ARCFourCipher=g;var m=function(){var e=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),t=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);return function(r,a,n){var i,o,s,c=1732584193,l=-271733879,u=-1732584194,h=271733878,f=n+72&-64,d=new Uint8Array(f);for(i=0;i<n;++i)d[i]=r[a++];for(d[i++]=128,s=f-8;i<s;)d[i++]=0;d[i++]=n<<3&255,d[i++]=n>>5&255,d[i++]=n>>13&255,d[i++]=n>>21&255,d[i++]=n>>>29&255,d[i++]=0,d[i++]=0,d[i++]=0;var g=new Int32Array(16);for(i=0;i<f;){for(o=0;o<16;++o,i+=4)g[o]=d[i]|d[i+1]<<8|d[i+2]<<16|d[i+3]<<24;var m,p,v=c,b=l,y=u,w=h;for(o=0;o<64;++o){o<16?(m=b&y|~b&w,p=o):o<32?(m=w&b|~w&y,p=5*o+1&15):o<48?(m=b^y^w,p=3*o+5&15):(m=y^(b|~w),p=7*o&15);var k=w,S=v+m+t[o]+g[p]|0,C=e[o];w=y,y=b,b=b+(S<<C|S>>>32-C)|0,v=k}c=c+v|0,l=l+b|0,u=u+y|0,h=h+w|0}return new Uint8Array([255&c,c>>8&255,c>>16&255,c>>>24&255,255&l,l>>8&255,l>>16&255,l>>>24&255,255&u,u>>8&255,u>>16&255,u>>>24&255,255&h,h>>8&255,h>>16&255,h>>>24&255])}}();t.calculateMD5=m;var p=function(){function e(e,t){this.high=0|e,this.low=0|t}return e.prototype={and:function(e){this.high&=e.high,this.low&=e.low},xor:function(e){this.high^=e.high,this.low^=e.low},or:function(e){this.high|=e.high,this.low|=e.low},shiftRight:function(e){e>=32?(this.low=this.high>>>e-32|0,this.high=0):(this.low=this.low>>>e|this.high<<32-e,this.high=this.high>>>e|0)},shiftLeft:function(e){e>=32?(this.high=this.low<<e-32,this.low=0):(this.high=this.high<<e|this.low>>>32-e,this.low=this.low<<e)},rotateRight:function(e){var t,r;32&e?(r=this.low,t=this.high):(t=this.low,r=this.high),e&=31,this.low=t>>>e|r<<32-e,this.high=r>>>e|t<<32-e},not:function(){this.high=~this.high,this.low=~this.low},add:function(e){var t=(this.low>>>0)+(e.low>>>0),r=(this.high>>>0)+(e.high>>>0);t>4294967295&&(r+=1),this.low=0|t,this.high=0|r},copyTo:function(e,t){e[t]=this.high>>>24&255,e[t+1]=this.high>>16&255,e[t+2]=this.high>>8&255,e[t+3]=255&this.high,e[t+4]=this.low>>>24&255,e[t+5]=this.low>>16&255,e[t+6]=this.low>>8&255,e[t+7]=255&this.low},assign:function(e){this.high=e.high,this.low=e.low}},e}(),v=function(){function e(e,t){return e>>>t|e<<32-t}function t(e,t,r){return e&t^~e&r}function r(e,t,r){return e&t^e&r^t&r}function a(t){return e(t,2)^e(t,13)^e(t,22)}function n(t){return e(t,6)^e(t,11)^e(t,25)}function i(t){return e(t,7)^e(t,18)^t>>>3}var o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return function(s,c,l){var u,h,f,d=1779033703,g=3144134277,m=1013904242,p=2773480762,v=1359893119,b=2600822924,y=528734635,w=1541459225,k=64*Math.ceil((l+9)/64),S=new Uint8Array(k);for(u=0;u<l;++u)S[u]=s[c++];for(S[u++]=128,f=k-8;u<f;)S[u++]=0;S[u++]=0,S[u++]=0,S[u++]=0,S[u++]=l>>>29&255,S[u++]=l>>21&255,S[u++]=l>>13&255,S[u++]=l>>5&255,S[u++]=l<<3&255;var C,x=new Uint32Array(64);for(u=0;u<k;){for(h=0;h<16;++h)x[h]=S[u]<<24|S[u+1]<<16|S[u+2]<<8|S[u+3],u+=4;for(h=16;h<64;++h)x[h]=0|(e(C=x[h-2],17)^e(C,19)^C>>>10)+x[h-7]+i(x[h-15])+x[h-16];var A,_,P=d,I=g,O=m,T=p,E=v,F=b,R=y,B=w;for(h=0;h<64;++h)A=B+n(E)+t(E,F,R)+o[h]+x[h],_=a(P)+r(P,I,O),B=R,R=F,F=E,E=T+A|0,T=O,O=I,I=P,P=A+_|0;d=d+P|0,g=g+I|0,m=m+O|0,p=p+T|0,v=v+E|0,b=b+F|0,y=y+R|0,w=w+B|0}return new Uint8Array([d>>24&255,d>>16&255,d>>8&255,255&d,g>>24&255,g>>16&255,g>>8&255,255&g,m>>24&255,m>>16&255,m>>8&255,255&m,p>>24&255,p>>16&255,p>>8&255,255&p,v>>24&255,v>>16&255,v>>8&255,255&v,b>>24&255,b>>16&255,b>>8&255,255&b,y>>24&255,y>>16&255,y>>8&255,255&y,w>>24&255,w>>16&255,w>>8&255,255&w])}}();t.calculateSHA256=v;var b=function(){function e(e,t,r,a,n){e.assign(t),e.and(r),n.assign(t),n.not(),n.and(a),e.xor(n)}function t(e,t,r,a,n){e.assign(t),e.and(r),n.assign(t),n.and(a),e.xor(n),n.assign(r),n.and(a),e.xor(n)}function r(e,t,r){e.assign(t),e.rotateRight(28),r.assign(t),r.rotateRight(34),e.xor(r),r.assign(t),r.rotateRight(39),e.xor(r)}function a(e,t,r){e.assign(t),e.rotateRight(14),r.assign(t),r.rotateRight(18),e.xor(r),r.assign(t),r.rotateRight(41),e.xor(r)}function n(e,t,r){e.assign(t),e.rotateRight(1),r.assign(t),r.rotateRight(8),e.xor(r),r.assign(t),r.shiftRight(7),e.xor(r)}function i(e,t,r){e.assign(t),e.rotateRight(19),r.assign(t),r.rotateRight(61),e.xor(r),r.assign(t),r.shiftRight(6),e.xor(r)}var o=[new p(1116352408,3609767458),new p(1899447441,602891725),new p(3049323471,3964484399),new p(3921009573,2173295548),new p(961987163,4081628472),new p(1508970993,3053834265),new p(2453635748,2937671579),new p(2870763221,3664609560),new p(3624381080,2734883394),new p(310598401,1164996542),new p(607225278,1323610764),new p(1426881987,3590304994),new p(1925078388,4068182383),new p(2162078206,991336113),new p(2614888103,633803317),new p(3248222580,3479774868),new p(3835390401,2666613458),new p(4022224774,944711139),new p(264347078,2341262773),new p(604807628,2007800933),new p(770255983,1495990901),new p(1249150122,1856431235),new p(1555081692,3175218132),new p(1996064986,2198950837),new p(2554220882,3999719339),new p(2821834349,766784016),new p(2952996808,2566594879),new p(3210313671,3203337956),new p(3336571891,1034457026),new p(3584528711,2466948901),new p(113926993,3758326383),new p(338241895,168717936),new p(666307205,1188179964),new p(773529912,1546045734),new p(1294757372,1522805485),new p(1396182291,2643833823),new p(1695183700,2343527390),new p(1986661051,1014477480),new p(2177026350,1206759142),new p(2456956037,344077627),new p(2730485921,1290863460),new p(2820302411,3158454273),new p(3259730800,3505952657),new p(3345764771,106217008),new p(3516065817,3606008344),new p(3600352804,1432725776),new p(4094571909,1467031594),new p(275423344,851169720),new p(430227734,3100823752),new p(506948616,1363258195),new p(659060556,3750685593),new p(883997877,3785050280),new p(958139571,3318307427),new p(1322822218,3812723403),new p(1537002063,2003034995),new p(1747873779,3602036899),new p(1955562222,1575990012),new p(2024104815,1125592928),new p(2227730452,2716904306),new p(2361852424,442776044),new p(2428436474,593698344),new p(2756734187,3733110249),new p(3204031479,2999351573),new p(3329325298,3815920427),new p(3391569614,3928383900),new p(3515267271,566280711),new p(3940187606,3454069534),new p(4118630271,4000239992),new p(116418474,1914138554),new p(174292421,2731055270),new p(289380356,3203993006),new p(460393269,320620315),new p(685471733,587496836),new p(852142971,1086792851),new p(1017036298,365543100),new p(1126000580,2618297676),new p(1288033470,3409855158),new p(1501505948,4234509866),new p(1607167915,987167468),new p(1816402316,1246189591)];return function(s,c,l,u){var h,f,d,g,m,v,b,y;(u=!!u)?(h=new p(3418070365,3238371032),f=new p(1654270250,914150663),d=new p(2438529370,812702999),g=new p(355462360,4144912697),m=new p(1731405415,4290775857),v=new p(2394180231,1750603025),b=new p(3675008525,1694076839),y=new p(1203062813,3204075428)):(h=new p(1779033703,4089235720),f=new p(3144134277,2227873595),d=new p(1013904242,4271175723),g=new p(2773480762,1595750129),m=new p(1359893119,2917565137),v=new p(2600822924,725511199),b=new p(528734635,4215389547),y=new p(1541459225,327033209));var w,k,S,C=128*Math.ceil((l+17)/128),x=new Uint8Array(C);for(w=0;w<l;++w)x[w]=s[c++];for(x[w++]=128,S=C-16;w<S;)x[w++]=0;x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=l>>>29&255,x[w++]=l>>21&255,x[w++]=l>>13&255,x[w++]=l>>5&255,x[w++]=l<<3&255;var A=new Array(80);for(w=0;w<80;w++)A[w]=new p(0,0);var _,P,I=new p(0,0),O=new p(0,0),T=new p(0,0),E=new p(0,0),F=new p(0,0),R=new p(0,0),B=new p(0,0),D=new p(0,0),M=new p(0,0),L=new p(0,0),N=new p(0,0),U=new p(0,0);for(w=0;w<C;){for(k=0;k<16;++k)A[k].high=x[w]<<24|x[w+1]<<16|x[w+2]<<8|x[w+3],A[k].low=x[w+4]<<24|x[w+5]<<16|x[w+6]<<8|x[w+7],w+=8;for(k=16;k<80;++k)i(_=A[k],A[k-2],U),_.add(A[k-7]),n(N,A[k-15],U),_.add(N),_.add(A[k-16]);for(I.assign(h),O.assign(f),T.assign(d),E.assign(g),F.assign(m),R.assign(v),B.assign(b),D.assign(y),k=0;k<80;++k)M.assign(D),a(N,F,U),M.add(N),e(N,F,R,B,U),M.add(N),M.add(o[k]),M.add(A[k]),r(L,I,U),t(N,I,O,T,U),L.add(N),_=D,D=B,B=R,R=F,E.add(M),F=E,E=T,T=O,O=I,_.assign(M),_.add(L),I=_;h.add(I),f.add(O),d.add(T),g.add(E),m.add(F),v.add(R),b.add(B),y.add(D)}return u?(P=new Uint8Array(48),h.copyTo(P,0),f.copyTo(P,8),d.copyTo(P,16),g.copyTo(P,24),m.copyTo(P,32),v.copyTo(P,40)):(P=new Uint8Array(64),h.copyTo(P,0),f.copyTo(P,8),d.copyTo(P,16),g.copyTo(P,24),m.copyTo(P,32),v.copyTo(P,40),b.copyTo(P,48),y.copyTo(P,56)),P}}();t.calculateSHA512=b;var y=function(){return function(e,t,r){return b(e,t,r,!0)}}();t.calculateSHA384=y;var w=function(){function e(){}return e.prototype={decryptBlock:function(e){return e}},e}(),k=function(){function e(){h(this,e),this.constructor===e&&(0,a.unreachable)(\"Cannot initialize AESBaseCipher.\"),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(var t=0;t<256;t++)this._mixCol[t]=t<128?t<<1:t<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}return d(e,[{key:\"_expandKey\",value:function(e){(0,a.unreachable)(\"Cannot call `_expandKey` on the base class\")}},{key:\"_decrypt\",value:function(e,t){var r,a,n,i=new Uint8Array(16);i.set(e);for(var o=0,s=this._keySize;o<16;++o,++s)i[o]^=t[s];for(var c=this._cyclesOfRepetition-1;c>=1;--c){r=i[13],i[13]=i[9],i[9]=i[5],i[5]=i[1],i[1]=r,r=i[14],a=i[10],i[14]=i[6],i[10]=i[2],i[6]=r,i[2]=a,r=i[15],a=i[11],n=i[7],i[15]=i[3],i[11]=r,i[7]=a,i[3]=n;for(var l=0;l<16;++l)i[l]=this._inv_s[i[l]];for(var u=0,h=16*c;u<16;++u,++h)i[u]^=t[h];for(var f=0;f<16;f+=4){var d=this._mix[i[f]],g=this._mix[i[f+1]],m=this._mix[i[f+2]],p=this._mix[i[f+3]];r=d^g>>>8^g<<24^m>>>16^m<<16^p>>>24^p<<8,i[f]=r>>>24&255,i[f+1]=r>>16&255,i[f+2]=r>>8&255,i[f+3]=255&r}}r=i[13],i[13]=i[9],i[9]=i[5],i[5]=i[1],i[1]=r,r=i[14],a=i[10],i[14]=i[6],i[10]=i[2],i[6]=r,i[2]=a,r=i[15],a=i[11],n=i[7],i[15]=i[3],i[11]=r,i[7]=a,i[3]=n;for(var v=0;v<16;++v)i[v]=this._inv_s[i[v]],i[v]^=t[v];return i}},{key:\"_encrypt\",value:function(e,t){var r,a,n,i=this._s,o=new Uint8Array(16);o.set(e);for(var s=0;s<16;++s)o[s]^=t[s];for(var c=1;c<this._cyclesOfRepetition;c++){for(var l=0;l<16;++l)o[l]=i[o[l]];n=o[1],o[1]=o[5],o[5]=o[9],o[9]=o[13],o[13]=n,n=o[2],a=o[6],o[2]=o[10],o[6]=o[14],o[10]=n,o[14]=a,n=o[3],a=o[7],r=o[11],o[3]=o[15],o[7]=n,o[11]=a,o[15]=r;for(var u=0;u<16;u+=4){var h=o[u+0],f=o[u+1],d=o[u+2],g=o[u+3];r=h^f^d^g,o[u+0]^=r^this._mixCol[h^f],o[u+1]^=r^this._mixCol[f^d],o[u+2]^=r^this._mixCol[d^g],o[u+3]^=r^this._mixCol[g^h]}for(var m=0,p=16*c;m<16;++m,++p)o[m]^=t[p]}for(var v=0;v<16;++v)o[v]=i[o[v]];n=o[1],o[1]=o[5],o[5]=o[9],o[9]=o[13],o[13]=n,n=o[2],a=o[6],o[2]=o[10],o[6]=o[14],o[10]=n,o[14]=a,n=o[3],a=o[7],r=o[11],o[3]=o[15],o[7]=n,o[11]=a,o[15]=r;for(var b=0,y=this._keySize;b<16;++b,++y)o[b]^=t[y];return o}},{key:\"_decryptBlock2\",value:function(e,t){for(var r=e.length,a=this.buffer,n=this.bufferPosition,i=[],o=this.iv,s=0;s<r;++s)if(a[n]=e[s],!(++n<16)){for(var c=this._decrypt(a,this._key),l=0;l<16;++l)c[l]^=o[l];o=a,i.push(c),a=new Uint8Array(16),n=0}if(this.buffer=a,this.bufferLength=n,this.iv=o,0===i.length)return new Uint8Array(0);var u=16*i.length;if(t){var h=i[i.length-1],f=h[15];if(f<=16){for(var d=15,g=16-f;d>=g;--d)if(h[d]!==f){f=0;break}u-=f,i[i.length-1]=h.subarray(0,16-f)}}for(var m=new Uint8Array(u),p=0,v=0,b=i.length;p<b;++p,v+=16)m.set(i[p],v);return m}},{key:\"decryptBlock\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.length,n=this.buffer,i=this.bufferPosition;if(r)this.iv=r;else{for(var o=0;i<16&&o<a;++o,++i)n[i]=e[o];if(i<16)return this.bufferLength=i,new Uint8Array(0);this.iv=n,e=e.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(e,t)}},{key:\"encrypt\",value:function(e,t){var r=e.length,a=this.buffer,n=this.bufferPosition,i=[];t||(t=new Uint8Array(16));for(var o=0;o<r;++o)if(a[n]=e[o],!(++n<16)){for(var s=0;s<16;++s)a[s]^=t[s];var c=this._encrypt(a,this._key);t=c,i.push(c),a=new Uint8Array(16),n=0}if(this.buffer=a,this.bufferLength=n,this.iv=t,0===i.length)return new Uint8Array(0);for(var l=16*i.length,u=new Uint8Array(l),h=0,f=0,d=i.length;h<d;++h,f+=16)u.set(i[h],f);return u}}]),e}(),S=function(e){function t(e){var r;return h(this,t),(r=s(this,c(t).call(this)))._cyclesOfRepetition=10,r._keySize=160,r._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),r._key=r._expandKey(e),r}return l(t,k),d(t,[{key:\"_expandKey\",value:function(e){var t=this._s,r=this._rcon,a=new Uint8Array(176);a.set(e);for(var n=16,i=1;n<176;++i){var o=a[n-3],s=a[n-2],c=a[n-1],l=a[n-4];o=t[o],s=t[s],c=t[c],l=t[l],o^=r[i];for(var u=0;u<4;++u)a[n]=o^=a[n-16],a[++n]=s^=a[n-16],a[++n]=c^=a[n-16],a[++n]=l^=a[n-16],n++}return a}}]),t}();t.AES128Cipher=S;var C=function(e){function t(e){var r;return h(this,t),(r=s(this,c(t).call(this)))._cyclesOfRepetition=14,r._keySize=224,r._key=r._expandKey(e),r}return l(t,k),d(t,[{key:\"_expandKey\",value:function(e){var t=this._s,r=new Uint8Array(240);r.set(e);for(var a,n,i,o,s=1,c=32,l=1;c<240;++l){c%32==16?(a=t[a],n=t[n],i=t[i],o=t[o]):c%32==0&&(a=r[c-3],n=r[c-2],i=r[c-1],o=r[c-4],a=t[a],n=t[n],i=t[i],o=t[o],a^=s,(s<<=1)>=256&&(s=255&(27^s)));for(var u=0;u<4;++u)r[c]=a^=r[c-32],r[++c]=n^=r[c-32],r[++c]=i^=r[c-32],r[++c]=o^=r[c-32],c++}return r}}]),t}();t.AES256Cipher=C;var x=function(){function e(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function t(){}return t.prototype={checkOwnerPassword:function(t,r,a,n){var i=new Uint8Array(t.length+56);return i.set(t,0),i.set(r,t.length),i.set(a,t.length+r.length),e(v(i,0,i.length),n)},checkUserPassword:function(t,r,a){var n=new Uint8Array(t.length+8);return n.set(t,0),n.set(r,t.length),e(v(n,0,n.length),a)},getOwnerKey:function(e,t,r,a){var n=new Uint8Array(e.length+56);n.set(e,0),n.set(t,e.length),n.set(r,e.length+t.length);var i=v(n,0,n.length);return new C(i).decryptBlock(a,!1,new Uint8Array(16))},getUserKey:function(e,t,r){var a=new Uint8Array(e.length+8);a.set(e,0),a.set(t,e.length);var n=v(a,0,a.length);return new C(n).decryptBlock(r,!1,new Uint8Array(16))}},t}();t.PDF17=x;var A=function(){function e(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r}function t(t,r,a){for(var n=v(r,0,r.length).subarray(0,32),i=[0],o=0;o<64||i[i.length-1]>o-32;){var s=t.length+n.length+a.length,c=new Uint8Array(64*s),l=e(t,n);l=e(l,a);for(var u=0,h=0;u<64;u++,h+=s)c.set(l,h);i=new S(n.subarray(0,16)).encrypt(c,n.subarray(16,32));for(var f=0,d=0;d<16;d++)f*=1,f%=3,f+=(i[d]>>>0)%3,f%=3;0===f?n=v(i,0,i.length):1===f?n=y(i,0,i.length):2===f&&(n=b(i,0,i.length)),o++}return n.subarray(0,32)}function r(){}function a(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return r.prototype={hash:function(e,r,a){return t(e,r,a)},checkOwnerPassword:function(e,r,n,i){var o=new Uint8Array(e.length+56);return o.set(e,0),o.set(r,e.length),o.set(n,e.length+r.length),a(t(e,o,n),i)},checkUserPassword:function(e,r,n){var i=new Uint8Array(e.length+8);return i.set(e,0),i.set(r,e.length),a(t(e,i,[]),n)},getOwnerKey:function(e,r,a,n){var i=new Uint8Array(e.length+56);i.set(e,0),i.set(r,e.length),i.set(a,e.length+r.length);var o=t(e,i,a);return new C(o).decryptBlock(n,!1,new Uint8Array(16))},getUserKey:function(e,r,a){var n=new Uint8Array(e.length+8);n.set(e,0),n.set(r,e.length);var i=t(e,n,[]);return new C(i).decryptBlock(a,!1,new Uint8Array(16))}},r}();t.PDF20=A;var _=function(){function e(e,t){this.StringCipherConstructor=e,this.StreamCipherConstructor=t}return e.prototype={createStream:function(e,t){var r=new this.StreamCipherConstructor;return new i.DecryptStream(e,t,function(e,t){return r.decryptBlock(e,t)})},decryptString:function(e){var t=new this.StringCipherConstructor,r=(0,a.stringToBytes)(e);return r=t.decryptBlock(r,!0),(0,a.bytesToString)(r)}},e}(),P=function(){var e=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function t(t,r,a,n,i,o,s,c){var l,u,h=40+a.length+t.length,f=new Uint8Array(h),d=0;if(r)for(u=Math.min(32,r.length);d<u;++d)f[d]=r[d];for(l=0;d<32;)f[d++]=e[l++];for(l=0,u=a.length;l<u;++l)f[d++]=a[l];for(f[d++]=255&i,f[d++]=i>>8&255,f[d++]=i>>16&255,f[d++]=i>>>24&255,l=0,u=t.length;l<u;++l)f[d++]=t[l];o>=4&&!c&&(f[d++]=255,f[d++]=255,f[d++]=255,f[d++]=255);var p=m(f,0,d),v=s>>3;if(o>=3)for(l=0;l<50;++l)p=m(p,0,v);var b,y=p.subarray(0,v);if(o>=3){for(d=0;d<32;++d)f[d]=e[d];for(l=0,u=t.length;l<u;++l)f[d++]=t[l];b=new g(y).encryptBlock(m(f,0,d)),u=y.length;var w,k=new Uint8Array(u);for(l=1;l<=19;++l){for(w=0;w<u;++w)k[w]=y[w]^l;b=new g(k).encryptBlock(b)}for(l=0,u=b.length;l<u;++l)if(n[l]!==b[l])return null}else for(l=0,u=(b=new g(y).encryptBlock(e)).length;l<u;++l)if(n[l]!==b[l])return null;return y}var r=n.Name.get(\"Identity\");function i(i,o,s){var c=i.get(\"Filter\");if(!(0,n.isName)(c,\"Standard\"))throw new a.FormatError(\"unknown encryption method\");this.dict=i;var l=i.get(\"V\");if(!Number.isInteger(l)||1!==l&&2!==l&&4!==l&&5!==l)throw new a.FormatError(\"unsupported encryption algorithm\");this.algorithm=l;var u=i.get(\"Length\");if(!u)if(l<=3)u=40;else{var h=i.get(\"CF\"),f=i.get(\"StmF\");if((0,n.isDict)(h)&&(0,n.isName)(f)){h.suppressEncryption=!0;var d=h.get(f.name);(u=d&&d.get(\"Length\")||128)<40&&(u<<=3)}}if(!Number.isInteger(u)||u<40||u%8!=0)throw new a.FormatError(\"invalid key length\");var p=(0,a.stringToBytes)(i.get(\"O\")).subarray(0,32),v=(0,a.stringToBytes)(i.get(\"U\")).subarray(0,32),b=i.get(\"P\"),y=i.get(\"R\"),w=(4===l||5===l)&&!1!==i.get(\"EncryptMetadata\");this.encryptMetadata=w;var k,S,C=(0,a.stringToBytes)(o);if(s){if(6===y)try{s=(0,a.utf8StringToString)(s)}catch(e){(0,a.warn)(\"CipherTransformFactory: Unable to convert UTF8 encoded password.\")}k=(0,a.stringToBytes)(s)}if(5!==l)S=t(C,k,p,v,b,y,u,w);else{var _=(0,a.stringToBytes)(i.get(\"O\")).subarray(32,40),P=(0,a.stringToBytes)(i.get(\"O\")).subarray(40,48),I=(0,a.stringToBytes)(i.get(\"U\")).subarray(0,48),O=(0,a.stringToBytes)(i.get(\"U\")).subarray(32,40),T=(0,a.stringToBytes)(i.get(\"U\")).subarray(40,48),E=(0,a.stringToBytes)(i.get(\"OE\")),F=(0,a.stringToBytes)(i.get(\"UE\"));(0,a.stringToBytes)(i.get(\"Perms\"));S=function(e,t,r,a,n,i,o,s,c,l,u,h){if(t){var f=Math.min(127,t.length);t=t.subarray(0,f)}else t=[];var d;return(d=6===e?new A:new x).checkUserPassword(t,s,o)?d.getUserKey(t,c,u):t.length&&d.checkOwnerPassword(t,a,i,r)?d.getOwnerKey(t,n,i,l):null}(y,k,p,_,P,I,v,O,T,E,F)}if(!S&&!s)throw new a.PasswordException(\"No password given\",a.PasswordResponses.NEED_PASSWORD);if(!S&&s&&(S=t(C,function(t,r,a,n){var i,o,s=new Uint8Array(32),c=0;for(o=Math.min(32,t.length);c<o;++c)s[c]=t[c];for(i=0;c<32;)s[c++]=e[i++];var l,u=m(s,0,c),h=n>>3;if(a>=3)for(i=0;i<50;++i)u=m(u,0,u.length);if(a>=3){l=r;var f,d=new Uint8Array(h);for(i=19;i>=0;i--){for(f=0;f<h;++f)d[f]=u[f]^i;l=new g(d).encryptBlock(l)}}else l=new g(u.subarray(0,h)).encryptBlock(r);return l}(k,p,y,u),p,v,b,y,u,w)),!S)throw new a.PasswordException(\"Incorrect Password\",a.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=S,l>=4){var R=i.get(\"CF\");(0,n.isDict)(R)&&(R.suppressEncryption=!0),this.cf=R,this.stmf=i.get(\"StmF\")||r,this.strf=i.get(\"StrF\")||r,this.eff=i.get(\"EFF\")||this.stmf}}function o(e,t,r,a){var n,i,o=new Uint8Array(r.length+9);for(n=0,i=r.length;n<i;++n)o[n]=r[n];return o[n++]=255&e,o[n++]=e>>8&255,o[n++]=e>>16&255,o[n++]=255&t,o[n++]=t>>8&255,a&&(o[n++]=115,o[n++]=65,o[n++]=108,o[n++]=84),m(o,0,n).subarray(0,Math.min(r.length+5,16))}function s(e,t,r,i,s){if(!(0,n.isName)(t))throw new a.FormatError(\"Invalid crypt filter name.\");var c,l=e.get(t.name);if(null!=l&&(c=l.get(\"CFM\")),!c||\"None\"===c.name)return function(){return new w};if(\"V2\"===c.name)return function(){return new g(o(r,i,s,!1))};if(\"AESV2\"===c.name)return function(){return new S(o(r,i,s,!0))};if(\"AESV3\"===c.name)return function(){return new C(s)};throw new a.FormatError(\"Unknown crypto method\")}return i.prototype={createCipherTransform:function(e,t){if(4===this.algorithm||5===this.algorithm)return new _(s(this.cf,this.stmf,e,t,this.encryptionKey),s(this.cf,this.strf,e,t,this.encryptionKey));var r=o(e,t,this.encryptionKey,!1),a=function(){return new g(r)};return new _(a,a)}},i}();t.CipherTransformFactory=P},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ColorSpace=void 0;var a=r(5),n=r(156);function i(e){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){return!t||\"object\"!==i(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function h(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}var d=function(){function e(t,r){u(this,e),this.constructor===e&&(0,a.unreachable)(\"Cannot initialize ColorSpace.\"),this.name=t,this.numComps=r}return f(e,[{key:\"getRgb\",value:function(e,t){var r=new Uint8ClampedArray(3);return this.getRgbItem(e,t,r,0),r}},{key:\"getRgbItem\",value:function(e,t,r,n){(0,a.unreachable)(\"Should not call ColorSpace.getRgbItem\")}},{key:\"getRgbBuffer\",value:function(e,t,r,n,i,o,s){(0,a.unreachable)(\"Should not call ColorSpace.getRgbBuffer\")}},{key:\"getOutputLength\",value:function(e,t){(0,a.unreachable)(\"Should not call ColorSpace.getOutputLength\")}},{key:\"isPassthrough\",value:function(e){return!1}},{key:\"isDefaultDecode\",value:function(t,r){return e.isDefaultDecode(t,this.numComps)}},{key:\"fillRgb\",value:function(e,t,r,a,n,i,o,s,c){var l=t*r,u=null,h=1<<o,f=r!==n||t!==a;if(this.isPassthrough(o))u=s;else if(1===this.numComps&&l>h&&\"DeviceGray\"!==this.name&&\"DeviceRGB\"!==this.name){for(var d=o<=8?new Uint8Array(h):new Uint16Array(h),g=0;g<h;g++)d[g]=g;var m=new Uint8ClampedArray(3*h);if(this.getRgbBuffer(d,0,h,m,0,o,0),f){u=new Uint8Array(3*l);for(var p=0,v=0;v<l;++v){var b=3*s[v];u[p++]=m[b],u[p++]=m[b+1],u[p++]=m[b+2]}}else for(var y=0,w=0;w<l;++w){var k=3*s[w];e[y++]=m[k],e[y++]=m[k+1],e[y++]=m[k+2],y+=c}}else f?(u=new Uint8ClampedArray(3*l),this.getRgbBuffer(s,0,l,u,0,o,0)):this.getRgbBuffer(s,0,a*i,e,0,o,c);if(u)if(f)!function(e,t,r,a,n,i,o){o=1!==o?0:o;for(var s,c=r/n,l=a/i,u=0,h=new Uint16Array(n),f=3*r,d=0;d<n;d++)h[d]=3*Math.floor(d*c);for(var g=0;g<i;g++)for(var m=Math.floor(g*l)*f,p=0;p<n;p++)s=m+h[p],t[u++]=e[s++],t[u++]=e[s++],t[u++]=e[s++],u+=o}(u,e,t,r,a,n,c);else for(var S=0,C=0,x=0,A=a*i;x<A;x++)e[S++]=u[C++],e[S++]=u[C++],e[S++]=u[C++],S+=c}},{key:\"usesZeroToOneRange\",get:function(){return(0,a.shadow)(this,\"usesZeroToOneRange\",!0)}}],[{key:\"parse\",value:function(e,t,r,a){var n=this.parseToIR(e,t,r,a);return this.fromIR(n)}},{key:\"fromIR\",value:function(e){var t,r,n,i=Array.isArray(e)?e[0]:e;switch(i){case\"DeviceGrayCS\":return this.singletons.gray;case\"DeviceRgbCS\":return this.singletons.rgb;case\"DeviceCmykCS\":return this.singletons.cmyk;case\"CalGrayCS\":return t=e[1],r=e[2],n=e[3],new w(t,r,n);case\"CalRGBCS\":t=e[1],r=e[2],n=e[3];var o=e[4];return new k(t,r,n,o);case\"PatternCS\":var s=e[1];return s&&(s=this.fromIR(s)),new m(s);case\"IndexedCS\":var c=e[1],l=e[2],u=e[3];return new p(this.fromIR(c),l,u);case\"AlternateCS\":var h=e[1],f=e[2],d=e[3];return new g(h,this.fromIR(f),d);case\"LabCS\":t=e[1],r=e[2];var v=e[3];return new S(t,r,v);default:throw new a.FormatError(\"Unknown colorspace name: \".concat(i))}}},{key:\"parseToIR\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;if(e=t.fetchIfRef(e),(0,n.isName)(e))switch(e.name){case\"DeviceGray\":case\"G\":return\"DeviceGrayCS\";case\"DeviceRGB\":case\"RGB\":return\"DeviceRgbCS\";case\"DeviceCMYK\":case\"CMYK\":return\"DeviceCmykCS\";case\"Pattern\":return[\"PatternCS\",null];default:if((0,n.isDict)(r)){var o=r.get(\"ColorSpace\");if((0,n.isDict)(o)){var s=o.get(e.name);if(s){if((0,n.isName)(s))return this.parseToIR(s,t,r,i);e=s;break}}}throw new a.FormatError(\"unrecognized colorspace \".concat(e.name))}if(Array.isArray(e)){var c,l,u,h=t.fetchIfRef(e[0]).name;switch(h){case\"DeviceGray\":case\"G\":return\"DeviceGrayCS\";case\"DeviceRGB\":case\"RGB\":return\"DeviceRgbCS\";case\"DeviceCMYK\":case\"CMYK\":return\"DeviceCmykCS\";case\"CalGray\":return[\"CalGrayCS\",(l=t.fetchIfRef(e[1])).getArray(\"WhitePoint\"),l.getArray(\"BlackPoint\"),l.get(\"Gamma\")];case\"CalRGB\":return[\"CalRGBCS\",(l=t.fetchIfRef(e[1])).getArray(\"WhitePoint\"),l.getArray(\"BlackPoint\"),l.getArray(\"Gamma\"),l.getArray(\"Matrix\")];case\"ICCBased\":var f=t.fetchIfRef(e[1]).dict;if(c=f.get(\"N\"),u=f.get(\"Alternate\")){var d=this.parseToIR(u,t,r,i);if(this.fromIR(d,i).numComps===c)return d;(0,a.warn)(\"ICCBased color space: Ignoring incorrect /Alternate entry.\")}if(1===c)return\"DeviceGrayCS\";if(3===c)return\"DeviceRgbCS\";if(4===c)return\"DeviceCmykCS\";break;case\"Pattern\":var g=e[1]||null;return g&&(g=this.parseToIR(g,t,r,i)),[\"PatternCS\",g];case\"Indexed\":case\"I\":var m=this.parseToIR(e[1],t,r,i),p=t.fetchIfRef(e[2])+1,v=t.fetchIfRef(e[3]);return(0,n.isStream)(v)&&(v=v.getBytes()),[\"IndexedCS\",m,p,v];case\"Separation\":case\"DeviceN\":var b=t.fetchIfRef(e[1]);return[\"AlternateCS\",c=Array.isArray(b)?b.length:1,u=this.parseToIR(e[2],t,r,i),i.create(t.fetchIfRef(e[3]))];case\"Lab\":return[\"LabCS\",(l=t.fetchIfRef(e[1])).getArray(\"WhitePoint\"),l.getArray(\"BlackPoint\"),l.getArray(\"Range\")];default:throw new a.FormatError('unimplemented color space object \"'.concat(h,'\"'))}}throw new a.FormatError('unrecognized color space object: \"'.concat(e,'\"'))}},{key:\"isDefaultDecode\",value:function(e,t){if(!Array.isArray(e))return!0;if(2*t!==e.length)return(0,a.warn)(\"The decode map is not the correct length\"),!0;for(var r=0,n=e.length;r<n;r+=2)if(0!==e[r]||1!==e[r+1])return!1;return!0}},{key:\"singletons\",get:function(){return(0,a.shadow)(this,\"singletons\",{get gray(){return(0,a.shadow)(this,\"gray\",new v)},get rgb(){return(0,a.shadow)(this,\"rgb\",new b)},get cmyk(){return(0,a.shadow)(this,\"cmyk\",new y)}})}}]),e}();t.ColorSpace=d;var g=function(e){function t(e,r,a){var n;return u(this,t),(n=o(this,s(t).call(this,\"Alternate\",e))).base=r,n.tintFn=a,n.tmpBuf=new Float32Array(r.numComps),n}return c(t,d),f(t,[{key:\"getRgbItem\",value:function(e,t,r,a){var n=this.tmpBuf;this.tintFn(e,t,n,0),this.base.getRgbItem(n,0,r,a)}},{key:\"getRgbBuffer\",value:function(e,t,r,a,n,i,o){var s,c,l=this.tintFn,u=this.base,h=1/((1<<i)-1),f=u.numComps,d=u.usesZeroToOneRange,g=(u.isPassthrough(8)||!d)&&0===o,m=g?n:0,p=g?a:new Uint8ClampedArray(f*r),v=this.numComps,b=new Float32Array(v),y=new Float32Array(f);for(s=0;s<r;s++){for(c=0;c<v;c++)b[c]=e[t++]*h;if(l(b,0,y,0),d)for(c=0;c<f;c++)p[m++]=255*y[c];else u.getRgbItem(y,0,p,m),m+=f}g||u.getRgbBuffer(p,0,r,a,n,8,o)}},{key:\"getOutputLength\",value:function(e,t){return this.base.getOutputLength(e*this.base.numComps/this.numComps,t)}}]),t}(),m=function(e){function t(e){var r;return u(this,t),(r=o(this,s(t).call(this,\"Pattern\",null))).base=e,r}return c(t,d),f(t,[{key:\"isDefaultDecode\",value:function(e,t){(0,a.unreachable)(\"Should not call PatternCS.isDefaultDecode\")}}]),t}(),p=function(e){function t(e,r,i){var c;u(this,t),(c=o(this,s(t).call(this,\"Indexed\",1))).base=e,c.highVal=r;var l=e.numComps*r;if((0,n.isStream)(i)){c.lookup=new Uint8Array(l);var h=i.getBytes(l);c.lookup.set(h)}else if((0,a.isString)(i)){c.lookup=new Uint8Array(l);for(var f=0;f<l;++f)c.lookup[f]=i.charCodeAt(f)}else{if(!(i instanceof Uint8Array))throw new a.FormatError(\"Unrecognized lookup table: \".concat(i));c.lookup=i}return c}return c(t,d),f(t,[{key:\"getRgbItem\",value:function(e,t,r,a){var n=this.base.numComps,i=e[t]*n;this.base.getRgbBuffer(this.lookup,i,1,r,a,8,0)}},{key:\"getRgbBuffer\",value:function(e,t,r,a,n,i,o){for(var s=this.base,c=s.numComps,l=s.getOutputLength(c,o),u=this.lookup,h=0;h<r;++h){var f=e[t++]*c;s.getRgbBuffer(u,f,1,a,n,8,o),n+=l}}},{key:\"getOutputLength\",value:function(e,t){return this.base.getOutputLength(e*this.base.numComps,t)}},{key:\"isDefaultDecode\",value:function(e,t){return!Array.isArray(e)||(2!==e.length?((0,a.warn)(\"Decode map length is not correct\"),!0):!Number.isInteger(t)||t<1?((0,a.warn)(\"Bits per component is not correct\"),!0):0===e[0]&&e[1]===(1<<t)-1)}}]),t}(),v=function(e){function t(){return u(this,t),o(this,s(t).call(this,\"DeviceGray\",1))}return c(t,d),f(t,[{key:\"getRgbItem\",value:function(e,t,r,a){var n=255*e[t];r[a]=r[a+1]=r[a+2]=n}},{key:\"getRgbBuffer\",value:function(e,t,r,a,n,i,o){for(var s=255/((1<<i)-1),c=t,l=n,u=0;u<r;++u){var h=s*e[c++];a[l++]=h,a[l++]=h,a[l++]=h,l+=o}}},{key:\"getOutputLength\",value:function(e,t){return e*(3+t)}}]),t}(),b=function(e){function t(){return u(this,t),o(this,s(t).call(this,\"DeviceRGB\",3))}return c(t,d),f(t,[{key:\"getRgbItem\",value:function(e,t,r,a){r[a]=255*e[t],r[a+1]=255*e[t+1],r[a+2]=255*e[t+2]}},{key:\"getRgbBuffer\",value:function(e,t,r,a,n,i,o){if(8!==i||0!==o)for(var s=255/((1<<i)-1),c=t,l=n,u=0;u<r;++u)a[l++]=s*e[c++],a[l++]=s*e[c++],a[l++]=s*e[c++],l+=o;else a.set(e.subarray(t,t+3*r),n)}},{key:\"getOutputLength\",value:function(e,t){return e*(3+t)/3|0}},{key:\"isPassthrough\",value:function(e){return 8===e}}]),t}(),y=function(){function e(e,t,r,a,n){var i=e[t]*r,o=e[t+1]*r,s=e[t+2]*r,c=e[t+3]*r;a[n]=255+i*(-4.387332384609988*i+54.48615194189176*o+18.82290502165302*s+212.25662451639585*c-285.2331026137004)+o*(1.7149763477362134*o-5.6096736904047315*s+-17.873870861415444*c-5.497006427196366)+s*(-2.5217340131683033*s-21.248923337353073*c+17.5119270841813)+c*(-21.86122147463605*c-189.48180835922747),a[n+1]=255+i*(8.841041422036149*i+60.118027045597366*o+6.871425592049007*s+31.159100130055922*c-79.2970844816548)+o*(-15.310361306967817*o+17.575251261109482*s+131.35250912493976*c-190.9453302588951)+s*(4.444339102852739*s+9.8632861493405*c-24.86741582555878)+c*(-20.737325471181034*c-187.80453709719578),a[n+2]=255+i*(.8842522430003296*i+8.078677503112928*o+30.89978309703729*s-.23883238689178934*c-14.183576799673286)+o*(10.49593273432072*o+63.02378494754052*s+50.606957656360734*c-112.23884253719248)+s*(.03296041114873217*s+115.60384449646641*c-193.58209356861505)+c*(-22.33816807309886*c-180.12613974708367)}return function(t){function r(){return u(this,r),o(this,s(r).call(this,\"DeviceCMYK\",4))}return c(r,d),f(r,[{key:\"getRgbItem\",value:function(t,r,a,n){e(t,r,1,a,n)}},{key:\"getRgbBuffer\",value:function(t,r,a,n,i,o,s){for(var c=1/((1<<o)-1),l=0;l<a;l++)e(t,r,c,n,i),r+=4,i+=3+s}},{key:\"getOutputLength\",value:function(e,t){return e/4*(3+t)|0}}]),r}()}(),w=function(){function e(e,t,r,a,n,i){var o=t[r]*i,s=Math.pow(o,e.G),c=e.YW*s,l=Math.max(295.8*Math.pow(c,.3333333333333333)-40.8,0);a[n]=l,a[n+1]=l,a[n+2]=l}return function(t){function r(e,t,n){var i;if(u(this,r),i=o(this,s(r).call(this,\"CalGray\",1)),!e)throw new a.FormatError(\"WhitePoint missing - required for color space CalGray\");if(t=t||[0,0,0],n=n||1,i.XW=e[0],i.YW=e[1],i.ZW=e[2],i.XB=t[0],i.YB=t[1],i.ZB=t[2],i.G=n,i.XW<0||i.ZW<0||1!==i.YW)throw new a.FormatError(\"Invalid WhitePoint components for \".concat(i.name)+\", no fallback available\");return(i.XB<0||i.YB<0||i.ZB<0)&&((0,a.info)(\"Invalid BlackPoint for \".concat(i.name,\", falling back to default.\")),i.XB=i.YB=i.ZB=0),0===i.XB&&0===i.YB&&0===i.ZB||(0,a.warn)(\"\".concat(i.name,\", BlackPoint: XB: \").concat(i.XB,\", YB: \").concat(i.YB,\", \")+\"ZB: \".concat(i.ZB,\", only default values are supported.\")),i.G<1&&((0,a.info)(\"Invalid Gamma: \".concat(i.G,\" for \").concat(i.name,\", \")+\"falling back to default.\"),i.G=1),i}return c(r,d),f(r,[{key:\"getRgbItem\",value:function(t,r,a,n){e(this,t,r,a,n,1)}},{key:\"getRgbBuffer\",value:function(t,r,a,n,i,o,s){for(var c=1/((1<<o)-1),l=0;l<a;++l)e(this,t,r,n,i,c),r+=1,i+=3+s}},{key:\"getOutputLength\",value:function(e,t){return e*(3+t)}}]),r}()}(),k=function(){var e=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),t=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),r=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),n=new Float32Array([1,1,1]),i=new Float32Array(3),l=new Float32Array(3),h=new Float32Array(3),g=Math.pow(24/116,3)/8;function m(e,t,r){r[0]=e[0]*t[0]+e[1]*t[1]+e[2]*t[2],r[1]=e[3]*t[0]+e[4]*t[1]+e[5]*t[2],r[2]=e[6]*t[0]+e[7]*t[1]+e[8]*t[2]}function p(e){return v(0,1,e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function v(e,t,r){return Math.max(e,Math.min(t,r))}function b(e){return e<0?-b(-e):e>8?Math.pow((e+16)/116,3):e*g}function y(a,o,s,c,u,f){var d=v(0,1,o[s]*f),g=v(0,1,o[s+1]*f),y=v(0,1,o[s+2]*f),w=Math.pow(d,a.GR),k=Math.pow(g,a.GG),S=Math.pow(y,a.GB),C=a.MXA*w+a.MXB*k+a.MXC*S,x=a.MYA*w+a.MYB*k+a.MYC*S,A=a.MZA*w+a.MZB*k+a.MZC*S,_=l;_[0]=C,_[1]=x,_[2]=A;var P=h;!function(r,a,n){if(1===r[0]&&1===r[2])return n[0]=a[0],n[1]=a[1],void(n[2]=a[2]);var o=n;m(e,a,o);var s=i;!function(e,t,r){r[0]=1*t[0]/e[0],r[1]=1*t[1]/e[1],r[2]=1*t[2]/e[2]}(r,o,s),m(t,s,n)}(a.whitePoint,_,P);var I=l;!function(e,t,r){if(0===e[0]&&0===e[1]&&0===e[2])return r[0]=t[0],r[1]=t[1],void(r[2]=t[2]);var a=b(0),n=(1-a)/(1-b(e[0])),i=1-n,o=(1-a)/(1-b(e[1])),s=1-o,c=(1-a)/(1-b(e[2])),l=1-c;r[0]=t[0]*n+i,r[1]=t[1]*o+s,r[2]=t[2]*c+l}(a.blackPoint,P,I);var O=h;!function(r,a,n){var o=n;m(e,a,o);var s=i;!function(e,t,r){r[0]=.95047*t[0]/e[0],r[1]=1*t[1]/e[1],r[2]=1.08883*t[2]/e[2]}(r,o,s),m(t,s,n)}(n,I,O);var T=l;m(r,O,T),c[u]=255*p(T[0]),c[u+1]=255*p(T[1]),c[u+2]=255*p(T[2])}return function(e){function t(e,r,n,i){var c;if(u(this,t),c=o(this,s(t).call(this,\"CalRGB\",3)),!e)throw new a.FormatError(\"WhitePoint missing - required for color space CalRGB\");r=r||new Float32Array(3),n=n||new Float32Array([1,1,1]),i=i||new Float32Array([1,0,0,0,1,0,0,0,1]);var l=e[0],h=e[1],f=e[2];c.whitePoint=e;var d=r[0],g=r[1],m=r[2];if(c.blackPoint=r,c.GR=n[0],c.GG=n[1],c.GB=n[2],c.MXA=i[0],c.MYA=i[1],c.MZA=i[2],c.MXB=i[3],c.MYB=i[4],c.MZB=i[5],c.MXC=i[6],c.MYC=i[7],c.MZC=i[8],l<0||f<0||1!==h)throw new a.FormatError(\"Invalid WhitePoint components for \".concat(c.name)+\", no fallback available\");return(d<0||g<0||m<0)&&((0,a.info)(\"Invalid BlackPoint for \".concat(c.name,\" [\").concat(d,\", \").concat(g,\", \").concat(m,\"], \")+\"falling back to default.\"),c.blackPoint=new Float32Array(3)),(c.GR<0||c.GG<0||c.GB<0)&&((0,a.info)(\"Invalid Gamma [\".concat(c.GR,\", \").concat(c.GG,\", \").concat(c.GB,\"] for \")+\"\".concat(c.name,\", falling back to default.\")),c.GR=c.GG=c.GB=1),c}return c(t,d),f(t,[{key:\"getRgbItem\",value:function(e,t,r,a){y(this,e,t,r,a,1)}},{key:\"getRgbBuffer\",value:function(e,t,r,a,n,i,o){for(var s=1/((1<<i)-1),c=0;c<r;++c)y(this,e,t,a,n,s),t+=3,n+=3+o}},{key:\"getOutputLength\",value:function(e,t){return e*(3+t)/3|0}}]),t}()}(),S=function(){function e(e){return e>=6/29?e*e*e:108/841*(e-4/29)}function t(e,t,r,a){return r+e*(a-r)/t}function r(r,a,n,i,o,s){var c=a[n],l=a[n+1],u=a[n+2];!1!==i&&(c=t(c,i,0,100),l=t(l,i,r.amin,r.amax),u=t(u,i,r.bmin,r.bmax));var h,f,d,g=(c+16)/116,m=g+(l=l>r.amax?r.amax:l<r.amin?r.amin:l)/500,p=g-(u=u>r.bmax?r.bmax:u<r.bmin?r.bmin:u)/200,v=r.XW*e(m),b=r.YW*e(g),y=r.ZW*e(p);r.ZW<1?(h=3.1339*v+-1.617*b+-.4906*y,f=-.9785*v+1.916*b+.0333*y,d=.072*v+-.229*b+1.4057*y):(h=3.2406*v+-1.5372*b+-.4986*y,f=-.9689*v+1.8758*b+.0415*y,d=.0557*v+-.204*b+1.057*y),o[s]=255*Math.sqrt(h),o[s+1]=255*Math.sqrt(f),o[s+2]=255*Math.sqrt(d)}return function(e){function t(e,r,n){var i;if(u(this,t),i=o(this,s(t).call(this,\"Lab\",3)),!e)throw new a.FormatError(\"WhitePoint missing - required for color space Lab\");if(r=r||[0,0,0],n=n||[-100,100,-100,100],i.XW=e[0],i.YW=e[1],i.ZW=e[2],i.amin=n[0],i.amax=n[1],i.bmin=n[2],i.bmax=n[3],i.XB=r[0],i.YB=r[1],i.ZB=r[2],i.XW<0||i.ZW<0||1!==i.YW)throw new a.FormatError(\"Invalid WhitePoint components, no fallback available\");return(i.XB<0||i.YB<0||i.ZB<0)&&((0,a.info)(\"Invalid BlackPoint, falling back to default\"),i.XB=i.YB=i.ZB=0),(i.amin>i.amax||i.bmin>i.bmax)&&((0,a.info)(\"Invalid Range, falling back to defaults\"),i.amin=-100,i.amax=100,i.bmin=-100,i.bmax=100),i}return c(t,d),f(t,[{key:\"getRgbItem\",value:function(e,t,a,n){r(this,e,t,!1,a,n)}},{key:\"getRgbBuffer\",value:function(e,t,a,n,i,o,s){for(var c=(1<<o)-1,l=0;l<a;l++)r(this,e,t,c,n,i),t+=3,i+=3+s}},{key:\"getOutputLength\",value:function(e,t){return e*(3+t)/3|0}},{key:\"isDefaultDecode\",value:function(e,t){return!0}},{key:\"usesZeroToOneRange\",get:function(){return(0,a.shadow)(this,\"usesZeroToOneRange\",!1)}}]),t}()}()},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AnnotationFactory=t.AnnotationBorderStyle=t.Annotation=void 0;var a=r(5),n=r(155),i=r(156),o=r(169),s=r(153),c=r(171),l=r(158);function u(e,t,r){return(u=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(a){var n=Object.getOwnPropertyDescriptor(a,t);return n.get?n.get.call(r):n.value}})(e,t,r||e)}function h(e){return(h=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(e,t){return!t||\"object\"!==h(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),e}var y=function(){function e(){p(this,e)}return b(e,null,[{key:\"create\",value:function(e,t,r,a){return r.ensure(this,\"_create\",[e,t,r,a])}},{key:\"_create\",value:function(e,t,r,n){var o=e.fetchIfRef(t);if((0,i.isDict)(o)){var c=(0,i.isRef)(t)?t.toString():\"annot_\".concat(n.createObjId()),l=o.get(\"Subtype\");l=(0,i.isName)(l)?l.name:null;var u={xref:e,dict:o,ref:(0,i.isRef)(t)?t:null,subtype:l,id:c,pdfManager:r};switch(l){case\"Link\":return new I(u);case\"Text\":return new P(u);case\"Widget\":var h=(0,s.getInheritableProperty)({dict:o,key:\"FT\"});switch(h=(0,i.isName)(h)?h.name:null){case\"Tx\":return new x(u);case\"Btn\":return new A(u);case\"Ch\":return new _(u)}return(0,a.warn)('Unimplemented widget field type \"'+h+'\", falling back to base field type.'),new C(u);case\"Popup\":return new O(u);case\"FreeText\":return new T(u);case\"Line\":return new E(u);case\"Square\":return new F(u);case\"Circle\":return new R(u);case\"PolyLine\":return new B(u);case\"Polygon\":return new D(u);case\"Caret\":return new M(u);case\"Ink\":return new L(u);case\"Highlight\":return new N(u);case\"Underline\":return new U(u);case\"Squiggly\":return new q(u);case\"StrikeOut\":return new j(u);case\"Stamp\":return new z(u);case\"FileAttachment\":return new H(u);default:return l?(0,a.warn)('Unimplemented annotation type \"'+l+'\", falling back to base annotation.'):(0,a.warn)(\"Annotation is missing the required /Subtype.\"),new w(u)}}}}]),e}();t.AnnotationFactory=y;var w=function(){function e(t){p(this,e);var r=t.dict;this.setCreationDate(r.get(\"CreationDate\")),this.setModificationDate(r.get(\"M\")),this.setFlags(r.get(\"F\")),this.setRectangle(r.getArray(\"Rect\")),this.setColor(r.getArray(\"C\")),this.setBorderStyle(r),this.setAppearance(r),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,creationDate:this.creationDate,hasAppearance:!!this.appearance,id:t.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:t.subtype}}return b(e,[{key:\"_hasFlag\",value:function(e,t){return!!(e&t)}},{key:\"_isViewable\",value:function(e){return!this._hasFlag(e,a.AnnotationFlag.INVISIBLE)&&!this._hasFlag(e,a.AnnotationFlag.HIDDEN)&&!this._hasFlag(e,a.AnnotationFlag.NOVIEW)}},{key:\"_isPrintable\",value:function(e){return this._hasFlag(e,a.AnnotationFlag.PRINT)&&!this._hasFlag(e,a.AnnotationFlag.INVISIBLE)&&!this._hasFlag(e,a.AnnotationFlag.HIDDEN)}},{key:\"setCreationDate\",value:function(e){this.creationDate=(0,a.isString)(e)?e:null}},{key:\"setModificationDate\",value:function(e){this.modificationDate=(0,a.isString)(e)?e:null}},{key:\"setFlags\",value:function(e){this.flags=Number.isInteger(e)&&e>0?e:0}},{key:\"hasFlag\",value:function(e){return this._hasFlag(this.flags,e)}},{key:\"setRectangle\",value:function(e){Array.isArray(e)&&4===e.length?this.rectangle=a.Util.normalizeRect(e):this.rectangle=[0,0,0,0]}},{key:\"setColor\",value:function(e){var t=new Uint8ClampedArray(3);if(Array.isArray(e))switch(e.length){case 0:this.color=null;break;case 1:o.ColorSpace.singletons.gray.getRgbItem(e,0,t,0),this.color=t;break;case 3:o.ColorSpace.singletons.rgb.getRgbItem(e,0,t,0),this.color=t;break;case 4:o.ColorSpace.singletons.cmyk.getRgbItem(e,0,t,0),this.color=t;break;default:this.color=t}else this.color=t}},{key:\"setBorderStyle\",value:function(e){if(this.borderStyle=new k,(0,i.isDict)(e))if(e.has(\"BS\")){var t=e.get(\"BS\"),r=t.get(\"Type\");r&&!(0,i.isName)(r,\"Border\")||(this.borderStyle.setWidth(t.get(\"W\")),this.borderStyle.setStyle(t.get(\"S\")),this.borderStyle.setDashArray(t.getArray(\"D\")))}else if(e.has(\"Border\")){var a=e.getArray(\"Border\");Array.isArray(a)&&a.length>=3&&(this.borderStyle.setHorizontalCornerRadius(a[0]),this.borderStyle.setVerticalCornerRadius(a[1]),this.borderStyle.setWidth(a[2]),4===a.length&&this.borderStyle.setDashArray(a[3]))}else this.borderStyle.setWidth(0)}},{key:\"setAppearance\",value:function(e){this.appearance=null;var t=e.get(\"AP\");if((0,i.isDict)(t)){var r=t.get(\"N\");if((0,i.isStream)(r))this.appearance=r;else if((0,i.isDict)(r)){var a=e.get(\"AS\");(0,i.isName)(a)&&r.has(a.name)&&(this.appearance=r.get(a.name))}}}},{key:\"loadResources\",value:function(e){return this.appearance.dict.getAsync(\"Resources\").then(function(t){if(t)return new n.ObjectLoader(t,e,t.xref).load().then(function(){return t})})}},{key:\"getOperatorList\",value:function(e,t,r){var n=this;if(!this.appearance)return Promise.resolve(new c.OperatorList);var i=this.data,o=this.appearance.dict,s=this.loadResources([\"ExtGState\",\"ColorSpace\",\"Pattern\",\"Shading\",\"XObject\",\"Font\"]),l=o.getArray(\"BBox\")||[0,0,1,1],u=o.getArray(\"Matrix\")||[1,0,0,1,0,0],h=function(e,t,r){var n=a.Util.getAxialAlignedBoundingBox(t,r),i=n[0],o=n[1],s=n[2],c=n[3];if(i===s||o===c)return[1,0,0,1,e[0],e[1]];var l=(e[2]-e[0])/(s-i),u=(e[3]-e[1])/(c-o);return[l,0,0,u,e[0]-i*l,e[1]-o*u]}(i.rect,l,u);return s.then(function(r){var o=new c.OperatorList;return o.addOp(a.OPS.beginAnnotation,[i.rect,h,u]),e.getOperatorList({stream:n.appearance,task:t,resources:r,operatorList:o}).then(function(){return o.addOp(a.OPS.endAnnotation,[]),n.appearance.reset(),o})})}},{key:\"viewable\",get:function(){return 0===this.flags||this._isViewable(this.flags)}},{key:\"printable\",get:function(){return 0!==this.flags&&this._isPrintable(this.flags)}}]),e}();t.Annotation=w;var k=function(){function e(){p(this,e),this.width=1,this.style=a.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}return b(e,[{key:\"setWidth\",value:function(e){(0,i.isName)(e)?this.width=0:Number.isInteger(e)&&(this.width=e)}},{key:\"setStyle\",value:function(e){if((0,i.isName)(e))switch(e.name){case\"S\":this.style=a.AnnotationBorderStyleType.SOLID;break;case\"D\":this.style=a.AnnotationBorderStyleType.DASHED;break;case\"B\":this.style=a.AnnotationBorderStyleType.BEVELED;break;case\"I\":this.style=a.AnnotationBorderStyleType.INSET;break;case\"U\":this.style=a.AnnotationBorderStyleType.UNDERLINE}}},{key:\"setDashArray\",value:function(e){if(Array.isArray(e)&&e.length>0){for(var t=!0,r=!0,a=0,n=e.length;a<n;a++){var i=e[a];if(!(+i>=0)){t=!1;break}i>0&&(r=!1)}t&&!r?this.dashArray=e:this.width=0}else e&&(this.width=0)}},{key:\"setHorizontalCornerRadius\",value:function(e){Number.isInteger(e)&&(this.horizontalCornerRadius=e)}},{key:\"setVerticalCornerRadius\",value:function(e){Number.isInteger(e)&&(this.verticalCornerRadius=e)}}]),e}();t.AnnotationBorderStyle=k;var S=function(e){function t(e){var r;p(this,t),r=f(this,d(t).call(this,e));var n=e.dict;return n.has(\"C\")||(r.data.color=null),r.data.hasPopup=n.has(\"Popup\"),r.data.title=(0,a.stringToPDFString)(n.get(\"T\")||\"\"),r.data.contents=(0,a.stringToPDFString)(n.get(\"Contents\")||\"\"),r}return g(t,w),t}(),C=function(e){function t(e){var r;p(this,t),r=f(this,d(t).call(this,e));var n=e.dict,o=r.data;o.annotationType=a.AnnotationType.WIDGET,o.fieldName=r._constructFieldName(n),o.fieldValue=(0,s.getInheritableProperty)({dict:n,key:\"V\",getArray:!0}),o.alternativeText=(0,a.stringToPDFString)(n.get(\"TU\")||\"\"),o.defaultAppearance=(0,s.getInheritableProperty)({dict:n,key:\"DA\"})||\"\";var c=(0,s.getInheritableProperty)({dict:n,key:\"FT\"});return o.fieldType=(0,i.isName)(c)?c.name:null,r.fieldResources=(0,s.getInheritableProperty)({dict:n,key:\"DR\"})||i.Dict.empty,o.fieldFlags=(0,s.getInheritableProperty)({dict:n,key:\"Ff\"}),(!Number.isInteger(o.fieldFlags)||o.fieldFlags<0)&&(o.fieldFlags=0),o.readOnly=r.hasFieldFlag(a.AnnotationFieldFlag.READONLY),\"Sig\"===o.fieldType&&(o.fieldValue=null,r.setFlags(a.AnnotationFlag.HIDDEN)),r}return g(t,w),b(t,[{key:\"_constructFieldName\",value:function(e){if(!e.has(\"T\")&&!e.has(\"Parent\"))return(0,a.warn)(\"Unknown field name, falling back to empty field name.\"),\"\";if(!e.has(\"Parent\"))return(0,a.stringToPDFString)(e.get(\"T\"));var t=[];e.has(\"T\")&&t.unshift((0,a.stringToPDFString)(e.get(\"T\")));for(var r=e;r.has(\"Parent\")&&(r=r.get(\"Parent\"),(0,i.isDict)(r));)r.has(\"T\")&&t.unshift((0,a.stringToPDFString)(r.get(\"T\")));return t.join(\".\")}},{key:\"hasFieldFlag\",value:function(e){return!!(this.data.fieldFlags&e)}},{key:\"getOperatorList\",value:function(e,r,a){return a?Promise.resolve(new c.OperatorList):u(d(t.prototype),\"getOperatorList\",this).call(this,e,r,a)}}]),t}(),x=function(e){function t(e){var r;p(this,t),r=f(this,d(t).call(this,e));var n=e.dict;r.data.fieldValue=(0,a.stringToPDFString)(r.data.fieldValue||\"\");var i=(0,s.getInheritableProperty)({dict:n,key:\"Q\"});(!Number.isInteger(i)||i<0||i>2)&&(i=null),r.data.textAlignment=i;var o=(0,s.getInheritableProperty)({dict:n,key:\"MaxLen\"});return(!Number.isInteger(o)||o<0)&&(o=null),r.data.maxLen=o,r.data.multiLine=r.hasFieldFlag(a.AnnotationFieldFlag.MULTILINE),r.data.comb=r.hasFieldFlag(a.AnnotationFieldFlag.COMB)&&!r.hasFieldFlag(a.AnnotationFieldFlag.MULTILINE)&&!r.hasFieldFlag(a.AnnotationFieldFlag.PASSWORD)&&!r.hasFieldFlag(a.AnnotationFieldFlag.FILESELECT)&&null!==r.data.maxLen,r}return g(t,C),b(t,[{key:\"getOperatorList\",value:function(e,r,n){if(n||this.appearance)return u(d(t.prototype),\"getOperatorList\",this).call(this,e,r,n);var i=new c.OperatorList;if(!this.data.defaultAppearance)return Promise.resolve(i);var o=new l.Stream((0,a.stringToBytes)(this.data.defaultAppearance));return e.getOperatorList({stream:o,task:r,resources:this.fieldResources,operatorList:i}).then(function(){return i})}}]),t}(),A=function(e){function t(e){var r;return p(this,t),(r=f(this,d(t).call(this,e))).data.checkBox=!r.hasFieldFlag(a.AnnotationFieldFlag.RADIO)&&!r.hasFieldFlag(a.AnnotationFieldFlag.PUSHBUTTON),r.data.radioButton=r.hasFieldFlag(a.AnnotationFieldFlag.RADIO)&&!r.hasFieldFlag(a.AnnotationFieldFlag.PUSHBUTTON),r.data.pushButton=r.hasFieldFlag(a.AnnotationFieldFlag.PUSHBUTTON),r.data.checkBox?r._processCheckBox(e):r.data.radioButton?r._processRadioButton(e):r.data.pushButton?r._processPushButton(e):(0,a.warn)(\"Invalid field flags for button widget annotation\"),r}return g(t,C),b(t,[{key:\"_processCheckBox\",value:function(e){(0,i.isName)(this.data.fieldValue)&&(this.data.fieldValue=this.data.fieldValue.name);var t=e.dict.get(\"AP\");if((0,i.isDict)(t)){var r=t.get(\"D\");if((0,i.isDict)(r)){var a=r.getKeys();2===a.length&&(this.data.exportValue=\"Off\"===a[0]?a[1]:a[0])}}}},{key:\"_processRadioButton\",value:function(e){this.data.fieldValue=this.data.buttonValue=null;var t=e.dict.get(\"Parent\");if((0,i.isDict)(t)&&t.has(\"V\")){var r=t.get(\"V\");(0,i.isName)(r)&&(this.data.fieldValue=r.name)}var a=e.dict.get(\"AP\");if((0,i.isDict)(a)){var n=a.get(\"N\");if((0,i.isDict)(n))for(var o=n.getKeys(),s=0,c=o.length;s<c;s++)if(\"Off\"!==o[s]){this.data.buttonValue=o[s];break}}}},{key:\"_processPushButton\",value:function(e){e.dict.has(\"A\")?n.Catalog.parseDestDictionary({destDict:e.dict,resultObj:this.data,docBaseUrl:e.pdfManager.docBaseUrl}):(0,a.warn)(\"Push buttons without action dictionaries are not supported\")}}]),t}(),_=function(e){function t(e){var r;p(this,t),(r=f(this,d(t).call(this,e))).data.options=[];var n=(0,s.getInheritableProperty)({dict:e.dict,key:\"Opt\"});if(Array.isArray(n))for(var i=e.xref,o=0,c=n.length;o<c;o++){var l=i.fetchIfRef(n[o]),u=Array.isArray(l);r.data.options[o]={exportValue:u?i.fetchIfRef(l[0]):l,displayValue:(0,a.stringToPDFString)(u?i.fetchIfRef(l[1]):l)}}return Array.isArray(r.data.fieldValue)||(r.data.fieldValue=[r.data.fieldValue]),r.data.combo=r.hasFieldFlag(a.AnnotationFieldFlag.COMBO),r.data.multiSelect=r.hasFieldFlag(a.AnnotationFieldFlag.MULTISELECT),r}return g(t,C),t}(),P=function(e){function t(e){var r;p(this,t);return(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.TEXT,r.data.hasAppearance?r.data.name=\"NoIcon\":(r.data.rect[1]=r.data.rect[3]-22,r.data.rect[2]=r.data.rect[0]+22,r.data.name=e.dict.has(\"Name\")?e.dict.get(\"Name\").name:\"Note\"),r}return g(t,S),t}(),I=function(e){function t(e){var r;return p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.LINK,n.Catalog.parseDestDictionary({destDict:e.dict,resultObj:r.data,docBaseUrl:e.pdfManager.docBaseUrl}),r}return g(t,w),t}(),O=function(e){function t(e){var r;p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.POPUP;var n=e.dict,o=n.get(\"Parent\");if(!o)return(0,a.warn)(\"Popup annotation has a missing or invalid parent annotation.\"),f(r);var s=o.get(\"Subtype\");if(r.data.parentType=(0,i.isName)(s)?s.name:null,r.data.parentId=n.getRaw(\"Parent\").toString(),r.data.title=(0,a.stringToPDFString)(o.get(\"T\")||\"\"),r.data.contents=(0,a.stringToPDFString)(o.get(\"Contents\")||\"\"),o.has(\"CreationDate\")?(r.setCreationDate(o.get(\"CreationDate\")),r.data.creationDate=r.creationDate):r.data.creationDate=null,o.has(\"M\")?(r.setModificationDate(o.get(\"M\")),r.data.modificationDate=r.modificationDate):r.data.modificationDate=null,o.has(\"C\")?(r.setColor(o.getArray(\"C\")),r.data.color=r.color):r.data.color=null,!r.viewable){var c=o.get(\"F\");r._isViewable(c)&&r.setFlags(c)}return r}return g(t,w),t}(),T=function(e){function t(e){var r;return p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.FREETEXT,r}return g(t,S),t}(),E=function(e){function t(e){var r;p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.LINE;var n=e.dict;return r.data.lineCoordinates=a.Util.normalizeRect(n.getArray(\"L\")),r}return g(t,S),t}(),F=function(e){function t(e){var r;return p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.SQUARE,r}return g(t,S),t}(),R=function(e){function t(e){var r;return p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.CIRCLE,r}return g(t,S),t}(),B=function(e){function t(e){var r;p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.POLYLINE;var n=e.dict.getArray(\"Vertices\");r.data.vertices=[];for(var i=0,o=n.length;i<o;i+=2)r.data.vertices.push({x:n[i],y:n[i+1]});return r}return g(t,S),t}(),D=function(e){function t(e){var r;return p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.POLYGON,r}return g(t,B),t}(),M=function(e){function t(e){var r;return p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.CARET,r}return g(t,S),t}(),L=function(e){function t(e){var r;p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.INK;var n=e.dict,i=e.xref,o=n.getArray(\"InkList\");r.data.inkLists=[];for(var s=0,c=o.length;s<c;++s){r.data.inkLists.push([]);for(var l=0,u=o[s].length;l<u;l+=2)r.data.inkLists[s].push({x:i.fetchIfRef(o[s][l]),y:i.fetchIfRef(o[s][l+1])})}return r}return g(t,S),t}(),N=function(e){function t(e){var r;return p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.HIGHLIGHT,r}return g(t,S),t}(),U=function(e){function t(e){var r;return p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.UNDERLINE,r}return g(t,S),t}(),q=function(e){function t(e){var r;return p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.SQUIGGLY,r}return g(t,S),t}(),j=function(e){function t(e){var r;return p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.STRIKEOUT,r}return g(t,S),t}(),z=function(e){function t(e){var r;return p(this,t),(r=f(this,d(t).call(this,e))).data.annotationType=a.AnnotationType.STAMP,r}return g(t,S),t}(),H=function(e){function t(e){var r;p(this,t),r=f(this,d(t).call(this,e));var i=new n.FileSpec(e.dict.get(\"FS\"),e.xref);return r.data.annotationType=a.AnnotationType.FILEATTACHMENT,r.data.file=i.serializable,r}return g(t,S),t}()},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.OperatorList=void 0;var a=r(5),n=function(){function e(e,t,r,a,n){for(var i=e,o=0,s=t.length-1;o<s;o++){var c=t[o];i=i[c]||(i[c]=[])}i[t[t.length-1]]={checkFn:r,iterateFn:a,processFn:n}}var t=[];function r(e){this.queue=e,this.state=null,this.context={iCurr:0,fnArray:e.fnArray,argsArray:e.argsArray},this.match=null,this.lastProcessed=0}return e(t,[a.OPS.save,a.OPS.transform,a.OPS.paintInlineImageXObject,a.OPS.restore],null,function(e,t){var r=e.fnArray,n=(t-(e.iCurr-3))%4;switch(n){case 0:return r[t]===a.OPS.save;case 1:return r[t]===a.OPS.transform;case 2:return r[t]===a.OPS.paintInlineImageXObject;case 3:return r[t]===a.OPS.restore}throw new Error(\"iterateInlineImageGroup - invalid pos: \".concat(n))},function(e,t){var r=e.fnArray,n=e.argsArray,i=e.iCurr,o=i-3,s=i-2,c=i-1,l=Math.min(Math.floor((t-o)/4),200);if(l<10)return t-(t-o)%4;var u,h=0,f=[],d=0,g=1,m=1;for(u=0;u<l;u++){var p=n[s+(u<<2)],v=n[c+(u<<2)][0];g+v.width>1e3&&(h=Math.max(h,g),m+=d+2,g=0,d=0),f.push({transform:p,x:g,y:m,w:v.width,h:v.height}),g+=v.width+2,d=Math.max(d,v.height)}var b=Math.max(h,g)+1,y=m+d+1,w=new Uint8ClampedArray(b*y*4),k=b<<2;for(u=0;u<l;u++){var S=n[c+(u<<2)][0].data,C=f[u].w<<2,x=0,A=f[u].x+f[u].y*b<<2;w.set(S.subarray(0,C),A-k);for(var _=0,P=f[u].h;_<P;_++)w.set(S.subarray(x,x+C),A),x+=C,A+=k;for(w.set(S.subarray(x-C,x),A);A>=0;)S[A-4]=S[A],S[A-3]=S[A+1],S[A-2]=S[A+2],S[A-1]=S[A+3],S[A+C]=S[A+C-4],S[A+C+1]=S[A+C-3],S[A+C+2]=S[A+C-2],S[A+C+3]=S[A+C-1],A-=k}return r.splice(o,4*l,a.OPS.paintInlineImageXObjectGroup),n.splice(o,4*l,[{width:b,height:y,kind:a.ImageKind.RGBA_32BPP,data:w},f]),o+1}),e(t,[a.OPS.save,a.OPS.transform,a.OPS.paintImageMaskXObject,a.OPS.restore],null,function(e,t){var r=e.fnArray,n=(t-(e.iCurr-3))%4;switch(n){case 0:return r[t]===a.OPS.save;case 1:return r[t]===a.OPS.transform;case 2:return r[t]===a.OPS.paintImageMaskXObject;case 3:return r[t]===a.OPS.restore}throw new Error(\"iterateImageMaskGroup - invalid pos: \".concat(n))},function(e,t){var r,n=e.fnArray,i=e.argsArray,o=e.iCurr,s=o-3,c=o-2,l=o-1,u=Math.floor((t-s)/4);if((u=function(e,t,r,n){for(var i=e+2,o=0;o<t;o++){var s=n[i+4*o],c=1===s.length&&s[0];if(!c||1!==c.width||1!==c.height||c.data.length&&(1!==c.data.length||0!==c.data[0]))break;r[i+4*o]=a.OPS.paintSolidColorImageMask}return t-o}(s,u,n,i))<10)return t-(t-s)%4;var h,f,d=!1,g=i[l][0];if(0===i[c][1]&&0===i[c][2]){d=!0;var m=i[c][0],p=i[c][3];h=c+4;var v=l+4;for(r=1;r<u;r++,h+=4,v+=4)if(f=i[h],i[v][0]!==g||f[0]!==m||0!==f[1]||0!==f[2]||f[3]!==p){r<10?d=!1:u=r;break}}if(d){u=Math.min(u,1e3);var b=new Float32Array(2*u);for(h=c,r=0;r<u;r++,h+=4)f=i[h],b[r<<1]=f[4],b[1+(r<<1)]=f[5];n.splice(s,4*u,a.OPS.paintImageMaskXObjectRepeat),i.splice(s,4*u,[g,m,p,b])}else{u=Math.min(u,100);var y=[];for(r=0;r<u;r++){f=i[c+(r<<2)];var w=i[l+(r<<2)][0];y.push({data:w.data,width:w.width,height:w.height,transform:f})}n.splice(s,4*u,a.OPS.paintImageMaskXObjectGroup),i.splice(s,4*u,[y])}return s+1}),e(t,[a.OPS.save,a.OPS.transform,a.OPS.paintImageXObject,a.OPS.restore],function(e){var t=e.argsArray,r=e.iCurr-2;return 0===t[r][1]&&0===t[r][2]},function(e,t){var r=e.fnArray,n=e.argsArray,i=(t-(e.iCurr-3))%4;switch(i){case 0:return r[t]===a.OPS.save;case 1:if(r[t]!==a.OPS.transform)return!1;var o=e.iCurr-2,s=n[o][0],c=n[o][3];return n[t][0]===s&&0===n[t][1]&&0===n[t][2]&&n[t][3]===c;case 2:if(r[t]!==a.OPS.paintImageXObject)return!1;var l=n[e.iCurr-1][0];return n[t][0]===l;case 3:return r[t]===a.OPS.restore}throw new Error(\"iterateImageGroup - invalid pos: \".concat(i))},function(e,t){var r=e.fnArray,n=e.argsArray,i=e.iCurr,o=i-3,s=i-2,c=n[i-1][0],l=n[s][0],u=n[s][3],h=Math.min(Math.floor((t-o)/4),1e3);if(h<3)return t-(t-o)%4;for(var f=new Float32Array(2*h),d=s,g=0;g<h;g++,d+=4){var m=n[d];f[g<<1]=m[4],f[1+(g<<1)]=m[5]}var p=[c,l,u,f];return r.splice(o,4*h,a.OPS.paintImageXObjectRepeat),n.splice(o,4*h,p),o+1}),e(t,[a.OPS.beginText,a.OPS.setFont,a.OPS.setTextMatrix,a.OPS.showText,a.OPS.endText],null,function(e,t){var r=e.fnArray,n=e.argsArray,i=(t-(e.iCurr-4))%5;switch(i){case 0:return r[t]===a.OPS.beginText;case 1:return r[t]===a.OPS.setFont;case 2:return r[t]===a.OPS.setTextMatrix;case 3:if(r[t]!==a.OPS.showText)return!1;var o=e.iCurr-3,s=n[o][0],c=n[o][1];return n[t][0]===s&&n[t][1]===c;case 4:return r[t]===a.OPS.endText}throw new Error(\"iterateShowTextGroup - invalid pos: \".concat(i))},function(e,t){var r=e.fnArray,a=e.argsArray,n=e.iCurr,i=n-4,o=n-3,s=n-2,c=n-1,l=n,u=a[o][0],h=a[o][1],f=Math.min(Math.floor((t-i)/5),1e3);if(f<3)return t-(t-i)%5;var d=i;i>=4&&r[i-4]===r[o]&&r[i-3]===r[s]&&r[i-2]===r[c]&&r[i-1]===r[l]&&a[i-4][0]===u&&a[i-4][1]===h&&(f++,d-=5);for(var g=d+4,m=1;m<f;m++)r.splice(g,3),a.splice(g,3),g+=2;return g+1}),r.prototype={_optimize:function(){var e=this.queue.fnArray,r=this.lastProcessed,a=e.length,n=this.state,i=this.match;if(n||i||r+1!==a||t[e[r]]){for(var o=this.context;r<a;){if(i){if((0,i.iterateFn)(o,r)){r++;continue}if(r=(0,i.processFn)(o,r+1),i=null,n=null,r>=(a=e.length))break}(n=(n||t)[e[r]])&&!Array.isArray(n)?(o.iCurr=r,r++,!n.checkFn||(0,n.checkFn)(o)?(i=n,n=null):n=null):r++}this.state=n,this.match=i,this.lastProcessed=r}else this.lastProcessed=a},push:function(e,t){this.queue.fnArray.push(e),this.queue.argsArray.push(t),this._optimize()},flush:function(){for(;this.match;){var e=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,e),this.match=null,this.state=null,this._optimize()}},reset:function(){this.state=null,this.match=null,this.lastProcessed=0}},r}(),i=function(){function e(e){this.queue=e}return e.prototype={push:function(e,t){this.queue.fnArray.push(e),this.queue.argsArray.push(t)},flush:function(){},reset:function(){}},e}(),o=function(){function e(e,t,r){this.messageHandler=t,this.fnArray=[],this.argsArray=[],this.optimizer=t&&\"oplist\"!==e?new n(this):new i(this),this.dependencies=Object.create(null),this._totalLength=0,this.pageIndex=r,this.intent=e,this.weight=0}return e.prototype={get length(){return this.argsArray.length},get totalLength(){return this._totalLength+this.length},addOp:function(e,t){this.optimizer.push(e,t),this.weight++,this.messageHandler&&(this.weight>=1e3?this.flush():this.weight>=995&&(e===a.OPS.restore||e===a.OPS.endText)&&this.flush())},addDependency:function(e){e in this.dependencies||(this.dependencies[e]=!0,this.addOp(a.OPS.dependency,[e]))},addDependencies:function(e){for(var t in e)this.addDependency(t)},addOpList:function(e){Object.assign(this.dependencies,e.dependencies);for(var t=0,r=e.length;t<r;t++)this.addOp(e.fnArray[t],e.argsArray[t])},getIR:function(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}},get _transfers(){for(var e=[],t=this.fnArray,r=this.argsArray,n=this.length,i=0;i<n;i++)switch(t[i]){case a.OPS.paintInlineImageXObject:case a.OPS.paintInlineImageXObjectGroup:case a.OPS.paintImageMaskXObject:var o=r[i][0];o.cached||e.push(o.data.buffer)}return e},flush:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.optimizer.flush();var t=this.length;this._totalLength+=t,this.messageHandler.send(\"RenderPageChunk\",{operatorList:{fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:e,length:t},pageIndex:this.pageIndex,intent:this.intent},this._transfers),this.dependencies=Object.create(null),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}},e}();t.OperatorList=o},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PartialEvaluator=void 0;var a,n=(a=r(2))&&a.__esModule?a:{default:a},i=r(5),o=r(173),s=r(156),c=r(174),l=r(177),u=r(180),h=r(179),f=r(183),d=r(157),g=r(184),m=r(169),p=r(158),v=r(178),b=r(153),y=r(185),w=r(186),k=r(164),S=r(188),C=r(189),x=r(171),A=r(190);function _(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function P(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var i=e.apply(t,r);function o(e){_(i,a,n,o,s,\"next\",e)}function s(e){_(i,a,n,o,s,\"throw\",e)}o(void 0)})}}var I=function(){var e={forceDataSchema:!1,maxImageSize:-1,disableFontFace:!1,nativeImageDecoderSupport:i.NativeImageDecoding.DECODE,ignoreErrors:!1,isEvalSupported:!0};function t(t){var r=this,a=t.xref,o=t.handler,s=t.pageIndex,c=t.idFactory,l=t.fontCache,u=t.builtInCMapCache,h=t.options,f=void 0===h?null:h,d=t.pdfFunctionFactory;this.xref=a,this.handler=o,this.pageIndex=s,this.idFactory=c,this.fontCache=l,this.builtInCMapCache=u,this.options=f||e,this.pdfFunctionFactory=d,this.parsingType3Font=!1,this.fetchBuiltInCMap=function(){var e=P(n.default.mark(function e(t){var a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.builtInCMapCache.has(t)){e.next=2;break}return e.abrupt(\"return\",r.builtInCMapCache.get(t));case 2:return e.next=4,r.handler.sendWithPromise(\"FetchBuiltInCMap\",{name:t});case 4:return(a=e.sent).compressionType!==i.CMapCompressionType.NONE&&r.builtInCMapCache.set(t,a),e.abrupt(\"return\",a);case 7:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}function r(){this.reset()}function a(e){if(!(0,s.isName)(e))return\"source-over\";switch(e.name){case\"Normal\":case\"Compatible\":return\"source-over\";case\"Multiply\":return\"multiply\";case\"Screen\":return\"screen\";case\"Overlay\":return\"overlay\";case\"Darken\":return\"darken\";case\"Lighten\":return\"lighten\";case\"ColorDodge\":return\"color-dodge\";case\"ColorBurn\":return\"color-burn\";case\"HardLight\":return\"hard-light\";case\"SoftLight\":return\"soft-light\";case\"Difference\":return\"difference\";case\"Exclusion\":return\"exclusion\";case\"Hue\":return\"hue\";case\"Saturation\":return\"saturation\";case\"Color\":return\"color\";case\"Luminosity\":return\"luminosity\"}return(0,i.warn)(\"Unsupported blend mode: \"+e.name),\"source-over\"}r.prototype={check:function(){return!(++this.checked<100)&&(this.checked=0,this.endTime<=Date.now())},reset:function(){this.endTime=Date.now()+20,this.checked=0}};var d=Promise.resolve();return t.prototype={clone:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=Object.create(this);return r.options=t,r},hasBlendModes:function(e){if(!(0,s.isDict)(e))return!1;var t=Object.create(null);e.objId&&(t[e.objId]=!0);for(var r=[e],a=this.xref;r.length;){var n,i,o,c=r.shift(),l=c.get(\"ExtGState\");if((0,s.isDict)(l)){var u=l.getKeys();for(i=0,o=u.length;i<o;i++){n=u[i];var h=l.get(n).get(\"BM\");if((0,s.isName)(h)&&\"Normal\"!==h.name)return!0}}var f=c.get(\"XObject\");if((0,s.isDict)(f)){var d=f.getKeys();for(i=0,o=d.length;i<o;i++){n=d[i];var g=f.getRaw(n);if((0,s.isRef)(g)){if(t[g.toString()])continue;g=a.fetch(g)}if((0,s.isStream)(g)){if(g.dict.objId){if(t[g.dict.objId])continue;t[g.dict.objId]=!0}var m=g.dict.get(\"Resources\");!(0,s.isDict)(m)||m.objId&&t[m.objId]||(r.push(m),m.objId&&(t[m.objId]=!0))}}}}return!1},buildFormXObject:function(e,t,r,a,n,o){var c=t.dict,l=c.getArray(\"Matrix\"),u=c.getArray(\"BBox\");u=Array.isArray(u)&&4===u.length?i.Util.normalizeRect(u):null;var h=c.get(\"Group\");if(h){var f={matrix:l,bbox:u,smask:r,isolated:!1,knockout:!1},d=h.get(\"S\"),g=null;(0,s.isName)(d,\"Transparency\")&&(f.isolated=h.get(\"I\")||!1,f.knockout=h.get(\"K\")||!1,h.has(\"CS\")&&(g=m.ColorSpace.parse(h.get(\"CS\"),this.xref,e,this.pdfFunctionFactory))),r&&r.backdrop&&(g=g||m.ColorSpace.singletons.rgb,r.backdrop=g.getRgb(r.backdrop,0)),a.addOp(i.OPS.beginGroup,[f])}return a.addOp(i.OPS.paintFormXObjectBegin,[l,u]),this.getOperatorList({stream:t,task:n,resources:c.get(\"Resources\")||e,operatorList:a,initialState:o}).then(function(){a.addOp(i.OPS.paintFormXObjectEnd,[]),h&&a.addOp(i.OPS.endGroup,[f])})},buildPaintImageXObject:function(){var e=P(n.default.mark(function e(t){var r,a,o,s,c,l,u,h,f,d,g,m,v,b,y,w,S,x,_,P,I,O,T,E,F,R,B,D=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.resources,a=t.image,o=t.isInline,s=void 0!==o&&o,c=t.operatorList,l=t.cacheKey,u=t.imageCache,h=t.forceDisableNativeImageDecoder,f=void 0!==h&&h,d=a.dict,g=d.get(\"Width\",\"W\"),m=d.get(\"Height\",\"H\"),g&&(0,i.isNum)(g)&&m&&(0,i.isNum)(m)){e.next=7;break}return(0,i.warn)(\"Image dimensions are missing, or not numbers.\"),e.abrupt(\"return\",void 0);case 7:if(!(-1!==(v=this.options.maxImageSize)&&g*m>v)){e.next=11;break}return(0,i.warn)(\"Image exceeded maximum allowed size and was removed.\"),e.abrupt(\"return\",void 0);case 11:if(!(d.get(\"ImageMask\",\"IM\")||!1)){e.next=24;break}return w=d.get(\"Width\",\"W\"),S=d.get(\"Height\",\"H\"),x=w+7>>3,_=a.getBytes(x*S,!0),P=d.getArray(\"Decode\",\"D\"),(b=A.PDFImage.createMask({imgArray:_,width:w,height:S,imageIsFromDecodeStream:a instanceof p.DecodeStream,inverseDecode:!!P&&P[0]>0})).cached=!!l,y=[b],c.addOp(i.OPS.paintImageMaskXObject,y),l&&(u[l]={fn:i.OPS.paintImageMaskXObject,args:y}),e.abrupt(\"return\",void 0);case 24:if(I=d.get(\"SMask\",\"SM\")||!1,O=d.get(\"Mask\")||!1,200,!s||I||O||a instanceof k.JpegStream||!(g+m<200)){e.next=32;break}return T=new A.PDFImage({xref:this.xref,res:r,image:a,isInline:s,pdfFunctionFactory:this.pdfFunctionFactory}),b=T.createImageData(!0),c.addOp(i.OPS.paintInlineImageXObject,[b]),e.abrupt(\"return\",void 0);case 32:if(E=f?i.NativeImageDecoding.NONE:this.options.nativeImageDecoderSupport,F=\"img_\".concat(this.idFactory.createObjId()),this.parsingType3Font&&((0,i.assert)(E===i.NativeImageDecoding.NONE,\"Type3 image resources should be completely decoded in the worker.\"),F=\"\".concat(this.idFactory.getDocId(),\"_type3res_\").concat(F)),E===i.NativeImageDecoding.NONE||I||O||!(a instanceof k.JpegStream)||!C.NativeImageDecoder.isSupported(a,this.xref,r,this.pdfFunctionFactory)){e.next=37;break}return e.abrupt(\"return\",this.handler.sendWithPromise(\"obj\",[F,this.pageIndex,\"JpegStream\",a.getIR(this.options.forceDataSchema)]).then(function(){c.addDependency(F),y=[F,g,m],c.addOp(i.OPS.paintJpegXObject,y),l&&(u[l]={fn:i.OPS.paintJpegXObject,args:y})},function(e){return(0,i.warn)(\"Native JPEG decoding failed -- trying to recover: \"+(e&&e.message)),D.buildPaintImageXObject({resources:r,image:a,isInline:s,operatorList:c,cacheKey:l,imageCache:u,forceDisableNativeImageDecoder:!0})}));case 37:if(R=null,E===i.NativeImageDecoding.DECODE&&(a instanceof k.JpegStream||O instanceof k.JpegStream||I instanceof k.JpegStream)&&(R=new C.NativeImageDecoder({xref:this.xref,resources:r,handler:this.handler,forceDataSchema:this.options.forceDataSchema,pdfFunctionFactory:this.pdfFunctionFactory})),c.addDependency(F),y=[F,g,m],B=A.PDFImage.buildImage({handler:this.handler,xref:this.xref,res:r,image:a,isInline:s,nativeDecoder:R,pdfFunctionFactory:this.pdfFunctionFactory}).then(function(e){var t=e.createImageData(!1);if(D.parsingType3Font)return D.handler.sendWithPromise(\"commonobj\",[F,\"FontType3Res\",t],[t.data.buffer]);D.handler.send(\"obj\",[F,D.pageIndex,\"Image\",t],[t.data.buffer])}).catch(function(e){if((0,i.warn)(\"Unable to decode image: \"+e),D.parsingType3Font)return D.handler.sendWithPromise(\"commonobj\",[F,\"FontType3Res\",null]);D.handler.send(\"obj\",[F,D.pageIndex,\"Image\",null])}),!this.parsingType3Font){e.next=45;break}return e.next=45,B;case 45:return c.addOp(i.OPS.paintImageXObject,y),l&&(u[l]={fn:i.OPS.paintImageXObject,args:y}),e.abrupt(\"return\",void 0);case 48:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),handleSMask:function(e,t,r,a,n){var i=e.get(\"G\"),o={subtype:e.get(\"S\").name,backdrop:e.get(\"BC\")},s=e.get(\"TR\");if((0,w.isPDFFunction)(s)){for(var c=this.pdfFunctionFactory.create(s),l=new Uint8Array(256),u=new Float32Array(1),h=0;h<256;h++)u[0]=h/255,c(u,0,u,0),l[h]=255*u[0]|0;o.transferMap=l}return this.buildFormXObject(t,i,o,r,a,n.state.clone())},handleTilingType:function(e,t,r,a,n,o,c){var l=this,u=new x.OperatorList,h=[n.get(\"Resources\"),r],d=s.Dict.merge(this.xref,h);return this.getOperatorList({stream:a,task:c,resources:d,operatorList:u}).then(function(){return(0,f.getTilingPatternIR)({fnArray:u.fnArray,argsArray:u.argsArray},n,t)}).then(function(t){o.addDependencies(u.dependencies),o.addOp(e,t)},function(e){if(l.options.ignoreErrors)return l.handler.send(\"UnsupportedFeature\",{featureId:i.UNSUPPORTED_FEATURES.unknown}),void(0,i.warn)('handleTilingType - ignoring pattern: \"'.concat(e,'\".'));throw e})},handleSetFont:function(e,t,r,a,n,o){var s,l=this;return t&&(s=(t=t.slice())[0].name),this.loadFont(s,r,e).then(function(t){return t.font.isType3Font?t.loadType3Data(l,e,a,n).then(function(){return t}).catch(function(e){return l.handler.send(\"UnsupportedFeature\",{featureId:i.UNSUPPORTED_FEATURES.font}),new O(\"g_font_error\",new c.ErrorFont(\"Type3 font load error: \"+e),t.font)}):t}).then(function(e){return o.font=e.font,e.send(l.handler),e.loadedName})},handleText:function(e,r){var a=r.font,n=a.charsToGlyphs(e);a.data&&((!!(r.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG)||\"Pattern\"===r.fillColorSpace.name||a.disableFontFace||this.options.disableFontFace)&&t.buildFontPaths(a,n,this.handler));return n},setGState:function(e,t,r,n,o){for(var c=this,l=[],u=t.getKeys(),h=Promise.resolve(),f=function(){var f=u[d],g=t.get(f);switch(f){case\"Type\":break;case\"LW\":case\"LC\":case\"LJ\":case\"ML\":case\"D\":case\"RI\":case\"FL\":case\"CA\":case\"ca\":l.push([f,g]);break;case\"Font\":h=h.then(function(){return c.handleSetFont(e,null,g[0],r,n,o.state).then(function(e){r.addDependency(e),l.push([f,[e,g[1]]])})});break;case\"BM\":l.push([f,a(g)]);break;case\"SMask\":if((0,s.isName)(g,\"None\")){l.push([f,!1]);break}(0,s.isDict)(g)?(h=h.then(function(){return c.handleSMask(g,e,r,n,o)}),l.push([f,!0])):(0,i.warn)(\"Unsupported SMask type\");break;case\"OP\":case\"op\":case\"OPM\":case\"BG\":case\"BG2\":case\"UCR\":case\"UCR2\":case\"TR\":case\"TR2\":case\"HT\":case\"SM\":case\"SA\":case\"AIS\":case\"TK\":(0,i.info)(\"graphic state operator \"+f);break;default:(0,i.info)(\"Unknown graphic state operator \"+f)}},d=0,g=u.length;d<g;d++)f();return h.then(function(){l.length>0&&r.addOp(i.OPS.setGState,[l])})},loadFont:function(e,t,r){var a=this;function n(){return Promise.resolve(new O(\"g_font_error\",new c.ErrorFont(\"Font \"+e+\" is not available\"),t))}var o,l=this.xref;if(t){if(!(0,s.isRef)(t))throw new Error('The \"font\" object should be a reference.');o=t}else{var u=r.get(\"Font\");if(!u)return(0,i.warn)(\"fontRes not available\"),n();o=u.getRaw(e)}if(!o)return(0,i.warn)(\"fontRef not available\"),n();if(this.fontCache.has(o))return this.fontCache.get(o);if(t=l.fetchIfRef(o),!(0,s.isDict)(t))return n();if(t.translated)return t.translated;var h,f,d=(0,i.createPromiseCapability)(),g=this.preEvaluateFont(t),m=g.descriptor,p=g.hash,v=(0,s.isRef)(o);if(v&&(h=o.toString()),p&&(0,s.isDict)(m)){m.fontAliases||(m.fontAliases=Object.create(null));var b=m.fontAliases;if(b[p]){var y=b[p].aliasRef;if(v&&y&&this.fontCache.has(y))return this.fontCache.putAlias(o,y),this.fontCache.get(o)}else b[p]={fontID:c.Font.getFontID()};v&&(b[p].aliasRef=o),h=b[p].fontID}v?this.fontCache.put(o,d.promise):(h||(h=this.idFactory.createObjId()),this.fontCache.put(\"id_\".concat(h),d.promise)),(0,i.assert)(h,'The \"fontID\" must be defined.'),t.loadedName=\"\".concat(this.idFactory.getDocId(),\"_f\").concat(h),t.translated=d.promise;try{f=this.translateFont(g)}catch(e){f=Promise.reject(e)}return f.then(function(e){void 0!==e.fontType&&(l.stats.fontTypes[e.fontType]=!0);d.resolve(new O(t.loadedName,e,t))}).catch(function(e){a.handler.send(\"UnsupportedFeature\",{featureId:i.UNSUPPORTED_FEATURES.font});try{var r=m&&m.get(\"FontFile3\"),n=r&&r.get(\"Subtype\"),o=(0,c.getFontType)(g.type,n&&n.name);l.stats.fontTypes[o]=!0}catch(e){}d.resolve(new O(t.loadedName,new c.ErrorFont(e instanceof Error?e.message:e),t))}),d.promise},buildPath:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=e.length-1;if(r||(r=[]),n<0||e.fnArray[n]!==i.OPS.constructPath)a&&((0,i.warn)('Encountered path operator \"'.concat(t,'\" inside of a text object.')),e.addOp(i.OPS.save,null)),e.addOp(i.OPS.constructPath,[[t],r]),a&&e.addOp(i.OPS.restore,null);else{var o=e.argsArray[n];o[0].push(t),Array.prototype.push.apply(o[1],r)}},handleColorN:function(){var e=P(n.default.mark(function e(t,r,a,o,c,l,u){var h,d,g,m,p,v,b;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h=a[a.length-1],!(0,s.isName)(h)||!(d=c.get(h.name))){e.next=16;break}if(g=(0,s.isStream)(d)?d.dict:d,1!==(m=g.get(\"PatternType\"))){e.next=9;break}return p=o.base?o.base.getRgb(a,0):null,e.abrupt(\"return\",this.handleTilingType(r,p,l,d,g,t,u));case 9:if(2!==m){e.next=15;break}return v=g.get(\"Shading\"),b=g.getArray(\"Matrix\"),d=f.Pattern.parseShading(v,b,this.xref,l,this.handler,this.pdfFunctionFactory),t.addOp(r,d.getIR()),e.abrupt(\"return\",void 0);case 15:throw new i.FormatError(\"Unknown PatternType: \".concat(m));case 16:throw new i.FormatError(\"Unknown PatternName: \".concat(h));case 17:case\"end\":return e.stop()}},e,this)}));return function(t,r,a,n,i,o,s){return e.apply(this,arguments)}}(),getOperatorList:function(e){var t=this,a=e.stream,n=e.task,o=e.resources,c=e.operatorList,l=e.initialState,u=void 0===l?null:l;if(o=o||s.Dict.empty,u=u||new F,!c)throw new Error('getOperatorList: missing \"operatorList\" parameter');var h=this,g=this.xref,p=!1,v=Object.create(null),b=o.get(\"XObject\")||s.Dict.empty,y=o.get(\"Pattern\")||s.Dict.empty,w=new T(u),k=new R(a,g,w),S=new r;function C(e){for(var t=0,r=k.savedStatesDepth;t<r;t++)c.addOp(i.OPS.restore,[])}return new Promise(function e(t,r){var a=function(a){a.then(function(){try{e(t,r)}catch(e){r(e)}},r)};n.ensureNotTerminated(),S.reset();for(var l,u,x,A,_={};!(l=S.check())&&(_.args=null,k.read(_));){var P=_.args,I=_.fn;switch(0|I){case i.OPS.paintXObject:var O=P[0].name;if(O&&void 0!==v[O]){c.addOp(v[O].fn,v[O].args),P=null;continue}return void a(new Promise(function(e,t){if(!O)throw new i.FormatError(\"XObject must be referred to by name.\");var r=b.get(O);if(!r)return c.addOp(I,P),void e();if(!(0,s.isStream)(r))throw new i.FormatError(\"XObject should be a stream\");var a=r.dict.get(\"Subtype\");if(!(0,s.isName)(a))throw new i.FormatError(\"XObject should have a Name subtype\");if(\"Form\"===a.name)return w.save(),void h.buildFormXObject(o,r,null,c,n,w.state.clone()).then(function(){w.restore(),e()},t);if(\"Image\"!==a.name){if(\"PS\"!==a.name)throw new i.FormatError(\"Unhandled XObject subtype \".concat(a.name));(0,i.info)(\"Ignored XObject subtype PS\"),e()}else h.buildPaintImageXObject({resources:o,image:r,operatorList:c,cacheKey:O,imageCache:v}).then(e,t)}).catch(function(e){if(h.options.ignoreErrors)return h.handler.send(\"UnsupportedFeature\",{featureId:i.UNSUPPORTED_FEATURES.unknown}),void(0,i.warn)('getOperatorList - ignoring XObject: \"'.concat(e,'\".'));throw e}));case i.OPS.setFont:var T=P[1];return void a(h.handleSetFont(o,P,null,c,n,w.state).then(function(e){c.addDependency(e),c.addOp(i.OPS.setFont,[e,T])}));case i.OPS.beginText:p=!0;break;case i.OPS.endText:p=!1;break;case i.OPS.endInlineImage:var E=P[0].cacheKey;if(E){var F=v[E];if(void 0!==F){c.addOp(F.fn,F.args),P=null;continue}}return void a(h.buildPaintImageXObject({resources:o,image:P[0],isInline:!0,operatorList:c,cacheKey:E,imageCache:v}));case i.OPS.showText:P[0]=h.handleText(P[0],w.state);break;case i.OPS.showSpacedText:var R=P[0],B=[],D=R.length,M=w.state;for(u=0;u<D;++u){var L=R[u];(0,i.isString)(L)?Array.prototype.push.apply(B,h.handleText(L,M)):(0,i.isNum)(L)&&B.push(L)}P[0]=B,I=i.OPS.showText;break;case i.OPS.nextLineShowText:c.addOp(i.OPS.nextLine),P[0]=h.handleText(P[0],w.state),I=i.OPS.showText;break;case i.OPS.nextLineSetSpacingShowText:c.addOp(i.OPS.nextLine),c.addOp(i.OPS.setWordSpacing,[P.shift()]),c.addOp(i.OPS.setCharSpacing,[P.shift()]),P[0]=h.handleText(P[0],w.state),I=i.OPS.showText;break;case i.OPS.setTextRenderingMode:w.state.textRenderingMode=P[0];break;case i.OPS.setFillColorSpace:w.state.fillColorSpace=m.ColorSpace.parse(P[0],g,o,h.pdfFunctionFactory);continue;case i.OPS.setStrokeColorSpace:w.state.strokeColorSpace=m.ColorSpace.parse(P[0],g,o,h.pdfFunctionFactory);continue;case i.OPS.setFillColor:A=w.state.fillColorSpace,P=A.getRgb(P,0),I=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeColor:A=w.state.strokeColorSpace,P=A.getRgb(P,0),I=i.OPS.setStrokeRGBColor;break;case i.OPS.setFillGray:w.state.fillColorSpace=m.ColorSpace.singletons.gray,P=m.ColorSpace.singletons.gray.getRgb(P,0),I=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeGray:w.state.strokeColorSpace=m.ColorSpace.singletons.gray,P=m.ColorSpace.singletons.gray.getRgb(P,0),I=i.OPS.setStrokeRGBColor;break;case i.OPS.setFillCMYKColor:w.state.fillColorSpace=m.ColorSpace.singletons.cmyk,P=m.ColorSpace.singletons.cmyk.getRgb(P,0),I=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeCMYKColor:w.state.strokeColorSpace=m.ColorSpace.singletons.cmyk,P=m.ColorSpace.singletons.cmyk.getRgb(P,0),I=i.OPS.setStrokeRGBColor;break;case i.OPS.setFillRGBColor:w.state.fillColorSpace=m.ColorSpace.singletons.rgb,P=m.ColorSpace.singletons.rgb.getRgb(P,0);break;case i.OPS.setStrokeRGBColor:w.state.strokeColorSpace=m.ColorSpace.singletons.rgb,P=m.ColorSpace.singletons.rgb.getRgb(P,0);break;case i.OPS.setFillColorN:if(\"Pattern\"===(A=w.state.fillColorSpace).name)return void a(h.handleColorN(c,i.OPS.setFillColorN,P,A,y,o,n));P=A.getRgb(P,0),I=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeColorN:if(\"Pattern\"===(A=w.state.strokeColorSpace).name)return void a(h.handleColorN(c,i.OPS.setStrokeColorN,P,A,y,o,n));P=A.getRgb(P,0),I=i.OPS.setStrokeRGBColor;break;case i.OPS.shadingFill:var N=o.get(\"Shading\");if(!N)throw new i.FormatError(\"No shading resource found\");var U=N.get(P[0].name);if(!U)throw new i.FormatError(\"No shading object found\");var q=f.Pattern.parseShading(U,null,g,o,h.handler,h.pdfFunctionFactory).getIR();P=[q],I=i.OPS.shadingFill;break;case i.OPS.setGState:var j=P[0],z=o.get(\"ExtGState\");if(!(0,s.isDict)(z)||!z.has(j.name))break;var H=z.get(j.name);return void a(h.setGState(o,H,c,n,w));case i.OPS.moveTo:case i.OPS.lineTo:case i.OPS.curveTo:case i.OPS.curveTo2:case i.OPS.curveTo3:case i.OPS.closePath:case i.OPS.rectangle:h.buildPath(c,I,P,p);continue;case i.OPS.markPoint:case i.OPS.markPointProps:case i.OPS.beginMarkedContent:case i.OPS.beginMarkedContentProps:case i.OPS.endMarkedContent:case i.OPS.beginCompat:case i.OPS.endCompat:continue;default:if(null!==P){for(u=0,x=P.length;u<x&&!(P[u]instanceof s.Dict);u++);if(u<x){(0,i.warn)(\"getOperatorList - ignoring operator: \"+I);continue}}}c.addOp(I,P)}l?a(d):(C(),t())}).catch(function(e){if(t.options.ignoreErrors)return t.handler.send(\"UnsupportedFeature\",{featureId:i.UNSUPPORTED_FEATURES.unknown}),(0,i.warn)('getOperatorList - ignoring errors during \"'.concat(n.name,'\" ')+'task: \"'.concat(e,'\".')),void C();throw e})},getTextContent:function(e){var t=this,a=e.stream,n=e.task,o=e.resources,c=e.stateManager,l=void 0===c?null:c,h=e.normalizeWhitespace,f=void 0!==h&&h,m=e.combineTextItems,p=void 0!==m&&m,v=e.sink,b=e.seenStyles,y=void 0===b?Object.create(null):b;o=o||s.Dict.empty,l=l||new T(new E);var w,k=/\\s/g,S={items:[],styles:Object.create(null)},C={initialized:!1,str:[],width:0,height:0,vertical:!1,lastAdvanceWidth:0,lastAdvanceHeight:0,textAdvanceScale:0,spaceWidth:0,fakeSpaceMin:1/0,fakeMultiSpaceMin:1/0,fakeMultiSpaceMax:-0,textRunBreakAllowed:!1,transform:null,fontName:null},x=.3,A=1.5,_=4,P=this,I=this.xref,O=null,F=Object.create(null),B=new R(a,I,l);function D(){if(C.initialized)return C;var e=w.font;e.loadedName in y||(y[e.loadedName]=!0,S.styles[e.loadedName]={fontFamily:e.fallbackName,ascent:e.ascent,descent:e.descent,vertical:!!e.vertical}),C.fontName=e.loadedName;var t=[w.fontSize*w.textHScale,0,0,w.fontSize,0,w.textRise];if(e.isType3Font&&w.fontSize<=1&&!(0,i.isArrayEqual)(w.fontMatrix,i.FONT_IDENTITY_MATRIX)){var r=e.bbox[3]-e.bbox[1];r>0&&(t[3]*=r*w.fontMatrix[3])}var a=i.Util.transform(w.ctm,i.Util.transform(w.textMatrix,t));C.transform=a,e.vertical?(C.width=Math.sqrt(a[0]*a[0]+a[1]*a[1]),C.height=0,C.vertical=!0):(C.width=0,C.height=Math.sqrt(a[2]*a[2]+a[3]*a[3]),C.vertical=!1);var n=w.textLineMatrix[0],o=w.textLineMatrix[1],s=Math.sqrt(n*n+o*o);n=w.ctm[0],o=w.ctm[1];var c=Math.sqrt(n*n+o*o);C.textAdvanceScale=c*s,C.lastAdvanceWidth=0,C.lastAdvanceHeight=0;var l=e.spaceWidth/1e3*w.fontSize;return l?(C.spaceWidth=l,C.fakeSpaceMin=l*x,C.fakeMultiSpaceMin=l*A,C.fakeMultiSpaceMax=l*_,C.textRunBreakAllowed=!e.isMonospace):(C.spaceWidth=0,C.fakeSpaceMin=1/0,C.fakeMultiSpaceMin=1/0,C.fakeMultiSpaceMax=0,C.textRunBreakAllowed=!1),C.initialized=!0,C}function M(e){for(var t,r=0,a=e.length;r<a&&(t=e.charCodeAt(r))>=32&&t<=127;)r++;return r<a?e.replace(k,\" \"):e}function L(e,t){return P.loadFont(e,t,o).then(function(e){w.font=e.font,w.fontMatrix=e.font.fontMatrix||i.FONT_IDENTITY_MATRIX})}function N(e){for(var t=w.font,r=D(),a=0,n=0,i=t.charsToGlyphs(e),o=0;o<i.length;o++){var s=i[o],c=null;c=t.vertical&&s.vmetric?s.vmetric[0]:s.width;var l=s.unicode,h=(0,u.getNormalizedUnicodes)();void 0!==h[l]&&(l=h[l]),l=(0,u.reverseIfRtl)(l);var f=w.charSpacing;if(s.isSpace){var d=w.wordSpacing;f+=d,d>0&&U(d,r.str)}var g=0,m=0;if(t.vertical)n+=m=c*w.fontMatrix[0]*w.fontSize+f;else a+=g=(c*w.fontMatrix[0]*w.fontSize+f)*w.textHScale;w.translateTextMatrix(g,m),r.str.push(l)}return t.vertical?(r.lastAdvanceHeight=n,r.height+=Math.abs(n)):(r.lastAdvanceWidth=a,r.width+=a),r}function U(e,t){if(!(e<C.fakeSpaceMin))if(e<C.fakeMultiSpaceMin)t.push(\" \");else for(var r=Math.round(e/C.spaceWidth);r-- >0;)t.push(\" \")}function q(){var e,t,r;C.initialized&&(C.vertical?C.height*=C.textAdvanceScale:C.width*=C.textAdvanceScale,S.items.push((t=(e=C).str.join(\"\"),r=(0,g.bidi)(t,-1,e.vertical),{str:f?M(r.str):r.str,dir:r.dir,width:e.width,height:e.height,transform:e.transform,fontName:e.fontName})),C.initialized=!1,C.str.length=0)}function j(){var e=S.items.length;e>0&&(v.enqueue(S,e),S.items=[],S.styles=Object.create(null))}var z=new r;return new Promise(function e(t,r){var a=function(a){j(),Promise.all([a,v.ready]).then(function(){try{e(t,r)}catch(e){r(e)}},r)};n.ensureNotTerminated(),z.reset();for(var c,u={},h=[];!(c=z.check())&&(h.length=0,u.args=h,B.read(u));){w=l.state;var g,m=u.fn;switch(h=u.args,0|m){case i.OPS.setFont:var b=h[0].name,k=h[1];if(w.font&&b===w.fontName&&k===w.fontSize)break;return q(),w.fontName=b,w.fontSize=k,void a(L(b,null));case i.OPS.setTextRise:q(),w.textRise=h[0];break;case i.OPS.setHScale:q(),w.textHScale=h[0]/100;break;case i.OPS.setLeading:q(),w.leading=h[0];break;case i.OPS.moveText:var x=!!w.font&&0===(w.font.vertical?h[0]:h[1]);if(g=h[0]-h[1],p&&x&&C.initialized&&g>0&&g<=C.fakeMultiSpaceMax){w.translateTextLineMatrix(h[0],h[1]),C.width+=h[0]-C.lastAdvanceWidth,C.height+=h[1]-C.lastAdvanceHeight,U(h[0]-C.lastAdvanceWidth-(h[1]-C.lastAdvanceHeight),C.str);break}q(),w.translateTextLineMatrix(h[0],h[1]),w.textMatrix=w.textLineMatrix.slice();break;case i.OPS.setLeadingMoveText:q(),w.leading=-h[1],w.translateTextLineMatrix(h[0],h[1]),w.textMatrix=w.textLineMatrix.slice();break;case i.OPS.nextLine:q(),w.carriageReturn();break;case i.OPS.setTextMatrix:if(g=w.calcTextLineMatrixAdvance(h[0],h[1],h[2],h[3],h[4],h[5]),p&&null!==g&&C.initialized&&g.value>0&&g.value<=C.fakeMultiSpaceMax){w.translateTextLineMatrix(g.width,g.height),C.width+=g.width-C.lastAdvanceWidth,C.height+=g.height-C.lastAdvanceHeight,U(g.width-C.lastAdvanceWidth-(g.height-C.lastAdvanceHeight),C.str);break}q(),w.setTextMatrix(h[0],h[1],h[2],h[3],h[4],h[5]),w.setTextLineMatrix(h[0],h[1],h[2],h[3],h[4],h[5]);break;case i.OPS.setCharSpacing:w.charSpacing=h[0];break;case i.OPS.setWordSpacing:w.wordSpacing=h[0];break;case i.OPS.beginText:q(),w.textMatrix=i.IDENTITY_MATRIX.slice(),w.textLineMatrix=i.IDENTITY_MATRIX.slice();break;case i.OPS.showSpacedText:for(var A,_=h[0],I=0,E=_.length;I<E;I++)if(\"string\"==typeof _[I])N(_[I]);else if((0,i.isNum)(_[I])){D(),g=_[I]*w.fontSize/1e3;var R=!1;w.font.vertical?(A=g,w.translateTextMatrix(0,A),(R=C.textRunBreakAllowed&&g>C.fakeMultiSpaceMax)||(C.height+=A)):(A=(g=-g)*w.textHScale,w.translateTextMatrix(A,0),(R=C.textRunBreakAllowed&&g>C.fakeMultiSpaceMax)||(C.width+=A)),R?q():g>0&&U(g,C.str)}break;case i.OPS.showText:N(h[0]);break;case i.OPS.nextLineShowText:q(),w.carriageReturn(),N(h[0]);break;case i.OPS.nextLineSetSpacingShowText:q(),w.wordSpacing=h[0],w.charSpacing=h[1],w.carriageReturn(),N(h[2]);break;case i.OPS.paintXObject:q(),O||(O=o.get(\"XObject\")||s.Dict.empty);var M=h[0].name;if(M&&void 0!==F[M])break;return void a(new Promise(function(e,t){if(!M)throw new i.FormatError(\"XObject must be referred to by name.\");var r=O.get(M);if(r){if(!(0,s.isStream)(r))throw new i.FormatError(\"XObject should be a stream\");var a=r.dict.get(\"Subtype\");if(!(0,s.isName)(a))throw new i.FormatError(\"XObject should have a Name subtype\");if(\"Form\"!==a.name)return F[M]=!0,void e();var c=l.state.clone(),u=new T(c),h=r.dict.getArray(\"Matrix\");Array.isArray(h)&&6===h.length&&u.transform(h),j();var d={enqueueInvoked:!1,enqueue:function(e,t){this.enqueueInvoked=!0,v.enqueue(e,t)},get desiredSize(){return v.desiredSize},get ready(){return v.ready}};P.getTextContent({stream:r,task:n,resources:r.dict.get(\"Resources\")||o,stateManager:u,normalizeWhitespace:f,combineTextItems:p,sink:d,seenStyles:y}).then(function(){d.enqueueInvoked||(F[M]=!0),e()},t)}else e()}).catch(function(e){if(!(e instanceof i.AbortException)){if(!P.options.ignoreErrors)throw e;(0,i.warn)('getTextContent - ignoring XObject: \"'.concat(e,'\".'))}}));case i.OPS.setGState:q();var H=h[0],W=o.get(\"ExtGState\");if(!(0,s.isDict)(W)||!(0,s.isName)(H))break;var G=W.get(H.name);if(!(0,s.isDict)(G))break;var X=G.get(\"Font\");if(X)return w.fontName=null,w.fontSize=X[1],void a(L(null,X[0]))}if(S.items.length>=v.desiredSize){c=!0;break}}c?a(d):(q(),j(),t())}).catch(function(e){if(!(e instanceof i.AbortException)){if(t.options.ignoreErrors)return(0,i.warn)('getTextContent - ignoring errors during \"'.concat(n.name,'\" ')+'task: \"'.concat(e,'\".')),q(),void j();throw e}})},extractDataStructures:function(e,t,r){var a,n=this,o=this.xref,u=e.get(\"ToUnicode\")||t.get(\"ToUnicode\"),h=u?this.readToUnicode(u):Promise.resolve(void 0);if(r.composite){var f=e.get(\"CIDSystemInfo\");(0,s.isDict)(f)&&(r.cidSystemInfo={registry:(0,i.stringToPDFString)(f.get(\"Registry\")),ordering:(0,i.stringToPDFString)(f.get(\"Ordering\")),supplement:f.get(\"Supplement\")});var d=e.get(\"CIDToGIDMap\");(0,s.isStream)(d)&&(a=d.getBytes())}var g,m=[],p=null;if(e.has(\"Encoding\")){if(g=e.get(\"Encoding\"),(0,s.isDict)(g)){if(p=g.get(\"BaseEncoding\"),p=(0,s.isName)(p)?p.name:null,g.has(\"Differences\"))for(var v=g.get(\"Differences\"),b=0,y=0,w=v.length;y<w;y++){var k=o.fetchIfRef(v[y]);if((0,i.isNum)(k))b=k;else{if(!(0,s.isName)(k))throw new i.FormatError(\"Invalid entry in 'Differences' array: \".concat(k));m[b++]=k.name}}}else{if(!(0,s.isName)(g))throw new i.FormatError(\"Encoding is not a Name nor a Dict\");p=g.name}\"MacRomanEncoding\"!==p&&\"MacExpertEncoding\"!==p&&\"WinAnsiEncoding\"!==p&&(p=null)}if(p)r.defaultEncoding=(0,l.getEncoding)(p).slice();else{var S=!!(r.flags&c.FontFlags.Symbolic),C=!!(r.flags&c.FontFlags.Nonsymbolic);g=l.StandardEncoding,\"TrueType\"!==r.type||C||(g=l.WinAnsiEncoding),S&&(g=l.MacRomanEncoding,r.file||(/Symbol/i.test(r.name)?g=l.SymbolSetEncoding:/Dingbats/i.test(r.name)&&(g=l.ZapfDingbatsEncoding))),r.defaultEncoding=g}return r.differences=m,r.baseEncodingName=p,r.hasEncoding=!!p||m.length>0,r.dict=e,h.then(function(e){return r.toUnicode=e,n.buildToUnicode(r)}).then(function(e){return r.toUnicode=e,a&&(r.cidToGidMap=n.readCidToGidMap(a,e)),r})},_buildSimpleFontToUnicode:function(e){(0,i.assert)(!e.composite,\"Must be a simple font.\");var t,r,a=[],n=e.defaultEncoding.slice(),o=e.baseEncodingName,s=e.differences;for(t in s)\".notdef\"!==(r=s[t])&&(n[t]=r);var h=(0,v.getGlyphsUnicode)();for(t in n)if(\"\"!==(r=n[t]))if(void 0!==h[r])a[t]=String.fromCharCode(h[r]);else{var f=0;switch(r[0]){case\"G\":3===r.length&&(f=parseInt(r.substring(1),16));break;case\"g\":5===r.length&&(f=parseInt(r.substring(1),16));break;case\"C\":case\"c\":r.length>=3&&(f=+r.substring(1));break;default:var d=(0,u.getUnicodeForGlyph)(r,h);-1!==d&&(f=d)}if(f){if(o&&f===+t){var g=(0,l.getEncoding)(o);if(g&&(r=g[t])){a[t]=String.fromCharCode(h[r]);continue}}a[t]=String.fromCodePoint(f)}}return new c.ToUnicodeMap(a)},buildToUnicode:function(e){if(e.hasIncludedToUnicodeMap=!!e.toUnicode&&e.toUnicode.length>0,e.hasIncludedToUnicodeMap)return!e.composite&&e.hasEncoding&&(e.fallbackToUnicode=this._buildSimpleFontToUnicode(e)),Promise.resolve(e.toUnicode);if(!e.composite)return Promise.resolve(this._buildSimpleFontToUnicode(e));if(e.composite&&(e.cMap.builtInCMap&&!(e.cMap instanceof o.IdentityCMap)||\"Adobe\"===e.cidSystemInfo.registry&&(\"GB1\"===e.cidSystemInfo.ordering||\"CNS1\"===e.cidSystemInfo.ordering||\"Japan1\"===e.cidSystemInfo.ordering||\"Korea1\"===e.cidSystemInfo.ordering))){var t=e.cidSystemInfo.registry,r=e.cidSystemInfo.ordering,a=s.Name.get(t+\"-\"+r+\"-UCS2\");return o.CMapFactory.create({encoding:a,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(t){var r=e.cMap,a=[];return r.forEach(function(e,r){if(r>65535)throw new i.FormatError(\"Max size of CID is 65,535\");var n=t.lookup(r);n&&(a[e]=String.fromCharCode((n.charCodeAt(0)<<8)+n.charCodeAt(1)))}),new c.ToUnicodeMap(a)})}return Promise.resolve(new c.IdentityToUnicodeMap(e.firstChar,e.lastChar))},readToUnicode:function(e){var t=e;return(0,s.isName)(t)?o.CMapFactory.create({encoding:t,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(e){return e instanceof o.IdentityCMap?new c.IdentityToUnicodeMap(0,65535):new c.ToUnicodeMap(e.getMap())}):(0,s.isStream)(t)?o.CMapFactory.create({encoding:t,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(e){if(e instanceof o.IdentityCMap)return new c.IdentityToUnicodeMap(0,65535);var t=new Array(e.length);return e.forEach(function(e,r){for(var a=[],n=0;n<r.length;n+=2){var i=r.charCodeAt(n)<<8|r.charCodeAt(n+1);if(55296==(63488&i)){n+=2;var o=r.charCodeAt(n)<<8|r.charCodeAt(n+1);a.push(((1023&i)<<10)+(1023&o)+65536)}else a.push(i)}t[e]=String.fromCodePoint.apply(String,a)}),new c.ToUnicodeMap(t)}):Promise.resolve(null)},readCidToGidMap:function(e,t){for(var r=[],a=0,n=e.length;a<n;a++){var i=e[a++]<<8|e[a],o=a>>1;(0!==i||t.has(o))&&(r[o]=i)}return r},extractWidths:function(e,t,r){var a,n,i,o,l,u,h,f,d=this.xref,g=[],m=0,p=[];if(r.composite){if(m=e.has(\"DW\")?e.get(\"DW\"):1e3,f=e.get(\"W\"))for(n=0,i=f.length;n<i;n++)if(u=d.fetchIfRef(f[n++]),h=d.fetchIfRef(f[n]),Array.isArray(h))for(o=0,l=h.length;o<l;o++)g[u++]=d.fetchIfRef(h[o]);else{var v=d.fetchIfRef(f[++n]);for(o=u;o<=h;o++)g[o]=v}if(r.vertical){var b=e.getArray(\"DW2\")||[880,-1e3];if(a=[b[1],.5*m,b[0]],b=e.get(\"W2\"))for(n=0,i=b.length;n<i;n++)if(u=d.fetchIfRef(b[n++]),h=d.fetchIfRef(b[n]),Array.isArray(h))for(o=0,l=h.length;o<l;o++)p[u++]=[d.fetchIfRef(h[o++]),d.fetchIfRef(h[o++]),d.fetchIfRef(h[o])];else{var y=[d.fetchIfRef(b[++n]),d.fetchIfRef(b[++n]),d.fetchIfRef(b[++n])];for(o=u;o<=h;o++)p[o]=y}}}else{var w=r.firstChar;if(f=e.get(\"Widths\")){for(o=w,n=0,i=f.length;n<i;n++)g[o++]=d.fetchIfRef(f[n]);m=parseFloat(t.get(\"MissingWidth\"))||0}else{var k=e.get(\"BaseFont\");if((0,s.isName)(k)){var S=this.getBaseFontMetrics(k.name);g=this.buildCharCodeToWidth(S.widths,r),m=S.defaultWidth}}}var C=!0,x=m;for(var A in g){var _=g[A];if(_)if(x){if(x!==_){C=!1;break}}else x=_}C&&(r.flags|=c.FontFlags.FixedPitch),r.defaultWidth=m,r.widths=g,r.defaultVMetrics=a,r.vmetrics=p},isSerifFont:function(e){var t=e.split(\"-\")[0];return t in(0,h.getSerifFonts)()||-1!==t.search(/serif/gi)},getBaseFontMetrics:function(e){var t=0,r=[],a=!1,n=(0,h.getStdFontMap)()[e]||e,o=(0,y.getMetrics)();n in o||(n=this.isSerifFont(e)?\"Times-Roman\":\"Helvetica\");var s=o[n];return(0,i.isNum)(s)?(t=s,a=!0):r=s(),{defaultWidth:t,monospace:a,widths:r}},buildCharCodeToWidth:function(e,t){for(var r=Object.create(null),a=t.differences,n=t.defaultEncoding,i=0;i<256;i++)i in a&&e[a[i]]?r[i]=e[a[i]]:i in n&&e[n[i]]&&(r[i]=e[n[i]]);return r},preEvaluateFont:function(e){var t=e,r=e.get(\"Subtype\");if(!(0,s.isName)(r))throw new i.FormatError(\"invalid font Subtype\");var a,n=!1;if(\"Type0\"===r.name){var o=e.get(\"DescendantFonts\");if(!o)throw new i.FormatError(\"Descendant fonts are not specified\");if(r=(e=Array.isArray(o)?this.xref.fetchIfRef(o[0]):o).get(\"Subtype\"),!(0,s.isName)(r))throw new i.FormatError(\"invalid font Subtype\");n=!0}var c=e.get(\"FontDescriptor\");if(c){var l=new S.MurmurHash3_64,u=t.getRaw(\"Encoding\");if((0,s.isName)(u))l.update(u.name);else if((0,s.isRef)(u))l.update(u.toString());else if((0,s.isDict)(u))for(var h=u.getKeys(),f=0,d=h.length;f<d;f++){var g=u.getRaw(h[f]);if((0,s.isName)(g))l.update(g.name);else if((0,s.isRef)(g))l.update(g.toString());else if(Array.isArray(g)){for(var m=g.length,p=new Array(m),v=0;v<m;v++){var b=g[v];(0,s.isName)(b)?p[v]=b.name:((0,i.isNum)(b)||(0,s.isRef)(b))&&(p[v]=b.toString())}l.update(p.join())}}var y=e.get(\"FirstChar\")||0,w=e.get(\"LastChar\")||(n?65535:255);l.update(\"\".concat(y,\"-\").concat(w));var k=e.get(\"ToUnicode\")||t.get(\"ToUnicode\");if((0,s.isStream)(k)){var C=k.str||k;a=C.buffer?new Uint8Array(C.buffer.buffer,0,C.bufferLength):new Uint8Array(C.bytes.buffer,C.start,C.end-C.start),l.update(a)}else(0,s.isName)(k)&&l.update(k.name);var x=e.get(\"Widths\")||t.get(\"Widths\");x&&(a=new Uint8Array(new Uint32Array(x).buffer),l.update(a))}return{descriptor:c,dict:e,baseDict:t,composite:n,type:r.name,hash:l?l.hexdigest():\"\"}},translateFont:function(e){var t,r=this,a=e.baseDict,n=e.dict,l=e.composite,u=e.descriptor,f=e.type,d=l?65535:255;if(!u){if(\"Type3\"!==f){var g=n.get(\"BaseFont\");if(!(0,s.isName)(g))throw new i.FormatError(\"Base font is not specified\");g=g.name.replace(/[,_]/g,\"-\");var m=this.getBaseFontMetrics(g),p=g.split(\"-\")[0],v=(this.isSerifFont(p)?c.FontFlags.Serif:0)|(m.monospace?c.FontFlags.FixedPitch:0)|((0,h.getSymbolsFonts)()[p]?c.FontFlags.Symbolic:c.FontFlags.Nonsymbolic);return t={type:f,name:g,widths:m.widths,defaultWidth:m.defaultWidth,flags:v,firstChar:0,lastChar:d},this.extractDataStructures(n,n,t).then(function(e){return e.widths=r.buildCharCodeToWidth(m.widths,e),new c.Font(g,null,e)})}(u=new s.Dict(null)).set(\"FontName\",s.Name.get(f)),u.set(\"FontBBox\",n.getArray(\"FontBBox\"))}var b=n.get(\"FirstChar\")||0,y=n.get(\"LastChar\")||d,w=u.get(\"FontName\"),k=n.get(\"BaseFont\");if((0,i.isString)(w)&&(w=s.Name.get(w)),(0,i.isString)(k)&&(k=s.Name.get(k)),\"Type3\"!==f){var S=w&&w.name,C=k&&k.name;S!==C&&((0,i.info)(\"The FontDescriptor's FontName is \\\"\".concat(S,'\" but ')+\"should be the same as the Font's BaseFont \\\"\".concat(C,'\".')),S&&C&&C.startsWith(S)&&(w=k))}if(w=w||k,!(0,s.isName)(w))throw new i.FormatError(\"invalid font name\");var x,A=u.get(\"FontFile\",\"FontFile2\",\"FontFile3\");if(A&&A.dict){var _=A.dict.get(\"Subtype\");_&&(_=_.name);var P=A.dict.get(\"Length1\"),I=A.dict.get(\"Length2\"),O=A.dict.get(\"Length3\")}if(t={type:f,name:w.name,subtype:_,file:A,length1:P,length2:I,length3:O,loadedName:a.loadedName,composite:l,wideChars:l,fixedPitch:!1,fontMatrix:n.getArray(\"FontMatrix\")||i.FONT_IDENTITY_MATRIX,firstChar:b||0,lastChar:y||d,bbox:u.getArray(\"FontBBox\"),ascent:u.get(\"Ascent\"),descent:u.get(\"Descent\"),xHeight:u.get(\"XHeight\"),capHeight:u.get(\"CapHeight\"),flags:u.get(\"Flags\"),italicAngle:u.get(\"ItalicAngle\"),isType3Font:!1},l){var T=a.get(\"Encoding\");(0,s.isName)(T)&&(t.cidEncoding=T.name),x=o.CMapFactory.create({encoding:T,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(e){t.cMap=e,t.vertical=t.cMap.vertical})}else x=Promise.resolve(void 0);return x.then(function(){return r.extractDataStructures(n,a,t)}).then(function(e){return r.extractWidths(n,u,e),\"Type3\"===f&&(e.isType3Font=!0),new c.Font(w.name,A,e)})}},t.buildFontPaths=function(e,t,r){function a(t){e.renderer.hasBuiltPath(t)||r.send(\"commonobj\",[\"\".concat(e.loadedName,\"_path_\").concat(t),\"FontPath\",e.renderer.getPathJs(t)])}var n=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;a(l.fontChar);var u=l.accent;u&&u.fontChar&&a(u.fontChar)}}catch(e){i=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}},t}();t.PartialEvaluator=I;var O=function(){function e(e,t,r){this.loadedName=e,this.font=t,this.dict=r,this.type3Loaded=null,this.sent=!1}return e.prototype={send:function(e){this.sent||(this.sent=!0,e.send(\"commonobj\",[this.loadedName,\"Font\",this.font.exportData()]))},fallback:function(e){if(this.font.data){this.font.disableFontFace=!0;var t=this.font.glyphCacheValues;I.buildFontPaths(this.font,t,e)}},loadType3Data:function(e,t,r,a){if(!this.font.isType3Font)throw new Error(\"Must be a Type3 font.\");if(this.type3Loaded)return this.type3Loaded;var n=Object.create(e.options);n.ignoreErrors=!1,n.nativeImageDecoderSupport=i.NativeImageDecoding.NONE;var o=e.clone(n);o.parsingType3Font=!0;for(var s=this.font,c=Promise.resolve(),l=this.dict.get(\"CharProcs\"),u=this.dict.get(\"Resources\")||t,h=l.getKeys(),f=Object.create(null),d=function(){var e=h[g];c=c.then(function(){var t=l.get(e),n=new x.OperatorList;return o.getOperatorList({stream:t,task:a,resources:u,operatorList:n}).then(function(){f[e]=n.getIR(),r.addDependencies(n.dependencies)}).catch(function(t){(0,i.warn)('Type3 font resource \"'.concat(e,'\" is not available.'));var r=new x.OperatorList;f[e]=r.getIR()})})},g=0,m=h.length;g<m;++g)d();return this.type3Loaded=c.then(function(){s.charProcOperatorList=f}),this.type3Loaded}},e}(),T=function(){function e(e){this.state=e,this.stateStack=[]}return e.prototype={save:function(){var e=this.state;this.stateStack.push(this.state),this.state=e.clone()},restore:function(){var e=this.stateStack.pop();e&&(this.state=e)},transform:function(e){this.state.ctm=i.Util.transform(this.state.ctm,e)}},e}(),E=function(){function e(){this.ctm=new Float32Array(i.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.textMatrix=i.IDENTITY_MATRIX.slice(),this.textLineMatrix=i.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}return e.prototype={setTextMatrix:function(e,t,r,a,n,i){var o=this.textMatrix;o[0]=e,o[1]=t,o[2]=r,o[3]=a,o[4]=n,o[5]=i},setTextLineMatrix:function(e,t,r,a,n,i){var o=this.textLineMatrix;o[0]=e,o[1]=t,o[2]=r,o[3]=a,o[4]=n,o[5]=i},translateTextMatrix:function(e,t){var r=this.textMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5]},translateTextLineMatrix:function(e,t){var r=this.textLineMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5]},calcTextLineMatrixAdvance:function(e,t,r,a,n,i){var o=this.font;if(!o)return null;var s=this.textLineMatrix;if(e!==s[0]||t!==s[1]||r!==s[2]||a!==s[3])return null;var c=n-s[4],l=i-s[5];if(o.vertical&&0!==c||!o.vertical&&0!==l)return null;var u,h,f=e*a-t*r;return o.vertical?(u=-l*r/f,h=l*e/f):(u=c*a/f,h=-c*t/f),{width:u,height:h,value:o.vertical?h:u}},calcRenderMatrix:function(e){var t=[this.fontSize*this.textHScale,0,0,this.fontSize,0,this.textRise];return i.Util.transform(e,i.Util.transform(this.textMatrix,t))},carriageReturn:function(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()},clone:function(){var e=Object.create(this);return e.textMatrix=this.textMatrix.slice(),e.textLineMatrix=this.textLineMatrix.slice(),e.fontMatrix=this.fontMatrix.slice(),e}},e}(),F=function(){function e(){this.ctm=new Float32Array(i.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=i.TextRenderingMode.FILL,this.fillColorSpace=m.ColorSpace.singletons.gray,this.strokeColorSpace=m.ColorSpace.singletons.gray}return e.prototype={clone:function(){return Object.create(this)}},e}(),R=function(){var e=(0,b.getLookupTableFactory)(function(e){e.w={id:i.OPS.setLineWidth,numArgs:1,variableArgs:!1},e.J={id:i.OPS.setLineCap,numArgs:1,variableArgs:!1},e.j={id:i.OPS.setLineJoin,numArgs:1,variableArgs:!1},e.M={id:i.OPS.setMiterLimit,numArgs:1,variableArgs:!1},e.d={id:i.OPS.setDash,numArgs:2,variableArgs:!1},e.ri={id:i.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},e.i={id:i.OPS.setFlatness,numArgs:1,variableArgs:!1},e.gs={id:i.OPS.setGState,numArgs:1,variableArgs:!1},e.q={id:i.OPS.save,numArgs:0,variableArgs:!1},e.Q={id:i.OPS.restore,numArgs:0,variableArgs:!1},e.cm={id:i.OPS.transform,numArgs:6,variableArgs:!1},e.m={id:i.OPS.moveTo,numArgs:2,variableArgs:!1},e.l={id:i.OPS.lineTo,numArgs:2,variableArgs:!1},e.c={id:i.OPS.curveTo,numArgs:6,variableArgs:!1},e.v={id:i.OPS.curveTo2,numArgs:4,variableArgs:!1},e.y={id:i.OPS.curveTo3,numArgs:4,variableArgs:!1},e.h={id:i.OPS.closePath,numArgs:0,variableArgs:!1},e.re={id:i.OPS.rectangle,numArgs:4,variableArgs:!1},e.S={id:i.OPS.stroke,numArgs:0,variableArgs:!1},e.s={id:i.OPS.closeStroke,numArgs:0,variableArgs:!1},e.f={id:i.OPS.fill,numArgs:0,variableArgs:!1},e.F={id:i.OPS.fill,numArgs:0,variableArgs:!1},e[\"f*\"]={id:i.OPS.eoFill,numArgs:0,variableArgs:!1},e.B={id:i.OPS.fillStroke,numArgs:0,variableArgs:!1},e[\"B*\"]={id:i.OPS.eoFillStroke,numArgs:0,variableArgs:!1},e.b={id:i.OPS.closeFillStroke,numArgs:0,variableArgs:!1},e[\"b*\"]={id:i.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},e.n={id:i.OPS.endPath,numArgs:0,variableArgs:!1},e.W={id:i.OPS.clip,numArgs:0,variableArgs:!1},e[\"W*\"]={id:i.OPS.eoClip,numArgs:0,variableArgs:!1},e.BT={id:i.OPS.beginText,numArgs:0,variableArgs:!1},e.ET={id:i.OPS.endText,numArgs:0,variableArgs:!1},e.Tc={id:i.OPS.setCharSpacing,numArgs:1,variableArgs:!1},e.Tw={id:i.OPS.setWordSpacing,numArgs:1,variableArgs:!1},e.Tz={id:i.OPS.setHScale,numArgs:1,variableArgs:!1},e.TL={id:i.OPS.setLeading,numArgs:1,variableArgs:!1},e.Tf={id:i.OPS.setFont,numArgs:2,variableArgs:!1},e.Tr={id:i.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},e.Ts={id:i.OPS.setTextRise,numArgs:1,variableArgs:!1},e.Td={id:i.OPS.moveText,numArgs:2,variableArgs:!1},e.TD={id:i.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},e.Tm={id:i.OPS.setTextMatrix,numArgs:6,variableArgs:!1},e[\"T*\"]={id:i.OPS.nextLine,numArgs:0,variableArgs:!1},e.Tj={id:i.OPS.showText,numArgs:1,variableArgs:!1},e.TJ={id:i.OPS.showSpacedText,numArgs:1,variableArgs:!1},e[\"'\"]={id:i.OPS.nextLineShowText,numArgs:1,variableArgs:!1},e['\"']={id:i.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},e.d0={id:i.OPS.setCharWidth,numArgs:2,variableArgs:!1},e.d1={id:i.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},e.CS={id:i.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},e.cs={id:i.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},e.SC={id:i.OPS.setStrokeColor,numArgs:4,variableArgs:!0},e.SCN={id:i.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},e.sc={id:i.OPS.setFillColor,numArgs:4,variableArgs:!0},e.scn={id:i.OPS.setFillColorN,numArgs:33,variableArgs:!0},e.G={id:i.OPS.setStrokeGray,numArgs:1,variableArgs:!1},e.g={id:i.OPS.setFillGray,numArgs:1,variableArgs:!1},e.RG={id:i.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},e.rg={id:i.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},e.K={id:i.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},e.k={id:i.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},e.sh={id:i.OPS.shadingFill,numArgs:1,variableArgs:!1},e.BI={id:i.OPS.beginInlineImage,numArgs:0,variableArgs:!1},e.ID={id:i.OPS.beginImageData,numArgs:0,variableArgs:!1},e.EI={id:i.OPS.endInlineImage,numArgs:1,variableArgs:!1},e.Do={id:i.OPS.paintXObject,numArgs:1,variableArgs:!1},e.MP={id:i.OPS.markPoint,numArgs:1,variableArgs:!1},e.DP={id:i.OPS.markPointProps,numArgs:2,variableArgs:!1},e.BMC={id:i.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},e.BDC={id:i.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},e.EMC={id:i.OPS.endMarkedContent,numArgs:0,variableArgs:!1},e.BX={id:i.OPS.beginCompat,numArgs:0,variableArgs:!1},e.EX={id:i.OPS.endCompat,numArgs:0,variableArgs:!1},e.BM=null,e.BD=null,e.true=null,e.fa=null,e.fal=null,e.fals=null,e.false=null,e.nu=null,e.nul=null,e.null=null});function t(t,r,a){this.opMap=e(),this.parser=new d.Parser(new d.Lexer(t,this.opMap),!1,r),this.stateManager=a,this.nonProcessedArgs=[],this._numInvalidPathOPS=0}return t.prototype={get savedStatesDepth(){return this.stateManager.stateStack.length},read:function(e){for(var t=e.args;;){var r=this.parser.getObj();if((0,s.isCmd)(r)){var a=r.cmd,n=this.opMap[a];if(!n){(0,i.warn)('Unknown command \"'.concat(a,'\".'));continue}var o=n.id,c=n.numArgs,l=null!==t?t.length:0;if(n.variableArgs)l>c&&(0,i.info)(\"Command \".concat(a,\": expected [0, \").concat(c,\"] args, \")+\"but received \".concat(l,\" args.\"));else{if(l!==c){for(var u=this.nonProcessedArgs;l>c;)u.push(t.shift()),l--;for(;l<c&&0!==u.length;)null===t&&(t=[]),t.unshift(u.pop()),l++}if(l<c){var h=\"command \".concat(a,\": expected \").concat(c,\" args, \")+\"but received \".concat(l,\" args.\");if(o>=i.OPS.moveTo&&o<=i.OPS.endPath&&++this._numInvalidPathOPS>20)throw new i.FormatError(\"Invalid \".concat(h));(0,i.warn)(\"Skipping \".concat(h)),null!==t&&(t.length=0);continue}}return this.preprocessCommand(o,t),e.fn=o,e.args=t,!0}if((0,s.isEOF)(r))return!1;if(null!==r&&(null===t&&(t=[]),t.push(r),t.length>33))throw new i.FormatError(\"Too many arguments\")}},preprocessCommand:function(e,t){switch(0|e){case i.OPS.save:this.stateManager.save();break;case i.OPS.restore:this.stateManager.restore();break;case i.OPS.transform:this.stateManager.transform(t)}}},t}()},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CMapFactory=t.IdentityCMap=t.CMap=void 0;var a=r(5),n=r(156),i=r(157),o=r(153),s=r(158);function c(e){return(c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function l(e,t){return!t||\"object\"!==c(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function d(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}var m=[\"Adobe-GB1-UCS2\",\"Adobe-CNS1-UCS2\",\"Adobe-Japan1-UCS2\",\"Adobe-Korea1-UCS2\",\"78-EUC-H\",\"78-EUC-V\",\"78-H\",\"78-RKSJ-H\",\"78-RKSJ-V\",\"78-V\",\"78ms-RKSJ-H\",\"78ms-RKSJ-V\",\"83pv-RKSJ-H\",\"90ms-RKSJ-H\",\"90ms-RKSJ-V\",\"90msp-RKSJ-H\",\"90msp-RKSJ-V\",\"90pv-RKSJ-H\",\"90pv-RKSJ-V\",\"Add-H\",\"Add-RKSJ-H\",\"Add-RKSJ-V\",\"Add-V\",\"Adobe-CNS1-0\",\"Adobe-CNS1-1\",\"Adobe-CNS1-2\",\"Adobe-CNS1-3\",\"Adobe-CNS1-4\",\"Adobe-CNS1-5\",\"Adobe-CNS1-6\",\"Adobe-GB1-0\",\"Adobe-GB1-1\",\"Adobe-GB1-2\",\"Adobe-GB1-3\",\"Adobe-GB1-4\",\"Adobe-GB1-5\",\"Adobe-Japan1-0\",\"Adobe-Japan1-1\",\"Adobe-Japan1-2\",\"Adobe-Japan1-3\",\"Adobe-Japan1-4\",\"Adobe-Japan1-5\",\"Adobe-Japan1-6\",\"Adobe-Korea1-0\",\"Adobe-Korea1-1\",\"Adobe-Korea1-2\",\"B5-H\",\"B5-V\",\"B5pc-H\",\"B5pc-V\",\"CNS-EUC-H\",\"CNS-EUC-V\",\"CNS1-H\",\"CNS1-V\",\"CNS2-H\",\"CNS2-V\",\"ETHK-B5-H\",\"ETHK-B5-V\",\"ETen-B5-H\",\"ETen-B5-V\",\"ETenms-B5-H\",\"ETenms-B5-V\",\"EUC-H\",\"EUC-V\",\"Ext-H\",\"Ext-RKSJ-H\",\"Ext-RKSJ-V\",\"Ext-V\",\"GB-EUC-H\",\"GB-EUC-V\",\"GB-H\",\"GB-V\",\"GBK-EUC-H\",\"GBK-EUC-V\",\"GBK2K-H\",\"GBK2K-V\",\"GBKp-EUC-H\",\"GBKp-EUC-V\",\"GBT-EUC-H\",\"GBT-EUC-V\",\"GBT-H\",\"GBT-V\",\"GBTpc-EUC-H\",\"GBTpc-EUC-V\",\"GBpc-EUC-H\",\"GBpc-EUC-V\",\"H\",\"HKdla-B5-H\",\"HKdla-B5-V\",\"HKdlb-B5-H\",\"HKdlb-B5-V\",\"HKgccs-B5-H\",\"HKgccs-B5-V\",\"HKm314-B5-H\",\"HKm314-B5-V\",\"HKm471-B5-H\",\"HKm471-B5-V\",\"HKscs-B5-H\",\"HKscs-B5-V\",\"Hankaku\",\"Hiragana\",\"KSC-EUC-H\",\"KSC-EUC-V\",\"KSC-H\",\"KSC-Johab-H\",\"KSC-Johab-V\",\"KSC-V\",\"KSCms-UHC-H\",\"KSCms-UHC-HW-H\",\"KSCms-UHC-HW-V\",\"KSCms-UHC-V\",\"KSCpc-EUC-H\",\"KSCpc-EUC-V\",\"Katakana\",\"NWP-H\",\"NWP-V\",\"RKSJ-H\",\"RKSJ-V\",\"Roman\",\"UniCNS-UCS2-H\",\"UniCNS-UCS2-V\",\"UniCNS-UTF16-H\",\"UniCNS-UTF16-V\",\"UniCNS-UTF32-H\",\"UniCNS-UTF32-V\",\"UniCNS-UTF8-H\",\"UniCNS-UTF8-V\",\"UniGB-UCS2-H\",\"UniGB-UCS2-V\",\"UniGB-UTF16-H\",\"UniGB-UTF16-V\",\"UniGB-UTF32-H\",\"UniGB-UTF32-V\",\"UniGB-UTF8-H\",\"UniGB-UTF8-V\",\"UniJIS-UCS2-H\",\"UniJIS-UCS2-HW-H\",\"UniJIS-UCS2-HW-V\",\"UniJIS-UCS2-V\",\"UniJIS-UTF16-H\",\"UniJIS-UTF16-V\",\"UniJIS-UTF32-H\",\"UniJIS-UTF32-V\",\"UniJIS-UTF8-H\",\"UniJIS-UTF8-V\",\"UniJIS2004-UTF16-H\",\"UniJIS2004-UTF16-V\",\"UniJIS2004-UTF32-H\",\"UniJIS2004-UTF32-V\",\"UniJIS2004-UTF8-H\",\"UniJIS2004-UTF8-V\",\"UniJISPro-UCS2-HW-V\",\"UniJISPro-UCS2-V\",\"UniJISPro-UTF8-V\",\"UniJISX0213-UTF32-H\",\"UniJISX0213-UTF32-V\",\"UniJISX02132004-UTF32-H\",\"UniJISX02132004-UTF32-V\",\"UniKS-UCS2-H\",\"UniKS-UCS2-V\",\"UniKS-UTF16-H\",\"UniKS-UTF16-V\",\"UniKS-UTF32-H\",\"UniKS-UTF32-V\",\"UniKS-UTF8-H\",\"UniKS-UTF8-V\",\"V\",\"WP-Symbol\"],p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f(this,e),this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name=\"\",this.vertical=!1,this.useCMap=null,this.builtInCMap=t}return g(e,[{key:\"addCodespaceRange\",value:function(e,t,r){this.codespaceRanges[e-1].push(t,r),this.numCodespaceRanges++}},{key:\"mapCidRange\",value:function(e,t,r){for(;e<=t;)this._map[e++]=r++}},{key:\"mapBfRange\",value:function(e,t,r){for(var a=r.length-1;e<=t;)this._map[e++]=r,r=r.substring(0,a)+String.fromCharCode(r.charCodeAt(a)+1)}},{key:\"mapBfRangeToArray\",value:function(e,t,r){for(var a=0,n=r.length;e<=t&&a<n;)this._map[e]=r[a++],++e}},{key:\"mapOne\",value:function(e,t){this._map[e]=t}},{key:\"lookup\",value:function(e){return this._map[e]}},{key:\"contains\",value:function(e){return void 0!==this._map[e]}},{key:\"forEach\",value:function(e){var t=this._map,r=t.length;if(r<=65536)for(var a=0;a<r;a++)void 0!==t[a]&&e(a,t[a]);else for(var n in t)e(n,t[n])}},{key:\"charCodeOf\",value:function(e){var t=this._map;if(t.length<=65536)return t.indexOf(e);for(var r in t)if(t[r]===e)return 0|r;return-1}},{key:\"getMap\",value:function(){return this._map}},{key:\"readCharCode\",value:function(e,t,r){for(var a=0,n=this.codespaceRanges,i=0,o=n.length;i<o;i++){a=(a<<8|e.charCodeAt(t+i))>>>0;for(var s=n[i],c=0,l=s.length;c<l;){var u=s[c++],h=s[c++];if(a>=u&&a<=h)return r.charcode=a,void(r.length=i+1)}}r.charcode=0,r.length=1}},{key:\"length\",get:function(){return this._map.length}},{key:\"isIdentityCMap\",get:function(){if(\"Identity-H\"!==this.name&&\"Identity-V\"!==this.name)return!1;if(65536!==this._map.length)return!1;for(var e=0;e<65536;e++)if(this._map[e]!==e)return!1;return!0}}]),e}();t.CMap=p;var v=function(e){function t(e,r){var a;return f(this,t),(a=l(this,u(t).call(this))).vertical=e,a.addCodespaceRange(r,0,65535),a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,p),g(t,[{key:\"mapCidRange\",value:function(e,t,r){(0,a.unreachable)(\"should not call mapCidRange\")}},{key:\"mapBfRange\",value:function(e,t,r){(0,a.unreachable)(\"should not call mapBfRange\")}},{key:\"mapBfRangeToArray\",value:function(e,t,r){(0,a.unreachable)(\"should not call mapBfRangeToArray\")}},{key:\"mapOne\",value:function(e,t){(0,a.unreachable)(\"should not call mapCidOne\")}},{key:\"lookup\",value:function(e){return Number.isInteger(e)&&e<=65535?e:void 0}},{key:\"contains\",value:function(e){return Number.isInteger(e)&&e<=65535}},{key:\"forEach\",value:function(e){for(var t=0;t<=65535;t++)e(t,t)}},{key:\"charCodeOf\",value:function(e){return Number.isInteger(e)&&e<=65535?e:-1}},{key:\"getMap\",value:function(){for(var e=new Array(65536),t=0;t<=65535;t++)e[t]=t;return e}},{key:\"length\",get:function(){return 65536}},{key:\"isIdentityCMap\",get:function(){(0,a.unreachable)(\"should not access .isIdentityCMap\")}}]),t}();t.IdentityCMap=v;var b=function(){function e(e,t){for(var r=0,a=0;a<=t;a++)r=r<<8|e[a];return r>>>0}function t(e,t){return 1===t?String.fromCharCode(e[0],e[1]):3===t?String.fromCharCode(e[0],e[1],e[2],e[3]):String.fromCharCode.apply(null,e.subarray(0,t+1))}function r(e,t,r){for(var a=0,n=r;n>=0;n--)a+=e[n]+t[n],e[n]=255&a,a>>=8}function n(e,t){for(var r=1,a=t;a>=0&&r>0;a--)r+=e[a],e[a]=255&r,r>>=8}var i=16,o=19;function s(e){this.buffer=e,this.pos=0,this.end=e.length,this.tmpBuf=new Uint8Array(o)}function c(){}return s.prototype={readByte:function(){return this.pos>=this.end?-1:this.buffer[this.pos++]},readNumber:function(){var e,t=0;do{var r=this.readByte();if(r<0)throw new a.FormatError(\"unexpected EOF in bcmap\");e=!(128&r),t=t<<7|127&r}while(!e);return t},readSigned:function(){var e=this.readNumber();return 1&e?~(e>>>1):e>>>1},readHex:function(e,t){e.set(this.buffer.subarray(this.pos,this.pos+t+1)),this.pos+=t+1},readHexNumber:function(e,t){var r,n=this.tmpBuf,i=0;do{var o=this.readByte();if(o<0)throw new a.FormatError(\"unexpected EOF in bcmap\");r=!(128&o),n[i++]=127&o}while(!r);for(var s=t,c=0,l=0;s>=0;){for(;l<8&&n.length>0;)c=n[--i]<<l|c,l+=7;e[s]=255&c,s--,c>>=8,l-=8}},readHexSigned:function(e,t){this.readHexNumber(e,t);for(var r=1&e[t]?255:0,a=0,n=0;n<=t;n++)a=(1&a)<<8|e[n],e[n]=a>>1^r},readString:function(){for(var e=this.readNumber(),t=\"\",r=0;r<e;r++)t+=String.fromCharCode(this.readNumber());return t}},c.prototype={process:function(a,o,c){return new Promise(function(l,u){var h=new s(a),f=h.readByte();o.vertical=!!(1&f);for(var d,g,m=null,p=new Uint8Array(i),v=new Uint8Array(i),b=new Uint8Array(i),y=new Uint8Array(i),w=new Uint8Array(i);(g=h.readByte())>=0;){var k=g>>5;if(7!==k){var S=!!(16&g),C=15&g;if(C+1>i)throw new Error(\"processBinaryCMap: Invalid dataSize.\");var x,A=h.readNumber();switch(k){case 0:for(h.readHex(p,C),h.readHexNumber(v,C),r(v,p,C),o.addCodespaceRange(C+1,e(p,C),e(v,C)),x=1;x<A;x++)n(v,C),h.readHexNumber(p,C),r(p,v,C),h.readHexNumber(v,C),r(v,p,C),o.addCodespaceRange(C+1,e(p,C),e(v,C));break;case 1:for(h.readHex(p,C),h.readHexNumber(v,C),r(v,p,C),h.readNumber(),x=1;x<A;x++)n(v,C),h.readHexNumber(p,C),r(p,v,C),h.readHexNumber(v,C),r(v,p,C),h.readNumber();break;case 2:for(h.readHex(b,C),d=h.readNumber(),o.mapOne(e(b,C),d),x=1;x<A;x++)n(b,C),S||(h.readHexNumber(w,C),r(b,w,C)),d=h.readSigned()+(d+1),o.mapOne(e(b,C),d);break;case 3:for(h.readHex(p,C),h.readHexNumber(v,C),r(v,p,C),d=h.readNumber(),o.mapCidRange(e(p,C),e(v,C),d),x=1;x<A;x++)n(v,C),S?p.set(v):(h.readHexNumber(p,C),r(p,v,C)),h.readHexNumber(v,C),r(v,p,C),d=h.readNumber(),o.mapCidRange(e(p,C),e(v,C),d);break;case 4:for(h.readHex(b,1),h.readHex(y,C),o.mapOne(e(b,1),t(y,C)),x=1;x<A;x++)n(b,1),S||(h.readHexNumber(w,1),r(b,w,1)),n(y,C),h.readHexSigned(w,C),r(y,w,C),o.mapOne(e(b,1),t(y,C));break;case 5:for(h.readHex(p,1),h.readHexNumber(v,1),r(v,p,1),h.readHex(y,C),o.mapBfRange(e(p,1),e(v,1),t(y,C)),x=1;x<A;x++)n(v,1),S?p.set(v):(h.readHexNumber(p,1),r(p,v,1)),h.readHexNumber(v,1),r(v,p,1),h.readHex(y,C),o.mapBfRange(e(p,1),e(v,1),t(y,C));break;default:return void u(new Error(\"processBinaryCMap: Unknown type: \"+k))}}else switch(31&g){case 0:h.readString();break;case 1:m=h.readString()}}l(m?c(m):o)})}},c}(),y=function(){function e(e){for(var t=0,r=0;r<e.length;r++)t=t<<8|e.charCodeAt(r);return t>>>0}function t(e){if(!(0,a.isString)(e))throw new a.FormatError(\"Malformed CMap: expected string.\")}function r(e){if(!Number.isInteger(e))throw new a.FormatError(\"Malformed CMap: expected int.\")}function c(r,a){for(;;){var i=a.getObj();if((0,n.isEOF)(i))break;if((0,n.isCmd)(i,\"endbfchar\"))return;t(i);var o=e(i);t(i=a.getObj());var s=i;r.mapOne(o,s)}}function l(r,i){for(;;){var o=i.getObj();if((0,n.isEOF)(o))break;if((0,n.isCmd)(o,\"endbfrange\"))return;t(o);var s=e(o);t(o=i.getObj());var c=e(o);if(o=i.getObj(),Number.isInteger(o)||(0,a.isString)(o)){var l=Number.isInteger(o)?String.fromCharCode(o):o;r.mapBfRange(s,c,l)}else{if(!(0,n.isCmd)(o,\"[\"))break;o=i.getObj();for(var u=[];!(0,n.isCmd)(o,\"]\")&&!(0,n.isEOF)(o);)u.push(o),o=i.getObj();r.mapBfRangeToArray(s,c,u)}}throw new a.FormatError(\"Invalid bf range.\")}function u(a,i){for(;;){var o=i.getObj();if((0,n.isEOF)(o))break;if((0,n.isCmd)(o,\"endcidchar\"))return;t(o);var s=e(o);r(o=i.getObj());var c=o;a.mapOne(s,c)}}function h(a,i){for(;;){var o=i.getObj();if((0,n.isEOF)(o))break;if((0,n.isCmd)(o,\"endcidrange\"))return;t(o);var s=e(o);t(o=i.getObj());var c=e(o);r(o=i.getObj());var l=o;a.mapCidRange(s,c,l)}}function f(t,r){for(;;){var i=r.getObj();if((0,n.isEOF)(i))break;if((0,n.isCmd)(i,\"endcodespacerange\"))return;if(!(0,a.isString)(i))break;var o=e(i);if(i=r.getObj(),!(0,a.isString)(i))break;var s=e(i);t.addCodespaceRange(i.length,o,s)}throw new a.FormatError(\"Invalid codespace range.\")}function d(e,t){var r=t.getObj();Number.isInteger(r)&&(e.vertical=!!r)}function g(e,t){var r=t.getObj();(0,n.isName)(r)&&(0,a.isString)(r.name)&&(e.name=r.name)}function y(e,t,r,i){var s,m;e:for(;;)try{var p=t.getObj();if((0,n.isEOF)(p))break;if((0,n.isName)(p))\"WMode\"===p.name?d(e,t):\"CMapName\"===p.name&&g(e,t),s=p;else if((0,n.isCmd)(p))switch(p.cmd){case\"endcmap\":break e;case\"usecmap\":(0,n.isName)(s)&&(m=s.name);break;case\"begincodespacerange\":f(e,t);break;case\"beginbfchar\":c(e,t);break;case\"begincidchar\":u(e,t);break;case\"beginbfrange\":l(e,t);break;case\"begincidrange\":h(e,t)}}catch(e){if(e instanceof o.MissingDataException)throw e;(0,a.warn)(\"Invalid cMap data: \"+e);continue}return!i&&m&&(i=m),i?w(e,r,i):Promise.resolve(e)}function w(e,t,r){return k(r,t).then(function(t){if(e.useCMap=t,0===e.numCodespaceRanges){for(var r=e.useCMap.codespaceRanges,a=0;a<r.length;a++)e.codespaceRanges[a]=r[a].slice();e.numCodespaceRanges=e.useCMap.numCodespaceRanges}return e.useCMap.forEach(function(t,r){e.contains(t)||e.mapOne(t,e.useCMap.lookup(t))}),e})}function k(e,t){return\"Identity-H\"===e?Promise.resolve(new v(!1,2)):\"Identity-V\"===e?Promise.resolve(new v(!0,2)):m.includes(e)?t?t(e).then(function(e){var r=e.cMapData,n=e.compressionType,o=new p(!0);if(n===a.CMapCompressionType.BINARY)return(new b).process(r,o,function(e){return w(o,t,e)});if(n===a.CMapCompressionType.NONE){var c=new i.Lexer(new s.Stream(r));return y(o,c,t,null)}return Promise.reject(new Error(\"TODO: Only BINARY/NONE CMap compression is currently supported.\"))}):Promise.reject(new Error(\"Built-in CMap parameters are not provided.\")):Promise.reject(new Error(\"Unknown CMap name: \"+e))}return{create:function(e){var t=e.encoding,r=e.fetchBuiltInCMap,a=e.useCMap;return(0,n.isName)(t)?k(t.name,r):(0,n.isStream)(t)?y(new p,new i.Lexer(t),r,a).then(function(e){return e.isIdentityCMap?k(e.name,r):e}):Promise.reject(new Error(\"Encoding required.\"))}}}();t.CMapFactory=y},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getFontType=k,t.IdentityToUnicodeMap=t.ToUnicodeMap=t.FontFlags=t.Font=t.ErrorFont=t.SEAC_ANALYSIS_ENABLED=void 0;var a=r(5),n=r(175),i=r(178),o=r(177),s=r(179),c=r(180),l=r(181),u=r(173),h=r(153),f=r(158),d=r(182);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var m=[[57344,63743],[1048576,1114109]],p=1e3,v=!0;t.SEAC_ANALYSIS_ENABLED=v;var b={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};t.FontFlags=b;var y=[\".notdef\",\".null\",\"nonmarkingreturn\",\"space\",\"exclam\",\"quotedbl\",\"numbersign\",\"dollar\",\"percent\",\"ampersand\",\"quotesingle\",\"parenleft\",\"parenright\",\"asterisk\",\"plus\",\"comma\",\"hyphen\",\"period\",\"slash\",\"zero\",\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\"eight\",\"nine\",\"colon\",\"semicolon\",\"less\",\"equal\",\"greater\",\"question\",\"at\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\"bracketleft\",\"backslash\",\"bracketright\",\"asciicircum\",\"underscore\",\"grave\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\",\"braceleft\",\"bar\",\"braceright\",\"asciitilde\",\"Adieresis\",\"Aring\",\"Ccedilla\",\"Eacute\",\"Ntilde\",\"Odieresis\",\"Udieresis\",\"aacute\",\"agrave\",\"acircumflex\",\"adieresis\",\"atilde\",\"aring\",\"ccedilla\",\"eacute\",\"egrave\",\"ecircumflex\",\"edieresis\",\"iacute\",\"igrave\",\"icircumflex\",\"idieresis\",\"ntilde\",\"oacute\",\"ograve\",\"ocircumflex\",\"odieresis\",\"otilde\",\"uacute\",\"ugrave\",\"ucircumflex\",\"udieresis\",\"dagger\",\"degree\",\"cent\",\"sterling\",\"section\",\"bullet\",\"paragraph\",\"germandbls\",\"registered\",\"copyright\",\"trademark\",\"acute\",\"dieresis\",\"notequal\",\"AE\",\"Oslash\",\"infinity\",\"plusminus\",\"lessequal\",\"greaterequal\",\"yen\",\"mu\",\"partialdiff\",\"summation\",\"product\",\"pi\",\"integral\",\"ordfeminine\",\"ordmasculine\",\"Omega\",\"ae\",\"oslash\",\"questiondown\",\"exclamdown\",\"logicalnot\",\"radical\",\"florin\",\"approxequal\",\"Delta\",\"guillemotleft\",\"guillemotright\",\"ellipsis\",\"nonbreakingspace\",\"Agrave\",\"Atilde\",\"Otilde\",\"OE\",\"oe\",\"endash\",\"emdash\",\"quotedblleft\",\"quotedblright\",\"quoteleft\",\"quoteright\",\"divide\",\"lozenge\",\"ydieresis\",\"Ydieresis\",\"fraction\",\"currency\",\"guilsinglleft\",\"guilsinglright\",\"fi\",\"fl\",\"daggerdbl\",\"periodcentered\",\"quotesinglbase\",\"quotedblbase\",\"perthousand\",\"Acircumflex\",\"Ecircumflex\",\"Aacute\",\"Edieresis\",\"Egrave\",\"Iacute\",\"Icircumflex\",\"Idieresis\",\"Igrave\",\"Oacute\",\"Ocircumflex\",\"apple\",\"Ograve\",\"Uacute\",\"Ucircumflex\",\"Ugrave\",\"dotlessi\",\"circumflex\",\"tilde\",\"macron\",\"breve\",\"dotaccent\",\"ring\",\"cedilla\",\"hungarumlaut\",\"ogonek\",\"caron\",\"Lslash\",\"lslash\",\"Scaron\",\"scaron\",\"Zcaron\",\"zcaron\",\"brokenbar\",\"Eth\",\"eth\",\"Yacute\",\"yacute\",\"Thorn\",\"thorn\",\"minus\",\"multiply\",\"onesuperior\",\"twosuperior\",\"threesuperior\",\"onehalf\",\"onequarter\",\"threequarters\",\"franc\",\"Gbreve\",\"gbreve\",\"Idotaccent\",\"Scedilla\",\"scedilla\",\"Cacute\",\"cacute\",\"Ccaron\",\"ccaron\",\"dcroat\"];function w(e){if(e.fontMatrix&&e.fontMatrix[0]!==a.FONT_IDENTITY_MATRIX[0]){var t=.001/e.fontMatrix[0],r=e.widths;for(var n in r)r[n]*=t;e.defaultWidth*=t}}function k(e,t){switch(e){case\"Type1\":return\"Type1C\"===t?a.FontType.TYPE1C:a.FontType.TYPE1;case\"CIDFontType0\":return\"CIDFontType0C\"===t?a.FontType.CIDFONTTYPE0C:a.FontType.CIDFONTTYPE0;case\"OpenType\":return a.FontType.OPENTYPE;case\"TrueType\":return a.FontType.TRUETYPE;case\"CIDFontType2\":return a.FontType.CIDFONTTYPE2;case\"MMType1\":return a.FontType.MMTYPE1;case\"Type0\":return a.FontType.TYPE0;default:return a.FontType.UNKNOWN}}function S(e,t){if(void 0!==t[e])return e;var r=(0,c.getUnicodeForGlyph)(e,t);if(-1!==r)for(var n in t)if(t[n]===r)return n;return(0,a.info)(\"Unable to recover a standard glyph name for: \"+e),e}var C=function(){function e(e,t,r,a,n,i,o,s){this.fontChar=e,this.unicode=t,this.accent=r,this.width=a,this.vmetric=n,this.operatorListId=i,this.isSpace=o,this.isInFont=s}return e.prototype.matchesForCache=function(e,t,r,a,n,i,o,s){return this.fontChar===e&&this.unicode===t&&this.accent===r&&this.width===a&&this.vmetric===n&&this.operatorListId===i&&this.isSpace===o&&this.isInFont===s},e}(),x=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._map=e}return e.prototype={get length(){return this._map.length},forEach:function(e){for(var t in this._map)e(t,this._map[t].charCodeAt(0))},has:function(e){return void 0!==this._map[e]},get:function(e){return this._map[e]},charCodeOf:function(e){var t=this._map;if(t.length<=65536)return t.indexOf(e);for(var r in t)if(t[r]===e)return 0|r;return-1},amend:function(e){for(var t in e)this._map[t]=e[t]}},e}();t.ToUnicodeMap=x;var A=function(){function e(e,t){this.firstChar=e,this.lastChar=t}return e.prototype={get length(){return this.lastChar+1-this.firstChar},forEach:function(e){for(var t=this.firstChar,r=this.lastChar;t<=r;t++)e(t,t)},has:function(e){return this.firstChar<=e&&e<=this.lastChar},get:function(e){if(this.firstChar<=e&&e<=this.lastChar)return String.fromCharCode(e)},charCodeOf:function(e){return Number.isInteger(e)&&e>=this.firstChar&&e<=this.lastChar?e:-1},amend:function(e){(0,a.unreachable)(\"Should not call amend()\")}},e}();t.IdentityToUnicodeMap=A;var _=function(){function e(e,t,r){e[t]=r>>8&255,e[t+1]=255&r}function t(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function r(e,t,r){var a,n;if(r instanceof Uint8Array)e.set(r,t);else if(\"string\"==typeof r)for(a=0,n=r.length;a<n;a++)e[t++]=255&r.charCodeAt(a);else for(a=0,n=r.length;a<n;a++)e[t++]=255&r[a]}function n(e){this.sfnt=e,this.tables=Object.create(null)}n.getSearchParams=function(e,t){for(var r=1,a=0;(r^e)>r;)r<<=1,a++;var n=r*t;return{range:n,entry:a,rangeShift:t*e-n}};return n.prototype={toArray:function(){var i=this.sfnt,o=this.tables,s=Object.keys(o);s.sort();var c,l,u,h,f,d=s.length,g=12+16*d,m=[g];for(c=0;c<d;c++){g+=((h=o[s[c]]).length+3&-4)>>>0,m.push(g)}var p=new Uint8Array(g);for(c=0;c<d;c++)h=o[s[c]],r(p,m[c],h);\"true\"===i&&(i=(0,a.string32)(65536)),p[0]=255&i.charCodeAt(0),p[1]=255&i.charCodeAt(1),p[2]=255&i.charCodeAt(2),p[3]=255&i.charCodeAt(3),e(p,4,d);var v=n.getSearchParams(d,16);for(e(p,6,v.range),e(p,8,v.entry),e(p,10,v.rangeShift),g=12,c=0;c<d;c++){f=s[c],p[g]=255&f.charCodeAt(0),p[g+1]=255&f.charCodeAt(1),p[g+2]=255&f.charCodeAt(2),p[g+3]=255&f.charCodeAt(3);var b=0;for(l=m[c],u=m[c+1];l<u;l+=4){b=b+(0,a.readUint32)(p,l)>>>0}t(p,g+4,b),t(p,g+8,m[c]),t(p,g+12,o[f].length),g+=16}return p},addTable:function(e,t){if(e in this.tables)throw new Error(\"Table \"+e+\" already exists\");this.tables[e]=t}},n}(),P=function(){function e(e,t,r){var n;this.name=e,this.loadedName=r.loadedName,this.isType3Font=r.isType3Font,this.sizes=[],this.missingFile=!1,this.glyphCache=Object.create(null),this.isSerifFont=!!(r.flags&b.Serif),this.isSymbolicFont=!!(r.flags&b.Symbolic),this.isMonospace=!!(r.flags&b.FixedPitch);var i=r.type,o=r.subtype;if(this.type=i,this.subtype=o,this.fallbackName=this.isMonospace?\"monospace\":this.isSerifFont?\"serif\":\"sans-serif\",this.differences=r.differences,this.widths=r.widths,this.defaultWidth=r.defaultWidth,this.composite=r.composite,this.wideChars=r.wideChars,this.cMap=r.cMap,this.ascent=r.ascent/p,this.descent=r.descent/p,this.fontMatrix=r.fontMatrix,this.bbox=r.bbox,this.defaultEncoding=r.defaultEncoding,this.toUnicode=r.toUnicode,this.fallbackToUnicode=r.fallbackToUnicode||new x,this.toFontChar=[],\"Type3\"!==r.type){if(this.cidEncoding=r.cidEncoding,this.vertical=r.vertical,this.vertical&&(this.vmetrics=r.vmetrics,this.defaultVMetrics=r.defaultVMetrics),!t||t.isEmpty)return t&&(0,a.warn)('Font file is empty in \"'+e+'\" ('+this.loadedName+\")\"),void this.fallbackToSystemFont();var s=g(function(e,t){var r,n,i=t.type,o=t.subtype,s=t.composite;(function(e){var t=e.peekBytes(4);return 65536===(0,a.readUint32)(t,0)||\"true\"===(0,a.bytesToString)(t)})(e)||I(e)?r=s?\"CIDFontType2\":\"TrueType\":!function(e){var t=e.peekBytes(4);return\"OTTO\"===(0,a.bytesToString)(t)}(e)?!function(e){var t=e.peekBytes(2);if(37===t[0]&&33===t[1])return!0;if(128===t[0]&&1===t[1])return!0;return!1}(e)?!function(e){var t=e.peekBytes(4);if(t[0]>=1&&t[3]>=1&&t[3]<=4)return!0;return!1}(e)?((0,a.warn)(\"getFontFileType: Unable to detect correct font file Type/Subtype.\"),r=i,n=o):s?(r=\"CIDFontType0\",n=\"CIDFontType0C\"):(r=\"MMType1\"===i?\"MMType1\":\"Type1\",n=\"Type1C\"):r=s?\"CIDFontType0\":\"MMType1\"===i?\"MMType1\":\"Type1\":r=s?\"CIDFontType2\":\"OpenType\";return[r,n]}(t,r),2);i=s[0],o=s[1],i===this.type&&o===this.subtype||(0,a.info)(\"Inconsistent font file Type/SubType, expected: \"+\"\".concat(this.type,\"/\").concat(this.subtype,\" but found: \").concat(i,\"/\").concat(o,\".\"));try{var c;switch(i){case\"MMType1\":(0,a.info)(\"MMType1 font (\"+e+\"), falling back to Type1.\");case\"Type1\":case\"CIDFontType0\":this.mimetype=\"font/opentype\";var l=\"Type1C\"===o||\"CIDFontType0C\"===o?new E(t,r):new T(e,t,r);w(r),c=this.convert(e,l,r);break;case\"OpenType\":case\"TrueType\":case\"CIDFontType2\":this.mimetype=\"font/opentype\",c=this.checkAndRepair(e,t,r),this.isOpenType&&(w(r),i=\"OpenType\");break;default:throw new a.FormatError(\"Font \".concat(i,\" is not supported\"))}}catch(e){return(0,a.warn)(e),void this.fallbackToSystemFont()}this.data=c,this.fontType=k(i,o),this.fontMatrix=r.fontMatrix,this.widths=r.widths,this.defaultWidth=r.defaultWidth,this.toUnicode=r.toUnicode,this.encoding=r.baseEncoding,this.seacMap=r.seacMap}else{for(n=0;n<256;n++)this.toFontChar[n]=this.differences[n]||r.defaultEncoding[n];this.fontType=a.FontType.TYPE3}}var t;function r(e,t){return(e<<8)+t}function h(e,t){var r=(e<<8)+t;return 32768&r?r-65536:r}function d(e){return String.fromCharCode(e>>8&255,255&e)}function P(e){return e=e>32767?32767:e<-32768?-32768:e,String.fromCharCode(e>>8&255,255&e)}function I(e){var t=e.peekBytes(4);return\"ttcf\"===(0,a.bytesToString)(t)}function O(e,t,r){for(var a,n=[],i=0,o=e.length;i<o;i++)-1!==(a=(0,c.getUnicodeForGlyph)(e[i],t))&&(n[i]=a);for(var s in r)-1!==(a=(0,c.getUnicodeForGlyph)(r[s],t))&&(n[+s]=a);return n}function F(e,t,r){var n=Object.create(null),i=[],o=0,s=m[o][0],c=m[o][1];for(var l in e){var u=e[l|=0];if(t(u)){if(s>c){if(++o>=m.length){(0,a.warn)(\"Ran out of space in font private use area.\");break}s=m[o][0],c=m[o][1]}var h=s++;0===u&&(u=r),n[h]=u,i[l]=h}}return{toFontChar:i,charCodeToGlyphId:n,nextAvailableFontCharCode:s}}function R(e,t){var r,n,i,o,s=function(e,t){var r=[];for(var a in e)e[a]>=t||r.push({fontCharCode:0|a,glyphId:e[a]});0===r.length&&r.push({fontCharCode:0,glyphId:0}),r.sort(function(e,t){return e.fontCharCode-t.fontCharCode});for(var n=[],i=r.length,o=0;o<i;){var s=r[o].fontCharCode,c=[r[o].glyphId];++o;for(var l=s;o<i&&l+1===r[o].fontCharCode&&(c.push(r[o].glyphId),++o,65535!=++l););n.push([s,l,c])}return n}(e,t),c=s[s.length-1][1]>65535?2:1,l=\"\\0\\0\"+d(c)+\"\\0\u0003\\0\u0001\"+(0,a.string32)(4+8*c);for(r=s.length-1;r>=0&&!(s[r][0]<=65535);--r);var u=r+1;s[r][0]<65535&&65535===s[r][1]&&(s[r][1]=65534);var h,f,g,m,p=s[r][1]<65535?1:0,v=u+p,b=_.getSearchParams(v,2),y=\"\",w=\"\",k=\"\",S=\"\",C=\"\",x=0;for(r=0,n=u;r<n;r++){f=(h=s[r])[0],g=h[1],y+=d(f),w+=d(g);var A=!0;for(i=1,o=(m=h[2]).length;i<o;++i)if(m[i]!==m[i-1]+1){A=!1;break}if(A){k+=d(m[0]-f&65535),S+=d(0)}else{var P=2*(v-r)+2*x;for(x+=g-f+1,k+=d(0),S+=d(P),i=0,o=m.length;i<o;++i)C+=d(m[i])}}p>0&&(w+=\"\",y+=\"\",k+=\"\\0\u0001\",S+=\"\\0\\0\");var I=\"\\0\\0\"+d(2*v)+d(b.range)+d(b.entry)+d(b.rangeShift)+w+\"\\0\\0\"+y+k+S+C,O=\"\",T=\"\";if(c>1){for(l+=\"\\0\u0003\\0\\n\"+(0,a.string32)(4+8*c+4+I.length),O=\"\",r=0,n=s.length;r<n;r++){f=(h=s[r])[0];var E=(m=h[2])[0];for(i=1,o=m.length;i<o;++i)m[i]!==m[i-1]+1&&(g=h[0]+i-1,O+=(0,a.string32)(f)+(0,a.string32)(g)+(0,a.string32)(E),f=g+1,E=m[i]);O+=(0,a.string32)(f)+(0,a.string32)(h[1])+(0,a.string32)(E)}T=\"\\0\\f\\0\\0\"+(0,a.string32)(O.length+16)+\"\\0\\0\\0\\0\"+(0,a.string32)(O.length/12)}return l+\"\\0\u0004\"+d(I.length+4)+I+T+O}function B(e,t,r){r=r||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};var n=0,i=0,o=0,s=0,l=null,u=0;if(t){for(var h in t){(l>(h|=0)||!l)&&(l=h),u<h&&(u=h);var f=(0,c.getUnicodeRangeFor)(h);if(f<32)n|=1<<f;else if(f<64)i|=1<<f-32;else if(f<96)o|=1<<f-64;else{if(!(f<123))throw new a.FormatError(\"Unicode ranges Bits > 123 are reserved for internal usage\");s|=1<<f-96}}u>65535&&(u=65535)}else l=0,u=255;var g=e.bbox||[0,0,0,0],m=r.unitsPerEm||1/(e.fontMatrix||a.FONT_IDENTITY_MATRIX)[0],v=e.ascentScaled?1:m/p,b=r.ascent||Math.round(v*(e.ascent||g[3])),y=r.descent||Math.round(v*(e.descent||g[1]));y>0&&e.descent>0&&g[1]<0&&(y=-y);var w=r.yMax||b,k=-r.yMin||-y;return\"\\0\u0003\u0002$\u0001\\0\u0005\\0\\0\u0002\u0002\\0\\0\\0\u0002\u0002\\0\\0\u0001\\x001\u0001\u0002\\0\\0\\0\\0\u0006\"+String.fromCharCode(e.fixedPitch?9:0)+\"\\0\\0\\0\\0\\0\\0\"+(0,a.string32)(n)+(0,a.string32)(i)+(0,a.string32)(o)+(0,a.string32)(s)+\"*21*\"+d(e.italicAngle?1:0)+d(l||e.firstChar)+d(u||e.lastChar)+d(b)+d(y)+\"\\0d\"+d(w)+d(k)+\"\\0\\0\\0\\0\\0\\0\\0\\0\"+d(e.xHeight)+d(e.capHeight)+d(0)+d(l||e.firstChar)+\"\\0\u0003\"}function D(e){var t=Math.floor(e.italicAngle*Math.pow(2,16));return\"\\0\u0003\\0\\0\"+(0,a.string32)(t)+\"\\0\\0\\0\\0\"+(0,a.string32)(e.fixedPitch)+\"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"}function M(e,t){t||(t=[[],[]]);var r,a,n,i,o,s=[t[0][0]||\"Original licence\",t[0][1]||e,t[0][2]||\"Unknown\",t[0][3]||\"uniqueID\",t[0][4]||e,t[0][5]||\"Version 0.11\",t[0][6]||\"\",t[0][7]||\"Unknown\",t[0][8]||\"Unknown\",t[0][9]||\"Unknown\"],c=[];for(r=0,a=s.length;r<a;r++){var l=[];for(n=0,i=(o=t[1][r]||s[r]).length;n<i;n++)l.push(d(o.charCodeAt(n)));c.push(l.join(\"\"))}var u=[s,c],h=[\"\\0\u0001\",\"\\0\u0003\"],f=[\"\\0\\0\",\"\\0\u0001\"],g=[\"\\0\\0\",\"\u0004\\t\"],m=s.length*h.length,p=\"\\0\\0\"+d(m)+d(12*m+6),v=0;for(r=0,a=h.length;r<a;r++){var b=u[r];for(n=0,i=b.length;n<i;n++){o=b[n],p+=h[r]+f[r]+g[r]+d(n)+d(o.length)+d(v),v+=o.length}}return p+=s.join(\"\")+c.join(\"\")}return e.getFontID=(t=1,function(){return String(t++)}),e.prototype={name:null,font:null,mimetype:null,encoding:null,disableFontFace:!1,get renderer(){var e=l.FontRendererFactory.create(this,v);return(0,a.shadow)(this,\"renderer\",e)},exportData:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e},fallbackToSystemFont:function(){var e,t,r=this;this.missingFile=!0;var n=this.name,l=this.type,u=this.subtype,h=n.replace(/[,_]/g,\"-\"),f=(0,s.getStdFontMap)(),d=(0,s.getNonStdFontMap)(),g=!!f[h]||!(!d[h]||!f[d[h]]);if(h=f[h]||d[h]||h,this.bold=-1!==h.search(/bold/gi),this.italic=-1!==h.search(/oblique/gi)||-1!==h.search(/italic/gi),this.black=-1!==n.search(/Black/g),this.remeasure=Object.keys(this.widths).length>0,g&&\"CIDFontType2\"===l&&this.cidEncoding.startsWith(\"Identity-\")){var m=(0,s.getGlyphMapForStandardFonts)(),p=[];for(e in m)p[+e]=m[e];if(/Arial-?Black/i.test(n)){var v=(0,s.getSupplementalGlyphMapForArialBlack)();for(e in v)p[+e]=v[e]}else if(/Calibri/i.test(n)){var b=(0,s.getSupplementalGlyphMapForCalibri)();for(e in b)p[+e]=b[e]}this.toUnicode instanceof A||this.toUnicode.forEach(function(e,t){p[+e]=t}),this.toFontChar=p,this.toUnicode=new x(p)}else if(/Symbol/i.test(h))this.toFontChar=O(o.SymbolSetEncoding,(0,i.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(h))/Wingdings/i.test(n)&&(0,a.warn)(\"Non-embedded Wingdings font, falling back to ZapfDingbats.\"),this.toFontChar=O(o.ZapfDingbatsEncoding,(0,i.getDingbatsGlyphsUnicode)(),this.differences);else if(g)this.toFontChar=O(this.defaultEncoding,(0,i.getGlyphsUnicode)(),this.differences);else{var y=(0,i.getGlyphsUnicode)();this.toUnicode.forEach(function(e,a){if(!r.composite){var n=r.differences[e]||r.defaultEncoding[e];-1!==(t=(0,c.getUnicodeForGlyph)(n,y))&&(a=t)}r.toFontChar[e]=a})}this.loadedName=h.split(\"-\")[0],this.fontType=k(l,u)},checkAndRepair:function(e,t,s){var c=[\"OS/2\",\"cmap\",\"head\",\"hhea\",\"hmtx\",\"maxp\",\"name\",\"post\",\"loca\",\"glyf\",\"fpgm\",\"prep\",\"cvt \",\"CFF \"];function l(e,r){var a=Object.create(null);a[\"OS/2\"]=null,a.cmap=null,a.head=null,a.hhea=null,a.hmtx=null,a.maxp=null,a.name=null,a.post=null;for(var n=0;n<r;n++){var i=d(t);c.includes(i.tag)&&(0!==i.length&&(a[i.tag]=i))}return a}function d(e){var t=(0,a.bytesToString)(e.getBytes(4)),r=e.getInt32()>>>0,n=e.getInt32()>>>0,i=e.getInt32()>>>0,o=e.pos;e.pos=e.start?e.start:0,e.skip(n);var s=e.getBytes(i);return e.pos=o,\"head\"===t&&(s[8]=s[9]=s[10]=s[11]=0,s[17]|=32),{tag:t,checksum:r,length:i,offset:n,data:s}}function g(e){return{version:(0,a.bytesToString)(e.getBytes(4)),numTables:e.getUint16(),searchRange:e.getUint16(),entrySelector:e.getUint16(),rangeShift:e.getUint16()}}function m(e,t,r,a,n,i){var o={length:0,sizeOfInstructions:0};if(r-t<=12)return o;var s,c,l,u=e.subarray(t,r),f=h(u[0],u[1]);if(f<0)return l=f=-1,(s=u)[(c=0)+1]=l,s[c]=l>>>8,a.set(u,n),o.length=u.length,o;var d,g=10,m=0;for(d=0;d<f;d++){m=(u[g]<<8|u[g+1])+1,g+=2}var p=g,v=u[g]<<8|u[g+1];o.sizeOfInstructions=v;var b=g+=2+v,y=0;for(d=0;d<m;d++){var w=u[g++];192&w&&(u[g-1]=63&w);var k=(2&w?1:16&w?0:2)+(4&w?1:32&w?0:2);if(y+=k,8&w){var S=u[g++];d+=S,y+=S*k}}if(0===y)return o;var C=g+y;return C>u.length?o:!i&&v>0?(a.set(u.subarray(0,p),n),a.set([0,0],n+p),a.set(u.subarray(b,C),n+p+2),C-=v,u.length-C>3&&(C=C+3&-4),o.length=C,o):u.length-C>3?(C=C+3&-4,a.set(u.subarray(0,C),n),o.length=C,o):(a.set(u,n),o.length=u.length,o)}function p(e){var r=(t.start?t.start:0)+e.offset;t.pos=r;var n=[[],[]],i=e.length,o=r+i;if(0!==t.getUint16()||i<6)return n;var s,c,l=t.getUint16(),u=t.getUint16(),h=[];for(s=0;s<l&&t.pos+12<=o;s++){var f={platform:t.getUint16(),encoding:t.getUint16(),language:t.getUint16(),name:t.getUint16(),length:t.getUint16(),offset:t.getUint16()};(1===f.platform&&0===f.encoding&&0===f.language||3===f.platform&&1===f.encoding&&1033===f.language)&&h.push(f)}for(s=0,c=h.length;s<c;s++){var d=h[s];if(!(d.length<=0)){var g=r+u+d.offset;if(!(g+d.length>o)){t.pos=g;var m=d.name;if(d.encoding){for(var p=\"\",v=0,b=d.length;v<b;v+=2)p+=String.fromCharCode(t.getUint16());n[1][m]=p}else n[0][m]=(0,a.bytesToString)(t.getBytes(d.length))}}}return n}var b,k,C,x,A=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function P(e,t){for(var r,n,i,o,s,c=e.data,l=0,u=0,h=0,f=[],d=[],g=[],m=t.tooComplexToFollowFunctions,p=!1,v=0,b=0,y=c.length;l<y;){var w=c[l++];if(64===w)if(n=c[l++],p||b)l+=n;else for(r=0;r<n;r++)f.push(c[l++]);else if(65===w)if(n=c[l++],p||b)l+=2*n;else for(r=0;r<n;r++)i=c[l++],f.push(i<<8|c[l++]);else if(176==(248&w))if(n=w-176+1,p||b)l+=n;else for(r=0;r<n;r++)f.push(c[l++]);else if(184==(248&w))if(n=w-184+1,p||b)l+=2*n;else for(r=0;r<n;r++)i=c[l++],f.push(i<<8|c[l++]);else if(43!==w||m)if(44!==w||m){if(45===w)if(p)p=!1,u=l;else{if(!(s=d.pop()))return(0,a.warn)(\"TT: ENDF bad stack\"),void(t.hintsValid=!1);o=g.pop(),c=s.data,l=s.i,t.functionsStackDeltas[o]=f.length-s.stackTop}else if(137===w)(p||b)&&((0,a.warn)(\"TT: nested IDEFs not allowed\"),m=!0),p=!0,h=l;else if(88===w)++v;else if(27===w)b=v;else if(89===w)b===v&&(b=0),--v;else if(28===w&&!p&&!b){var k=f[f.length-1];k>0&&(l+=k-1)}}else(p||b)&&((0,a.warn)(\"TT: nested FDEFs not allowed\"),m=!0),p=!0,h=l,o=f.pop(),t.functionsDefined[o]={data:c,i:l};else if(!p&&!b)if(o=f[f.length-1],isNaN(o))(0,a.info)(\"TT: CALL empty stack (or invalid entry).\");else if(t.functionsUsed[o]=!0,o in t.functionsStackDeltas){var S=f.length+t.functionsStackDeltas[o];if(S<0)return(0,a.warn)(\"TT: CALL invalid functions stack delta.\"),void(t.hintsValid=!1);f.length=S}else if(o in t.functionsDefined&&!g.includes(o)){if(d.push({data:c,i:l,stackTop:f.length-1}),g.push(o),!(s=t.functionsDefined[o]))return(0,a.warn)(\"TT: CALL non-existent function\"),void(t.hintsValid=!1);c=s.data,l=s.i}if(!p&&!b){var C=w<=142?A[w]:w>=192&&w<=223?-1:w>=224?-2:0;for(w>=113&&w<=117&&(n=f.pop(),isNaN(n)||(C=2*-n));C<0&&f.length>0;)f.pop(),C++;for(;C>0;)f.push(NaN),C--}}t.tooComplexToFollowFunctions=m;var x=[c];l>c.length&&x.push(new Uint8Array(l-c.length)),h>u&&((0,a.warn)(\"TT: complementing a missing function tail\"),x.push(new Uint8Array([34,45]))),function(e,t){if(t.length>1){var r,a,n=0;for(r=0,a=t.length;r<a;r++)n+=t[r].length;n=n+3&-4;var i=new Uint8Array(n),o=0;for(r=0,a=t.length;r<a;r++)i.set(t[r],o),o+=t[r].length;e.data=i,e.length=n}}(e,x)}if(I(t=new f.Stream(new Uint8Array(t.getBytes())))){var O=function(e,t){for(var r=function(e){var t=(0,a.bytesToString)(e.getBytes(4));(0,a.assert)(\"ttcf\"===t,\"Must be a TrueType Collection font.\");for(var r=e.getUint16(),n=e.getUint16(),i=e.getInt32()>>>0,o=[],s=0;s<i;s++)o.push(e.getInt32()>>>0);var c={ttcTag:t,majorVersion:r,minorVersion:n,numFonts:i,offsetTable:o};switch(r){case 1:return c;case 2:return c.dsigTag=e.getInt32()>>>0,c.dsigLength=e.getInt32()>>>0,c.dsigOffset=e.getInt32()>>>0,c}throw new a.FormatError(\"Invalid TrueType Collection majorVersion: \".concat(r,\".\"))}(e),n=r.numFonts,i=r.offsetTable,o=0;o<n;o++){e.pos=(e.start||0)+i[o];var s=g(e),c=l(0,s.numTables);if(!c.name)throw new a.FormatError('TrueType Collection font must contain a \"name\" table.');for(var u=p(c.name),h=0,f=u.length;h<f;h++)for(var d=0,m=u[h].length;d<m;d++){var v=u[h][d];if(v&&v.replace(/\\s/g,\"\")===t)return{header:s,tables:c}}}throw new a.FormatError('TrueType Collection does not contain \"'.concat(t,'\" font.'))}(t,this.name);b=O.header,k=O.tables}else k=l(0,(b=g(t)).numTables);var T=!k[\"CFF \"];if(T){if(!k.loca)throw new a.FormatError('Required \"loca\" table is not found');k.glyf||((0,a.warn)('Required \"glyf\" table is not found -- trying to recover.'),k.glyf={tag:\"glyf\",data:new Uint8Array(0)}),this.isOpenType=!1}else{var L=s.composite&&((s.cidToGidMap||[]).length>0||!(s.cMap instanceof u.IdentityCMap));if(\"OTTO\"===b.version&&!L||!k.head||!k.hhea||!k.maxp||!k.post)return x=new f.Stream(k[\"CFF \"].data),C=new E(x,s),w(s),this.convert(e,C,s);delete k.glyf,delete k.loca,delete k.fpgm,delete k.prep,delete k[\"cvt \"],this.isOpenType=!0}if(!k.maxp)throw new a.FormatError('Required \"maxp\" table is not found');t.pos=(t.start||0)+k.maxp.offset;var N=t.getInt32(),U=t.getUint16(),q=U+1,j=!0;q>65535&&(j=!1,q=U,(0,a.warn)(\"Not enough space in glyfs to duplicate first glyph.\"));var z=0,H=0;N>=65536&&k.maxp.length>=22&&(t.pos+=8,t.getUint16()>2&&(k.maxp.data[14]=0,k.maxp.data[15]=2),t.pos+=4,z=t.getUint16(),t.pos+=4,H=t.getUint16());k.maxp.data[4]=q>>8,k.maxp.data[5]=255&q;var W=function(e,t,r,n){var i={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(e&&P(e,i),t&&P(t,i),e&&function(e,t){if(!e.tooComplexToFollowFunctions){if(e.functionsDefined.length>t)return(0,a.warn)(\"TT: more functions defined than expected\"),void(e.hintsValid=!1);for(var r=0,n=e.functionsUsed.length;r<n;r++){if(r>t)return(0,a.warn)(\"TT: invalid function id: \"+r),void(e.hintsValid=!1);if(e.functionsUsed[r]&&!e.functionsDefined[r])return(0,a.warn)(\"TT: undefined function: \"+r),void(e.hintsValid=!1)}}}(i,n),r&&1&r.length){var o=new Uint8Array(r.length+1);o.set(r.data),r.data=o}return i.hintsValid}(k.fpgm,k.prep,k[\"cvt \"],z);if(W||(delete k.fpgm,delete k.prep,delete k[\"cvt \"]),function(e,t,r,n,i){if(t){e.pos=(e.start?e.start:0)+t.offset,e.pos+=4,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=8,e.pos+=2;var o=e.getUint16();o>n&&((0,a.info)(\"The numOfMetrics (\"+o+\") should not be greater than the numGlyphs (\"+n+\")\"),o=n,t.data[34]=(65280&o)>>8,t.data[35]=255&o);var s=n-o-(r.length-4*o>>1);if(s>0){var c=new Uint8Array(r.length+2*s);c.set(r.data),i&&(c[r.length]=r.data[2],c[r.length+1]=r.data[3]),r.data=c}}else r&&(r.data=null)}(t,k.hhea,k.hmtx,q,j),!k.head)throw new a.FormatError('Required \"head\" table is not found');!function(e,t,n){var i,o,s,c,l=e.data,u=(i=l[0],o=l[1],s=l[2],c=l[3],(i<<24)+(o<<16)+(s<<8)+c);u>>16!=1&&((0,a.info)(\"Attempting to fix invalid version in head table: \"+u),l[0]=0,l[1]=1,l[2]=0,l[3]=0);var h=r(l[50],l[51]);if(h<0||h>1){(0,a.info)(\"Attempting to fix invalid indexToLocFormat in head table: \"+h);var f=t+1;if(n===f<<1)l[50]=0,l[51]=0;else{if(n!==f<<2)throw new a.FormatError(\"Could not fix indexToLocFormat: \"+h);l[50]=0,l[51]=1}}}(k.head,U,T?k.loca.length:0);var G=Object.create(null);if(T){var X=r(k.head.data[50],k.head.data[51]),V=function(e,t,r,a,n,i,o){var s,c,l;a?(s=4,c=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]},l=function(e,t,r){e[t]=r>>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}):(s=2,c=function(e,t){return e[t]<<9|e[t+1]<<1},l=function(e,t,r){e[t]=r>>9&255,e[t+1]=r>>1&255});var u=i?r+1:r,h=e.data,f=s*(1+u);(h=new Uint8Array(f)).set(e.data.subarray(0,f)),e.data=h;var d,g,p=t.data,v=p.length,b=new Uint8Array(v),y=c(h,0),w=0,k=Object.create(null);for(l(h,0,w),d=0,g=s;d<r;d++,g+=s){var S=c(h,g);0===S&&(S=y),S>v&&(v+3&-4)===S&&(S=v),S>v&&(y=S);var C=m(p,y,S,b,w,n),x=C.length;0===x&&(k[d]=!0),C.sizeOfInstructions>o&&(o=C.sizeOfInstructions),l(h,g,w+=x),y=S}if(0===w){var A=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(d=0,g=s;d<u;d++,g+=s)l(h,g,A.length);t.data=A}else if(i){var _=c(h,s);b.length>_+w?t.data=b.subarray(0,_+w):(t.data=new Uint8Array(_+w),t.data.set(b.subarray(0,w))),t.data.set(b.subarray(0,_),w),l(e.data,h.length-s,w+_)}else t.data=b.subarray(0,w);return{missingGlyphs:k,maxSizeOfInstructions:o}}(k.loca,k.glyf,U,X,W,j,H);G=V.missingGlyphs,N>=65536&&k.maxp.length>=22&&(k.maxp.data[26]=V.maxSizeOfInstructions>>8,k.maxp.data[27]=255&V.maxSizeOfInstructions)}if(!k.hhea)throw new a.FormatError('Required \"hhea\" table is not found');0===k.hhea.data[10]&&0===k.hhea.data[11]&&(k.hhea.data[10]=255,k.hhea.data[11]=255);var K={unitsPerEm:r(k.head.data[18],k.head.data[19]),yMax:r(k.head.data[42],k.head.data[43]),yMin:h(k.head.data[38],k.head.data[39]),ascent:r(k.hhea.data[4],k.hhea.data[5]),descent:h(k.hhea.data[6],k.hhea.data[7])};this.ascent=K.ascent/K.unitsPerEm,this.descent=K.descent/K.unitsPerEm,k.post&&function(e,r,n){var i=(t.start?t.start:0)+e.offset;t.pos=i;var o,s=i+e.length,c=t.getInt32();t.getBytes(28);var l,u=!0;switch(c){case 65536:o=y;break;case 131072:var h=t.getUint16();if(h!==n){u=!1;break}var f=[];for(l=0;l<h;++l){var d=t.getUint16();if(d>=32768){u=!1;break}f.push(d)}if(!u)break;for(var g=[],m=[];t.pos<s;){var p=t.getByte();for(m.length=p,l=0;l<p;++l)m[l]=String.fromCharCode(t.getByte());g.push(m.join(\"\"))}for(o=[],l=0;l<h;++l){var v=f[l];v<258?o.push(y[v]):o.push(g[v-258])}break;case 196608:break;default:(0,a.warn)(\"Unknown/unsupported post table version \"+c),u=!1,r.defaultEncoding&&(o=r.defaultEncoding)}r.glyphNames=o}(k.post,s,U),k.post={tag:\"post\",data:D(s)};var Y,J=[];function Z(e){return!G[e]}if(s.composite){var Q=s.cidToGidMap||[],$=0===Q.length;s.cMap.forEach(function(e,t){if(t>65535)throw new a.FormatError(\"Max size of CID is 65,535\");var r=-1;$?r=t:void 0!==Q[t]&&(r=Q[t]),r>=0&&r<U&&Z(r)&&(J[e]=r)})}else{var ee=function(e,t,r,n){if(!e)return(0,a.warn)(\"No cmap table available.\"),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var i,o=(t.start?t.start:0)+e.offset;t.pos=o,t.getUint16();for(var s,c=t.getUint16(),l=!1,u=0;u<c;u++){var h=t.getUint16(),f=t.getUint16(),d=t.getInt32()>>>0,g=!1;if((!s||s.platformId!==h||s.encodingId!==f)&&(0===h&&0===f?g=!0:1===h&&0===f?g=!0:3!==h||1!==f||!n&&s?r&&3===h&&0===f&&(g=!0,l=!0):(g=!0,r||(l=!0)),g&&(s={platformId:h,encodingId:f,offset:d}),l))break}if(s&&(t.pos=o+s.offset),!s||-1===t.peekByte())return(0,a.warn)(\"Could not find a preferred cmap table.\"),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var m=t.getUint16();t.getUint16(),t.getUint16();var p,v,b=!1,y=[];if(0===m){for(p=0;p<256;p++){var w=t.getByte();w&&y.push({charCode:p,glyphId:w})}b=!0}else if(4===m){var k=t.getUint16()>>1;t.getBytes(6);var S,C=[];for(S=0;S<k;S++)C.push({end:t.getUint16()});for(t.getUint16(),S=0;S<k;S++)C[S].start=t.getUint16();for(S=0;S<k;S++)C[S].delta=t.getUint16();var x=0;for(S=0;S<k;S++){i=C[S];var A=t.getUint16();if(A){var _=(A>>1)-(k-S);i.offsetIndex=_,x=Math.max(x,_+i.end-i.start+1)}else i.offsetIndex=-1}var P=[];for(p=0;p<x;p++)P.push(t.getUint16());for(S=0;S<k;S++){o=(i=C[S]).start;var I=i.end,O=i.delta;for(_=i.offsetIndex,p=o;p<=I;p++)65535!==p&&(v=(v=_<0?p:P[_+p-o])+O&65535,y.push({charCode:p,glyphId:v}))}}else{if(6!==m)return(0,a.warn)(\"cmap table has unsupported format: \"+m),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var T=t.getUint16(),E=t.getUint16();for(p=0;p<E;p++){v=t.getUint16();var F=T+p;y.push({charCode:F,glyphId:v})}}for(y.sort(function(e,t){return e.charCode-t.charCode}),u=1;u<y.length;u++)y[u-1].charCode===y[u].charCode&&(y.splice(u,1),u--);return{platformId:s.platformId,encodingId:s.encodingId,mappings:y,hasShortCmap:b}}(k.cmap,t,this.isSymbolicFont,s.hasEncoding),te=ee.platformId,re=ee.encodingId,ae=ee.mappings,ne=ae.length;if(s.hasEncoding&&(3===te&&1===re||1===te&&0===re)||-1===te&&-1===re&&(0,o.getEncoding)(s.baseEncodingName)){var ie=[];\"MacRomanEncoding\"!==s.baseEncodingName&&\"WinAnsiEncoding\"!==s.baseEncodingName||(ie=(0,o.getEncoding)(s.baseEncodingName));var oe=(0,i.getGlyphsUnicode)();for(Y=0;Y<256;Y++){var se,ce;if(se=this.differences&&Y in this.differences?this.differences[Y]:Y in ie&&\"\"!==ie[Y]?ie[Y]:o.StandardEncoding[Y]){var le;ce=S(se,oe),3===te&&1===re?le=oe[ce]:1===te&&0===re&&(le=o.MacRomanEncoding.indexOf(ce));for(var ue=!1,he=0;he<ne;++he)if(ae[he].charCode===le){J[Y]=ae[he].glyphId,ue=!0;break}if(!ue&&s.glyphNames){var fe=s.glyphNames.indexOf(se);-1===fe&&ce!==se&&(fe=s.glyphNames.indexOf(ce)),fe>0&&Z(fe)&&(J[Y]=fe)}}}}else if(0===te&&0===re)for(var de=0;de<ne;++de)J[ae[de].charCode]=ae[de].glyphId;else for(var ge=0;ge<ne;++ge)Y=ae[ge].charCode,3===te&&Y>=61440&&Y<=61695&&(Y&=255),J[Y]=ae[ge].glyphId}0===J.length&&(J[0]=0);var me=q-1;j||(me=0);var pe=F(J,Z,me);if(this.toFontChar=pe.toFontChar,k.cmap={tag:\"cmap\",data:R(pe.charCodeToGlyphId,q)},k[\"OS/2\"]&&function(e){var t=new f.Stream(e.data),r=t.getUint16();t.getBytes(60);var a=t.getUint16();return!(r<4&&768&a||t.getUint16()>t.getUint16()||(t.getBytes(6),0===t.getUint16()||(e.data[8]=e.data[9]=0,0)))}(k[\"OS/2\"])||(k[\"OS/2\"]={tag:\"OS/2\",data:B(s,pe.charCodeToGlyphId,K)}),!T)try{x=new f.Stream(k[\"CFF \"].data),(C=new n.CFFParser(x,s,v).parse()).duplicateFirstGlyph();var ve=new n.CFFCompiler(C);k[\"CFF \"].data=ve.compile()}catch(e){(0,a.warn)(\"Failed to compile font \"+s.loadedName)}if(k.name){var be=p(k.name);k.name.data=M(e,be)}else k.name={tag:\"name\",data:M(this.name)};var ye=new _(b.version);for(var we in k)ye.addTable(we,k[we].data);return ye.toArray()},convert:function(e,t,r){r.fixedPitch=!1,r.builtInEncoding&&function(e,t){if(!e.hasIncludedToUnicodeMap&&!(e.hasEncoding||t===e.defaultEncoding||e.toUnicode instanceof A)){var r=[],a=(0,i.getGlyphsUnicode)();for(var n in t){var o=t[n],s=(0,c.getUnicodeForGlyph)(o,a);-1!==s&&(r[n]=String.fromCharCode(s))}e.toUnicode.amend(r)}}(r,r.builtInEncoding);var n=1;t instanceof E&&(n=t.numGlyphs-1);var s=t.getGlyphMapping(r),l=F(s,t.hasGlyphId.bind(t),n);this.toFontChar=l.toFontChar;var u=t.numGlyphs;function h(e,t){var r=null;for(var a in e)t===e[a]&&(r||(r=[]),r.push(0|a));return r}function f(e,t){for(var r in e)if(t===e[r])return 0|r;return l.charCodeToGlyphId[l.nextAvailableFontCharCode]=t,l.nextAvailableFontCharCode++}var g=t.seacs;if(v&&g&&g.length){var m=r.fontMatrix||a.FONT_IDENTITY_MATRIX,p=t.getCharset(),b=Object.create(null);for(var y in g){var w=g[y|=0],k=o.StandardEncoding[w[2]],S=o.StandardEncoding[w[3]],C=p.indexOf(k),x=p.indexOf(S);if(!(C<0||x<0)){var I={x:w[0]*m[0]+w[1]*m[2]+m[4],y:w[0]*m[1]+w[1]*m[3]+m[5]},O=h(s,y);if(O)for(var T=0,L=O.length;T<L;T++){var N=O[T],U=l.charCodeToGlyphId,q=f(U,C),j=f(U,x);b[N]={baseFontCharCode:q,accentFontCharCode:j,accentOffset:I}}}}r.seacMap=b}var z=1/(r.fontMatrix||a.FONT_IDENTITY_MATRIX)[0],H=new _(\"OTTO\");return H.addTable(\"CFF \",t.data),H.addTable(\"OS/2\",B(r,l.charCodeToGlyphId)),H.addTable(\"cmap\",R(l.charCodeToGlyphId,u)),H.addTable(\"head\",\"\\0\u0001\\0\\0\\0\\0\u0010\\0\\0\\0\\0\\0_\u000f<\\0\\0\"+P(z)+\"\\0\\0\\0\\0\\v~'\\0\\0\\0\\0\\v~'\\0\\0\"+P(r.descent)+\"\u000f\"+P(r.ascent)+d(r.italicAngle?2:0)+\"\\0\u0011\\0\\0\\0\\0\\0\\0\"),H.addTable(\"hhea\",\"\\0\u0001\\0\\0\"+P(r.ascent)+P(r.descent)+\"\\0\\0\\0\\0\\0\\0\\0\\0\"+P(r.capHeight)+P(Math.tan(r.italicAngle)*r.xHeight)+\"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"+d(u)),H.addTable(\"hmtx\",function(){for(var e=t.charstrings,r=t.cff?t.cff.widths:null,a=\"\\0\\0\\0\\0\",n=1,i=u;n<i;n++){var o=0;if(e){var s=e[n-1];o=\"width\"in s?s.width:0}else r&&(o=Math.ceil(r[n]||0));a+=d(o)+d(0)}return a}()),H.addTable(\"maxp\",\"\\0\\0P\\0\"+d(u)),H.addTable(\"name\",M(e)),H.addTable(\"post\",D(r)),H.toArray()},get spaceWidth(){if(\"_shadowWidth\"in this)return this._shadowWidth;for(var e,t=[\"space\",\"minus\",\"one\",\"i\",\"I\"],r=0,a=t.length;r<a;r++){var n=t[r];if(n in this.widths){e=this.widths[n];break}var o=(0,i.getGlyphsUnicode)()[n],s=0;if(this.composite&&this.cMap.contains(o)&&(s=this.cMap.lookup(o)),!s&&this.toUnicode&&(s=this.toUnicode.charCodeOf(o)),s<=0&&(s=o),e=this.widths[s])break}return e=e||this.defaultWidth,this._shadowWidth=e,e},charToGlyph:function(e,t){var r,n,i,o=e;this.cMap&&this.cMap.contains(e)&&(o=this.cMap.lookup(e)),n=this.widths[o],n=(0,a.isNum)(n)?n:this.defaultWidth;var s=this.vmetrics&&this.vmetrics[o],l=this.toUnicode.get(e)||this.fallbackToUnicode.get(e)||e;\"number\"==typeof l&&(l=String.fromCharCode(l));var u=e in this.toFontChar;r=this.toFontChar[e]||e,this.missingFile&&(r=(0,c.mapSpecialUnicodeValues)(r)),this.isType3Font&&(i=r);var h=null;if(this.seacMap&&this.seacMap[e]){u=!0;var f=this.seacMap[e];r=f.baseFontCharCode,h={fontChar:String.fromCodePoint(f.accentFontCharCode),offset:f.accentOffset}}var d=\"number\"==typeof r?String.fromCodePoint(r):\"\",g=this.glyphCache[e];return g&&g.matchesForCache(d,l,h,n,s,i,t,u)||(g=new C(d,l,h,n,s,i,t,u),this.glyphCache[e]=g),g},charsToGlyphs:function(e){var t,r,a,n=this.charsCache;if(n&&(t=n[e]))return t;n||(n=this.charsCache=Object.create(null)),t=[];var i,o=e,s=0;if(this.cMap)for(var c=Object.create(null);s<e.length;){this.cMap.readCharCode(e,s,c),a=c.charcode;var l=c.length;s+=l;var u=1===l&&32===e.charCodeAt(s-1);r=this.charToGlyph(a,u),t.push(r)}else for(s=0,i=e.length;s<i;++s)a=e.charCodeAt(s),r=this.charToGlyph(a,32===a),t.push(r);return n[o]=t},get glyphCacheValues(){return Object.values(this.glyphCache)}},e}();t.Font=P;var I=function(){function e(e){this.error=e,this.loadedName=\"g_font_error\",this.missingFile=!0}return e.prototype={charsToGlyphs:function(){return[]},exportData:function(){return{error:this.error}}},e}();function O(e,t,r){var a,n,s,c=Object.create(null),l=!!(e.flags&b.Symbolic);if(e.baseEncodingName)for(s=(0,o.getEncoding)(e.baseEncodingName),n=0;n<s.length;n++)a=r.indexOf(s[n]),c[n]=a>=0?a:0;else if(l)for(n in t)c[n]=t[n];else for(s=o.StandardEncoding,n=0;n<s.length;n++)a=r.indexOf(s[n]),c[n]=a>=0?a:0;var u,h=e.differences;if(h)for(n in h){var f=h[n];if(-1===(a=r.indexOf(f))){u||(u=(0,i.getGlyphsUnicode)());var d=S(f,u);d!==f&&(a=r.indexOf(d))}c[n]=a>=0?a:0}return c}t.ErrorFont=I;var T=function(){function e(e,t,r){for(var n,i=e.length,o=t.length,s=i-o,c=r,l=!1;c<s;){for(n=0;n<o&&e[c+n]===t[n];)n++;if(n>=o){for(c+=n;c<i&&(0,a.isSpace)(e[c]);)c++;l=!0;break}c++}return{found:l,length:c}}function t(t,r,n){var i=n.length1,o=(n.length2,r.peekBytes(6)),s=128===o[0]&&1===o[1];s&&(r.skip(6),i=o[5]<<24|o[4]<<16|o[3]<<8|o[2]);var c=function(t,r){var n,i,o,s,c=[101,101,120,101,99],l=t.pos;try{i=(n=t.getBytes(r)).length}catch(e){if(e instanceof h.MissingDataException)throw e}if(i===r&&(o=e(n,c,r-2*c.length)).found&&o.length===r)return{stream:new f.Stream(n),length:r};for((0,a.warn)('Invalid \"Length1\" property in Type1 font -- trying to recover.'),t.pos=l;0!==(o=e(t.peekBytes(2048),c,0)).length;)if(t.pos+=o.length,o.found){s=t.pos-l;break}return t.pos=l,s?{stream:new f.Stream(t.getBytes(s)),length:s}:((0,a.warn)('Unable to recover \"Length1\" property in Type1 font -- using as is.'),{stream:new f.Stream(t.getBytes(r)),length:r})}(r,i);new d.Type1Parser(c.stream,!1,v).extractFontHeader(n),s&&((o=r.getBytes(6))[5],o[4],o[3],o[2]);var l,u=(l=r.getBytes(),{stream:new f.Stream(l),length:l.length}),g=new d.Type1Parser(u.stream,!0,v).extractFontProgram();for(var m in g.properties)n[m]=g.properties[m];var p=g.charstrings,b=this.getType2Charstrings(p),y=this.getType2Subrs(g.subrs);this.charstrings=p,this.data=this.wrap(t,b,this.charstrings,y,n),this.seacs=this.getSeacs(g.charstrings)}return t.prototype={get numGlyphs(){return this.charstrings.length+1},getCharset:function(){for(var e=[\".notdef\"],t=this.charstrings,r=0;r<t.length;r++)e.push(t[r].glyphName);return e},getGlyphMapping:function(e){var t,r=this.charstrings,a=[\".notdef\"];for(t=0;t<r.length;t++)a.push(r[t].glyphName);var n=e.builtInEncoding;if(n){var i=Object.create(null);for(var o in n)(t=a.indexOf(n[o]))>=0&&(i[o]=t)}return O(e,i,a)},hasGlyphId:function(e){return!(e<0||e>=this.numGlyphs)&&(0===e||this.charstrings[e-1].charstring.length>0)},getSeacs:function(e){var t,r,a=[];for(t=0,r=e.length;t<r;t++){var n=e[t];n.seac&&(a[t+1]=n.seac)}return a},getType2Charstrings:function(e){for(var t=[],r=0,a=e.length;r<a;r++)t.push(e[r].charstring);return t},getType2Subrs:function(e){var t=0,r=e.length;t=r<1133?107:r<33769?1131:32768;var a,n=[];for(a=0;a<t;a++)n.push([11]);for(a=0;a<r;a++)n.push(e[a]);return n},wrap:function(e,t,r,a,i){var o=new n.CFF;o.header=new n.CFFHeader(1,0,4,4),o.names=[e];var s=new n.CFFTopDict;s.setByName(\"version\",391),s.setByName(\"Notice\",392),s.setByName(\"FullName\",393),s.setByName(\"FamilyName\",394),s.setByName(\"Weight\",395),s.setByName(\"Encoding\",null),s.setByName(\"FontMatrix\",i.fontMatrix),s.setByName(\"FontBBox\",i.bbox),s.setByName(\"charset\",null),s.setByName(\"CharStrings\",null),s.setByName(\"Private\",null),o.topDict=s;var c=new n.CFFStrings;c.add(\"Version 0.11\"),c.add(\"See original notice\"),c.add(e),c.add(e),c.add(\"Medium\"),o.strings=c,o.globalSubrIndex=new n.CFFIndex;var l,u,h=t.length,f=[\".notdef\"];for(l=0;l<h;l++){var d=r[l].glyphName;-1===n.CFFStandardStrings.indexOf(d)&&c.add(d),f.push(d)}o.charset=new n.CFFCharset(!1,0,f);var g=new n.CFFIndex;for(g.add([139,14]),l=0;l<h;l++)g.add(t[l]);o.charStrings=g;var m=new n.CFFPrivateDict;m.setByName(\"Subrs\",null);var p=[\"BlueValues\",\"OtherBlues\",\"FamilyBlues\",\"FamilyOtherBlues\",\"StemSnapH\",\"StemSnapV\",\"BlueShift\",\"BlueFuzz\",\"BlueScale\",\"LanguageGroup\",\"ExpansionFactor\",\"ForceBold\",\"StdHW\",\"StdVW\"];for(l=0,u=p.length;l<u;l++){var v=p[l];if(v in i.privateData){var b=i.privateData[v];if(Array.isArray(b))for(var y=b.length-1;y>0;y--)b[y]-=b[y-1];m.setByName(v,b)}}o.topDict.privateDict=m;var w=new n.CFFIndex;for(l=0,u=a.length;l<u;l++)w.add(a[l]);return m.subrsIndex=w,new n.CFFCompiler(o).compile()}},t}(),E=function(){function e(e,t){this.properties=t;var r=new n.CFFParser(e,t,v);this.cff=r.parse(),this.cff.duplicateFirstGlyph();var i=new n.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=i.compile()}catch(r){(0,a.warn)(\"Failed to compile font \"+t.loadedName),this.data=e}}return e.prototype={get numGlyphs(){return this.cff.charStrings.count},getCharset:function(){return this.cff.charset.charset},getGlyphMapping:function(){var e,t,r=this.cff,a=this.properties,n=r.charset.charset;if(a.composite){if(e=Object.create(null),r.isCIDFont)for(t=0;t<n.length;t++){var i=n[t];e[a.cMap.charCodeOf(i)]=t}else for(t=0;t<r.charStrings.count;t++)e[a.cMap.charCodeOf(t)]=t;return e}return e=O(a,r.encoding?r.encoding.encoding:null,n)},hasGlyphId:function(e){return this.cff.hasGlyphId(e)}},e}()},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CFFFDSelect=t.CFFCompiler=t.CFFPrivateDict=t.CFFTopDict=t.CFFCharset=t.CFFIndex=t.CFFStrings=t.CFFHeader=t.CFF=t.CFFParser=t.CFFStandardStrings=void 0;var a=r(5),n=r(176),i=r(177),o=[\".notdef\",\"space\",\"exclam\",\"quotedbl\",\"numbersign\",\"dollar\",\"percent\",\"ampersand\",\"quoteright\",\"parenleft\",\"parenright\",\"asterisk\",\"plus\",\"comma\",\"hyphen\",\"period\",\"slash\",\"zero\",\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\"eight\",\"nine\",\"colon\",\"semicolon\",\"less\",\"equal\",\"greater\",\"question\",\"at\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\"bracketleft\",\"backslash\",\"bracketright\",\"asciicircum\",\"underscore\",\"quoteleft\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\",\"braceleft\",\"bar\",\"braceright\",\"asciitilde\",\"exclamdown\",\"cent\",\"sterling\",\"fraction\",\"yen\",\"florin\",\"section\",\"currency\",\"quotesingle\",\"quotedblleft\",\"guillemotleft\",\"guilsinglleft\",\"guilsinglright\",\"fi\",\"fl\",\"endash\",\"dagger\",\"daggerdbl\",\"periodcentered\",\"paragraph\",\"bullet\",\"quotesinglbase\",\"quotedblbase\",\"quotedblright\",\"guillemotright\",\"ellipsis\",\"perthousand\",\"questiondown\",\"grave\",\"acute\",\"circumflex\",\"tilde\",\"macron\",\"breve\",\"dotaccent\",\"dieresis\",\"ring\",\"cedilla\",\"hungarumlaut\",\"ogonek\",\"caron\",\"emdash\",\"AE\",\"ordfeminine\",\"Lslash\",\"Oslash\",\"OE\",\"ordmasculine\",\"ae\",\"dotlessi\",\"lslash\",\"oslash\",\"oe\",\"germandbls\",\"onesuperior\",\"logicalnot\",\"mu\",\"trademark\",\"Eth\",\"onehalf\",\"plusminus\",\"Thorn\",\"onequarter\",\"divide\",\"brokenbar\",\"degree\",\"thorn\",\"threequarters\",\"twosuperior\",\"registered\",\"minus\",\"eth\",\"multiply\",\"threesuperior\",\"copyright\",\"Aacute\",\"Acircumflex\",\"Adieresis\",\"Agrave\",\"Aring\",\"Atilde\",\"Ccedilla\",\"Eacute\",\"Ecircumflex\",\"Edieresis\",\"Egrave\",\"Iacute\",\"Icircumflex\",\"Idieresis\",\"Igrave\",\"Ntilde\",\"Oacute\",\"Ocircumflex\",\"Odieresis\",\"Ograve\",\"Otilde\",\"Scaron\",\"Uacute\",\"Ucircumflex\",\"Udieresis\",\"Ugrave\",\"Yacute\",\"Ydieresis\",\"Zcaron\",\"aacute\",\"acircumflex\",\"adieresis\",\"agrave\",\"aring\",\"atilde\",\"ccedilla\",\"eacute\",\"ecircumflex\",\"edieresis\",\"egrave\",\"iacute\",\"icircumflex\",\"idieresis\",\"igrave\",\"ntilde\",\"oacute\",\"ocircumflex\",\"odieresis\",\"ograve\",\"otilde\",\"scaron\",\"uacute\",\"ucircumflex\",\"udieresis\",\"ugrave\",\"yacute\",\"ydieresis\",\"zcaron\",\"exclamsmall\",\"Hungarumlautsmall\",\"dollaroldstyle\",\"dollarsuperior\",\"ampersandsmall\",\"Acutesmall\",\"parenleftsuperior\",\"parenrightsuperior\",\"twodotenleader\",\"onedotenleader\",\"zerooldstyle\",\"oneoldstyle\",\"twooldstyle\",\"threeoldstyle\",\"fouroldstyle\",\"fiveoldstyle\",\"sixoldstyle\",\"sevenoldstyle\",\"eightoldstyle\",\"nineoldstyle\",\"commasuperior\",\"threequartersemdash\",\"periodsuperior\",\"questionsmall\",\"asuperior\",\"bsuperior\",\"centsuperior\",\"dsuperior\",\"esuperior\",\"isuperior\",\"lsuperior\",\"msuperior\",\"nsuperior\",\"osuperior\",\"rsuperior\",\"ssuperior\",\"tsuperior\",\"ff\",\"ffi\",\"ffl\",\"parenleftinferior\",\"parenrightinferior\",\"Circumflexsmall\",\"hyphensuperior\",\"Gravesmall\",\"Asmall\",\"Bsmall\",\"Csmall\",\"Dsmall\",\"Esmall\",\"Fsmall\",\"Gsmall\",\"Hsmall\",\"Ismall\",\"Jsmall\",\"Ksmall\",\"Lsmall\",\"Msmall\",\"Nsmall\",\"Osmall\",\"Psmall\",\"Qsmall\",\"Rsmall\",\"Ssmall\",\"Tsmall\",\"Usmall\",\"Vsmall\",\"Wsmall\",\"Xsmall\",\"Ysmall\",\"Zsmall\",\"colonmonetary\",\"onefitted\",\"rupiah\",\"Tildesmall\",\"exclamdownsmall\",\"centoldstyle\",\"Lslashsmall\",\"Scaronsmall\",\"Zcaronsmall\",\"Dieresissmall\",\"Brevesmall\",\"Caronsmall\",\"Dotaccentsmall\",\"Macronsmall\",\"figuredash\",\"hypheninferior\",\"Ogoneksmall\",\"Ringsmall\",\"Cedillasmall\",\"questiondownsmall\",\"oneeighth\",\"threeeighths\",\"fiveeighths\",\"seveneighths\",\"onethird\",\"twothirds\",\"zerosuperior\",\"foursuperior\",\"fivesuperior\",\"sixsuperior\",\"sevensuperior\",\"eightsuperior\",\"ninesuperior\",\"zeroinferior\",\"oneinferior\",\"twoinferior\",\"threeinferior\",\"fourinferior\",\"fiveinferior\",\"sixinferior\",\"seveninferior\",\"eightinferior\",\"nineinferior\",\"centinferior\",\"dollarinferior\",\"periodinferior\",\"commainferior\",\"Agravesmall\",\"Aacutesmall\",\"Acircumflexsmall\",\"Atildesmall\",\"Adieresissmall\",\"Aringsmall\",\"AEsmall\",\"Ccedillasmall\",\"Egravesmall\",\"Eacutesmall\",\"Ecircumflexsmall\",\"Edieresissmall\",\"Igravesmall\",\"Iacutesmall\",\"Icircumflexsmall\",\"Idieresissmall\",\"Ethsmall\",\"Ntildesmall\",\"Ogravesmall\",\"Oacutesmall\",\"Ocircumflexsmall\",\"Otildesmall\",\"Odieresissmall\",\"OEsmall\",\"Oslashsmall\",\"Ugravesmall\",\"Uacutesmall\",\"Ucircumflexsmall\",\"Udieresissmall\",\"Yacutesmall\",\"Thornsmall\",\"Ydieresissmall\",\"001.000\",\"001.001\",\"001.002\",\"001.003\",\"Black\",\"Bold\",\"Book\",\"Light\",\"Medium\",\"Regular\",\"Roman\",\"Semibold\"];t.CFFStandardStrings=o;var s=function(){var e=[null,{id:\"hstem\",min:2,stackClearing:!0,stem:!0},null,{id:\"vstem\",min:2,stackClearing:!0,stem:!0},{id:\"vmoveto\",min:1,stackClearing:!0},{id:\"rlineto\",min:2,resetStack:!0},{id:\"hlineto\",min:1,resetStack:!0},{id:\"vlineto\",min:1,resetStack:!0},{id:\"rrcurveto\",min:6,resetStack:!0},null,{id:\"callsubr\",min:1,undefStack:!0},{id:\"return\",min:0,undefStack:!0},null,null,{id:\"endchar\",min:0,stackClearing:!0},null,null,null,{id:\"hstemhm\",min:2,stackClearing:!0,stem:!0},{id:\"hintmask\",min:0,stackClearing:!0},{id:\"cntrmask\",min:0,stackClearing:!0},{id:\"rmoveto\",min:2,stackClearing:!0},{id:\"hmoveto\",min:1,stackClearing:!0},{id:\"vstemhm\",min:2,stackClearing:!0,stem:!0},{id:\"rcurveline\",min:8,resetStack:!0},{id:\"rlinecurve\",min:8,resetStack:!0},{id:\"vvcurveto\",min:4,resetStack:!0},{id:\"hhcurveto\",min:4,resetStack:!0},null,{id:\"callgsubr\",min:1,undefStack:!0},{id:\"vhcurveto\",min:4,resetStack:!0},{id:\"hvcurveto\",min:4,resetStack:!0}],t=[null,null,null,{id:\"and\",min:2,stackDelta:-1},{id:\"or\",min:2,stackDelta:-1},{id:\"not\",min:1,stackDelta:0},null,null,null,{id:\"abs\",min:1,stackDelta:0},{id:\"add\",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]+e[t-1]}},{id:\"sub\",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]-e[t-1]}},{id:\"div\",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]/e[t-1]}},null,{id:\"neg\",min:1,stackDelta:0,stackFn:function(e,t){e[t-1]=-e[t-1]}},{id:\"eq\",min:2,stackDelta:-1},null,null,{id:\"drop\",min:1,stackDelta:-1},null,{id:\"put\",min:2,stackDelta:-2},{id:\"get\",min:1,stackDelta:0},{id:\"ifelse\",min:4,stackDelta:-3},{id:\"random\",min:0,stackDelta:1},{id:\"mul\",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]*e[t-1]}},null,{id:\"sqrt\",min:1,stackDelta:0},{id:\"dup\",min:1,stackDelta:1},{id:\"exch\",min:2,stackDelta:0},{id:\"index\",min:2,stackDelta:0},{id:\"roll\",min:3,stackDelta:-2},null,null,null,{id:\"hflex\",min:7,resetStack:!0},{id:\"flex\",min:13,resetStack:!0},{id:\"hflex1\",min:9,resetStack:!0},{id:\"flex1\",min:11,resetStack:!0}];function r(e,t,r){this.bytes=e.getBytes(),this.properties=t,this.seacAnalysisEnabled=!!r}return r.prototype={parse:function(){var e=this.properties,t=new c;this.cff=t;var r=this.parseHeader(),a=this.parseIndex(r.endPos),n=this.parseIndex(a.endPos),i=this.parseIndex(n.endPos),o=this.parseIndex(i.endPos),s=this.parseDict(n.obj.get(0)),l=this.createDict(d,s,t.strings);t.header=r.obj,t.names=this.parseNameIndex(a.obj),t.strings=this.parseStringIndex(i.obj),t.topDict=l,t.globalSubrIndex=o.obj,this.parsePrivateDict(t.topDict),t.isCIDFont=l.hasName(\"ROS\");var u=l.getByName(\"CharStrings\"),h=this.parseIndex(u).obj,f=l.getByName(\"FontMatrix\");f&&(e.fontMatrix=f);var g,m,p=l.getByName(\"FontBBox\");if(p&&(e.ascent=Math.max(p[3],p[1]),e.descent=Math.min(p[1],p[3]),e.ascentScaled=!0),t.isCIDFont){for(var v=this.parseIndex(l.getByName(\"FDArray\")).obj,b=0,y=v.count;b<y;++b){var w=v.get(b),k=this.createDict(d,this.parseDict(w),t.strings);this.parsePrivateDict(k),t.fdArray.push(k)}m=null,g=this.parseCharsets(l.getByName(\"charset\"),h.count,t.strings,!0),t.fdSelect=this.parseFDSelect(l.getByName(\"FDSelect\"),h.count)}else g=this.parseCharsets(l.getByName(\"charset\"),h.count,t.strings,!1),m=this.parseEncoding(l.getByName(\"Encoding\"),e,t.strings,g.charset);t.charset=g,t.encoding=m;var S=this.parseCharStrings({charStrings:h,localSubrIndex:l.privateDict.subrsIndex,globalSubrIndex:o.obj,fdSelect:t.fdSelect,fdArray:t.fdArray,privateDict:l.privateDict});return t.charStrings=S.charStrings,t.seacs=S.seacs,t.widths=S.widths,t},parseHeader:function(){for(var e=this.bytes,t=e.length,r=0;r<t&&1!==e[r];)++r;if(r>=t)throw new a.FormatError(\"Invalid CFF header\");0!==r&&((0,a.info)(\"cff data is shifted\"),e=e.subarray(r),this.bytes=e);var n=e[0],i=e[1],o=e[2],s=e[3];return{obj:new l(n,i,o,s),endPos:o}},parseDict:function(e){var t=0;function r(){var r=e[t++];return 30===r?function(){var r=\"\",a=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\".\",\"E\",\"E-\",null,\"-\"],n=e.length;for(;t<n;){var i=e[t++],o=i>>4,s=15&i;if(15===o)break;if(r+=a[o],15===s)break;r+=a[s]}return parseFloat(r)}():28===r?r=((r=e[t++])<<24|e[t++]<<16)>>16:29===r?r=(r=(r=(r=e[t++])<<8|e[t++])<<8|e[t++])<<8|e[t++]:r>=32&&r<=246?r-139:r>=247&&r<=250?256*(r-247)+e[t++]+108:r>=251&&r<=254?-256*(r-251)-e[t++]-108:((0,a.warn)('CFFParser_parseDict: \"'+r+'\" is a reserved command.'),NaN)}var n=[],i=[];t=0;for(var o=e.length;t<o;){var s=e[t];s<=21?(12===s&&(s=s<<8|e[++t]),i.push([s,n]),n=[],++t):n.push(r())}return i},parseIndex:function(e){var t,r,a=new h,n=this.bytes,i=n[e++]<<8|n[e++],o=[],s=e;if(0!==i){var c=n[e++],l=e+(i+1)*c-1;for(t=0,r=i+1;t<r;++t){for(var u=0,f=0;f<c;++f)u<<=8,u+=n[e++];o.push(l+u)}s=o[i]}for(t=0,r=o.length-1;t<r;++t){var d=o[t],g=o[t+1];a.add(n.subarray(d,g))}return{obj:a,endPos:s}},parseNameIndex:function(e){for(var t=[],r=0,n=e.count;r<n;++r){var i=e.get(r);t.push((0,a.bytesToString)(i))}return t},parseStringIndex:function(e){for(var t=new u,r=0,n=e.count;r<n;++r){var i=e.get(r);t.add((0,a.bytesToString)(i))}return t},createDict:function(e,t,r){for(var a=new e(r),n=0,i=t.length;n<i;++n){var o=t[n],s=o[0],c=o[1];a.setByKey(s,c)}return a},parseCharString:function(r,n,i,o){if(!n||r.callDepth>10)return!1;for(var s=r.stackSize,c=r.stack,l=n.length,u=0;u<l;){var h=n[u++],f=null;if(12===h){var d=n[u++];0===d?(n[u-2]=139,n[u-1]=22,s=0):f=t[d]}else if(28===h)c[s]=(n[u]<<24|n[u+1]<<16)>>16,u+=2,s++;else if(14===h){if(s>=4&&(s-=4,this.seacAnalysisEnabled))return r.seac=c.slice(s,s+4),!1;f=e[h]}else if(h>=32&&h<=246)c[s]=h-139,s++;else if(h>=247&&h<=254)c[s]=h<251?(h-247<<8)+n[u]+108:-(h-251<<8)-n[u]-108,u++,s++;else if(255===h)c[s]=(n[u]<<24|n[u+1]<<16|n[u+2]<<8|n[u+3])/65536,u+=4,s++;else if(19===h||20===h)r.hints+=s>>1,u+=r.hints+7>>3,s%=2,f=e[h];else{if(10===h||29===h){var g;if(!(g=10===h?i:o))return f=e[h],(0,a.warn)(\"Missing subrsIndex for \"+f.id),!1;var m=32768;g.count<1240?m=107:g.count<33900&&(m=1131);var p=c[--s]+m;if(p<0||p>=g.count||isNaN(p))return f=e[h],(0,a.warn)(\"Out of bounds subrIndex for \"+f.id),!1;if(r.stackSize=s,r.callDepth++,!this.parseCharString(r,g.get(p),i,o))return!1;r.callDepth--,s=r.stackSize;continue}if(11===h)return r.stackSize=s,!0;f=e[h]}if(f){if(f.stem&&(r.hints+=s>>1,3===h||23===h?r.hasVStems=!0:!r.hasVStems||1!==h&&18!==h||((0,a.warn)(\"CFF stem hints are in wrong order\"),n[u-1]=1===h?3:23)),\"min\"in f&&!r.undefStack&&s<f.min)return(0,a.warn)(\"Not enough parameters for \"+f.id+\"; actual: \"+s+\", expected: \"+f.min),!1;r.firstStackClearing&&f.stackClearing&&(r.firstStackClearing=!1,(s-=f.min)>=2&&f.stem?s%=2:s>1&&(0,a.warn)(\"Found too many parameters for stack-clearing command\"),s>0&&c[s-1]>=0&&(r.width=c[s-1])),\"stackDelta\"in f?(\"stackFn\"in f&&f.stackFn(c,s),s+=f.stackDelta):f.stackClearing?s=0:f.resetStack?(s=0,r.undefStack=!1):f.undefStack&&(s=0,r.undefStack=!0,r.firstStackClearing=!1)}}return r.stackSize=s,!0},parseCharStrings:function(e){for(var t=e.charStrings,r=e.localSubrIndex,n=e.globalSubrIndex,i=e.fdSelect,o=e.fdArray,s=e.privateDict,c=[],l=[],u=t.count,h=0;h<u;h++){var f=t.get(h),d={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1},g=!0,m=null,p=s;if(i&&o.length){var v=i.getFDIndex(h);-1===v&&((0,a.warn)(\"Glyph index is not in fd select.\"),g=!1),v>=o.length&&((0,a.warn)(\"Invalid fd index for glyph index.\"),g=!1),g&&(m=(p=o[v].privateDict).subrsIndex)}else r&&(m=r);if(g&&(g=this.parseCharString(d,f,m,n)),null!==d.width){var b=p.getByName(\"nominalWidthX\");l[h]=b+d.width}else{var y=p.getByName(\"defaultWidthX\");l[h]=y}null!==d.seac&&(c[h]=d.seac),g||t.set(h,new Uint8Array([14]))}return{charStrings:t,seacs:c,widths:l}},emptyPrivateDictionary:function(e){var t=this.createDict(g,[],e.strings);e.setByKey(18,[0,0]),e.privateDict=t},parsePrivateDict:function(e){if(e.hasName(\"Private\")){var t=e.getByName(\"Private\");if(Array.isArray(t)&&2===t.length){var r=t[0],a=t[1];if(0===r||a>=this.bytes.length)this.emptyPrivateDictionary(e);else{var n=a+r,i=this.bytes.subarray(a,n),o=this.parseDict(i),s=this.createDict(g,o,e.strings);if(e.privateDict=s,s.getByName(\"Subrs\")){var c=s.getByName(\"Subrs\"),l=a+c;if(0===c||l>=this.bytes.length)this.emptyPrivateDictionary(e);else{var u=this.parseIndex(l);s.subrsIndex=u.obj}}}}else e.removeByName(\"Private\")}else this.emptyPrivateDictionary(e)},parseCharsets:function(e,t,r,i){if(0===e)return new p(!0,m.ISO_ADOBE,n.ISOAdobeCharset);if(1===e)return new p(!0,m.EXPERT,n.ExpertCharset);if(2===e)return new p(!0,m.EXPERT_SUBSET,n.ExpertSubsetCharset);var o,s,c,l=this.bytes,u=e,h=l[e++],f=[\".notdef\"];switch(t-=1,h){case 0:for(c=0;c<t;c++)o=l[e++]<<8|l[e++],f.push(i?o:r.get(o));break;case 1:for(;f.length<=t;)for(o=l[e++]<<8|l[e++],s=l[e++],c=0;c<=s;c++)f.push(i?o++:r.get(o++));break;case 2:for(;f.length<=t;)for(o=l[e++]<<8|l[e++],s=l[e++]<<8|l[e++],c=0;c<=s;c++)f.push(i?o++:r.get(o++));break;default:throw new a.FormatError(\"Unknown charset format\")}var d=e,g=l.subarray(u,d);return new p(!1,h,f,g)},parseEncoding:function(e,t,r,n){var o,s,c,l=Object.create(null),u=this.bytes,h=!1,f=null;if(0===e||1===e){h=!0,o=e;var d=e?i.ExpertEncoding:i.StandardEncoding;for(s=0,c=n.length;s<c;s++){var g=d.indexOf(n[s]);-1!==g&&(l[g]=s)}}else{var m=e;switch(127&(o=u[e++])){case 0:var p=u[e++];for(s=1;s<=p;s++)l[u[e++]]=s;break;case 1:var b=u[e++],y=1;for(s=0;s<b;s++)for(var w=u[e++],k=u[e++],S=w;S<=w+k;S++)l[S]=y++;break;default:throw new a.FormatError(\"Unknown encoding format: \".concat(o,\" in CFF\"))}var C=e;128&o&&(u[m]&=127,function(){var t=u[e++];for(s=0;s<t;s++){var a=u[e++],i=(u[e++]<<8)+(255&u[e++]);l[a]=n.indexOf(r.get(i))}}()),f=u.subarray(m,C)}return new v(h,o&=127,l,f)},parseFDSelect:function(e,t){var r,n=this.bytes,i=n[e++],o=[];switch(i){case 0:for(r=0;r<t;++r){var s=n[e++];o.push(s)}break;case 3:var c=n[e++]<<8|n[e++];for(r=0;r<c;++r){var l=n[e++]<<8|n[e++];0===r&&0!==l&&((0,a.warn)(\"parseFDSelect: The first range must have a first GID of 0 -- trying to recover.\"),l=0);for(var u=n[e++],h=n[e]<<8|n[e+1],f=l;f<h;++f)o.push(u)}e+=2;break;default:throw new a.FormatError('parseFDSelect: Unknown format \"'.concat(i,'\".'))}if(o.length!==t)throw new a.FormatError(\"parseFDSelect: Invalid font data.\");return new b(i,o)}},r}();t.CFFParser=s;var c=function(){function e(){this.header=null,this.names=[],this.topDict=null,this.strings=new u,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}return e.prototype={duplicateFirstGlyph:function(){if(this.charStrings.count>=65535)(0,a.warn)(\"Not enough space in charstrings to duplicate first glyph.\");else{var e=this.charStrings.get(0);this.charStrings.add(e),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}},hasGlyphId:function(e){return!(e<0||e>=this.charStrings.count)&&this.charStrings.get(e).length>0}},e}();t.CFF=c;var l=function(){return function(e,t,r,a){this.major=e,this.minor=t,this.hdrSize=r,this.offSize=a}}();t.CFFHeader=l;var u=function(){function e(){this.strings=[]}return e.prototype={get:function(e){return e>=0&&e<=390?o[e]:e-391<=this.strings.length?this.strings[e-391]:o[0]},getSID:function(e){var t=o.indexOf(e);return-1!==t?t:-1!==(t=this.strings.indexOf(e))?t+391:-1},add:function(e){this.strings.push(e)},get count(){return this.strings.length}},e}();t.CFFStrings=u;var h=function(){function e(){this.objects=[],this.length=0}return e.prototype={add:function(e){this.length+=e.length,this.objects.push(e)},set:function(e,t){this.length+=t.length-this.objects[e].length,this.objects[e]=t},get:function(e){return this.objects[e]},get count(){return this.objects.length}},e}();t.CFFIndex=h;var f=function(){function e(e,t){this.keyToNameMap=e.keyToNameMap,this.nameToKeyMap=e.nameToKeyMap,this.defaults=e.defaults,this.types=e.types,this.opcodes=e.opcodes,this.order=e.order,this.strings=t,this.values=Object.create(null)}return e.prototype={setByKey:function(e,t){if(!(e in this.keyToNameMap))return!1;var r=t.length;if(0===r)return!0;for(var n=0;n<r;n++)if(isNaN(t[n]))return(0,a.warn)('Invalid CFFDict value: \"'+t+'\" for key \"'+e+'\".'),!0;var i=this.types[e];return\"num\"!==i&&\"sid\"!==i&&\"offset\"!==i||(t=t[0]),this.values[e]=t,!0},setByName:function(e,t){if(!(e in this.nameToKeyMap))throw new a.FormatError('Invalid dictionary name \"'.concat(e,'\"'));this.values[this.nameToKeyMap[e]]=t},hasName:function(e){return this.nameToKeyMap[e]in this.values},getByName:function(e){if(!(e in this.nameToKeyMap))throw new a.FormatError(\"Invalid dictionary name \".concat(e,'\"'));var t=this.nameToKeyMap[e];return t in this.values?this.values[t]:this.defaults[t]},removeByName:function(e){delete this.values[this.nameToKeyMap[e]]}},e.createTables=function(e){for(var t={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]},r=0,a=e.length;r<a;++r){var n=e[r],i=Array.isArray(n[0])?(n[0][0]<<8)+n[0][1]:n[0];t.keyToNameMap[i]=n[1],t.nameToKeyMap[n[1]]=i,t.types[i]=n[2],t.defaults[i]=n[3],t.opcodes[i]=Array.isArray(n[0])?n[0]:[n[0]],t.order.push(i)}return t},e}(),d=function(){var e=[[[12,30],\"ROS\",[\"sid\",\"sid\",\"num\"],null],[[12,20],\"SyntheticBase\",\"num\",null],[0,\"version\",\"sid\",null],[1,\"Notice\",\"sid\",null],[[12,0],\"Copyright\",\"sid\",null],[2,\"FullName\",\"sid\",null],[3,\"FamilyName\",\"sid\",null],[4,\"Weight\",\"sid\",null],[[12,1],\"isFixedPitch\",\"num\",0],[[12,2],\"ItalicAngle\",\"num\",0],[[12,3],\"UnderlinePosition\",\"num\",-100],[[12,4],\"UnderlineThickness\",\"num\",50],[[12,5],\"PaintType\",\"num\",0],[[12,6],\"CharstringType\",\"num\",2],[[12,7],\"FontMatrix\",[\"num\",\"num\",\"num\",\"num\",\"num\",\"num\"],[.001,0,0,.001,0,0]],[13,\"UniqueID\",\"num\",null],[5,\"FontBBox\",[\"num\",\"num\",\"num\",\"num\"],[0,0,0,0]],[[12,8],\"StrokeWidth\",\"num\",0],[14,\"XUID\",\"array\",null],[15,\"charset\",\"offset\",0],[16,\"Encoding\",\"offset\",0],[17,\"CharStrings\",\"offset\",0],[18,\"Private\",[\"offset\",\"offset\"],null],[[12,21],\"PostScript\",\"sid\",null],[[12,22],\"BaseFontName\",\"sid\",null],[[12,23],\"BaseFontBlend\",\"delta\",null],[[12,31],\"CIDFontVersion\",\"num\",0],[[12,32],\"CIDFontRevision\",\"num\",0],[[12,33],\"CIDFontType\",\"num\",0],[[12,34],\"CIDCount\",\"num\",8720],[[12,35],\"UIDBase\",\"num\",null],[[12,37],\"FDSelect\",\"offset\",null],[[12,36],\"FDArray\",\"offset\",null],[[12,38],\"FontName\",\"sid\",null]],t=null;function r(r){null===t&&(t=f.createTables(e)),f.call(this,t,r),this.privateDict=null}return r.prototype=Object.create(f.prototype),r}();t.CFFTopDict=d;var g=function(){var e=[[6,\"BlueValues\",\"delta\",null],[7,\"OtherBlues\",\"delta\",null],[8,\"FamilyBlues\",\"delta\",null],[9,\"FamilyOtherBlues\",\"delta\",null],[[12,9],\"BlueScale\",\"num\",.039625],[[12,10],\"BlueShift\",\"num\",7],[[12,11],\"BlueFuzz\",\"num\",1],[10,\"StdHW\",\"num\",null],[11,\"StdVW\",\"num\",null],[[12,12],\"StemSnapH\",\"delta\",null],[[12,13],\"StemSnapV\",\"delta\",null],[[12,14],\"ForceBold\",\"num\",0],[[12,17],\"LanguageGroup\",\"num\",0],[[12,18],\"ExpansionFactor\",\"num\",.06],[[12,19],\"initialRandomSeed\",\"num\",0],[20,\"defaultWidthX\",\"num\",0],[21,\"nominalWidthX\",\"num\",0],[19,\"Subrs\",\"offset\",null]],t=null;function r(r){null===t&&(t=f.createTables(e)),f.call(this,t,r),this.subrsIndex=null}return r.prototype=Object.create(f.prototype),r}();t.CFFPrivateDict=g;var m={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2},p=function(){return function(e,t,r,a){this.predefined=e,this.format=t,this.charset=r,this.raw=a}}();t.CFFCharset=p;var v=function(){return function(e,t,r,a){this.predefined=e,this.format=t,this.encoding=r,this.raw=a}}(),b=function(){function e(e,t){this.format=e,this.fdSelect=t}return e.prototype={getFDIndex:function(e){return e<0||e>=this.fdSelect.length?-1:this.fdSelect[e]}},e}();t.CFFFDSelect=b;var y=function(){function e(){this.offsets=Object.create(null)}return e.prototype={isTracking:function(e){return e in this.offsets},track:function(e,t){if(e in this.offsets)throw new a.FormatError(\"Already tracking location of \".concat(e));this.offsets[e]=t},offset:function(e){for(var t in this.offsets)this.offsets[t]+=e},setEntryLocation:function(e,t,r){if(!(e in this.offsets))throw new a.FormatError(\"Not tracking location of \".concat(e));for(var n=r.data,i=this.offsets[e],o=0,s=t.length;o<s;++o){var c=5*o+i,l=c+1,u=c+2,h=c+3,f=c+4;if(29!==n[c]||0!==n[l]||0!==n[u]||0!==n[h]||0!==n[f])throw new a.FormatError(\"writing to an offset that is not empty\");var d=t[o];n[c]=29,n[l]=d>>24&255,n[u]=d>>16&255,n[h]=d>>8&255,n[f]=255&d}}},e}(),w=function(){function e(e){this.cff=e}return e.prototype={compile:function(){var e=this.cff,t={data:[],length:0,add:function(e){this.data=this.data.concat(e),this.length=this.data.length}},r=this.compileHeader(e.header);t.add(r);var n=this.compileNameIndex(e.names);if(t.add(n),e.isCIDFont&&e.topDict.hasName(\"FontMatrix\")){var i=e.topDict.getByName(\"FontMatrix\");e.topDict.removeByName(\"FontMatrix\");for(var o=0,s=e.fdArray.length;o<s;o++){var c=e.fdArray[o],l=i.slice(0);c.hasName(\"FontMatrix\")&&(l=a.Util.transform(l,c.getByName(\"FontMatrix\"))),c.setByName(\"FontMatrix\",l)}}e.topDict.setByName(\"charset\",0);var u=this.compileTopDicts([e.topDict],t.length,e.isCIDFont);t.add(u.output);var h=u.trackers[0],f=this.compileStringIndex(e.strings.strings);t.add(f);var d=this.compileIndex(e.globalSubrIndex);if(t.add(d),e.encoding&&e.topDict.hasName(\"Encoding\"))if(e.encoding.predefined)h.setEntryLocation(\"Encoding\",[e.encoding.format],t);else{var g=this.compileEncoding(e.encoding);h.setEntryLocation(\"Encoding\",[t.length],t),t.add(g)}var m=this.compileCharset(e.charset,e.charStrings.count,e.strings,e.isCIDFont);h.setEntryLocation(\"charset\",[t.length],t),t.add(m);var p=this.compileCharStrings(e.charStrings);if(h.setEntryLocation(\"CharStrings\",[t.length],t),t.add(p),e.isCIDFont){h.setEntryLocation(\"FDSelect\",[t.length],t);var v=this.compileFDSelect(e.fdSelect);t.add(v),u=this.compileTopDicts(e.fdArray,t.length,!0),h.setEntryLocation(\"FDArray\",[t.length],t),t.add(u.output);var b=u.trackers;this.compilePrivateDicts(e.fdArray,b,t)}return this.compilePrivateDicts([e.topDict],[h],t),t.add([0]),t.data},encodeNumber:function(e){return parseFloat(e)!==parseInt(e,10)||isNaN(e)?this.encodeFloat(e):this.encodeInteger(e)},encodeFloat:function(e){var t=e.toString(),r=/\\.(\\d*?)(?:9{5,20}|0{5,20})\\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var a=parseFloat(\"1e\"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*a)/a).toString()}var n,i,o=\"\";for(n=0,i=t.length;n<i;++n){var s=t[n];o+=\"e\"===s?\"-\"===t[++n]?\"c\":\"b\":\".\"===s?\"a\":\"-\"===s?\"e\":s}var c=[30];for(n=0,i=(o+=1&o.length?\"f\":\"ff\").length;n<i;n+=2)c.push(parseInt(o.substring(n,n+2),16));return c},encodeInteger:function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[247+((e-=108)>>8),255&e]:e>=-1131&&e<=-108?[251+((e=-e-108)>>8),255&e]:e>=-32768&&e<=32767?[28,e>>8&255,255&e]:[29,e>>24&255,e>>16&255,e>>8&255,255&e]},compileHeader:function(e){return[e.major,e.minor,e.hdrSize,e.offSize]},compileNameIndex:function(e){for(var t=new h,r=0,n=e.length;r<n;++r){for(var i=e[r],o=Math.min(i.length,127),s=new Array(o),c=0;c<o;c++){var l=i[c];(l<\"!\"||l>\"~\"||\"[\"===l||\"]\"===l||\"(\"===l||\")\"===l||\"{\"===l||\"}\"===l||\"<\"===l||\">\"===l||\"/\"===l||\"%\"===l)&&(l=\"_\"),s[c]=l}\"\"===(s=s.join(\"\"))&&(s=\"Bad_Font_Name\"),t.add((0,a.stringToBytes)(s))}return this.compileIndex(t)},compileTopDicts:function(e,t,r){for(var a=[],n=new h,i=0,o=e.length;i<o;++i){var s=e[i];r&&(s.removeByName(\"CIDFontVersion\"),s.removeByName(\"CIDFontRevision\"),s.removeByName(\"CIDFontType\"),s.removeByName(\"CIDCount\"),s.removeByName(\"UIDBase\"));var c=new y,l=this.compileDict(s,c);a.push(c),n.add(l),c.offset(t)}return{trackers:a,output:n=this.compileIndex(n,a)}},compilePrivateDicts:function(e,t,r){for(var n=0,i=e.length;n<i;++n){var o=e[n],s=o.privateDict;if(!s||!o.hasName(\"Private\"))throw new a.FormatError(\"There must be a private dictionary.\");var c=new y,l=this.compileDict(s,c),u=r.length;if(c.offset(u),l.length||(u=0),t[n].setEntryLocation(\"Private\",[l.length,u],r),r.add(l),s.subrsIndex&&s.hasName(\"Subrs\")){var h=this.compileIndex(s.subrsIndex);c.setEntryLocation(\"Subrs\",[l.length],r),r.add(h)}}},compileDict:function(e,t){for(var r=[],n=e.order,i=0;i<n.length;++i){var o=n[i];if(o in e.values){var s=e.values[o],c=e.types[o];if(Array.isArray(c)||(c=[c]),Array.isArray(s)||(s=[s]),0!==s.length){for(var l=0,u=c.length;l<u;++l){var h=c[l],f=s[l];switch(h){case\"num\":case\"sid\":r=r.concat(this.encodeNumber(f));break;case\"offset\":var d=e.keyToNameMap[o];t.isTracking(d)||t.track(d,r.length),r=r.concat([29,0,0,0,0]);break;case\"array\":case\"delta\":r=r.concat(this.encodeNumber(f));for(var g=1,m=s.length;g<m;++g)r=r.concat(this.encodeNumber(s[g]));break;default:throw new a.FormatError(\"Unknown data type of \".concat(h))}}r=r.concat(e.opcodes[o])}}}return r},compileStringIndex:function(e){for(var t=new h,r=0,n=e.length;r<n;++r)t.add((0,a.stringToBytes)(e[r]));return this.compileIndex(t)},compileGlobalSubrIndex:function(){var e=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(e))},compileCharStrings:function(e){for(var t=new h,r=0;r<e.count;r++){var a=e.get(r);0!==a.length?t.add(a):t.add(new Uint8Array([139,14]))}return this.compileIndex(t)},compileCharset:function(e,t,r,n){var i,o=t-1;if(n)i=new Uint8Array([2,0,0,o>>8&255,255&o]);else{(i=new Uint8Array(1+2*o))[0]=0;for(var s=0,c=e.charset.length,l=!1,u=1;u<i.length;u+=2){var h=0;if(s<c){var f=e.charset[s++];-1===(h=r.getSID(f))&&(h=0,l||(l=!0,(0,a.warn)(\"Couldn't find \".concat(f,\" in CFF strings\"))))}i[u]=h>>8&255,i[u+1]=255&h}}return this.compileTypedArray(i)},compileEncoding:function(e){return this.compileTypedArray(e.raw)},compileFDSelect:function(e){var t,r,a=e.format;switch(a){case 0:for((t=new Uint8Array(1+e.fdSelect.length))[0]=a,r=0;r<e.fdSelect.length;r++)t[r+1]=e.fdSelect[r];break;case 3:var n=e.fdSelect[0],i=[a,0,0,0,0,n];for(r=1;r<e.fdSelect.length;r++){var o=e.fdSelect[r];o!==n&&(i.push(r>>8&255,255&r,o),n=o)}var s=(i.length-3)/3;i[1]=s>>8&255,i[2]=255&s,i.push(r>>8&255,255&r),t=new Uint8Array(i)}return this.compileTypedArray(t)},compileTypedArray:function(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e[r];return t},compileIndex:function(e,t){t=t||[];var r=e.objects,a=r.length;if(0===a)return[0,0,0];var n,i,o=[a>>8&255,255&a],s=1;for(n=0;n<a;++n)s+=r[n].length;i=s<256?1:s<65536?2:s<16777216?3:4,o.push(i);var c=1;for(n=0;n<a+1;n++)1===i?o.push(255&c):2===i?o.push(c>>8&255,255&c):3===i?o.push(c>>16&255,c>>8&255,255&c):o.push(c>>>24&255,c>>16&255,c>>8&255,255&c),r[n]&&(c+=r[n].length);for(n=0;n<a;n++){t[n]&&t[n].offset(o.length);for(var l=0,u=r[n].length;l<u;l++)o.push(r[n][l])}return o}},e}();t.CFFCompiler=w},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ExpertSubsetCharset=t.ExpertCharset=t.ISOAdobeCharset=void 0;t.ISOAdobeCharset=[\".notdef\",\"space\",\"exclam\",\"quotedbl\",\"numbersign\",\"dollar\",\"percent\",\"ampersand\",\"quoteright\",\"parenleft\",\"parenright\",\"asterisk\",\"plus\",\"comma\",\"hyphen\",\"period\",\"slash\",\"zero\",\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\"eight\",\"nine\",\"colon\",\"semicolon\",\"less\",\"equal\",\"greater\",\"question\",\"at\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\"bracketleft\",\"backslash\",\"bracketright\",\"asciicircum\",\"underscore\",\"quoteleft\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\",\"braceleft\",\"bar\",\"braceright\",\"asciitilde\",\"exclamdown\",\"cent\",\"sterling\",\"fraction\",\"yen\",\"florin\",\"section\",\"currency\",\"quotesingle\",\"quotedblleft\",\"guillemotleft\",\"guilsinglleft\",\"guilsinglright\",\"fi\",\"fl\",\"endash\",\"dagger\",\"daggerdbl\",\"periodcentered\",\"paragraph\",\"bullet\",\"quotesinglbase\",\"quotedblbase\",\"quotedblright\",\"guillemotright\",\"ellipsis\",\"perthousand\",\"questiondown\",\"grave\",\"acute\",\"circumflex\",\"tilde\",\"macron\",\"breve\",\"dotaccent\",\"dieresis\",\"ring\",\"cedilla\",\"hungarumlaut\",\"ogonek\",\"caron\",\"emdash\",\"AE\",\"ordfeminine\",\"Lslash\",\"Oslash\",\"OE\",\"ordmasculine\",\"ae\",\"dotlessi\",\"lslash\",\"oslash\",\"oe\",\"germandbls\",\"onesuperior\",\"logicalnot\",\"mu\",\"trademark\",\"Eth\",\"onehalf\",\"plusminus\",\"Thorn\",\"onequarter\",\"divide\",\"brokenbar\",\"degree\",\"thorn\",\"threequarters\",\"twosuperior\",\"registered\",\"minus\",\"eth\",\"multiply\",\"threesuperior\",\"copyright\",\"Aacute\",\"Acircumflex\",\"Adieresis\",\"Agrave\",\"Aring\",\"Atilde\",\"Ccedilla\",\"Eacute\",\"Ecircumflex\",\"Edieresis\",\"Egrave\",\"Iacute\",\"Icircumflex\",\"Idieresis\",\"Igrave\",\"Ntilde\",\"Oacute\",\"Ocircumflex\",\"Odieresis\",\"Ograve\",\"Otilde\",\"Scaron\",\"Uacute\",\"Ucircumflex\",\"Udieresis\",\"Ugrave\",\"Yacute\",\"Ydieresis\",\"Zcaron\",\"aacute\",\"acircumflex\",\"adieresis\",\"agrave\",\"aring\",\"atilde\",\"ccedilla\",\"eacute\",\"ecircumflex\",\"edieresis\",\"egrave\",\"iacute\",\"icircumflex\",\"idieresis\",\"igrave\",\"ntilde\",\"oacute\",\"ocircumflex\",\"odieresis\",\"ograve\",\"otilde\",\"scaron\",\"uacute\",\"ucircumflex\",\"udieresis\",\"ugrave\",\"yacute\",\"ydieresis\",\"zcaron\"];t.ExpertCharset=[\".notdef\",\"space\",\"exclamsmall\",\"Hungarumlautsmall\",\"dollaroldstyle\",\"dollarsuperior\",\"ampersandsmall\",\"Acutesmall\",\"parenleftsuperior\",\"parenrightsuperior\",\"twodotenleader\",\"onedotenleader\",\"comma\",\"hyphen\",\"period\",\"fraction\",\"zerooldstyle\",\"oneoldstyle\",\"twooldstyle\",\"threeoldstyle\",\"fouroldstyle\",\"fiveoldstyle\",\"sixoldstyle\",\"sevenoldstyle\",\"eightoldstyle\",\"nineoldstyle\",\"colon\",\"semicolon\",\"commasuperior\",\"threequartersemdash\",\"periodsuperior\",\"questionsmall\",\"asuperior\",\"bsuperior\",\"centsuperior\",\"dsuperior\",\"esuperior\",\"isuperior\",\"lsuperior\",\"msuperior\",\"nsuperior\",\"osuperior\",\"rsuperior\",\"ssuperior\",\"tsuperior\",\"ff\",\"fi\",\"fl\",\"ffi\",\"ffl\",\"parenleftinferior\",\"parenrightinferior\",\"Circumflexsmall\",\"hyphensuperior\",\"Gravesmall\",\"Asmall\",\"Bsmall\",\"Csmall\",\"Dsmall\",\"Esmall\",\"Fsmall\",\"Gsmall\",\"Hsmall\",\"Ismall\",\"Jsmall\",\"Ksmall\",\"Lsmall\",\"Msmall\",\"Nsmall\",\"Osmall\",\"Psmall\",\"Qsmall\",\"Rsmall\",\"Ssmall\",\"Tsmall\",\"Usmall\",\"Vsmall\",\"Wsmall\",\"Xsmall\",\"Ysmall\",\"Zsmall\",\"colonmonetary\",\"onefitted\",\"rupiah\",\"Tildesmall\",\"exclamdownsmall\",\"centoldstyle\",\"Lslashsmall\",\"Scaronsmall\",\"Zcaronsmall\",\"Dieresissmall\",\"Brevesmall\",\"Caronsmall\",\"Dotaccentsmall\",\"Macronsmall\",\"figuredash\",\"hypheninferior\",\"Ogoneksmall\",\"Ringsmall\",\"Cedillasmall\",\"onequarter\",\"onehalf\",\"threequarters\",\"questiondownsmall\",\"oneeighth\",\"threeeighths\",\"fiveeighths\",\"seveneighths\",\"onethird\",\"twothirds\",\"zerosuperior\",\"onesuperior\",\"twosuperior\",\"threesuperior\",\"foursuperior\",\"fivesuperior\",\"sixsuperior\",\"sevensuperior\",\"eightsuperior\",\"ninesuperior\",\"zeroinferior\",\"oneinferior\",\"twoinferior\",\"threeinferior\",\"fourinferior\",\"fiveinferior\",\"sixinferior\",\"seveninferior\",\"eightinferior\",\"nineinferior\",\"centinferior\",\"dollarinferior\",\"periodinferior\",\"commainferior\",\"Agravesmall\",\"Aacutesmall\",\"Acircumflexsmall\",\"Atildesmall\",\"Adieresissmall\",\"Aringsmall\",\"AEsmall\",\"Ccedillasmall\",\"Egravesmall\",\"Eacutesmall\",\"Ecircumflexsmall\",\"Edieresissmall\",\"Igravesmall\",\"Iacutesmall\",\"Icircumflexsmall\",\"Idieresissmall\",\"Ethsmall\",\"Ntildesmall\",\"Ogravesmall\",\"Oacutesmall\",\"Ocircumflexsmall\",\"Otildesmall\",\"Odieresissmall\",\"OEsmall\",\"Oslashsmall\",\"Ugravesmall\",\"Uacutesmall\",\"Ucircumflexsmall\",\"Udieresissmall\",\"Yacutesmall\",\"Thornsmall\",\"Ydieresissmall\"];t.ExpertSubsetCharset=[\".notdef\",\"space\",\"dollaroldstyle\",\"dollarsuperior\",\"parenleftsuperior\",\"parenrightsuperior\",\"twodotenleader\",\"onedotenleader\",\"comma\",\"hyphen\",\"period\",\"fraction\",\"zerooldstyle\",\"oneoldstyle\",\"twooldstyle\",\"threeoldstyle\",\"fouroldstyle\",\"fiveoldstyle\",\"sixoldstyle\",\"sevenoldstyle\",\"eightoldstyle\",\"nineoldstyle\",\"colon\",\"semicolon\",\"commasuperior\",\"threequartersemdash\",\"periodsuperior\",\"asuperior\",\"bsuperior\",\"centsuperior\",\"dsuperior\",\"esuperior\",\"isuperior\",\"lsuperior\",\"msuperior\",\"nsuperior\",\"osuperior\",\"rsuperior\",\"ssuperior\",\"tsuperior\",\"ff\",\"fi\",\"fl\",\"ffi\",\"ffl\",\"parenleftinferior\",\"parenrightinferior\",\"hyphensuperior\",\"colonmonetary\",\"onefitted\",\"rupiah\",\"centoldstyle\",\"figuredash\",\"hypheninferior\",\"onequarter\",\"onehalf\",\"threequarters\",\"oneeighth\",\"threeeighths\",\"fiveeighths\",\"seveneighths\",\"onethird\",\"twothirds\",\"zerosuperior\",\"onesuperior\",\"twosuperior\",\"threesuperior\",\"foursuperior\",\"fivesuperior\",\"sixsuperior\",\"sevensuperior\",\"eightsuperior\",\"ninesuperior\",\"zeroinferior\",\"oneinferior\",\"twoinferior\",\"threeinferior\",\"fourinferior\",\"fiveinferior\",\"sixinferior\",\"seveninferior\",\"eightinferior\",\"nineinferior\",\"centinferior\",\"dollarinferior\",\"periodinferior\",\"commainferior\"]},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getEncoding=function(e){switch(e){case\"WinAnsiEncoding\":return s;case\"StandardEncoding\":return o;case\"MacRomanEncoding\":return i;case\"SymbolSetEncoding\":return c;case\"ZapfDingbatsEncoding\":return l;case\"ExpertEncoding\":return a;case\"MacExpertEncoding\":return n;default:return null}},t.ExpertEncoding=t.ZapfDingbatsEncoding=t.SymbolSetEncoding=t.MacRomanEncoding=t.StandardEncoding=t.WinAnsiEncoding=void 0;var a=[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"space\",\"exclamsmall\",\"Hungarumlautsmall\",\"\",\"dollaroldstyle\",\"dollarsuperior\",\"ampersandsmall\",\"Acutesmall\",\"parenleftsuperior\",\"parenrightsuperior\",\"twodotenleader\",\"onedotenleader\",\"comma\",\"hyphen\",\"period\",\"fraction\",\"zerooldstyle\",\"oneoldstyle\",\"twooldstyle\",\"threeoldstyle\",\"fouroldstyle\",\"fiveoldstyle\",\"sixoldstyle\",\"sevenoldstyle\",\"eightoldstyle\",\"nineoldstyle\",\"colon\",\"semicolon\",\"commasuperior\",\"threequartersemdash\",\"periodsuperior\",\"questionsmall\",\"\",\"asuperior\",\"bsuperior\",\"centsuperior\",\"dsuperior\",\"esuperior\",\"\",\"\",\"\",\"isuperior\",\"\",\"\",\"lsuperior\",\"msuperior\",\"nsuperior\",\"osuperior\",\"\",\"\",\"rsuperior\",\"ssuperior\",\"tsuperior\",\"\",\"ff\",\"fi\",\"fl\",\"ffi\",\"ffl\",\"parenleftinferior\",\"\",\"parenrightinferior\",\"Circumflexsmall\",\"hyphensuperior\",\"Gravesmall\",\"Asmall\",\"Bsmall\",\"Csmall\",\"Dsmall\",\"Esmall\",\"Fsmall\",\"Gsmall\",\"Hsmall\",\"Ismall\",\"Jsmall\",\"Ksmall\",\"Lsmall\",\"Msmall\",\"Nsmall\",\"Osmall\",\"Psmall\",\"Qsmall\",\"Rsmall\",\"Ssmall\",\"Tsmall\",\"Usmall\",\"Vsmall\",\"Wsmall\",\"Xsmall\",\"Ysmall\",\"Zsmall\",\"colonmonetary\",\"onefitted\",\"rupiah\",\"Tildesmall\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"exclamdownsmall\",\"centoldstyle\",\"Lslashsmall\",\"\",\"\",\"Scaronsmall\",\"Zcaronsmall\",\"Dieresissmall\",\"Brevesmall\",\"Caronsmall\",\"\",\"Dotaccentsmall\",\"\",\"\",\"Macronsmall\",\"\",\"\",\"figuredash\",\"hypheninferior\",\"\",\"\",\"Ogoneksmall\",\"Ringsmall\",\"Cedillasmall\",\"\",\"\",\"\",\"onequarter\",\"onehalf\",\"threequarters\",\"questiondownsmall\",\"oneeighth\",\"threeeighths\",\"fiveeighths\",\"seveneighths\",\"onethird\",\"twothirds\",\"\",\"\",\"zerosuperior\",\"onesuperior\",\"twosuperior\",\"threesuperior\",\"foursuperior\",\"fivesuperior\",\"sixsuperior\",\"sevensuperior\",\"eightsuperior\",\"ninesuperior\",\"zeroinferior\",\"oneinferior\",\"twoinferior\",\"threeinferior\",\"fourinferior\",\"fiveinferior\",\"sixinferior\",\"seveninferior\",\"eightinferior\",\"nineinferior\",\"centinferior\",\"dollarinferior\",\"periodinferior\",\"commainferior\",\"Agravesmall\",\"Aacutesmall\",\"Acircumflexsmall\",\"Atildesmall\",\"Adieresissmall\",\"Aringsmall\",\"AEsmall\",\"Ccedillasmall\",\"Egravesmall\",\"Eacutesmall\",\"Ecircumflexsmall\",\"Edieresissmall\",\"Igravesmall\",\"Iacutesmall\",\"Icircumflexsmall\",\"Idieresissmall\",\"Ethsmall\",\"Ntildesmall\",\"Ogravesmall\",\"Oacutesmall\",\"Ocircumflexsmall\",\"Otildesmall\",\"Odieresissmall\",\"OEsmall\",\"Oslashsmall\",\"Ugravesmall\",\"Uacutesmall\",\"Ucircumflexsmall\",\"Udieresissmall\",\"Yacutesmall\",\"Thornsmall\",\"Ydieresissmall\"];t.ExpertEncoding=a;var n=[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"space\",\"exclamsmall\",\"Hungarumlautsmall\",\"centoldstyle\",\"dollaroldstyle\",\"dollarsuperior\",\"ampersandsmall\",\"Acutesmall\",\"parenleftsuperior\",\"parenrightsuperior\",\"twodotenleader\",\"onedotenleader\",\"comma\",\"hyphen\",\"period\",\"fraction\",\"zerooldstyle\",\"oneoldstyle\",\"twooldstyle\",\"threeoldstyle\",\"fouroldstyle\",\"fiveoldstyle\",\"sixoldstyle\",\"sevenoldstyle\",\"eightoldstyle\",\"nineoldstyle\",\"colon\",\"semicolon\",\"\",\"threequartersemdash\",\"\",\"questionsmall\",\"\",\"\",\"\",\"\",\"Ethsmall\",\"\",\"\",\"onequarter\",\"onehalf\",\"threequarters\",\"oneeighth\",\"threeeighths\",\"fiveeighths\",\"seveneighths\",\"onethird\",\"twothirds\",\"\",\"\",\"\",\"\",\"\",\"\",\"ff\",\"fi\",\"fl\",\"ffi\",\"ffl\",\"parenleftinferior\",\"\",\"parenrightinferior\",\"Circumflexsmall\",\"hypheninferior\",\"Gravesmall\",\"Asmall\",\"Bsmall\",\"Csmall\",\"Dsmall\",\"Esmall\",\"Fsmall\",\"Gsmall\",\"Hsmall\",\"Ismall\",\"Jsmall\",\"Ksmall\",\"Lsmall\",\"Msmall\",\"Nsmall\",\"Osmall\",\"Psmall\",\"Qsmall\",\"Rsmall\",\"Ssmall\",\"Tsmall\",\"Usmall\",\"Vsmall\",\"Wsmall\",\"Xsmall\",\"Ysmall\",\"Zsmall\",\"colonmonetary\",\"onefitted\",\"rupiah\",\"Tildesmall\",\"\",\"\",\"asuperior\",\"centsuperior\",\"\",\"\",\"\",\"\",\"Aacutesmall\",\"Agravesmall\",\"Acircumflexsmall\",\"Adieresissmall\",\"Atildesmall\",\"Aringsmall\",\"Ccedillasmall\",\"Eacutesmall\",\"Egravesmall\",\"Ecircumflexsmall\",\"Edieresissmall\",\"Iacutesmall\",\"Igravesmall\",\"Icircumflexsmall\",\"Idieresissmall\",\"Ntildesmall\",\"Oacutesmall\",\"Ogravesmall\",\"Ocircumflexsmall\",\"Odieresissmall\",\"Otildesmall\",\"Uacutesmall\",\"Ugravesmall\",\"Ucircumflexsmall\",\"Udieresissmall\",\"\",\"eightsuperior\",\"fourinferior\",\"threeinferior\",\"sixinferior\",\"eightinferior\",\"seveninferior\",\"Scaronsmall\",\"\",\"centinferior\",\"twoinferior\",\"\",\"Dieresissmall\",\"\",\"Caronsmall\",\"osuperior\",\"fiveinferior\",\"\",\"commainferior\",\"periodinferior\",\"Yacutesmall\",\"\",\"dollarinferior\",\"\",\"\",\"Thornsmall\",\"\",\"nineinferior\",\"zeroinferior\",\"Zcaronsmall\",\"AEsmall\",\"Oslashsmall\",\"questiondownsmall\",\"oneinferior\",\"Lslashsmall\",\"\",\"\",\"\",\"\",\"\",\"\",\"Cedillasmall\",\"\",\"\",\"\",\"\",\"\",\"OEsmall\",\"figuredash\",\"hyphensuperior\",\"\",\"\",\"\",\"\",\"exclamdownsmall\",\"\",\"Ydieresissmall\",\"\",\"onesuperior\",\"twosuperior\",\"threesuperior\",\"foursuperior\",\"fivesuperior\",\"sixsuperior\",\"sevensuperior\",\"ninesuperior\",\"zerosuperior\",\"\",\"esuperior\",\"rsuperior\",\"tsuperior\",\"\",\"\",\"isuperior\",\"ssuperior\",\"dsuperior\",\"\",\"\",\"\",\"\",\"\",\"lsuperior\",\"Ogoneksmall\",\"Brevesmall\",\"Macronsmall\",\"bsuperior\",\"nsuperior\",\"msuperior\",\"commasuperior\",\"periodsuperior\",\"Dotaccentsmall\",\"Ringsmall\",\"\",\"\",\"\",\"\"],i=[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"space\",\"exclam\",\"quotedbl\",\"numbersign\",\"dollar\",\"percent\",\"ampersand\",\"quotesingle\",\"parenleft\",\"parenright\",\"asterisk\",\"plus\",\"comma\",\"hyphen\",\"period\",\"slash\",\"zero\",\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\"eight\",\"nine\",\"colon\",\"semicolon\",\"less\",\"equal\",\"greater\",\"question\",\"at\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\"bracketleft\",\"backslash\",\"bracketright\",\"asciicircum\",\"underscore\",\"grave\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\",\"braceleft\",\"bar\",\"braceright\",\"asciitilde\",\"\",\"Adieresis\",\"Aring\",\"Ccedilla\",\"Eacute\",\"Ntilde\",\"Odieresis\",\"Udieresis\",\"aacute\",\"agrave\",\"acircumflex\",\"adieresis\",\"atilde\",\"aring\",\"ccedilla\",\"eacute\",\"egrave\",\"ecircumflex\",\"edieresis\",\"iacute\",\"igrave\",\"icircumflex\",\"idieresis\",\"ntilde\",\"oacute\",\"ograve\",\"ocircumflex\",\"odieresis\",\"otilde\",\"uacute\",\"ugrave\",\"ucircumflex\",\"udieresis\",\"dagger\",\"degree\",\"cent\",\"sterling\",\"section\",\"bullet\",\"paragraph\",\"germandbls\",\"registered\",\"copyright\",\"trademark\",\"acute\",\"dieresis\",\"notequal\",\"AE\",\"Oslash\",\"infinity\",\"plusminus\",\"lessequal\",\"greaterequal\",\"yen\",\"mu\",\"partialdiff\",\"summation\",\"product\",\"pi\",\"integral\",\"ordfeminine\",\"ordmasculine\",\"Omega\",\"ae\",\"oslash\",\"questiondown\",\"exclamdown\",\"logicalnot\",\"radical\",\"florin\",\"approxequal\",\"Delta\",\"guillemotleft\",\"guillemotright\",\"ellipsis\",\"space\",\"Agrave\",\"Atilde\",\"Otilde\",\"OE\",\"oe\",\"endash\",\"emdash\",\"quotedblleft\",\"quotedblright\",\"quoteleft\",\"quoteright\",\"divide\",\"lozenge\",\"ydieresis\",\"Ydieresis\",\"fraction\",\"currency\",\"guilsinglleft\",\"guilsinglright\",\"fi\",\"fl\",\"daggerdbl\",\"periodcentered\",\"quotesinglbase\",\"quotedblbase\",\"perthousand\",\"Acircumflex\",\"Ecircumflex\",\"Aacute\",\"Edieresis\",\"Egrave\",\"Iacute\",\"Icircumflex\",\"Idieresis\",\"Igrave\",\"Oacute\",\"Ocircumflex\",\"apple\",\"Ograve\",\"Uacute\",\"Ucircumflex\",\"Ugrave\",\"dotlessi\",\"circumflex\",\"tilde\",\"macron\",\"breve\",\"dotaccent\",\"ring\",\"cedilla\",\"hungarumlaut\",\"ogonek\",\"caron\"];t.MacRomanEncoding=i;var o=[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"space\",\"exclam\",\"quotedbl\",\"numbersign\",\"dollar\",\"percent\",\"ampersand\",\"quoteright\",\"parenleft\",\"parenright\",\"asterisk\",\"plus\",\"comma\",\"hyphen\",\"period\",\"slash\",\"zero\",\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\"eight\",\"nine\",\"colon\",\"semicolon\",\"less\",\"equal\",\"greater\",\"question\",\"at\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\"bracketleft\",\"backslash\",\"bracketright\",\"asciicircum\",\"underscore\",\"quoteleft\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\",\"braceleft\",\"bar\",\"braceright\",\"asciitilde\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"exclamdown\",\"cent\",\"sterling\",\"fraction\",\"yen\",\"florin\",\"section\",\"currency\",\"quotesingle\",\"quotedblleft\",\"guillemotleft\",\"guilsinglleft\",\"guilsinglright\",\"fi\",\"fl\",\"\",\"endash\",\"dagger\",\"daggerdbl\",\"periodcentered\",\"\",\"paragraph\",\"bullet\",\"quotesinglbase\",\"quotedblbase\",\"quotedblright\",\"guillemotright\",\"ellipsis\",\"perthousand\",\"\",\"questiondown\",\"\",\"grave\",\"acute\",\"circumflex\",\"tilde\",\"macron\",\"breve\",\"dotaccent\",\"dieresis\",\"\",\"ring\",\"cedilla\",\"\",\"hungarumlaut\",\"ogonek\",\"caron\",\"emdash\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"AE\",\"\",\"ordfeminine\",\"\",\"\",\"\",\"\",\"Lslash\",\"Oslash\",\"OE\",\"ordmasculine\",\"\",\"\",\"\",\"\",\"\",\"ae\",\"\",\"\",\"\",\"dotlessi\",\"\",\"\",\"lslash\",\"oslash\",\"oe\",\"germandbls\",\"\",\"\",\"\",\"\"];t.StandardEncoding=o;var s=[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"space\",\"exclam\",\"quotedbl\",\"numbersign\",\"dollar\",\"percent\",\"ampersand\",\"quotesingle\",\"parenleft\",\"parenright\",\"asterisk\",\"plus\",\"comma\",\"hyphen\",\"period\",\"slash\",\"zero\",\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\"eight\",\"nine\",\"colon\",\"semicolon\",\"less\",\"equal\",\"greater\",\"question\",\"at\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\"bracketleft\",\"backslash\",\"bracketright\",\"asciicircum\",\"underscore\",\"grave\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\",\"braceleft\",\"bar\",\"braceright\",\"asciitilde\",\"bullet\",\"Euro\",\"bullet\",\"quotesinglbase\",\"florin\",\"quotedblbase\",\"ellipsis\",\"dagger\",\"daggerdbl\",\"circumflex\",\"perthousand\",\"Scaron\",\"guilsinglleft\",\"OE\",\"bullet\",\"Zcaron\",\"bullet\",\"bullet\",\"quoteleft\",\"quoteright\",\"quotedblleft\",\"quotedblright\",\"bullet\",\"endash\",\"emdash\",\"tilde\",\"trademark\",\"scaron\",\"guilsinglright\",\"oe\",\"bullet\",\"zcaron\",\"Ydieresis\",\"space\",\"exclamdown\",\"cent\",\"sterling\",\"currency\",\"yen\",\"brokenbar\",\"section\",\"dieresis\",\"copyright\",\"ordfeminine\",\"guillemotleft\",\"logicalnot\",\"hyphen\",\"registered\",\"macron\",\"degree\",\"plusminus\",\"twosuperior\",\"threesuperior\",\"acute\",\"mu\",\"paragraph\",\"periodcentered\",\"cedilla\",\"onesuperior\",\"ordmasculine\",\"guillemotright\",\"onequarter\",\"onehalf\",\"threequarters\",\"questiondown\",\"Agrave\",\"Aacute\",\"Acircumflex\",\"Atilde\",\"Adieresis\",\"Aring\",\"AE\",\"Ccedilla\",\"Egrave\",\"Eacute\",\"Ecircumflex\",\"Edieresis\",\"Igrave\",\"Iacute\",\"Icircumflex\",\"Idieresis\",\"Eth\",\"Ntilde\",\"Ograve\",\"Oacute\",\"Ocircumflex\",\"Otilde\",\"Odieresis\",\"multiply\",\"Oslash\",\"Ugrave\",\"Uacute\",\"Ucircumflex\",\"Udieresis\",\"Yacute\",\"Thorn\",\"germandbls\",\"agrave\",\"aacute\",\"acircumflex\",\"atilde\",\"adieresis\",\"aring\",\"ae\",\"ccedilla\",\"egrave\",\"eacute\",\"ecircumflex\",\"edieresis\",\"igrave\",\"iacute\",\"icircumflex\",\"idieresis\",\"eth\",\"ntilde\",\"ograve\",\"oacute\",\"ocircumflex\",\"otilde\",\"odieresis\",\"divide\",\"oslash\",\"ugrave\",\"uacute\",\"ucircumflex\",\"udieresis\",\"yacute\",\"thorn\",\"ydieresis\"];t.WinAnsiEncoding=s;var c=[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"space\",\"exclam\",\"universal\",\"numbersign\",\"existential\",\"percent\",\"ampersand\",\"suchthat\",\"parenleft\",\"parenright\",\"asteriskmath\",\"plus\",\"comma\",\"minus\",\"period\",\"slash\",\"zero\",\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\"eight\",\"nine\",\"colon\",\"semicolon\",\"less\",\"equal\",\"greater\",\"question\",\"congruent\",\"Alpha\",\"Beta\",\"Chi\",\"Delta\",\"Epsilon\",\"Phi\",\"Gamma\",\"Eta\",\"Iota\",\"theta1\",\"Kappa\",\"Lambda\",\"Mu\",\"Nu\",\"Omicron\",\"Pi\",\"Theta\",\"Rho\",\"Sigma\",\"Tau\",\"Upsilon\",\"sigma1\",\"Omega\",\"Xi\",\"Psi\",\"Zeta\",\"bracketleft\",\"therefore\",\"bracketright\",\"perpendicular\",\"underscore\",\"radicalex\",\"alpha\",\"beta\",\"chi\",\"delta\",\"epsilon\",\"phi\",\"gamma\",\"eta\",\"iota\",\"phi1\",\"kappa\",\"lambda\",\"mu\",\"nu\",\"omicron\",\"pi\",\"theta\",\"rho\",\"sigma\",\"tau\",\"upsilon\",\"omega1\",\"omega\",\"xi\",\"psi\",\"zeta\",\"braceleft\",\"bar\",\"braceright\",\"similar\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"Euro\",\"Upsilon1\",\"minute\",\"lessequal\",\"fraction\",\"infinity\",\"florin\",\"club\",\"diamond\",\"heart\",\"spade\",\"arrowboth\",\"arrowleft\",\"arrowup\",\"arrowright\",\"arrowdown\",\"degree\",\"plusminus\",\"second\",\"greaterequal\",\"multiply\",\"proportional\",\"partialdiff\",\"bullet\",\"divide\",\"notequal\",\"equivalence\",\"approxequal\",\"ellipsis\",\"arrowvertex\",\"arrowhorizex\",\"carriagereturn\",\"aleph\",\"Ifraktur\",\"Rfraktur\",\"weierstrass\",\"circlemultiply\",\"circleplus\",\"emptyset\",\"intersection\",\"union\",\"propersuperset\",\"reflexsuperset\",\"notsubset\",\"propersubset\",\"reflexsubset\",\"element\",\"notelement\",\"angle\",\"gradient\",\"registerserif\",\"copyrightserif\",\"trademarkserif\",\"product\",\"radical\",\"dotmath\",\"logicalnot\",\"logicaland\",\"logicalor\",\"arrowdblboth\",\"arrowdblleft\",\"arrowdblup\",\"arrowdblright\",\"arrowdbldown\",\"lozenge\",\"angleleft\",\"registersans\",\"copyrightsans\",\"trademarksans\",\"summation\",\"parenlefttp\",\"parenleftex\",\"parenleftbt\",\"bracketlefttp\",\"bracketleftex\",\"bracketleftbt\",\"bracelefttp\",\"braceleftmid\",\"braceleftbt\",\"braceex\",\"\",\"angleright\",\"integral\",\"integraltp\",\"integralex\",\"integralbt\",\"parenrighttp\",\"parenrightex\",\"parenrightbt\",\"bracketrighttp\",\"bracketrightex\",\"bracketrightbt\",\"bracerighttp\",\"bracerightmid\",\"bracerightbt\",\"\"];t.SymbolSetEncoding=c;var l=[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"space\",\"a1\",\"a2\",\"a202\",\"a3\",\"a4\",\"a5\",\"a119\",\"a118\",\"a117\",\"a11\",\"a12\",\"a13\",\"a14\",\"a15\",\"a16\",\"a105\",\"a17\",\"a18\",\"a19\",\"a20\",\"a21\",\"a22\",\"a23\",\"a24\",\"a25\",\"a26\",\"a27\",\"a28\",\"a6\",\"a7\",\"a8\",\"a9\",\"a10\",\"a29\",\"a30\",\"a31\",\"a32\",\"a33\",\"a34\",\"a35\",\"a36\",\"a37\",\"a38\",\"a39\",\"a40\",\"a41\",\"a42\",\"a43\",\"a44\",\"a45\",\"a46\",\"a47\",\"a48\",\"a49\",\"a50\",\"a51\",\"a52\",\"a53\",\"a54\",\"a55\",\"a56\",\"a57\",\"a58\",\"a59\",\"a60\",\"a61\",\"a62\",\"a63\",\"a64\",\"a65\",\"a66\",\"a67\",\"a68\",\"a69\",\"a70\",\"a71\",\"a72\",\"a73\",\"a74\",\"a203\",\"a75\",\"a204\",\"a76\",\"a77\",\"a78\",\"a79\",\"a81\",\"a82\",\"a83\",\"a84\",\"a97\",\"a98\",\"a99\",\"a100\",\"\",\"a89\",\"a90\",\"a93\",\"a94\",\"a91\",\"a92\",\"a205\",\"a85\",\"a206\",\"a86\",\"a87\",\"a88\",\"a95\",\"a96\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"a101\",\"a102\",\"a103\",\"a104\",\"a106\",\"a107\",\"a108\",\"a112\",\"a111\",\"a110\",\"a109\",\"a120\",\"a121\",\"a122\",\"a123\",\"a124\",\"a125\",\"a126\",\"a127\",\"a128\",\"a129\",\"a130\",\"a131\",\"a132\",\"a133\",\"a134\",\"a135\",\"a136\",\"a137\",\"a138\",\"a139\",\"a140\",\"a141\",\"a142\",\"a143\",\"a144\",\"a145\",\"a146\",\"a147\",\"a148\",\"a149\",\"a150\",\"a151\",\"a152\",\"a153\",\"a154\",\"a155\",\"a156\",\"a157\",\"a158\",\"a159\",\"a160\",\"a161\",\"a163\",\"a164\",\"a196\",\"a165\",\"a192\",\"a166\",\"a167\",\"a168\",\"a169\",\"a170\",\"a171\",\"a172\",\"a173\",\"a162\",\"a174\",\"a175\",\"a176\",\"a177\",\"a178\",\"a179\",\"a193\",\"a180\",\"a199\",\"a181\",\"a200\",\"a182\",\"\",\"a201\",\"a183\",\"a184\",\"a197\",\"a185\",\"a194\",\"a198\",\"a186\",\"a195\",\"a187\",\"a188\",\"a189\",\"a190\",\"a191\",\"\"];t.ZapfDingbatsEncoding=l},function(e,t,r){var a=r(153).getLookupTableFactory,n=a(function(e){e.A=65,e.AE=198,e.AEacute=508,e.AEmacron=482,e.AEsmall=63462,e.Aacute=193,e.Aacutesmall=63457,e.Abreve=258,e.Abreveacute=7854,e.Abrevecyrillic=1232,e.Abrevedotbelow=7862,e.Abrevegrave=7856,e.Abrevehookabove=7858,e.Abrevetilde=7860,e.Acaron=461,e.Acircle=9398,e.Acircumflex=194,e.Acircumflexacute=7844,e.Acircumflexdotbelow=7852,e.Acircumflexgrave=7846,e.Acircumflexhookabove=7848,e.Acircumflexsmall=63458,e.Acircumflextilde=7850,e.Acute=63177,e.Acutesmall=63412,e.Acyrillic=1040,e.Adblgrave=512,e.Adieresis=196,e.Adieresiscyrillic=1234,e.Adieresismacron=478,e.Adieresissmall=63460,e.Adotbelow=7840,e.Adotmacron=480,e.Agrave=192,e.Agravesmall=63456,e.Ahookabove=7842,e.Aiecyrillic=1236,e.Ainvertedbreve=514,e.Alpha=913,e.Alphatonos=902,e.Amacron=256,e.Amonospace=65313,e.Aogonek=260,e.Aring=197,e.Aringacute=506,e.Aringbelow=7680,e.Aringsmall=63461,e.Asmall=63329,e.Atilde=195,e.Atildesmall=63459,e.Aybarmenian=1329,e.B=66,e.Bcircle=9399,e.Bdotaccent=7682,e.Bdotbelow=7684,e.Becyrillic=1041,e.Benarmenian=1330,e.Beta=914,e.Bhook=385,e.Blinebelow=7686,e.Bmonospace=65314,e.Brevesmall=63220,e.Bsmall=63330,e.Btopbar=386,e.C=67,e.Caarmenian=1342,e.Cacute=262,e.Caron=63178,e.Caronsmall=63221,e.Ccaron=268,e.Ccedilla=199,e.Ccedillaacute=7688,e.Ccedillasmall=63463,e.Ccircle=9400,e.Ccircumflex=264,e.Cdot=266,e.Cdotaccent=266,e.Cedillasmall=63416,e.Chaarmenian=1353,e.Cheabkhasiancyrillic=1212,e.Checyrillic=1063,e.Chedescenderabkhasiancyrillic=1214,e.Chedescendercyrillic=1206,e.Chedieresiscyrillic=1268,e.Cheharmenian=1347,e.Chekhakassiancyrillic=1227,e.Cheverticalstrokecyrillic=1208,e.Chi=935,e.Chook=391,e.Circumflexsmall=63222,e.Cmonospace=65315,e.Coarmenian=1361,e.Csmall=63331,e.D=68,e.DZ=497,e.DZcaron=452,e.Daarmenian=1332,e.Dafrican=393,e.Dcaron=270,e.Dcedilla=7696,e.Dcircle=9401,e.Dcircumflexbelow=7698,e.Dcroat=272,e.Ddotaccent=7690,e.Ddotbelow=7692,e.Decyrillic=1044,e.Deicoptic=1006,e.Delta=8710,e.Deltagreek=916,e.Dhook=394,e.Dieresis=63179,e.DieresisAcute=63180,e.DieresisGrave=63181,e.Dieresissmall=63400,e.Digammagreek=988,e.Djecyrillic=1026,e.Dlinebelow=7694,e.Dmonospace=65316,e.Dotaccentsmall=63223,e.Dslash=272,e.Dsmall=63332,e.Dtopbar=395,e.Dz=498,e.Dzcaron=453,e.Dzeabkhasiancyrillic=1248,e.Dzecyrillic=1029,e.Dzhecyrillic=1039,e.E=69,e.Eacute=201,e.Eacutesmall=63465,e.Ebreve=276,e.Ecaron=282,e.Ecedillabreve=7708,e.Echarmenian=1333,e.Ecircle=9402,e.Ecircumflex=202,e.Ecircumflexacute=7870,e.Ecircumflexbelow=7704,e.Ecircumflexdotbelow=7878,e.Ecircumflexgrave=7872,e.Ecircumflexhookabove=7874,e.Ecircumflexsmall=63466,e.Ecircumflextilde=7876,e.Ecyrillic=1028,e.Edblgrave=516,e.Edieresis=203,e.Edieresissmall=63467,e.Edot=278,e.Edotaccent=278,e.Edotbelow=7864,e.Efcyrillic=1060,e.Egrave=200,e.Egravesmall=63464,e.Eharmenian=1335,e.Ehookabove=7866,e.Eightroman=8551,e.Einvertedbreve=518,e.Eiotifiedcyrillic=1124,e.Elcyrillic=1051,e.Elevenroman=8554,e.Emacron=274,e.Emacronacute=7702,e.Emacrongrave=7700,e.Emcyrillic=1052,e.Emonospace=65317,e.Encyrillic=1053,e.Endescendercyrillic=1186,e.Eng=330,e.Enghecyrillic=1188,e.Enhookcyrillic=1223,e.Eogonek=280,e.Eopen=400,e.Epsilon=917,e.Epsilontonos=904,e.Ercyrillic=1056,e.Ereversed=398,e.Ereversedcyrillic=1069,e.Escyrillic=1057,e.Esdescendercyrillic=1194,e.Esh=425,e.Esmall=63333,e.Eta=919,e.Etarmenian=1336,e.Etatonos=905,e.Eth=208,e.Ethsmall=63472,e.Etilde=7868,e.Etildebelow=7706,e.Euro=8364,e.Ezh=439,e.Ezhcaron=494,e.Ezhreversed=440,e.F=70,e.Fcircle=9403,e.Fdotaccent=7710,e.Feharmenian=1366,e.Feicoptic=996,e.Fhook=401,e.Fitacyrillic=1138,e.Fiveroman=8548,e.Fmonospace=65318,e.Fourroman=8547,e.Fsmall=63334,e.G=71,e.GBsquare=13191,e.Gacute=500,e.Gamma=915,e.Gammaafrican=404,e.Gangiacoptic=1002,e.Gbreve=286,e.Gcaron=486,e.Gcedilla=290,e.Gcircle=9404,e.Gcircumflex=284,e.Gcommaaccent=290,e.Gdot=288,e.Gdotaccent=288,e.Gecyrillic=1043,e.Ghadarmenian=1346,e.Ghemiddlehookcyrillic=1172,e.Ghestrokecyrillic=1170,e.Gheupturncyrillic=1168,e.Ghook=403,e.Gimarmenian=1331,e.Gjecyrillic=1027,e.Gmacron=7712,e.Gmonospace=65319,e.Grave=63182,e.Gravesmall=63328,e.Gsmall=63335,e.Gsmallhook=667,e.Gstroke=484,e.H=72,e.H18533=9679,e.H18543=9642,e.H18551=9643,e.H22073=9633,e.HPsquare=13259,e.Haabkhasiancyrillic=1192,e.Hadescendercyrillic=1202,e.Hardsigncyrillic=1066,e.Hbar=294,e.Hbrevebelow=7722,e.Hcedilla=7720,e.Hcircle=9405,e.Hcircumflex=292,e.Hdieresis=7718,e.Hdotaccent=7714,e.Hdotbelow=7716,e.Hmonospace=65320,e.Hoarmenian=1344,e.Horicoptic=1e3,e.Hsmall=63336,e.Hungarumlaut=63183,e.Hungarumlautsmall=63224,e.Hzsquare=13200,e.I=73,e.IAcyrillic=1071,e.IJ=306,e.IUcyrillic=1070,e.Iacute=205,e.Iacutesmall=63469,e.Ibreve=300,e.Icaron=463,e.Icircle=9406,e.Icircumflex=206,e.Icircumflexsmall=63470,e.Icyrillic=1030,e.Idblgrave=520,e.Idieresis=207,e.Idieresisacute=7726,e.Idieresiscyrillic=1252,e.Idieresissmall=63471,e.Idot=304,e.Idotaccent=304,e.Idotbelow=7882,e.Iebrevecyrillic=1238,e.Iecyrillic=1045,e.Ifraktur=8465,e.Igrave=204,e.Igravesmall=63468,e.Ihookabove=7880,e.Iicyrillic=1048,e.Iinvertedbreve=522,e.Iishortcyrillic=1049,e.Imacron=298,e.Imacroncyrillic=1250,e.Imonospace=65321,e.Iniarmenian=1339,e.Iocyrillic=1025,e.Iogonek=302,e.Iota=921,e.Iotaafrican=406,e.Iotadieresis=938,e.Iotatonos=906,e.Ismall=63337,e.Istroke=407,e.Itilde=296,e.Itildebelow=7724,e.Izhitsacyrillic=1140,e.Izhitsadblgravecyrillic=1142,e.J=74,e.Jaarmenian=1345,e.Jcircle=9407,e.Jcircumflex=308,e.Jecyrillic=1032,e.Jheharmenian=1355,e.Jmonospace=65322,e.Jsmall=63338,e.K=75,e.KBsquare=13189,e.KKsquare=13261,e.Kabashkircyrillic=1184,e.Kacute=7728,e.Kacyrillic=1050,e.Kadescendercyrillic=1178,e.Kahookcyrillic=1219,e.Kappa=922,e.Kastrokecyrillic=1182,e.Kaverticalstrokecyrillic=1180,e.Kcaron=488,e.Kcedilla=310,e.Kcircle=9408,e.Kcommaaccent=310,e.Kdotbelow=7730,e.Keharmenian=1364,e.Kenarmenian=1343,e.Khacyrillic=1061,e.Kheicoptic=998,e.Khook=408,e.Kjecyrillic=1036,e.Klinebelow=7732,e.Kmonospace=65323,e.Koppacyrillic=1152,e.Koppagreek=990,e.Ksicyrillic=1134,e.Ksmall=63339,e.L=76,e.LJ=455,e.LL=63167,e.Lacute=313,e.Lambda=923,e.Lcaron=317,e.Lcedilla=315,e.Lcircle=9409,e.Lcircumflexbelow=7740,e.Lcommaaccent=315,e.Ldot=319,e.Ldotaccent=319,e.Ldotbelow=7734,e.Ldotbelowmacron=7736,e.Liwnarmenian=1340,e.Lj=456,e.Ljecyrillic=1033,e.Llinebelow=7738,e.Lmonospace=65324,e.Lslash=321,e.Lslashsmall=63225,e.Lsmall=63340,e.M=77,e.MBsquare=13190,e.Macron=63184,e.Macronsmall=63407,e.Macute=7742,e.Mcircle=9410,e.Mdotaccent=7744,e.Mdotbelow=7746,e.Menarmenian=1348,e.Mmonospace=65325,e.Msmall=63341,e.Mturned=412,e.Mu=924,e.N=78,e.NJ=458,e.Nacute=323,e.Ncaron=327,e.Ncedilla=325,e.Ncircle=9411,e.Ncircumflexbelow=7754,e.Ncommaaccent=325,e.Ndotaccent=7748,e.Ndotbelow=7750,e.Nhookleft=413,e.Nineroman=8552,e.Nj=459,e.Njecyrillic=1034,e.Nlinebelow=7752,e.Nmonospace=65326,e.Nowarmenian=1350,e.Nsmall=63342,e.Ntilde=209,e.Ntildesmall=63473,e.Nu=925,e.O=79,e.OE=338,e.OEsmall=63226,e.Oacute=211,e.Oacutesmall=63475,e.Obarredcyrillic=1256,e.Obarreddieresiscyrillic=1258,e.Obreve=334,e.Ocaron=465,e.Ocenteredtilde=415,e.Ocircle=9412,e.Ocircumflex=212,e.Ocircumflexacute=7888,e.Ocircumflexdotbelow=7896,e.Ocircumflexgrave=7890,e.Ocircumflexhookabove=7892,e.Ocircumflexsmall=63476,e.Ocircumflextilde=7894,e.Ocyrillic=1054,e.Odblacute=336,e.Odblgrave=524,e.Odieresis=214,e.Odieresiscyrillic=1254,e.Odieresissmall=63478,e.Odotbelow=7884,e.Ogoneksmall=63227,e.Ograve=210,e.Ogravesmall=63474,e.Oharmenian=1365,e.Ohm=8486,e.Ohookabove=7886,e.Ohorn=416,e.Ohornacute=7898,e.Ohorndotbelow=7906,e.Ohorngrave=7900,e.Ohornhookabove=7902,e.Ohorntilde=7904,e.Ohungarumlaut=336,e.Oi=418,e.Oinvertedbreve=526,e.Omacron=332,e.Omacronacute=7762,e.Omacrongrave=7760,e.Omega=8486,e.Omegacyrillic=1120,e.Omegagreek=937,e.Omegaroundcyrillic=1146,e.Omegatitlocyrillic=1148,e.Omegatonos=911,e.Omicron=927,e.Omicrontonos=908,e.Omonospace=65327,e.Oneroman=8544,e.Oogonek=490,e.Oogonekmacron=492,e.Oopen=390,e.Oslash=216,e.Oslashacute=510,e.Oslashsmall=63480,e.Osmall=63343,e.Ostrokeacute=510,e.Otcyrillic=1150,e.Otilde=213,e.Otildeacute=7756,e.Otildedieresis=7758,e.Otildesmall=63477,e.P=80,e.Pacute=7764,e.Pcircle=9413,e.Pdotaccent=7766,e.Pecyrillic=1055,e.Peharmenian=1354,e.Pemiddlehookcyrillic=1190,e.Phi=934,e.Phook=420,e.Pi=928,e.Piwrarmenian=1363,e.Pmonospace=65328,e.Psi=936,e.Psicyrillic=1136,e.Psmall=63344,e.Q=81,e.Qcircle=9414,e.Qmonospace=65329,e.Qsmall=63345,e.R=82,e.Raarmenian=1356,e.Racute=340,e.Rcaron=344,e.Rcedilla=342,e.Rcircle=9415,e.Rcommaaccent=342,e.Rdblgrave=528,e.Rdotaccent=7768,e.Rdotbelow=7770,e.Rdotbelowmacron=7772,e.Reharmenian=1360,e.Rfraktur=8476,e.Rho=929,e.Ringsmall=63228,e.Rinvertedbreve=530,e.Rlinebelow=7774,e.Rmonospace=65330,e.Rsmall=63346,e.Rsmallinverted=641,e.Rsmallinvertedsuperior=694,e.S=83,e.SF010000=9484,e.SF020000=9492,e.SF030000=9488,e.SF040000=9496,e.SF050000=9532,e.SF060000=9516,e.SF070000=9524,e.SF080000=9500,e.SF090000=9508,e.SF100000=9472,e.SF110000=9474,e.SF190000=9569,e.SF200000=9570,e.SF210000=9558,e.SF220000=9557,e.SF230000=9571,e.SF240000=9553,e.SF250000=9559,e.SF260000=9565,e.SF270000=9564,e.SF280000=9563,e.SF360000=9566,e.SF370000=9567,e.SF380000=9562,e.SF390000=9556,e.SF400000=9577,e.SF410000=9574,e.SF420000=9568,e.SF430000=9552,e.SF440000=9580,e.SF450000=9575,e.SF460000=9576,e.SF470000=9572,e.SF480000=9573,e.SF490000=9561,e.SF500000=9560,e.SF510000=9554,e.SF520000=9555,e.SF530000=9579,e.SF540000=9578,e.Sacute=346,e.Sacutedotaccent=7780,e.Sampigreek=992,e.Scaron=352,e.Scarondotaccent=7782,e.Scaronsmall=63229,e.Scedilla=350,e.Schwa=399,e.Schwacyrillic=1240,e.Schwadieresiscyrillic=1242,e.Scircle=9416,e.Scircumflex=348,e.Scommaaccent=536,e.Sdotaccent=7776,e.Sdotbelow=7778,e.Sdotbelowdotaccent=7784,e.Seharmenian=1357,e.Sevenroman=8550,e.Shaarmenian=1351,e.Shacyrillic=1064,e.Shchacyrillic=1065,e.Sheicoptic=994,e.Shhacyrillic=1210,e.Shimacoptic=1004,e.Sigma=931,e.Sixroman=8549,e.Smonospace=65331,e.Softsigncyrillic=1068,e.Ssmall=63347,e.Stigmagreek=986,e.T=84,e.Tau=932,e.Tbar=358,e.Tcaron=356,e.Tcedilla=354,e.Tcircle=9417,e.Tcircumflexbelow=7792,e.Tcommaaccent=354,e.Tdotaccent=7786,e.Tdotbelow=7788,e.Tecyrillic=1058,e.Tedescendercyrillic=1196,e.Tenroman=8553,e.Tetsecyrillic=1204,e.Theta=920,e.Thook=428,e.Thorn=222,e.Thornsmall=63486,e.Threeroman=8546,e.Tildesmall=63230,e.Tiwnarmenian=1359,e.Tlinebelow=7790,e.Tmonospace=65332,e.Toarmenian=1337,e.Tonefive=444,e.Tonesix=388,e.Tonetwo=423,e.Tretroflexhook=430,e.Tsecyrillic=1062,e.Tshecyrillic=1035,e.Tsmall=63348,e.Twelveroman=8555,e.Tworoman=8545,e.U=85,e.Uacute=218,e.Uacutesmall=63482,e.Ubreve=364,e.Ucaron=467,e.Ucircle=9418,e.Ucircumflex=219,e.Ucircumflexbelow=7798,e.Ucircumflexsmall=63483,e.Ucyrillic=1059,e.Udblacute=368,e.Udblgrave=532,e.Udieresis=220,e.Udieresisacute=471,e.Udieresisbelow=7794,e.Udieresiscaron=473,e.Udieresiscyrillic=1264,e.Udieresisgrave=475,e.Udieresismacron=469,e.Udieresissmall=63484,e.Udotbelow=7908,e.Ugrave=217,e.Ugravesmall=63481,e.Uhookabove=7910,e.Uhorn=431,e.Uhornacute=7912,e.Uhorndotbelow=7920,e.Uhorngrave=7914,e.Uhornhookabove=7916,e.Uhorntilde=7918,e.Uhungarumlaut=368,e.Uhungarumlautcyrillic=1266,e.Uinvertedbreve=534,e.Ukcyrillic=1144,e.Umacron=362,e.Umacroncyrillic=1262,e.Umacrondieresis=7802,e.Umonospace=65333,e.Uogonek=370,e.Upsilon=933,e.Upsilon1=978,e.Upsilonacutehooksymbolgreek=979,e.Upsilonafrican=433,e.Upsilondieresis=939,e.Upsilondieresishooksymbolgreek=980,e.Upsilonhooksymbol=978,e.Upsilontonos=910,e.Uring=366,e.Ushortcyrillic=1038,e.Usmall=63349,e.Ustraightcyrillic=1198,e.Ustraightstrokecyrillic=1200,e.Utilde=360,e.Utildeacute=7800,e.Utildebelow=7796,e.V=86,e.Vcircle=9419,e.Vdotbelow=7806,e.Vecyrillic=1042,e.Vewarmenian=1358,e.Vhook=434,e.Vmonospace=65334,e.Voarmenian=1352,e.Vsmall=63350,e.Vtilde=7804,e.W=87,e.Wacute=7810,e.Wcircle=9420,e.Wcircumflex=372,e.Wdieresis=7812,e.Wdotaccent=7814,e.Wdotbelow=7816,e.Wgrave=7808,e.Wmonospace=65335,e.Wsmall=63351,e.X=88,e.Xcircle=9421,e.Xdieresis=7820,e.Xdotaccent=7818,e.Xeharmenian=1341,e.Xi=926,e.Xmonospace=65336,e.Xsmall=63352,e.Y=89,e.Yacute=221,e.Yacutesmall=63485,e.Yatcyrillic=1122,e.Ycircle=9422,e.Ycircumflex=374,e.Ydieresis=376,e.Ydieresissmall=63487,e.Ydotaccent=7822,e.Ydotbelow=7924,e.Yericyrillic=1067,e.Yerudieresiscyrillic=1272,e.Ygrave=7922,e.Yhook=435,e.Yhookabove=7926,e.Yiarmenian=1349,e.Yicyrillic=1031,e.Yiwnarmenian=1362,e.Ymonospace=65337,e.Ysmall=63353,e.Ytilde=7928,e.Yusbigcyrillic=1130,e.Yusbigiotifiedcyrillic=1132,e.Yuslittlecyrillic=1126,e.Yuslittleiotifiedcyrillic=1128,e.Z=90,e.Zaarmenian=1334,e.Zacute=377,e.Zcaron=381,e.Zcaronsmall=63231,e.Zcircle=9423,e.Zcircumflex=7824,e.Zdot=379,e.Zdotaccent=379,e.Zdotbelow=7826,e.Zecyrillic=1047,e.Zedescendercyrillic=1176,e.Zedieresiscyrillic=1246,e.Zeta=918,e.Zhearmenian=1338,e.Zhebrevecyrillic=1217,e.Zhecyrillic=1046,e.Zhedescendercyrillic=1174,e.Zhedieresiscyrillic=1244,e.Zlinebelow=7828,e.Zmonospace=65338,e.Zsmall=63354,e.Zstroke=437,e.a=97,e.aabengali=2438,e.aacute=225,e.aadeva=2310,e.aagujarati=2694,e.aagurmukhi=2566,e.aamatragurmukhi=2622,e.aarusquare=13059,e.aavowelsignbengali=2494,e.aavowelsigndeva=2366,e.aavowelsigngujarati=2750,e.abbreviationmarkarmenian=1375,e.abbreviationsigndeva=2416,e.abengali=2437,e.abopomofo=12570,e.abreve=259,e.abreveacute=7855,e.abrevecyrillic=1233,e.abrevedotbelow=7863,e.abrevegrave=7857,e.abrevehookabove=7859,e.abrevetilde=7861,e.acaron=462,e.acircle=9424,e.acircumflex=226,e.acircumflexacute=7845,e.acircumflexdotbelow=7853,e.acircumflexgrave=7847,e.acircumflexhookabove=7849,e.acircumflextilde=7851,e.acute=180,e.acutebelowcmb=791,e.acutecmb=769,e.acutecomb=769,e.acutedeva=2388,e.acutelowmod=719,e.acutetonecmb=833,e.acyrillic=1072,e.adblgrave=513,e.addakgurmukhi=2673,e.adeva=2309,e.adieresis=228,e.adieresiscyrillic=1235,e.adieresismacron=479,e.adotbelow=7841,e.adotmacron=481,e.ae=230,e.aeacute=509,e.aekorean=12624,e.aemacron=483,e.afii00208=8213,e.afii08941=8356,e.afii10017=1040,e.afii10018=1041,e.afii10019=1042,e.afii10020=1043,e.afii10021=1044,e.afii10022=1045,e.afii10023=1025,e.afii10024=1046,e.afii10025=1047,e.afii10026=1048,e.afii10027=1049,e.afii10028=1050,e.afii10029=1051,e.afii10030=1052;e.afii10031=1053,e.afii10032=1054,e.afii10033=1055,e.afii10034=1056,e.afii10035=1057,e.afii10036=1058,e.afii10037=1059,e.afii10038=1060,e.afii10039=1061,e.afii10040=1062,e.afii10041=1063,e.afii10042=1064,e.afii10043=1065,e.afii10044=1066,e.afii10045=1067,e.afii10046=1068,e.afii10047=1069,e.afii10048=1070,e.afii10049=1071,e.afii10050=1168,e.afii10051=1026,e.afii10052=1027,e.afii10053=1028,e.afii10054=1029,e.afii10055=1030,e.afii10056=1031,e.afii10057=1032,e.afii10058=1033,e.afii10059=1034,e.afii10060=1035,e.afii10061=1036,e.afii10062=1038,e.afii10063=63172,e.afii10064=63173,e.afii10065=1072,e.afii10066=1073,e.afii10067=1074,e.afii10068=1075,e.afii10069=1076,e.afii10070=1077,e.afii10071=1105,e.afii10072=1078,e.afii10073=1079,e.afii10074=1080,e.afii10075=1081,e.afii10076=1082,e.afii10077=1083,e.afii10078=1084,e.afii10079=1085,e.afii10080=1086,e.afii10081=1087,e.afii10082=1088,e.afii10083=1089,e.afii10084=1090,e.afii10085=1091,e.afii10086=1092,e.afii10087=1093,e.afii10088=1094,e.afii10089=1095,e.afii10090=1096,e.afii10091=1097,e.afii10092=1098,e.afii10093=1099,e.afii10094=1100,e.afii10095=1101,e.afii10096=1102,e.afii10097=1103,e.afii10098=1169,e.afii10099=1106,e.afii10100=1107,e.afii10101=1108,e.afii10102=1109,e.afii10103=1110,e.afii10104=1111,e.afii10105=1112,e.afii10106=1113,e.afii10107=1114,e.afii10108=1115,e.afii10109=1116,e.afii10110=1118,e.afii10145=1039,e.afii10146=1122,e.afii10147=1138,e.afii10148=1140,e.afii10192=63174,e.afii10193=1119,e.afii10194=1123,e.afii10195=1139,e.afii10196=1141,e.afii10831=63175,e.afii10832=63176,e.afii10846=1241,e.afii299=8206,e.afii300=8207,e.afii301=8205,e.afii57381=1642,e.afii57388=1548,e.afii57392=1632,e.afii57393=1633,e.afii57394=1634,e.afii57395=1635,e.afii57396=1636,e.afii57397=1637,e.afii57398=1638,e.afii57399=1639,e.afii57400=1640,e.afii57401=1641,e.afii57403=1563,e.afii57407=1567,e.afii57409=1569,e.afii57410=1570,e.afii57411=1571,e.afii57412=1572,e.afii57413=1573,e.afii57414=1574,e.afii57415=1575,e.afii57416=1576,e.afii57417=1577,e.afii57418=1578,e.afii57419=1579,e.afii57420=1580,e.afii57421=1581,e.afii57422=1582,e.afii57423=1583,e.afii57424=1584,e.afii57425=1585,e.afii57426=1586,e.afii57427=1587,e.afii57428=1588,e.afii57429=1589,e.afii57430=1590,e.afii57431=1591,e.afii57432=1592,e.afii57433=1593,e.afii57434=1594,e.afii57440=1600,e.afii57441=1601,e.afii57442=1602,e.afii57443=1603,e.afii57444=1604,e.afii57445=1605,e.afii57446=1606,e.afii57448=1608,e.afii57449=1609,e.afii57450=1610,e.afii57451=1611,e.afii57452=1612,e.afii57453=1613,e.afii57454=1614,e.afii57455=1615,e.afii57456=1616,e.afii57457=1617,e.afii57458=1618,e.afii57470=1607,e.afii57505=1700,e.afii57506=1662,e.afii57507=1670,e.afii57508=1688,e.afii57509=1711,e.afii57511=1657,e.afii57512=1672,e.afii57513=1681,e.afii57514=1722,e.afii57519=1746,e.afii57534=1749,e.afii57636=8362,e.afii57645=1470,e.afii57658=1475,e.afii57664=1488,e.afii57665=1489,e.afii57666=1490,e.afii57667=1491,e.afii57668=1492,e.afii57669=1493,e.afii57670=1494,e.afii57671=1495,e.afii57672=1496,e.afii57673=1497,e.afii57674=1498,e.afii57675=1499,e.afii57676=1500,e.afii57677=1501,e.afii57678=1502,e.afii57679=1503,e.afii57680=1504,e.afii57681=1505,e.afii57682=1506,e.afii57683=1507,e.afii57684=1508,e.afii57685=1509,e.afii57686=1510,e.afii57687=1511,e.afii57688=1512,e.afii57689=1513,e.afii57690=1514,e.afii57694=64298,e.afii57695=64299,e.afii57700=64331,e.afii57705=64287,e.afii57716=1520,e.afii57717=1521,e.afii57718=1522,e.afii57723=64309,e.afii57793=1460,e.afii57794=1461,e.afii57795=1462,e.afii57796=1467,e.afii57797=1464,e.afii57798=1463,e.afii57799=1456,e.afii57800=1458,e.afii57801=1457,e.afii57802=1459,e.afii57803=1474,e.afii57804=1473,e.afii57806=1465,e.afii57807=1468,e.afii57839=1469,e.afii57841=1471,e.afii57842=1472,e.afii57929=700,e.afii61248=8453,e.afii61289=8467,e.afii61352=8470,e.afii61573=8236,e.afii61574=8237,e.afii61575=8238,e.afii61664=8204,e.afii63167=1645,e.afii64937=701,e.agrave=224,e.agujarati=2693,e.agurmukhi=2565,e.ahiragana=12354,e.ahookabove=7843,e.aibengali=2448,e.aibopomofo=12574,e.aideva=2320,e.aiecyrillic=1237,e.aigujarati=2704,e.aigurmukhi=2576,e.aimatragurmukhi=2632,e.ainarabic=1593,e.ainfinalarabic=65226,e.aininitialarabic=65227,e.ainmedialarabic=65228,e.ainvertedbreve=515,e.aivowelsignbengali=2504,e.aivowelsigndeva=2376,e.aivowelsigngujarati=2760,e.akatakana=12450,e.akatakanahalfwidth=65393,e.akorean=12623,e.alef=1488,e.alefarabic=1575,e.alefdageshhebrew=64304,e.aleffinalarabic=65166,e.alefhamzaabovearabic=1571,e.alefhamzaabovefinalarabic=65156,e.alefhamzabelowarabic=1573,e.alefhamzabelowfinalarabic=65160,e.alefhebrew=1488,e.aleflamedhebrew=64335,e.alefmaddaabovearabic=1570,e.alefmaddaabovefinalarabic=65154,e.alefmaksuraarabic=1609,e.alefmaksurafinalarabic=65264,e.alefmaksurainitialarabic=65267,e.alefmaksuramedialarabic=65268,e.alefpatahhebrew=64302,e.alefqamatshebrew=64303,e.aleph=8501,e.allequal=8780,e.alpha=945,e.alphatonos=940,e.amacron=257,e.amonospace=65345,e.ampersand=38,e.ampersandmonospace=65286,e.ampersandsmall=63270,e.amsquare=13250,e.anbopomofo=12578,e.angbopomofo=12580,e.angbracketleft=12296,e.angbracketright=12297,e.angkhankhuthai=3674,e.angle=8736,e.anglebracketleft=12296,e.anglebracketleftvertical=65087,e.anglebracketright=12297,e.anglebracketrightvertical=65088,e.angleleft=9001,e.angleright=9002,e.angstrom=8491,e.anoteleia=903,e.anudattadeva=2386,e.anusvarabengali=2434,e.anusvaradeva=2306,e.anusvaragujarati=2690,e.aogonek=261,e.apaatosquare=13056,e.aparen=9372,e.apostrophearmenian=1370,e.apostrophemod=700,e.apple=63743,e.approaches=8784,e.approxequal=8776,e.approxequalorimage=8786,e.approximatelyequal=8773,e.araeaekorean=12686,e.araeakorean=12685,e.arc=8978,e.arighthalfring=7834,e.aring=229,e.aringacute=507,e.aringbelow=7681,e.arrowboth=8596,e.arrowdashdown=8675,e.arrowdashleft=8672,e.arrowdashright=8674,e.arrowdashup=8673,e.arrowdblboth=8660,e.arrowdbldown=8659,e.arrowdblleft=8656,e.arrowdblright=8658,e.arrowdblup=8657,e.arrowdown=8595,e.arrowdownleft=8601,e.arrowdownright=8600,e.arrowdownwhite=8681,e.arrowheaddownmod=709,e.arrowheadleftmod=706,e.arrowheadrightmod=707,e.arrowheadupmod=708,e.arrowhorizex=63719,e.arrowleft=8592,e.arrowleftdbl=8656,e.arrowleftdblstroke=8653,e.arrowleftoverright=8646,e.arrowleftwhite=8678,e.arrowright=8594,e.arrowrightdblstroke=8655,e.arrowrightheavy=10142,e.arrowrightoverleft=8644,e.arrowrightwhite=8680,e.arrowtableft=8676,e.arrowtabright=8677,e.arrowup=8593,e.arrowupdn=8597,e.arrowupdnbse=8616,e.arrowupdownbase=8616,e.arrowupleft=8598,e.arrowupleftofdown=8645,e.arrowupright=8599,e.arrowupwhite=8679,e.arrowvertex=63718,e.asciicircum=94,e.asciicircummonospace=65342,e.asciitilde=126,e.asciitildemonospace=65374,e.ascript=593,e.ascriptturned=594,e.asmallhiragana=12353,e.asmallkatakana=12449,e.asmallkatakanahalfwidth=65383,e.asterisk=42,e.asteriskaltonearabic=1645,e.asteriskarabic=1645,e.asteriskmath=8727,e.asteriskmonospace=65290,e.asterisksmall=65121,e.asterism=8258,e.asuperior=63209,e.asymptoticallyequal=8771,e.at=64,e.atilde=227,e.atmonospace=65312,e.atsmall=65131,e.aturned=592,e.aubengali=2452,e.aubopomofo=12576,e.audeva=2324,e.augujarati=2708,e.augurmukhi=2580,e.aulengthmarkbengali=2519,e.aumatragurmukhi=2636,e.auvowelsignbengali=2508,e.auvowelsigndeva=2380,e.auvowelsigngujarati=2764,e.avagrahadeva=2365,e.aybarmenian=1377,e.ayin=1506,e.ayinaltonehebrew=64288,e.ayinhebrew=1506,e.b=98,e.babengali=2476,e.backslash=92,e.backslashmonospace=65340,e.badeva=2348,e.bagujarati=2732,e.bagurmukhi=2604,e.bahiragana=12400,e.bahtthai=3647,e.bakatakana=12496,e.bar=124,e.barmonospace=65372,e.bbopomofo=12549,e.bcircle=9425,e.bdotaccent=7683,e.bdotbelow=7685,e.beamedsixteenthnotes=9836,e.because=8757,e.becyrillic=1073,e.beharabic=1576,e.behfinalarabic=65168,e.behinitialarabic=65169,e.behiragana=12409,e.behmedialarabic=65170,e.behmeeminitialarabic=64671,e.behmeemisolatedarabic=64520,e.behnoonfinalarabic=64621,e.bekatakana=12505,e.benarmenian=1378,e.bet=1489,e.beta=946,e.betasymbolgreek=976,e.betdagesh=64305,e.betdageshhebrew=64305,e.bethebrew=1489,e.betrafehebrew=64332,e.bhabengali=2477,e.bhadeva=2349,e.bhagujarati=2733,e.bhagurmukhi=2605,e.bhook=595,e.bihiragana=12403,e.bikatakana=12499,e.bilabialclick=664,e.bindigurmukhi=2562,e.birusquare=13105,e.blackcircle=9679,e.blackdiamond=9670,e.blackdownpointingtriangle=9660,e.blackleftpointingpointer=9668,e.blackleftpointingtriangle=9664,e.blacklenticularbracketleft=12304,e.blacklenticularbracketleftvertical=65083,e.blacklenticularbracketright=12305,e.blacklenticularbracketrightvertical=65084,e.blacklowerlefttriangle=9699,e.blacklowerrighttriangle=9698,e.blackrectangle=9644,e.blackrightpointingpointer=9658,e.blackrightpointingtriangle=9654,e.blacksmallsquare=9642,e.blacksmilingface=9787,e.blacksquare=9632,e.blackstar=9733,e.blackupperlefttriangle=9700,e.blackupperrighttriangle=9701,e.blackuppointingsmalltriangle=9652,e.blackuppointingtriangle=9650,e.blank=9251,e.blinebelow=7687,e.block=9608,e.bmonospace=65346,e.bobaimaithai=3610,e.bohiragana=12412,e.bokatakana=12508,e.bparen=9373,e.bqsquare=13251,e.braceex=63732,e.braceleft=123,e.braceleftbt=63731,e.braceleftmid=63730,e.braceleftmonospace=65371,e.braceleftsmall=65115,e.bracelefttp=63729,e.braceleftvertical=65079,e.braceright=125,e.bracerightbt=63742,e.bracerightmid=63741,e.bracerightmonospace=65373,e.bracerightsmall=65116,e.bracerighttp=63740,e.bracerightvertical=65080,e.bracketleft=91,e.bracketleftbt=63728,e.bracketleftex=63727,e.bracketleftmonospace=65339,e.bracketlefttp=63726,e.bracketright=93,e.bracketrightbt=63739,e.bracketrightex=63738,e.bracketrightmonospace=65341,e.bracketrighttp=63737,e.breve=728,e.brevebelowcmb=814,e.brevecmb=774,e.breveinvertedbelowcmb=815,e.breveinvertedcmb=785,e.breveinverteddoublecmb=865,e.bridgebelowcmb=810,e.bridgeinvertedbelowcmb=826,e.brokenbar=166,e.bstroke=384,e.bsuperior=63210,e.btopbar=387,e.buhiragana=12406,e.bukatakana=12502,e.bullet=8226,e.bulletinverse=9688,e.bulletoperator=8729,e.bullseye=9678,e.c=99,e.caarmenian=1390,e.cabengali=2458,e.cacute=263,e.cadeva=2330,e.cagujarati=2714,e.cagurmukhi=2586,e.calsquare=13192,e.candrabindubengali=2433,e.candrabinducmb=784,e.candrabindudeva=2305,e.candrabindugujarati=2689,e.capslock=8682,e.careof=8453,e.caron=711,e.caronbelowcmb=812,e.caroncmb=780,e.carriagereturn=8629,e.cbopomofo=12568,e.ccaron=269,e.ccedilla=231,e.ccedillaacute=7689,e.ccircle=9426,e.ccircumflex=265,e.ccurl=597,e.cdot=267,e.cdotaccent=267,e.cdsquare=13253,e.cedilla=184,e.cedillacmb=807,e.cent=162,e.centigrade=8451,e.centinferior=63199,e.centmonospace=65504,e.centoldstyle=63394,e.centsuperior=63200,e.chaarmenian=1401,e.chabengali=2459,e.chadeva=2331,e.chagujarati=2715,e.chagurmukhi=2587,e.chbopomofo=12564,e.cheabkhasiancyrillic=1213,e.checkmark=10003,e.checyrillic=1095,e.chedescenderabkhasiancyrillic=1215,e.chedescendercyrillic=1207,e.chedieresiscyrillic=1269,e.cheharmenian=1395,e.chekhakassiancyrillic=1228,e.cheverticalstrokecyrillic=1209,e.chi=967,e.chieuchacirclekorean=12919,e.chieuchaparenkorean=12823,e.chieuchcirclekorean=12905,e.chieuchkorean=12618,e.chieuchparenkorean=12809,e.chochangthai=3594,e.chochanthai=3592,e.chochingthai=3593,e.chochoethai=3596,e.chook=392,e.cieucacirclekorean=12918,e.cieucaparenkorean=12822,e.cieuccirclekorean=12904,e.cieuckorean=12616,e.cieucparenkorean=12808,e.cieucuparenkorean=12828,e.circle=9675,e.circlecopyrt=169,e.circlemultiply=8855,e.circleot=8857,e.circleplus=8853,e.circlepostalmark=12342,e.circlewithlefthalfblack=9680,e.circlewithrighthalfblack=9681,e.circumflex=710,e.circumflexbelowcmb=813,e.circumflexcmb=770,e.clear=8999,e.clickalveolar=450,e.clickdental=448,e.clicklateral=449,e.clickretroflex=451,e.club=9827,e.clubsuitblack=9827,e.clubsuitwhite=9831,e.cmcubedsquare=13220,e.cmonospace=65347,e.cmsquaredsquare=13216,e.coarmenian=1409,e.colon=58,e.colonmonetary=8353,e.colonmonospace=65306,e.colonsign=8353,e.colonsmall=65109,e.colontriangularhalfmod=721,e.colontriangularmod=720,e.comma=44,e.commaabovecmb=787,e.commaaboverightcmb=789,e.commaaccent=63171,e.commaarabic=1548,e.commaarmenian=1373,e.commainferior=63201,e.commamonospace=65292,e.commareversedabovecmb=788,e.commareversedmod=701,e.commasmall=65104,e.commasuperior=63202,e.commaturnedabovecmb=786,e.commaturnedmod=699,e.compass=9788,e.congruent=8773,e.contourintegral=8750,e.control=8963,e.controlACK=6,e.controlBEL=7,e.controlBS=8,e.controlCAN=24,e.controlCR=13,e.controlDC1=17,e.controlDC2=18,e.controlDC3=19,e.controlDC4=20,e.controlDEL=127,e.controlDLE=16,e.controlEM=25,e.controlENQ=5,e.controlEOT=4,e.controlESC=27,e.controlETB=23,e.controlETX=3,e.controlFF=12,e.controlFS=28,e.controlGS=29,e.controlHT=9,e.controlLF=10,e.controlNAK=21,e.controlNULL=0,e.controlRS=30,e.controlSI=15,e.controlSO=14,e.controlSOT=2,e.controlSTX=1,e.controlSUB=26,e.controlSYN=22,e.controlUS=31,e.controlVT=11,e.copyright=169,e.copyrightsans=63721,e.copyrightserif=63193,e.cornerbracketleft=12300,e.cornerbracketlefthalfwidth=65378,e.cornerbracketleftvertical=65089,e.cornerbracketright=12301,e.cornerbracketrighthalfwidth=65379,e.cornerbracketrightvertical=65090,e.corporationsquare=13183,e.cosquare=13255,e.coverkgsquare=13254,e.cparen=9374,e.cruzeiro=8354,e.cstretched=663,e.curlyand=8911,e.curlyor=8910,e.currency=164,e.cyrBreve=63185,e.cyrFlex=63186,e.cyrbreve=63188,e.cyrflex=63189,e.d=100,e.daarmenian=1380,e.dabengali=2470,e.dadarabic=1590,e.dadeva=2342,e.dadfinalarabic=65214,e.dadinitialarabic=65215,e.dadmedialarabic=65216,e.dagesh=1468,e.dageshhebrew=1468,e.dagger=8224,e.daggerdbl=8225,e.dagujarati=2726,e.dagurmukhi=2598,e.dahiragana=12384,e.dakatakana=12480,e.dalarabic=1583,e.dalet=1491,e.daletdagesh=64307,e.daletdageshhebrew=64307,e.dalethebrew=1491,e.dalfinalarabic=65194,e.dammaarabic=1615,e.dammalowarabic=1615,e.dammatanaltonearabic=1612,e.dammatanarabic=1612,e.danda=2404,e.dargahebrew=1447,e.dargalefthebrew=1447,e.dasiapneumatacyrilliccmb=1157,e.dblGrave=63187,e.dblanglebracketleft=12298,e.dblanglebracketleftvertical=65085,e.dblanglebracketright=12299,e.dblanglebracketrightvertical=65086,e.dblarchinvertedbelowcmb=811,e.dblarrowleft=8660,e.dblarrowright=8658,e.dbldanda=2405,e.dblgrave=63190,e.dblgravecmb=783,e.dblintegral=8748,e.dbllowline=8215,e.dbllowlinecmb=819,e.dbloverlinecmb=831,e.dblprimemod=698,e.dblverticalbar=8214,e.dblverticallineabovecmb=782,e.dbopomofo=12553,e.dbsquare=13256,e.dcaron=271,e.dcedilla=7697,e.dcircle=9427,e.dcircumflexbelow=7699,e.dcroat=273,e.ddabengali=2465,e.ddadeva=2337,e.ddagujarati=2721,e.ddagurmukhi=2593,e.ddalarabic=1672,e.ddalfinalarabic=64393,e.dddhadeva=2396,e.ddhabengali=2466,e.ddhadeva=2338,e.ddhagujarati=2722,e.ddhagurmukhi=2594,e.ddotaccent=7691,e.ddotbelow=7693,e.decimalseparatorarabic=1643,e.decimalseparatorpersian=1643,e.decyrillic=1076,e.degree=176,e.dehihebrew=1453,e.dehiragana=12391,e.deicoptic=1007,e.dekatakana=12487,e.deleteleft=9003,e.deleteright=8998,e.delta=948,e.deltaturned=397,e.denominatorminusonenumeratorbengali=2552,e.dezh=676,e.dhabengali=2471,e.dhadeva=2343,e.dhagujarati=2727,e.dhagurmukhi=2599,e.dhook=599,e.dialytikatonos=901,e.dialytikatonoscmb=836,e.diamond=9830,e.diamondsuitwhite=9826,e.dieresis=168,e.dieresisacute=63191,e.dieresisbelowcmb=804,e.dieresiscmb=776,e.dieresisgrave=63192,e.dieresistonos=901,e.dihiragana=12386,e.dikatakana=12482,e.dittomark=12291,e.divide=247,e.divides=8739,e.divisionslash=8725,e.djecyrillic=1106,e.dkshade=9619,e.dlinebelow=7695,e.dlsquare=13207,e.dmacron=273,e.dmonospace=65348,e.dnblock=9604,e.dochadathai=3598,e.dodekthai=3604,e.dohiragana=12393,e.dokatakana=12489,e.dollar=36;e.dollarinferior=63203,e.dollarmonospace=65284,e.dollaroldstyle=63268,e.dollarsmall=65129,e.dollarsuperior=63204,e.dong=8363,e.dorusquare=13094,e.dotaccent=729,e.dotaccentcmb=775,e.dotbelowcmb=803,e.dotbelowcomb=803,e.dotkatakana=12539,e.dotlessi=305,e.dotlessj=63166,e.dotlessjstrokehook=644,e.dotmath=8901,e.dottedcircle=9676,e.doubleyodpatah=64287,e.doubleyodpatahhebrew=64287,e.downtackbelowcmb=798,e.downtackmod=725,e.dparen=9375,e.dsuperior=63211,e.dtail=598,e.dtopbar=396,e.duhiragana=12389,e.dukatakana=12485,e.dz=499,e.dzaltone=675,e.dzcaron=454,e.dzcurl=677,e.dzeabkhasiancyrillic=1249,e.dzecyrillic=1109,e.dzhecyrillic=1119,e.e=101,e.eacute=233,e.earth=9793,e.ebengali=2447,e.ebopomofo=12572,e.ebreve=277,e.ecandradeva=2317,e.ecandragujarati=2701,e.ecandravowelsigndeva=2373,e.ecandravowelsigngujarati=2757,e.ecaron=283,e.ecedillabreve=7709,e.echarmenian=1381,e.echyiwnarmenian=1415,e.ecircle=9428,e.ecircumflex=234,e.ecircumflexacute=7871,e.ecircumflexbelow=7705,e.ecircumflexdotbelow=7879,e.ecircumflexgrave=7873,e.ecircumflexhookabove=7875,e.ecircumflextilde=7877,e.ecyrillic=1108,e.edblgrave=517,e.edeva=2319,e.edieresis=235,e.edot=279,e.edotaccent=279,e.edotbelow=7865,e.eegurmukhi=2575,e.eematragurmukhi=2631,e.efcyrillic=1092,e.egrave=232,e.egujarati=2703,e.eharmenian=1383,e.ehbopomofo=12573,e.ehiragana=12360,e.ehookabove=7867,e.eibopomofo=12575,e.eight=56,e.eightarabic=1640,e.eightbengali=2542,e.eightcircle=9319,e.eightcircleinversesansserif=10129,e.eightdeva=2414,e.eighteencircle=9329,e.eighteenparen=9349,e.eighteenperiod=9369,e.eightgujarati=2798,e.eightgurmukhi=2670,e.eighthackarabic=1640,e.eighthangzhou=12328,e.eighthnotebeamed=9835,e.eightideographicparen=12839,e.eightinferior=8328,e.eightmonospace=65304,e.eightoldstyle=63288,e.eightparen=9339,e.eightperiod=9359,e.eightpersian=1784,e.eightroman=8567,e.eightsuperior=8312,e.eightthai=3672,e.einvertedbreve=519,e.eiotifiedcyrillic=1125,e.ekatakana=12456,e.ekatakanahalfwidth=65396,e.ekonkargurmukhi=2676,e.ekorean=12628,e.elcyrillic=1083,e.element=8712,e.elevencircle=9322,e.elevenparen=9342,e.elevenperiod=9362,e.elevenroman=8570,e.ellipsis=8230,e.ellipsisvertical=8942,e.emacron=275,e.emacronacute=7703,e.emacrongrave=7701,e.emcyrillic=1084,e.emdash=8212,e.emdashvertical=65073,e.emonospace=65349,e.emphasismarkarmenian=1371,e.emptyset=8709,e.enbopomofo=12579,e.encyrillic=1085,e.endash=8211,e.endashvertical=65074,e.endescendercyrillic=1187,e.eng=331,e.engbopomofo=12581,e.enghecyrillic=1189,e.enhookcyrillic=1224,e.enspace=8194,e.eogonek=281,e.eokorean=12627,e.eopen=603,e.eopenclosed=666,e.eopenreversed=604,e.eopenreversedclosed=606,e.eopenreversedhook=605,e.eparen=9376,e.epsilon=949,e.epsilontonos=941,e.equal=61,e.equalmonospace=65309,e.equalsmall=65126,e.equalsuperior=8316,e.equivalence=8801,e.erbopomofo=12582,e.ercyrillic=1088,e.ereversed=600,e.ereversedcyrillic=1101,e.escyrillic=1089,e.esdescendercyrillic=1195,e.esh=643,e.eshcurl=646,e.eshortdeva=2318,e.eshortvowelsigndeva=2374,e.eshreversedloop=426,e.eshsquatreversed=645,e.esmallhiragana=12359,e.esmallkatakana=12455,e.esmallkatakanahalfwidth=65386,e.estimated=8494,e.esuperior=63212,e.eta=951,e.etarmenian=1384,e.etatonos=942,e.eth=240,e.etilde=7869,e.etildebelow=7707,e.etnahtafoukhhebrew=1425,e.etnahtafoukhlefthebrew=1425,e.etnahtahebrew=1425,e.etnahtalefthebrew=1425,e.eturned=477,e.eukorean=12641,e.euro=8364,e.evowelsignbengali=2503,e.evowelsigndeva=2375,e.evowelsigngujarati=2759,e.exclam=33,e.exclamarmenian=1372,e.exclamdbl=8252,e.exclamdown=161,e.exclamdownsmall=63393,e.exclammonospace=65281,e.exclamsmall=63265,e.existential=8707,e.ezh=658,e.ezhcaron=495,e.ezhcurl=659,e.ezhreversed=441,e.ezhtail=442,e.f=102,e.fadeva=2398,e.fagurmukhi=2654,e.fahrenheit=8457,e.fathaarabic=1614,e.fathalowarabic=1614,e.fathatanarabic=1611,e.fbopomofo=12552,e.fcircle=9429,e.fdotaccent=7711,e.feharabic=1601,e.feharmenian=1414,e.fehfinalarabic=65234,e.fehinitialarabic=65235,e.fehmedialarabic=65236,e.feicoptic=997,e.female=9792,e.ff=64256,e.ffi=64259,e.ffl=64260,e.fi=64257,e.fifteencircle=9326,e.fifteenparen=9346,e.fifteenperiod=9366,e.figuredash=8210,e.filledbox=9632,e.filledrect=9644,e.finalkaf=1498,e.finalkafdagesh=64314,e.finalkafdageshhebrew=64314,e.finalkafhebrew=1498,e.finalmem=1501,e.finalmemhebrew=1501,e.finalnun=1503,e.finalnunhebrew=1503,e.finalpe=1507,e.finalpehebrew=1507,e.finaltsadi=1509,e.finaltsadihebrew=1509,e.firsttonechinese=713,e.fisheye=9673,e.fitacyrillic=1139,e.five=53,e.fivearabic=1637,e.fivebengali=2539,e.fivecircle=9316,e.fivecircleinversesansserif=10126,e.fivedeva=2411,e.fiveeighths=8541,e.fivegujarati=2795,e.fivegurmukhi=2667,e.fivehackarabic=1637,e.fivehangzhou=12325,e.fiveideographicparen=12836,e.fiveinferior=8325,e.fivemonospace=65301,e.fiveoldstyle=63285,e.fiveparen=9336,e.fiveperiod=9356,e.fivepersian=1781,e.fiveroman=8564,e.fivesuperior=8309,e.fivethai=3669,e.fl=64258,e.florin=402,e.fmonospace=65350,e.fmsquare=13209,e.fofanthai=3615,e.fofathai=3613,e.fongmanthai=3663,e.forall=8704,e.four=52,e.fourarabic=1636,e.fourbengali=2538,e.fourcircle=9315,e.fourcircleinversesansserif=10125,e.fourdeva=2410,e.fourgujarati=2794,e.fourgurmukhi=2666,e.fourhackarabic=1636,e.fourhangzhou=12324,e.fourideographicparen=12835,e.fourinferior=8324,e.fourmonospace=65300,e.fournumeratorbengali=2551,e.fouroldstyle=63284,e.fourparen=9335,e.fourperiod=9355,e.fourpersian=1780,e.fourroman=8563,e.foursuperior=8308,e.fourteencircle=9325,e.fourteenparen=9345,e.fourteenperiod=9365,e.fourthai=3668,e.fourthtonechinese=715,e.fparen=9377,e.fraction=8260,e.franc=8355,e.g=103,e.gabengali=2455,e.gacute=501,e.gadeva=2327,e.gafarabic=1711,e.gaffinalarabic=64403,e.gafinitialarabic=64404,e.gafmedialarabic=64405,e.gagujarati=2711,e.gagurmukhi=2583,e.gahiragana=12364,e.gakatakana=12460,e.gamma=947,e.gammalatinsmall=611,e.gammasuperior=736,e.gangiacoptic=1003,e.gbopomofo=12557,e.gbreve=287,e.gcaron=487,e.gcedilla=291,e.gcircle=9430,e.gcircumflex=285,e.gcommaaccent=291,e.gdot=289,e.gdotaccent=289,e.gecyrillic=1075,e.gehiragana=12370,e.gekatakana=12466,e.geometricallyequal=8785,e.gereshaccenthebrew=1436,e.gereshhebrew=1523,e.gereshmuqdamhebrew=1437,e.germandbls=223,e.gershayimaccenthebrew=1438,e.gershayimhebrew=1524,e.getamark=12307,e.ghabengali=2456,e.ghadarmenian=1394,e.ghadeva=2328,e.ghagujarati=2712,e.ghagurmukhi=2584,e.ghainarabic=1594,e.ghainfinalarabic=65230,e.ghaininitialarabic=65231,e.ghainmedialarabic=65232,e.ghemiddlehookcyrillic=1173,e.ghestrokecyrillic=1171,e.gheupturncyrillic=1169,e.ghhadeva=2394,e.ghhagurmukhi=2650,e.ghook=608,e.ghzsquare=13203,e.gihiragana=12366,e.gikatakana=12462,e.gimarmenian=1379,e.gimel=1490,e.gimeldagesh=64306,e.gimeldageshhebrew=64306,e.gimelhebrew=1490,e.gjecyrillic=1107,e.glottalinvertedstroke=446,e.glottalstop=660,e.glottalstopinverted=662,e.glottalstopmod=704,e.glottalstopreversed=661,e.glottalstopreversedmod=705,e.glottalstopreversedsuperior=740,e.glottalstopstroke=673,e.glottalstopstrokereversed=674,e.gmacron=7713,e.gmonospace=65351,e.gohiragana=12372,e.gokatakana=12468,e.gparen=9378,e.gpasquare=13228,e.gradient=8711,e.grave=96,e.gravebelowcmb=790,e.gravecmb=768,e.gravecomb=768,e.gravedeva=2387,e.gravelowmod=718,e.gravemonospace=65344,e.gravetonecmb=832,e.greater=62,e.greaterequal=8805,e.greaterequalorless=8923,e.greatermonospace=65310,e.greaterorequivalent=8819,e.greaterorless=8823,e.greateroverequal=8807,e.greatersmall=65125,e.gscript=609,e.gstroke=485,e.guhiragana=12368,e.guillemotleft=171,e.guillemotright=187,e.guilsinglleft=8249,e.guilsinglright=8250,e.gukatakana=12464,e.guramusquare=13080,e.gysquare=13257,e.h=104,e.haabkhasiancyrillic=1193,e.haaltonearabic=1729,e.habengali=2489,e.hadescendercyrillic=1203,e.hadeva=2361,e.hagujarati=2745,e.hagurmukhi=2617,e.haharabic=1581,e.hahfinalarabic=65186,e.hahinitialarabic=65187,e.hahiragana=12399,e.hahmedialarabic=65188,e.haitusquare=13098,e.hakatakana=12495,e.hakatakanahalfwidth=65418,e.halantgurmukhi=2637,e.hamzaarabic=1569,e.hamzalowarabic=1569,e.hangulfiller=12644,e.hardsigncyrillic=1098,e.harpoonleftbarbup=8636,e.harpoonrightbarbup=8640,e.hasquare=13258,e.hatafpatah=1458,e.hatafpatah16=1458,e.hatafpatah23=1458,e.hatafpatah2f=1458,e.hatafpatahhebrew=1458,e.hatafpatahnarrowhebrew=1458,e.hatafpatahquarterhebrew=1458,e.hatafpatahwidehebrew=1458,e.hatafqamats=1459,e.hatafqamats1b=1459,e.hatafqamats28=1459,e.hatafqamats34=1459,e.hatafqamatshebrew=1459,e.hatafqamatsnarrowhebrew=1459,e.hatafqamatsquarterhebrew=1459,e.hatafqamatswidehebrew=1459,e.hatafsegol=1457,e.hatafsegol17=1457,e.hatafsegol24=1457,e.hatafsegol30=1457,e.hatafsegolhebrew=1457,e.hatafsegolnarrowhebrew=1457,e.hatafsegolquarterhebrew=1457,e.hatafsegolwidehebrew=1457,e.hbar=295,e.hbopomofo=12559,e.hbrevebelow=7723,e.hcedilla=7721,e.hcircle=9431,e.hcircumflex=293,e.hdieresis=7719,e.hdotaccent=7715,e.hdotbelow=7717,e.he=1492,e.heart=9829,e.heartsuitblack=9829,e.heartsuitwhite=9825,e.hedagesh=64308,e.hedageshhebrew=64308,e.hehaltonearabic=1729,e.heharabic=1607,e.hehebrew=1492,e.hehfinalaltonearabic=64423,e.hehfinalalttwoarabic=65258,e.hehfinalarabic=65258,e.hehhamzaabovefinalarabic=64421,e.hehhamzaaboveisolatedarabic=64420,e.hehinitialaltonearabic=64424,e.hehinitialarabic=65259,e.hehiragana=12408,e.hehmedialaltonearabic=64425,e.hehmedialarabic=65260,e.heiseierasquare=13179,e.hekatakana=12504,e.hekatakanahalfwidth=65421,e.hekutaarusquare=13110,e.henghook=615,e.herutusquare=13113,e.het=1495,e.hethebrew=1495,e.hhook=614,e.hhooksuperior=689,e.hieuhacirclekorean=12923,e.hieuhaparenkorean=12827,e.hieuhcirclekorean=12909,e.hieuhkorean=12622,e.hieuhparenkorean=12813,e.hihiragana=12402,e.hikatakana=12498,e.hikatakanahalfwidth=65419,e.hiriq=1460,e.hiriq14=1460,e.hiriq21=1460,e.hiriq2d=1460,e.hiriqhebrew=1460,e.hiriqnarrowhebrew=1460,e.hiriqquarterhebrew=1460,e.hiriqwidehebrew=1460,e.hlinebelow=7830,e.hmonospace=65352,e.hoarmenian=1392,e.hohipthai=3627,e.hohiragana=12411,e.hokatakana=12507,e.hokatakanahalfwidth=65422,e.holam=1465,e.holam19=1465,e.holam26=1465,e.holam32=1465,e.holamhebrew=1465,e.holamnarrowhebrew=1465,e.holamquarterhebrew=1465,e.holamwidehebrew=1465,e.honokhukthai=3630,e.hookabovecomb=777,e.hookcmb=777,e.hookpalatalizedbelowcmb=801,e.hookretroflexbelowcmb=802,e.hoonsquare=13122,e.horicoptic=1001,e.horizontalbar=8213,e.horncmb=795,e.hotsprings=9832,e.house=8962,e.hparen=9379,e.hsuperior=688,e.hturned=613,e.huhiragana=12405,e.huiitosquare=13107,e.hukatakana=12501,e.hukatakanahalfwidth=65420,e.hungarumlaut=733,e.hungarumlautcmb=779,e.hv=405,e.hyphen=45,e.hypheninferior=63205,e.hyphenmonospace=65293,e.hyphensmall=65123,e.hyphensuperior=63206,e.hyphentwo=8208,e.i=105,e.iacute=237,e.iacyrillic=1103,e.ibengali=2439,e.ibopomofo=12583,e.ibreve=301,e.icaron=464,e.icircle=9432,e.icircumflex=238,e.icyrillic=1110,e.idblgrave=521,e.ideographearthcircle=12943,e.ideographfirecircle=12939,e.ideographicallianceparen=12863,e.ideographiccallparen=12858,e.ideographiccentrecircle=12965,e.ideographicclose=12294,e.ideographiccomma=12289,e.ideographiccommaleft=65380,e.ideographiccongratulationparen=12855,e.ideographiccorrectcircle=12963,e.ideographicearthparen=12847,e.ideographicenterpriseparen=12861,e.ideographicexcellentcircle=12957,e.ideographicfestivalparen=12864,e.ideographicfinancialcircle=12950,e.ideographicfinancialparen=12854,e.ideographicfireparen=12843,e.ideographichaveparen=12850,e.ideographichighcircle=12964,e.ideographiciterationmark=12293,e.ideographiclaborcircle=12952,e.ideographiclaborparen=12856,e.ideographicleftcircle=12967,e.ideographiclowcircle=12966,e.ideographicmedicinecircle=12969,e.ideographicmetalparen=12846,e.ideographicmoonparen=12842,e.ideographicnameparen=12852,e.ideographicperiod=12290,e.ideographicprintcircle=12958,e.ideographicreachparen=12867,e.ideographicrepresentparen=12857,e.ideographicresourceparen=12862,e.ideographicrightcircle=12968,e.ideographicsecretcircle=12953,e.ideographicselfparen=12866,e.ideographicsocietyparen=12851,e.ideographicspace=12288,e.ideographicspecialparen=12853,e.ideographicstockparen=12849,e.ideographicstudyparen=12859,e.ideographicsunparen=12848,e.ideographicsuperviseparen=12860,e.ideographicwaterparen=12844,e.ideographicwoodparen=12845,e.ideographiczero=12295,e.ideographmetalcircle=12942,e.ideographmooncircle=12938,e.ideographnamecircle=12948,e.ideographsuncircle=12944,e.ideographwatercircle=12940,e.ideographwoodcircle=12941,e.ideva=2311,e.idieresis=239,e.idieresisacute=7727,e.idieresiscyrillic=1253,e.idotbelow=7883,e.iebrevecyrillic=1239,e.iecyrillic=1077,e.ieungacirclekorean=12917,e.ieungaparenkorean=12821,e.ieungcirclekorean=12903,e.ieungkorean=12615,e.ieungparenkorean=12807,e.igrave=236,e.igujarati=2695,e.igurmukhi=2567,e.ihiragana=12356,e.ihookabove=7881,e.iibengali=2440,e.iicyrillic=1080,e.iideva=2312,e.iigujarati=2696,e.iigurmukhi=2568,e.iimatragurmukhi=2624,e.iinvertedbreve=523,e.iishortcyrillic=1081,e.iivowelsignbengali=2496,e.iivowelsigndeva=2368,e.iivowelsigngujarati=2752,e.ij=307,e.ikatakana=12452,e.ikatakanahalfwidth=65394,e.ikorean=12643,e.ilde=732,e.iluyhebrew=1452,e.imacron=299,e.imacroncyrillic=1251,e.imageorapproximatelyequal=8787,e.imatragurmukhi=2623,e.imonospace=65353,e.increment=8710,e.infinity=8734,e.iniarmenian=1387,e.integral=8747,e.integralbottom=8993,e.integralbt=8993,e.integralex=63733,e.integraltop=8992,e.integraltp=8992,e.intersection=8745,e.intisquare=13061,e.invbullet=9688,e.invcircle=9689,e.invsmileface=9787,e.iocyrillic=1105,e.iogonek=303,e.iota=953,e.iotadieresis=970,e.iotadieresistonos=912,e.iotalatin=617,e.iotatonos=943,e.iparen=9380,e.irigurmukhi=2674,e.ismallhiragana=12355,e.ismallkatakana=12451,e.ismallkatakanahalfwidth=65384,e.issharbengali=2554,e.istroke=616,e.isuperior=63213,e.iterationhiragana=12445,e.iterationkatakana=12541,e.itilde=297,e.itildebelow=7725,e.iubopomofo=12585,e.iucyrillic=1102,e.ivowelsignbengali=2495,e.ivowelsigndeva=2367,e.ivowelsigngujarati=2751,e.izhitsacyrillic=1141,e.izhitsadblgravecyrillic=1143,e.j=106,e.jaarmenian=1393,e.jabengali=2460,e.jadeva=2332,e.jagujarati=2716,e.jagurmukhi=2588,e.jbopomofo=12560,e.jcaron=496,e.jcircle=9433,e.jcircumflex=309,e.jcrossedtail=669,e.jdotlessstroke=607,e.jecyrillic=1112,e.jeemarabic=1580,e.jeemfinalarabic=65182,e.jeeminitialarabic=65183,e.jeemmedialarabic=65184,e.jeharabic=1688,e.jehfinalarabic=64395,e.jhabengali=2461,e.jhadeva=2333,e.jhagujarati=2717,e.jhagurmukhi=2589,e.jheharmenian=1403,e.jis=12292,e.jmonospace=65354,e.jparen=9381,e.jsuperior=690,e.k=107,e.kabashkircyrillic=1185,e.kabengali=2453,e.kacute=7729,e.kacyrillic=1082,e.kadescendercyrillic=1179,e.kadeva=2325,e.kaf=1499,e.kafarabic=1603,e.kafdagesh=64315,e.kafdageshhebrew=64315,e.kaffinalarabic=65242,e.kafhebrew=1499,e.kafinitialarabic=65243,e.kafmedialarabic=65244,e.kafrafehebrew=64333,e.kagujarati=2709,e.kagurmukhi=2581,e.kahiragana=12363,e.kahookcyrillic=1220,e.kakatakana=12459,e.kakatakanahalfwidth=65398,e.kappa=954,e.kappasymbolgreek=1008,e.kapyeounmieumkorean=12657,e.kapyeounphieuphkorean=12676,e.kapyeounpieupkorean=12664,e.kapyeounssangpieupkorean=12665,e.karoriisquare=13069,e.kashidaautoarabic=1600,e.kashidaautonosidebearingarabic=1600,e.kasmallkatakana=12533,e.kasquare=13188,e.kasraarabic=1616,e.kasratanarabic=1613,e.kastrokecyrillic=1183,e.katahiraprolongmarkhalfwidth=65392,e.kaverticalstrokecyrillic=1181,e.kbopomofo=12558,e.kcalsquare=13193,e.kcaron=489,e.kcedilla=311,e.kcircle=9434,e.kcommaaccent=311,e.kdotbelow=7731,e.keharmenian=1412,e.kehiragana=12369,e.kekatakana=12465,e.kekatakanahalfwidth=65401,e.kenarmenian=1391,e.kesmallkatakana=12534,e.kgreenlandic=312,e.khabengali=2454,e.khacyrillic=1093,e.khadeva=2326,e.khagujarati=2710,e.khagurmukhi=2582,e.khaharabic=1582,e.khahfinalarabic=65190,e.khahinitialarabic=65191,e.khahmedialarabic=65192,e.kheicoptic=999,e.khhadeva=2393,e.khhagurmukhi=2649,e.khieukhacirclekorean=12920,e.khieukhaparenkorean=12824,e.khieukhcirclekorean=12906,e.khieukhkorean=12619,e.khieukhparenkorean=12810,e.khokhaithai=3586,e.khokhonthai=3589,e.khokhuatthai=3587,e.khokhwaithai=3588,e.khomutthai=3675,e.khook=409,e.khorakhangthai=3590,e.khzsquare=13201,e.kihiragana=12365,e.kikatakana=12461,e.kikatakanahalfwidth=65399,e.kiroguramusquare=13077,e.kiromeetorusquare=13078,e.kirosquare=13076,e.kiyeokacirclekorean=12910,e.kiyeokaparenkorean=12814,e.kiyeokcirclekorean=12896,e.kiyeokkorean=12593,e.kiyeokparenkorean=12800,e.kiyeoksioskorean=12595,e.kjecyrillic=1116,e.klinebelow=7733,e.klsquare=13208,e.kmcubedsquare=13222,e.kmonospace=65355;e.kmsquaredsquare=13218,e.kohiragana=12371,e.kohmsquare=13248,e.kokaithai=3585,e.kokatakana=12467,e.kokatakanahalfwidth=65402,e.kooposquare=13086,e.koppacyrillic=1153,e.koreanstandardsymbol=12927,e.koroniscmb=835,e.kparen=9382,e.kpasquare=13226,e.ksicyrillic=1135,e.ktsquare=13263,e.kturned=670,e.kuhiragana=12367,e.kukatakana=12463,e.kukatakanahalfwidth=65400,e.kvsquare=13240,e.kwsquare=13246,e.l=108,e.labengali=2482,e.lacute=314,e.ladeva=2354,e.lagujarati=2738,e.lagurmukhi=2610,e.lakkhangyaothai=3653,e.lamaleffinalarabic=65276,e.lamalefhamzaabovefinalarabic=65272,e.lamalefhamzaaboveisolatedarabic=65271,e.lamalefhamzabelowfinalarabic=65274,e.lamalefhamzabelowisolatedarabic=65273,e.lamalefisolatedarabic=65275,e.lamalefmaddaabovefinalarabic=65270,e.lamalefmaddaaboveisolatedarabic=65269,e.lamarabic=1604,e.lambda=955,e.lambdastroke=411,e.lamed=1500,e.lameddagesh=64316,e.lameddageshhebrew=64316,e.lamedhebrew=1500,e.lamfinalarabic=65246,e.lamhahinitialarabic=64714,e.laminitialarabic=65247,e.lamjeeminitialarabic=64713,e.lamkhahinitialarabic=64715,e.lamlamhehisolatedarabic=65010,e.lammedialarabic=65248,e.lammeemhahinitialarabic=64904,e.lammeeminitialarabic=64716,e.largecircle=9711,e.lbar=410,e.lbelt=620,e.lbopomofo=12556,e.lcaron=318,e.lcedilla=316,e.lcircle=9435,e.lcircumflexbelow=7741,e.lcommaaccent=316,e.ldot=320,e.ldotaccent=320,e.ldotbelow=7735,e.ldotbelowmacron=7737,e.leftangleabovecmb=794,e.lefttackbelowcmb=792,e.less=60,e.lessequal=8804,e.lessequalorgreater=8922,e.lessmonospace=65308,e.lessorequivalent=8818,e.lessorgreater=8822,e.lessoverequal=8806,e.lesssmall=65124,e.lezh=622,e.lfblock=9612,e.lhookretroflex=621,e.lira=8356,e.liwnarmenian=1388,e.lj=457,e.ljecyrillic=1113,e.ll=63168,e.lladeva=2355,e.llagujarati=2739,e.llinebelow=7739,e.llladeva=2356,e.llvocalicbengali=2529,e.llvocalicdeva=2401,e.llvocalicvowelsignbengali=2531,e.llvocalicvowelsigndeva=2403,e.lmiddletilde=619,e.lmonospace=65356,e.lmsquare=13264,e.lochulathai=3628,e.logicaland=8743,e.logicalnot=172,e.logicalnotreversed=8976,e.logicalor=8744,e.lolingthai=3621,e.longs=383,e.lowlinecenterline=65102,e.lowlinecmb=818,e.lowlinedashed=65101,e.lozenge=9674,e.lparen=9383,e.lslash=322,e.lsquare=8467,e.lsuperior=63214,e.ltshade=9617,e.luthai=3622,e.lvocalicbengali=2444,e.lvocalicdeva=2316,e.lvocalicvowelsignbengali=2530,e.lvocalicvowelsigndeva=2402,e.lxsquare=13267,e.m=109,e.mabengali=2478,e.macron=175,e.macronbelowcmb=817,e.macroncmb=772,e.macronlowmod=717,e.macronmonospace=65507,e.macute=7743,e.madeva=2350,e.magujarati=2734,e.magurmukhi=2606,e.mahapakhhebrew=1444,e.mahapakhlefthebrew=1444,e.mahiragana=12414,e.maichattawalowleftthai=63637,e.maichattawalowrightthai=63636,e.maichattawathai=3659,e.maichattawaupperleftthai=63635,e.maieklowleftthai=63628,e.maieklowrightthai=63627,e.maiekthai=3656,e.maiekupperleftthai=63626,e.maihanakatleftthai=63620,e.maihanakatthai=3633,e.maitaikhuleftthai=63625,e.maitaikhuthai=3655,e.maitholowleftthai=63631,e.maitholowrightthai=63630,e.maithothai=3657,e.maithoupperleftthai=63629,e.maitrilowleftthai=63634,e.maitrilowrightthai=63633,e.maitrithai=3658,e.maitriupperleftthai=63632,e.maiyamokthai=3654,e.makatakana=12510,e.makatakanahalfwidth=65423,e.male=9794,e.mansyonsquare=13127,e.maqafhebrew=1470,e.mars=9794,e.masoracirclehebrew=1455,e.masquare=13187,e.mbopomofo=12551,e.mbsquare=13268,e.mcircle=9436,e.mcubedsquare=13221,e.mdotaccent=7745,e.mdotbelow=7747,e.meemarabic=1605,e.meemfinalarabic=65250,e.meeminitialarabic=65251,e.meemmedialarabic=65252,e.meemmeeminitialarabic=64721,e.meemmeemisolatedarabic=64584,e.meetorusquare=13133,e.mehiragana=12417,e.meizierasquare=13182,e.mekatakana=12513,e.mekatakanahalfwidth=65426,e.mem=1502,e.memdagesh=64318,e.memdageshhebrew=64318,e.memhebrew=1502,e.menarmenian=1396,e.merkhahebrew=1445,e.merkhakefulahebrew=1446,e.merkhakefulalefthebrew=1446,e.merkhalefthebrew=1445,e.mhook=625,e.mhzsquare=13202,e.middledotkatakanahalfwidth=65381,e.middot=183,e.mieumacirclekorean=12914,e.mieumaparenkorean=12818,e.mieumcirclekorean=12900,e.mieumkorean=12609,e.mieumpansioskorean=12656,e.mieumparenkorean=12804,e.mieumpieupkorean=12654,e.mieumsioskorean=12655,e.mihiragana=12415,e.mikatakana=12511,e.mikatakanahalfwidth=65424,e.minus=8722,e.minusbelowcmb=800,e.minuscircle=8854,e.minusmod=727,e.minusplus=8723,e.minute=8242,e.miribaarusquare=13130,e.mirisquare=13129,e.mlonglegturned=624,e.mlsquare=13206,e.mmcubedsquare=13219,e.mmonospace=65357,e.mmsquaredsquare=13215,e.mohiragana=12418,e.mohmsquare=13249,e.mokatakana=12514,e.mokatakanahalfwidth=65427,e.molsquare=13270,e.momathai=3617,e.moverssquare=13223,e.moverssquaredsquare=13224,e.mparen=9384,e.mpasquare=13227,e.mssquare=13235,e.msuperior=63215,e.mturned=623,e.mu=181,e.mu1=181,e.muasquare=13186,e.muchgreater=8811,e.muchless=8810,e.mufsquare=13196,e.mugreek=956,e.mugsquare=13197,e.muhiragana=12416,e.mukatakana=12512,e.mukatakanahalfwidth=65425,e.mulsquare=13205,e.multiply=215,e.mumsquare=13211,e.munahhebrew=1443,e.munahlefthebrew=1443,e.musicalnote=9834,e.musicalnotedbl=9835,e.musicflatsign=9837,e.musicsharpsign=9839,e.mussquare=13234,e.muvsquare=13238,e.muwsquare=13244,e.mvmegasquare=13241,e.mvsquare=13239,e.mwmegasquare=13247,e.mwsquare=13245,e.n=110,e.nabengali=2472,e.nabla=8711,e.nacute=324,e.nadeva=2344,e.nagujarati=2728,e.nagurmukhi=2600,e.nahiragana=12394,e.nakatakana=12490,e.nakatakanahalfwidth=65413,e.napostrophe=329,e.nasquare=13185,e.nbopomofo=12555,e.nbspace=160,e.ncaron=328,e.ncedilla=326,e.ncircle=9437,e.ncircumflexbelow=7755,e.ncommaaccent=326,e.ndotaccent=7749,e.ndotbelow=7751,e.nehiragana=12397,e.nekatakana=12493,e.nekatakanahalfwidth=65416,e.newsheqelsign=8362,e.nfsquare=13195,e.ngabengali=2457,e.ngadeva=2329,e.ngagujarati=2713,e.ngagurmukhi=2585,e.ngonguthai=3591,e.nhiragana=12435,e.nhookleft=626,e.nhookretroflex=627,e.nieunacirclekorean=12911,e.nieunaparenkorean=12815,e.nieuncieuckorean=12597,e.nieuncirclekorean=12897,e.nieunhieuhkorean=12598,e.nieunkorean=12596,e.nieunpansioskorean=12648,e.nieunparenkorean=12801,e.nieunsioskorean=12647,e.nieuntikeutkorean=12646,e.nihiragana=12395,e.nikatakana=12491,e.nikatakanahalfwidth=65414,e.nikhahitleftthai=63641,e.nikhahitthai=3661,e.nine=57,e.ninearabic=1641,e.ninebengali=2543,e.ninecircle=9320,e.ninecircleinversesansserif=10130,e.ninedeva=2415,e.ninegujarati=2799,e.ninegurmukhi=2671,e.ninehackarabic=1641,e.ninehangzhou=12329,e.nineideographicparen=12840,e.nineinferior=8329,e.ninemonospace=65305,e.nineoldstyle=63289,e.nineparen=9340,e.nineperiod=9360,e.ninepersian=1785,e.nineroman=8568,e.ninesuperior=8313,e.nineteencircle=9330,e.nineteenparen=9350,e.nineteenperiod=9370,e.ninethai=3673,e.nj=460,e.njecyrillic=1114,e.nkatakana=12531,e.nkatakanahalfwidth=65437,e.nlegrightlong=414,e.nlinebelow=7753,e.nmonospace=65358,e.nmsquare=13210,e.nnabengali=2467,e.nnadeva=2339,e.nnagujarati=2723,e.nnagurmukhi=2595,e.nnnadeva=2345,e.nohiragana=12398,e.nokatakana=12494,e.nokatakanahalfwidth=65417,e.nonbreakingspace=160,e.nonenthai=3603,e.nonuthai=3609,e.noonarabic=1606,e.noonfinalarabic=65254,e.noonghunnaarabic=1722,e.noonghunnafinalarabic=64415,e.nooninitialarabic=65255,e.noonjeeminitialarabic=64722,e.noonjeemisolatedarabic=64587,e.noonmedialarabic=65256,e.noonmeeminitialarabic=64725,e.noonmeemisolatedarabic=64590,e.noonnoonfinalarabic=64653,e.notcontains=8716,e.notelement=8713,e.notelementof=8713,e.notequal=8800,e.notgreater=8815,e.notgreaternorequal=8817,e.notgreaternorless=8825,e.notidentical=8802,e.notless=8814,e.notlessnorequal=8816,e.notparallel=8742,e.notprecedes=8832,e.notsubset=8836,e.notsucceeds=8833,e.notsuperset=8837,e.nowarmenian=1398,e.nparen=9385,e.nssquare=13233,e.nsuperior=8319,e.ntilde=241,e.nu=957,e.nuhiragana=12396,e.nukatakana=12492,e.nukatakanahalfwidth=65415,e.nuktabengali=2492,e.nuktadeva=2364,e.nuktagujarati=2748,e.nuktagurmukhi=2620,e.numbersign=35,e.numbersignmonospace=65283,e.numbersignsmall=65119,e.numeralsigngreek=884,e.numeralsignlowergreek=885,e.numero=8470,e.nun=1504,e.nundagesh=64320,e.nundageshhebrew=64320,e.nunhebrew=1504,e.nvsquare=13237,e.nwsquare=13243,e.nyabengali=2462,e.nyadeva=2334,e.nyagujarati=2718,e.nyagurmukhi=2590,e.o=111,e.oacute=243,e.oangthai=3629,e.obarred=629,e.obarredcyrillic=1257,e.obarreddieresiscyrillic=1259,e.obengali=2451,e.obopomofo=12571,e.obreve=335,e.ocandradeva=2321,e.ocandragujarati=2705,e.ocandravowelsigndeva=2377,e.ocandravowelsigngujarati=2761,e.ocaron=466,e.ocircle=9438,e.ocircumflex=244,e.ocircumflexacute=7889,e.ocircumflexdotbelow=7897,e.ocircumflexgrave=7891,e.ocircumflexhookabove=7893,e.ocircumflextilde=7895,e.ocyrillic=1086,e.odblacute=337,e.odblgrave=525,e.odeva=2323,e.odieresis=246,e.odieresiscyrillic=1255,e.odotbelow=7885,e.oe=339,e.oekorean=12634,e.ogonek=731,e.ogonekcmb=808,e.ograve=242,e.ogujarati=2707,e.oharmenian=1413,e.ohiragana=12362,e.ohookabove=7887,e.ohorn=417,e.ohornacute=7899,e.ohorndotbelow=7907,e.ohorngrave=7901,e.ohornhookabove=7903,e.ohorntilde=7905,e.ohungarumlaut=337,e.oi=419,e.oinvertedbreve=527,e.okatakana=12458,e.okatakanahalfwidth=65397,e.okorean=12631,e.olehebrew=1451,e.omacron=333,e.omacronacute=7763,e.omacrongrave=7761,e.omdeva=2384,e.omega=969,e.omega1=982,e.omegacyrillic=1121,e.omegalatinclosed=631,e.omegaroundcyrillic=1147,e.omegatitlocyrillic=1149,e.omegatonos=974,e.omgujarati=2768,e.omicron=959,e.omicrontonos=972,e.omonospace=65359,e.one=49,e.onearabic=1633,e.onebengali=2535,e.onecircle=9312,e.onecircleinversesansserif=10122,e.onedeva=2407,e.onedotenleader=8228,e.oneeighth=8539,e.onefitted=63196,e.onegujarati=2791,e.onegurmukhi=2663,e.onehackarabic=1633,e.onehalf=189,e.onehangzhou=12321,e.oneideographicparen=12832,e.oneinferior=8321,e.onemonospace=65297,e.onenumeratorbengali=2548,e.oneoldstyle=63281,e.oneparen=9332,e.oneperiod=9352,e.onepersian=1777,e.onequarter=188,e.oneroman=8560,e.onesuperior=185,e.onethai=3665,e.onethird=8531,e.oogonek=491,e.oogonekmacron=493,e.oogurmukhi=2579,e.oomatragurmukhi=2635,e.oopen=596,e.oparen=9386,e.openbullet=9702,e.option=8997,e.ordfeminine=170,e.ordmasculine=186,e.orthogonal=8735,e.oshortdeva=2322,e.oshortvowelsigndeva=2378,e.oslash=248,e.oslashacute=511,e.osmallhiragana=12361,e.osmallkatakana=12457,e.osmallkatakanahalfwidth=65387,e.ostrokeacute=511,e.osuperior=63216,e.otcyrillic=1151,e.otilde=245,e.otildeacute=7757,e.otildedieresis=7759,e.oubopomofo=12577,e.overline=8254,e.overlinecenterline=65098,e.overlinecmb=773,e.overlinedashed=65097,e.overlinedblwavy=65100,e.overlinewavy=65099,e.overscore=175,e.ovowelsignbengali=2507,e.ovowelsigndeva=2379,e.ovowelsigngujarati=2763,e.p=112,e.paampssquare=13184,e.paasentosquare=13099,e.pabengali=2474,e.pacute=7765,e.padeva=2346,e.pagedown=8671,e.pageup=8670,e.pagujarati=2730,e.pagurmukhi=2602,e.pahiragana=12401,e.paiyannoithai=3631,e.pakatakana=12497,e.palatalizationcyrilliccmb=1156,e.palochkacyrillic=1216,e.pansioskorean=12671,e.paragraph=182,e.parallel=8741,e.parenleft=40,e.parenleftaltonearabic=64830,e.parenleftbt=63725,e.parenleftex=63724,e.parenleftinferior=8333,e.parenleftmonospace=65288,e.parenleftsmall=65113,e.parenleftsuperior=8317,e.parenlefttp=63723,e.parenleftvertical=65077,e.parenright=41,e.parenrightaltonearabic=64831,e.parenrightbt=63736,e.parenrightex=63735,e.parenrightinferior=8334,e.parenrightmonospace=65289,e.parenrightsmall=65114,e.parenrightsuperior=8318,e.parenrighttp=63734,e.parenrightvertical=65078,e.partialdiff=8706,e.paseqhebrew=1472,e.pashtahebrew=1433,e.pasquare=13225,e.patah=1463,e.patah11=1463,e.patah1d=1463,e.patah2a=1463,e.patahhebrew=1463,e.patahnarrowhebrew=1463,e.patahquarterhebrew=1463,e.patahwidehebrew=1463,e.pazerhebrew=1441,e.pbopomofo=12550,e.pcircle=9439,e.pdotaccent=7767,e.pe=1508,e.pecyrillic=1087,e.pedagesh=64324,e.pedageshhebrew=64324,e.peezisquare=13115,e.pefinaldageshhebrew=64323,e.peharabic=1662,e.peharmenian=1402,e.pehebrew=1508,e.pehfinalarabic=64343,e.pehinitialarabic=64344,e.pehiragana=12410,e.pehmedialarabic=64345,e.pekatakana=12506,e.pemiddlehookcyrillic=1191,e.perafehebrew=64334,e.percent=37,e.percentarabic=1642,e.percentmonospace=65285,e.percentsmall=65130,e.period=46,e.periodarmenian=1417,e.periodcentered=183,e.periodhalfwidth=65377,e.periodinferior=63207,e.periodmonospace=65294,e.periodsmall=65106,e.periodsuperior=63208,e.perispomenigreekcmb=834,e.perpendicular=8869,e.perthousand=8240,e.peseta=8359,e.pfsquare=13194,e.phabengali=2475,e.phadeva=2347,e.phagujarati=2731,e.phagurmukhi=2603,e.phi=966,e.phi1=981,e.phieuphacirclekorean=12922,e.phieuphaparenkorean=12826,e.phieuphcirclekorean=12908,e.phieuphkorean=12621,e.phieuphparenkorean=12812,e.philatin=632,e.phinthuthai=3642,e.phisymbolgreek=981,e.phook=421,e.phophanthai=3614,e.phophungthai=3612,e.phosamphaothai=3616,e.pi=960,e.pieupacirclekorean=12915,e.pieupaparenkorean=12819,e.pieupcieuckorean=12662,e.pieupcirclekorean=12901,e.pieupkiyeokkorean=12658,e.pieupkorean=12610,e.pieupparenkorean=12805,e.pieupsioskiyeokkorean=12660,e.pieupsioskorean=12612,e.pieupsiostikeutkorean=12661,e.pieupthieuthkorean=12663,e.pieuptikeutkorean=12659,e.pihiragana=12404,e.pikatakana=12500,e.pisymbolgreek=982,e.piwrarmenian=1411,e.plus=43,e.plusbelowcmb=799,e.pluscircle=8853,e.plusminus=177,e.plusmod=726,e.plusmonospace=65291,e.plussmall=65122,e.plussuperior=8314,e.pmonospace=65360,e.pmsquare=13272,e.pohiragana=12413,e.pointingindexdownwhite=9759,e.pointingindexleftwhite=9756,e.pointingindexrightwhite=9758,e.pointingindexupwhite=9757,e.pokatakana=12509,e.poplathai=3611,e.postalmark=12306,e.postalmarkface=12320,e.pparen=9387,e.precedes=8826,e.prescription=8478,e.primemod=697,e.primereversed=8245,e.product=8719,e.projective=8965,e.prolongedkana=12540,e.propellor=8984,e.propersubset=8834,e.propersuperset=8835,e.proportion=8759,e.proportional=8733,e.psi=968,e.psicyrillic=1137,e.psilipneumatacyrilliccmb=1158,e.pssquare=13232,e.puhiragana=12407,e.pukatakana=12503,e.pvsquare=13236,e.pwsquare=13242,e.q=113,e.qadeva=2392,e.qadmahebrew=1448,e.qafarabic=1602,e.qaffinalarabic=65238,e.qafinitialarabic=65239,e.qafmedialarabic=65240,e.qamats=1464,e.qamats10=1464,e.qamats1a=1464,e.qamats1c=1464,e.qamats27=1464,e.qamats29=1464,e.qamats33=1464,e.qamatsde=1464,e.qamatshebrew=1464,e.qamatsnarrowhebrew=1464,e.qamatsqatanhebrew=1464,e.qamatsqatannarrowhebrew=1464,e.qamatsqatanquarterhebrew=1464,e.qamatsqatanwidehebrew=1464,e.qamatsquarterhebrew=1464,e.qamatswidehebrew=1464,e.qarneyparahebrew=1439,e.qbopomofo=12561,e.qcircle=9440,e.qhook=672,e.qmonospace=65361,e.qof=1511,e.qofdagesh=64327,e.qofdageshhebrew=64327,e.qofhebrew=1511,e.qparen=9388,e.quarternote=9833,e.qubuts=1467,e.qubuts18=1467,e.qubuts25=1467,e.qubuts31=1467,e.qubutshebrew=1467,e.qubutsnarrowhebrew=1467,e.qubutsquarterhebrew=1467,e.qubutswidehebrew=1467,e.question=63,e.questionarabic=1567,e.questionarmenian=1374,e.questiondown=191,e.questiondownsmall=63423,e.questiongreek=894,e.questionmonospace=65311,e.questionsmall=63295,e.quotedbl=34,e.quotedblbase=8222,e.quotedblleft=8220,e.quotedblmonospace=65282,e.quotedblprime=12318,e.quotedblprimereversed=12317,e.quotedblright=8221,e.quoteleft=8216,e.quoteleftreversed=8219,e.quotereversed=8219,e.quoteright=8217,e.quoterightn=329,e.quotesinglbase=8218,e.quotesingle=39,e.quotesinglemonospace=65287,e.r=114,e.raarmenian=1404,e.rabengali=2480,e.racute=341,e.radeva=2352,e.radical=8730,e.radicalex=63717,e.radoverssquare=13230,e.radoverssquaredsquare=13231,e.radsquare=13229,e.rafe=1471,e.rafehebrew=1471,e.ragujarati=2736,e.ragurmukhi=2608,e.rahiragana=12425,e.rakatakana=12521,e.rakatakanahalfwidth=65431,e.ralowerdiagonalbengali=2545,e.ramiddlediagonalbengali=2544,e.ramshorn=612,e.ratio=8758,e.rbopomofo=12566,e.rcaron=345,e.rcedilla=343,e.rcircle=9441,e.rcommaaccent=343,e.rdblgrave=529,e.rdotaccent=7769,e.rdotbelow=7771,e.rdotbelowmacron=7773,e.referencemark=8251,e.reflexsubset=8838,e.reflexsuperset=8839,e.registered=174,e.registersans=63720,e.registerserif=63194,e.reharabic=1585,e.reharmenian=1408,e.rehfinalarabic=65198,e.rehiragana=12428,e.rekatakana=12524,e.rekatakanahalfwidth=65434,e.resh=1512,e.reshdageshhebrew=64328,e.reshhebrew=1512,e.reversedtilde=8765,e.reviahebrew=1431,e.reviamugrashhebrew=1431;e.revlogicalnot=8976,e.rfishhook=638,e.rfishhookreversed=639,e.rhabengali=2525,e.rhadeva=2397,e.rho=961,e.rhook=637,e.rhookturned=635,e.rhookturnedsuperior=693,e.rhosymbolgreek=1009,e.rhotichookmod=734,e.rieulacirclekorean=12913,e.rieulaparenkorean=12817,e.rieulcirclekorean=12899,e.rieulhieuhkorean=12608,e.rieulkiyeokkorean=12602,e.rieulkiyeoksioskorean=12649,e.rieulkorean=12601,e.rieulmieumkorean=12603,e.rieulpansioskorean=12652,e.rieulparenkorean=12803,e.rieulphieuphkorean=12607,e.rieulpieupkorean=12604,e.rieulpieupsioskorean=12651,e.rieulsioskorean=12605,e.rieulthieuthkorean=12606,e.rieultikeutkorean=12650,e.rieulyeorinhieuhkorean=12653,e.rightangle=8735,e.righttackbelowcmb=793,e.righttriangle=8895,e.rihiragana=12426,e.rikatakana=12522,e.rikatakanahalfwidth=65432,e.ring=730,e.ringbelowcmb=805,e.ringcmb=778,e.ringhalfleft=703,e.ringhalfleftarmenian=1369,e.ringhalfleftbelowcmb=796,e.ringhalfleftcentered=723,e.ringhalfright=702,e.ringhalfrightbelowcmb=825,e.ringhalfrightcentered=722,e.rinvertedbreve=531,e.rittorusquare=13137,e.rlinebelow=7775,e.rlongleg=636,e.rlonglegturned=634,e.rmonospace=65362,e.rohiragana=12429,e.rokatakana=12525,e.rokatakanahalfwidth=65435,e.roruathai=3619,e.rparen=9389,e.rrabengali=2524,e.rradeva=2353,e.rragurmukhi=2652,e.rreharabic=1681,e.rrehfinalarabic=64397,e.rrvocalicbengali=2528,e.rrvocalicdeva=2400,e.rrvocalicgujarati=2784,e.rrvocalicvowelsignbengali=2500,e.rrvocalicvowelsigndeva=2372,e.rrvocalicvowelsigngujarati=2756,e.rsuperior=63217,e.rtblock=9616,e.rturned=633,e.rturnedsuperior=692,e.ruhiragana=12427,e.rukatakana=12523,e.rukatakanahalfwidth=65433,e.rupeemarkbengali=2546,e.rupeesignbengali=2547,e.rupiah=63197,e.ruthai=3620,e.rvocalicbengali=2443,e.rvocalicdeva=2315,e.rvocalicgujarati=2699,e.rvocalicvowelsignbengali=2499,e.rvocalicvowelsigndeva=2371,e.rvocalicvowelsigngujarati=2755,e.s=115,e.sabengali=2488,e.sacute=347,e.sacutedotaccent=7781,e.sadarabic=1589,e.sadeva=2360,e.sadfinalarabic=65210,e.sadinitialarabic=65211,e.sadmedialarabic=65212,e.sagujarati=2744,e.sagurmukhi=2616,e.sahiragana=12373,e.sakatakana=12469,e.sakatakanahalfwidth=65403,e.sallallahoualayhewasallamarabic=65018,e.samekh=1505,e.samekhdagesh=64321,e.samekhdageshhebrew=64321,e.samekhhebrew=1505,e.saraaathai=3634,e.saraaethai=3649,e.saraaimaimalaithai=3652,e.saraaimaimuanthai=3651,e.saraamthai=3635,e.saraathai=3632,e.saraethai=3648,e.saraiileftthai=63622,e.saraiithai=3637,e.saraileftthai=63621,e.saraithai=3636,e.saraothai=3650,e.saraueeleftthai=63624,e.saraueethai=3639,e.saraueleftthai=63623,e.sarauethai=3638,e.sarauthai=3640,e.sarauuthai=3641,e.sbopomofo=12569,e.scaron=353,e.scarondotaccent=7783,e.scedilla=351,e.schwa=601,e.schwacyrillic=1241,e.schwadieresiscyrillic=1243,e.schwahook=602,e.scircle=9442,e.scircumflex=349,e.scommaaccent=537,e.sdotaccent=7777,e.sdotbelow=7779,e.sdotbelowdotaccent=7785,e.seagullbelowcmb=828,e.second=8243,e.secondtonechinese=714,e.section=167,e.seenarabic=1587,e.seenfinalarabic=65202,e.seeninitialarabic=65203,e.seenmedialarabic=65204,e.segol=1462,e.segol13=1462,e.segol1f=1462,e.segol2c=1462,e.segolhebrew=1462,e.segolnarrowhebrew=1462,e.segolquarterhebrew=1462,e.segoltahebrew=1426,e.segolwidehebrew=1462,e.seharmenian=1405,e.sehiragana=12379,e.sekatakana=12475,e.sekatakanahalfwidth=65406,e.semicolon=59,e.semicolonarabic=1563,e.semicolonmonospace=65307,e.semicolonsmall=65108,e.semivoicedmarkkana=12444,e.semivoicedmarkkanahalfwidth=65439,e.sentisquare=13090,e.sentosquare=13091,e.seven=55,e.sevenarabic=1639,e.sevenbengali=2541,e.sevencircle=9318,e.sevencircleinversesansserif=10128,e.sevendeva=2413,e.seveneighths=8542,e.sevengujarati=2797,e.sevengurmukhi=2669,e.sevenhackarabic=1639,e.sevenhangzhou=12327,e.sevenideographicparen=12838,e.seveninferior=8327,e.sevenmonospace=65303,e.sevenoldstyle=63287,e.sevenparen=9338,e.sevenperiod=9358,e.sevenpersian=1783,e.sevenroman=8566,e.sevensuperior=8311,e.seventeencircle=9328,e.seventeenparen=9348,e.seventeenperiod=9368,e.seventhai=3671,e.sfthyphen=173,e.shaarmenian=1399,e.shabengali=2486,e.shacyrillic=1096,e.shaddaarabic=1617,e.shaddadammaarabic=64609,e.shaddadammatanarabic=64606,e.shaddafathaarabic=64608,e.shaddakasraarabic=64610,e.shaddakasratanarabic=64607,e.shade=9618,e.shadedark=9619,e.shadelight=9617,e.shademedium=9618,e.shadeva=2358,e.shagujarati=2742,e.shagurmukhi=2614,e.shalshelethebrew=1427,e.shbopomofo=12565,e.shchacyrillic=1097,e.sheenarabic=1588,e.sheenfinalarabic=65206,e.sheeninitialarabic=65207,e.sheenmedialarabic=65208,e.sheicoptic=995,e.sheqel=8362,e.sheqelhebrew=8362,e.sheva=1456,e.sheva115=1456,e.sheva15=1456,e.sheva22=1456,e.sheva2e=1456,e.shevahebrew=1456,e.shevanarrowhebrew=1456,e.shevaquarterhebrew=1456,e.shevawidehebrew=1456,e.shhacyrillic=1211,e.shimacoptic=1005,e.shin=1513,e.shindagesh=64329,e.shindageshhebrew=64329,e.shindageshshindot=64300,e.shindageshshindothebrew=64300,e.shindageshsindot=64301,e.shindageshsindothebrew=64301,e.shindothebrew=1473,e.shinhebrew=1513,e.shinshindot=64298,e.shinshindothebrew=64298,e.shinsindot=64299,e.shinsindothebrew=64299,e.shook=642,e.sigma=963,e.sigma1=962,e.sigmafinal=962,e.sigmalunatesymbolgreek=1010,e.sihiragana=12375,e.sikatakana=12471,e.sikatakanahalfwidth=65404,e.siluqhebrew=1469,e.siluqlefthebrew=1469,e.similar=8764,e.sindothebrew=1474,e.siosacirclekorean=12916,e.siosaparenkorean=12820,e.sioscieuckorean=12670,e.sioscirclekorean=12902,e.sioskiyeokkorean=12666,e.sioskorean=12613,e.siosnieunkorean=12667,e.siosparenkorean=12806,e.siospieupkorean=12669,e.siostikeutkorean=12668,e.six=54,e.sixarabic=1638,e.sixbengali=2540,e.sixcircle=9317,e.sixcircleinversesansserif=10127,e.sixdeva=2412,e.sixgujarati=2796,e.sixgurmukhi=2668,e.sixhackarabic=1638,e.sixhangzhou=12326,e.sixideographicparen=12837,e.sixinferior=8326,e.sixmonospace=65302,e.sixoldstyle=63286,e.sixparen=9337,e.sixperiod=9357,e.sixpersian=1782,e.sixroman=8565,e.sixsuperior=8310,e.sixteencircle=9327,e.sixteencurrencydenominatorbengali=2553,e.sixteenparen=9347,e.sixteenperiod=9367,e.sixthai=3670,e.slash=47,e.slashmonospace=65295,e.slong=383,e.slongdotaccent=7835,e.smileface=9786,e.smonospace=65363,e.sofpasuqhebrew=1475,e.softhyphen=173,e.softsigncyrillic=1100,e.sohiragana=12381,e.sokatakana=12477,e.sokatakanahalfwidth=65407,e.soliduslongoverlaycmb=824,e.solidusshortoverlaycmb=823,e.sorusithai=3625,e.sosalathai=3624,e.sosothai=3595,e.sosuathai=3626,e.space=32,e.spacehackarabic=32,e.spade=9824,e.spadesuitblack=9824,e.spadesuitwhite=9828,e.sparen=9390,e.squarebelowcmb=827,e.squarecc=13252,e.squarecm=13213,e.squarediagonalcrosshatchfill=9641,e.squarehorizontalfill=9636,e.squarekg=13199,e.squarekm=13214,e.squarekmcapital=13262,e.squareln=13265,e.squarelog=13266,e.squaremg=13198,e.squaremil=13269,e.squaremm=13212,e.squaremsquared=13217,e.squareorthogonalcrosshatchfill=9638,e.squareupperlefttolowerrightfill=9639,e.squareupperrighttolowerleftfill=9640,e.squareverticalfill=9637,e.squarewhitewithsmallblack=9635,e.srsquare=13275,e.ssabengali=2487,e.ssadeva=2359,e.ssagujarati=2743,e.ssangcieuckorean=12617,e.ssanghieuhkorean=12677,e.ssangieungkorean=12672,e.ssangkiyeokkorean=12594,e.ssangnieunkorean=12645,e.ssangpieupkorean=12611,e.ssangsioskorean=12614,e.ssangtikeutkorean=12600,e.ssuperior=63218,e.sterling=163,e.sterlingmonospace=65505,e.strokelongoverlaycmb=822,e.strokeshortoverlaycmb=821,e.subset=8834,e.subsetnotequal=8842,e.subsetorequal=8838,e.succeeds=8827,e.suchthat=8715,e.suhiragana=12377,e.sukatakana=12473,e.sukatakanahalfwidth=65405,e.sukunarabic=1618,e.summation=8721,e.sun=9788,e.superset=8835,e.supersetnotequal=8843,e.supersetorequal=8839,e.svsquare=13276,e.syouwaerasquare=13180,e.t=116,e.tabengali=2468,e.tackdown=8868,e.tackleft=8867,e.tadeva=2340,e.tagujarati=2724,e.tagurmukhi=2596,e.taharabic=1591,e.tahfinalarabic=65218,e.tahinitialarabic=65219,e.tahiragana=12383,e.tahmedialarabic=65220,e.taisyouerasquare=13181,e.takatakana=12479,e.takatakanahalfwidth=65408,e.tatweelarabic=1600,e.tau=964,e.tav=1514,e.tavdages=64330,e.tavdagesh=64330,e.tavdageshhebrew=64330,e.tavhebrew=1514,e.tbar=359,e.tbopomofo=12554,e.tcaron=357,e.tccurl=680,e.tcedilla=355,e.tcheharabic=1670,e.tchehfinalarabic=64379,e.tchehinitialarabic=64380,e.tchehmedialarabic=64381,e.tcircle=9443,e.tcircumflexbelow=7793,e.tcommaaccent=355,e.tdieresis=7831,e.tdotaccent=7787,e.tdotbelow=7789,e.tecyrillic=1090,e.tedescendercyrillic=1197,e.teharabic=1578,e.tehfinalarabic=65174,e.tehhahinitialarabic=64674,e.tehhahisolatedarabic=64524,e.tehinitialarabic=65175,e.tehiragana=12390,e.tehjeeminitialarabic=64673,e.tehjeemisolatedarabic=64523,e.tehmarbutaarabic=1577,e.tehmarbutafinalarabic=65172,e.tehmedialarabic=65176,e.tehmeeminitialarabic=64676,e.tehmeemisolatedarabic=64526,e.tehnoonfinalarabic=64627,e.tekatakana=12486,e.tekatakanahalfwidth=65411,e.telephone=8481,e.telephoneblack=9742,e.telishagedolahebrew=1440,e.telishaqetanahebrew=1449,e.tencircle=9321,e.tenideographicparen=12841,e.tenparen=9341,e.tenperiod=9361,e.tenroman=8569,e.tesh=679,e.tet=1496,e.tetdagesh=64312,e.tetdageshhebrew=64312,e.tethebrew=1496,e.tetsecyrillic=1205,e.tevirhebrew=1435,e.tevirlefthebrew=1435,e.thabengali=2469,e.thadeva=2341,e.thagujarati=2725,e.thagurmukhi=2597,e.thalarabic=1584,e.thalfinalarabic=65196,e.thanthakhatlowleftthai=63640,e.thanthakhatlowrightthai=63639,e.thanthakhatthai=3660,e.thanthakhatupperleftthai=63638,e.theharabic=1579,e.thehfinalarabic=65178,e.thehinitialarabic=65179,e.thehmedialarabic=65180,e.thereexists=8707,e.therefore=8756,e.theta=952,e.theta1=977,e.thetasymbolgreek=977,e.thieuthacirclekorean=12921,e.thieuthaparenkorean=12825,e.thieuthcirclekorean=12907,e.thieuthkorean=12620,e.thieuthparenkorean=12811,e.thirteencircle=9324,e.thirteenparen=9344,e.thirteenperiod=9364,e.thonangmonthothai=3601,e.thook=429,e.thophuthaothai=3602,e.thorn=254,e.thothahanthai=3607,e.thothanthai=3600,e.thothongthai=3608,e.thothungthai=3606,e.thousandcyrillic=1154,e.thousandsseparatorarabic=1644,e.thousandsseparatorpersian=1644,e.three=51,e.threearabic=1635,e.threebengali=2537,e.threecircle=9314,e.threecircleinversesansserif=10124,e.threedeva=2409,e.threeeighths=8540,e.threegujarati=2793,e.threegurmukhi=2665,e.threehackarabic=1635,e.threehangzhou=12323,e.threeideographicparen=12834,e.threeinferior=8323,e.threemonospace=65299,e.threenumeratorbengali=2550,e.threeoldstyle=63283,e.threeparen=9334,e.threeperiod=9354,e.threepersian=1779,e.threequarters=190,e.threequartersemdash=63198,e.threeroman=8562,e.threesuperior=179,e.threethai=3667,e.thzsquare=13204,e.tihiragana=12385,e.tikatakana=12481,e.tikatakanahalfwidth=65409,e.tikeutacirclekorean=12912,e.tikeutaparenkorean=12816,e.tikeutcirclekorean=12898,e.tikeutkorean=12599,e.tikeutparenkorean=12802,e.tilde=732,e.tildebelowcmb=816,e.tildecmb=771,e.tildecomb=771,e.tildedoublecmb=864,e.tildeoperator=8764,e.tildeoverlaycmb=820,e.tildeverticalcmb=830,e.timescircle=8855,e.tipehahebrew=1430,e.tipehalefthebrew=1430,e.tippigurmukhi=2672,e.titlocyrilliccmb=1155,e.tiwnarmenian=1407,e.tlinebelow=7791,e.tmonospace=65364,e.toarmenian=1385,e.tohiragana=12392,e.tokatakana=12488,e.tokatakanahalfwidth=65412,e.tonebarextrahighmod=741,e.tonebarextralowmod=745,e.tonebarhighmod=742,e.tonebarlowmod=744,e.tonebarmidmod=743,e.tonefive=445,e.tonesix=389,e.tonetwo=424,e.tonos=900,e.tonsquare=13095,e.topatakthai=3599,e.tortoiseshellbracketleft=12308,e.tortoiseshellbracketleftsmall=65117,e.tortoiseshellbracketleftvertical=65081,e.tortoiseshellbracketright=12309,e.tortoiseshellbracketrightsmall=65118,e.tortoiseshellbracketrightvertical=65082,e.totaothai=3605,e.tpalatalhook=427,e.tparen=9391,e.trademark=8482,e.trademarksans=63722,e.trademarkserif=63195,e.tretroflexhook=648,e.triagdn=9660,e.triaglf=9668,e.triagrt=9658,e.triagup=9650,e.ts=678,e.tsadi=1510,e.tsadidagesh=64326,e.tsadidageshhebrew=64326,e.tsadihebrew=1510,e.tsecyrillic=1094,e.tsere=1461,e.tsere12=1461,e.tsere1e=1461,e.tsere2b=1461,e.tserehebrew=1461,e.tserenarrowhebrew=1461,e.tserequarterhebrew=1461,e.tserewidehebrew=1461,e.tshecyrillic=1115,e.tsuperior=63219,e.ttabengali=2463,e.ttadeva=2335,e.ttagujarati=2719,e.ttagurmukhi=2591,e.tteharabic=1657,e.ttehfinalarabic=64359,e.ttehinitialarabic=64360,e.ttehmedialarabic=64361,e.tthabengali=2464,e.tthadeva=2336,e.tthagujarati=2720,e.tthagurmukhi=2592,e.tturned=647,e.tuhiragana=12388,e.tukatakana=12484,e.tukatakanahalfwidth=65410,e.tusmallhiragana=12387,e.tusmallkatakana=12483,e.tusmallkatakanahalfwidth=65391,e.twelvecircle=9323,e.twelveparen=9343,e.twelveperiod=9363,e.twelveroman=8571,e.twentycircle=9331,e.twentyhangzhou=21316,e.twentyparen=9351,e.twentyperiod=9371,e.two=50,e.twoarabic=1634,e.twobengali=2536,e.twocircle=9313,e.twocircleinversesansserif=10123,e.twodeva=2408,e.twodotenleader=8229,e.twodotleader=8229,e.twodotleadervertical=65072,e.twogujarati=2792,e.twogurmukhi=2664,e.twohackarabic=1634,e.twohangzhou=12322,e.twoideographicparen=12833,e.twoinferior=8322,e.twomonospace=65298,e.twonumeratorbengali=2549,e.twooldstyle=63282,e.twoparen=9333,e.twoperiod=9353,e.twopersian=1778,e.tworoman=8561,e.twostroke=443,e.twosuperior=178,e.twothai=3666,e.twothirds=8532,e.u=117,e.uacute=250,e.ubar=649,e.ubengali=2441,e.ubopomofo=12584,e.ubreve=365,e.ucaron=468,e.ucircle=9444,e.ucircumflex=251,e.ucircumflexbelow=7799,e.ucyrillic=1091,e.udattadeva=2385,e.udblacute=369,e.udblgrave=533,e.udeva=2313,e.udieresis=252,e.udieresisacute=472,e.udieresisbelow=7795,e.udieresiscaron=474,e.udieresiscyrillic=1265,e.udieresisgrave=476,e.udieresismacron=470,e.udotbelow=7909,e.ugrave=249,e.ugujarati=2697,e.ugurmukhi=2569,e.uhiragana=12358,e.uhookabove=7911,e.uhorn=432,e.uhornacute=7913,e.uhorndotbelow=7921,e.uhorngrave=7915,e.uhornhookabove=7917,e.uhorntilde=7919,e.uhungarumlaut=369,e.uhungarumlautcyrillic=1267,e.uinvertedbreve=535,e.ukatakana=12454,e.ukatakanahalfwidth=65395,e.ukcyrillic=1145,e.ukorean=12636,e.umacron=363,e.umacroncyrillic=1263,e.umacrondieresis=7803,e.umatragurmukhi=2625,e.umonospace=65365,e.underscore=95,e.underscoredbl=8215,e.underscoremonospace=65343,e.underscorevertical=65075,e.underscorewavy=65103,e.union=8746,e.universal=8704,e.uogonek=371,e.uparen=9392,e.upblock=9600,e.upperdothebrew=1476,e.upsilon=965,e.upsilondieresis=971,e.upsilondieresistonos=944,e.upsilonlatin=650,e.upsilontonos=973,e.uptackbelowcmb=797,e.uptackmod=724,e.uragurmukhi=2675,e.uring=367,e.ushortcyrillic=1118,e.usmallhiragana=12357,e.usmallkatakana=12453,e.usmallkatakanahalfwidth=65385,e.ustraightcyrillic=1199,e.ustraightstrokecyrillic=1201,e.utilde=361,e.utildeacute=7801,e.utildebelow=7797,e.uubengali=2442,e.uudeva=2314,e.uugujarati=2698,e.uugurmukhi=2570,e.uumatragurmukhi=2626,e.uuvowelsignbengali=2498,e.uuvowelsigndeva=2370,e.uuvowelsigngujarati=2754,e.uvowelsignbengali=2497,e.uvowelsigndeva=2369,e.uvowelsigngujarati=2753,e.v=118,e.vadeva=2357,e.vagujarati=2741,e.vagurmukhi=2613,e.vakatakana=12535,e.vav=1493,e.vavdagesh=64309,e.vavdagesh65=64309,e.vavdageshhebrew=64309,e.vavhebrew=1493,e.vavholam=64331,e.vavholamhebrew=64331,e.vavvavhebrew=1520,e.vavyodhebrew=1521,e.vcircle=9445,e.vdotbelow=7807,e.vecyrillic=1074,e.veharabic=1700,e.vehfinalarabic=64363,e.vehinitialarabic=64364,e.vehmedialarabic=64365,e.vekatakana=12537,e.venus=9792,e.verticalbar=124,e.verticallineabovecmb=781,e.verticallinebelowcmb=809,e.verticallinelowmod=716,e.verticallinemod=712,e.vewarmenian=1406,e.vhook=651,e.vikatakana=12536,e.viramabengali=2509,e.viramadeva=2381,e.viramagujarati=2765,e.visargabengali=2435,e.visargadeva=2307,e.visargagujarati=2691,e.vmonospace=65366,e.voarmenian=1400,e.voicediterationhiragana=12446,e.voicediterationkatakana=12542,e.voicedmarkkana=12443,e.voicedmarkkanahalfwidth=65438,e.vokatakana=12538,e.vparen=9393,e.vtilde=7805,e.vturned=652,e.vuhiragana=12436,e.vukatakana=12532,e.w=119,e.wacute=7811,e.waekorean=12633,e.wahiragana=12431,e.wakatakana=12527,e.wakatakanahalfwidth=65436,e.wakorean=12632,e.wasmallhiragana=12430,e.wasmallkatakana=12526,e.wattosquare=13143,e.wavedash=12316,e.wavyunderscorevertical=65076,e.wawarabic=1608,e.wawfinalarabic=65262,e.wawhamzaabovearabic=1572,e.wawhamzaabovefinalarabic=65158,e.wbsquare=13277,e.wcircle=9446,e.wcircumflex=373,e.wdieresis=7813,e.wdotaccent=7815,e.wdotbelow=7817,e.wehiragana=12433,e.weierstrass=8472,e.wekatakana=12529,e.wekorean=12638,e.weokorean=12637,e.wgrave=7809,e.whitebullet=9702,e.whitecircle=9675,e.whitecircleinverse=9689,e.whitecornerbracketleft=12302,e.whitecornerbracketleftvertical=65091,e.whitecornerbracketright=12303,e.whitecornerbracketrightvertical=65092,e.whitediamond=9671,e.whitediamondcontainingblacksmalldiamond=9672,e.whitedownpointingsmalltriangle=9663,e.whitedownpointingtriangle=9661,e.whiteleftpointingsmalltriangle=9667,e.whiteleftpointingtriangle=9665,e.whitelenticularbracketleft=12310,e.whitelenticularbracketright=12311,e.whiterightpointingsmalltriangle=9657,e.whiterightpointingtriangle=9655;e.whitesmallsquare=9643,e.whitesmilingface=9786,e.whitesquare=9633,e.whitestar=9734,e.whitetelephone=9743,e.whitetortoiseshellbracketleft=12312,e.whitetortoiseshellbracketright=12313,e.whiteuppointingsmalltriangle=9653,e.whiteuppointingtriangle=9651,e.wihiragana=12432,e.wikatakana=12528,e.wikorean=12639,e.wmonospace=65367,e.wohiragana=12434,e.wokatakana=12530,e.wokatakanahalfwidth=65382,e.won=8361,e.wonmonospace=65510,e.wowaenthai=3623,e.wparen=9394,e.wring=7832,e.wsuperior=695,e.wturned=653,e.wynn=447,e.x=120,e.xabovecmb=829,e.xbopomofo=12562,e.xcircle=9447,e.xdieresis=7821,e.xdotaccent=7819,e.xeharmenian=1389,e.xi=958,e.xmonospace=65368,e.xparen=9395,e.xsuperior=739,e.y=121,e.yaadosquare=13134,e.yabengali=2479,e.yacute=253,e.yadeva=2351,e.yaekorean=12626,e.yagujarati=2735,e.yagurmukhi=2607,e.yahiragana=12420,e.yakatakana=12516,e.yakatakanahalfwidth=65428,e.yakorean=12625,e.yamakkanthai=3662,e.yasmallhiragana=12419,e.yasmallkatakana=12515,e.yasmallkatakanahalfwidth=65388,e.yatcyrillic=1123,e.ycircle=9448,e.ycircumflex=375,e.ydieresis=255,e.ydotaccent=7823,e.ydotbelow=7925,e.yeharabic=1610,e.yehbarreearabic=1746,e.yehbarreefinalarabic=64431,e.yehfinalarabic=65266,e.yehhamzaabovearabic=1574,e.yehhamzaabovefinalarabic=65162,e.yehhamzaaboveinitialarabic=65163,e.yehhamzaabovemedialarabic=65164,e.yehinitialarabic=65267,e.yehmedialarabic=65268,e.yehmeeminitialarabic=64733,e.yehmeemisolatedarabic=64600,e.yehnoonfinalarabic=64660,e.yehthreedotsbelowarabic=1745,e.yekorean=12630,e.yen=165,e.yenmonospace=65509,e.yeokorean=12629,e.yeorinhieuhkorean=12678,e.yerahbenyomohebrew=1450,e.yerahbenyomolefthebrew=1450,e.yericyrillic=1099,e.yerudieresiscyrillic=1273,e.yesieungkorean=12673,e.yesieungpansioskorean=12675,e.yesieungsioskorean=12674,e.yetivhebrew=1434,e.ygrave=7923,e.yhook=436,e.yhookabove=7927,e.yiarmenian=1397,e.yicyrillic=1111,e.yikorean=12642,e.yinyang=9775,e.yiwnarmenian=1410,e.ymonospace=65369,e.yod=1497,e.yoddagesh=64313,e.yoddageshhebrew=64313,e.yodhebrew=1497,e.yodyodhebrew=1522,e.yodyodpatahhebrew=64287,e.yohiragana=12424,e.yoikorean=12681,e.yokatakana=12520,e.yokatakanahalfwidth=65430,e.yokorean=12635,e.yosmallhiragana=12423,e.yosmallkatakana=12519,e.yosmallkatakanahalfwidth=65390,e.yotgreek=1011,e.yoyaekorean=12680,e.yoyakorean=12679,e.yoyakthai=3618,e.yoyingthai=3597,e.yparen=9396,e.ypogegrammeni=890,e.ypogegrammenigreekcmb=837,e.yr=422,e.yring=7833,e.ysuperior=696,e.ytilde=7929,e.yturned=654,e.yuhiragana=12422,e.yuikorean=12684,e.yukatakana=12518,e.yukatakanahalfwidth=65429,e.yukorean=12640,e.yusbigcyrillic=1131,e.yusbigiotifiedcyrillic=1133,e.yuslittlecyrillic=1127,e.yuslittleiotifiedcyrillic=1129,e.yusmallhiragana=12421,e.yusmallkatakana=12517,e.yusmallkatakanahalfwidth=65389,e.yuyekorean=12683,e.yuyeokorean=12682,e.yyabengali=2527,e.yyadeva=2399,e.z=122,e.zaarmenian=1382,e.zacute=378,e.zadeva=2395,e.zagurmukhi=2651,e.zaharabic=1592,e.zahfinalarabic=65222,e.zahinitialarabic=65223,e.zahiragana=12374,e.zahmedialarabic=65224,e.zainarabic=1586,e.zainfinalarabic=65200,e.zakatakana=12470,e.zaqefgadolhebrew=1429,e.zaqefqatanhebrew=1428,e.zarqahebrew=1432,e.zayin=1494,e.zayindagesh=64310,e.zayindageshhebrew=64310,e.zayinhebrew=1494,e.zbopomofo=12567,e.zcaron=382,e.zcircle=9449,e.zcircumflex=7825,e.zcurl=657,e.zdot=380,e.zdotaccent=380,e.zdotbelow=7827,e.zecyrillic=1079,e.zedescendercyrillic=1177,e.zedieresiscyrillic=1247,e.zehiragana=12380,e.zekatakana=12476,e.zero=48,e.zeroarabic=1632,e.zerobengali=2534,e.zerodeva=2406,e.zerogujarati=2790,e.zerogurmukhi=2662,e.zerohackarabic=1632,e.zeroinferior=8320,e.zeromonospace=65296,e.zerooldstyle=63280,e.zeropersian=1776,e.zerosuperior=8304,e.zerothai=3664,e.zerowidthjoiner=65279,e.zerowidthnonjoiner=8204,e.zerowidthspace=8203,e.zeta=950,e.zhbopomofo=12563,e.zhearmenian=1386,e.zhebrevecyrillic=1218,e.zhecyrillic=1078,e.zhedescendercyrillic=1175,e.zhedieresiscyrillic=1245,e.zihiragana=12376,e.zikatakana=12472,e.zinorhebrew=1454,e.zlinebelow=7829,e.zmonospace=65370,e.zohiragana=12382,e.zokatakana=12478,e.zparen=9397,e.zretroflexhook=656,e.zstroke=438,e.zuhiragana=12378,e.zukatakana=12474,e[\".notdef\"]=0,e.angbracketleftbig=9001,e.angbracketleftBig=9001,e.angbracketleftbigg=9001,e.angbracketleftBigg=9001,e.angbracketrightBig=9002,e.angbracketrightbig=9002,e.angbracketrightBigg=9002,e.angbracketrightbigg=9002,e.arrowhookleft=8618,e.arrowhookright=8617,e.arrowlefttophalf=8636,e.arrowleftbothalf=8637,e.arrownortheast=8599,e.arrownorthwest=8598,e.arrowrighttophalf=8640,e.arrowrightbothalf=8641,e.arrowsoutheast=8600,e.arrowsouthwest=8601,e.backslashbig=8726,e.backslashBig=8726,e.backslashBigg=8726,e.backslashbigg=8726,e.bardbl=8214,e.bracehtipdownleft=65079,e.bracehtipdownright=65079,e.bracehtipupleft=65080,e.bracehtipupright=65080,e.braceleftBig=123,e.braceleftbig=123,e.braceleftbigg=123,e.braceleftBigg=123,e.bracerightBig=125,e.bracerightbig=125,e.bracerightbigg=125,e.bracerightBigg=125,e.bracketleftbig=91,e.bracketleftBig=91,e.bracketleftbigg=91,e.bracketleftBigg=91,e.bracketrightBig=93,e.bracketrightbig=93,e.bracketrightbigg=93,e.bracketrightBigg=93,e.ceilingleftbig=8968,e.ceilingleftBig=8968,e.ceilingleftBigg=8968,e.ceilingleftbigg=8968,e.ceilingrightbig=8969,e.ceilingrightBig=8969,e.ceilingrightbigg=8969,e.ceilingrightBigg=8969,e.circledotdisplay=8857,e.circledottext=8857,e.circlemultiplydisplay=8855,e.circlemultiplytext=8855,e.circleplusdisplay=8853,e.circleplustext=8853,e.contintegraldisplay=8750,e.contintegraltext=8750,e.coproductdisplay=8720,e.coproducttext=8720,e.floorleftBig=8970,e.floorleftbig=8970,e.floorleftbigg=8970,e.floorleftBigg=8970,e.floorrightbig=8971,e.floorrightBig=8971,e.floorrightBigg=8971,e.floorrightbigg=8971,e.hatwide=770,e.hatwider=770,e.hatwidest=770,e.intercal=7488,e.integraldisplay=8747,e.integraltext=8747,e.intersectiondisplay=8898,e.intersectiontext=8898,e.logicalanddisplay=8743,e.logicalandtext=8743,e.logicalordisplay=8744,e.logicalortext=8744,e.parenleftBig=40,e.parenleftbig=40,e.parenleftBigg=40,e.parenleftbigg=40,e.parenrightBig=41,e.parenrightbig=41,e.parenrightBigg=41,e.parenrightbigg=41,e.prime=8242,e.productdisplay=8719,e.producttext=8719,e.radicalbig=8730,e.radicalBig=8730,e.radicalBigg=8730,e.radicalbigg=8730,e.radicalbt=8730,e.radicaltp=8730,e.radicalvertex=8730,e.slashbig=47,e.slashBig=47,e.slashBigg=47,e.slashbigg=47,e.summationdisplay=8721,e.summationtext=8721,e.tildewide=732,e.tildewider=732,e.tildewidest=732,e.uniondisplay=8899,e.unionmultidisplay=8846,e.unionmultitext=8846,e.unionsqdisplay=8852,e.unionsqtext=8852,e.uniontext=8899,e.vextenddouble=8741,e.vextendsingle=8739}),i=a(function(e){e.space=32,e.a1=9985,e.a2=9986,e.a202=9987,e.a3=9988,e.a4=9742,e.a5=9990,e.a119=9991,e.a118=9992,e.a117=9993,e.a11=9755,e.a12=9758,e.a13=9996,e.a14=9997,e.a15=9998,e.a16=9999,e.a105=1e4,e.a17=10001,e.a18=10002,e.a19=10003,e.a20=10004,e.a21=10005,e.a22=10006,e.a23=10007,e.a24=10008,e.a25=10009,e.a26=10010,e.a27=10011,e.a28=10012,e.a6=10013,e.a7=10014,e.a8=10015,e.a9=10016,e.a10=10017,e.a29=10018,e.a30=10019,e.a31=10020,e.a32=10021,e.a33=10022,e.a34=10023,e.a35=9733,e.a36=10025,e.a37=10026,e.a38=10027,e.a39=10028,e.a40=10029,e.a41=10030,e.a42=10031,e.a43=10032,e.a44=10033,e.a45=10034,e.a46=10035,e.a47=10036,e.a48=10037,e.a49=10038,e.a50=10039,e.a51=10040,e.a52=10041,e.a53=10042,e.a54=10043,e.a55=10044,e.a56=10045,e.a57=10046,e.a58=10047,e.a59=10048,e.a60=10049,e.a61=10050,e.a62=10051,e.a63=10052,e.a64=10053,e.a65=10054,e.a66=10055,e.a67=10056,e.a68=10057,e.a69=10058,e.a70=10059,e.a71=9679,e.a72=10061,e.a73=9632,e.a74=10063,e.a203=10064,e.a75=10065,e.a204=10066,e.a76=9650,e.a77=9660,e.a78=9670,e.a79=10070,e.a81=9687,e.a82=10072,e.a83=10073,e.a84=10074,e.a97=10075,e.a98=10076,e.a99=10077,e.a100=10078,e.a101=10081,e.a102=10082,e.a103=10083,e.a104=10084,e.a106=10085,e.a107=10086,e.a108=10087,e.a112=9827,e.a111=9830,e.a110=9829,e.a109=9824,e.a120=9312,e.a121=9313,e.a122=9314,e.a123=9315,e.a124=9316,e.a125=9317,e.a126=9318,e.a127=9319,e.a128=9320,e.a129=9321,e.a130=10102,e.a131=10103,e.a132=10104,e.a133=10105,e.a134=10106,e.a135=10107,e.a136=10108,e.a137=10109,e.a138=10110,e.a139=10111,e.a140=10112,e.a141=10113,e.a142=10114,e.a143=10115,e.a144=10116,e.a145=10117,e.a146=10118,e.a147=10119,e.a148=10120,e.a149=10121,e.a150=10122,e.a151=10123,e.a152=10124,e.a153=10125,e.a154=10126,e.a155=10127,e.a156=10128,e.a157=10129,e.a158=10130,e.a159=10131,e.a160=10132,e.a161=8594,e.a163=8596,e.a164=8597,e.a196=10136,e.a165=10137,e.a192=10138,e.a166=10139,e.a167=10140,e.a168=10141,e.a169=10142,e.a170=10143,e.a171=10144,e.a172=10145,e.a173=10146,e.a162=10147,e.a174=10148,e.a175=10149,e.a176=10150,e.a177=10151,e.a178=10152,e.a179=10153,e.a193=10154,e.a180=10155,e.a199=10156,e.a181=10157,e.a200=10158,e.a182=10159,e.a201=10161,e.a183=10162,e.a184=10163,e.a197=10164,e.a185=10165,e.a194=10166,e.a198=10167,e.a186=10168,e.a195=10169,e.a187=10170,e.a188=10171,e.a189=10172,e.a190=10173,e.a191=10174,e.a89=10088,e.a90=10089,e.a93=10090,e.a94=10091,e.a91=10092,e.a92=10093,e.a205=10094,e.a85=10095,e.a206=10096,e.a86=10097,e.a87=10098,e.a88=10099,e.a95=10100,e.a96=10101,e[\".notdef\"]=0});t.getGlyphsUnicode=n,t.getDingbatsGlyphsUnicode=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getSupplementalGlyphMapForCalibri=t.getSupplementalGlyphMapForArialBlack=t.getGlyphMapForStandardFonts=t.getSymbolsFonts=t.getSerifFonts=t.getNonStdFontMap=t.getStdFontMap=void 0;var a=r(153),n=(0,a.getLookupTableFactory)(function(e){e.ArialNarrow=\"Helvetica\",e[\"ArialNarrow-Bold\"]=\"Helvetica-Bold\",e[\"ArialNarrow-BoldItalic\"]=\"Helvetica-BoldOblique\",e[\"ArialNarrow-Italic\"]=\"Helvetica-Oblique\",e.ArialBlack=\"Helvetica\",e[\"ArialBlack-Bold\"]=\"Helvetica-Bold\",e[\"ArialBlack-BoldItalic\"]=\"Helvetica-BoldOblique\",e[\"ArialBlack-Italic\"]=\"Helvetica-Oblique\",e[\"Arial-Black\"]=\"Helvetica\",e[\"Arial-Black-Bold\"]=\"Helvetica-Bold\",e[\"Arial-Black-BoldItalic\"]=\"Helvetica-BoldOblique\",e[\"Arial-Black-Italic\"]=\"Helvetica-Oblique\",e.Arial=\"Helvetica\",e[\"Arial-Bold\"]=\"Helvetica-Bold\",e[\"Arial-BoldItalic\"]=\"Helvetica-BoldOblique\",e[\"Arial-Italic\"]=\"Helvetica-Oblique\",e[\"Arial-BoldItalicMT\"]=\"Helvetica-BoldOblique\",e[\"Arial-BoldMT\"]=\"Helvetica-Bold\",e[\"Arial-ItalicMT\"]=\"Helvetica-Oblique\",e.ArialMT=\"Helvetica\",e[\"Courier-Bold\"]=\"Courier-Bold\",e[\"Courier-BoldItalic\"]=\"Courier-BoldOblique\",e[\"Courier-Italic\"]=\"Courier-Oblique\",e.CourierNew=\"Courier\",e[\"CourierNew-Bold\"]=\"Courier-Bold\",e[\"CourierNew-BoldItalic\"]=\"Courier-BoldOblique\",e[\"CourierNew-Italic\"]=\"Courier-Oblique\",e[\"CourierNewPS-BoldItalicMT\"]=\"Courier-BoldOblique\",e[\"CourierNewPS-BoldMT\"]=\"Courier-Bold\",e[\"CourierNewPS-ItalicMT\"]=\"Courier-Oblique\",e.CourierNewPSMT=\"Courier\",e.Helvetica=\"Helvetica\",e[\"Helvetica-Bold\"]=\"Helvetica-Bold\",e[\"Helvetica-BoldItalic\"]=\"Helvetica-BoldOblique\",e[\"Helvetica-BoldOblique\"]=\"Helvetica-BoldOblique\",e[\"Helvetica-Italic\"]=\"Helvetica-Oblique\",e[\"Helvetica-Oblique\"]=\"Helvetica-Oblique\",e.SegoeUISymbol=\"Helvetica\",e[\"Symbol-Bold\"]=\"Symbol\",e[\"Symbol-BoldItalic\"]=\"Symbol\",e[\"Symbol-Italic\"]=\"Symbol\",e.TimesNewRoman=\"Times-Roman\",e[\"TimesNewRoman-Bold\"]=\"Times-Bold\",e[\"TimesNewRoman-BoldItalic\"]=\"Times-BoldItalic\",e[\"TimesNewRoman-Italic\"]=\"Times-Italic\",e.TimesNewRomanPS=\"Times-Roman\",e[\"TimesNewRomanPS-Bold\"]=\"Times-Bold\",e[\"TimesNewRomanPS-BoldItalic\"]=\"Times-BoldItalic\",e[\"TimesNewRomanPS-BoldItalicMT\"]=\"Times-BoldItalic\",e[\"TimesNewRomanPS-BoldMT\"]=\"Times-Bold\",e[\"TimesNewRomanPS-Italic\"]=\"Times-Italic\",e[\"TimesNewRomanPS-ItalicMT\"]=\"Times-Italic\",e.TimesNewRomanPSMT=\"Times-Roman\",e[\"TimesNewRomanPSMT-Bold\"]=\"Times-Bold\",e[\"TimesNewRomanPSMT-BoldItalic\"]=\"Times-BoldItalic\",e[\"TimesNewRomanPSMT-Italic\"]=\"Times-Italic\"});t.getStdFontMap=n;var i=(0,a.getLookupTableFactory)(function(e){e.Calibri=\"Helvetica\",e[\"Calibri-Bold\"]=\"Helvetica-Bold\",e[\"Calibri-BoldItalic\"]=\"Helvetica-BoldOblique\",e[\"Calibri-Italic\"]=\"Helvetica-Oblique\",e.CenturyGothic=\"Helvetica\",e[\"CenturyGothic-Bold\"]=\"Helvetica-Bold\",e[\"CenturyGothic-BoldItalic\"]=\"Helvetica-BoldOblique\",e[\"CenturyGothic-Italic\"]=\"Helvetica-Oblique\",e.ComicSansMS=\"Comic Sans MS\",e[\"ComicSansMS-Bold\"]=\"Comic Sans MS-Bold\",e[\"ComicSansMS-BoldItalic\"]=\"Comic Sans MS-BoldItalic\",e[\"ComicSansMS-Italic\"]=\"Comic Sans MS-Italic\",e.LucidaConsole=\"Courier\",e[\"LucidaConsole-Bold\"]=\"Courier-Bold\",e[\"LucidaConsole-BoldItalic\"]=\"Courier-BoldOblique\",e[\"LucidaConsole-Italic\"]=\"Courier-Oblique\",e[\"LucidaSans-Demi\"]=\"Helvetica-Bold\",e[\"MS-Gothic\"]=\"MS Gothic\",e[\"MS-Gothic-Bold\"]=\"MS Gothic-Bold\",e[\"MS-Gothic-BoldItalic\"]=\"MS Gothic-BoldItalic\",e[\"MS-Gothic-Italic\"]=\"MS Gothic-Italic\",e[\"MS-Mincho\"]=\"MS Mincho\",e[\"MS-Mincho-Bold\"]=\"MS Mincho-Bold\",e[\"MS-Mincho-BoldItalic\"]=\"MS Mincho-BoldItalic\",e[\"MS-Mincho-Italic\"]=\"MS Mincho-Italic\",e[\"MS-PGothic\"]=\"MS PGothic\",e[\"MS-PGothic-Bold\"]=\"MS PGothic-Bold\",e[\"MS-PGothic-BoldItalic\"]=\"MS PGothic-BoldItalic\",e[\"MS-PGothic-Italic\"]=\"MS PGothic-Italic\",e[\"MS-PMincho\"]=\"MS PMincho\",e[\"MS-PMincho-Bold\"]=\"MS PMincho-Bold\",e[\"MS-PMincho-BoldItalic\"]=\"MS PMincho-BoldItalic\",e[\"MS-PMincho-Italic\"]=\"MS PMincho-Italic\",e.NuptialScript=\"Times-Italic\",e.Wingdings=\"ZapfDingbats\"});t.getNonStdFontMap=i;var o=(0,a.getLookupTableFactory)(function(e){e[\"Adobe Jenson\"]=!0,e[\"Adobe Text\"]=!0,e.Albertus=!0,e.Aldus=!0,e.Alexandria=!0,e.Algerian=!0,e[\"American Typewriter\"]=!0,e.Antiqua=!0,e.Apex=!0,e.Arno=!0,e.Aster=!0,e.Aurora=!0,e.Baskerville=!0,e.Bell=!0,e.Bembo=!0,e[\"Bembo Schoolbook\"]=!0,e.Benguiat=!0,e[\"Berkeley Old Style\"]=!0,e[\"Bernhard Modern\"]=!0,e[\"Berthold City\"]=!0,e.Bodoni=!0,e[\"Bauer Bodoni\"]=!0,e[\"Book Antiqua\"]=!0,e.Bookman=!0,e[\"Bordeaux Roman\"]=!0,e[\"Californian FB\"]=!0,e.Calisto=!0,e.Calvert=!0,e.Capitals=!0,e.Cambria=!0,e.Cartier=!0,e.Caslon=!0,e.Catull=!0,e.Centaur=!0,e[\"Century Old Style\"]=!0,e[\"Century Schoolbook\"]=!0,e.Chaparral=!0,e[\"Charis SIL\"]=!0,e.Cheltenham=!0,e[\"Cholla Slab\"]=!0,e.Clarendon=!0,e.Clearface=!0,e.Cochin=!0,e.Colonna=!0,e[\"Computer Modern\"]=!0,e[\"Concrete Roman\"]=!0,e.Constantia=!0,e[\"Cooper Black\"]=!0,e.Corona=!0,e.Ecotype=!0,e.Egyptienne=!0,e.Elephant=!0,e.Excelsior=!0,e.Fairfield=!0,e[\"FF Scala\"]=!0,e.Folkard=!0,e.Footlight=!0,e.FreeSerif=!0,e[\"Friz Quadrata\"]=!0,e.Garamond=!0,e.Gentium=!0,e.Georgia=!0,e.Gloucester=!0,e[\"Goudy Old Style\"]=!0,e[\"Goudy Schoolbook\"]=!0,e[\"Goudy Pro Font\"]=!0,e.Granjon=!0,e[\"Guardian Egyptian\"]=!0,e.Heather=!0,e.Hercules=!0,e[\"High Tower Text\"]=!0,e.Hiroshige=!0,e[\"Hoefler Text\"]=!0,e[\"Humana Serif\"]=!0,e.Imprint=!0,e[\"Ionic No. 5\"]=!0,e.Janson=!0,e.Joanna=!0,e.Korinna=!0,e.Lexicon=!0,e[\"Liberation Serif\"]=!0,e[\"Linux Libertine\"]=!0,e.Literaturnaya=!0,e.Lucida=!0,e[\"Lucida Bright\"]=!0,e.Melior=!0,e.Memphis=!0,e.Miller=!0,e.Minion=!0,e.Modern=!0,e[\"Mona Lisa\"]=!0,e[\"Mrs Eaves\"]=!0,e[\"MS Serif\"]=!0,e[\"Museo Slab\"]=!0,e[\"New York\"]=!0,e[\"Nimbus Roman\"]=!0,e[\"NPS Rawlinson Roadway\"]=!0,e.NuptialScript=!0,e.Palatino=!0,e.Perpetua=!0,e.Plantin=!0,e[\"Plantin Schoolbook\"]=!0,e.Playbill=!0,e[\"Poor Richard\"]=!0,e[\"Rawlinson Roadway\"]=!0,e.Renault=!0,e.Requiem=!0,e.Rockwell=!0,e.Roman=!0,e[\"Rotis Serif\"]=!0,e.Sabon=!0,e.Scala=!0,e.Seagull=!0,e.Sistina=!0,e.Souvenir=!0,e.STIX=!0,e[\"Stone Informal\"]=!0,e[\"Stone Serif\"]=!0,e.Sylfaen=!0,e.Times=!0,e.Trajan=!0,e[\"Trinit\"]=!0,e[\"Trump Mediaeval\"]=!0,e.Utopia=!0,e[\"Vale Type\"]=!0,e[\"Bitstream Vera\"]=!0,e[\"Vera Serif\"]=!0,e.Versailles=!0,e.Wanted=!0,e.Weiss=!0,e[\"Wide Latin\"]=!0,e.Windsor=!0,e.XITS=!0});t.getSerifFonts=o;var s=(0,a.getLookupTableFactory)(function(e){e.Dingbats=!0,e.Symbol=!0,e.ZapfDingbats=!0});t.getSymbolsFonts=s;var c=(0,a.getLookupTableFactory)(function(e){e[2]=10,e[3]=32,e[4]=33,e[5]=34,e[6]=35,e[7]=36,e[8]=37,e[9]=38,e[10]=39,e[11]=40,e[12]=41,e[13]=42,e[14]=43,e[15]=44,e[16]=45,e[17]=46,e[18]=47,e[19]=48,e[20]=49,e[21]=50,e[22]=51,e[23]=52,e[24]=53,e[25]=54,e[26]=55,e[27]=56,e[28]=57,e[29]=58,e[30]=894,e[31]=60,e[32]=61,e[33]=62,e[34]=63,e[35]=64,e[36]=65,e[37]=66,e[38]=67,e[39]=68,e[40]=69,e[41]=70,e[42]=71,e[43]=72,e[44]=73,e[45]=74,e[46]=75,e[47]=76,e[48]=77,e[49]=78,e[50]=79,e[51]=80,e[52]=81,e[53]=82,e[54]=83,e[55]=84,e[56]=85,e[57]=86,e[58]=87,e[59]=88,e[60]=89,e[61]=90,e[62]=91,e[63]=92,e[64]=93,e[65]=94,e[66]=95,e[67]=96,e[68]=97,e[69]=98,e[70]=99,e[71]=100,e[72]=101,e[73]=102,e[74]=103,e[75]=104,e[76]=105,e[77]=106,e[78]=107,e[79]=108,e[80]=109,e[81]=110,e[82]=111,e[83]=112,e[84]=113,e[85]=114,e[86]=115,e[87]=116,e[88]=117,e[89]=118,e[90]=119,e[91]=120,e[92]=121,e[93]=122,e[94]=123,e[95]=124,e[96]=125,e[97]=126,e[98]=196,e[99]=197,e[100]=199,e[101]=201,e[102]=209,e[103]=214,e[104]=220,e[105]=225,e[106]=224,e[107]=226,e[108]=228,e[109]=227,e[110]=229,e[111]=231,e[112]=233,e[113]=232,e[114]=234,e[115]=235,e[116]=237,e[117]=236,e[118]=238,e[119]=239,e[120]=241,e[121]=243,e[122]=242,e[123]=244,e[124]=246,e[125]=245,e[126]=250,e[127]=249,e[128]=251,e[129]=252,e[130]=8224,e[131]=176,e[132]=162,e[133]=163,e[134]=167,e[135]=8226,e[136]=182,e[137]=223,e[138]=174,e[139]=169,e[140]=8482,e[141]=180,e[142]=168,e[143]=8800,e[144]=198,e[145]=216,e[146]=8734,e[147]=177,e[148]=8804,e[149]=8805,e[150]=165,e[151]=181,e[152]=8706,e[153]=8721,e[154]=8719,e[156]=8747,e[157]=170,e[158]=186,e[159]=8486,e[160]=230,e[161]=248,e[162]=191,e[163]=161,e[164]=172,e[165]=8730,e[166]=402,e[167]=8776,e[168]=8710,e[169]=171,e[170]=187,e[171]=8230,e[210]=218,e[223]=711,e[224]=321,e[225]=322,e[227]=353,e[229]=382,e[234]=253,e[252]=263,e[253]=268,e[254]=269,e[258]=258,e[260]=260,e[261]=261,e[265]=280,e[266]=281,e[268]=283,e[269]=313,e[275]=323,e[276]=324,e[278]=328,e[284]=345,e[285]=346,e[286]=347,e[292]=367,e[295]=377,e[296]=378,e[298]=380,e[305]=963,e[306]=964,e[307]=966,e[308]=8215,e[309]=8252,e[310]=8319,e[311]=8359,e[312]=8592,e[313]=8593,e[337]=9552,e[493]=1039,e[494]=1040,e[705]=1524,e[706]=8362,e[710]=64288,e[711]=64298,e[759]=1617,e[761]=1776,e[763]=1778,e[775]=1652,e[777]=1764,e[778]=1780,e[779]=1781,e[780]=1782,e[782]=771,e[783]=64726,e[786]=8363,e[788]=8532,e[790]=768,e[791]=769,e[792]=768,e[795]=803,e[797]=64336,e[798]=64337,e[799]=64342,e[800]=64343,e[801]=64344,e[802]=64345,e[803]=64362,e[804]=64363,e[805]=64364,e[2424]=7821,e[2425]=7822,e[2426]=7823,e[2427]=7824,e[2428]=7825,e[2429]=7826,e[2430]=7827,e[2433]=7682,e[2678]=8045,e[2679]=8046,e[2830]=1552,e[2838]=686,e[2840]=751,e[2842]=753,e[2843]=754,e[2844]=755,e[2846]=757,e[2856]=767,e[2857]=848,e[2858]=849,e[2862]=853,e[2863]=854,e[2864]=855,e[2865]=861,e[2866]=862,e[2906]=7460,e[2908]=7462,e[2909]=7463,e[2910]=7464,e[2912]=7466,e[2913]=7467,e[2914]=7468,e[2916]=7470,e[2917]=7471,e[2918]=7472,e[2920]=7474,e[2921]=7475,e[2922]=7476,e[2924]=7478,e[2925]=7479,e[2926]=7480,e[2928]=7482,e[2929]=7483,e[2930]=7484,e[2932]=7486,e[2933]=7487,e[2934]=7488,e[2936]=7490,e[2937]=7491,e[2938]=7492,e[2940]=7494,e[2941]=7495,e[2942]=7496,e[2944]=7498,e[2946]=7500,e[2948]=7502,e[2950]=7504,e[2951]=7505,e[2952]=7506,e[2954]=7508,e[2955]=7509,e[2956]=7510,e[2958]=7512,e[2959]=7513,e[2960]=7514,e[2962]=7516,e[2963]=7517,e[2964]=7518,e[2966]=7520,e[2967]=7521,e[2968]=7522,e[2970]=7524,e[2971]=7525,e[2972]=7526,e[2974]=7528,e[2975]=7529,e[2976]=7530,e[2978]=1537,e[2979]=1538,e[2980]=1539,e[2982]=1549,e[2983]=1551,e[2984]=1552,e[2986]=1554,e[2987]=1555,e[2988]=1556,e[2990]=1623,e[2991]=1624,e[2995]=1775,e[2999]=1791,e[3002]=64290,e[3003]=64291,e[3004]=64292,e[3006]=64294,e[3007]=64295,e[3008]=64296,e[3011]=1900,e[3014]=8223,e[3015]=8244,e[3017]=7532,e[3018]=7533,e[3019]=7534,e[3075]=7590,e[3076]=7591,e[3079]=7594,e[3080]=7595,e[3083]=7598,e[3084]=7599,e[3087]=7602,e[3088]=7603,e[3091]=7606,e[3092]=7607,e[3095]=7610,e[3096]=7611,e[3099]=7614,e[3100]=7615,e[3103]=7618,e[3104]=7619,e[3107]=8337,e[3108]=8338,e[3116]=1884,e[3119]=1885,e[3120]=1885,e[3123]=1886,e[3124]=1886,e[3127]=1887,e[3128]=1887,e[3131]=1888,e[3132]=1888,e[3135]=1889,e[3136]=1889,e[3139]=1890,e[3140]=1890,e[3143]=1891,e[3144]=1891,e[3147]=1892,e[3148]=1892,e[3153]=580,e[3154]=581,e[3157]=584,e[3158]=585,e[3161]=588,e[3162]=589,e[3165]=891,e[3166]=892,e[3169]=1274,e[3170]=1275,e[3173]=1278,e[3174]=1279,e[3181]=7622,e[3182]=7623,e[3282]=11799,e[3316]=578,e[3379]=42785,e[3393]=1159,e[3416]=8377});t.getGlyphMapForStandardFonts=c;var l=(0,a.getLookupTableFactory)(function(e){e[227]=322,e[264]=261,e[291]=346});t.getSupplementalGlyphMapForArialBlack=l;var u=(0,a.getLookupTableFactory)(function(e){e[1]=32,e[4]=65,e[17]=66,e[18]=67,e[24]=68,e[28]=69,e[38]=70,e[39]=71,e[44]=72,e[47]=73,e[58]=74,e[60]=75,e[62]=76,e[68]=77,e[69]=78,e[75]=79,e[87]=80,e[89]=81,e[90]=82,e[94]=83,e[100]=84,e[104]=85,e[115]=86,e[116]=87,e[121]=88,e[122]=89,e[127]=90,e[258]=97,e[268]=261,e[271]=98,e[272]=99,e[273]=263,e[282]=100,e[286]=101,e[295]=281,e[296]=102,e[336]=103,e[346]=104,e[349]=105,e[361]=106,e[364]=107,e[367]=108,e[371]=322,e[373]=109,e[374]=110,e[381]=111,e[383]=243,e[393]=112,e[395]=113,e[396]=114,e[400]=115,e[401]=347,e[410]=116,e[437]=117,e[448]=118,e[449]=119,e[454]=120,e[455]=121,e[460]=122,e[463]=380,e[853]=44,e[855]=58,e[856]=46,e[876]=47,e[878]=45,e[882]=45,e[894]=40,e[895]=41,e[896]=91,e[897]=93,e[923]=64,e[1004]=48,e[1005]=49,e[1006]=50,e[1007]=51,e[1008]=52,e[1009]=53,e[1010]=54,e[1011]=55,e[1012]=56,e[1013]=57,e[1081]=37,e[1085]=43,e[1086]=45});t.getSupplementalGlyphMapForCalibri=u},function(e,t,r){var a=r(153).getLookupTableFactory,n=a(function(e){e[63721]=169,e[63193]=169,e[63720]=174,e[63194]=174,e[63722]=8482,e[63195]=8482,e[63729]=9127,e[63730]=9128,e[63731]=9129,e[63740]=9131,e[63741]=9132,e[63742]=9133,e[63726]=9121,e[63727]=9122,e[63728]=9123,e[63737]=9124,e[63738]=9125,e[63739]=9126,e[63723]=9115,e[63724]=9116,e[63725]=9117,e[63734]=9118,e[63735]=9119,e[63736]=9120});var i=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var o=a(function(e){e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\"\",e[\"\"]=\" \",e[\"\"]=\"IJ\",e[\"\"]=\"ij\",e[\"\"]=\"L\",e[\"\"]=\"l\",e[\"\"]=\"n\",e[\"\"]=\"s\",e[\"\"]=\"D\",e[\"\"]=\"D\",e[\"\"]=\"d\",e[\"\"]=\"LJ\",e[\"\"]=\"Lj\",e[\"\"]=\"lj\",e[\"\"]=\"NJ\",e[\"\"]=\"Nj\",e[\"\"]=\"nj\",e[\"\"]=\"DZ\",e[\"\"]=\"Dz\",e[\"\"]=\"dz\",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"a\",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\".\",e[\"\"]=\"..\",e[\"\"]=\"...\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"!!\",e[\"\"]=\" \",e[\"\"]=\"??\",e[\"\"]=\"?!\",e[\"\"]=\"!?\",e[\"\"]=\"\",e[\"\"]=\" \",e[\"\"]=\"Rs\",e[\"\"]=\"a/c\",e[\"\"]=\"a/s\",e[\"\"]=\"C\",e[\"\"]=\"c/o\",e[\"\"]=\"c/u\",e[\"\"]=\"\",e[\"\"]=\"F\",e[\"\"]=\"No\",e[\"\"]=\"TEL\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"FAX\",e[\"\"]=\"I\",e[\"\"]=\"II\",e[\"\"]=\"III\",e[\"\"]=\"IV\",e[\"\"]=\"V\",e[\"\"]=\"VI\",e[\"\"]=\"VII\",e[\"\"]=\"VIII\",e[\"\"]=\"IX\",e[\"\"]=\"X\",e[\"\"]=\"XI\",e[\"\"]=\"XII\",e[\"\"]=\"L\",e[\"\"]=\"C\",e[\"\"]=\"D\",e[\"\"]=\"M\",e[\"\"]=\"i\",e[\"\"]=\"ii\",e[\"\"]=\"iii\",e[\"\"]=\"iv\",e[\"\"]=\"v\",e[\"\"]=\"vi\",e[\"\"]=\"vii\",e[\"\"]=\"viii\",e[\"\"]=\"ix\",e[\"\"]=\"x\",e[\"\"]=\"xi\",e[\"\"]=\"xii\",e[\"\"]=\"l\",e[\"\"]=\"c\",e[\"\"]=\"d\",e[\"\"]=\"m\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"(1)\",e[\"\"]=\"(2)\",e[\"\"]=\"(3)\",e[\"\"]=\"(4)\",e[\"\"]=\"(5)\",e[\"\"]=\"(6)\",e[\"\"]=\"(7)\",e[\"\"]=\"(8)\",e[\"\"]=\"(9)\",e[\"\"]=\"(10)\",e[\"\"]=\"(11)\",e[\"\"]=\"(12)\",e[\"\"]=\"(13)\",e[\"\"]=\"(14)\",e[\"\"]=\"(15)\",e[\"\"]=\"(16)\",e[\"\"]=\"(17)\",e[\"\"]=\"(18)\",e[\"\"]=\"(19)\",e[\"\"]=\"(20)\",e[\"\"]=\"1.\",e[\"\"]=\"2.\",e[\"\"]=\"3.\",e[\"\"]=\"4.\",e[\"\"]=\"5.\",e[\"\"]=\"6.\",e[\"\"]=\"7.\",e[\"\"]=\"8.\",e[\"\"]=\"9.\",e[\"\"]=\"10.\",e[\"\"]=\"11.\",e[\"\"]=\"12.\",e[\"\"]=\"13.\",e[\"\"]=\"14.\",e[\"\"]=\"15.\",e[\"\"]=\"16.\",e[\"\"]=\"17.\",e[\"\"]=\"18.\",e[\"\"]=\"19.\",e[\"\"]=\"20.\",e[\"\"]=\"(a)\",e[\"\"]=\"(b)\",e[\"\"]=\"(c)\",e[\"\"]=\"(d)\",e[\"\"]=\"(e)\",e[\"\"]=\"(f)\",e[\"\"]=\"(g)\",e[\"\"]=\"(h)\",e[\"\"]=\"(i)\",e[\"\"]=\"(j)\",e[\"\"]=\"(k)\",e[\"\"]=\"(l)\",e[\"\"]=\"(m)\",e[\"\"]=\"(n)\",e[\"\"]=\"(o)\",e[\"\"]=\"(p)\",e[\"\"]=\"(q)\",e[\"\"]=\"(r)\",e[\"\"]=\"(s)\",e[\"\"]=\"(t)\",e[\"\"]=\"(u)\",e[\"\"]=\"(v)\",e[\"\"]=\"(w)\",e[\"\"]=\"(x)\",e[\"\"]=\"(y)\",e[\"\"]=\"(z)\",e[\"\"]=\"\",e[\"\"]=\"::=\",e[\"\"]=\"==\",e[\"\"]=\"===\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"()\",e[\"\"]=\"1\",e[\"\"]=\"2\",e[\"\"]=\"3\",e[\"\"]=\"4\",e[\"\"]=\"5\",e[\"\"]=\"6\",e[\"\"]=\"7\",e[\"\"]=\"8\",e[\"\"]=\"9\",e[\"\"]=\"10\",e[\"\"]=\"11\",e[\"\"]=\"12\",e[\"\"]=\"0\",e[\"\"]=\"1\",e[\"\"]=\"2\",e[\"\"]=\"3\",e[\"\"]=\"4\",e[\"\"]=\"5\",e[\"\"]=\"6\",e[\"\"]=\"7\",e[\"\"]=\"8\",e[\"\"]=\"9\",e[\"\"]=\"10\",e[\"\"]=\"11\",e[\"\"]=\"12\",e[\"\"]=\"13\",e[\"\"]=\"14\",e[\"\"]=\"15\",e[\"\"]=\"16\",e[\"\"]=\"17\",e[\"\"]=\"18\",e[\"\"]=\"19\",e[\"\"]=\"20\",e[\"\"]=\"21\",e[\"\"]=\"22\",e[\"\"]=\"23\",e[\"\"]=\"24\",e[\"\"]=\"1\",e[\"\"]=\"2\",e[\"\"]=\"3\",e[\"\"]=\"4\",e[\"\"]=\"5\",e[\"\"]=\"6\",e[\"\"]=\"7\",e[\"\"]=\"8\",e[\"\"]=\"9\",e[\"\"]=\"10\",e[\"\"]=\"11\",e[\"\"]=\"12\",e[\"\"]=\"13\",e[\"\"]=\"14\",e[\"\"]=\"15\",e[\"\"]=\"16\",e[\"\"]=\"17\",e[\"\"]=\"18\",e[\"\"]=\"19\",e[\"\"]=\"20\",e[\"\"]=\"21\",e[\"\"]=\"22\",e[\"\"]=\"23\",e[\"\"]=\"24\",e[\"\"]=\"25\",e[\"\"]=\"26\",e[\"\"]=\"27\",e[\"\"]=\"28\",e[\"\"]=\"29\",e[\"\"]=\"30\",e[\"\"]=\"31\",e[\"\"]=\"ff\",e[\"\"]=\"fi\",e[\"\"]=\"fl\",e[\"\"]=\"ffi\",e[\"\"]=\"ffl\",e[\"\"]=\"t\",e[\"\"]=\"st\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\";e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\" \",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"_\",e[\"\"]=\"_\",e[\"\"]=\"_\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\",e[\"\"]=\"\"});t.mapSpecialUnicodeValues=function(e){return e>=65520&&e<=65535?0:e>=62976&&e<=63743?n()[e]||e:173===e?45:e},t.reverseIfRtl=function(e){var t,r,a=e.length;if(a<=1||(t=e.charCodeAt(0),r=i[13],!(t>=r.begin&&t<r.end||t>=(r=i[11]).begin&&t<r.end)))return e;for(var n=\"\",o=a-1;o>=0;o--)n+=e[o];return n},t.getUnicodeRangeFor=function(e){for(var t=0,r=i.length;t<r;t++){var a=i[t];if(e>=a.begin&&e<a.end)return t}return-1},t.getNormalizedUnicodes=o,t.getUnicodeForGlyph=function(e,t){var r=t[e];if(void 0!==r)return r;if(!e)return-1;if(\"u\"===e[0]){var a,n=e.length;if(7===n&&\"n\"===e[1]&&\"i\"===e[2])a=e.substring(3);else{if(!(n>=5&&n<=7))return-1;a=e.substring(1)}if(a===a.toUpperCase()&&(r=parseInt(a,16))>=0)return r}return-1}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.FontRendererFactory=void 0;var a=r(5),n=r(175),i=r(178),o=r(177),s=r(158);function c(e){return(c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function l(e,t){return!t||\"object\"!==c(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function g(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}var p=function(){function e(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function t(e,t){return e[t]<<8|e[t+1]}function r(r,n,i){var o,s,c,l=1===t(r,n+2)?e(r,n+8):e(r,n+16),u=t(r,n+l);if(4===u){t(r,n+l+2);var h=t(r,n+l+6)>>1;for(s=n+l+14,o=[],c=0;c<h;c++,s+=2)o[c]={end:t(r,s)};for(s+=2,c=0;c<h;c++,s+=2)o[c].start=t(r,s);for(c=0;c<h;c++,s+=2)o[c].idDelta=t(r,s);for(c=0;c<h;c++,s+=2){var f=t(r,s);if(0!==f){o[c].ids=[];for(var d=0,g=o[c].end-o[c].start+1;d<g;d++)o[c].ids[d]=t(r,s+f),f+=2}}return o}if(12===u){e(r,n+l+4);var m=e(r,n+l+12);for(s=n+l+16,o=[],c=0;c<m;c++)o.push({start:e(r,s),end:e(r,s+4),idDelta:e(r,s+8)-e(r,s)}),s+=12;return o}throw new a.FormatError(\"unsupported cmap: \".concat(u))}function c(e,t,r,a){var i=new n.CFFParser(new s.Stream(e,t,r-t),{},a).parse();return{glyphs:i.charStrings.objects,subrs:i.topDict.privateDict&&i.topDict.privateDict.subrsIndex&&i.topDict.privateDict.subrsIndex.objects,gsubrs:i.globalSubrIndex&&i.globalSubrIndex.objects,isCFFCIDFont:i.isCIDFont,fdSelect:i.fdSelect,fdArray:i.fdArray}}function f(e,t){for(var r=t.codePointAt(0),a=0,n=0,i=e.length-1;n<i;){var o=n+i+1>>1;r<e[o].start?i=o-1:n=o}return e[n].start<=r&&r<=e[n].end&&(a=e[n].idDelta+(e[n].ids?e[n].ids[r-e[n].start]:r)&65535),{charCode:r,glyphId:a}}var g=[],p=function(){function e(t){d(this,e),this.constructor===e&&(0,a.unreachable)(\"Cannot initialize CompiledFont.\"),this.fontMatrix=t,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}return m(e,[{key:\"getPathJs\",value:function(e){var t=f(this.cmap,e),r=this.compiledGlyphs[t.glyphId];return r||(r=this.compileGlyph(this.glyphs[t.glyphId],t.glyphId),this.compiledGlyphs[t.glyphId]=r),void 0===this.compiledCharCodeToGlyphId[t.charCode]&&(this.compiledCharCodeToGlyphId[t.charCode]=t.glyphId),r}},{key:\"compileGlyph\",value:function(e,t){if(!e||0===e.length||14===e[0])return g;var r=this.fontMatrix;if(this.isCFFCIDFont){var n=this.fdSelect.getFDIndex(t);if(n>=0&&n<this.fdArray.length)r=this.fdArray[n].getByName(\"FontMatrix\")||a.FONT_IDENTITY_MATRIX;else(0,a.warn)(\"Invalid fd index for glyph index.\")}var i=[];return i.push({cmd:\"save\"}),i.push({cmd:\"transform\",args:r.slice()}),i.push({cmd:\"scale\",args:[\"size\",\"-size\"]}),this.compileGlyphImpl(e,i,t),i.push({cmd:\"restore\"}),i}},{key:\"compileGlyphImpl\",value:function(){(0,a.unreachable)(\"Children classes should implement this.\")}},{key:\"hasBuiltPath\",value:function(e){var t=f(this.cmap,e);return void 0!==this.compiledGlyphs[t.glyphId]&&void 0!==this.compiledCharCodeToGlyphId[t.charCode]}}]),e}(),v=function(e){function t(e,r,a){var n;return d(this,t),(n=l(this,u(t).call(this,a||[488e-6,0,0,488e-6,0,0]))).glyphs=e,n.cmap=r,n}return h(t,p),m(t,[{key:\"compileGlyphImpl\",value:function(e,t){!function e(t,r,a){function n(e,t){r.push({cmd:\"moveTo\",args:[e,t]})}function i(e,t){r.push({cmd:\"lineTo\",args:[e,t]})}function o(e,t,a,n){r.push({cmd:\"quadraticCurveTo\",args:[e,t,a,n]})}var s,c=0,l=(t[c]<<24|t[c+1]<<16)>>16,u=0,h=0;if(c+=10,l<0)do{s=t[c]<<8|t[c+1];var f,d,g=t[c+2]<<8|t[c+3];c+=4,1&s?(f=(t[c]<<24|t[c+1]<<16)>>16,d=(t[c+2]<<24|t[c+3]<<16)>>16,c+=4):(f=t[c++],d=t[c++]),2&s?(u=f,h=d):(u=0,h=0);var m=1,p=1,v=0,b=0;8&s?(m=p=(t[c]<<24|t[c+1]<<16)/1073741824,c+=2):64&s?(m=(t[c]<<24|t[c+1]<<16)/1073741824,p=(t[c+2]<<24|t[c+3]<<16)/1073741824,c+=4):128&s&&(m=(t[c]<<24|t[c+1]<<16)/1073741824,v=(t[c+2]<<24|t[c+3]<<16)/1073741824,b=(t[c+4]<<24|t[c+5]<<16)/1073741824,p=(t[c+6]<<24|t[c+7]<<16)/1073741824,c+=8);var y=a.glyphs[g];y&&(r.push({cmd:\"save\"}),r.push({cmd:\"transform\",args:[m,v,b,p,u,h]}),e(y,r,a),r.push({cmd:\"restore\"}))}while(32&s);else{var w,k,S=[];for(w=0;w<l;w++)S.push(t[c]<<8|t[c+1]),c+=2;c+=2+(t[c]<<8|t[c+1]);for(var C=S[S.length-1]+1,x=[];x.length<C;){var A=1;for(8&(s=t[c++])&&(A+=t[c++]);A-- >0;)x.push({flags:s})}for(w=0;w<C;w++){switch(18&x[w].flags){case 0:u+=(t[c]<<24|t[c+1]<<16)>>16,c+=2;break;case 2:u-=t[c++];break;case 18:u+=t[c++]}x[w].x=u}for(w=0;w<C;w++){switch(36&x[w].flags){case 0:h+=(t[c]<<24|t[c+1]<<16)>>16,c+=2;break;case 4:h-=t[c++];break;case 36:h+=t[c++]}x[w].y=h}var _=0;for(c=0;c<l;c++){var P=S[c],I=x.slice(_,P+1);if(1&I[0].flags)I.push(I[0]);else if(1&I[I.length-1].flags)I.unshift(I[I.length-1]);else{var O={flags:1,x:(I[0].x+I[I.length-1].x)/2,y:(I[0].y+I[I.length-1].y)/2};I.unshift(O),I.push(O)}for(n(I[0].x,I[0].y),w=1,k=I.length;w<k;w++)1&I[w].flags?i(I[w].x,I[w].y):1&I[w+1].flags?(o(I[w].x,I[w].y,I[w+1].x,I[w+1].y),w++):o(I[w].x,I[w].y,(I[w].x+I[w+1].x)/2,(I[w].y+I[w+1].y)/2);_=P+1}}}(e,t,this)}}]),t}(),b=function(e){function t(e,r,a,n){var o;return d(this,t),(o=l(this,u(t).call(this,a||[.001,0,0,.001,0,0]))).glyphs=e.glyphs,o.gsubrs=e.gsubrs||[],o.subrs=e.subrs||[],o.cmap=r,o.glyphNameMap=n||(0,i.getGlyphsUnicode)(),o.gsubrsBias=o.gsubrs.length<1240?107:o.gsubrs.length<33900?1131:32768,o.subrsBias=o.subrs.length<1240?107:o.subrs.length<33900?1131:32768,o.isCFFCIDFont=e.isCFFCIDFont,o.fdSelect=e.fdSelect,o.fdArray=e.fdArray,o}return h(t,p),m(t,[{key:\"compileGlyphImpl\",value:function(e,t,r){!function e(t,r,n,i){var s=[],c=0,l=0,u=0;function h(e,t){r.push({cmd:\"moveTo\",args:[e,t]})}function d(e,t){r.push({cmd:\"lineTo\",args:[e,t]})}function g(e,t,a,n,i,o){r.push({cmd:\"bezierCurveTo\",args:[e,t,a,n,i,o]})}!function t(m){for(var p=0;p<m.length;){var v,b,y,w,k,S,C,x,A=!1,_=m[p++];switch(_){case 1:case 3:u+=s.length>>1,A=!0;break;case 4:l+=s.pop(),h(c,l),A=!0;break;case 5:for(;s.length>0;)c+=s.shift(),l+=s.shift(),d(c,l);break;case 6:for(;s.length>0&&(d(c+=s.shift(),l),0!==s.length);)l+=s.shift(),d(c,l);break;case 7:for(;s.length>0&&(l+=s.shift(),d(c,l),0!==s.length);)d(c+=s.shift(),l);break;case 8:for(;s.length>0;)v=c+s.shift(),y=l+s.shift(),b=v+s.shift(),w=y+s.shift(),c=b+s.shift(),l=w+s.shift(),g(v,y,b,w,c,l);break;case 10:if(C=s.pop(),x=null,n.isCFFCIDFont){var P=n.fdSelect.getFDIndex(i);if(P>=0&&P<n.fdArray.length){var I=n.fdArray[P],O=void 0;if(I.privateDict&&I.privateDict.subrsIndex&&(O=I.privateDict.subrsIndex.objects),O){var T=O.length;x=O[C+=T<1240?107:T<33900?1131:32768]}}else(0,a.warn)(\"Invalid fd index for glyph index.\")}else x=n.subrs[C+n.subrsBias];x&&t(x);break;case 11:return;case 12:switch(_=m[p++]){case 34:b=(v=c+s.shift())+s.shift(),k=l+s.shift(),c=b+s.shift(),g(v,l,b,k,c,k),b=(v=c+s.shift())+s.shift(),c=b+s.shift(),g(v,k,b,l,c,l);break;case 35:v=c+s.shift(),y=l+s.shift(),b=v+s.shift(),w=y+s.shift(),c=b+s.shift(),l=w+s.shift(),g(v,y,b,w,c,l),v=c+s.shift(),y=l+s.shift(),b=v+s.shift(),w=y+s.shift(),c=b+s.shift(),l=w+s.shift(),g(v,y,b,w,c,l),s.pop();break;case 36:g(v=c+s.shift(),k=l+s.shift(),b=v+s.shift(),S=k+s.shift(),c=b+s.shift(),S),g(v=c+s.shift(),S,b=v+s.shift(),S+s.shift(),c=b+s.shift(),l);break;case 37:var E=c,F=l;v=c+s.shift(),y=l+s.shift(),b=v+s.shift(),w=y+s.shift(),c=b+s.shift(),l=w+s.shift(),g(v,y,b,w,c,l),v=c+s.shift(),y=l+s.shift(),b=v+s.shift(),w=y+s.shift(),c=b,l=w,Math.abs(c-E)>Math.abs(l-F)?c+=s.shift():l+=s.shift(),g(v,y,b,w,c,l);break;default:throw new a.FormatError(\"unknown operator: 12 \".concat(_))}break;case 14:if(s.length>=4){var R=s.pop(),B=s.pop();l=s.pop(),c=s.pop(),r.push({cmd:\"save\"}),r.push({cmd:\"translate\",args:[c,l]});var D=f(n.cmap,String.fromCharCode(n.glyphNameMap[o.StandardEncoding[R]]));e(n.glyphs[D.glyphId],r,n,D.glyphId),r.push({cmd:\"restore\"}),D=f(n.cmap,String.fromCharCode(n.glyphNameMap[o.StandardEncoding[B]])),e(n.glyphs[D.glyphId],r,n,D.glyphId)}return;case 18:u+=s.length>>1,A=!0;break;case 19:case 20:p+=(u+=s.length>>1)+7>>3,A=!0;break;case 21:l+=s.pop(),h(c+=s.pop(),l),A=!0;break;case 22:h(c+=s.pop(),l),A=!0;break;case 23:u+=s.length>>1,A=!0;break;case 24:for(;s.length>2;)v=c+s.shift(),y=l+s.shift(),b=v+s.shift(),w=y+s.shift(),c=b+s.shift(),l=w+s.shift(),g(v,y,b,w,c,l);c+=s.shift(),l+=s.shift(),d(c,l);break;case 25:for(;s.length>6;)c+=s.shift(),l+=s.shift(),d(c,l);v=c+s.shift(),y=l+s.shift(),b=v+s.shift(),w=y+s.shift(),c=b+s.shift(),l=w+s.shift(),g(v,y,b,w,c,l);break;case 26:for(s.length%2&&(c+=s.shift());s.length>0;)v=c,y=l+s.shift(),b=v+s.shift(),w=y+s.shift(),c=b,l=w+s.shift(),g(v,y,b,w,c,l);break;case 27:for(s.length%2&&(l+=s.shift());s.length>0;)g(v=c+s.shift(),y=l,b=v+s.shift(),w=y+s.shift(),c=b+s.shift(),l=w);break;case 28:s.push((m[p]<<24|m[p+1]<<16)>>16),p+=2;break;case 29:C=s.pop()+n.gsubrsBias,(x=n.gsubrs[C])&&t(x);break;case 30:for(;s.length>0&&(v=c,y=l+s.shift(),b=v+s.shift(),w=y+s.shift(),c=b+s.shift(),l=w+(1===s.length?s.shift():0),g(v,y,b,w,c,l),0!==s.length);)v=c+s.shift(),y=l,b=v+s.shift(),w=y+s.shift(),l=w+s.shift(),g(v,y,b,w,c=b+(1===s.length?s.shift():0),l);break;case 31:for(;s.length>0&&(v=c+s.shift(),y=l,b=v+s.shift(),w=y+s.shift(),l=w+s.shift(),g(v,y,b,w,c=b+(1===s.length?s.shift():0),l),0!==s.length);)v=c,y=l+s.shift(),b=v+s.shift(),w=y+s.shift(),c=b+s.shift(),l=w+(1===s.length?s.shift():0),g(v,y,b,w,c,l);break;default:if(_<32)throw new a.FormatError(\"unknown operator: \".concat(_));_<247?s.push(_-139):_<251?s.push(256*(_-247)+m[p++]+108):_<255?s.push(256*-(_-251)-m[p++]-108):(s.push((m[p]<<24|m[p+1]<<16|m[p+2]<<8|m[p+3])/65536),p+=4)}A&&(s.length=0)}}(t)}(e,t,this,r)}}]),t}();return{create:function(n,i){for(var o,s,l,u,h,f,d=new Uint8Array(n.data),g=t(d,4),m=0,p=12;m<g;m++,p+=16){var y=(0,a.bytesToString)(d.subarray(p,p+4)),w=e(d,p+8),k=e(d,p+12);switch(y){case\"cmap\":o=r(d,w);break;case\"glyf\":s=d.subarray(w,w+k);break;case\"loca\":l=d.subarray(w,w+k);break;case\"head\":f=t(d,w+18),h=t(d,w+50);break;case\"CFF \":u=c(d,w,w+k,i)}}if(s){var S=f?[1/f,0,0,1/f,0,0]:n.fontMatrix;return new v(function(e,t,r){var a,n;r?(a=4,n=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}):(a=2,n=function(e,t){return e[t]<<9|e[t+1]<<1});for(var i=[],o=n(t,0),s=a;s<t.length;s+=a){var c=n(t,s);i.push(e.subarray(o,c)),o=c}return i}(s,l,h),o,S)}return new b(u,o,n.fontMatrix,n.glyphNameMap)}}}();t.FontRendererFactory=p},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Type1Parser=void 0;var a=r(5),n=r(177),i=r(158),o=function(){var e=[4],t=[5],r=[6],n=[7],i=[8],o=[12,35],s=[14],c=[21],l=[22],u=[30],h=[31];function f(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}return f.prototype={convert:function(f,d,g){for(var m,p,v,b=f.length,y=!1,w=0;w<b;w++){var k=f[w];if(k<32){switch(12===k&&(k=(k<<8)+f[++w]),k){case 1:case 3:this.stack=[];break;case 4:if(this.flexing){if(this.stack.length<1){y=!0;break}var S=this.stack.pop();this.stack.push(0,S);break}y=this.executeCommand(1,e);break;case 5:y=this.executeCommand(2,t);break;case 6:y=this.executeCommand(1,r);break;case 7:y=this.executeCommand(1,n);break;case 8:y=this.executeCommand(6,i);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){y=!0;break}if(!d[v=this.stack.pop()]){y=!0;break}y=this.convert(d[v],d,g);break;case 11:return y;case 13:if(this.stack.length<2){y=!0;break}m=this.stack.pop(),p=this.stack.pop(),this.lsb=p,this.width=m,this.stack.push(m,p),y=this.executeCommand(2,l);break;case 14:this.output.push(s[0]);break;case 21:if(this.flexing)break;y=this.executeCommand(2,c);break;case 22:if(this.flexing){this.stack.push(0);break}y=this.executeCommand(1,l);break;case 30:y=this.executeCommand(4,u);break;case 31:y=this.executeCommand(4,h);break;case 3072:case 3073:case 3074:this.stack=[];break;case 3078:g?(this.seac=this.stack.splice(-4,4),y=this.executeCommand(0,s)):y=this.executeCommand(4,s);break;case 3079:if(this.stack.length<4){y=!0;break}this.stack.pop(),m=this.stack.pop();var C=this.stack.pop();p=this.stack.pop(),this.lsb=p,this.width=m,this.stack.push(m,p,C),y=this.executeCommand(3,c);break;case 3084:if(this.stack.length<2){y=!0;break}var x=this.stack.pop(),A=this.stack.pop();this.stack.push(A/x);break;case 3088:if(this.stack.length<2){y=!0;break}v=this.stack.pop();var _=this.stack.pop();if(0===v&&3===_){var P=this.stack.splice(this.stack.length-17,17);this.stack.push(P[2]+P[0],P[3]+P[1],P[4],P[5],P[6],P[7],P[8],P[9],P[10],P[11],P[12],P[13],P[14]),y=this.executeCommand(13,o,!0),this.flexing=!1,this.stack.push(P[15],P[16])}else 1===v&&0===_&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,a.warn)('Unknown type 1 charstring command of \"'+k+'\"')}if(y)break}else k<=246?k-=139:k=k<=250?256*(k-247)+f[++w]+108:k<=254?-256*(k-251)-f[++w]-108:(255&f[++w])<<24|(255&f[++w])<<16|(255&f[++w])<<8|(255&f[++w])<<0,this.stack.push(k)}return y},executeCommand:function(e,t,r){var a=this.stack.length;if(e>a)return!0;for(var n=a-e,i=n;i<a;i++){var o=this.stack[i];Number.isInteger(o)?this.output.push(28,o>>8&255,255&o):(o=65536*o|0,this.output.push(255,o>>24&255,o>>16&255,o>>8&255,255&o))}return this.output.push.apply(this.output,t),r?this.stack.splice(n,e):this.stack.length=0,!1}},f}(),s=function(){var e=55665;function t(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function r(e,t,r){if(r>=e.length)return new Uint8Array(0);var a,n,i=0|t;for(a=0;a<r;a++)i=52845*(e[a]+i)+22719&65535;var o=e.length-r,s=new Uint8Array(o);for(a=r,n=0;n<o;a++,n++){var c=e[a];s[n]=c^i>>8,i=52845*(c+i)+22719&65535}return s}function s(e){return 47===e||91===e||93===e||123===e||125===e||40===e||41===e}function c(a,n,o){if(n){var s=a.getBytes(),c=!(t(s[0])&&t(s[1])&&t(s[2])&&t(s[3]));a=new i.Stream(c?r(s,e,4):function(e,r,a){var n,i,o=0|r,s=e.length,c=new Uint8Array(s>>>1);for(n=0,i=0;n<s;n++){var l=e[n];if(t(l)){var u;for(n++;n<s&&!t(u=e[n]);)n++;if(n<s){var h=parseInt(String.fromCharCode(l,u),16);c[i++]=h^o>>8,o=52845*(h+o)+22719&65535}}}return Array.prototype.slice.call(c,a,i)}(s,e,4))}this.seacAnalysisEnabled=!!o,this.stream=a,this.nextChar()}return c.prototype={readNumberArray:function(){this.getToken();for(var e=[];;){var t=this.getToken();if(null===t||\"]\"===t||\"}\"===t)break;e.push(parseFloat(t||0))}return e},readNumber:function(){var e=this.getToken();return parseFloat(e||0)},readInt:function(){var e=this.getToken();return 0|parseInt(e||0,10)},readBoolean:function(){return\"true\"===this.getToken()?1:0},nextChar:function(){return this.currentChar=this.stream.getByte()},getToken:function(){for(var e=!1,t=this.currentChar;;){if(-1===t)return null;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(!(0,a.isSpace)(t))break;t=this.nextChar()}if(s(t))return this.nextChar(),String.fromCharCode(t);var r=\"\";do{r+=String.fromCharCode(t),t=this.nextChar()}while(t>=0&&!(0,a.isSpace)(t)&&!s(t));return r},readCharStrings:function(e,t){return-1===t?e:r(e,4330,t)},extractFontProgram:function(){var e=this.stream,t=[],r=[],a=Object.create(null);a.lenIV=4;for(var n,i,s,c,l,u={subrs:[],charstrings:[],properties:{privateData:a}};null!==(n=this.getToken());)if(\"/\"===n)switch(n=this.getToken()){case\"CharStrings\":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();null!==(n=this.getToken())&&\"end\"!==n;)if(\"/\"===n){var h=this.getToken();i=this.readInt(),this.getToken(),s=i>0?e.getBytes(i):new Uint8Array(0),c=u.properties.privateData.lenIV,l=this.readCharStrings(s,c),this.nextChar(),\"noaccess\"===(n=this.getToken())&&this.getToken(),r.push({glyph:h,encoded:l})}break;case\"Subrs\":for(this.readInt(),this.getToken();\"dup\"===this.getToken();){var f=this.readInt();i=this.readInt(),this.getToken(),s=i>0?e.getBytes(i):new Uint8Array(0),c=u.properties.privateData.lenIV,l=this.readCharStrings(s,c),this.nextChar(),\"noaccess\"===(n=this.getToken())&&this.getToken(),t[f]=l}break;case\"BlueValues\":case\"OtherBlues\":case\"FamilyBlues\":case\"FamilyOtherBlues\":var d=this.readNumberArray();d.length>0&&d.length,0;break;case\"StemSnapH\":case\"StemSnapV\":u.properties.privateData[n]=this.readNumberArray();break;case\"StdHW\":case\"StdVW\":u.properties.privateData[n]=this.readNumberArray()[0];break;case\"BlueShift\":case\"lenIV\":case\"BlueFuzz\":case\"BlueScale\":case\"LanguageGroup\":case\"ExpansionFactor\":u.properties.privateData[n]=this.readNumber();break;case\"ForceBold\":u.properties.privateData[n]=this.readBoolean()}for(var g=0;g<r.length;g++){h=r[g].glyph,l=r[g].encoded;var m=new o,p=m.convert(l,t,this.seacAnalysisEnabled),v=m.output;p&&(v=[14]),u.charstrings.push({glyphName:h,charstring:v,width:m.width,lsb:m.lsb,seac:m.seac})}return u},extractFontHeader:function(e){for(var t;null!==(t=this.getToken());)if(\"/\"===t)switch(t=this.getToken()){case\"FontMatrix\":var r=this.readNumberArray();e.fontMatrix=r;break;case\"Encoding\":var a,i=this.getToken();if(/^\\d+$/.test(i)){a=[];var o=0|parseInt(i,10);this.getToken();for(var s=0;s<o;s++){for(t=this.getToken();\"dup\"!==t&&\"def\"!==t;)if(null===(t=this.getToken()))return;if(\"def\"===t)break;var c=this.readInt();this.getToken();var l=this.getToken();a[c]=l,this.getToken()}}else a=(0,n.getEncoding)(i);e.builtInEncoding=a;break;case\"FontBBox\":var u=this.readNumberArray();e.ascent=Math.max(u[3],u[1]),e.descent=Math.min(u[1],u[3]),e.ascentScaled=!0}}},c}();t.Type1Parser=s},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getTilingPatternIR=function(e,t,r){var n=t.getArray(\"Matrix\"),i=a.Util.normalizeRect(t.getArray(\"BBox\")),o=t.get(\"XStep\"),s=t.get(\"YStep\"),c=t.get(\"PaintType\"),l=t.get(\"TilingType\");if(i[2]-i[0]==0||i[3]-i[1]==0)throw new a.FormatError(\"Invalid getTilingPatternIR /BBox array: [\".concat(i,\"].\"));return[\"TilingPattern\",r,e,n,i,o,s,c,l]},t.Pattern=void 0;var a=r(5),n=r(169),i=r(156),o=r(153),s={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7},c=function(){function e(){(0,a.unreachable)(\"should not call Pattern constructor\")}return e.prototype={getPattern:function(e){(0,a.unreachable)(\"Should not call Pattern.getStyle: \".concat(e))}},e.parseShading=function(e,t,r,n,c,u){var h=(0,i.isStream)(e)?e.dict:e,f=h.get(\"ShadingType\");try{switch(f){case s.AXIAL:case s.RADIAL:return new l.RadialAxial(h,t,r,n,u);case s.FREE_FORM_MESH:case s.LATTICE_FORM_MESH:case s.COONS_PATCH_MESH:case s.TENSOR_PATCH_MESH:return new l.Mesh(e,t,r,n,u);default:throw new a.FormatError(\"Unsupported ShadingType: \"+f)}}catch(e){if(e instanceof o.MissingDataException)throw e;return c.send(\"UnsupportedFeature\",{featureId:a.UNSUPPORTED_FEATURES.shadingPattern}),(0,a.warn)(e),new l.Dummy}},e}();t.Pattern=c;var l={};l.SMALL_NUMBER=1e-6,l.RadialAxial=function(){function e(e,t,r,i,o){this.matrix=t,this.coordsArr=e.getArray(\"Coords\"),this.shadingType=e.get(\"ShadingType\"),this.type=\"Pattern\";var c=e.get(\"ColorSpace\",\"CS\");c=n.ColorSpace.parse(c,r,i,o),this.cs=c;var u=0,h=1;if(e.has(\"Domain\")){var f=e.getArray(\"Domain\");u=f[0],h=f[1]}var d=!1,g=!1;if(e.has(\"Extend\")){var m=e.getArray(\"Extend\");d=m[0],g=m[1]}if(!(this.shadingType!==s.RADIAL||d&&g)){var p=this.coordsArr[0],v=this.coordsArr[1],b=this.coordsArr[2],y=this.coordsArr[3],w=this.coordsArr[4],k=this.coordsArr[5],S=Math.sqrt((p-y)*(p-y)+(v-w)*(v-w));b<=k+S&&k<=b+S&&(0,a.warn)(\"Unsupported radial gradient.\")}this.extendStart=d,this.extendEnd=g;var C=e.get(\"Function\"),x=o.createFromArray(C),A=h-u,_=A/10,P=this.colorStops=[];if(u>=h||_<=0)(0,a.info)(\"Bad shading domain.\");else{for(var I,O=new Float32Array(c.numComps),T=new Float32Array(1),E=u;E<=h;E+=_){T[0]=E,x(T,0,O,0),I=c.getRgb(O,0);var F=a.Util.makeCssRgb(I[0],I[1],I[2]);P.push([(E-u)/A,F])}var R=\"transparent\";e.has(\"Background\")&&(I=c.getRgb(e.get(\"Background\"),0),R=a.Util.makeCssRgb(I[0],I[1],I[2])),d||(P.unshift([0,R]),P[1][0]+=l.SMALL_NUMBER),g||(P[P.length-1][0]-=l.SMALL_NUMBER,P.push([1,R])),this.colorStops=P}}return e.prototype={getIR:function(){var e,t,r,n,i,o=this.coordsArr,c=this.shadingType;c===s.AXIAL?(t=[o[0],o[1]],r=[o[2],o[3]],n=null,i=null,e=\"axial\"):c===s.RADIAL?(t=[o[0],o[1]],r=[o[3],o[4]],n=o[2],i=o[5],e=\"radial\"):(0,a.unreachable)(\"getPattern type unknown: \".concat(c));var l=this.matrix;if(l&&(t=a.Util.applyTransform(t,l),r=a.Util.applyTransform(r,l),c===s.RADIAL)){var u=a.Util.singularValueDecompose2dScale(l);n*=u[0],i*=u[1]}return[\"RadialAxial\",e,this.colorStops,t,r,n,i]}},e}(),l.Mesh=function(){function e(e,t){this.stream=e,this.context=t,this.buffer=0,this.bufferLength=0;var r=t.numComps;this.tmpCompsBuf=new Float32Array(r);var a=t.colorSpace.numComps;this.tmpCsCompsBuf=t.colorFn?new Float32Array(a):this.tmpCompsBuf}e.prototype={get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;var e=this.stream.getByte();return!(e<0)&&(this.buffer=e,this.bufferLength=8,!0)},readBits:function(e){var t=this.buffer,r=this.bufferLength;if(32===e){if(0===r)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;t=t<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();var a=this.stream.getByte();return this.buffer=a&(1<<r)-1,(t<<8-r|(255&a)>>r)>>>0}if(8===e&&0===r)return this.stream.getByte();for(;r<e;)t=t<<8|this.stream.getByte(),r+=8;return r-=e,this.bufferLength=r,this.buffer=t&(1<<r)-1,t>>r},align:function(){this.buffer=0,this.bufferLength=0},readFlag:function(){return this.readBits(this.context.bitsPerFlag)},readCoordinate:function(){var e=this.context.bitsPerCoordinate,t=this.readBits(e),r=this.readBits(e),a=this.context.decode,n=e<32?1/((1<<e)-1):2.3283064365386963e-10;return[t*n*(a[1]-a[0])+a[0],r*n*(a[3]-a[2])+a[2]]},readComponents:function(){for(var e=this.context.numComps,t=this.context.bitsPerComponent,r=t<32?1/((1<<t)-1):2.3283064365386963e-10,a=this.context.decode,n=this.tmpCompsBuf,i=0,o=4;i<e;i++,o+=2){var s=this.readBits(t);n[i]=s*r*(a[o+1]-a[o])+a[o]}var c=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(n,0,c,0),this.context.colorSpace.getRgb(c,0)}};var t=3,r=20,o=20,c=function(){var e=[];return function(t){return e[t]||(e[t]=function(e){for(var t=[],r=0;r<=e;r++){var a=r/e,n=1-a;t.push(new Float32Array([n*n*n,3*a*n*n,3*a*a*n,a*a*a]))}return t}(t)),e[t]}}();function l(e,n){var i=e.figures[n];(0,a.assert)(\"patch\"===i.type,\"Unexpected patch mesh figure\");var s=e.coords,l=e.colors,u=i.coords,h=i.colors,f=Math.min(s[u[0]][0],s[u[3]][0],s[u[12]][0],s[u[15]][0]),d=Math.min(s[u[0]][1],s[u[3]][1],s[u[12]][1],s[u[15]][1]),g=Math.max(s[u[0]][0],s[u[3]][0],s[u[12]][0],s[u[15]][0]),m=Math.max(s[u[0]][1],s[u[3]][1],s[u[12]][1],s[u[15]][1]),p=Math.ceil((g-f)*o/(e.bounds[2]-e.bounds[0]));p=Math.max(t,Math.min(r,p));var v=Math.ceil((m-d)*o/(e.bounds[3]-e.bounds[1]));v=Math.max(t,Math.min(r,v));for(var b=p+1,y=new Int32Array((v+1)*b),w=new Int32Array((v+1)*b),k=0,S=new Uint8Array(3),C=new Uint8Array(3),x=l[h[0]],A=l[h[1]],_=l[h[2]],P=l[h[3]],I=c(v),O=c(p),T=0;T<=v;T++){S[0]=(x[0]*(v-T)+_[0]*T)/v|0,S[1]=(x[1]*(v-T)+_[1]*T)/v|0,S[2]=(x[2]*(v-T)+_[2]*T)/v|0,C[0]=(A[0]*(v-T)+P[0]*T)/v|0,C[1]=(A[1]*(v-T)+P[1]*T)/v|0,C[2]=(A[2]*(v-T)+P[2]*T)/v|0;for(var E=0;E<=p;E++,k++)if(0!==T&&T!==v||0!==E&&E!==p){for(var F=0,R=0,B=0,D=0;D<=3;D++)for(var M=0;M<=3;M++,B++){var L=I[T][D]*O[E][M];F+=s[u[B]][0]*L,R+=s[u[B]][1]*L}y[k]=s.length,s.push([F,R]),w[k]=l.length;var N=new Uint8Array(3);N[0]=(S[0]*(p-E)+C[0]*E)/p|0,N[1]=(S[1]*(p-E)+C[1]*E)/p|0,N[2]=(S[2]*(p-E)+C[2]*E)/p|0,l.push(N)}}y[0]=u[0],w[0]=h[0],y[p]=u[3],w[p]=h[1],y[b*v]=u[12],w[b*v]=h[2],y[b*v+p]=u[15],w[b*v+p]=h[3],e.figures[n]={type:\"lattice\",coords:y,colors:w,verticesPerRow:b}}function u(e){for(var t=e.coords[0][0],r=e.coords[0][1],a=t,n=r,i=1,o=e.coords.length;i<o;i++){var s=e.coords[i][0],c=e.coords[i][1];t=t>s?s:t,r=r>c?c:r,a=a<s?s:a,n=n<c?c:n}e.bounds=[t,r,a,n]}function h(t,r,o,c,h){if(!(0,i.isStream)(t))throw new a.FormatError(\"Mesh data is not a stream\");var f=t.dict;this.matrix=r,this.shadingType=f.get(\"ShadingType\"),this.type=\"Pattern\",this.bbox=f.getArray(\"BBox\");var d=f.get(\"ColorSpace\",\"CS\");d=n.ColorSpace.parse(d,o,c,h),this.cs=d,this.background=f.has(\"Background\")?d.getRgb(f.get(\"Background\"),0):null;var g=f.get(\"Function\"),m=g?h.createFromArray(g):null;this.coords=[],this.colors=[],this.figures=[];var p=new e(t,{bitsPerCoordinate:f.get(\"BitsPerCoordinate\"),bitsPerComponent:f.get(\"BitsPerComponent\"),bitsPerFlag:f.get(\"BitsPerFlag\"),decode:f.getArray(\"Decode\"),colorFn:m,colorSpace:d,numComps:m?1:d.numComps}),v=!1;switch(this.shadingType){case s.FREE_FORM_MESH:!function(e,t){for(var r=e.coords,n=e.colors,i=[],o=[],s=0;t.hasData;){var c=t.readFlag(),l=t.readCoordinate(),u=t.readComponents();if(0===s){if(!(0<=c&&c<=2))throw new a.FormatError(\"Unknown type4 flag\");switch(c){case 0:s=3;break;case 1:o.push(o[o.length-2],o[o.length-1]),s=1;break;case 2:o.push(o[o.length-3],o[o.length-1]),s=1}i.push(c)}o.push(r.length),r.push(l),n.push(u),s--,t.align()}e.figures.push({type:\"triangles\",coords:new Int32Array(o),colors:new Int32Array(o)})}(this,p);break;case s.LATTICE_FORM_MESH:var b=0|f.get(\"VerticesPerRow\");if(b<2)throw new a.FormatError(\"Invalid VerticesPerRow\");!function(e,t,r){for(var a=e.coords,n=e.colors,i=[];t.hasData;){var o=t.readCoordinate(),s=t.readComponents();i.push(a.length),a.push(o),n.push(s)}e.figures.push({type:\"lattice\",coords:new Int32Array(i),colors:new Int32Array(i),verticesPerRow:r})}(this,p,b);break;case s.COONS_PATCH_MESH:!function(e,t){for(var r=e.coords,n=e.colors,i=new Int32Array(16),o=new Int32Array(4);t.hasData;){var s,c,l=t.readFlag();if(!(0<=l&&l<=3))throw new a.FormatError(\"Unknown type6 flag\");var u=r.length;for(s=0,c=0!==l?8:12;s<c;s++)r.push(t.readCoordinate());var h,f,d,g,m=n.length;for(s=0,c=0!==l?2:4;s<c;s++)n.push(t.readComponents());switch(l){case 0:i[12]=u+3,i[13]=u+4,i[14]=u+5,i[15]=u+6,i[8]=u+2,i[11]=u+7,i[4]=u+1,i[7]=u+8,i[0]=u,i[1]=u+11,i[2]=u+10,i[3]=u+9,o[2]=m+1,o[3]=m+2,o[0]=m,o[1]=m+3;break;case 1:h=i[12],f=i[13],d=i[14],g=i[15],i[12]=g,i[13]=u+0,i[14]=u+1,i[15]=u+2,i[8]=d,i[11]=u+3,i[4]=f,i[7]=u+4,i[0]=h,i[1]=u+7,i[2]=u+6,i[3]=u+5,h=o[2],f=o[3],o[2]=f,o[3]=m,o[0]=h,o[1]=m+1;break;case 2:h=i[15],f=i[11],i[12]=i[3],i[13]=u+0,i[14]=u+1,i[15]=u+2,i[8]=i[7],i[11]=u+3,i[4]=f,i[7]=u+4,i[0]=h,i[1]=u+7,i[2]=u+6,i[3]=u+5,h=o[3],o[2]=o[1],o[3]=m,o[0]=h,o[1]=m+1;break;case 3:i[12]=i[0],i[13]=u+0,i[14]=u+1,i[15]=u+2,i[8]=i[1],i[11]=u+3,i[4]=i[2],i[7]=u+4,i[0]=i[3],i[1]=u+7,i[2]=u+6,i[3]=u+5,o[2]=o[0],o[3]=m,o[0]=o[1],o[1]=m+1}i[5]=r.length,r.push([(-4*r[i[0]][0]-r[i[15]][0]+6*(r[i[4]][0]+r[i[1]][0])-2*(r[i[12]][0]+r[i[3]][0])+3*(r[i[13]][0]+r[i[7]][0]))/9,(-4*r[i[0]][1]-r[i[15]][1]+6*(r[i[4]][1]+r[i[1]][1])-2*(r[i[12]][1]+r[i[3]][1])+3*(r[i[13]][1]+r[i[7]][1]))/9]),i[6]=r.length,r.push([(-4*r[i[3]][0]-r[i[12]][0]+6*(r[i[2]][0]+r[i[7]][0])-2*(r[i[0]][0]+r[i[15]][0])+3*(r[i[4]][0]+r[i[14]][0]))/9,(-4*r[i[3]][1]-r[i[12]][1]+6*(r[i[2]][1]+r[i[7]][1])-2*(r[i[0]][1]+r[i[15]][1])+3*(r[i[4]][1]+r[i[14]][1]))/9]),i[9]=r.length,r.push([(-4*r[i[12]][0]-r[i[3]][0]+6*(r[i[8]][0]+r[i[13]][0])-2*(r[i[0]][0]+r[i[15]][0])+3*(r[i[11]][0]+r[i[1]][0]))/9,(-4*r[i[12]][1]-r[i[3]][1]+6*(r[i[8]][1]+r[i[13]][1])-2*(r[i[0]][1]+r[i[15]][1])+3*(r[i[11]][1]+r[i[1]][1]))/9]),i[10]=r.length,r.push([(-4*r[i[15]][0]-r[i[0]][0]+6*(r[i[11]][0]+r[i[14]][0])-2*(r[i[12]][0]+r[i[3]][0])+3*(r[i[2]][0]+r[i[8]][0]))/9,(-4*r[i[15]][1]-r[i[0]][1]+6*(r[i[11]][1]+r[i[14]][1])-2*(r[i[12]][1]+r[i[3]][1])+3*(r[i[2]][1]+r[i[8]][1]))/9]),e.figures.push({type:\"patch\",coords:new Int32Array(i),colors:new Int32Array(o)})}}(this,p),v=!0;break;case s.TENSOR_PATCH_MESH:!function(e,t){for(var r=e.coords,n=e.colors,i=new Int32Array(16),o=new Int32Array(4);t.hasData;){var s,c,l=t.readFlag();if(!(0<=l&&l<=3))throw new a.FormatError(\"Unknown type7 flag\");var u=r.length;for(s=0,c=0!==l?12:16;s<c;s++)r.push(t.readCoordinate());var h,f,d,g,m=n.length;for(s=0,c=0!==l?2:4;s<c;s++)n.push(t.readComponents());switch(l){case 0:i[12]=u+3,i[13]=u+4,i[14]=u+5,i[15]=u+6,i[8]=u+2,i[9]=u+13,i[10]=u+14,i[11]=u+7,i[4]=u+1,i[5]=u+12,i[6]=u+15,i[7]=u+8,i[0]=u,i[1]=u+11,i[2]=u+10,i[3]=u+9,o[2]=m+1,o[3]=m+2,o[0]=m,o[1]=m+3;break;case 1:h=i[12],f=i[13],d=i[14],g=i[15],i[12]=g,i[13]=u+0,i[14]=u+1,i[15]=u+2,i[8]=d,i[9]=u+9,i[10]=u+10,i[11]=u+3,i[4]=f,i[5]=u+8,i[6]=u+11,i[7]=u+4,i[0]=h,i[1]=u+7,i[2]=u+6,i[3]=u+5,h=o[2],f=o[3],o[2]=f,o[3]=m,o[0]=h,o[1]=m+1;break;case 2:h=i[15],f=i[11],i[12]=i[3],i[13]=u+0,i[14]=u+1,i[15]=u+2,i[8]=i[7],i[9]=u+9,i[10]=u+10,i[11]=u+3,i[4]=f,i[5]=u+8,i[6]=u+11,i[7]=u+4,i[0]=h,i[1]=u+7,i[2]=u+6,i[3]=u+5,h=o[3],o[2]=o[1],o[3]=m,o[0]=h,o[1]=m+1;break;case 3:i[12]=i[0],i[13]=u+0,i[14]=u+1,i[15]=u+2,i[8]=i[1],i[9]=u+9,i[10]=u+10,i[11]=u+3,i[4]=i[2],i[5]=u+8,i[6]=u+11,i[7]=u+4,i[0]=i[3],i[1]=u+7,i[2]=u+6,i[3]=u+5,o[2]=o[0],o[3]=m,o[0]=o[1],o[1]=m+1}e.figures.push({type:\"patch\",coords:new Int32Array(i),colors:new Int32Array(o)})}}(this,p),v=!0;break;default:(0,a.unreachable)(\"Unsupported mesh type.\")}if(v){u(this);for(var y=0,w=this.figures.length;y<w;y++)l(this,y)}u(this),function(e){var t,r,a,n,i=e.coords,o=new Float32Array(2*i.length);for(t=0,a=0,r=i.length;t<r;t++){var s=i[t];o[a++]=s[0],o[a++]=s[1]}e.coords=o;var c=e.colors,l=new Uint8Array(3*c.length);for(t=0,a=0,r=c.length;t<r;t++){var u=c[t];l[a++]=u[0],l[a++]=u[1],l[a++]=u[2]}e.colors=l;var h=e.figures;for(t=0,r=h.length;t<r;t++){var f=h[t],d=f.coords,g=f.colors;for(a=0,n=d.length;a<n;a++)d[a]*=2,g[a]*=3}}(this)}return h.prototype={getIR:function(){return[\"Mesh\",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.matrix,this.bbox,this.background]}},h}(),l.Dummy=function(){function e(){this.type=\"Pattern\"}return e.prototype={getIR:function(){return[\"Dummy\"]}},e}()},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.bidi=function(e,t,r){var g=!0,m=e.length;if(0===m||r)return h(e,g,r);f.length=m,d.length=m;var p,v,b=0;for(p=0;p<m;++p){f[p]=e.charAt(p);var y=e.charCodeAt(p),w=\"L\";y<=255?w=n[y]:1424<=y&&y<=1524?w=\"R\":1536<=y&&y<=1791?(w=i[255&y])||(0,a.warn)(\"Bidi: invalid Unicode character \"+y.toString(16)):1792<=y&&y<=2220&&(w=\"AL\"),\"R\"!==w&&\"AL\"!==w&&\"AN\"!==w||b++,d[p]=w}if(0===b)return h(e,g=!0);-1===t&&(b/m<.3?(g=!0,t=0):(g=!1,t=1));var k=[];for(p=0;p<m;++p)k[p]=t;var S,C=o(t)?\"R\":\"L\",x=C,A=x,_=x;for(p=0;p<m;++p)\"NSM\"===d[p]?d[p]=_:_=d[p];for(_=x,p=0;p<m;++p)\"EN\"===(S=d[p])?d[p]=\"AL\"===_?\"AN\":\"EN\":\"R\"!==S&&\"L\"!==S&&\"AL\"!==S||(_=S);for(p=0;p<m;++p)\"AL\"===(S=d[p])&&(d[p]=\"R\");for(p=1;p<m-1;++p)\"ES\"===d[p]&&\"EN\"===d[p-1]&&\"EN\"===d[p+1]&&(d[p]=\"EN\"),\"CS\"!==d[p]||\"EN\"!==d[p-1]&&\"AN\"!==d[p-1]||d[p+1]!==d[p-1]||(d[p]=d[p-1]);for(p=0;p<m;++p)if(\"EN\"===d[p]){var P;for(P=p-1;P>=0&&\"ET\"===d[P];--P)d[P]=\"EN\";for(P=p+1;P<m&&\"ET\"===d[P];++P)d[P]=\"EN\"}for(p=0;p<m;++p)\"WS\"!==(S=d[p])&&\"ES\"!==S&&\"ET\"!==S&&\"CS\"!==S||(d[p]=\"ON\");for(_=x,p=0;p<m;++p)\"EN\"===(S=d[p])?d[p]=\"L\"===_?\"L\":\"EN\":\"R\"!==S&&\"L\"!==S||(_=S);for(p=0;p<m;++p)if(\"ON\"===d[p]){var I=c(d,p+1,\"ON\"),O=x;p>0&&(O=d[p-1]);var T=A;I+1<m&&(T=d[I+1]),\"L\"!==O&&(O=\"R\"),\"L\"!==T&&(T=\"R\"),O===T&&l(d,p,I,O),p=I-1}for(p=0;p<m;++p)\"ON\"===d[p]&&(d[p]=C);for(p=0;p<m;++p)S=d[p],s(k[p])?\"R\"===S?k[p]+=1:\"AN\"!==S&&\"EN\"!==S||(k[p]+=2):\"L\"!==S&&\"AN\"!==S&&\"EN\"!==S||(k[p]+=1);var E,F=-1,R=99;for(p=0,v=k.length;p<v;++p)E=k[p],F<E&&(F=E),R>E&&o(E)&&(R=E);for(E=F;E>=R;--E){var B=-1;for(p=0,v=k.length;p<v;++p)k[p]<E?B>=0&&(u(f,B,p),B=-1):B<0&&(B=p);B>=0&&u(f,B,k.length)}for(p=0,v=f.length;p<v;++p){var D=f[p];\"<\"!==D&&\">\"!==D||(f[p]=\"\")}return h(f.join(\"\"),g)};var a=r(5),n=[\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"S\",\"B\",\"S\",\"WS\",\"B\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"B\",\"B\",\"B\",\"S\",\"WS\",\"ON\",\"ON\",\"ET\",\"ET\",\"ET\",\"ON\",\"ON\",\"ON\",\"ON\",\"ON\",\"ES\",\"CS\",\"ES\",\"CS\",\"CS\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"CS\",\"ON\",\"ON\",\"ON\",\"ON\",\"ON\",\"ON\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"ON\",\"ON\",\"ON\",\"ON\",\"ON\",\"ON\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"ON\",\"ON\",\"ON\",\"ON\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"B\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"CS\",\"ON\",\"ET\",\"ET\",\"ET\",\"ET\",\"ON\",\"ON\",\"ON\",\"ON\",\"L\",\"ON\",\"ON\",\"BN\",\"ON\",\"ON\",\"ET\",\"ET\",\"EN\",\"EN\",\"ON\",\"L\",\"ON\",\"ON\",\"ON\",\"EN\",\"L\",\"ON\",\"ON\",\"ON\",\"ON\",\"ON\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"ON\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"ON\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\"],i=[\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"ON\",\"ON\",\"AL\",\"ET\",\"ET\",\"AL\",\"CS\",\"AL\",\"ON\",\"ON\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AL\",\"AL\",\"\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"ET\",\"AN\",\"AN\",\"AL\",\"AL\",\"AL\",\"NSM\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AN\",\"ON\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"ON\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AL\",\"AL\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\"];function o(e){return 0!=(1&e)}function s(e){return 0==(1&e)}function c(e,t,r){for(var a=t,n=e.length;a<n;++a)if(e[a]!==r)return a;return a}function l(e,t,r,a){for(var n=t;n<r;++n)e[n]=a}function u(e,t,r){for(var a=t,n=r-1;a<n;++a,--n){var i=e[a];e[a]=e[n],e[n]=i}}function h(e,t,r){return{str:e,dir:r?\"ttb\":t?\"ltr\":\"rtl\"}}var f=[],d=[]},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getMetrics=void 0;var a=r(153),n=(0,a.getLookupTableFactory)(function(e){e.Courier=600,e[\"Courier-Bold\"]=600,e[\"Courier-BoldOblique\"]=600,e[\"Courier-Oblique\"]=600,e.Helvetica=(0,a.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),e[\"Helvetica-Bold\"]=(0,a.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),e[\"Helvetica-BoldOblique\"]=(0,a.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),e[\"Helvetica-Oblique\"]=(0,a.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),e.Symbol=(0,a.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.universal=713,e.numbersign=500,e.existential=549,e.percent=833,e.ampersand=778,e.suchthat=439,e.parenleft=333,e.parenright=333,e.asteriskmath=500,e.plus=549,e.comma=250,e.minus=549,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=549,e.equal=549,e.greater=549,e.question=444,e.congruent=549,e.Alpha=722,e.Beta=667,e.Chi=722,e.Delta=612,e.Epsilon=611,e.Phi=763,e.Gamma=603,e.Eta=722,e.Iota=333,e.theta1=631,e.Kappa=722,e.Lambda=686,e.Mu=889,e.Nu=722,e.Omicron=722,e.Pi=768,e.Theta=741,e.Rho=556,e.Sigma=592,e.Tau=611,e.Upsilon=690,e.sigma1=439,e.Omega=768,e.Xi=645,e.Psi=795,e.Zeta=611,e.bracketleft=333,e.therefore=863,e.bracketright=333,e.perpendicular=658,e.underscore=500,e.radicalex=500,e.alpha=631,e.beta=549,e.chi=549,e.delta=494,e.epsilon=439,e.phi=521,e.gamma=411,e.eta=603,e.iota=329,e.phi1=603,e.kappa=549,e.lambda=549,e.mu=576,e.nu=521,e.omicron=549,e.pi=549,e.theta=521,e.rho=549,e.sigma=603,e.tau=439,e.upsilon=576,e.omega1=713,e.omega=686,e.xi=493,e.psi=686,e.zeta=494,e.braceleft=480,e.bar=200,e.braceright=480,e.similar=549,e.Euro=750,e.Upsilon1=620,e.minute=247,e.lessequal=549,e.fraction=167,e.infinity=713,e.florin=500,e.club=753,e.diamond=753,e.heart=753,e.spade=753,e.arrowboth=1042,e.arrowleft=987,e.arrowup=603,e.arrowright=987,e.arrowdown=603,e.degree=400,e.plusminus=549,e.second=411,e.greaterequal=549,e.multiply=549,e.proportional=713,e.partialdiff=494,e.bullet=460,e.divide=549,e.notequal=549,e.equivalence=549,e.approxequal=549,e.ellipsis=1e3,e.arrowvertex=603,e.arrowhorizex=1e3,e.carriagereturn=658,e.aleph=823,e.Ifraktur=686,e.Rfraktur=795,e.weierstrass=987,e.circlemultiply=768,e.circleplus=768,e.emptyset=823,e.intersection=768,e.union=768,e.propersuperset=713,e.reflexsuperset=713,e.notsubset=713,e.propersubset=713,e.reflexsubset=713,e.element=713,e.notelement=713,e.angle=768,e.gradient=713,e.registerserif=790,e.copyrightserif=790,e.trademarkserif=890,e.product=823,e.radical=549,e.dotmath=250,e.logicalnot=713,e.logicaland=603,e.logicalor=603,e.arrowdblboth=1042,e.arrowdblleft=987,e.arrowdblup=603,e.arrowdblright=987,e.arrowdbldown=603,e.lozenge=494,e.angleleft=329,e.registersans=790,e.copyrightsans=790,e.trademarksans=786,e.summation=713,e.parenlefttp=384,e.parenleftex=384,e.parenleftbt=384,e.bracketlefttp=384,e.bracketleftex=384,e.bracketleftbt=384,e.bracelefttp=494,e.braceleftmid=494,e.braceleftbt=494,e.braceex=494,e.angleright=329,e.integral=274,e.integraltp=686,e.integralex=686,e.integralbt=686,e.parenrighttp=384,e.parenrightex=384,e.parenrightbt=384,e.bracketrighttp=384,e.bracketrightex=384,e.bracketrightbt=384,e.bracerighttp=494,e.bracerightmid=494,e.bracerightbt=494,e.apple=790}),e[\"Times-Roman\"]=(0,a.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=408,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=564,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=564,e.equal=564,e.greater=564,e.question=444,e.at=921,e.A=722,e.B=667,e.C=667,e.D=722,e.E=611,e.F=556,e.G=722,e.H=722,e.I=333,e.J=389,e.K=722,e.L=611,e.M=889,e.N=722,e.O=722,e.P=556,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=722,e.W=944,e.X=722,e.Y=722,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=469,e.underscore=500,e.quoteleft=333,e.a=444,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=500,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=500,e.o=500,e.p=500,e.q=500,e.r=333,e.s=389,e.t=278,e.u=500,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=480,e.bar=200,e.braceright=480,e.asciitilde=541,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=180,e.quotedblleft=444,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=453,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=444,e.quotedblright=444,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=444,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=889,e.ordfeminine=276,e.Lslash=611,e.Oslash=722,e.OE=889,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=444,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=722,e.divide=564,e.Yacute=722,e.Acircumflex=722,e.aacute=444,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=444,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=444,e.Ncommaaccent=722,e.lacute=278,e.agrave=444,e.Tcommaaccent=611,e.Cacute=667,e.atilde=444,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=444,e.Amacron=722,e.rcaron=333,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=556,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=588,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=722,e.Abreve=722,e.multiply=564,e.uacute=500,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=444,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=722,e.Iacute=333,e.plusminus=564,e.brokenbar=200,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=333,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=326,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=444,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=344,e.Kcommaaccent=722,e.Lacute=611,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=722,e.zdotaccent=444,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=500,e.minus=564,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=564,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),e[\"Times-Bold\"]=(0,a.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=1e3,e.ampersand=833,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=930,e.A=722,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=778,e.I=389,e.J=500,e.K=778,e.L=667,e.M=944,e.N=722,e.O=778,e.P=611,e.Q=778,e.R=722,e.S=556,e.T=667,e.U=722,e.V=722,e.W=1e3,e.X=722,e.Y=722,e.Z=667,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=581,e.underscore=500,e.quoteleft=333,e.a=500,e.b=556,e.c=444,e.d=556,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=333,e.k=556,e.l=278,e.m=833,e.n=556,e.o=500,e.p=556,e.q=556,e.r=444,e.s=389,e.t=333,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=394,e.bar=220,e.braceright=394,e.asciitilde=520,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=540,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=300,e.Lslash=667,e.Oslash=778,e.OE=1e3,e.ordmasculine=330,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=556,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=722,e.divide=570,e.Yacute=722,e.Acircumflex=722,e.aacute=500,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=667,e.Cacute=722,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=500,e.Amacron=722,e.rcaron=444,e.ccedilla=444,e.Zdotaccent=667,e.Thorn=611,e.Omacron=778,e.Racute=722,e.Sacute=556,e.dcaron=672,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=570,e.uacute=556,e.Tcaron=667,e.partialdiff=494,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=778,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=444,e.omacron=500,e.Zacute=667,e.Zcaron=667,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=416,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=778,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=300,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=556,e.threequarters=750,e.Scedilla=556,e.lcaron=394,e.Kcommaaccent=778,e.Lacute=667,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=667,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=778,e.degree=400,e.ograve=500,e.Ccaron=722,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=444,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=722,e.Lcommaaccent=667,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=444,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=556,e.minus=570,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=333,e.logicalnot=570,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),e[\"Times-BoldItalic\"]=(0,a.getLookupTableFactory)(function(e){e.space=250,e.exclam=389,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=832,e.A=667,e.B=667,e.C=667,e.D=722,e.E=667,e.F=667,e.G=722,e.H=778,e.I=389,e.J=500,e.K=667,e.L=611,e.M=889,e.N=722,e.O=722,e.P=611,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=667,e.W=889,e.X=667,e.Y=611,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=570,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=556,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=556,e.v=444,e.w=667,e.x=500,e.y=444,e.z=389,e.braceleft=348,e.bar=220,e.braceright=348,e.asciitilde=570,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=500,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=944,e.ordfeminine=266,e.Lslash=611,e.Oslash=722,e.OE=944,e.ordmasculine=300,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=611,e.divide=570,e.Yacute=611,e.Acircumflex=667,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=611,e.Cacute=667,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=556,e.acircumflex=500,e.Amacron=667,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=611,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=608,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=722,e.Agrave=667,e.Abreve=667,e.multiply=570,e.uacute=556,e.Tcaron=611,e.partialdiff=494,e.ydieresis=444,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=722,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=366,e.eogonek=444,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=576,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=382,e.Kcommaaccent=667,e.Lacute=611,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=722,e.zdotaccent=389,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=500,e.minus=606,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=606,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),e[\"Times-Italic\"]=(0,a.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=420,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=675,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=675,e.equal=675,e.greater=675,e.question=500,e.at=920,e.A=611,e.B=611,e.C=667,e.D=722,e.E=611,e.F=611,e.G=722,e.H=722,e.I=333,e.J=444,e.K=667,e.L=556,e.M=833,e.N=667,e.O=722,e.P=611,e.Q=722,e.R=611,e.S=500,e.T=556,e.U=722,e.V=611,e.W=833,e.X=611,e.Y=556,e.Z=556,e.bracketleft=389,e.backslash=278,e.bracketright=389,e.asciicircum=422,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=278,e.g=500,e.h=500,e.i=278,e.j=278,e.k=444,e.l=278,e.m=722,e.n=500,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=500,e.v=444,e.w=667,e.x=444,e.y=444,e.z=389,e.braceleft=400,e.bar=275,e.braceright=400,e.asciitilde=541,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=214,e.quotedblleft=556,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=523,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=556,e.quotedblright=556,e.guillemotright=500,e.ellipsis=889,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=889,e.AE=889,e.ordfeminine=276,e.Lslash=556,e.Oslash=722,e.OE=944,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=667,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=500,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=556,e.divide=675,e.Yacute=556,e.Acircumflex=611,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=500,e.Ncommaaccent=667,e.lacute=278,e.agrave=500,e.Tcommaaccent=556,e.Cacute=667,e.atilde=500,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=611,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=500,e.Amacron=611,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=556,e.Thorn=611,e.Omacron=722,e.Racute=611,e.Sacute=500,e.dcaron=544,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=611,e.Abreve=611,e.multiply=675,e.uacute=500,e.Tcaron=556,e.partialdiff=476,e.ydieresis=444,e.Nacute=667,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=667,e.Iacute=333,e.plusminus=675,e.brokenbar=275,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=389,e.omacron=500,e.Zacute=556,e.Zcaron=556,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=300,e.eogonek=444,e.Uogonek=722,e.Aacute=611,e.Adieresis=611,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=500,e.lcaron=300,e.Kcommaaccent=667,e.Lacute=556,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=500,e.Scommaaccent=500,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=667,e.otilde=500,e.Rcommaaccent=611,e.Lcommaaccent=556,e.Atilde=611,e.Aogonek=611,e.Aring=611,e.Otilde=722,e.zdotaccent=389,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=444,e.minus=675,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=675,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),e.ZapfDingbats=(0,a.getLookupTableFactory)(function(e){e.space=278,e.a1=974,e.a2=961,e.a202=974,e.a3=980,e.a4=719,e.a5=789,e.a119=790,e.a118=791,e.a117=690,e.a11=960,e.a12=939,e.a13=549,e.a14=855,e.a15=911,e.a16=933,e.a105=911,e.a17=945,e.a18=974,e.a19=755,e.a20=846,e.a21=762,e.a22=761,e.a23=571,e.a24=677,e.a25=763,e.a26=760,e.a27=759,e.a28=754,e.a6=494,e.a7=552,e.a8=537,e.a9=577,e.a10=692,e.a29=786,e.a30=788,e.a31=788,e.a32=790,e.a33=793,e.a34=794,e.a35=816,e.a36=823,e.a37=789,e.a38=841,e.a39=823,e.a40=833,e.a41=816,e.a42=831,e.a43=923,e.a44=744,e.a45=723,e.a46=749,e.a47=790,e.a48=792,e.a49=695,e.a50=776,e.a51=768,e.a52=792,e.a53=759,e.a54=707,e.a55=708,e.a56=682,e.a57=701,e.a58=826,e.a59=815,e.a60=789,e.a61=789,e.a62=707,e.a63=687,e.a64=696,e.a65=689,e.a66=786,e.a67=787,e.a68=713,e.a69=791,e.a70=785,e.a71=791,e.a72=873,e.a73=761,e.a74=762,e.a203=762,e.a75=759,e.a204=759,e.a76=892,e.a77=892,e.a78=788,e.a79=784,e.a81=438,e.a82=138,e.a83=277,e.a84=415,e.a97=392,e.a98=392,e.a99=668,e.a100=668,e.a89=390,e.a90=390,e.a93=317,e.a94=317,e.a91=276,e.a92=276,e.a205=509,e.a85=509,e.a206=410,e.a86=410,e.a87=234,e.a88=234,e.a95=334,e.a96=334,e.a101=732,e.a102=544,e.a103=544,e.a104=910,e.a106=667,e.a107=760,e.a108=760,e.a112=776,e.a111=595,e.a110=694,e.a109=626,e.a120=788,e.a121=788,e.a122=788,e.a123=788,e.a124=788,e.a125=788,e.a126=788,e.a127=788,e.a128=788,e.a129=788,e.a130=788,e.a131=788,e.a132=788,e.a133=788,e.a134=788,e.a135=788,e.a136=788,e.a137=788,e.a138=788,e.a139=788,e.a140=788,e.a141=788,e.a142=788,e.a143=788,e.a144=788,e.a145=788,e.a146=788,e.a147=788,e.a148=788,e.a149=788,e.a150=788,e.a151=788,e.a152=788,e.a153=788,e.a154=788,e.a155=788,e.a156=788,e.a157=788,e.a158=788,e.a159=788,e.a160=894,e.a161=838,e.a163=1016,e.a164=458,e.a196=748,e.a165=924,e.a192=748,e.a166=918,e.a167=927,e.a168=928,e.a169=928,e.a170=834,e.a171=873,e.a172=828,e.a173=924,e.a162=924,e.a174=917,e.a175=930,e.a176=931,e.a177=463,e.a178=883,e.a179=836,e.a193=836,e.a180=867,e.a199=867,e.a181=696,e.a200=696,e.a182=874,e.a201=874,e.a183=760,e.a184=946,e.a197=771,e.a185=865,e.a194=771,e.a198=888,e.a186=967,e.a195=888,e.a187=831,e.a188=873,e.a189=927,e.a190=970,e.a191=918})});t.getMetrics=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isPDFFunction=function(e){var t;if(\"object\"!==o(e))return!1;if((0,n.isDict)(e))t=e;else{if(!(0,n.isStream)(e))return!1;t=e.dict}return t.has(\"FunctionType\")},t.PostScriptCompiler=t.PostScriptEvaluator=t.PDFFunctionFactory=void 0;var a=r(5),n=r(156),i=r(187);function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c={get value(){return(0,a.shadow)(this,\"value\",(0,a.isEvalSupported)())}},l=function(){function e(t){var r=t.xref,a=t.isEvalSupported,n=void 0===a||a;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.xref=r,this.isEvalSupported=!1!==n}var t,r,a;return t=e,(r=[{key:\"create\",value:function(e){return h.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:e})}},{key:\"createFromArray\",value:function(e){return h.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:e})}}])&&s(t.prototype,r),a&&s(t,a),e}();function u(e){if(!Array.isArray(e))return null;for(var t=e.length,r=0;r<t;r++)if(\"number\"!=typeof e[r]){for(var a=new Array(t),n=0;n<t;n++)a[n]=+e[n];return a}return e}t.PDFFunctionFactory=l;var h={getSampleArray:function(e,t,r,a){var n,i,o=1;for(n=0,i=e.length;n<i;n++)o*=e[n];o*=t;var s=new Array(o),c=0,l=0,u=1/(Math.pow(2,r)-1),h=a.getBytes((o*r+7)/8),f=0;for(n=0;n<o;n++){for(;c<r;)l<<=8,l|=h[f++],c+=8;c-=r,s[n]=(l>>c)*u,l&=(1<<c)-1}return s},getIR:function(e){var t=e.xref,r=e.isEvalSupported,n=e.fn,i=n.dict;i||(i=n);var o=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript][i.get(\"FunctionType\")];if(!o)throw new a.FormatError(\"Unknown type of function\");return o.call(this,{xref:t,isEvalSupported:r,fn:n,dict:i})},fromIR:function(e){var t=e.xref,r=e.isEvalSupported,a=e.IR;switch(a[0]){case 0:return this.constructSampledFromIR({xref:t,isEvalSupported:r,IR:a});case 2:return this.constructInterpolatedFromIR({xref:t,isEvalSupported:r,IR:a});case 3:return this.constructStichedFromIR({xref:t,isEvalSupported:r,IR:a});default:return this.constructPostScriptFromIR({xref:t,isEvalSupported:r,IR:a})}},parse:function(e){var t=e.xref,r=e.isEvalSupported,a=e.fn,n=this.getIR({xref:t,isEvalSupported:r,fn:a});return this.fromIR({xref:t,isEvalSupported:r,IR:n})},parseArray:function(e){var t=e.xref,r=e.isEvalSupported,a=e.fnObj;if(!Array.isArray(a))return this.parse({xref:t,isEvalSupported:r,fn:a});for(var n=[],i=0,o=a.length;i<o;i++)n.push(this.parse({xref:t,isEvalSupported:r,fn:t.fetchIfRef(a[i])}));return function(e,t,r,a){for(var i=0,o=n.length;i<o;i++)n[i](e,t,r,a+i)}},constructSampled:function(e){e.xref,e.isEvalSupported;var t=e.fn,r=e.dict;function n(e){for(var t=e.length,r=[],a=0,n=0;n<t;n+=2)r[a]=[e[n],e[n+1]],++a;return r}var i=u(r.getArray(\"Domain\")),o=u(r.getArray(\"Range\"));if(!i||!o)throw new a.FormatError(\"No domain or range\");var s=i.length/2,c=o.length/2;i=n(i),o=n(o);var l=u(r.getArray(\"Size\")),h=r.get(\"BitsPerSample\"),f=r.get(\"Order\")||1;1!==f&&(0,a.info)(\"No support for cubic spline interpolation: \"+f);var d=u(r.getArray(\"Encode\"));if(d)d=n(d);else{d=[];for(var g=0;g<s;++g)d.push([0,l[g]-1])}var m=u(r.getArray(\"Decode\"));return[0,s,i,d,m=m?n(m):o,this.getSampleArray(l,c,h,t),l,c,Math.pow(2,h)-1,o]},constructSampledFromIR:function(e){e.xref,e.isEvalSupported;var t=e.IR;function r(e,t,r,a,n){return a+(n-a)/(r-t)*(e-t)}return function(e,a,n,i){var o,s,c=t[1],l=t[2],u=t[3],h=t[4],f=t[5],d=t[6],g=t[7],m=t[9],p=1<<c,v=new Float64Array(p),b=new Uint32Array(p);for(s=0;s<p;s++)v[s]=1;var y=g,w=1;for(o=0;o<c;++o){var k=l[o][0],S=l[o][1],C=r(Math.min(Math.max(e[a+o],k),S),k,S,u[o][0],u[o][1]),x=d[o],A=(C=Math.min(Math.max(C,0),x-1))<x-1?Math.floor(C):C-1,_=A+1-C,P=C-A,I=A*y,O=I+y;for(s=0;s<p;s++)s&w?(v[s]*=P,b[s]+=O):(v[s]*=_,b[s]+=I);y*=x,w<<=1}for(s=0;s<g;++s){var T=0;for(o=0;o<p;o++)T+=f[b[o]+s]*v[o];T=r(T,0,1,h[s][0],h[s][1]),n[i+s]=Math.min(Math.max(T,m[s][0]),m[s][1])}}},constructInterpolated:function(e){e.xref,e.isEvalSupported,e.fn;for(var t=e.dict,r=u(t.getArray(\"C0\"))||[0],a=u(t.getArray(\"C1\"))||[1],n=t.get(\"N\"),i=r.length,o=[],s=0;s<i;++s)o.push(a[s]-r[s]);return[2,r,o,n]},constructInterpolatedFromIR:function(e){e.xref,e.isEvalSupported;var t=e.IR,r=t[1],a=t[2],n=t[3],i=a.length;return function(e,t,o,s){for(var c=1===n?e[t]:Math.pow(e[t],n),l=0;l<i;++l)o[s+l]=r[l]+c*a[l]}},constructStiched:function(e){var t=e.xref,r=e.isEvalSupported,n=(e.fn,e.dict),i=u(n.getArray(\"Domain\"));if(!i)throw new a.FormatError(\"No domain\");if(1!=i.length/2)throw new a.FormatError(\"Bad domain for stiched function\");for(var o=n.get(\"Functions\"),s=[],c=0,l=o.length;c<l;++c)s.push(this.parse({xref:t,isEvalSupported:r,fn:t.fetchIfRef(o[c])}));return[3,i,u(n.getArray(\"Bounds\")),u(n.getArray(\"Encode\")),s]},constructStichedFromIR:function(e){e.xref,e.isEvalSupported;var t=e.IR,r=t[1],a=t[2],n=t[3],i=t[4],o=new Float32Array(1);return function(e,t,s,c){for(var l=function(e,t,r){return e>r?e=r:e<t&&(e=t),e}(e[t],r[0],r[1]),u=0,h=a.length;u<h&&!(l<a[u]);++u);var f=r[0];u>0&&(f=a[u-1]);var d=r[1];u<a.length&&(d=a[u]);var g=n[2*u],m=n[2*u+1];o[0]=f===d?g:g+(l-f)*(m-g)/(d-f),i[u](o,0,s,c)}},constructPostScript:function(e){e.xref,e.isEvalSupported;var t=e.fn,r=e.dict,n=u(r.getArray(\"Domain\")),o=u(r.getArray(\"Range\"));if(!n)throw new a.FormatError(\"No domain.\");if(!o)throw new a.FormatError(\"No range.\");var s=new i.PostScriptLexer(t);return[4,n,o,new i.PostScriptParser(s).parse()]},constructPostScriptFromIR:function(e){e.xref;var t=e.isEvalSupported,r=e.IR,n=r[1],i=r[2],o=r[3];if(t&&c.value){var s=(new g).compile(o,n,i);if(s)return new Function(\"src\",\"srcOffset\",\"dest\",\"destOffset\",s)}(0,a.info)(\"Unable to compile PS function\");var l=i.length>>1,u=n.length>>1,h=new d(o),f=Object.create(null),m=8192,p=new Float32Array(u);return function(e,t,r,a){var n,o,s=\"\",c=p;for(n=0;n<u;n++)o=e[t+n],c[n]=o,s+=o+\"_\";var d=f[s];if(void 0===d){var g=new Float32Array(l),v=h.execute(c),b=v.length-l;for(n=0;n<l;n++){o=v[b+n];var y=i[2*n];o<y?o=y:o>(y=i[2*n+1])&&(o=y),g[n]=o}m>0&&(m--,f[s]=g),r.set(g,a)}else r.set(d,a)}}};var f=function(){function e(e){this.stack=e?Array.prototype.slice.call(e,0):[]}return e.prototype={push:function(e){if(this.stack.length>=100)throw new Error(\"PostScript function stack overflow.\");this.stack.push(e)},pop:function(){if(this.stack.length<=0)throw new Error(\"PostScript function stack underflow.\");return this.stack.pop()},copy:function(e){if(this.stack.length+e>=100)throw new Error(\"PostScript function stack overflow.\");for(var t=this.stack,r=t.length-e,a=e-1;a>=0;a--,r++)t.push(t[r])},index:function(e){this.push(this.stack[this.stack.length-e-1])},roll:function(e,t){var r,a,n,i=this.stack,o=i.length-e,s=i.length-1,c=o+(t-Math.floor(t/e)*e);for(r=o,a=s;r<a;r++,a--)n=i[r],i[r]=i[a],i[a]=n;for(r=o,a=c-1;r<a;r++,a--)n=i[r],i[r]=i[a],i[a]=n;for(r=c,a=s;r<a;r++,a--)n=i[r],i[r]=i[a],i[a]=n}},e}(),d=function(){function e(e){this.operators=e}return e.prototype={execute:function(e){for(var t,r,n,i=new f(e),o=0,s=this.operators,c=s.length;o<c;)if(\"number\"!=typeof(t=s[o++]))switch(t){case\"jz\":n=i.pop(),(r=i.pop())||(o=n);break;case\"j\":o=r=i.pop();break;case\"abs\":r=i.pop(),i.push(Math.abs(r));break;case\"add\":n=i.pop(),r=i.pop(),i.push(r+n);break;case\"and\":n=i.pop(),r=i.pop(),(0,a.isBool)(r)&&(0,a.isBool)(n)?i.push(r&&n):i.push(r&n);break;case\"atan\":r=i.pop(),i.push(Math.atan(r));break;case\"bitshift\":n=i.pop(),(r=i.pop())>0?i.push(r<<n):i.push(r>>n);break;case\"ceiling\":r=i.pop(),i.push(Math.ceil(r));break;case\"copy\":r=i.pop(),i.copy(r);break;case\"cos\":r=i.pop(),i.push(Math.cos(r));break;case\"cvi\":r=0|i.pop(),i.push(r);break;case\"cvr\":break;case\"div\":n=i.pop(),r=i.pop(),i.push(r/n);break;case\"dup\":i.copy(1);break;case\"eq\":n=i.pop(),r=i.pop(),i.push(r===n);break;case\"exch\":i.roll(2,1);break;case\"exp\":n=i.pop(),r=i.pop(),i.push(Math.pow(r,n));break;case\"false\":i.push(!1);break;case\"floor\":r=i.pop(),i.push(Math.floor(r));break;case\"ge\":n=i.pop(),r=i.pop(),i.push(r>=n);break;case\"gt\":n=i.pop(),r=i.pop(),i.push(r>n);break;case\"idiv\":n=i.pop(),r=i.pop(),i.push(r/n|0);break;case\"index\":r=i.pop(),i.index(r);break;case\"le\":n=i.pop(),r=i.pop(),i.push(r<=n);break;case\"ln\":r=i.pop(),i.push(Math.log(r));break;case\"log\":r=i.pop(),i.push(Math.log(r)/Math.LN10);break;case\"lt\":n=i.pop(),r=i.pop(),i.push(r<n);break;case\"mod\":n=i.pop(),r=i.pop(),i.push(r%n);break;case\"mul\":n=i.pop(),r=i.pop(),i.push(r*n);break;case\"ne\":n=i.pop(),r=i.pop(),i.push(r!==n);break;case\"neg\":r=i.pop(),i.push(-r);break;case\"not\":r=i.pop(),(0,a.isBool)(r)?i.push(!r):i.push(~r);break;case\"or\":n=i.pop(),r=i.pop(),(0,a.isBool)(r)&&(0,a.isBool)(n)?i.push(r||n):i.push(r|n);break;case\"pop\":i.pop();break;case\"roll\":n=i.pop(),r=i.pop(),i.roll(r,n);break;case\"round\":r=i.pop(),i.push(Math.round(r));break;case\"sin\":r=i.pop(),i.push(Math.sin(r));break;case\"sqrt\":r=i.pop(),i.push(Math.sqrt(r));break;case\"sub\":n=i.pop(),r=i.pop(),i.push(r-n);break;case\"true\":i.push(!0);break;case\"truncate\":r=(r=i.pop())<0?Math.ceil(r):Math.floor(r),i.push(r);break;case\"xor\":n=i.pop(),r=i.pop(),(0,a.isBool)(r)&&(0,a.isBool)(n)?i.push(r!==n):i.push(r^n);break;default:throw new a.FormatError(\"Unknown operator \".concat(t))}else i.push(t);return i.stack}},e}();t.PostScriptEvaluator=d;var g=function(){function e(e){this.type=e}function t(t,r,a){e.call(this,\"args\"),this.index=t,this.min=r,this.max=a}function r(t){e.call(this,\"literal\"),this.number=t,this.min=t,this.max=t}function n(t,r,a,n,i){e.call(this,\"binary\"),this.op=t,this.arg1=r,this.arg2=a,this.min=n,this.max=i}function i(t,r){e.call(this,\"max\"),this.arg=t,this.min=t.min,this.max=r}function o(t,r,a){e.call(this,\"var\"),this.index=t,this.min=r,this.max=a}function s(t,r){e.call(this,\"definition\"),this.variable=t,this.arg=r}function c(){this.parts=[]}function l(e,t){return\"literal\"===t.type&&0===t.number?e:\"literal\"===e.type&&0===e.number?t:\"literal\"===t.type&&\"literal\"===e.type?new r(e.number+t.number):new n(\"+\",e,t,e.min+t.min,e.max+t.max)}function u(e,t){if(\"literal\"===t.type){if(0===t.number)return new r(0);if(1===t.number)return e;if(\"literal\"===e.type)return new r(e.number*t.number)}if(\"literal\"===e.type){if(0===e.number)return new r(0);if(1===e.number)return t}return new n(\"*\",e,t,Math.min(e.min*t.min,e.min*t.max,e.max*t.min,e.max*t.max),Math.max(e.min*t.min,e.min*t.max,e.max*t.min,e.max*t.max))}function h(e,t){if(\"literal\"===t.type){if(0===t.number)return e;if(\"literal\"===e.type)return new r(e.number-t.number)}return\"binary\"===t.type&&\"-\"===t.op&&\"literal\"===e.type&&1===e.number&&\"literal\"===t.arg1.type&&1===t.arg1.number?t.arg2:new n(\"-\",e,t,e.min-t.max,e.max-t.min)}function f(e,t){return e.min>=t?new r(t):e.max<=t?e:new i(e,t)}function d(){}return e.prototype.visit=function(e){(0,a.unreachable)(\"abstract method\")},t.prototype=Object.create(e.prototype),t.prototype.visit=function(e){e.visitArgument(this)},r.prototype=Object.create(e.prototype),r.prototype.visit=function(e){e.visitLiteral(this)},n.prototype=Object.create(e.prototype),n.prototype.visit=function(e){e.visitBinaryOperation(this)},i.prototype=Object.create(e.prototype),i.prototype.visit=function(e){e.visitMin(this)},o.prototype=Object.create(e.prototype),o.prototype.visit=function(e){e.visitVariable(this)},s.prototype=Object.create(e.prototype),s.prototype.visit=function(e){e.visitVariableDefinition(this)},c.prototype={visitArgument:function(e){this.parts.push(\"Math.max(\",e.min,\", Math.min(\",e.max,\", src[srcOffset + \",e.index,\"]))\")},visitVariable:function(e){this.parts.push(\"v\",e.index)},visitLiteral:function(e){this.parts.push(e.number)},visitBinaryOperation:function(e){this.parts.push(\"(\"),e.arg1.visit(this),this.parts.push(\" \",e.op,\" \"),e.arg2.visit(this),this.parts.push(\")\")},visitVariableDefinition:function(e){this.parts.push(\"var \"),e.variable.visit(this),this.parts.push(\" = \"),e.arg.visit(this),this.parts.push(\";\")},visitMin:function(e){this.parts.push(\"Math.min(\"),e.arg.visit(this),this.parts.push(\", \",e.max,\")\")},toString:function(){return this.parts.join(\"\")}},d.prototype={compile:function(e,a,n){var i,d,g,m,p,v,b,y,w,k,S=[],C=[],x=a.length>>1,A=n.length>>1,_=0;for(i=0;i<x;i++)S.push(new t(i,a[2*i],a[2*i+1]));for(i=0,d=e.length;i<d;i++)if(\"number\"!=typeof(k=e[i]))switch(k){case\"add\":if(S.length<2)return null;v=S.pop(),p=S.pop(),S.push(l(p,v));break;case\"cvr\":if(S.length<1)return null;break;case\"mul\":if(S.length<2)return null;v=S.pop(),p=S.pop(),S.push(u(p,v));break;case\"sub\":if(S.length<2)return null;v=S.pop(),p=S.pop(),S.push(h(p,v));break;case\"exch\":if(S.length<2)return null;b=S.pop(),y=S.pop(),S.push(b,y);break;case\"pop\":if(S.length<1)return null;S.pop();break;case\"index\":if(S.length<1)return null;if(\"literal\"!==(p=S.pop()).type)return null;if((g=p.number)<0||!Number.isInteger(g)||S.length<g)return null;if(\"literal\"===(b=S[S.length-g-1]).type||\"var\"===b.type){S.push(b);break}w=new o(_++,b.min,b.max),S[S.length-g-1]=w,S.push(w),C.push(new s(w,b));break;case\"dup\":if(S.length<1)return null;if(\"number\"==typeof e[i+1]&&\"gt\"===e[i+2]&&e[i+3]===i+7&&\"jz\"===e[i+4]&&\"pop\"===e[i+5]&&e[i+6]===e[i+1]){p=S.pop(),S.push(f(p,e[i+1])),i+=6;break}if(\"literal\"===(b=S[S.length-1]).type||\"var\"===b.type){S.push(b);break}w=new o(_++,b.min,b.max),S[S.length-1]=w,S.push(w),C.push(new s(w,b));break;case\"roll\":if(S.length<2)return null;if(v=S.pop(),p=S.pop(),\"literal\"!==v.type||\"literal\"!==p.type)return null;if(m=v.number,(g=p.number)<=0||!Number.isInteger(g)||!Number.isInteger(m)||S.length<g)return null;if(0===(m=(m%g+g)%g))break;Array.prototype.push.apply(S,S.splice(S.length-g,g-m));break;default:return null}else S.push(new r(k));if(S.length!==A)return null;var P=[];return C.forEach(function(e){var t=new c;e.visit(t),P.push(t.toString())}),S.forEach(function(e,t){var r=new c;e.visit(r);var a=n[2*t],i=n[2*t+1],o=[r.toString()];a>e.min&&(o.unshift(\"Math.max(\",a,\", \"),o.push(\")\")),i<e.max&&(o.unshift(\"Math.min(\",i,\", \"),o.push(\")\")),o.unshift(\"dest[destOffset + \",t,\"] = \"),o.push(\";\"),P.push(o.join(\"\"))}),P.join(\"\\n\")}},d}();t.PostScriptCompiler=g},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PostScriptParser=t.PostScriptLexer=void 0;var a=r(5),n=r(156);function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}var c=function(){function e(t){i(this,e),this.lexer=t,this.operators=[],this.token=null,this.prev=null}return s(e,[{key:\"nextToken\",value:function(){this.prev=this.token,this.token=this.lexer.getToken()}},{key:\"accept\",value:function(e){return this.token.type===e&&(this.nextToken(),!0)}},{key:\"expect\",value:function(e){if(this.accept(e))return!0;throw new a.FormatError(\"Unexpected symbol: found \".concat(this.token.type,\" expected \").concat(e,\".\"))}},{key:\"parse\",value:function(){return this.nextToken(),this.expect(u.LBRACE),this.parseBlock(),this.expect(u.RBRACE),this.operators}},{key:\"parseBlock\",value:function(){for(;;)if(this.accept(u.NUMBER))this.operators.push(this.prev.value);else if(this.accept(u.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(u.LBRACE))return;this.parseCondition()}}},{key:\"parseCondition\",value:function(){var e=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(u.RBRACE),this.accept(u.IF))this.operators[e]=this.operators.length,this.operators[e+1]=\"jz\";else{if(!this.accept(u.LBRACE))throw new a.FormatError(\"PS Function: error parsing conditional.\");var t=this.operators.length;this.operators.push(null,null);var r=this.operators.length;this.parseBlock(),this.expect(u.RBRACE),this.expect(u.IFELSE),this.operators[t]=this.operators.length,this.operators[t+1]=\"j\",this.operators[e]=r,this.operators[e+1]=\"jz\"}}}]),e}();t.PostScriptParser=c;var l,u={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5},h=(l=Object.create(null),function(){function e(t,r){i(this,e),this.type=t,this.value=r}return s(e,null,[{key:\"getOperator\",value:function(t){var r=l[t];return r||(l[t]=new e(u.OPERATOR,t))}},{key:\"LBRACE\",get:function(){return(0,a.shadow)(this,\"LBRACE\",new e(u.LBRACE,\"{\"))}},{key:\"RBRACE\",get:function(){return(0,a.shadow)(this,\"RBRACE\",new e(u.RBRACE,\"}\"))}},{key:\"IF\",get:function(){return(0,a.shadow)(this,\"IF\",new e(u.IF,\"IF\"))}},{key:\"IFELSE\",get:function(){return(0,a.shadow)(this,\"IFELSE\",new e(u.IFELSE,\"IFELSE\"))}}]),e}()),f=function(){function e(t){i(this,e),this.stream=t,this.nextChar(),this.strBuf=[]}return s(e,[{key:\"nextChar\",value:function(){return this.currentChar=this.stream.getByte()}},{key:\"getToken\",value:function(){for(var e=!1,t=this.currentChar;;){if(t<0)return n.EOF;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(!(0,a.isSpace)(t))break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new h(u.NUMBER,this.getNumber());case 123:return this.nextChar(),h.LBRACE;case 125:return this.nextChar(),h.RBRACE}var r=this.strBuf;for(r.length=0,r[0]=String.fromCharCode(t);(t=this.nextChar())>=0&&(t>=65&&t<=90||t>=97&&t<=122);)r.push(String.fromCharCode(t));var i=r.join(\"\");switch(i.toLowerCase()){case\"if\":return h.IF;case\"ifelse\":return h.IFELSE;default:return h.getOperator(i)}}},{key:\"getNumber\",value:function(){var e=this.currentChar,t=this.strBuf;for(t.length=0,t[0]=String.fromCharCode(e);(e=this.nextChar())>=0&&(e>=48&&e<=57||45===e||46===e);)t.push(String.fromCharCode(e));var r=parseFloat(t.join(\"\"));if(isNaN(r))throw new a.FormatError(\"Invalid floating point number: \".concat(r));return r}}]),e}();t.PostScriptLexer=f},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.MurmurHash3_64=void 0;var a=r(5);function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=3285377520,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.h1=t?4294967295&t:i,this.h2=t?4294967295&t:i}var t,r,o;return t=e,(r=[{key:\"update\",value:function(e){var t,r;if((0,a.isString)(e)){t=new Uint8Array(2*e.length),r=0;for(var n=0,i=e.length;n<i;n++){var o=e.charCodeAt(n);o<=255?t[r++]=o:(t[r++]=o>>>8,t[r++]=255&o)}}else{if(!(0,a.isArrayBuffer)(e))throw new Error(\"Wrong data format in MurmurHash3_64_update. Input must be a string or array.\");r=(t=e).byteLength}for(var s=r>>2,c=r-4*s,l=new Uint32Array(t.buffer,0,s),u=0,h=0,f=this.h1,d=this.h2,g=3432918353,m=461845907,p=0;p<s;p++)1&p?f=5*(f=(f^=u=(u=(u=(u=l[p])*g&4294901760|11601*u&65535)<<15|u>>>17)*m&4294901760|13715*u&65535)<<13|f>>>19)+3864292196:d=5*(d=(d^=h=(h=(h=(h=l[p])*g&4294901760|11601*h&65535)<<15|h>>>17)*m&4294901760|13715*h&65535)<<13|d>>>19)+3864292196;switch(u=0,c){case 3:u^=t[4*s+2]<<16;case 2:u^=t[4*s+1]<<8;case 1:u=(u=(u=(u^=t[4*s])*g&4294901760|11601*u&65535)<<15|u>>>17)*m&4294901760|13715*u&65535,1&s?f^=u:d^=u}this.h1=f,this.h2=d}},{key:\"hexdigest\",value:function(){var e=this.h1,t=this.h2;e=3981806797*(e^=t>>>1)&4294901760|36045*e&65535,e=444984403*(e^=(t=4283543511*t&4294901760|(2950163797*(t<<16|e>>>16)&4294901760)>>>16)>>>1)&4294901760|60499*e&65535;var r=((e^=(t=3301882366*t&4294901760|(3120437893*(t<<16|e>>>16)&4294901760)>>>16)>>>1)>>>0).toString(16),a=(t>>>0).toString(16);return r.padStart(8,\"0\")+a.padStart(8,\"0\")}}])&&n(t.prototype,r),o&&n(t,o),e}();t.MurmurHash3_64=o},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.NativeImageDecoder=void 0;var a=r(169),n=r(164),i=r(158);function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(t){var r=t.xref,a=t.resources,n=t.handler,i=t.forceDataSchema,o=void 0!==i&&i,s=t.pdfFunctionFactory;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.xref=r,this.resources=a,this.handler=n,this.forceDataSchema=o,this.pdfFunctionFactory=s}var t,r,s;return t=e,s=[{key:\"isSupported\",value:function(e,t,r,n){var i=e.dict;if(i.has(\"DecodeParms\")||i.has(\"DP\"))return!1;var o=a.ColorSpace.parse(i.get(\"ColorSpace\",\"CS\"),t,r,n);return(\"DeviceGray\"===o.name||\"DeviceRGB\"===o.name)&&o.isDefaultDecode(i.getArray(\"Decode\",\"D\"))}},{key:\"isDecodable\",value:function(e,t,r,n){var i=e.dict;if(i.has(\"DecodeParms\")||i.has(\"DP\"))return!1;var o=a.ColorSpace.parse(i.get(\"ColorSpace\",\"CS\"),t,r,n),s=i.get(\"BitsPerComponent\",\"BPC\")||1;return(1===o.numComps||3===o.numComps)&&o.isDefaultDecode(i.getArray(\"Decode\",\"D\"),s)}}],(r=[{key:\"canDecode\",value:function(t){return t instanceof n.JpegStream&&e.isDecodable(t,this.xref,this.resources,this.pdfFunctionFactory)}},{key:\"decode\",value:function(e){var t=e.dict,r=t.get(\"ColorSpace\",\"CS\");return r=a.ColorSpace.parse(r,this.xref,this.resources,this.pdfFunctionFactory),this.handler.sendWithPromise(\"JpegDecode\",[e.getIR(this.forceDataSchema),r.numComps]).then(function(e){var r=e.data;e.width,e.height;return new i.Stream(r,0,r.length,t)})}}])&&o(t.prototype,r),s&&o(t,s),e}();t.NativeImageDecoder=s},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PDFImage=void 0;var a=r(5),n=r(156),i=r(169),o=r(158),s=r(164),c=r(167);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var u=function(){function e(e,t){return t&&t.canDecode(e)?t.decode(e).catch(function(t){return(0,a.warn)(\"Native image decoding failed -- trying to recover: \"+(t&&t.message)),e}):Promise.resolve(e)}function t(e,t,r,a){return(e=t+e*r)<0?0:e>a?a:e}function r(e,t,r,a,n,i){var o,s,c,l,u=n*i,h=t<=8?new Uint8Array(u):t<=16?new Uint16Array(u):new Uint32Array(u),f=r/n,d=a/i,g=0,m=new Uint16Array(n),p=r;for(o=0;o<n;o++)m[o]=Math.floor(o*f);for(o=0;o<i;o++)for(c=Math.floor(o*d)*p,s=0;s<n;s++)l=c+m[s],h[g++]=e[l];return h}function u(e){var t=e.xref,r=e.res,o=e.image,s=e.isInline,l=void 0!==s&&s,h=e.smask,f=void 0===h?null:h,d=e.mask,g=void 0===d?null:d,m=e.isMask,p=void 0!==m&&m,v=e.pdfFunctionFactory;this.image=o;var b=o.dict,y=b.get(\"Filter\");if((0,n.isName)(y))switch(y.name){case\"JPXDecode\":var w=new c.JpxImage;w.parseImageProperties(o.stream),o.stream.reset(),o.width=w.width,o.height=w.height,o.bitsPerComponent=w.bitsPerComponent,o.numComps=w.componentsCount;break;case\"JBIG2Decode\":o.bitsPerComponent=1,o.numComps=1}var k=b.get(\"Width\",\"W\"),S=b.get(\"Height\",\"H\");if(Number.isInteger(o.width)&&o.width>0&&Number.isInteger(o.height)&&o.height>0&&(o.width!==k||o.height!==S)&&((0,a.warn)(\"PDFImage - using the Width/Height of the image data, rather than the image dictionary.\"),k=o.width,S=o.height),k<1||S<1)throw new a.FormatError(\"Invalid image width: \".concat(k,\" or \")+\"height: \".concat(S));this.width=k,this.height=S,this.interpolate=b.get(\"Interpolate\",\"I\")||!1,this.imageMask=b.get(\"ImageMask\",\"IM\")||!1,this.matte=b.get(\"Matte\")||!1;var C=o.bitsPerComponent;if(!C&&!(C=b.get(\"BitsPerComponent\",\"BPC\"))){if(!this.imageMask)throw new a.FormatError(\"Bits per component missing in image: \".concat(this.imageMask));C=1}if(this.bpc=C,!this.imageMask){var x=b.get(\"ColorSpace\",\"CS\");if(!x)switch((0,a.info)(\"JPX images (which do not require color spaces)\"),o.numComps){case 1:x=n.Name.get(\"DeviceGray\");break;case 3:x=n.Name.get(\"DeviceRGB\");break;case 4:x=n.Name.get(\"DeviceCMYK\");break;default:throw new Error(\"JPX images with \".concat(o.numComps,\" \")+\"color components not supported.\")}var A=l?r:null;this.colorSpace=i.ColorSpace.parse(x,t,A,v),this.numComps=this.colorSpace.numComps}if(this.decode=b.getArray(\"Decode\",\"D\"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,C)||p&&!i.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;var _=(1<<C)-1;this.decodeCoefficients=[],this.decodeAddends=[];for(var P=this.colorSpace&&\"Indexed\"===this.colorSpace.name,I=0,O=0;I<this.decode.length;I+=2,++O){var T=this.decode[I],E=this.decode[I+1];this.decodeCoefficients[O]=P?(E-T)/_:E-T,this.decodeAddends[O]=P?T:_*T}}if(f)this.smask=new u({xref:t,res:r,image:f,isInline:l,pdfFunctionFactory:v});else if(g){if((0,n.isStream)(g))g.dict.get(\"ImageMask\",\"IM\")?this.mask=new u({xref:t,res:r,image:g,isInline:l,isMask:!0,pdfFunctionFactory:v}):(0,a.warn)(\"Ignoring /Mask in image without /ImageMask.\");else this.mask=g}}return u.buildImage=function(t){t.handler;var r,i,o=t.xref,s=t.res,c=t.image,h=t.isInline,f=void 0!==h&&h,d=t.nativeDecoder,g=void 0===d?null:d,m=t.pdfFunctionFactory,p=e(c,g),v=c.dict.get(\"SMask\"),b=c.dict.get(\"Mask\");return v?(r=e(v,g),i=Promise.resolve(null)):(r=Promise.resolve(null),b?(0,n.isStream)(b)?i=e(b,g):Array.isArray(b)?i=Promise.resolve(b):((0,a.warn)(\"Unsupported mask format.\"),i=Promise.resolve(null)):i=Promise.resolve(null)),Promise.all([p,r,i]).then(function(e){var t=l(e,3),r=t[0],a=t[1],n=t[2];return new u({xref:o,res:s,image:r,isInline:f,smask:a,mask:n,pdfFunctionFactory:m})})},u.createMask=function(e){var t,r,a=e.imgArray,n=e.width,i=e.height,o=e.imageIsFromDecodeStream,s=e.inverseDecode,c=(n+7>>3)*i,l=a.byteLength;if(!o||s&&!(c===l))if(s)for((t=new Uint8ClampedArray(c)).set(a),r=l;r<c;r++)t[r]=255;else(t=new Uint8ClampedArray(l)).set(a);else t=a;if(s)for(r=0;r<l;r++)t[r]^=255;return{data:t,width:n,height:i}},u.prototype={get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)},get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)},decodeBuffer:function(e){var r,a,n=this.bpc,i=this.numComps,o=this.decodeAddends,s=this.decodeCoefficients,c=(1<<n)-1;if(1!==n){var l=0;for(r=0,a=this.width*this.height;r<a;r++)for(var u=0;u<i;u++)e[l]=t(e[l],o[u],s[u],c),l++}else for(r=0,a=e.length;r<a;r++)e[r]=+!e[r]},getComponents:function(e){var t=this.bpc;if(8===t)return e;var r,a,n=this.width,i=this.height,o=this.numComps,s=n*i*o,c=0,l=t<=8?new Uint8Array(s):t<=16?new Uint16Array(s):new Uint32Array(s),u=n*o,h=(1<<t)-1,f=0;if(1===t)for(var d,g,m,p=0;p<i;p++){for(g=f+(-8&u),m=f+u;f<g;)a=e[c++],l[f]=a>>7&1,l[f+1]=a>>6&1,l[f+2]=a>>5&1,l[f+3]=a>>4&1,l[f+4]=a>>3&1,l[f+5]=a>>2&1,l[f+6]=a>>1&1,l[f+7]=1&a,f+=8;if(f<m)for(a=e[c++],d=128;f<m;)l[f++]=+!!(a&d),d>>=1}else{var v=0;for(a=0,f=0,r=s;f<r;++f){for(f%u==0&&(a=0,v=0);v<t;)a=a<<8|e[c++],v+=8;var b=v-t,y=a>>b;l[f]=y<0?0:y>h?h:y,a&=(1<<b)-1,v=b}}return l},fillOpacity:function(e,t,n,i,o){var s,c,l,h,f,d,g=this.smask,m=this.mask;if(g)c=g.width,l=g.height,s=new Uint8ClampedArray(c*l),g.fillGrayBuffer(s),c===t&&l===n||(s=r(s,g.bpc,c,l,t,n));else if(m)if(m instanceof u){for(c=m.width,l=m.height,s=new Uint8ClampedArray(c*l),m.numComps=1,m.fillGrayBuffer(s),h=0,f=c*l;h<f;++h)s[h]=255-s[h];c===t&&l===n||(s=r(s,m.bpc,c,l,t,n))}else{if(!Array.isArray(m))throw new a.FormatError(\"Unknown mask format.\");s=new Uint8ClampedArray(t*n);var p=this.numComps;for(h=0,f=t*n;h<f;++h){var v=0,b=h*p;for(d=0;d<p;++d){var y=o[b+d],w=2*d;if(y<m[w]||y>m[w+1]){v=255;break}}s[h]=v}}if(s)for(h=0,d=3,f=t*i;h<f;++h,d+=4)e[d]=s[h];else for(h=0,d=3,f=t*i;h<f;++h,d+=4)e[d]=255},undoPreblend:function(e,t,r){var a=this.smask&&this.smask.matte;if(a)for(var n=this.colorSpace.getRgb(a,0),i=n[0],o=n[1],s=n[2],c=t*r*4,l=0;l<c;l+=4){var u=e[l+3];if(0!==u){var h=255/u;e[l]=(e[l]-i)*h+i,e[l+1]=(e[l+1]-o)*h+o,e[l+2]=(e[l+2]-s)*h+s}else e[l]=255,e[l+1]=255,e[l+2]=255}},createImageData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.drawWidth,n=this.drawHeight,i={width:r,height:n,kind:0,data:null},c=this.numComps,l=this.width,u=this.height,h=this.bpc,f=l*c*h+7>>3;if(!t){var d;if(\"DeviceGray\"===this.colorSpace.name&&1===h?d=a.ImageKind.GRAYSCALE_1BPP:\"DeviceRGB\"!==this.colorSpace.name||8!==h||this.needsDecode||(d=a.ImageKind.RGB_24BPP),d&&!this.smask&&!this.mask&&r===l&&n===u){if(i.kind=d,e=this.getImageBytes(u*f),this.image instanceof o.DecodeStream)i.data=e;else{var g=new Uint8ClampedArray(e.length);g.set(e),i.data=g}if(this.needsDecode){(0,a.assert)(d===a.ImageKind.GRAYSCALE_1BPP,\"PDFImage.createImageData: The image must be grayscale.\");for(var m=i.data,p=0,v=m.length;p<v;p++)m[p]^=255}return i}if(this.image instanceof s.JpegStream&&!this.smask&&!this.mask){var b=u*f;switch(this.colorSpace.name){case\"DeviceGray\":b*=3;case\"DeviceRGB\":case\"DeviceCMYK\":return i.kind=a.ImageKind.RGB_24BPP,i.data=this.getImageBytes(b,r,n,!0),i}}}var y,w,k=0|(e=this.getImageBytes(u*f)).length/f*n/u,S=this.getComponents(e);return t||this.smask||this.mask?(i.kind=a.ImageKind.RGBA_32BPP,i.data=new Uint8ClampedArray(r*n*4),y=1,w=!0,this.fillOpacity(i.data,r,n,k,S)):(i.kind=a.ImageKind.RGB_24BPP,i.data=new Uint8ClampedArray(r*n*3),y=0,w=!1),this.needsDecode&&this.decodeBuffer(S),this.colorSpace.fillRgb(i.data,l,u,r,n,k,h,S,y),w&&this.undoPreblend(i.data,r,k),i},fillGrayBuffer:function(e){var t=this.numComps;if(1!==t)throw new a.FormatError(\"Reading gray scale from a color image: \".concat(t));var r,n,i=this.width,o=this.height,s=this.bpc,c=i*t*s+7>>3,l=this.getImageBytes(o*c),u=this.getComponents(l);if(1!==s){this.needsDecode&&this.decodeBuffer(u),n=i*o;var h=255/((1<<s)-1);for(r=0;r<n;++r)e[r]=h*u[r]}else if(n=i*o,this.needsDecode)for(r=0;r<n;++r)e[r]=u[r]-1&255;else for(r=0;r<n;++r)e[r]=255&-u[r]},getImageBytes:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.image.reset(),this.image.drawWidth=t||this.width,this.image.drawHeight=r||this.height,this.image.forceRGB=!!a,this.image.getBytes(e,!0)}},u}();t.PDFImage=u},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.MessageHandler=d;var a,n=(a=r(2))&&a.__esModule?a:{default:a},i=r(5);function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function c(e,t){return l.apply(this,arguments)}function l(){var e;return e=n.default.mark(function e(t,r){var a,i=arguments;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.length>2&&void 0!==i[2]?i[2]:null,t){e.next=3;break}return e.abrupt(\"return\",void 0);case 3:return e.abrupt(\"return\",t.apply(a,r));case 4:case\"end\":return e.stop()}},e)}),(l=function(){var t=this,r=arguments;return new Promise(function(a,n){var i=e.apply(t,r);function o(e){s(i,a,n,o,c,\"next\",e)}function c(e){s(i,a,n,o,c,\"throw\",e)}o(void 0)})}).apply(this,arguments)}function u(e){if(\"object\"!==o(e))return e;switch(e.name){case\"AbortException\":return new i.AbortException(e.message);case\"MissingPDFException\":return new i.MissingPDFException(e.message);case\"UnexpectedResponseException\":return new i.UnexpectedResponseException(e.message,e.status);default:return new i.UnknownErrorException(e.message,e.details)}}function h(e){return!(e instanceof Error)||e instanceof i.AbortException||e instanceof i.MissingPDFException||e instanceof i.UnexpectedResponseException||e instanceof i.UnknownErrorException?e:new i.UnknownErrorException(e.message,e.toString())}function f(e,t,r){t?e.resolve():e.reject(r)}function d(e,t,r){var a=this;this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null);var n=this.callbacksCapabilities=Object.create(null),i=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===a.sourceName)if(t.stream)a._processStreamMessage(t);else if(t.isReply){var o=t.callbackId;if(!(t.callbackId in n))throw new Error(\"Cannot resolve callback \".concat(o));var s=n[o];delete n[o],\"error\"in t?s.reject(u(t.error)):s.resolve(t.data)}else{if(!(t.action in i))throw new Error(\"Unknown action from worker: \".concat(t.action));var c=i[t.action];if(t.callbackId){var l=a.sourceName,f=t.sourceName;Promise.resolve().then(function(){return c[0].call(c[1],t.data)}).then(function(e){r.postMessage({sourceName:l,targetName:f,isReply:!0,callbackId:t.callbackId,data:e})},function(e){r.postMessage({sourceName:l,targetName:f,isReply:!0,callbackId:t.callbackId,error:h(e)})})}else t.streamId?a._createStreamSink(t):c[0].call(c[1],t.data)}},r.addEventListener(\"message\",this._onComObjOnMessage)}d.prototype={on:function(e,t,r){var a=this.actionHandler;if(a[e])throw new Error('There is already an actionName called \"'.concat(e,'\"'));a[e]=[t,r]},send:function(e,t,r){var a={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t};this.postMessage(a,r)},sendWithPromise:function(e,t,r){var a=this.callbackId++,n={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t,callbackId:a},o=(0,i.createPromiseCapability)();this.callbacksCapabilities[a]=o;try{this.postMessage(n,r)}catch(e){o.reject(e)}return o.promise},sendWithStream:function(e,t,r,a){var n=this,o=this.streamId++,s=this.sourceName,c=this.targetName;return new i.ReadableStream({start:function(r){var a=(0,i.createPromiseCapability)();return n.streamControllers[o]={controller:r,startCall:a,isClosed:!1},n.postMessage({sourceName:s,targetName:c,action:e,streamId:o,data:t,desiredSize:r.desiredSize}),a.promise},pull:function(e){var t=(0,i.createPromiseCapability)();return n.streamControllers[o].pullCall=t,n.postMessage({sourceName:s,targetName:c,stream:\"pull\",streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:function(e){var t=(0,i.createPromiseCapability)();return n.streamControllers[o].cancelCall=t,n.streamControllers[o].isClosed=!0,n.postMessage({sourceName:s,targetName:c,stream:\"cancel\",reason:e,streamId:o}),t.promise}},r)},_createStreamSink:function(e){var t=this,r=this,a=this.actionHandler[e.action],n=e.streamId,o=e.desiredSize,s=this.sourceName,l=e.sourceName,u=(0,i.createPromiseCapability)(),h=function(e){var r=e.stream,a=e.chunk,i=e.transfers,o=e.success,c=e.reason;t.postMessage({sourceName:s,targetName:l,stream:r,streamId:n,chunk:a,success:o,reason:c},i)},f={enqueue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var a=this.desiredSize;this.desiredSize-=t,a>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),h({stream:\"enqueue\",chunk:e,transfers:r})}},close:function(){this.isCancelled||(this.isCancelled=!0,h({stream:\"close\"}),delete r.streamSinks[n])},error:function(e){this.isCancelled||(this.isCancelled=!0,h({stream:\"error\",reason:e}))},sinkCapability:u,onPull:null,onCancel:null,isCancelled:!1,desiredSize:o,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[n]=f,c(a[0],[e.data,f],a[1]).then(function(){h({stream:\"start_complete\",success:!0})},function(e){h({stream:\"start_complete\",success:!1,reason:e})})},_processStreamMessage:function(e){var t=this,r=this.sourceName,a=e.sourceName,n=e.streamId,o=function(e){var i=e.stream,o=e.success,s=e.reason;t.comObj.postMessage({sourceName:r,targetName:a,stream:i,success:o,streamId:n,reason:s})},s=function(){Promise.all([t.streamControllers[e.streamId].startCall,t.streamControllers[e.streamId].pullCall,t.streamControllers[e.streamId].cancelCall].map(function(e){return e&&(t=e.promise,Promise.resolve(t).catch(function(){}));var t})).then(function(){delete t.streamControllers[e.streamId]})};switch(e.stream){case\"start_complete\":f(this.streamControllers[e.streamId].startCall,e.success,u(e.reason));break;case\"pull_complete\":f(this.streamControllers[e.streamId].pullCall,e.success,u(e.reason));break;case\"pull\":if(!this.streamSinks[e.streamId]){o({stream:\"pull_complete\",success:!0});break}this.streamSinks[e.streamId].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[e.streamId].sinkCapability.resolve(),this.streamSinks[e.streamId].desiredSize=e.desiredSize,c(this.streamSinks[e.streamId].onPull).then(function(){o({stream:\"pull_complete\",success:!0})},function(e){o({stream:\"pull_complete\",success:!1,reason:e})});break;case\"enqueue\":(0,i.assert)(this.streamControllers[e.streamId],\"enqueue should have stream controller\"),this.streamControllers[e.streamId].isClosed||this.streamControllers[e.streamId].controller.enqueue(e.chunk);break;case\"close\":if((0,i.assert)(this.streamControllers[e.streamId],\"close should have stream controller\"),this.streamControllers[e.streamId].isClosed)break;this.streamControllers[e.streamId].isClosed=!0,this.streamControllers[e.streamId].controller.close(),s();break;case\"error\":(0,i.assert)(this.streamControllers[e.streamId],\"error should have stream controller\"),this.streamControllers[e.streamId].controller.error(u(e.reason)),s();break;case\"cancel_complete\":f(this.streamControllers[e.streamId].cancelCall,e.success,u(e.reason)),s();break;case\"cancel\":if(!this.streamSinks[e.streamId])break;c(this.streamSinks[e.streamId].onCancel,[u(e.reason)]).then(function(){o({stream:\"cancel_complete\",success:!0})},function(e){o({stream:\"cancel_complete\",success:!1,reason:e})}),this.streamSinks[e.streamId].sinkCapability.reject(u(e.reason)),this.streamSinks[e.streamId].isCancelled=!0,delete this.streamSinks[e.streamId];break;default:throw new Error(\"Unexpected stream case\")}},postMessage:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)},destroy:function(){this.comObj.removeEventListener(\"message\",this._onComObjOnMessage)}}}])});","/*!\n * Chart.js v3.7.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).Chart=e()}(this,(function(){\"use strict\";const t=\"undefined\"==typeof window?function(t){return t()}:window.requestAnimationFrame;function e(e,i,s){const n=s||(t=>Array.prototype.slice.call(t));let o=!1,a=[];return function(...s){a=n(s),o||(o=!0,t.call(window,(()=>{o=!1,e.apply(i,a)})))}}function i(t,e){let i;return function(...s){return e?(clearTimeout(i),i=setTimeout(t,e,s)):t.apply(this,s),e}}const s=t=>\"start\"===t?\"left\":\"end\"===t?\"right\":\"center\",n=(t,e,i)=>\"start\"===t?e:\"end\"===t?i:(e+i)/2,o=(t,e,i,s)=>t===(s?\"left\":\"right\")?i:\"center\"===t?(e+i)/2:e;var a=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const n=e.listeners[s],o=e.duration;n.forEach((s=>s({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=t.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((i,s)=>{if(!i.running||!i.items.length)return;const n=i.items;let o,a=n.length-1,r=!1;for(;a>=0;--a)o=n[a],o._active?(o._total>i.duration&&(i.duration=o._total),o.tick(t),r=!0):(n[a]=n[n.length-1],n.pop());r&&(s.draw(),this._notify(s,i,t,\"progress\")),n.length||(i.running=!1,this._notify(s,i,t,\"complete\"),i.initial=!1),e+=n.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),\"complete\")}remove(t){return this._charts.delete(t)}};\n/*!\n * @kurkle/color v0.1.9\n * https://github.com/kurkle/color#readme\n * (c) 2020 Jukka Kurkela\n * Released under the MIT License\n */const r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},l=\"0123456789ABCDEF\",h=t=>l[15&t],c=t=>l[(240&t)>>4]+l[15&t],d=t=>(240&t)>>4==(15&t);function u(t){var e=function(t){return d(t.r)&&d(t.g)&&d(t.b)&&d(t.a)}(t)?h:c;return t?\"#\"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):\"\"):t}function f(t){return t+.5|0}const g=(t,e,i)=>Math.max(Math.min(t,i),e);function p(t){return g(f(2.55*t),0,255)}function m(t){return g(f(255*t),0,255)}function x(t){return g(f(t/2.55)/100,0,1)}function b(t){return g(f(100*t),0,100)}const _=/^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;const y=/^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;function v(t,e,i){const s=e*Math.min(i,1-i),n=(e,n=(e+t/30)%12)=>i-s*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function w(t,e,i){const s=(s,n=(s+t/60)%6)=>i-i*e*Math.max(Math.min(n,4-n,1),0);return[s(5),s(3),s(1)]}function M(t,e,i){const s=v(t,1,.5);let n;for(e+i>1&&(n=1/(e+i),e*=n,i*=n),n=0;n<3;n++)s[n]*=1-e-i,s[n]+=e;return s}function k(t){const e=t.r/255,i=t.g/255,s=t.b/255,n=Math.max(e,i,s),o=Math.min(e,i,s),a=(n+o)/2;let r,l,h;return n!==o&&(h=n-o,l=a>.5?h/(2-n-o):h/(n+o),r=n===e?(i-s)/h+(i<s?6:0):n===i?(s-e)/h+2:(e-i)/h+4,r=60*r+.5),[0|r,l||0,a]}function S(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(m)}function P(t,e,i){return S(v,t,e,i)}function D(t){return(t%360+360)%360}function C(t){const e=y.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?p(+e[5]):m(+e[5]));const n=D(+e[2]),o=+e[3]/100,a=+e[4]/100;return i=\"hwb\"===e[1]?function(t,e,i){return S(M,t,e,i)}(n,o,a):\"hsv\"===e[1]?function(t,e,i){return S(w,t,e,i)}(n,o,a):P(n,o,a),{r:i[0],g:i[1],b:i[2],a:s}}const O={x:\"dark\",Z:\"light\",Y:\"re\",X:\"blu\",W:\"gr\",V:\"medium\",U:\"slate\",A:\"ee\",T:\"ol\",S:\"or\",B:\"ra\",C:\"lateg\",D:\"ights\",R:\"in\",Q:\"turquois\",E:\"hi\",P:\"ro\",O:\"al\",N:\"le\",M:\"de\",L:\"yello\",F:\"en\",K:\"ch\",G:\"arks\",H:\"ea\",I:\"ightg\",J:\"wh\"},A={OiceXe:\"f0f8ff\",antiquewEte:\"faebd7\",aqua:\"ffff\",aquamarRe:\"7fffd4\",azuY:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"0\",blanKedOmond:\"ffebcd\",Xe:\"ff\",XeviTet:\"8a2be2\",bPwn:\"a52a2a\",burlywood:\"deb887\",caMtXe:\"5f9ea0\",KartYuse:\"7fff00\",KocTate:\"d2691e\",cSO:\"ff7f50\",cSnflowerXe:\"6495ed\",cSnsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"ffff\",xXe:\"8b\",xcyan:\"8b8b\",xgTMnPd:\"b8860b\",xWay:\"a9a9a9\",xgYF:\"6400\",xgYy:\"a9a9a9\",xkhaki:\"bdb76b\",xmagFta:\"8b008b\",xTivegYF:\"556b2f\",xSange:\"ff8c00\",xScEd:\"9932cc\",xYd:\"8b0000\",xsOmon:\"e9967a\",xsHgYF:\"8fbc8f\",xUXe:\"483d8b\",xUWay:\"2f4f4f\",xUgYy:\"2f4f4f\",xQe:\"ced1\",xviTet:\"9400d3\",dAppRk:\"ff1493\",dApskyXe:\"bfff\",dimWay:\"696969\",dimgYy:\"696969\",dodgerXe:\"1e90ff\",fiYbrick:\"b22222\",flSOwEte:\"fffaf0\",foYstWAn:\"228b22\",fuKsia:\"ff00ff\",gaRsbSo:\"dcdcdc\",ghostwEte:\"f8f8ff\",gTd:\"ffd700\",gTMnPd:\"daa520\",Way:\"808080\",gYF:\"8000\",gYFLw:\"adff2f\",gYy:\"808080\",honeyMw:\"f0fff0\",hotpRk:\"ff69b4\",RdianYd:\"cd5c5c\",Rdigo:\"4b0082\",ivSy:\"fffff0\",khaki:\"f0e68c\",lavFMr:\"e6e6fa\",lavFMrXsh:\"fff0f5\",lawngYF:\"7cfc00\",NmoncEffon:\"fffacd\",ZXe:\"add8e6\",ZcSO:\"f08080\",Zcyan:\"e0ffff\",ZgTMnPdLw:\"fafad2\",ZWay:\"d3d3d3\",ZgYF:\"90ee90\",ZgYy:\"d3d3d3\",ZpRk:\"ffb6c1\",ZsOmon:\"ffa07a\",ZsHgYF:\"20b2aa\",ZskyXe:\"87cefa\",ZUWay:\"778899\",ZUgYy:\"778899\",ZstAlXe:\"b0c4de\",ZLw:\"ffffe0\",lime:\"ff00\",limegYF:\"32cd32\",lRF:\"faf0e6\",magFta:\"ff00ff\",maPon:\"800000\",VaquamarRe:\"66cdaa\",VXe:\"cd\",VScEd:\"ba55d3\",VpurpN:\"9370db\",VsHgYF:\"3cb371\",VUXe:\"7b68ee\",VsprRggYF:\"fa9a\",VQe:\"48d1cc\",VviTetYd:\"c71585\",midnightXe:\"191970\",mRtcYam:\"f5fffa\",mistyPse:\"ffe4e1\",moccasR:\"ffe4b5\",navajowEte:\"ffdead\",navy:\"80\",Tdlace:\"fdf5e6\",Tive:\"808000\",TivedBb:\"6b8e23\",Sange:\"ffa500\",SangeYd:\"ff4500\",ScEd:\"da70d6\",pOegTMnPd:\"eee8aa\",pOegYF:\"98fb98\",pOeQe:\"afeeee\",pOeviTetYd:\"db7093\",papayawEp:\"ffefd5\",pHKpuff:\"ffdab9\",peru:\"cd853f\",pRk:\"ffc0cb\",plum:\"dda0dd\",powMrXe:\"b0e0e6\",purpN:\"800080\",YbeccapurpN:\"663399\",Yd:\"ff0000\",Psybrown:\"bc8f8f\",PyOXe:\"4169e1\",saddNbPwn:\"8b4513\",sOmon:\"fa8072\",sandybPwn:\"f4a460\",sHgYF:\"2e8b57\",sHshell:\"fff5ee\",siFna:\"a0522d\",silver:\"c0c0c0\",skyXe:\"87ceeb\",UXe:\"6a5acd\",UWay:\"708090\",UgYy:\"708090\",snow:\"fffafa\",sprRggYF:\"ff7f\",stAlXe:\"4682b4\",tan:\"d2b48c\",teO:\"8080\",tEstN:\"d8bfd8\",tomato:\"ff6347\",Qe:\"40e0d0\",viTet:\"ee82ee\",JHt:\"f5deb3\",wEte:\"ffffff\",wEtesmoke:\"f5f5f5\",Lw:\"ffff00\",LwgYF:\"9acd32\"};let T;function L(t){T||(T=function(){const t={},e=Object.keys(A),i=Object.keys(O);let s,n,o,a,r;for(s=0;s<e.length;s++){for(a=r=e[s],n=0;n<i.length;n++)o=i[n],r=r.replace(o,O[o]);o=parseInt(A[a],16),t[r]=[o>>16&255,o>>8&255,255&o]}return t}(),T.transparent=[0,0,0,0]);const e=T[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function R(t,e,i){if(t){let s=k(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,0===e?360:1)),s=P(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function E(t,e){return t?Object.assign(e||{},t):t}function I(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=m(t[3]))):(e=E(t,{r:0,g:0,b:0,a:1})).a=m(e.a),e}function z(t){return\"r\"===t.charAt(0)?function(t){const e=_.exec(t);let i,s,n,o=255;if(e){if(e[7]!==i){const t=+e[7];o=255&(e[8]?p(t):255*t)}return i=+e[1],s=+e[3],n=+e[5],i=255&(e[2]?p(i):i),s=255&(e[4]?p(s):s),n=255&(e[6]?p(n):n),{r:i,g:s,b:n,a:o}}}(t):C(t)}class F{constructor(t){if(t instanceof F)return t;const e=typeof t;let i;var s,n,o;\"object\"===e?i=I(t):\"string\"===e&&(o=(s=t).length,\"#\"===s[0]&&(4===o||5===o?n={r:255&17*r[s[1]],g:255&17*r[s[2]],b:255&17*r[s[3]],a:5===o?17*r[s[4]]:255}:7!==o&&9!==o||(n={r:r[s[1]]<<4|r[s[2]],g:r[s[3]]<<4|r[s[4]],b:r[s[5]]<<4|r[s[6]],a:9===o?r[s[7]]<<4|r[s[8]]:255})),i=n||L(t)||z(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=E(this._rgb);return t&&(t.a=x(t.a)),t}set rgb(t){this._rgb=I(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${x(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):this._rgb;var t}hexString(){return this._valid?u(this._rgb):this._rgb}hslString(){return this._valid?function(t){if(!t)return;const e=k(t),i=e[0],s=b(e[1]),n=b(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${n}%, ${x(t.a)})`:`hsl(${i}, ${s}%, ${n}%)`}(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const s=i.rgb,n=t.rgb;let o;const a=e===o?.5:e,r=2*a-1,l=s.a-n.a,h=((r*l==-1?r:(r+l)/(1+r*l))+1)/2;o=1-h,s.r=255&h*s.r+o*n.r+.5,s.g=255&h*s.g+o*n.g+.5,s.b=255&h*s.b+o*n.b+.5,s.a=a*s.a+(1-a)*n.a,i.rgb=s}return i}clone(){return new F(this.rgb)}alpha(t){return this._rgb.a=m(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=f(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return R(this._rgb,2,t),this}darken(t){return R(this._rgb,2,-t),this}saturate(t){return R(this._rgb,1,t),this}desaturate(t){return R(this._rgb,1,-t),this}rotate(t){return function(t,e){var i=k(t);i[0]=D(i[0]+e),i=P(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,t),this}}function B(t){return new F(t)}const V=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function W(t){return V(t)?t:B(t)}function N(t){return V(t)?t:B(t).saturate(.5).darken(.1).hexString()}function H(){}const j=function(){let t=0;return function(){return t++}}();function $(t){return null==t}function Y(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return\"[object\"===e.substr(0,7)&&\"Array]\"===e.substr(-6)}function U(t){return null!==t&&\"[object Object]\"===Object.prototype.toString.call(t)}const X=t=>(\"number\"==typeof t||t instanceof Number)&&isFinite(+t);function q(t,e){return X(t)?t:e}function K(t,e){return void 0===t?e:t}const G=(t,e)=>\"string\"==typeof t&&t.endsWith(\"%\")?parseFloat(t)/100:t/e,Z=(t,e)=>\"string\"==typeof t&&t.endsWith(\"%\")?parseFloat(t)/100*e:+t;function J(t,e,i){if(t&&\"function\"==typeof t.call)return t.apply(i,e)}function Q(t,e,i,s){let n,o,a;if(Y(t))if(o=t.length,s)for(n=o-1;n>=0;n--)e.call(i,t[n],n);else for(n=0;n<o;n++)e.call(i,t[n],n);else if(U(t))for(a=Object.keys(t),o=a.length,n=0;n<o;n++)e.call(i,t[a[n]],a[n])}function tt(t,e){let i,s,n,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,s=t.length;i<s;++i)if(n=t[i],o=e[i],n.datasetIndex!==o.datasetIndex||n.index!==o.index)return!1;return!0}function et(t){if(Y(t))return t.map(et);if(U(t)){const e=Object.create(null),i=Object.keys(t),s=i.length;let n=0;for(;n<s;++n)e[i[n]]=et(t[i[n]]);return e}return t}function it(t){return-1===[\"__proto__\",\"prototype\",\"constructor\"].indexOf(t)}function st(t,e,i,s){if(!it(t))return;const n=e[t],o=i[t];U(n)&&U(o)?nt(n,o,s):e[t]=et(o)}function nt(t,e,i){const s=Y(e)?e:[e],n=s.length;if(!U(t))return t;const o=(i=i||{}).merger||st;for(let a=0;a<n;++a){if(!U(e=s[a]))continue;const n=Object.keys(e);for(let s=0,a=n.length;s<a;++s)o(n[s],t,e,i)}return t}function ot(t,e){return nt(t,e,{merger:at})}function at(t,e,i){if(!it(t))return;const s=e[t],n=i[t];U(s)&&U(n)?ot(s,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=et(n))}function rt(t,e){const i=t.indexOf(\".\",e);return-1===i?t.length:i}function lt(t,e){if(\"\"===e)return t;let i=0,s=rt(e,i);for(;t&&s>i;)t=t[e.substr(i,s-i)],i=s+1,s=rt(e,i);return t}function ht(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ct=t=>void 0!==t,dt=t=>\"function\"==typeof t,ut=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};function ft(t){return\"mouseup\"===t.type||\"click\"===t.type||\"contextmenu\"===t.type}const gt=Object.create(null),pt=Object.create(null);function mt(t,e){if(!e)return t;const i=e.split(\".\");for(let e=0,s=i.length;e<s;++e){const s=i[e];t=t[s]||(t[s]=Object.create(null))}return t}function xt(t,e,i){return\"string\"==typeof e?nt(mt(t,e),i):nt(mt(t,\"\"),e)}var bt=new class{constructor(t){this.animation=void 0,this.backgroundColor=\"rgba(0,0,0,0.1)\",this.borderColor=\"rgba(0,0,0,0.1)\",this.color=\"#666\",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=[\"mousemove\",\"mouseout\",\"click\",\"touchstart\",\"touchmove\"],this.font={family:\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",size:12,style:\"normal\",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>N(e.backgroundColor),this.hoverBorderColor=(t,e)=>N(e.borderColor),this.hoverColor=(t,e)=>N(e.color),this.indexAxis=\"x\",this.interaction={mode:\"nearest\",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return xt(this,t,e)}get(t){return mt(this,t)}describe(t,e){return xt(pt,t,e)}override(t,e){return xt(gt,t,e)}route(t,e,i,s){const n=mt(this,t),o=mt(this,i),a=\"_\"+e;Object.defineProperties(n,{[a]:{value:n[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[a],e=o[s];return U(t)?Object.assign({},e,t):K(t,e)},set(t){this[a]=t}}})}}({_scriptable:t=>!t.startsWith(\"on\"),_indexable:t=>\"events\"!==t,hover:{_fallback:\"interaction\"},interaction:{_scriptable:!1,_indexable:!1}});const _t=Math.PI,yt=2*_t,vt=yt+_t,wt=Number.POSITIVE_INFINITY,Mt=_t/180,kt=_t/2,St=_t/4,Pt=2*_t/3,Dt=Math.log10,Ct=Math.sign;function Ot(t){const e=Math.round(t);t=Lt(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(Dt(t))),s=t/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function At(t){const e=[],i=Math.sqrt(t);let s;for(s=1;s<i;s++)t%s==0&&(e.push(s),e.push(t/s));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}function Tt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Lt(t,e,i){return Math.abs(t-e)<i}function Rt(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function Et(t,e,i){let s,n,o;for(s=0,n=t.length;s<n;s++)o=t[s][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function It(t){return t*(_t/180)}function zt(t){return t*(180/_t)}function Ft(t){if(!X(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function Bt(t,e){const i=e.x-t.x,s=e.y-t.y,n=Math.sqrt(i*i+s*s);let o=Math.atan2(s,i);return o<-.5*_t&&(o+=yt),{angle:o,distance:n}}function Vt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Wt(t,e){return(t-e+vt)%yt-_t}function Nt(t){return(t%yt+yt)%yt}function Ht(t,e,i,s){const n=Nt(t),o=Nt(e),a=Nt(i),r=Nt(o-n),l=Nt(a-n),h=Nt(n-o),c=Nt(n-a);return n===o||n===a||s&&o===a||r>l&&h<c}function jt(t,e,i){return Math.max(e,Math.min(i,t))}function $t(t){return jt(t,-32768,32767)}function Yt(t,e,i,s=1e-6){return t>=Math.min(e,i)-s&&t<=Math.max(e,i)+s}function Ut(t){return!t||$(t.size)||$(t.family)?null:(t.style?t.style+\" \":\"\")+(t.weight?t.weight+\" \":\"\")+t.size+\"px \"+t.family}function Xt(t,e,i,s,n){let o=e[n];return o||(o=e[n]=t.measureText(n).width,i.push(n)),o>s&&(s=o),s}function qt(t,e,i,s){let n=(s=s||{}).data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(n=s.data={},o=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let a=0;const r=i.length;let l,h,c,d,u;for(l=0;l<r;l++)if(d=i[l],null!=d&&!0!==Y(d))a=Xt(t,n,o,a,d);else if(Y(d))for(h=0,c=d.length;h<c;h++)u=d[h],null==u||Y(u)||(a=Xt(t,n,o,a,u));t.restore();const f=o.length/2;if(f>i.length){for(l=0;l<f;l++)delete n[o[l]];o.splice(0,f)}return a}function Kt(t,e,i){const s=t.currentDevicePixelRatio,n=0!==i?Math.max(i/2,.5):0;return Math.round((e-n)*s)/s+n}function Gt(t,e){(e=e||t.getContext(\"2d\")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Zt(t,e,i,s){let n,o,a,r,l;const h=e.pointStyle,c=e.rotation,d=e.radius;let u=(c||0)*Mt;if(h&&\"object\"==typeof h&&(n=h.toString(),\"[object HTMLImageElement]\"===n||\"[object HTMLCanvasElement]\"===n))return t.save(),t.translate(i,s),t.rotate(u),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void t.restore();if(!(isNaN(d)||d<=0)){switch(t.beginPath(),h){default:t.arc(i,s,d,0,yt),t.closePath();break;case\"triangle\":t.moveTo(i+Math.sin(u)*d,s-Math.cos(u)*d),u+=Pt,t.lineTo(i+Math.sin(u)*d,s-Math.cos(u)*d),u+=Pt,t.lineTo(i+Math.sin(u)*d,s-Math.cos(u)*d),t.closePath();break;case\"rectRounded\":l=.516*d,r=d-l,o=Math.cos(u+St)*r,a=Math.sin(u+St)*r,t.arc(i-o,s-a,l,u-_t,u-kt),t.arc(i+a,s-o,l,u-kt,u),t.arc(i+o,s+a,l,u,u+kt),t.arc(i-a,s+o,l,u+kt,u+_t),t.closePath();break;case\"rect\":if(!c){r=Math.SQRT1_2*d,t.rect(i-r,s-r,2*r,2*r);break}u+=St;case\"rectRot\":o=Math.cos(u)*d,a=Math.sin(u)*d,t.moveTo(i-o,s-a),t.lineTo(i+a,s-o),t.lineTo(i+o,s+a),t.lineTo(i-a,s+o),t.closePath();break;case\"crossRot\":u+=St;case\"cross\":o=Math.cos(u)*d,a=Math.sin(u)*d,t.moveTo(i-o,s-a),t.lineTo(i+o,s+a),t.moveTo(i+a,s-o),t.lineTo(i-a,s+o);break;case\"star\":o=Math.cos(u)*d,a=Math.sin(u)*d,t.moveTo(i-o,s-a),t.lineTo(i+o,s+a),t.moveTo(i+a,s-o),t.lineTo(i-a,s+o),u+=St,o=Math.cos(u)*d,a=Math.sin(u)*d,t.moveTo(i-o,s-a),t.lineTo(i+o,s+a),t.moveTo(i+a,s-o),t.lineTo(i-a,s+o);break;case\"line\":o=Math.cos(u)*d,a=Math.sin(u)*d,t.moveTo(i-o,s-a),t.lineTo(i+o,s+a);break;case\"dash\":t.moveTo(i,s),t.lineTo(i+Math.cos(u)*d,s+Math.sin(u)*d)}t.fill(),e.borderWidth>0&&t.stroke()}}function Jt(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Qt(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function te(t){t.restore()}function ee(t,e,i,s,n){if(!e)return t.lineTo(i.x,i.y);if(\"middle\"===n){const s=(e.x+i.x)/2;t.lineTo(s,e.y),t.lineTo(s,i.y)}else\"after\"===n!=!!s?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function ie(t,e,i,s){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function se(t,e,i,s,n,o={}){const a=Y(e)?e:[e],r=o.strokeWidth>0&&\"\"!==o.strokeColor;let l,h;for(t.save(),t.font=n.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]);$(e.rotation)||t.rotate(e.rotation);e.color&&(t.fillStyle=e.color);e.textAlign&&(t.textAlign=e.textAlign);e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,o),l=0;l<a.length;++l)h=a[l],r&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),$(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(h,i,s,o.maxWidth)),t.fillText(h,i,s,o.maxWidth),ne(t,i,s,h,o),s+=n.lineHeight;t.restore()}function ne(t,e,i,s,n){if(n.strikethrough||n.underline){const o=t.measureText(s),a=e-o.actualBoundingBoxLeft,r=e+o.actualBoundingBoxRight,l=i-o.actualBoundingBoxAscent,h=i+o.actualBoundingBoxDescent,c=n.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(a,c),t.lineTo(r,c),t.stroke()}}function oe(t,e){const{x:i,y:s,w:n,h:o,radius:a}=e;t.arc(i+a.topLeft,s+a.topLeft,a.topLeft,-kt,_t,!0),t.lineTo(i,s+o-a.bottomLeft),t.arc(i+a.bottomLeft,s+o-a.bottomLeft,a.bottomLeft,_t,kt,!0),t.lineTo(i+n-a.bottomRight,s+o),t.arc(i+n-a.bottomRight,s+o-a.bottomRight,a.bottomRight,kt,0,!0),t.lineTo(i+n,s+a.topRight),t.arc(i+n-a.topRight,s+a.topRight,a.topRight,0,-kt,!0),t.lineTo(i+a.topLeft,s)}function ae(t,e,i){i=i||(i=>t[i]<e);let s,n=t.length-1,o=0;for(;n-o>1;)s=o+n>>1,i(s)?o=s:n=s;return{lo:o,hi:n}}const re=(t,e,i)=>ae(t,i,(s=>t[s][e]<i)),le=(t,e,i)=>ae(t,i,(s=>t[s][e]>=i));function he(t,e,i){let s=0,n=t.length;for(;s<n&&t[s]<e;)s++;for(;n>s&&t[n-1]>i;)n--;return s>0||n<t.length?t.slice(s,n):t}const ce=[\"push\",\"pop\",\"shift\",\"splice\",\"unshift\"];function de(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,\"_chartjs\",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ce.forEach((e=>{const i=\"_onData\"+ht(e),s=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const n=s.apply(this,e);return t._chartjs.listeners.forEach((t=>{\"function\"==typeof t[i]&&t[i](...e)})),n}})})))}function ue(t,e){const i=t._chartjs;if(!i)return;const s=i.listeners,n=s.indexOf(e);-1!==n&&s.splice(n,1),s.length>0||(ce.forEach((e=>{delete t[e]})),delete t._chartjs)}function fe(t){const e=new Set;let i,s;for(i=0,s=t.length;i<s;++i)e.add(t[i]);return e.size===s?t:Array.from(e)}function ge(){return\"undefined\"!=typeof window&&\"undefined\"!=typeof document}function pe(t){let e=t.parentNode;return e&&\"[object ShadowRoot]\"===e.toString()&&(e=e.host),e}function me(t,e,i){let s;return\"string\"==typeof t?(s=parseInt(t,10),-1!==t.indexOf(\"%\")&&(s=s/100*e.parentNode[i])):s=t,s}const xe=t=>window.getComputedStyle(t,null);function be(t,e){return xe(t).getPropertyValue(e)}const _e=[\"top\",\"right\",\"bottom\",\"left\"];function ye(t,e,i){const s={};i=i?\"-\"+i:\"\";for(let n=0;n<4;n++){const o=_e[n];s[o]=parseFloat(t[e+\"-\"+o+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function ve(t,e){const{canvas:i,currentDevicePixelRatio:s}=e,n=xe(i),o=\"border-box\"===n.boxSizing,a=ye(n,\"padding\"),r=ye(n,\"border\",\"width\"),{x:l,y:h,box:c}=function(t,e){const i=t.native||t,s=i.touches,n=s&&s.length?s[0]:i,{offsetX:o,offsetY:a}=n;let r,l,h=!1;if(((t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot))(o,a,i.target))r=o,l=a;else{const t=e.getBoundingClientRect();r=n.clientX-t.left,l=n.clientY-t.top,h=!0}return{x:r,y:l,box:h}}(t,i),d=a.left+(c&&r.left),u=a.top+(c&&r.top);let{width:f,height:g}=e;return o&&(f-=a.width+r.width,g-=a.height+r.height),{x:Math.round((l-d)/f*i.width/s),y:Math.round((h-u)/g*i.height/s)}}const we=t=>Math.round(10*t)/10;function Me(t,e,i,s){const n=xe(t),o=ye(n,\"margin\"),a=me(n.maxWidth,t,\"clientWidth\")||wt,r=me(n.maxHeight,t,\"clientHeight\")||wt,l=function(t,e,i){let s,n;if(void 0===e||void 0===i){const o=pe(t);if(o){const t=o.getBoundingClientRect(),a=xe(o),r=ye(a,\"border\",\"width\"),l=ye(a,\"padding\");e=t.width-l.width-r.width,i=t.height-l.height-r.height,s=me(a.maxWidth,o,\"clientWidth\"),n=me(a.maxHeight,o,\"clientHeight\")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:s||wt,maxHeight:n||wt}}(t,e,i);let{width:h,height:c}=l;if(\"content-box\"===n.boxSizing){const t=ye(n,\"border\",\"width\"),e=ye(n,\"padding\");h-=e.width+t.width,c-=e.height+t.height}return h=Math.max(0,h-o.width),c=Math.max(0,s?Math.floor(h/s):c-o.height),h=we(Math.min(h,a,l.maxWidth)),c=we(Math.min(c,r,l.maxHeight)),h&&!c&&(c=we(h/2)),{width:h,height:c}}function ke(t,e,i){const s=e||1,n=Math.floor(t.height*s),o=Math.floor(t.width*s);t.height=n/s,t.width=o/s;const a=t.canvas;return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==s||a.height!==n||a.width!==o)&&(t.currentDevicePixelRatio=s,a.height=n,a.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0)}const Se=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener(\"test\",null,e),window.removeEventListener(\"test\",null,e)}catch(t){}return t}();function Pe(t,e){const i=be(t,e),s=i&&i.match(/^(\\d+)(\\.\\d+)?px$/);return s?+s[1]:void 0}function De(t,e){return\"native\"in t?{x:t.x,y:t.y}:ve(t,e)}function Ce(t,e,i,s){const{controller:n,data:o,_sorted:a}=t,r=n._cachedMeta.iScale;if(r&&e===r.axis&&\"r\"!==e&&a&&o.length){const t=r._reversePixels?le:re;if(!s)return t(o,e,i);if(n._sharedOptions){const s=o[0],n=\"function\"==typeof s.getRange&&s.getRange(e);if(n){const s=t(o,e,i-n),a=t(o,e,i+n);return{lo:s.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function Oe(t,e,i,s,n){const o=t.getSortedVisibleDatasetMetas(),a=i[e];for(let t=0,i=o.length;t<i;++t){const{index:i,data:r}=o[t],{lo:l,hi:h}=Ce(o[t],e,a,n);for(let t=l;t<=h;++t){const e=r[t];e.skip||s(e,i,t)}}}function Ae(t,e,i,s){const n=[];if(!Jt(e,t.chartArea,t._minPadding))return n;return Oe(t,i,e,(function(t,i,o){t.inRange(e.x,e.y,s)&&n.push({element:t,datasetIndex:i,index:o})}),!0),n}function Te(t,e,i,s,n){let o=[];const a=function(t){const e=-1!==t.indexOf(\"x\"),i=-1!==t.indexOf(\"y\");return function(t,s){const n=e?Math.abs(t.x-s.x):0,o=i?Math.abs(t.y-s.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))}}(i);let r=Number.POSITIVE_INFINITY;return Oe(t,i,e,(function(i,l,h){const c=i.inRange(e.x,e.y,n);if(s&&!c)return;const d=i.getCenterPoint(n);if(!Jt(d,t.chartArea,t._minPadding)&&!c)return;const u=a(e,d);u<r?(o=[{element:i,datasetIndex:l,index:h}],r=u):u===r&&o.push({element:i,datasetIndex:l,index:h})})),o}function Le(t,e,i,s,n){return Jt(e,t.chartArea,t._minPadding)?\"r\"!==i||s?Te(t,e,i,s,n):function(t,e,i,s){let n=[];return Oe(t,i,e,(function(t,i,o){const{startAngle:a,endAngle:r}=t.getProps([\"startAngle\",\"endAngle\"],s),{angle:l}=Bt(t,{x:e.x,y:e.y});Ht(l,a,r)&&n.push({element:t,datasetIndex:i,index:o})})),n}(t,e,i,n):[]}function Re(t,e,i,s){const n=De(e,t),o=[],a=i.axis,r=\"x\"===a?\"inXRange\":\"inYRange\";let l=!1;return function(t,e){const i=t.getSortedVisibleDatasetMetas();let s,n,o;for(let t=0,a=i.length;t<a;++t){({index:s,data:n}=i[t]);for(let t=0,i=n.length;t<i;++t)o=n[t],o.skip||e(o,s,t)}}(t,((t,e,i)=>{t[r](n[a],s)&&o.push({element:t,datasetIndex:e,index:i}),t.inRange(n.x,n.y,s)&&(l=!0)})),i.intersect&&!l?[]:o}var Ee={modes:{index(t,e,i,s){const n=De(e,t),o=i.axis||\"x\",a=i.intersect?Ae(t,n,o,s):Le(t,n,o,!1,s),r=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,i=t.data[e];i&&!i.skip&&r.push({element:i,datasetIndex:t.index,index:e})})),r):[]},dataset(t,e,i,s){const n=De(e,t),o=i.axis||\"xy\";let a=i.intersect?Ae(t,n,o,s):Le(t,n,o,!1,s);if(a.length>0){const e=a[0].datasetIndex,i=t.getDatasetMeta(e).data;a=[];for(let t=0;t<i.length;++t)a.push({element:i[t],datasetIndex:e,index:t})}return a},point:(t,e,i,s)=>Ae(t,De(e,t),i.axis||\"xy\",s),nearest:(t,e,i,s)=>Le(t,De(e,t),i.axis||\"xy\",i.intersect,s),x:(t,e,i,s)=>Re(t,e,{axis:\"x\",intersect:i.intersect},s),y:(t,e,i,s)=>Re(t,e,{axis:\"y\",intersect:i.intersect},s)}};const Ie=new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/),ze=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Fe(t,e){const i=(\"\"+t).match(Ie);if(!i||\"normal\"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case\"px\":return t;case\"%\":t/=100}return e*t}function Be(t,e){const i={},s=U(e),n=s?Object.keys(e):e,o=U(t)?s?i=>K(t[i],t[e[i]]):e=>t[e]:()=>t;for(const t of n)i[t]=+o(t)||0;return i}function Ve(t){return Be(t,{top:\"y\",right:\"x\",bottom:\"y\",left:\"x\"})}function We(t){return Be(t,[\"topLeft\",\"topRight\",\"bottomLeft\",\"bottomRight\"])}function Ne(t){const e=Ve(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function He(t,e){t=t||{},e=e||bt.font;let i=K(t.size,e.size);\"string\"==typeof i&&(i=parseInt(i,10));let s=K(t.style,e.style);s&&!(\"\"+s).match(ze)&&(console.warn('Invalid font style specified: \"'+s+'\"'),s=\"\");const n={family:K(t.family,e.family),lineHeight:Fe(K(t.lineHeight,e.lineHeight),i),size:i,style:s,weight:K(t.weight,e.weight),string:\"\"};return n.string=Ut(n),n}function je(t,e,i,s){let n,o,a,r=!0;for(n=0,o=t.length;n<o;++n)if(a=t[n],void 0!==a&&(void 0!==e&&\"function\"==typeof a&&(a=a(e),r=!1),void 0!==i&&Y(a)&&(a=a[i%a.length],r=!1),void 0!==a))return s&&!r&&(s.cacheable=!1),a}function $e(t,e,i){const{min:s,max:n}=t,o=Z(e,(n-s)/2),a=(t,e)=>i&&0===t?0:t+e;return{min:a(s,-Math.abs(o)),max:a(n,o)}}function Ye(t,e){return Object.assign(Object.create(t),e)}const Ue=[\"left\",\"top\",\"right\",\"bottom\"];function Xe(t,e){return t.filter((t=>t.pos===e))}function qe(t,e){return t.filter((t=>-1===Ue.indexOf(t.pos)&&t.box.axis===e))}function Ke(t,e){return t.sort(((t,i)=>{const s=e?i:t,n=e?t:i;return s.weight===n.weight?s.index-n.index:s.weight-n.weight}))}function Ge(t,e){const i=function(t){const e={};for(const i of t){const{stack:t,pos:s,stackWeight:n}=i;if(!t||!Ue.includes(s))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=n}return e}(t),{vBoxMaxWidth:s,hBoxMaxHeight:n}=e;let o,a,r;for(o=0,a=t.length;o<a;++o){r=t[o];const{fullSize:a}=r.box,l=i[r.stack],h=l&&r.stackWeight/l.weight;r.horizontal?(r.width=h?h*s:a&&e.availableWidth,r.height=n):(r.width=s,r.height=h?h*n:a&&e.availableHeight)}return i}function Ze(t,e,i,s){return Math.max(t[i],e[i])+Math.max(t[s],e[s])}function Je(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Qe(t,e,i,s){const{pos:n,box:o}=i,a=t.maxPadding;if(!U(n)){i.size&&(t[n]-=i.size);const e=s[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?o.height:o.width),i.size=e.size/e.count,t[n]+=i.size}o.getPadding&&Je(a,o.getPadding());const r=Math.max(0,e.outerWidth-Ze(a,t,\"left\",\"right\")),l=Math.max(0,e.outerHeight-Ze(a,t,\"top\",\"bottom\")),h=r!==t.w,c=l!==t.h;return t.w=r,t.h=l,i.horizontal?{same:h,other:c}:{same:c,other:h}}function ti(t,e){const i=e.maxPadding;function s(t){const s={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{s[t]=Math.max(e[t],i[t])})),s}return s(t?[\"left\",\"right\"]:[\"top\",\"bottom\"])}function ei(t,e,i,s){const n=[];let o,a,r,l,h,c;for(o=0,a=t.length,h=0;o<a;++o){r=t[o],l=r.box,l.update(r.width||e.w,r.height||e.h,ti(r.horizontal,e));const{same:a,other:d}=Qe(e,i,r,s);h|=a&&n.length,c=c||d,l.fullSize||n.push(r)}return h&&ei(n,e,i,s)||c}function ii(t,e,i,s,n){t.top=i,t.left=e,t.right=e+s,t.bottom=i+n,t.width=s,t.height=n}function si(t,e,i,s){const n=i.padding;let{x:o,y:a}=e;for(const r of t){const t=r.box,l=s[r.stack]||{count:1,placed:0,weight:1},h=r.stackWeight/l.weight||1;if(r.horizontal){const s=e.w*h,o=l.size||t.height;ct(l.start)&&(a=l.start),t.fullSize?ii(t,n.left,a,i.outerWidth-n.right-n.left,o):ii(t,e.left+l.placed,a,s,o),l.start=a,l.placed+=s,a=t.bottom}else{const s=e.h*h,a=l.size||t.width;ct(l.start)&&(o=l.start),t.fullSize?ii(t,o,n.top,a,i.outerHeight-n.bottom-n.top):ii(t,o,e.top+l.placed,a,s),l.start=o,l.placed+=s,o=t.right}}e.x=o,e.y=a}bt.set(\"layout\",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ni={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||\"top\",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,s){if(!t)return;const n=Ne(t.options.layout.padding),o=Math.max(e-n.width,0),a=Math.max(i-n.height,0),r=function(t){const e=function(t){const e=[];let i,s,n,o,a,r;for(i=0,s=(t||[]).length;i<s;++i)n=t[i],({position:o,options:{stack:a,stackWeight:r=1}}=n),e.push({index:i,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&o+a,stackWeight:r});return e}(t),i=Ke(e.filter((t=>t.box.fullSize)),!0),s=Ke(Xe(e,\"left\"),!0),n=Ke(Xe(e,\"right\")),o=Ke(Xe(e,\"top\"),!0),a=Ke(Xe(e,\"bottom\")),r=qe(e,\"x\"),l=qe(e,\"y\");return{fullSize:i,leftAndTop:s.concat(o),rightAndBottom:n.concat(l).concat(a).concat(r),chartArea:Xe(e,\"chartArea\"),vertical:s.concat(n).concat(l),horizontal:o.concat(a).concat(r)}}(t.boxes),l=r.vertical,h=r.horizontal;Q(t.boxes,(t=>{\"function\"==typeof t.beforeLayout&&t.beforeLayout()}));const c=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,d=Object.freeze({outerWidth:e,outerHeight:i,padding:n,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/c,hBoxMaxHeight:a/2}),u=Object.assign({},n);Je(u,Ne(s));const f=Object.assign({maxPadding:u,w:o,h:a,x:n.left,y:n.top},n),g=Ge(l.concat(h),d);ei(r.fullSize,f,d,g),ei(l,f,d,g),ei(h,f,d,g)&&ei(l,f,d,g),function(t){const e=t.maxPadding;function i(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=i(\"top\"),t.x+=i(\"left\"),i(\"right\"),i(\"bottom\")}(f),si(r.leftAndTop,f,d,g),f.x+=f.w,f.y+=f.h,si(r.rightAndBottom,f,d,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Q(r.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};function oi(t,e=[\"\"],i=t,s,n=(()=>t[0])){ct(s)||(s=mi(\"_fallback\",t));const o={[Symbol.toStringTag]:\"Object\",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:n,override:n=>oi([n,...t],e,i,s)};return new Proxy(o,{deleteProperty:(e,i)=>(delete e[i],delete e._keys,delete t[0][i],!0),get:(i,s)=>ci(i,s,(()=>function(t,e,i,s){let n;for(const o of e)if(n=mi(li(o,t),i),ct(n))return hi(t,n)?gi(i,s,t,n):n}(s,e,t,i))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>xi(t).includes(e),ownKeys:t=>xi(t),set(t,e,i){const s=t._storage||(t._storage=n());return t[e]=s[e]=i,delete t._keys,!0}})}function ai(t,e,i,s){const n={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:ri(t,s),setContext:e=>ai(t,e,i,s),override:n=>ai(t.override(n),e,i,s)};return new Proxy(n,{deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),get:(t,e,i)=>ci(t,e,(()=>function(t,e,i){const{_proxy:s,_context:n,_subProxy:o,_descriptors:a}=t;let r=s[e];dt(r)&&a.isScriptable(e)&&(r=function(t,e,i,s){const{_proxy:n,_context:o,_subProxy:a,_stack:r}=i;if(r.has(t))throw new Error(\"Recursion detected: \"+Array.from(r).join(\"->\")+\"->\"+t);r.add(t),e=e(o,a||s),r.delete(t),hi(t,e)&&(e=gi(n._scopes,n,t,e));return e}(e,r,t,i));Y(r)&&r.length&&(r=function(t,e,i,s){const{_proxy:n,_context:o,_subProxy:a,_descriptors:r}=i;if(ct(o.index)&&s(t))e=e[o.index%e.length];else if(U(e[0])){const i=e,s=n._scopes.filter((t=>t!==i));e=[];for(const l of i){const i=gi(s,n,t,l);e.push(ai(i,o,a&&a[t],r))}}return e}(e,r,t,a.isIndexable));hi(e,r)&&(r=ai(r,n,o&&o[e],a));return r}(t,e,i))),getOwnPropertyDescriptor:(e,i)=>e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,i)=>Reflect.has(t,i),ownKeys:()=>Reflect.ownKeys(t),set:(e,i,s)=>(t[i]=s,delete e[i],!0)})}function ri(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:s=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:i,indexable:s,isScriptable:dt(i)?i:()=>i,isIndexable:dt(s)?s:()=>s}}const li=(t,e)=>t?t+ht(e):e,hi=(t,e)=>U(e)&&\"adapters\"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function ci(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const s=i();return t[e]=s,s}function di(t,e,i){return dt(t)?t(e,i):t}const ui=(t,e)=>!0===t?e:\"string\"==typeof t?lt(e,t):void 0;function fi(t,e,i,s,n){for(const o of e){const e=ui(i,o);if(e){t.add(e);const o=di(e._fallback,i,n);if(ct(o)&&o!==i&&o!==s)return o}else if(!1===e&&ct(s)&&i!==s)return null}return!1}function gi(t,e,i,s){const n=e._rootScopes,o=di(e._fallback,i,s),a=[...t,...n],r=new Set;r.add(s);let l=pi(r,a,i,o||i,s);return null!==l&&((!ct(o)||o===i||(l=pi(r,a,o,l,s),null!==l))&&oi(Array.from(r),[\"\"],n,o,(()=>function(t,e,i){const s=t._getTarget();e in s||(s[e]={});const n=s[e];if(Y(n)&&U(i))return i;return n}(e,i,s))))}function pi(t,e,i,s,n){for(;i;)i=fi(t,e,i,s,n);return i}function mi(t,e){for(const i of e){if(!i)continue;const e=i[t];if(ct(e))return e}}function xi(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter((t=>!t.startsWith(\"_\"))))e.add(t);return Array.from(e)}(t._scopes)),e}const bi=Number.EPSILON||1e-14,_i=(t,e)=>e<t.length&&!t[e].skip&&t[e],yi=t=>\"x\"===t?\"y\":\"x\";function vi(t,e,i,s){const n=t.skip?e:t,o=e,a=i.skip?e:i,r=Vt(o,n),l=Vt(a,o);let h=r/(r+l),c=l/(r+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;const d=s*h,u=s*c;return{previous:{x:o.x-d*(a.x-n.x),y:o.y-d*(a.y-n.y)},next:{x:o.x+u*(a.x-n.x),y:o.y+u*(a.y-n.y)}}}function wi(t,e=\"x\"){const i=yi(e),s=t.length,n=Array(s).fill(0),o=Array(s);let a,r,l,h=_i(t,0);for(a=0;a<s;++a)if(r=l,l=h,h=_i(t,a+1),l){if(h){const t=h[e]-l[e];n[a]=0!==t?(h[i]-l[i])/t:0}o[a]=r?h?Ct(n[a-1])!==Ct(n[a])?0:(n[a-1]+n[a])/2:n[a-1]:n[a]}!function(t,e,i){const s=t.length;let n,o,a,r,l,h=_i(t,0);for(let c=0;c<s-1;++c)l=h,h=_i(t,c+1),l&&h&&(Lt(e[c],0,bi)?i[c]=i[c+1]=0:(n=i[c]/e[c],o=i[c+1]/e[c],r=Math.pow(n,2)+Math.pow(o,2),r<=9||(a=3/Math.sqrt(r),i[c]=n*a*e[c],i[c+1]=o*a*e[c])))}(t,n,o),function(t,e,i=\"x\"){const s=yi(i),n=t.length;let o,a,r,l=_i(t,0);for(let h=0;h<n;++h){if(a=r,r=l,l=_i(t,h+1),!r)continue;const n=r[i],c=r[s];a&&(o=(n-a[i])/3,r[`cp1${i}`]=n-o,r[`cp1${s}`]=c-o*e[h]),l&&(o=(l[i]-n)/3,r[`cp2${i}`]=n+o,r[`cp2${s}`]=c+o*e[h])}}(t,o,e)}function Mi(t,e,i){return Math.max(Math.min(t,i),e)}function ki(t,e,i,s,n){let o,a,r,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),\"monotone\"===e.cubicInterpolationMode)wi(t,n);else{let i=s?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)r=t[o],l=vi(i,r,t[Math.min(o+1,a-(s?0:1))%a],e.tension),r.cp1x=l.previous.x,r.cp1y=l.previous.y,r.cp2x=l.next.x,r.cp2y=l.next.y,i=r}e.capBezierPoints&&function(t,e){let i,s,n,o,a,r=Jt(t[0],e);for(i=0,s=t.length;i<s;++i)a=o,o=r,r=i<s-1&&Jt(t[i+1],e),o&&(n=t[i],a&&(n.cp1x=Mi(n.cp1x,e.left,e.right),n.cp1y=Mi(n.cp1y,e.top,e.bottom)),r&&(n.cp2x=Mi(n.cp2x,e.left,e.right),n.cp2y=Mi(n.cp2y,e.top,e.bottom)))}(t,i)}const Si=t=>0===t||1===t,Pi=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*yt/i),Di=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*yt/i)+1,Ci={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*kt),easeOutSine:t=>Math.sin(t*kt),easeInOutSine:t=>-.5*(Math.cos(_t*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Si(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Si(t)?t:Pi(t,.075,.3),easeOutElastic:t=>Si(t)?t:Di(t,.075,.3),easeInOutElastic(t){const e=.1125;return Si(t)?t:t<.5?.5*Pi(2*t,e,.45):.5+.5*Di(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Ci.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*Ci.easeInBounce(2*t):.5*Ci.easeOutBounce(2*t-1)+.5};function Oi(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function Ai(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:\"middle\"===s?i<.5?t.y:e.y:\"after\"===s?i<1?t.y:e.y:i>0?e.y:t.y}}function Ti(t,e,i,s){const n={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=Oi(t,n,i),r=Oi(n,o,i),l=Oi(o,e,i),h=Oi(a,r,i),c=Oi(r,l,i);return Oi(h,c,i)}const Li=new Map;function Ri(t,e,i){return function(t,e){e=e||{};const i=t+JSON.stringify(e);let s=Li.get(i);return s||(s=new Intl.NumberFormat(t,e),Li.set(i,s)),s}(e,i).format(t)}function Ei(t,e,i){return t?function(t,e){return{x:i=>t+t+e-i,setWidth(t){e=t},textAlign:t=>\"center\"===t?t:\"right\"===t?\"left\":\"right\",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,i):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Ii(t,e){let i,s;\"ltr\"!==e&&\"rtl\"!==e||(i=t.canvas.style,s=[i.getPropertyValue(\"direction\"),i.getPropertyPriority(\"direction\")],i.setProperty(\"direction\",e,\"important\"),t.prevTextDirection=s)}function zi(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty(\"direction\",e[0],e[1]))}function Fi(t){return\"angle\"===t?{between:Ht,compare:Wt,normalize:Nt}:{between:Yt,compare:(t,e)=>t-e,normalize:t=>t}}function Bi({start:t,end:e,count:i,loop:s,style:n}){return{start:t%i,end:e%i,loop:s&&(e-t+1)%i==0,style:n}}function Vi(t,e,i){if(!i)return[t];const{property:s,start:n,end:o}=i,a=e.length,{compare:r,between:l,normalize:h}=Fi(s),{start:c,end:d,loop:u,style:f}=function(t,e,i){const{property:s,start:n,end:o}=i,{between:a,normalize:r}=Fi(s),l=e.length;let h,c,{start:d,end:u,loop:f}=t;if(f){for(d+=l,u+=l,h=0,c=l;h<c&&a(r(e[d%l][s]),n,o);++h)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:f,style:t.style}}(t,e,i),g=[];let p,m,x,b=!1,_=null;const y=()=>b||l(n,x,p)&&0!==r(n,x),v=()=>!b||0===r(o,p)||l(o,x,p);for(let t=c,i=c;t<=d;++t)m=e[t%a],m.skip||(p=h(m[s]),p!==x&&(b=l(p,n,o),null===_&&y()&&(_=0===r(p,n)?t:i),null!==_&&v()&&(g.push(Bi({start:_,end:t,loop:u,count:a,style:f})),_=null),i=t,x=p));return null!==_&&g.push(Bi({start:_,end:d,loop:u,count:a,style:f})),g}function Wi(t,e){const i=[],s=t.segments;for(let n=0;n<s.length;n++){const o=Vi(s[n],t.points,e);o.length&&i.push(...o)}return i}function Ni(t,e){const i=t.points,s=t.options.spanGaps,n=i.length;if(!n)return[];const o=!!t._loop,{start:a,end:r}=function(t,e,i,s){let n=0,o=e-1;if(i&&!s)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,i&&(o+=n);o>n&&t[o%e].skip;)o--;return o%=e,{start:n,end:o}}(i,n,o,s);if(!0===s)return Hi(t,[{start:a,end:r,loop:o}],i,e);return Hi(t,function(t,e,i,s){const n=t.length,o=[];let a,r=e,l=t[e];for(a=e+1;a<=i;++a){const i=t[a%n];i.skip||i.stop?l.skip||(s=!1,o.push({start:e%n,end:(a-1)%n,loop:s}),e=r=i.stop?a:null):(r=a,l.skip&&(e=a)),l=i}return null!==r&&o.push({start:e%n,end:r%n,loop:s}),o}(i,a,r<a?r+n:r,!!t._fullLoop&&0===a&&r===n-1),i,e)}function Hi(t,e,i,s){return s&&s.setContext&&i?function(t,e,i,s){const n=t._chart.getContext(),o=ji(t.options),{_datasetIndex:a,options:{spanGaps:r}}=t,l=i.length,h=[];let c=o,d=e[0].start,u=d;function f(t,e,s,n){const o=r?-1:1;if(t!==e){for(t+=l;i[t%l].skip;)t-=o;for(;i[e%l].skip;)e+=o;t%l!=e%l&&(h.push({start:t%l,end:e%l,loop:s,style:n}),c=n,d=e%l)}}for(const t of e){d=r?d:t.start;let e,o=i[d%l];for(u=d+1;u<=t.end;u++){const r=i[u%l];e=ji(s.setContext(Ye(n,{type:\"segment\",p0:o,p1:r,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:a}))),$i(e,c)&&f(d,u-1,t.loop,c),o=r,c=e}d<u-1&&f(d,u-1,t.loop,c)}return h}(t,e,i,s):e}function ji(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function $i(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}var Yi=Object.freeze({__proto__:null,easingEffects:Ci,color:W,getHoverColor:N,noop:H,uid:j,isNullOrUndef:$,isArray:Y,isObject:U,isFinite:X,finiteOrDefault:q,valueOrDefault:K,toPercentage:G,toDimension:Z,callback:J,each:Q,_elementsEqual:tt,clone:et,_merger:st,merge:nt,mergeIf:ot,_mergerIf:at,_deprecated:function(t,e,i,s){void 0!==e&&console.warn(t+': \"'+i+'\" is deprecated. Please use \"'+s+'\" instead')},resolveObjectKey:lt,_capitalize:ht,defined:ct,isFunction:dt,setsEqual:ut,_isClickEvent:ft,toFontString:Ut,_measureText:Xt,_longestText:qt,_alignPixel:Kt,clearCanvas:Gt,drawPoint:Zt,_isPointInArea:Jt,clipArea:Qt,unclipArea:te,_steppedLineTo:ee,_bezierCurveTo:ie,renderText:se,addRoundedRectPath:oe,_lookup:ae,_lookupByKey:re,_rlookupByKey:le,_filterBetween:he,listenArrayEvents:de,unlistenArrayEvents:ue,_arrayUnique:fe,_createResolver:oi,_attachContext:ai,_descriptors:ri,splineCurve:vi,splineCurveMonotone:wi,_updateBezierControlPoints:ki,_isDomSupported:ge,_getParentNode:pe,getStyle:be,getRelativePosition:ve,getMaximumSize:Me,retinaScale:ke,supportsEventListenerOptions:Se,readUsedSize:Pe,fontString:function(t,e,i){return e+\" \"+t+\"px \"+i},requestAnimFrame:t,throttled:e,debounce:i,_toLeftRightCenter:s,_alignStartEnd:n,_textX:o,_pointInLine:Oi,_steppedInterpolation:Ai,_bezierInterpolation:Ti,formatNumber:Ri,toLineHeight:Fe,_readValueToProps:Be,toTRBL:Ve,toTRBLCorners:We,toPadding:Ne,toFont:He,resolve:je,_addGrace:$e,createContext:Ye,PI:_t,TAU:yt,PITAU:vt,INFINITY:wt,RAD_PER_DEG:Mt,HALF_PI:kt,QUARTER_PI:St,TWO_THIRDS_PI:Pt,log10:Dt,sign:Ct,niceNum:Ot,_factorize:At,isNumber:Tt,almostEquals:Lt,almostWhole:Rt,_setMinAndMaxByKey:Et,toRadians:It,toDegrees:zt,_decimalPlaces:Ft,getAngleFromPoint:Bt,distanceBetweenPoints:Vt,_angleDiff:Wt,_normalizeAngle:Nt,_angleBetween:Ht,_limitValue:jt,_int16Range:$t,_isBetween:Yt,getRtlAdapter:Ei,overrideTextDirection:Ii,restoreTextDirection:zi,_boundSegment:Vi,_boundSegments:Wi,_computeSegments:Ni});class Ui{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class Xi extends Ui{acquireContext(t){return t&&t.getContext&&t.getContext(\"2d\")||null}updateConfig(t){t.options.animation=!1}}const qi={touchstart:\"mousedown\",touchmove:\"mousemove\",touchend:\"mouseup\",pointerenter:\"mouseenter\",pointerdown:\"mousedown\",pointermove:\"mousemove\",pointerup:\"mouseup\",pointerleave:\"mouseout\",pointerout:\"mouseout\"},Ki=t=>null===t||\"\"===t;const Gi=!!Se&&{passive:!0};function Zi(t,e,i){t.canvas.removeEventListener(e,i,Gi)}function Ji(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function Qi(t,e,i){const s=t.canvas,n=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||Ji(i.addedNodes,s),e=e&&!Ji(i.removedNodes,s);e&&i()}));return n.observe(document,{childList:!0,subtree:!0}),n}function ts(t,e,i){const s=t.canvas,n=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||Ji(i.removedNodes,s),e=e&&!Ji(i.addedNodes,s);e&&i()}));return n.observe(document,{childList:!0,subtree:!0}),n}const es=new Map;let is=0;function ss(){const t=window.devicePixelRatio;t!==is&&(is=t,es.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function ns(t,i,s){const n=t.canvas,o=n&&pe(n);if(!o)return;const a=e(((t,e)=>{const i=o.clientWidth;s(t,e),i<o.clientWidth&&s()}),window),r=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,s=e.contentRect.height;0===i&&0===s||a(i,s)}));return r.observe(o),function(t,e){es.size||window.addEventListener(\"resize\",ss),es.set(t,e)}(t,a),r}function os(t,e,i){i&&i.disconnect(),\"resize\"===e&&function(t){es.delete(t),es.size||window.removeEventListener(\"resize\",ss)}(t)}function as(t,i,s){const n=t.canvas,o=e((e=>{null!==t.ctx&&s(function(t,e){const i=qi[t.type]||t.type,{x:s,y:n}=ve(t,e);return{type:i,chart:e,native:t,x:void 0!==s?s:null,y:void 0!==n?n:null}}(e,t))}),t,(t=>{const e=t[0];return[e,e.offsetX,e.offsetY]}));return function(t,e,i){t.addEventListener(e,i,Gi)}(n,i,o),o}class rs extends Ui{acquireContext(t,e){const i=t&&t.getContext&&t.getContext(\"2d\");return i&&i.canvas===t?(function(t,e){const i=t.style,s=t.getAttribute(\"height\"),n=t.getAttribute(\"width\");if(t.$chartjs={initial:{height:s,width:n,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||\"block\",i.boxSizing=i.boxSizing||\"border-box\",Ki(n)){const e=Pe(t,\"width\");void 0!==e&&(t.width=e)}if(Ki(s))if(\"\"===t.style.height)t.height=t.width/(e||2);else{const e=Pe(t,\"height\");void 0!==e&&(t.height=e)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e.$chartjs)return!1;const i=e.$chartjs.initial;[\"height\",\"width\"].forEach((t=>{const s=i[t];$(s)?e.removeAttribute(t):e.setAttribute(t,s)}));const s=i.style||{};return Object.keys(s).forEach((t=>{e.style[t]=s[t]})),e.width=e.width,delete e.$chartjs,!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),n={attach:Qi,detach:ts,resize:ns}[e]||as;s[e]=n(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:os,detach:os,resize:os}[e]||Zi)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return Me(t,e,i,s)}isAttached(t){const e=pe(t);return!(!e||!e.isConnected)}}function ls(t){return!ge()||\"undefined\"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Xi:rs}var hs=Object.freeze({__proto__:null,_detectPlatform:ls,BasePlatform:Ui,BasicPlatform:Xi,DomPlatform:rs});const cs=\"transparent\",ds={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){const s=W(t||cs),n=s.valid&&W(e||cs);return n&&n.valid?n.mix(s,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class us{constructor(t,e,i,s){const n=e[i];s=je([t.to,s,n,t.from]);const o=je([t.from,n,s]);this._active=!0,this._fn=t.fn||ds[t.type||typeof o],this._easing=Ci[t.easing]||Ci.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],n=i-this._start,o=this._duration-n;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=n,this._loop=!!t.loop,this._to=je([t.to,e,s,t.from]),this._from=je([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,n=this._from,o=this._loop,a=this._to;let r;if(this._active=n!==a&&(o||e<i),!this._active)return this._target[s]=a,void this._notify(!0);e<0?this._target[s]=n:(r=e/i%2,r=o&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[s]=this._fn(n,a,r))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?\"res\":\"rej\",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}bt.set(\"animation\",{delay:void 0,duration:1e3,easing:\"easeOutQuart\",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const fs=Object.keys(bt.animation);bt.describe(\"animation\",{_fallback:!1,_indexable:!1,_scriptable:t=>\"onProgress\"!==t&&\"onComplete\"!==t&&\"fn\"!==t}),bt.set(\"animations\",{colors:{type:\"color\",properties:[\"color\",\"borderColor\",\"backgroundColor\"]},numbers:{type:\"number\",properties:[\"x\",\"y\",\"borderWidth\",\"radius\",\"tension\"]}}),bt.describe(\"animations\",{_fallback:\"animation\"}),bt.set(\"transitions\",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:\"transparent\"},visible:{type:\"boolean\",duration:0}}},hide:{animations:{colors:{to:\"transparent\"},visible:{type:\"boolean\",easing:\"linear\",fn:t=>0|t}}}});class gs{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!U(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const s=t[i];if(!U(s))return;const n={};for(const t of fs)n[t]=s[t];(Y(s.properties)&&s.properties||[i]).forEach((t=>{t!==i&&e.has(t)||e.set(t,n)}))}))}_animateOptions(t,e){const i=e.options,s=function(t,e){if(!e)return;let i=t.options;if(!i)return void(t.options=e);i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(t,i);if(!s)return[];const n=this._createAnimations(s,i);return i.$shared&&function(t,e){const i=[],s=Object.keys(e);for(let e=0;e<s.length;e++){const n=t[s[e]];n&&n.active()&&i.push(n.wait())}return Promise.all(i)}(t.options.$animations,i).then((()=>{t.options=i}),(()=>{})),n}_createAnimations(t,e){const i=this._properties,s=[],n=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let r;for(r=o.length-1;r>=0;--r){const l=o[r];if(\"$\"===l.charAt(0))continue;if(\"options\"===l){s.push(...this._animateOptions(t,e));continue}const h=e[l];let c=n[l];const d=i.get(l);if(c){if(d&&c.active()){c.update(d,h,a);continue}c.cancel()}d&&d.duration?(n[l]=c=new us(d,t,l,h),s.push(c)):t[l]=h}return s}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(a.add(this._chart,i),!0):void 0}}function ps(t,e){const i=t&&t.options||{},s=i.reverse,n=void 0===i.min?e:0,o=void 0===i.max?e:0;return{start:s?o:n,end:s?n:o}}function ms(t,e){const i=[],s=t._getSortedDatasetMetas(e);let n,o;for(n=0,o=s.length;n<o;++n)i.push(s[n].index);return i}function xs(t,e,i,s={}){const n=t.keys,o=\"single\"===s.mode;let a,r,l,h;if(null!==e){for(a=0,r=n.length;a<r;++a){if(l=+n[a],l===i){if(s.all)continue;break}h=t.values[l],X(h)&&(o||0===e||Ct(e)===Ct(h))&&(e+=h)}return e}}function bs(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function _s(t,e,i){const s=t[e]||(t[e]={});return s[i]||(s[i]={})}function ys(t,e,i,s){for(const n of e.getMatchingVisibleMetas(s).reverse()){const e=t[n.index];if(i&&e>0||!i&&e<0)return n.index}return null}function vs(t,e){const{chart:i,_cachedMeta:s}=t,n=i._stacks||(i._stacks={}),{iScale:o,vScale:a,index:r}=s,l=o.axis,h=a.axis,c=function(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}(o,a,s),d=e.length;let u;for(let t=0;t<d;++t){const i=e[t],{[l]:o,[h]:d}=i;u=(i._stacks||(i._stacks={}))[h]=_s(n,c,o),u[r]=d,u._top=ys(u,a,!0,s.type),u._bottom=ys(u,a,!1,s.type)}}function ws(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}function Ms(t,e){const i=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[s]||void 0===e[s][i])return;delete e[s][i]}}}const ks=t=>\"reset\"===t||\"none\"===t,Ss=(t,e)=>e?t:Object.assign({},t);class Ps{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=bs(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Ms(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(t,e,i,s)=>\"x\"===t?e:\"r\"===t?s:i,n=e.xAxisID=K(i.xAxisID,ws(t,\"x\")),o=e.yAxisID=K(i.yAxisID,ws(t,\"y\")),a=e.rAxisID=K(i.rAxisID,ws(t,\"r\")),r=e.indexAxis,l=e.iAxisID=s(r,n,o,a),h=e.vAxisID=s(r,o,n,a);e.xScale=this.getScaleForId(n),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update(\"reset\")}_destroy(){const t=this._cachedMeta;this._data&&ue(this._data,this),t._stacked&&Ms(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(U(e))this._data=function(t){const e=Object.keys(t),i=new Array(e.length);let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s],i[s]={x:o,y:t[o]};return i}(e);else if(i!==e){if(i){ue(i,this);const t=this._cachedMeta;Ms(t),t._parsed=[]}e&&Object.isExtensible(e)&&de(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const n=e._stacked;e._stacked=bs(e.vScale,e),e.stack!==i.stack&&(s=!0,Ms(e),e.stack=i.stack),this._resyncElements(t),(s||n!==e._stacked)&&vs(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:n,_stacked:o}=i,a=n.axis;let r,l,h,c=0===t&&e===s.length||i._sorted,d=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=s,i._sorted=!0,h=s;else{h=Y(s[t])?this.parseArrayData(i,s,t,e):U(s[t])?this.parseObjectData(i,s,t,e):this.parsePrimitiveData(i,s,t,e);const n=()=>null===l[a]||d&&l[a]<d[a];for(r=0;r<e;++r)i._parsed[r+t]=l=h[r],c&&(n()&&(c=!1),d=l);i._sorted=c}o&&vs(this,h)}parsePrimitiveData(t,e,i,s){const{iScale:n,vScale:o}=t,a=n.axis,r=o.axis,l=n.getLabels(),h=n===o,c=new Array(s);let d,u,f;for(d=0,u=s;d<u;++d)f=d+i,c[d]={[a]:h||n.parse(l[f],f),[r]:o.parse(e[f],f)};return c}parseArrayData(t,e,i,s){const{xScale:n,yScale:o}=t,a=new Array(s);let r,l,h,c;for(r=0,l=s;r<l;++r)h=r+i,c=e[h],a[r]={x:n.parse(c[0],h),y:o.parse(c[1],h)};return a}parseObjectData(t,e,i,s){const{xScale:n,yScale:o}=t,{xAxisKey:a=\"x\",yAxisKey:r=\"y\"}=this._parsing,l=new Array(s);let h,c,d,u;for(h=0,c=s;h<c;++h)d=h+i,u=e[d],l[h]={x:n.parse(lt(u,a),d),y:o.parse(lt(u,r),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,n=this._cachedMeta,o=e[t.axis];return xs({keys:ms(s,!0),values:e._stacks[t.axis]},o,n.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const n=i[e.axis];let o=null===n?NaN:n;const a=s&&i._stacks[e.axis];s&&a&&(s.values=a,o=xs(s,n,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,n=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),r=((t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:ms(i,!0),values:null})(e,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:c}=function(t){const{min:e,max:i,minDefined:s,maxDefined:n}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:n?i:Number.POSITIVE_INFINITY}}(a);let d,u;function f(){u=s[d];const e=u[a.axis];return!X(u[t.axis])||h>e||c<e}for(d=0;d<o&&(f()||(this.updateRangeFromParsed(l,t,u,r),!n));++d);if(n)for(d=o-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(l,t,u,r);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s][t.axis],X(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,n=this.getParsed(t);return{label:i?\"\"+i.getLabelForValue(n[i.axis]):\"\",value:s?\"\"+s.getLabelForValue(n[s.axis]):\"\"}}_update(t){const e=this._cachedMeta;this.update(t||\"default\"),e._clip=function(t){let e,i,s,n;return U(t)?(e=t.top,i=t.right,s=t.bottom,n=t.left):e=i=s=n=t,{top:e,right:i,bottom:s,left:n,disabled:!1===t}}(K(this.options.clip,function(t,e,i){if(!1===i)return!1;const s=ps(t,i),n=ps(e,i);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],n=e.chartArea,o=[],a=this._drawStart||0,r=this._drawCount||s.length-a,l=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,n,a,r),h=a;h<a+r;++h){const e=s[h];e.hidden||(e.active&&l?o.push(e):e.draw(t,n))}for(h=0;h<o.length;++h)o[h].draw(t,n)}getStyle(t,e){const i=e?\"active\":\"default\";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let n;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];n=e.$context||(e.$context=function(t,e,i){return Ye(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:\"default\",type:\"data\"})}(this.getContext(),t,e)),n.parsed=this.getParsed(t),n.raw=s.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=function(t,e){return Ye(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:\"default\",type:\"dataset\"})}(this.chart.getContext(),this.index)),n.dataset=s,n.index=n.datasetIndex=this.index;return n.active=!!e,n.mode=i,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e=\"default\",i){const s=\"active\"===e,n=this._cachedDataOpts,o=t+\"-\"+e,a=n[o],r=this.enableOptionSharing&&ct(i);if(a)return Ss(a,r);const l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),c=s?[`${t}Hover`,\"hover\",t,\"\"]:[t,\"\"],d=l.getOptionScopes(this.getDataset(),h),u=Object.keys(bt.elements[t]),f=l.resolveNamedOptions(d,u,(()=>this.getContext(i,s)),c);return f.$shared&&(f.$shared=r,n[o]=Object.freeze(Ss(f,r))),f}_resolveAnimations(t,e,i){const s=this.chart,n=this._cachedDataOpts,o=`animation-${e}`,a=n[o];if(a)return a;let r;if(!1!==s.options.animation){const s=this.chart.config,n=s.datasetAnimationScopeKeys(this._type,e),o=s.getOptionScopes(this.getDataset(),n);r=s.createResolver(o,this.getContext(t,i,e))}const l=new gs(s,r&&r.animations);return r&&r._cacheable&&(n[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ks(t)||this.chart._animationsDisabled}updateElement(t,e,i,s){ks(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!ks(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const n=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(n)||n})}removeHoverStyle(t,e,i){this._setStyle(t,i,\"active\",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,\"active\",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,\"active\",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,\"active\",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];const s=i.length,n=e.length,o=Math.min(n,s);o&&this.parse(0,o),n>s?this._insertElements(s,n-s,t):n<s&&this._removeElements(n,s-n)}_insertElements(t,e,i=!0){const s=this._cachedMeta,n=s.data,o=t+e;let a;const r=t=>{for(t.length+=e,a=t.length-1;a>=o;a--)t[a]=t[a-e]};for(r(n),a=t;a<o;++a)n[a]=new this.dataElementType;this._parsing&&r(s._parsed),this.parse(t,e),i&&this.updateElements(n,t,e,\"reset\")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Ms(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync([\"_insertElements\",this.getDataset().data.length-t,t])}_onDataPop(){this._sync([\"_removeElements\",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync([\"_removeElements\",0,1])}_onDataSplice(t,e){e&&this._sync([\"_removeElements\",t,e]);const i=arguments.length-2;i&&this._sync([\"_insertElements\",t,i])}_onDataUnshift(){this._sync([\"_insertElements\",0,arguments.length])}}Ps.defaults={},Ps.prototype.datasetElementType=null,Ps.prototype.dataElementType=null;class Ds{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps([\"x\",\"y\"],t);return{x:e,y:i}}hasValue(){return Tt(this.x)&&Tt(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach((t=>{s[t]=i[t]&&i[t].active()?i[t]._to:this[t]})),s}}Ds.defaults={},Ds.defaultRoutes=void 0;const Cs={values:t=>Y(t)?t:\"\"+t,numeric(t,e,i){if(0===t)return\"0\";const s=this.chart.options.locale;let n,o=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(n=\"scientific\"),o=function(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t));return i}(t,i)}const a=Dt(Math.abs(o)),r=Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:n,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),Ri(t,s,l)},logarithmic(t,e,i){if(0===t)return\"0\";const s=t/Math.pow(10,Math.floor(Dt(t)));return 1===s||2===s||5===s?Cs.numeric.call(this,t,e,i):\"\"}};var Os={formatters:Cs};function As(t,e){const i=t.options.ticks,s=i.maxTicksLimit||function(t){const e=t.options.offset,i=t._tickSize(),s=t._length/i+(e?0:1),n=t._maxLength/i;return Math.floor(Math.min(s,n))}(t),n=i.major.enabled?function(t){const e=[];let i,s;for(i=0,s=t.length;i<s;i++)t[i].major&&e.push(i);return e}(e):[],o=n.length,a=n[0],r=n[o-1],l=[];if(o>s)return function(t,e,i,s){let n,o=0,a=i[0];for(s=Math.ceil(s),n=0;n<t.length;n++)n===a&&(e.push(t[n]),o++,a=i[o*s])}(e,l,n,o/s),l;const h=function(t,e,i){const s=function(t){const e=t.length;let i,s;if(e<2)return!1;for(s=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==s)return!1;return s}(t),n=e.length/i;if(!s)return Math.max(n,1);const o=At(s);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>n)return e}return Math.max(n,1)}(n,e,s);if(o>0){let t,i;const s=o>1?Math.round((r-a)/(o-1)):null;for(Ts(e,l,h,$(s)?0:a-s,a),t=0,i=o-1;t<i;t++)Ts(e,l,h,n[t],n[t+1]);return Ts(e,l,h,r,$(s)?e.length:r+s),l}return Ts(e,l,h),l}function Ts(t,e,i,s,n){const o=K(s,0),a=Math.min(K(n,t.length),t.length);let r,l,h,c=0;for(i=Math.ceil(i),n&&(r=n-s,i=r/Math.floor(r/i)),h=o;h<0;)c++,h=Math.round(o+c*i);for(l=Math.max(o,0);l<a;l++)l===h&&(e.push(t[l]),c++,h=Math.round(o+c*i))}bt.set(\"scale\",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:\"ticks\",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:\"\",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:\"\",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Os.formatters.values,minor:{},major:{},align:\"center\",crossAlign:\"near\",showLabelBackdrop:!1,backdropColor:\"rgba(255, 255, 255, 0.75)\",backdropPadding:2}}),bt.route(\"scale.ticks\",\"color\",\"\",\"color\"),bt.route(\"scale.grid\",\"color\",\"\",\"borderColor\"),bt.route(\"scale.grid\",\"borderColor\",\"\",\"borderColor\"),bt.route(\"scale.title\",\"color\",\"\",\"color\"),bt.describe(\"scale\",{_fallback:!1,_scriptable:t=>!t.startsWith(\"before\")&&!t.startsWith(\"after\")&&\"callback\"!==t&&\"parser\"!==t,_indexable:t=>\"borderDash\"!==t&&\"tickBorderDash\"!==t}),bt.describe(\"scales\",{_fallback:\"scale\"}),bt.describe(\"scale.ticks\",{_scriptable:t=>\"backdropPadding\"!==t&&\"callback\"!==t,_indexable:t=>\"backdropPadding\"!==t});const Ls=(t,e,i)=>\"top\"===e||\"left\"===e?t[e]+i:t[e]-i;function Rs(t,e){const i=[],s=t.length/e,n=t.length;let o=0;for(;o<n;o+=s)i.push(t[Math.floor(o)]);return i}function Es(t,e,i){const s=t.ticks.length,n=Math.min(e,s-1),o=t._startPixel,a=t._endPixel,r=1e-6;let l,h=t.getPixelForTick(n);if(!(i&&(l=1===s?Math.max(h-o,a-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(n-1))/2,h+=n<e?l:-l,h<o-r||h>a+r)))return h}function Is(t){return t.drawTicks?t.tickLength:0}function zs(t,e){if(!t.display)return 0;const i=He(t.font,e),s=Ne(t.padding);return(Y(t.text)?t.text.length:1)*i.lineHeight+s.height}function Fs(t,e,i){let n=s(t);return(i&&\"right\"!==e||!i&&\"right\"===e)&&(n=(t=>\"left\"===t?\"right\":\"right\"===t?\"left\":t)(n)),n}class Bs extends Ds{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=q(t,Number.POSITIVE_INFINITY),e=q(e,Number.NEGATIVE_INFINITY),i=q(i,Number.POSITIVE_INFINITY),s=q(s,Number.NEGATIVE_INFINITY),{min:q(t,i),max:q(e,s),minDefined:X(t),maxDefined:X(e)}}getMinMax(t){let e,{min:i,max:s,minDefined:n,maxDefined:o}=this.getUserBounds();if(n&&o)return{min:i,max:s};const a=this.getMatchingVisibleMetas();for(let r=0,l=a.length;r<l;++r)e=a[r].controller.getMinMax(this,t),n||(i=Math.min(i,e.min)),o||(s=Math.max(s,e.max));return i=o&&i>s?s:i,s=n&&i>s?i:s,{min:q(i,q(s,i)),max:q(s,q(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){J(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:n,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$e(this,n,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=a<this.ticks.length;this._convertTicksToLabels(r?Rs(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||\"auto\"===o.source)&&(this.ticks=As(this,this.ticks),this._labelSizes=null),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){J(this.options.afterUpdate,[this])}beforeSetDimensions(){J(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){J(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),J(this.options[t],[this])}beforeDataLimits(){this._callHooks(\"beforeDataLimits\")}determineDataLimits(){}afterDataLimits(){this._callHooks(\"afterDataLimits\")}beforeBuildTicks(){this._callHooks(\"beforeBuildTicks\")}buildTicks(){return[]}afterBuildTicks(){this._callHooks(\"afterBuildTicks\")}beforeTickToLabelConversion(){J(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,n;for(i=0,s=t.length;i<s;i++)n=t[i],n.label=J(e.callback,[n.value,i,t],this)}afterTickToLabelConversion(){J(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){J(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,s=e.minRotation||0,n=e.maxRotation;let o,a,r,l=s;if(!this._isVisible()||!e.display||s>=n||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const h=this._getLabelSizes(),c=h.widest.width,d=h.highest.height,u=jt(this.chart.width-c,0,this.maxWidth);o=t.offset?this.maxWidth/i:u/(i-1),c+6>o&&(o=u/(i-(t.offset?.5:1)),a=this.maxHeight-Is(t.grid)-e.padding-zs(t.title,this.chart.options.font),r=Math.sqrt(c*c+d*d),l=zt(Math.min(Math.asin(jt((h.highest.height+6)/o,-1,1)),Math.asin(jt(a/r,-1,1))-Math.asin(jt(d/r,-1,1)))),l=Math.max(s,Math.min(n,l))),this.labelRotation=l}afterCalculateLabelRotation(){J(this.options.afterCalculateLabelRotation,[this])}beforeFit(){J(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:n}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=zs(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=Is(n)+o):(t.height=this.maxHeight,t.width=Is(n)+o),i.display&&this.ticks.length){const{first:e,last:s,widest:n,highest:o}=this._getLabelSizes(),r=2*i.padding,l=It(this.labelRotation),h=Math.cos(l),c=Math.sin(l);if(a){const e=i.mirror?0:c*n.width+h*o.height;t.height=Math.min(this.maxHeight,t.height+e+r)}else{const e=i.mirror?0:h*n.width+c*o.height;t.width=Math.min(this.maxWidth,t.width+e+r)}this._calculatePadding(e,s,c,h)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:n,padding:o},position:a}=this.options,r=0!==this.labelRotation,l=\"top\"!==a&&\"x\"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,d=0;r?l?(c=s*t.width,d=i*e.height):(c=i*t.height,d=s*e.width):\"start\"===n?d=e.width:\"end\"===n?c=t.width:(c=t.width/2,d=e.width/2),this.paddingLeft=Math.max((c-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let i=e.height/2,s=t.height/2;\"start\"===n?(i=0,s=t.height):\"end\"===n&&(i=e.height,s=0),this.paddingTop=i+o,this.paddingBottom=s+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){J(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return\"top\"===e||\"bottom\"===e||\"x\"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)$(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Rs(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:s}=this,n=[],o=[];let a,r,l,h,c,d,u,f,g,p,m,x=0,b=0;for(a=0;a<e;++a){if(h=t[a].label,c=this._resolveTickFontOptions(a),i.font=d=c.string,u=s[d]=s[d]||{data:{},gc:[]},f=c.lineHeight,g=p=0,$(h)||Y(h)){if(Y(h))for(r=0,l=h.length;r<l;++r)m=h[r],$(m)||Y(m)||(g=Xt(i,u.data,u.gc,g,m),p+=f)}else g=Xt(i,u.data,u.gc,g,h),p=f;n.push(g),o.push(p),x=Math.max(g,x),b=Math.max(p,b)}!function(t,e){Q(t,(t=>{const i=t.gc,s=i.length/2;let n;if(s>e){for(n=0;n<s;++n)delete t.data[i[n]];i.splice(0,s)}}))}(s,e);const _=n.indexOf(x),y=o.indexOf(b),v=t=>({width:n[t]||0,height:o[t]||0});return{first:v(0),last:v(e-1),widest:v(_),highest:v(y),widths:n,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return $t(this._alignToPixels?Kt(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function(t,e,i){return Ye(t,{tick:i,index:e,type:\"tick\"})}(this.getContext(),t,i))}return this.$context||(this.$context=Ye(this.chart.getContext(),{scale:this,type:\"scale\"}))}_tickSize(){const t=this.options.ticks,e=It(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),n=this._getLabelSizes(),o=t.autoSkipPadding||0,a=n?n.widest.width+o:0,r=n?n.highest.height+o:0;return this.isHorizontal()?r*i>a*s?a/i:r/s:r*s<a*i?r/i:a/s}_isVisible(){const t=this.options.display;return\"auto\"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:n,position:o}=s,a=n.offset,r=this.isHorizontal(),l=this.ticks.length+(a?1:0),h=Is(n),c=[],d=n.setContext(this.getContext()),u=d.drawBorder?d.borderWidth:0,f=u/2,g=function(t){return Kt(i,t,u)};let p,m,x,b,_,y,v,w,M,k,S,P;if(\"top\"===o)p=g(this.bottom),y=this.bottom-h,w=p-f,k=g(t.top)+f,P=t.bottom;else if(\"bottom\"===o)p=g(this.top),k=t.top,P=g(t.bottom)-f,y=p+f,w=this.top+h;else if(\"left\"===o)p=g(this.right),_=this.right-h,v=p-f,M=g(t.left)+f,S=t.right;else if(\"right\"===o)p=g(this.left),M=t.left,S=g(t.right)-f,_=p+f,v=this.left+h;else if(\"x\"===e){if(\"center\"===o)p=g((t.top+t.bottom)/2+.5);else if(U(o)){const t=Object.keys(o)[0],e=o[t];p=g(this.chart.scales[t].getPixelForValue(e))}k=t.top,P=t.bottom,y=p+f,w=y+h}else if(\"y\"===e){if(\"center\"===o)p=g((t.left+t.right)/2);else if(U(o)){const t=Object.keys(o)[0],e=o[t];p=g(this.chart.scales[t].getPixelForValue(e))}_=p-f,v=_-h,M=t.left,S=t.right}const D=K(s.ticks.maxTicksLimit,l),C=Math.max(1,Math.ceil(l/D));for(m=0;m<l;m+=C){const t=n.setContext(this.getContext(m)),e=t.lineWidth,s=t.color,o=n.borderDash||[],l=t.borderDashOffset,h=t.tickWidth,d=t.tickColor,u=t.tickBorderDash||[],f=t.tickBorderDashOffset;x=Es(this,m,a),void 0!==x&&(b=Kt(i,x,e),r?_=v=M=S=b:y=w=k=P=b,c.push({tx1:_,ty1:y,tx2:v,ty2:w,x1:M,y1:k,x2:S,y2:P,width:e,color:s,borderDash:o,borderDashOffset:l,tickWidth:h,tickColor:d,tickBorderDash:u,tickBorderDashOffset:f}))}return this._ticksLength=l,this._borderValue=p,c}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:n}=i,o=this.isHorizontal(),a=this.ticks,{align:r,crossAlign:l,padding:h,mirror:c}=n,d=Is(i.grid),u=d+h,f=c?-h:u,g=-It(this.labelRotation),p=[];let m,x,b,_,y,v,w,M,k,S,P,D,C=\"middle\";if(\"top\"===s)v=this.bottom-f,w=this._getXAxisLabelAlignment();else if(\"bottom\"===s)v=this.top+f,w=this._getXAxisLabelAlignment();else if(\"left\"===s){const t=this._getYAxisLabelAlignment(d);w=t.textAlign,y=t.x}else if(\"right\"===s){const t=this._getYAxisLabelAlignment(d);w=t.textAlign,y=t.x}else if(\"x\"===e){if(\"center\"===s)v=(t.top+t.bottom)/2+u;else if(U(s)){const t=Object.keys(s)[0],e=s[t];v=this.chart.scales[t].getPixelForValue(e)+u}w=this._getXAxisLabelAlignment()}else if(\"y\"===e){if(\"center\"===s)y=(t.left+t.right)/2-u;else if(U(s)){const t=Object.keys(s)[0],e=s[t];y=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(d).textAlign}\"y\"===e&&(\"start\"===r?C=\"top\":\"end\"===r&&(C=\"bottom\"));const O=this._getLabelSizes();for(m=0,x=a.length;m<x;++m){b=a[m],_=b.label;const t=n.setContext(this.getContext(m));M=this.getPixelForTick(m)+n.labelOffset,k=this._resolveTickFontOptions(m),S=k.lineHeight,P=Y(_)?_.length:1;const e=P/2,i=t.color,r=t.textStrokeColor,h=t.textStrokeWidth;let d;if(o?(y=M,D=\"top\"===s?\"near\"===l||0!==g?-P*S+S/2:\"center\"===l?-O.highest.height/2-e*S+S:-O.highest.height+S/2:\"near\"===l||0!==g?S/2:\"center\"===l?O.highest.height/2-e*S:O.highest.height-P*S,c&&(D*=-1)):(v=M,D=(1-P)*S/2),t.showLabelBackdrop){const e=Ne(t.backdropPadding),i=O.heights[m],s=O.widths[m];let n=v+D-e.top,o=y-e.left;switch(C){case\"middle\":n-=i/2;break;case\"bottom\":n-=i}switch(w){case\"center\":o-=s/2;break;case\"right\":o-=s}d={left:o,top:n,width:s+e.width,height:i+e.height,color:t.backdropColor}}p.push({rotation:g,label:_,font:k,color:i,strokeColor:r,strokeWidth:h,textOffset:D,textAlign:w,textBaseline:C,translation:[y,v],backdrop:d})}return p}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-It(this.labelRotation))return\"top\"===t?\"left\":\"right\";let i=\"center\";return\"start\"===e.align?i=\"left\":\"end\"===e.align&&(i=\"right\"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:n}}=this.options,o=t+n,a=this._getLabelSizes().widest.width;let r,l;return\"left\"===e?s?(l=this.right+n,\"near\"===i?r=\"left\":\"center\"===i?(r=\"center\",l+=a/2):(r=\"right\",l+=a)):(l=this.right-o,\"near\"===i?r=\"right\":\"center\"===i?(r=\"center\",l-=a/2):(r=\"left\",l=this.left)):\"right\"===e?s?(l=this.left+n,\"near\"===i?r=\"right\":\"center\"===i?(r=\"center\",l-=a/2):(r=\"left\",l-=a)):(l=this.left+o,\"near\"===i?r=\"left\":\"center\"===i?(r=\"center\",l+=a/2):(r=\"right\",l=this.right)):r=\"right\",{textAlign:r,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return\"left\"===e||\"right\"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:\"top\"===e||\"bottom\"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:n,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,n,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex((e=>e.value===t));if(i>=0){return e.setContext(this.getContext(i)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let n,o;const a=(t,e,s)=>{s.width&&s.color&&(i.save(),i.lineWidth=s.width,i.strokeStyle=s.color,i.setLineDash(s.borderDash||[]),i.lineDashOffset=s.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(n=0,o=s.length;n<o;++n){const t=s[n];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,s=i.setContext(this.getContext()),n=i.drawBorder?s.borderWidth:0;if(!n)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let r,l,h,c;this.isHorizontal()?(r=Kt(t,this.left,n)-n/2,l=Kt(t,this.right,o)+o/2,h=c=a):(h=Kt(t,this.top,n)-n/2,c=Kt(t,this.bottom,o)+o/2,r=l=a),e.save(),e.lineWidth=s.borderWidth,e.strokeStyle=s.borderColor,e.beginPath(),e.moveTo(r,h),e.lineTo(l,c),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,i=this._computeLabelArea();i&&Qt(e,i);const s=this._labelItems||(this._labelItems=this._computeLabelItems(t));let n,o;for(n=0,o=s.length;n<o;++n){const t=s[n],i=t.font,o=t.label;t.backdrop&&(e.fillStyle=t.backdrop.color,e.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height)),se(e,o,0,t.textOffset,i,t)}i&&te(e)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const o=He(i.font),a=Ne(i.padding),r=i.align;let l=o.lineHeight/2;\"bottom\"===e||\"center\"===e||U(e)?(l+=a.bottom,Y(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=a.top;const{titleX:h,titleY:c,maxWidth:d,rotation:u}=function(t,e,i,s){const{top:o,left:a,bottom:r,right:l,chart:h}=t,{chartArea:c,scales:d}=h;let u,f,g,p=0;const m=r-o,x=l-a;if(t.isHorizontal()){if(f=n(s,a,l),U(i)){const t=Object.keys(i)[0],s=i[t];g=d[t].getPixelForValue(s)+m-e}else g=\"center\"===i?(c.bottom+c.top)/2+m-e:Ls(t,i,e);u=l-a}else{if(U(i)){const t=Object.keys(i)[0],s=i[t];f=d[t].getPixelForValue(s)-x+e}else f=\"center\"===i?(c.left+c.right)/2-x+e:Ls(t,i,e);g=n(s,r,o),p=\"left\"===i?-kt:kt}return{titleX:f,titleY:g,maxWidth:u,rotation:p}}(this,l,e,r);se(t,i.text,0,0,o,{color:i.color,maxWidth:d,rotation:u,textAlign:Fs(r,e,s),textBaseline:\"middle\",translation:[h,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=K(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===Bs.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+\"AxisID\",s=[];let n,o;for(n=0,o=e.length;n<o;++n){const o=e[n];o[i]!==this.id||t&&o.type!==t||s.push(o)}return s}_resolveTickFontOptions(t){return He(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Vs{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(t){return\"id\"in t&&\"defaults\"in t})(e)&&(i=this.register(e));const s=this.items,n=t.id,o=this.scope+\".\"+n;if(!n)throw new Error(\"class does not have id: \"+t);return n in s||(s[n]=t,function(t,e,i){const s=nt(Object.create(null),[i?bt.get(i):{},bt.get(e),t.defaults]);bt.set(e,s),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((i=>{const s=i.split(\".\"),n=s.pop(),o=[t].concat(s).join(\".\"),a=e[i].split(\".\"),r=a.pop(),l=a.join(\".\");bt.route(o,n,l,r)}))}(e,t.defaultRoutes);t.descriptors&&bt.describe(e,t.descriptors)}(t,o,i),this.override&&bt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in bt[s]&&(delete bt[s][i],this.override&&delete gt[i])}}var Ws=new class{constructor(){this.controllers=new Vs(Ps,\"datasets\",!0),this.elements=new Vs(Ds,\"elements\"),this.plugins=new Vs(Object,\"plugins\"),this.scales=new Vs(Bs,\"scales\"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each(\"register\",t)}remove(...t){this._each(\"unregister\",t)}addControllers(...t){this._each(\"register\",t,this.controllers)}addElements(...t){this._each(\"register\",t,this.elements)}addPlugins(...t){this._each(\"register\",t,this.plugins)}addScales(...t){this._each(\"register\",t,this.scales)}getController(t){return this._get(t,this.controllers,\"controller\")}getElement(t){return this._get(t,this.elements,\"element\")}getPlugin(t){return this._get(t,this.plugins,\"plugin\")}getScale(t){return this._get(t,this.scales,\"scale\")}removeControllers(...t){this._each(\"unregister\",t,this.controllers)}removeElements(...t){this._each(\"unregister\",t,this.elements)}removePlugins(...t){this._each(\"unregister\",t,this.plugins)}removeScales(...t){this._each(\"unregister\",t,this.scales)}_each(t,e,i){[...e].forEach((e=>{const s=i||this._getRegistryForType(e);i||s.isForType(e)||s===this.plugins&&e.id?this._exec(t,s,e):Q(e,(e=>{const s=i||this._getRegistryForType(e);this._exec(t,s,e)}))}))}_exec(t,e,i){const s=ht(t);J(i[\"before\"+s],[],i),e[t](i),J(i[\"after\"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('\"'+t+'\" is not a registered '+i+\".\");return s}};class Ns{constructor(){this._init=[]}notify(t,e,i,s){\"beforeInit\"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,\"install\"));const n=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(n,t,e,i);return\"afterDestroy\"===e&&(this._notify(n,t,\"stop\"),this._notify(this._init,t,\"uninstall\")),o}_notify(t,e,i,s){s=s||{};for(const n of t){const t=n.plugin;if(!1===J(t[i],[e,s,n.options],t)&&s.cancelable)return!1}return!0}invalidate(){$(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=K(i.options&&i.options.plugins,{}),n=function(t){const e=[],i=Object.keys(Ws.plugins.items);for(let t=0;t<i.length;t++)e.push(Ws.getPlugin(i[t]));const s=t.plugins||[];for(let t=0;t<s.length;t++){const i=s[t];-1===e.indexOf(i)&&e.push(i)}return e}(i);return!1!==s||e?function(t,e,i,s){const n=[],o=t.getContext();for(let a=0;a<e.length;a++){const r=e[a],l=Hs(i[r.id],s);null!==l&&n.push({plugin:r,options:js(t.config,r,l,o)})}return n}(t,n,s,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(s(e,i),t,\"stop\"),this._notify(s(i,e),t,\"start\")}}function Hs(t,e){return e||!1!==t?!0===t?{}:t:null}function js(t,e,i,s){const n=t.pluginScopeKeys(e),o=t.getOptionScopes(i,n);return t.createResolver(o,s,[\"\"],{scriptable:!1,indexable:!1,allKeys:!0})}function $s(t,e){const i=bt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||\"x\"}function Ys(t,e){return\"x\"===t||\"y\"===t?t:e.axis||(\"top\"===(i=e.position)||\"bottom\"===i?\"x\":\"left\"===i||\"right\"===i?\"y\":void 0)||t.charAt(0).toLowerCase();var i}function Us(t){const e=t.options||(t.options={});e.plugins=K(e.plugins,{}),e.scales=function(t,e){const i=gt[t.type]||{scales:{}},s=e.scales||{},n=$s(t.type,e),o=Object.create(null),a=Object.create(null);return Object.keys(s).forEach((t=>{const e=s[t];if(!U(e))return console.error(`Invalid scale configuration for scale: ${t}`);if(e._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const r=Ys(t,e),l=function(t,e){return t===e?\"_index_\":\"_value_\"}(r,n),h=i.scales||{};o[r]=o[r]||t,a[t]=ot(Object.create(null),[{axis:r},e,h[r],h[l]])})),t.data.datasets.forEach((i=>{const n=i.type||t.type,r=i.indexAxis||$s(n,e),l=(gt[n]||{}).scales||{};Object.keys(l).forEach((t=>{const e=function(t,e){let i=t;return\"_index_\"===t?i=e:\"_value_\"===t&&(i=\"x\"===e?\"y\":\"x\"),i}(t,r),n=i[e+\"AxisID\"]||o[e]||e;a[n]=a[n]||Object.create(null),ot(a[n],[{axis:e},s[n],l[t]])}))})),Object.keys(a).forEach((t=>{const e=a[t];ot(e,[bt.scales[e.type],bt.scale])})),a}(t,e)}function Xs(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const qs=new Map,Ks=new Set;function Gs(t,e){let i=qs.get(t);return i||(i=e(),qs.set(t,i),Ks.add(i)),i}const Zs=(t,e,i)=>{const s=lt(e,i);void 0!==s&&t.add(s)};class Js{constructor(t){this._config=function(t){return(t=t||{}).data=Xs(t.data),Us(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Xs(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Us(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Gs(t,(()=>[[`datasets.${t}`,\"\"]]))}datasetAnimationScopeKeys(t,e){return Gs(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,\"\"]]))}datasetElementScopeKeys(t,e){return Gs(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,\"\"]]))}pluginScopeKeys(t){const e=t.id;return Gs(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return s&&!e||(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:n}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const r=new Set;e.forEach((e=>{t&&(r.add(t),e.forEach((e=>Zs(r,t,e)))),e.forEach((t=>Zs(r,s,t))),e.forEach((t=>Zs(r,gt[n]||{},t))),e.forEach((t=>Zs(r,bt,t))),e.forEach((t=>Zs(r,pt,t)))}));const l=Array.from(r);return 0===l.length&&l.push(Object.create(null)),Ks.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,gt[e]||{},bt.datasets[e]||{},{type:e},bt,pt]}resolveNamedOptions(t,e,i,s=[\"\"]){const n={$shared:!0},{resolver:o,subPrefixes:a}=Qs(this._resolverCache,t,s);let r=o;if(function(t,e){const{isScriptable:i,isIndexable:s}=ri(t);for(const n of e){const e=i(n),o=s(n),a=(o||e)&&t[n];if(e&&(dt(a)||tn(a))||o&&Y(a))return!0}return!1}(o,e)){n.$shared=!1;r=ai(o,i=dt(i)?i():i,this.createResolver(t,i,a))}for(const t of e)n[t]=r[t];return n}createResolver(t,e,i=[\"\"],s){const{resolver:n}=Qs(this._resolverCache,t,i);return U(e)?ai(n,e,void 0,s):n}}function Qs(t,e,i){let s=t.get(e);s||(s=new Map,t.set(e,s));const n=i.join();let o=s.get(n);if(!o){o={resolver:oi(e,i),subPrefixes:i.filter((t=>!t.toLowerCase().includes(\"hover\")))},s.set(n,o)}return o}const tn=t=>U(t)&&Object.getOwnPropertyNames(t).reduce(((e,i)=>e||dt(t[i])),!1);const en=[\"top\",\"bottom\",\"left\",\"right\",\"chartArea\"];function sn(t,e){return\"top\"===t||\"bottom\"===t||-1===en.indexOf(t)&&\"x\"===e}function nn(t,e){return function(i,s){return i[t]===s[t]?i[e]-s[e]:i[t]-s[t]}}function on(t){const e=t.chart,i=e.options.animation;e.notifyPlugins(\"afterRender\"),J(i&&i.onComplete,[t],e)}function an(t){const e=t.chart,i=e.options.animation;J(i&&i.onProgress,[t],e)}function rn(t){return ge()&&\"string\"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ln={},hn=t=>{const e=rn(t);return Object.values(ln).filter((t=>t.canvas===e)).pop()};function cn(t,e,i){const s=Object.keys(t);for(const n of s){const s=+n;if(s>=e){const o=t[n];delete t[n],(i>0||s>e)&&(t[s+i]=o)}}}class dn{constructor(t,e){const s=this.config=new Js(e),n=rn(t),o=hn(n);if(o)throw new Error(\"Canvas is already in use. Chart with ID '\"+o.id+\"' must be destroyed before the canvas can be reused.\");const r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||ls(n)),this.platform.updateConfig(s);const l=this.platform.acquireContext(n,r.aspectRatio),h=l&&l.canvas,c=h&&h.height,d=h&&h.width;this.id=j(),this.ctx=l,this.canvas=h,this.width=d,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ns,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=i((t=>this.update(t)),r.resizeDelay||0),this._dataChanges=[],ln[this.id]=this,l&&h?(a.listen(this,\"complete\",on),a.listen(this,\"progress\",an),this._initialize(),this.attached&&this.update()):console.error(\"Failed to create chart: can't acquire context from the given item\")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:n}=this;return $(t)?e&&n?n:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins(\"beforeInit\"),this.options.responsive?this.resize():ke(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins(\"afterInit\"),this}clear(){return Gt(this.canvas,this.ctx),this}stop(){return a.stop(this),this}resize(t,e){a.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,n=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,e,n),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?\"resize\":\"attach\";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ke(this,a,!0)&&(this.notifyPlugins(\"resize\",{size:o}),J(i.onResize,[this,o],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){Q(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let n=[];e&&(n=n.concat(Object.keys(e).map((t=>{const i=e[t],s=Ys(t,i),n=\"r\"===s,o=\"x\"===s;return{options:i,dposition:n?\"chartArea\":o?\"bottom\":\"left\",dtype:n?\"radialLinear\":o?\"category\":\"linear\"}})))),Q(n,(e=>{const n=e.options,o=n.id,a=Ys(o,n),r=K(n.type,e.dtype);void 0!==n.position&&sn(n.position,a)===sn(e.dposition)||(n.position=e.dposition),s[o]=!0;let l=null;if(o in i&&i[o].type===r)l=i[o];else{l=new(Ws.getScale(r))({id:o,type:r,ctx:this.ctx,chart:this}),i[l.id]=l}l.init(n,t)})),Q(s,((t,e)=>{t||delete i[e]})),Q(i,(t=>{ni.configure(this,t,t.options),ni.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(((t,e)=>t.index-e.index)),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(nn(\"order\",\"index\"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,i)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const s=e[i];let n=this.getDatasetMeta(i);const o=s.type||this.config.type;if(n.type&&n.type!==o&&(this._destroyDatasetMeta(i),n=this.getDatasetMeta(i)),n.type=o,n.indexAxis=s.indexAxis||$s(o,this.options),n.order=s.order||0,n.index=i,n.label=\"\"+s.label,n.visible=this.isDatasetVisible(i),n.controller)n.controller.updateIndex(i),n.controller.linkScales();else{const e=Ws.getController(o),{datasetElementType:s,dataElementType:a}=bt.datasets[o];Object.assign(e.prototype,{dataElementType:Ws.getElement(a),datasetElementType:s&&Ws.getElement(s)}),n.controller=new e(this,i),t.push(n.controller)}}return this._updateMetasets(),t}_resetElements(){Q(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins(\"reset\")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins(\"beforeUpdate\",{mode:t,cancelable:!0}))return;const n=this.buildOrUpdateControllers();this.notifyPlugins(\"beforeElementsUpdate\");let o=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),i=!s&&-1===n.indexOf(e);e.buildOrUpdateElements(i),o=Math.max(+e.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Q(n,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins(\"afterUpdate\",{mode:t}),this._layers.sort(nn(\"z\",\"_idx\"));const{_active:a,_lastEvent:r}=this;r?this._eventHandler(r,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Q(this.scales,(t=>{ni.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);ut(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:n}of e){cn(t,s,\"_removeElements\"===i?-n:n)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+\",\"+t.splice(1).join(\",\")))),s=i(0);for(let t=1;t<e;t++)if(!ut(s,i(t)))return;return Array.from(s).map((t=>t.split(\",\"))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins(\"beforeLayout\",{cancelable:!0}))return;ni.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Q(this.boxes,(t=>{i&&\"chartArea\"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins(\"afterLayout\")}_updateDatasets(t){if(!1!==this.notifyPlugins(\"beforeDatasetsUpdate\",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,dt(t)?t({datasetIndex:e}):t);this.notifyPlugins(\"afterDatasetsUpdate\",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins(\"beforeDatasetUpdate\",s)&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins(\"afterDatasetUpdate\",s))}render(){!1!==this.notifyPlugins(\"beforeRender\",{cancelable:!0})&&(a.has(this)?this.attached&&!a.running(this)&&a.start(this):(this.draw(),on({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins(\"beforeDraw\",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins(\"afterDraw\")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,n;for(s=0,n=e.length;s<n;++s){const n=e[s];t&&!n.visible||i.push(n)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins(\"beforeDatasetsDraw\",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins(\"afterDatasetsDraw\")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,n=this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins(\"beforeDatasetDraw\",o)&&(s&&Qt(e,{left:!1===i.left?0:n.left-i.left,right:!1===i.right?this.width:n.right+i.right,top:!1===i.top?0:n.top-i.top,bottom:!1===i.bottom?this.height:n.bottom+i.bottom}),t.controller.draw(),s&&te(e),o.cancelable=!1,this.notifyPlugins(\"afterDatasetDraw\",o))}getElementsAtEventForMode(t,e,i,s){const n=Ee.modes[e];return\"function\"==typeof n?n(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter((t=>t&&t._dataset===e)).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Ye(null,{chart:this,type:\"chart\"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return\"boolean\"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?\"show\":\"hide\",n=this.getDatasetMeta(t),o=n.controller._resolveAnimations(void 0,s);ct(e)?(n.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(n,{visible:i}),this.update((e=>e.datasetIndex===t?s:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),a.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins(\"beforeDestroy\");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Gt(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins(\"destroy\"),delete ln[this.id],this.notifyPlugins(\"afterDestroy\")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};Q(this.options.events,(t=>i(t,s)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(i,s)=>{t[i]&&(e.removeEventListener(this,i,s),delete t[i])},n=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const a=()=>{s(\"attach\",a),this.attached=!0,this.resize(),i(\"resize\",n),i(\"detach\",o)};o=()=>{this.attached=!1,s(\"resize\",n),this._stop(),this._resize(0,0),i(\"attach\",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){Q(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},Q(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?\"set\":\"remove\";let n,o,a,r;for(\"dataset\"===e&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller[\"_\"+s+\"DatasetHoverStyle\"]()),a=0,r=t.length;a<r;++a){o=t[a];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[s+\"HoverStyle\"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map((({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error(\"No dataset found at index \"+t);return{datasetIndex:t,element:i.data[e],index:e}}));!tt(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const s=this.options.hover,n=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=n(e,t),a=i?t:n(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:Jt(t,this.chartArea,this._minPadding)},s=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins(\"beforeEvent\",i,s))return;const n=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins(\"afterEvent\",i,s),(n||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:n}=this,o=e,a=this._getActiveElements(t,s,i,o),r=ft(t),l=function(t,e,i,s){return i&&\"mouseout\"!==t.type?s?e:t:null}(t,this._lastEvent,i,r);i&&(this._lastEvent=null,J(n.onHover,[t,a,this],this),r&&J(n.onClick,[t,a,this],this));const h=!tt(a,s);return(h||e)&&(this._active=a,this._updateHoverStyles(a,s,e)),this._lastEvent=l,h}_getActiveElements(t,e,i,s){if(\"mouseout\"===t.type)return[];if(!i)return e;const n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,s)}}const un=()=>Q(dn.instances,(t=>t._plugins.invalidate())),fn=!0;function gn(){throw new Error(\"This method is not implemented: Check that a complete date adapter is provided.\")}Object.defineProperties(dn,{defaults:{enumerable:fn,value:bt},instances:{enumerable:fn,value:ln},overrides:{enumerable:fn,value:gt},registry:{enumerable:fn,value:Ws},version:{enumerable:fn,value:\"3.7.1\"},getChart:{enumerable:fn,value:hn},register:{enumerable:fn,value:(...t)=>{Ws.add(...t),un()}},unregister:{enumerable:fn,value:(...t)=>{Ws.remove(...t),un()}}});class pn{constructor(t){this.options=t||{}}formats(){return gn()}parse(t,e){return gn()}format(t,e){return gn()}add(t,e,i){return gn()}diff(t,e,i){return gn()}startOf(t,e,i){return gn()}endOf(t,e){return gn()}}pn.override=function(t){Object.assign(pn.prototype,t)};var mn={_date:pn};function xn(t){const e=t.iScale,i=function(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let s=[];for(let e=0,n=i.length;e<n;e++)s=s.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=fe(s.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let s,n,o,a,r=e._length;const l=()=>{32767!==o&&-32768!==o&&(ct(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,n=i.length;s<n;++s)o=e.getPixelForValue(i[s]),l();for(a=void 0,s=0,n=e.ticks.length;s<n;++s)o=e.getPixelForTick(s),l();return r}function bn(t,e,i,s){return Y(t)?function(t,e,i,s){const n=i.parse(t[0],s),o=i.parse(t[1],s),a=Math.min(n,o),r=Math.max(n,o);let l=a,h=r;Math.abs(a)>Math.abs(r)&&(l=r,h=a),e[i.axis]=h,e._custom={barStart:l,barEnd:h,start:n,end:o,min:a,max:r}}(t,e,i,s):e[i.axis]=i.parse(t,s),e}function _n(t,e,i,s){const n=t.iScale,o=t.vScale,a=n.getLabels(),r=n===o,l=[];let h,c,d,u;for(h=i,c=i+s;h<c;++h)u=e[h],d={},d[n.axis]=r||n.parse(a[h],h),l.push(bn(u,d,o,h));return l}function yn(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function vn(t,e,i,s){let n=e.borderSkipped;const o={};if(!n)return void(t.borderSkipped=o);const{start:a,end:r,reverse:l,top:h,bottom:c}=function(t){let e,i,s,n,o;return t.horizontal?(e=t.base>t.x,i=\"left\",s=\"right\"):(e=t.base<t.y,i=\"bottom\",s=\"top\"),e?(n=\"end\",o=\"start\"):(n=\"start\",o=\"end\"),{start:i,end:s,reverse:e,top:n,bottom:o}}(t);\"middle\"===n&&i&&(t.enableBorderRadius=!0,(i._top||0)===s?n=h:(i._bottom||0)===s?n=c:(o[wn(c,a,r,l)]=!0,n=h)),o[wn(n,a,r,l)]=!0,t.borderSkipped=o}function wn(t,e,i,s){var n,o,a;return s?(a=i,t=Mn(t=(n=t)===(o=e)?a:n===a?o:n,i,e)):t=Mn(t,e,i),t}function Mn(t,e,i){return\"start\"===t?e:\"end\"===t?i:t}function kn(t,{inflateAmount:e},i){t.inflateAmount=\"auto\"===e?1===i?.33:0:e}class Sn extends Ps{parsePrimitiveData(t,e,i,s){return _n(t,e,i,s)}parseArrayData(t,e,i,s){return _n(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:n,vScale:o}=t,{xAxisKey:a=\"x\",yAxisKey:r=\"y\"}=this._parsing,l=\"x\"===n.axis?a:r,h=\"x\"===o.axis?a:r,c=[];let d,u,f,g;for(d=i,u=i+s;d<u;++d)g=e[d],f={},f[n.axis]=n.parse(lt(g,l),d),c.push(bn(lt(g,h),f,o,d));return c}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const n=i._custom;n&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,n=this.getParsed(t),o=n._custom,a=yn(o)?\"[\"+o.start+\", \"+o.end+\"]\":\"\"+s.getLabelForValue(n[s.axis]);return{label:\"\"+i.getLabelForValue(n[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const n=\"reset\"===s,{index:o,_cachedMeta:{vScale:a}}=this,r=a.getBasePixel(),l=a.isHorizontal(),h=this._getRuler(),c=this.resolveDataElementOptions(e,s),d=this.getSharedOptions(c),u=this.includeOptions(s,d);this.updateSharedOptions(d,s,c);for(let c=e;c<e+i;c++){const e=this.getParsed(c),i=n||$(e[a.axis])?{base:r,head:r}:this._calculateBarValuePixels(c),f=this._calculateBarIndexPixels(c,h),g=(e._stacks||{})[a.axis],p={horizontal:l,base:i.base,enableBorderRadius:!g||yn(e._custom)||o===g._top||o===g._bottom,x:l?i.head:f.center,y:l?f.center:i.head,height:l?f.size:Math.abs(i.size),width:l?Math.abs(i.size):f.size};u&&(p.options=d||this.resolveDataElementOptions(c,t[c].active?\"active\":s));const m=p.options||t[c].options;vn(p,m,g,o),kn(p,m,h.ratio),this.updateElement(t[c],c,p,s)}}_getStacks(t,e){const i=this._cachedMeta.iScale,s=i.getMatchingVisibleMetas(this._type),n=i.options.stacked,o=s.length,a=[];let r,l;for(r=0;r<o;++r)if(l=s[r],l.controller.options.grouped){if(void 0!==e){const t=l.controller.getParsed(e)[l.controller._cachedMeta.vScale.axis];if($(t)||isNaN(t))continue}if((!1===n||-1===a.indexOf(l.stack)||void 0===n&&void 0===l.stack)&&a.push(l.stack),l.index===t)break}return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),n=void 0!==e?s.indexOf(e):-1;return-1===n?s.length-1:n}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let n,o;for(n=0,o=e.data.length;n<o;++n)s.push(i.getPixelForValue(this.getParsed(n)[i.axis],n));const a=t.barThickness;return{min:a||xn(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i},options:{base:s,minBarLength:n}}=this,o=s||0,a=this.getParsed(t),r=a._custom,l=yn(r);let h,c,d=a[e.axis],u=0,f=i?this.applyStack(e,a,i):d;f!==d&&(u=f-d,f=d),l&&(d=r.barStart,f=r.barEnd-r.barStart,0!==d&&Ct(d)!==Ct(r.barEnd)&&(u=0),u+=d);const g=$(s)||l?u:s;let p=e.getPixelForValue(g);if(h=this.chart.getDataVisibility(t)?e.getPixelForValue(u+f):p,c=h-p,Math.abs(c)<n&&(c=function(t,e,i){return 0!==t?Ct(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}(c,e,o)*n,d===o&&(p-=c/2),h=p+c),p===e.getPixelForValue(o)){const t=Ct(c)*e.getLineWidthForValue(o)/2;p+=t,c-=t}return{size:c,base:p,head:h,center:h+c/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,n=s.skipNull,o=K(s.maxBarThickness,1/0);let a,r;if(e.grouped){const i=n?this._getStackCount(t):e.stackCount,l=\"flex\"===s.barThickness?function(t,e,i,s){const n=e.pixels,o=n[t];let a=t>0?n[t-1]:null,r=t<n.length-1?n[t+1]:null;const l=i.categoryPercentage;null===a&&(a=o-(null===r?e.end-e.start:r-o)),null===r&&(r=o+o-a);const h=o-(o-Math.min(a,r))/2*l;return{chunk:Math.abs(r-a)/2*l/s,ratio:i.barPercentage,start:h}}(t,e,s,i):function(t,e,i,s){const n=i.barThickness;let o,a;return $(n)?(o=e.min*i.categoryPercentage,a=i.barPercentage):(o=n*s,a=1),{chunk:o/s,ratio:a,start:e.pixels[t]-o/2}}(t,e,s,i),h=this._getStackIndex(this.index,this._cachedMeta.stack,n?t:void 0);a=l.start+l.chunk*h+l.chunk/2,r=Math.min(o,l.chunk*l.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),r=Math.min(o,e.min*e.ratio);return{base:a-r/2,head:a+r/2,center:a,size:r}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let n=0;for(;n<s;++n)null!==this.getParsed(n)[e.axis]&&i[n].draw(this._ctx)}}Sn.id=\"bar\",Sn.defaults={datasetElementType:!1,dataElementType:\"bar\",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:\"number\",properties:[\"x\",\"y\",\"base\",\"width\",\"height\"]}}},Sn.overrides={scales:{_index_:{type:\"category\",offset:!0,grid:{offset:!0}},_value_:{type:\"linear\",beginAtZero:!0}}};class Pn extends Ps{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const n=super.parsePrimitiveData(t,e,i,s);for(let t=0;t<n.length;t++)n[t]._custom=this.resolveDataElementOptions(t+i).radius;return n}parseArrayData(t,e,i,s){const n=super.parseArrayData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t]._custom=K(s[2],this.resolveDataElementOptions(t+i).radius)}return n}parseObjectData(t,e,i,s){const n=super.parseObjectData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t]._custom=K(s&&s.r&&+s.r,this.resolveDataElementOptions(t+i).radius)}return n}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:i,yScale:s}=e,n=this.getParsed(t),o=i.getLabelForValue(n.x),a=s.getLabelForValue(n.y),r=n._custom;return{label:e.label,value:\"(\"+o+\", \"+a+(r?\", \"+r:\"\")+\")\"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const n=\"reset\"===s,{iScale:o,vScale:a}=this._cachedMeta,r=this.resolveDataElementOptions(e,s),l=this.getSharedOptions(r),h=this.includeOptions(s,l),c=o.axis,d=a.axis;for(let r=e;r<e+i;r++){const e=t[r],i=!n&&this.getParsed(r),l={},u=l[c]=n?o.getPixelForDecimal(.5):o.getPixelForValue(i[c]),f=l[d]=n?a.getBasePixel():a.getPixelForValue(i[d]);l.skip=isNaN(u)||isNaN(f),h&&(l.options=this.resolveDataElementOptions(r,e.active?\"active\":s),n&&(l.options.radius=0)),this.updateElement(e,r,l,s)}this.updateSharedOptions(l,s,r)}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const n=s.radius;return\"active\"!==e&&(s.radius=0),s.radius+=K(i&&i._custom,n),s}}Pn.id=\"bubble\",Pn.defaults={datasetElementType:!1,dataElementType:\"point\",animations:{numbers:{type:\"number\",properties:[\"x\",\"y\",\"borderWidth\",\"radius\"]}}},Pn.overrides={scales:{x:{type:\"linear\"},y:{type:\"linear\"}},plugins:{tooltip:{callbacks:{title:()=>\"\"}}}};class Dn extends Ps{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=i;else{let n,o,a=t=>+i[t];if(U(i[t])){const{key:t=\"value\"}=this._parsing;a=e=>+lt(i[e],t)}for(n=t,o=t+e;n<o;++n)s._parsed[n]=a(n)}}_getRotation(){return It(this.options.rotation-90)}_getCircumference(){return It(this.options.circumference)}_getRotationExtents(){let t=yt,e=-yt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const s=this.chart.getDatasetMeta(i).controller,n=s._getRotation(),o=s._getCircumference();t=Math.min(t,n),e=Math.max(e,n+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,n=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),r=Math.min(G(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:h,rotation:c}=this._getRotationExtents(),{ratioX:d,ratioY:u,offsetX:f,offsetY:g}=function(t,e,i){let s=1,n=1,o=0,a=0;if(e<yt){const r=t,l=r+e,h=Math.cos(r),c=Math.sin(r),d=Math.cos(l),u=Math.sin(l),f=(t,e,s)=>Ht(t,r,l,!0)?1:Math.max(e,e*i,s,s*i),g=(t,e,s)=>Ht(t,r,l,!0)?-1:Math.min(e,e*i,s,s*i),p=f(0,h,d),m=f(kt,c,u),x=g(_t,h,d),b=g(_t+kt,c,u);s=(p-x)/2,n=(m-b)/2,o=-(p+x)/2,a=-(m+b)/2}return{ratioX:s,ratioY:n,offsetX:o,offsetY:a}}(c,h,r),p=(i.width-o)/d,m=(i.height-o)/u,x=Math.max(Math.min(p,m)/2,0),b=Z(this.options.radius,x),_=(b-Math.max(b*r,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*b,this.offsetY=g*b,s.total=this.calculateTotal(),this.outerRadius=b-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*l,0),this.updateElements(n,0,n.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,n=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*n/yt)}updateElements(t,e,i,s){const n=\"reset\"===s,o=this.chart,a=o.chartArea,r=o.options.animation,l=(a.left+a.right)/2,h=(a.top+a.bottom)/2,c=n&&r.animateScale,d=c?0:this.innerRadius,u=c?0:this.outerRadius,f=this.resolveDataElementOptions(e,s),g=this.getSharedOptions(f),p=this.includeOptions(s,g);let m,x=this._getRotation();for(m=0;m<e;++m)x+=this._circumference(m,n);for(m=e;m<e+i;++m){const e=this._circumference(m,n),i=t[m],o={x:l+this.offsetX,y:h+this.offsetY,startAngle:x,endAngle:x+e,circumference:e,outerRadius:u,innerRadius:d};p&&(o.options=g||this.resolveDataElementOptions(m,i.active?\"active\":s)),x+=e,this.updateElement(i,m,o,s)}this.updateSharedOptions(g,s,f)}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,s=0;for(i=0;i<e.length;i++){const n=t._parsed[i];null===n||isNaN(n)||!this.chart.getDataVisibility(i)||e[i].hidden||(s+=Math.abs(n))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?yt*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=Ri(e._parsed[t],i.options.locale);return{label:s[t]||\"\",value:n}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,n,o,a,r;if(!t)for(s=0,n=i.data.datasets.length;s<n;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}if(!t)return 0;for(s=0,n=t.length;s<n;++s)r=a.resolveDataElementOptions(s),\"inner\"!==r.borderAlign&&(e=Math.max(e,r.borderWidth||0,r.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(K(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Dn.id=\"doughnut\",Dn.defaults={datasetElementType:!1,dataElementType:\"arc\",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:\"number\",properties:[\"circumference\",\"endAngle\",\"innerRadius\",\"outerRadius\",\"startAngle\",\"x\",\"y\",\"offset\",\"borderWidth\",\"spacing\"]}},cutout:\"50%\",rotation:0,circumference:360,radius:\"100%\",spacing:0,indexAxis:\"r\"},Dn.descriptors={_scriptable:t=>\"spacing\"!==t,_indexable:t=>\"spacing\"!==t},Dn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map(((e,s)=>{const n=t.getDatasetMeta(0).controller.getStyle(s);return{text:e,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>\"\",label(t){let e=t.label;const i=\": \"+t.formattedValue;return Y(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}};class Cn extends Ps{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:n}=e,o=this.chart._animationsDisabled;let{start:a,count:r}=function(t,e,i){const s=e.length;let n=0,o=s;if(t._sorted){const{iScale:a,_parsed:r}=t,l=a.axis,{min:h,max:c,minDefined:d,maxDefined:u}=a.getUserBounds();d&&(n=jt(Math.min(re(r,a.axis,h).lo,i?s:re(e,l,a.getPixelForValue(h)).lo),0,s-1)),o=u?jt(Math.max(re(r,a.axis,c).hi+1,i?0:re(e,l,a.getPixelForValue(c)).hi+1),n,s)-n:s-n}return{start:n,count:o}}(e,s,o);this._drawStart=a,this._drawCount=r,function(t){const{xScale:e,yScale:i,_scaleRanges:s}=t,n={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!s)return t._scaleRanges=n,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,n),o}(e)&&(a=0,r=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!n._decimated,i.points=s;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:l},t),this.updateElements(s,a,r,t)}updateElements(t,e,i,s){const n=\"reset\"===s,{iScale:o,vScale:a,_stacked:r,_dataset:l}=this._cachedMeta,h=this.resolveDataElementOptions(e,s),c=this.getSharedOptions(h),d=this.includeOptions(s,c),u=o.axis,f=a.axis,{spanGaps:g,segment:p}=this.options,m=Tt(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||n||\"none\"===s;let b=e>0&&this.getParsed(e-1);for(let h=e;h<e+i;++h){const e=t[h],i=this.getParsed(h),g=x?e:{},_=$(i[f]),y=g[u]=o.getPixelForValue(i[u],h),v=g[f]=n||_?a.getBasePixel():a.getPixelForValue(r?this.applyStack(a,i,r):i[f],h);g.skip=isNaN(y)||isNaN(v)||_,g.stop=h>0&&i[u]-b[u]>m,p&&(g.parsed=i,g.raw=l.data[h]),d&&(g.options=c||this.resolveDataElementOptions(h,e.active?\"active\":s)),x||this.updateElement(e,h,g,s),b=i}this.updateSharedOptions(c,s,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const n=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,n,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Cn.id=\"line\",Cn.defaults={datasetElementType:\"line\",dataElementType:\"point\",showLine:!0,spanGaps:!1},Cn.overrides={scales:{_index_:{type:\"category\"},_value_:{type:\"linear\"}}};class On extends Ps{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=Ri(e._parsed[t].r,i.options.locale);return{label:s[t]||\"\",value:n}}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),n=Math.max(s/2,0),o=(n-Math.max(i.cutoutPercentage?n/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=n-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,i,s){const n=\"reset\"===s,o=this.chart,a=this.getDataset(),r=o.options.animation,l=this._cachedMeta.rScale,h=l.xCenter,c=l.yCenter,d=l.getIndexAngle(0)-.5*_t;let u,f=d;const g=360/this.countVisibleElements();for(u=0;u<e;++u)f+=this._computeAngle(u,s,g);for(u=e;u<e+i;u++){const e=t[u];let i=f,p=f+this._computeAngle(u,s,g),m=o.getDataVisibility(u)?l.getDistanceFromCenterForValue(a.data[u]):0;f=p,n&&(r.animateScale&&(m=0),r.animateRotate&&(i=p=d));const x={x:h,y:c,innerRadius:0,outerRadius:m,startAngle:i,endAngle:p,options:this.resolveDataElementOptions(u,e.active?\"active\":s)};this.updateElement(e,u,x,s)}}countVisibleElements(){const t=this.getDataset(),e=this._cachedMeta;let i=0;return e.data.forEach(((e,s)=>{!isNaN(t.data[s])&&this.chart.getDataVisibility(s)&&i++})),i}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?It(this.resolveDataElementOptions(t,e).angle||i):0}}On.id=\"polarArea\",On.defaults={dataElementType:\"arc\",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:\"number\",properties:[\"x\",\"y\",\"startAngle\",\"endAngle\",\"innerRadius\",\"outerRadius\"]}},indexAxis:\"r\",startAngle:0},On.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map(((e,s)=>{const n=t.getDatasetMeta(0).controller.getStyle(s);return{text:e,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>\"\",label:t=>t.chart.data.labels[t.dataIndex]+\": \"+t.formattedValue}}},scales:{r:{type:\"radialLinear\",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class An extends Dn{}An.id=\"pie\",An.defaults={cutout:0,rotation:0,circumference:360,radius:\"100%\"};class Tn extends Ps{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:\"\"+e.getLabelForValue(i[e.axis])}}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],n=e.iScale.getLabels();if(i.points=s,\"resize\"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:n.length===s.length,options:e};this.updateElement(i,void 0,o,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const n=this.getDataset(),o=this._cachedMeta.rScale,a=\"reset\"===s;for(let r=e;r<e+i;r++){const e=t[r],i=this.resolveDataElementOptions(r,e.active?\"active\":s),l=o.getPointPositionForValue(r,n.data[r]),h=a?o.xCenter:l.x,c=a?o.yCenter:l.y,d={x:h,y:c,angle:l.angle,skip:isNaN(h)||isNaN(c),options:i};this.updateElement(e,r,d,s)}}}Tn.id=\"radar\",Tn.defaults={datasetElementType:\"line\",dataElementType:\"point\",indexAxis:\"r\",showLine:!0,elements:{line:{fill:\"start\"}}},Tn.overrides={aspectRatio:1,scales:{r:{type:\"radialLinear\"}}};class Ln extends Cn{}Ln.id=\"scatter\",Ln.defaults={showLine:!1,fill:!1},Ln.overrides={interaction:{mode:\"point\"},plugins:{tooltip:{callbacks:{title:()=>\"\",label:t=>\"(\"+t.label+\", \"+t.formattedValue+\")\"}}},scales:{x:{type:\"linear\"},y:{type:\"linear\"}}};var Rn=Object.freeze({__proto__:null,BarController:Sn,BubbleController:Pn,DoughnutController:Dn,LineController:Cn,PolarAreaController:On,PieController:An,RadarController:Tn,ScatterController:Ln});function En(t,e,i){const{startAngle:s,pixelMargin:n,x:o,y:a,outerRadius:r,innerRadius:l}=e;let h=n/r;t.beginPath(),t.arc(o,a,r,s-h,i+h),l>n?(h=n/l,t.arc(o,a,l,i+h,s-h,!0)):t.arc(o,a,n,i+kt,s-kt),t.closePath(),t.clip()}function In(t,e,i,s){const n=Be(t.options.borderRadius,[\"outerStart\",\"outerEnd\",\"innerStart\",\"innerEnd\"]);const o=(i-e)/2,a=Math.min(o,s*e/2),r=t=>{const e=(i-Math.min(o,t))*s/2;return jt(t,0,Math.min(o,e))};return{outerStart:r(n.outerStart),outerEnd:r(n.outerEnd),innerStart:jt(n.innerStart,0,a),innerEnd:jt(n.innerEnd,0,a)}}function zn(t,e,i,s){return{x:i+t*Math.cos(e),y:s+t*Math.sin(e)}}function Fn(t,e,i,s,n){const{x:o,y:a,startAngle:r,pixelMargin:l,innerRadius:h}=e,c=Math.max(e.outerRadius+s+i-l,0),d=h>0?h+s+i+l:0;let u=0;const f=n-r;if(s){const t=((h>0?h-s:0)+(c>0?c-s:0))/2;u=(f-(0!==t?f*t/(t+s):f))/2}const g=(f-Math.max(.001,f*c-i/_t)/c)/2,p=r+g+u,m=n-g-u,{outerStart:x,outerEnd:b,innerStart:_,innerEnd:y}=In(e,d,c,m-p),v=c-x,w=c-b,M=p+x/v,k=m-b/w,S=d+_,P=d+y,D=p+_/S,C=m-y/P;if(t.beginPath(),t.arc(o,a,c,M,k),b>0){const e=zn(w,k,o,a);t.arc(e.x,e.y,b,k,m+kt)}const O=zn(P,m,o,a);if(t.lineTo(O.x,O.y),y>0){const e=zn(P,C,o,a);t.arc(e.x,e.y,y,m+kt,C+Math.PI)}if(t.arc(o,a,d,m-y/d,p+_/d,!0),_>0){const e=zn(S,D,o,a);t.arc(e.x,e.y,_,D+Math.PI,p-kt)}const A=zn(v,p,o,a);if(t.lineTo(A.x,A.y),x>0){const e=zn(v,M,o,a);t.arc(e.x,e.y,x,p-kt,M)}t.closePath()}function Bn(t,e,i,s,n){const{options:o}=e,{borderWidth:a,borderJoinStyle:r}=o,l=\"inner\"===o.borderAlign;a&&(l?(t.lineWidth=2*a,t.lineJoin=r||\"round\"):(t.lineWidth=a,t.lineJoin=r||\"bevel\"),e.fullCircles&&function(t,e,i){const{x:s,y:n,startAngle:o,pixelMargin:a,fullCircles:r}=e,l=Math.max(e.outerRadius-a,0),h=e.innerRadius+a;let c;for(i&&En(t,e,o+yt),t.beginPath(),t.arc(s,n,h,o+yt,o,!0),c=0;c<r;++c)t.stroke();for(t.beginPath(),t.arc(s,n,l,o,o+yt),c=0;c<r;++c)t.stroke()}(t,e,l),l&&En(t,e,n),Fn(t,e,i,s,n),t.stroke())}class Vn extends Ds{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps([\"x\",\"y\"],i),{angle:n,distance:o}=Bt(s,{x:t,y:e}),{startAngle:a,endAngle:r,innerRadius:l,outerRadius:h,circumference:c}=this.getProps([\"startAngle\",\"endAngle\",\"innerRadius\",\"outerRadius\",\"circumference\"],i),d=this.options.spacing/2,u=K(c,r-a)>=yt||Ht(n,a,r),f=Yt(o,l+d,h+d);return u&&f}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:n,innerRadius:o,outerRadius:a}=this.getProps([\"x\",\"y\",\"startAngle\",\"endAngle\",\"innerRadius\",\"outerRadius\",\"circumference\"],t),{offset:r,spacing:l}=this.options,h=(s+n)/2,c=(o+a+l+r)/2;return{x:e+Math.cos(h)*c,y:i+Math.sin(h)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/2,n=(e.spacing||0)/2;if(this.pixelMargin=\"inner\"===e.borderAlign?.33:0,this.fullCircles=i>yt?Math.floor(i/yt):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let o=0;if(s){o=s/2;const e=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(e)*o,Math.sin(e)*o),this.circumference>=_t&&(o=s)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const a=function(t,e,i,s){const{fullCircles:n,startAngle:o,circumference:a}=e;let r=e.endAngle;if(n){Fn(t,e,i,s,o+yt);for(let e=0;e<n;++e)t.fill();isNaN(a)||(r=o+a%yt,a%yt==0&&(r+=yt))}return Fn(t,e,i,s,r),t.fill(),r}(t,this,o,n);Bn(t,this,o,n,a),t.restore()}}function Wn(t,e,i=e){t.lineCap=K(i.borderCapStyle,e.borderCapStyle),t.setLineDash(K(i.borderDash,e.borderDash)),t.lineDashOffset=K(i.borderDashOffset,e.borderDashOffset),t.lineJoin=K(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=K(i.borderWidth,e.borderWidth),t.strokeStyle=K(i.borderColor,e.borderColor)}function Nn(t,e,i){t.lineTo(i.x,i.y)}function Hn(t,e,i={}){const s=t.length,{start:n=0,end:o=s-1}=i,{start:a,end:r}=e,l=Math.max(n,a),h=Math.min(o,r),c=n<a&&o<a||n>r&&o>r;return{count:s,start:l,loop:e.loop,ilen:h<l&&!c?s+h-l:h-l}}function jn(t,e,i,s){const{points:n,options:o}=e,{count:a,start:r,loop:l,ilen:h}=Hn(n,i,s),c=function(t){return t.stepped?ee:t.tension||\"monotone\"===t.cubicInterpolationMode?ie:Nn}(o);let d,u,f,{move:g=!0,reverse:p}=s||{};for(d=0;d<=h;++d)u=n[(r+(p?h-d:d))%a],u.skip||(g?(t.moveTo(u.x,u.y),g=!1):c(t,f,u,p,o.stepped),f=u);return l&&(u=n[(r+(p?h:0))%a],c(t,f,u,p,o.stepped)),!!l}function $n(t,e,i,s){const n=e.points,{count:o,start:a,ilen:r}=Hn(n,i,s),{move:l=!0,reverse:h}=s||{};let c,d,u,f,g,p,m=0,x=0;const b=t=>(a+(h?r-t:t))%o,_=()=>{f!==g&&(t.lineTo(m,g),t.lineTo(m,f),t.lineTo(m,p))};for(l&&(d=n[b(0)],t.moveTo(d.x,d.y)),c=0;c<=r;++c){if(d=n[b(c)],d.skip)continue;const e=d.x,i=d.y,s=0|e;s===u?(i<f?f=i:i>g&&(g=i),m=(x*m+e)/++x):(_(),t.lineTo(e,i),u=s,x=0,f=g=i),p=i}_()}function Yn(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||\"monotone\"===e.cubicInterpolationMode||e.stepped||i)?$n:jn}Vn.id=\"arc\",Vn.defaults={borderAlign:\"center\",borderColor:\"#fff\",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},Vn.defaultRoutes={backgroundColor:\"backgroundColor\"};const Un=\"function\"==typeof Path2D;function Xn(t,e,i,s){Un&&!e.options.segment?function(t,e,i,s){let n=e._path;n||(n=e._path=new Path2D,e.path(n,i,s)&&n.closePath()),Wn(t,e.options),t.stroke(n)}(t,e,i,s):function(t,e,i,s){const{segments:n,options:o}=e,a=Yn(e);for(const r of n)Wn(t,o,r.style),t.beginPath(),a(t,e,r,{start:i,end:i+s-1})&&t.closePath(),t.stroke()}(t,e,i,s)}class qn extends Ds{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||\"monotone\"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;ki(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Ni(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],n=this.points,o=Wi(this,{property:e,start:s,end:s});if(!o.length)return;const a=[],r=function(t){return t.stepped?Ai:t.tension||\"monotone\"===t.cubicInterpolationMode?Ti:Oi}(i);let l,h;for(l=0,h=o.length;l<h;++l){const{start:h,end:c}=o[l],d=n[h],u=n[c];if(d===u){a.push(d);continue}const f=r(d,u,Math.abs((s-d[e])/(u[e]-d[e])),i.stepped);f[e]=t[e],a.push(f)}return 1===a.length?a[0]:a}pathSegment(t,e,i){return Yn(this)(t,this,e,i)}path(t,e,i){const s=this.segments,n=Yn(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of s)o&=n(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,s){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),Xn(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Kn(t,e,i,s){const n=t.options,{[i]:o}=t.getProps([i],s);return Math.abs(e-o)<n.radius+n.hitRadius}qn.id=\"line\",qn.defaults={borderCapStyle:\"butt\",borderDash:[],borderDashOffset:0,borderJoinStyle:\"miter\",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:\"default\",fill:!1,spanGaps:!1,stepped:!1,tension:0},qn.defaultRoutes={backgroundColor:\"backgroundColor\",borderColor:\"borderColor\"},qn.descriptors={_scriptable:!0,_indexable:t=>\"borderDash\"!==t&&\"fill\"!==t};class Gn extends Ds{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:n,y:o}=this.getProps([\"x\",\"y\"],i);return Math.pow(t-n,2)+Math.pow(e-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return Kn(this,t,\"x\",e)}inYRange(t,e){return Kn(this,t,\"y\",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps([\"x\",\"y\"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Jt(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Zt(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Zn(t,e){const{x:i,y:s,base:n,width:o,height:a}=t.getProps([\"x\",\"y\",\"base\",\"width\",\"height\"],e);let r,l,h,c,d;return t.horizontal?(d=a/2,r=Math.min(i,n),l=Math.max(i,n),h=s-d,c=s+d):(d=o/2,r=i-d,l=i+d,h=Math.min(s,n),c=Math.max(s,n)),{left:r,top:h,right:l,bottom:c}}function Jn(t,e,i,s){return t?0:jt(e,i,s)}function Qn(t){const e=Zn(t),i=e.right-e.left,s=e.bottom-e.top,n=function(t,e,i){const s=t.options.borderWidth,n=t.borderSkipped,o=Ve(s);return{t:Jn(n.top,o.top,0,i),r:Jn(n.right,o.right,0,e),b:Jn(n.bottom,o.bottom,0,i),l:Jn(n.left,o.left,0,e)}}(t,i/2,s/2),o=function(t,e,i){const{enableBorderRadius:s}=t.getProps([\"enableBorderRadius\"]),n=t.options.borderRadius,o=We(n),a=Math.min(e,i),r=t.borderSkipped,l=s||U(n);return{topLeft:Jn(!l||r.top||r.left,o.topLeft,0,a),topRight:Jn(!l||r.top||r.right,o.topRight,0,a),bottomLeft:Jn(!l||r.bottom||r.left,o.bottomLeft,0,a),bottomRight:Jn(!l||r.bottom||r.right,o.bottomRight,0,a)}}(t,i/2,s/2);return{outer:{x:e.left,y:e.top,w:i,h:s,radius:o},inner:{x:e.left+n.l,y:e.top+n.t,w:i-n.l-n.r,h:s-n.t-n.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,o.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(n.b,n.r))}}}}function to(t,e,i,s){const n=null===e,o=null===i,a=t&&!(n&&o)&&Zn(t,s);return a&&(n||Yt(e,a.left,a.right))&&(o||Yt(i,a.top,a.bottom))}function eo(t,e){t.rect(e.x,e.y,e.w,e.h)}function io(t,e,i={}){const s=t.x!==i.x?-e:0,n=t.y!==i.y?-e:0,o=(t.x+t.w!==i.x+i.w?e:0)-s,a=(t.y+t.h!==i.y+i.h?e:0)-n;return{x:t.x+s,y:t.y+n,w:t.w+o,h:t.h+a,radius:t.radius}}Gn.id=\"point\",Gn.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:\"circle\",radius:3,rotation:0},Gn.defaultRoutes={backgroundColor:\"backgroundColor\",borderColor:\"borderColor\"};class so extends Ds{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:n,outer:o}=Qn(this),a=(r=o.radius).topLeft||r.topRight||r.bottomLeft||r.bottomRight?oe:eo;var r;t.save(),o.w===n.w&&o.h===n.h||(t.beginPath(),a(t,io(o,e,n)),t.clip(),a(t,io(n,-e,o)),t.fillStyle=i,t.fill(\"evenodd\")),t.beginPath(),a(t,io(n,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return to(this,t,e,i)}inXRange(t,e){return to(this,t,null,e)}inYRange(t,e){return to(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:n}=this.getProps([\"x\",\"y\",\"base\",\"horizontal\"],t);return{x:n?(e+s)/2:e,y:n?i:(i+s)/2}}getRange(t){return\"x\"===t?this.width/2:this.height/2}}so.id=\"bar\",so.defaults={borderSkipped:\"start\",borderWidth:0,borderRadius:0,inflateAmount:\"auto\",pointStyle:void 0},so.defaultRoutes={backgroundColor:\"backgroundColor\",borderColor:\"borderColor\"};var no=Object.freeze({__proto__:null,ArcElement:Vn,LineElement:qn,PointElement:Gn,BarElement:so});function oo(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,\"data\",{value:e})}}function ao(t){t.data.datasets.forEach((t=>{oo(t)}))}var ro={id:\"decimation\",defaults:{algorithm:\"min-max\",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled)return void ao(t);const s=t.width;t.data.datasets.forEach(((e,n)=>{const{_data:o,indexAxis:a}=e,r=t.getDatasetMeta(n),l=o||e.data;if(\"y\"===je([a,t.options.indexAxis]))return;if(\"line\"!==r.type)return;const h=t.scales[r.xAxisID];if(\"linear\"!==h.type&&\"time\"!==h.type)return;if(t.options.parsing)return;let{start:c,count:d}=function(t,e){const i=e.length;let s,n=0;const{iScale:o}=t,{min:a,max:r,minDefined:l,maxDefined:h}=o.getUserBounds();return l&&(n=jt(re(e,o.axis,a).lo,0,i-1)),s=h?jt(re(e,o.axis,r).hi+1,n,i)-n:i-n,{start:n,count:s}}(r,l);if(d<=(i.threshold||4*s))return void oo(e);let u;switch($(o)&&(e._data=l,delete e.data,Object.defineProperty(e,\"data\",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case\"lttb\":u=function(t,e,i,s,n){const o=n.samples||s;if(o>=i)return t.slice(e,e+i);const a=[],r=(i-2)/(o-2);let l=0;const h=e+i-1;let c,d,u,f,g,p=e;for(a[l++]=t[p],c=0;c<o-2;c++){let s,n=0,o=0;const h=Math.floor((c+1)*r)+1+e,m=Math.min(Math.floor((c+2)*r)+1,i)+e,x=m-h;for(s=h;s<m;s++)n+=t[s].x,o+=t[s].y;n/=x,o/=x;const b=Math.floor(c*r)+1+e,_=Math.min(Math.floor((c+1)*r)+1,i)+e,{x:y,y:v}=t[p];for(u=f=-1,s=b;s<_;s++)f=.5*Math.abs((y-n)*(t[s].y-v)-(y-t[s].x)*(o-v)),f>u&&(u=f,d=t[s],g=s);a[l++]=d,p=g}return a[l++]=t[h],a}(l,c,d,s,i);break;case\"min-max\":u=function(t,e,i,s){let n,o,a,r,l,h,c,d,u,f,g=0,p=0;const m=[],x=e+i-1,b=t[e].x,_=t[x].x-b;for(n=e;n<e+i;++n){o=t[n],a=(o.x-b)/_*s,r=o.y;const e=0|a;if(e===l)r<u?(u=r,h=n):r>f&&(f=r,c=n),g=(p*g+o.x)/++p;else{const i=n-1;if(!$(h)&&!$(c)){const e=Math.min(h,c),s=Math.max(h,c);e!==d&&e!==i&&m.push({...t[e],x:g}),s!==d&&s!==i&&m.push({...t[s],x:g})}n>0&&i!==d&&m.push(t[i]),m.push(o),l=e,p=0,u=f=r,h=c=d=n}}return m}(l,c,d,s);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=u}))},destroy(t){ao(t)}};function lo(t,e,i){const s=function(t){const e=t.options,i=e.fill;let s=K(i&&i.target,i);return void 0===s&&(s=!!e.backgroundColor),!1!==s&&null!==s&&(!0===s?\"origin\":s)}(t);if(U(s))return!isNaN(s.value)&&s;let n=parseFloat(s);return X(n)&&Math.floor(n)===n?(\"-\"!==s[0]&&\"+\"!==s[0]||(n=e+n),!(n===e||n<0||n>=i)&&n):[\"origin\",\"start\",\"end\",\"stack\",\"shape\"].indexOf(s)>=0&&s}class ho{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:n,radius:o}=this;return e=e||{start:0,end:yt},t.arc(s,n,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,n=t.angle;return{x:e+Math.cos(n)*s,y:i+Math.sin(n)*s,angle:n}}}function co(t){return(t.scale||{}).getPointPositionForValue?function(t){const{scale:e,fill:i}=t,s=e.options,n=e.getLabels().length,o=[],a=s.reverse?e.max:e.min,r=s.reverse?e.min:e.max;let l,h,c;if(c=\"start\"===i?a:\"end\"===i?r:U(i)?i.value:e.getBaseValue(),s.grid.circular)return h=e.getPointPositionForValue(0,a),new ho({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(c)});for(l=0;l<n;++l)o.push(e.getPointPositionForValue(l,c));return o}(t):function(t){const{scale:e={},fill:i}=t;let s,n=null;return\"start\"===i?n=e.bottom:\"end\"===i?n=e.top:U(i)?n=e.getPixelForValue(i.value):e.getBasePixel&&(n=e.getBasePixel()),X(n)?(s=e.isHorizontal(),{x:s?n:null,y:s?null:n}):null}(t)}function uo(t,e,i){for(;e>t;e--){const t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function fo(t,e,i){const s=[];for(let n=0;n<i.length;n++){const o=i[n],{first:a,last:r,point:l}=go(o,e,\"x\");if(!(!l||a&&r))if(a)s.unshift(l);else if(t.push(l),!r)break}t.push(...s)}function go(t,e,i){const s=t.interpolate(e,i);if(!s)return{};const n=s[i],o=t.segments,a=t.points;let r=!1,l=!1;for(let t=0;t<o.length;t++){const e=o[t],s=a[e.start][i],h=a[e.end][i];if(Yt(n,s,h)){r=n===s,l=n===h;break}}return{first:r,last:l,point:s}}function po(t){const{chart:e,fill:i,line:s}=t;if(X(i))return function(t,e){const i=t.getDatasetMeta(e);return i&&t.isDatasetVisible(e)?i.dataset:null}(e,i);if(\"stack\"===i)return function(t){const{scale:e,index:i,line:s}=t,n=[],o=s.segments,a=s.points,r=function(t,e){const i=[],s=t.getMatchingVisibleMetas(\"line\");for(let t=0;t<s.length;t++){const n=s[t];if(n.index===e)break;n.hidden||i.unshift(n.dataset)}return i}(e,i);r.push(mo({x:null,y:e.bottom},s));for(let t=0;t<o.length;t++){const e=o[t];for(let t=e.start;t<=e.end;t++)fo(n,a[t],r)}return new qn({points:n,options:{}})}(t);if(\"shape\"===i)return!0;const n=co(t);return n instanceof ho?n:mo(n,s)}function mo(t,e){let i=[],s=!1;return Y(t)?(s=!0,i=t):i=function(t,e){const{x:i=null,y:s=null}=t||{},n=e.points,o=[];return e.segments.forEach((({start:t,end:e})=>{e=uo(t,e,n);const a=n[t],r=n[e];null!==s?(o.push({x:a.x,y:s}),o.push({x:r.x,y:s})):null!==i&&(o.push({x:i,y:a.y}),o.push({x:i,y:r.y}))})),o}(t,e),i.length?new qn({points:i,options:{tension:0},_loop:s,_fullLoop:s}):null}function xo(t,e,i){let s=t[e].fill;const n=[e];let o;if(!i)return s;for(;!1!==s&&-1===n.indexOf(s);){if(!X(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;n.push(s),s=o.fill}return!1}function bo(t,e,i){const{segments:s,points:n}=e;let o=!0,a=!1;t.beginPath();for(const r of s){const{start:s,end:l}=r,h=n[s],c=n[uo(s,l,n)];o?(t.moveTo(h.x,h.y),o=!1):(t.lineTo(h.x,i),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,r,{move:a}),a?t.closePath():t.lineTo(c.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function _o(t,e,i,s){if(s)return;let n=e[t],o=i[t];return\"angle\"===t&&(n=Nt(n),o=Nt(o)),{property:t,start:n,end:o}}function yo(t,e,i,s){return t&&e?s(t[i],e[i]):t?t[i]:e?e[i]:0}function vo(t,e,i){const{top:s,bottom:n}=e.chart.chartArea,{property:o,start:a,end:r}=i||{};\"x\"===o&&(t.beginPath(),t.rect(a,s,r-a,n-s),t.clip())}function wo(t,e,i,s){const n=e.interpolate(i,s);n&&t.lineTo(n.x,n.y)}function Mo(t,e){const{line:i,target:s,property:n,color:o,scale:a}=e,r=function(t,e,i){const s=t.segments,n=t.points,o=e.points,a=[];for(const t of s){let{start:s,end:r}=t;r=uo(s,r,n);const l=_o(i,n[s],n[r],t.loop);if(!e.segments){a.push({source:t,target:l,start:n[s],end:n[r]});continue}const h=Wi(e,l);for(const e of h){const s=_o(i,o[e.start],o[e.end],e.loop),r=Vi(t,n,s);for(const t of r)a.push({source:t,target:e,start:{[i]:yo(l,s,\"start\",Math.max)},end:{[i]:yo(l,s,\"end\",Math.min)}})}}return a}(i,s,n);for(const{source:e,target:l,start:h,end:c}of r){const{style:{backgroundColor:r=o}={}}=e,d=!0!==s;t.save(),t.fillStyle=r,vo(t,a,d&&_o(n,h,c)),t.beginPath();const u=!!i.pathSegment(t,e);let f;if(d){u?t.closePath():wo(t,s,c,n);const e=!!s.pathSegment(t,l,{move:u,reverse:!0});f=u&&e,f||wo(t,s,h,n)}t.closePath(),t.fill(f?\"evenodd\":\"nonzero\"),t.restore()}}function ko(t,e,i){const s=po(e),{line:n,scale:o,axis:a}=e,r=n.options,l=r.fill,h=r.backgroundColor,{above:c=h,below:d=h}=l||{};s&&n.points.length&&(Qt(t,i),function(t,e){const{line:i,target:s,above:n,below:o,area:a,scale:r}=e,l=i._loop?\"angle\":e.axis;t.save(),\"x\"===l&&o!==n&&(bo(t,s,a.top),Mo(t,{line:i,target:s,color:n,scale:r,property:l}),t.restore(),t.save(),bo(t,s,a.bottom)),Mo(t,{line:i,target:s,color:o,scale:r,property:l}),t.restore()}(t,{line:n,target:s,above:c,below:d,area:i,scale:o,axis:a}),te(t))}var So={id:\"filler\",afterDatasetsUpdate(t,e,i){const s=(t.data.datasets||[]).length,n=[];let o,a,r,l;for(a=0;a<s;++a)o=t.getDatasetMeta(a),r=o.dataset,l=null,r&&r.options&&r instanceof qn&&(l={visible:t.isDatasetVisible(a),index:a,fill:lo(r,a,s),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:r}),o.$filler=l,n.push(l);for(a=0;a<s;++a)l=n[a],l&&!1!==l.fill&&(l.fill=xo(n,a,i.propagate))},beforeDraw(t,e,i){const s=\"beforeDraw\"===i.drawTime,n=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let e=n.length-1;e>=0;--e){const i=n[e].$filler;i&&(i.line.updateControlPoints(o,i.axis),s&&ko(t.ctx,i,o))}},beforeDatasetsDraw(t,e,i){if(\"beforeDatasetsDraw\"!==i.drawTime)return;const s=t.getSortedVisibleDatasetMetas();for(let e=s.length-1;e>=0;--e){const i=s[e].$filler;i&&ko(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,i){const s=e.meta.$filler;s&&!1!==s.fill&&\"beforeDatasetDraw\"===i.drawTime&&ko(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:\"beforeDatasetDraw\"}};const Po=(t,e)=>{let{boxHeight:i=e,boxWidth:s=e}=t;return t.usePointStyle&&(i=Math.min(i,e),s=Math.min(s,e)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(e,i)}};class Do extends Ds{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=J(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,i)=>t.sort(e,i,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,s=He(i.font),n=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:r}=Po(i,n);let l,h;e.font=s.string,this.isHorizontal()?(l=this.maxWidth,h=this._fitRows(o,n,a,r)+10):(h=this.maxHeight,l=this._fitCols(o,n,a,r)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:n,maxWidth:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.lineWidths=[0],h=s+a;let c=t;n.textAlign=\"left\",n.textBaseline=\"middle\";let d=-1,u=-h;return this.legendItems.forEach(((t,f)=>{const g=i+e/2+n.measureText(t.text).width;(0===f||l[l.length-1]+g+2*a>o)&&(c+=h,l[l.length-(f>0?0:1)]=0,u+=h,d++),r[f]={left:0,top:u,row:d,width:g,height:s},l[l.length-1]+=g+a})),c}_fitCols(t,e,i,s){const{ctx:n,maxHeight:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.columnSizes=[],h=o-t;let c=a,d=0,u=0,f=0,g=0;return this.legendItems.forEach(((t,o)=>{const p=i+e/2+n.measureText(t.text).width;o>0&&u+s+2*a>h&&(c+=d+a,l.push({width:d,height:u}),f+=d+a,g++,d=u=0),r[o]={left:f,top:u,col:g,width:p,height:s},d=Math.max(d,p),u+=s+a})),c+=d,l.push({width:d,height:u}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:o}}=this,a=Ei(o,this.left,this.width);if(this.isHorizontal()){let o=0,r=n(i,this.left+s,this.right-this.lineWidths[o]);for(const l of e)o!==l.row&&(o=l.row,r=n(i,this.left+s,this.right-this.lineWidths[o])),l.top+=this.top+t+s,l.left=a.leftForLtr(a.x(r),l.width),r+=l.width+s}else{let o=0,r=n(i,this.top+t+s,this.bottom-this.columnSizes[o].height);for(const l of e)l.col!==o&&(o=l.col,r=n(i,this.top+t+s,this.bottom-this.columnSizes[o].height)),l.top=r,l.left+=this.left+s,l.left=a.leftForLtr(a.x(l.left),l.width),r+=l.height+s}}isHorizontal(){return\"top\"===this.options.position||\"bottom\"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Qt(t,this),this._draw(),te(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:a,labels:r}=t,l=bt.color,h=Ei(t.rtl,this.left,this.width),c=He(r.font),{color:d,padding:u}=r,f=c.size,g=f/2;let p;this.drawTitle(),s.textAlign=h.textAlign(\"left\"),s.textBaseline=\"middle\",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:x,itemHeight:b}=Po(r,f),_=this.isHorizontal(),y=this._computeTitleHeight();p=_?{x:n(a,this.left+u,this.right-i[0]),y:this.top+u+y,line:0}:{x:this.left+u,y:n(a,this.top+y+u,this.bottom-e[0].height),line:0},Ii(this.ctx,t.textDirection);const v=b+u;this.legendItems.forEach(((w,M)=>{s.strokeStyle=w.fontColor||d,s.fillStyle=w.fontColor||d;const k=s.measureText(w.text).width,S=h.textAlign(w.textAlign||(w.textAlign=r.textAlign)),P=m+g+k;let D=p.x,C=p.y;h.setWidth(this.width),_?M>0&&D+P+u>this.right&&(C=p.y+=v,p.line++,D=p.x=n(a,this.left+u,this.right-i[p.line])):M>0&&C+v>this.bottom&&(D=p.x=D+e[p.line].width+u,p.line++,C=p.y=n(a,this.top+y+u,this.bottom-e[p.line].height));!function(t,e,i){if(isNaN(m)||m<=0||isNaN(x)||x<0)return;s.save();const n=K(i.lineWidth,1);if(s.fillStyle=K(i.fillStyle,l),s.lineCap=K(i.lineCap,\"butt\"),s.lineDashOffset=K(i.lineDashOffset,0),s.lineJoin=K(i.lineJoin,\"miter\"),s.lineWidth=n,s.strokeStyle=K(i.strokeStyle,l),s.setLineDash(K(i.lineDash,[])),r.usePointStyle){const o={radius:m*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:n},a=h.xPlus(t,m/2);Zt(s,o,a,e+g)}else{const o=e+Math.max((f-x)/2,0),a=h.leftForLtr(t,m),r=We(i.borderRadius);s.beginPath(),Object.values(r).some((t=>0!==t))?oe(s,{x:a,y:o,w:m,h:x,radius:r}):s.rect(a,o,m,x),s.fill(),0!==n&&s.stroke()}s.restore()}(h.x(D),C,w),D=o(S,D+m+g,_?D+P:this.right,t.rtl),function(t,e,i){se(s,i.text,t,e+b/2,c,{strikethrough:i.hidden,textAlign:h.textAlign(i.textAlign)})}(h.x(D),C,w),_?p.x+=P+u:p.y+=v})),zi(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=He(e.font),o=Ne(e.padding);if(!e.display)return;const a=Ei(t.rtl,this.left,this.width),r=this.ctx,l=e.position,h=i.size/2,c=o.top+h;let d,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,u=n(t.align,u,this.right-f);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);d=c+n(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const g=n(l,u,u+f);r.textAlign=a.textAlign(s(l)),r.textBaseline=\"middle\",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=i.string,se(r,e.text,g,d,i)}_computeTitleHeight(){const t=this.options.title,e=He(t.font),i=Ne(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,n;if(Yt(t,this.left,this.right)&&Yt(e,this.top,this.bottom))for(n=this.legendHitBoxes,i=0;i<n.length;++i)if(s=n[i],Yt(t,s.left,s.left+s.width)&&Yt(e,s.top,s.top+s.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(\"mousemove\"===t&&(e.onHover||e.onLeave))return!0;if(e.onClick&&(\"click\"===t||\"mouseup\"===t))return!0;return!1}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(\"mousemove\"===t.type){const o=this._hoveredItem,a=(n=i,null!==(s=o)&&null!==n&&s.datasetIndex===n.datasetIndex&&s.index===n.index);o&&!a&&J(e.onLeave,[t,o,this],this),this._hoveredItem=i,i&&!a&&J(e.onHover,[t,i,this],this)}else i&&J(e.onClick,[t,i,this],this);var s,n}}var Co={id:\"legend\",_element:Do,start(t,e,i){const s=t.legend=new Do({ctx:t.ctx,options:i,chart:t});ni.configure(t,s,i),ni.addBox(t,s)},stop(t){ni.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const s=t.legend;ni.configure(t,s,i),s.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:\"top\",align:\"center\",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const s=e.datasetIndex,n=i.chart;n.isDatasetVisible(s)?(n.hide(s),e.hidden=!0):(n.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:n,color:o}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const a=t.controller.getStyle(i?0:void 0),r=Ne(a.borderWidth);return{text:e[t.index].label,fillStyle:a.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(r.width+r.height)/4,strokeStyle:a.borderColor,pointStyle:s||a.pointStyle,rotation:a.rotation,textAlign:n||a.textAlign,borderRadius:0,datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:\"center\",text:\"\"}},descriptors:{_scriptable:t=>!t.startsWith(\"on\"),labels:{_scriptable:t=>![\"generateLabels\",\"filter\",\"sort\"].includes(t)}}};class Oo extends Ds{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const s=Y(i.text)?i.text.length:1;this._padding=Ne(i.padding);const n=s*He(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){const t=this.options.position;return\"top\"===t||\"bottom\"===t}_drawArgs(t){const{top:e,left:i,bottom:s,right:o,options:a}=this,r=a.align;let l,h,c,d=0;return this.isHorizontal()?(h=n(r,i,o),c=e+t,l=o-i):(\"left\"===a.position?(h=i+t,c=n(r,s,e),d=-.5*_t):(h=o-t,c=n(r,e,s),d=.5*_t),l=s-e),{titleX:h,titleY:c,maxWidth:l,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=He(e.font),n=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:r,rotation:l}=this._drawArgs(n);se(t,e.text,0,0,i,{color:e.color,maxWidth:r,rotation:l,textAlign:s(e.align),textBaseline:\"middle\",translation:[o,a]})}}var Ao={id:\"title\",_element:Oo,start(t,e,i){!function(t,e){const i=new Oo({ctx:t.ctx,options:e,chart:t});ni.configure(t,i,e),ni.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){const e=t.titleBlock;ni.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const s=t.titleBlock;ni.configure(t,s,i),s.options=i},defaults:{align:\"center\",display:!1,font:{weight:\"bold\"},fullSize:!0,padding:10,position:\"top\",text:\"\",weight:2e3},defaultRoutes:{color:\"color\"},descriptors:{_scriptable:!0,_indexable:!1}};const To=new WeakMap;var Lo={id:\"subtitle\",start(t,e,i){const s=new Oo({ctx:t.ctx,options:i,chart:t});ni.configure(t,s,i),ni.addBox(t,s),To.set(t,s)},stop(t){ni.removeBox(t,To.get(t)),To.delete(t)},beforeUpdate(t,e,i){const s=To.get(t);ni.configure(t,s,i),s.options=i},defaults:{align:\"center\",display:!1,font:{weight:\"normal\"},fullSize:!0,padding:0,position:\"top\",text:\"\",weight:1500},defaultRoutes:{color:\"color\"},descriptors:{_scriptable:!0,_indexable:!1}};const Ro={average(t){if(!t.length)return!1;let e,i,s=0,n=0,o=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();s+=t.x,n+=t.y,++o}}return{x:s/o,y:n/o}},nearest(t,e){if(!t.length)return!1;let i,s,n,o=e.x,a=e.y,r=Number.POSITIVE_INFINITY;for(i=0,s=t.length;i<s;++i){const s=t[i].element;if(s&&s.hasValue()){const t=Vt(e,s.getCenterPoint());t<r&&(r=t,n=s)}}if(n){const t=n.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function Eo(t,e){return e&&(Y(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Io(t){return(\"string\"==typeof t||t instanceof String)&&t.indexOf(\"\\n\")>-1?t.split(\"\\n\"):t}function zo(t,e){const{element:i,datasetIndex:s,index:n}=e,o=t.getDatasetMeta(s).controller,{label:a,value:r}=o.getLabelAndValue(n);return{chart:t,label:a,parsed:o.getParsed(n),raw:t.data.datasets[s].data[n],formattedValue:r,dataset:o.getDataset(),dataIndex:n,datasetIndex:s,element:i}}function Fo(t,e){const i=t.chart.ctx,{body:s,footer:n,title:o}=t,{boxWidth:a,boxHeight:r}=e,l=He(e.bodyFont),h=He(e.titleFont),c=He(e.footerFont),d=o.length,u=n.length,f=s.length,g=Ne(e.padding);let p=g.height,m=0,x=s.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(p+=d*h.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){p+=f*(e.displayColors?Math.max(r,l.lineHeight):l.lineHeight)+(x-f)*l.lineHeight+(x-1)*e.bodySpacing}u&&(p+=e.footerMarginTop+u*c.lineHeight+(u-1)*e.footerSpacing);let b=0;const _=function(t){m=Math.max(m,i.measureText(t).width+b)};return i.save(),i.font=h.string,Q(t.title,_),i.font=l.string,Q(t.beforeBody.concat(t.afterBody),_),b=e.displayColors?a+2+e.boxPadding:0,Q(s,(t=>{Q(t.before,_),Q(t.lines,_),Q(t.after,_)})),b=0,i.font=c.string,Q(t.footer,_),i.restore(),m+=g.width,{width:m,height:p}}function Bo(t,e,i,s){const{x:n,width:o}=i,{width:a,chartArea:{left:r,right:l}}=t;let h=\"center\";return\"center\"===s?h=n<=(r+l)/2?\"left\":\"right\":n<=o/2?h=\"left\":n>=a-o/2&&(h=\"right\"),function(t,e,i,s){const{x:n,width:o}=s,a=i.caretSize+i.caretPadding;return\"left\"===t&&n+o+a>e.width||\"right\"===t&&n-o-a<0||void 0}(h,t,e,i)&&(h=\"center\"),h}function Vo(t,e,i){const s=i.yAlign||e.yAlign||function(t,e){const{y:i,height:s}=e;return i<s/2?\"top\":i>t.height-s/2?\"bottom\":\"center\"}(t,i);return{xAlign:i.xAlign||e.xAlign||Bo(t,e,i,s),yAlign:s}}function Wo(t,e,i,s){const{caretSize:n,caretPadding:o,cornerRadius:a}=t,{xAlign:r,yAlign:l}=i,h=n+o,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=We(a);let g=function(t,e){let{x:i,width:s}=t;return\"right\"===e?i-=s:\"center\"===e&&(i-=s/2),i}(e,r);const p=function(t,e,i){let{y:s,height:n}=t;return\"top\"===e?s+=i:s-=\"bottom\"===e?n+i:n/2,s}(e,l,h);return\"center\"===l?\"left\"===r?g+=h:\"right\"===r&&(g-=h):\"left\"===r?g-=Math.max(c,u)+n:\"right\"===r&&(g+=Math.max(d,f)+n),{x:jt(g,0,s.width-e.width),y:jt(p,0,s.height-e.height)}}function No(t,e,i){const s=Ne(i.padding);return\"center\"===e?t.x+t.width/2:\"right\"===e?t.x+t.width-s.right:t.x+s.left}function Ho(t){return Eo([],Io(t))}function jo(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}class $o extends Ds{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,n=new gs(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,i=this._tooltipItems,Ye(t,{tooltip:e,tooltipItems:i,type:\"tooltip\"})));var t,e,i}getTitle(t,e){const{callbacks:i}=e,s=i.beforeTitle.apply(this,[t]),n=i.title.apply(this,[t]),o=i.afterTitle.apply(this,[t]);let a=[];return a=Eo(a,Io(s)),a=Eo(a,Io(n)),a=Eo(a,Io(o)),a}getBeforeBody(t,e){return Ho(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:i}=e,s=[];return Q(t,(t=>{const e={before:[],lines:[],after:[]},n=jo(i,t);Eo(e.before,Io(n.beforeLabel.call(this,t))),Eo(e.lines,n.label.call(this,t)),Eo(e.after,Io(n.afterLabel.call(this,t))),s.push(e)})),s}getAfterBody(t,e){return Ho(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:i}=e,s=i.beforeFooter.apply(this,[t]),n=i.footer.apply(this,[t]),o=i.afterFooter.apply(this,[t]);let a=[];return a=Eo(a,Io(s)),a=Eo(a,Io(n)),a=Eo(a,Io(o)),a}_createItems(t){const e=this._active,i=this.chart.data,s=[],n=[],o=[];let a,r,l=[];for(a=0,r=e.length;a<r;++a)l.push(zo(this.chart,e[a]));return t.filter&&(l=l.filter(((e,s,n)=>t.filter(e,s,n,i)))),t.itemSort&&(l=l.sort(((e,s)=>t.itemSort(e,s,i)))),Q(l,(e=>{const i=jo(t.callbacks,e);s.push(i.labelColor.call(this,e)),n.push(i.labelPointStyle.call(this,e)),o.push(i.labelTextColor.call(this,e))})),this.labelColors=s,this.labelPointStyles=n,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let n,o=[];if(s.length){const t=Ro[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const e=this._size=Fo(this,i),a=Object.assign({},t,e),r=Vo(this.chart,i,a),l=Wo(i,a,r,this.chart);this.xAlign=r.xAlign,this.yAlign=r.yAlign,n={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=o,this.$context=void 0,n&&this._resolveAnimations().update(this,n),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const n=this.getCaretPosition(t,i,s);e.lineTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineTo(n.x3,n.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:n}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:r,topRight:l,bottomLeft:h,bottomRight:c}=We(a),{x:d,y:u}=t,{width:f,height:g}=e;let p,m,x,b,_,y;return\"center\"===n?(_=u+g/2,\"left\"===s?(p=d,m=p-o,b=_+o,y=_-o):(p=d+f,m=p+o,b=_-o,y=_+o),x=p):(m=\"left\"===s?d+Math.max(r,h)+o:\"right\"===s?d+f-Math.max(l,c)-o:this.caretX,\"top\"===n?(b=u,_=b-o,p=m-o,x=m+o):(b=u+g,_=b+o,p=m+o,x=m-o),y=b),{x1:p,x2:m,x3:x,y1:b,y2:_,y3:y}}drawTitle(t,e,i){const s=this.title,n=s.length;let o,a,r;if(n){const l=Ei(i.rtl,this.x,this.width);for(t.x=No(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline=\"middle\",o=He(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,r=0;r<n;++r)e.fillText(s[r],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,r+1===n&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,s,n){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:r,boxWidth:l,boxPadding:h}=n,c=He(n.bodyFont),d=No(this,\"left\",n),u=s.x(d),f=r<c.lineHeight?(c.lineHeight-r)/2:0,g=e.y+f;if(n.usePointStyle){const e={radius:Math.min(l,r)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},i=s.leftForLtr(u,l)+l/2,h=g+r/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,Zt(t,e,i,h),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Zt(t,e,i,h)}else{t.lineWidth=o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=s.leftForLtr(u,l-h),i=s.leftForLtr(s.xPlus(u,1),l-h-2),a=We(o.borderRadius);Object.values(a).some((t=>0!==t))?(t.beginPath(),t.fillStyle=n.multiKeyBackground,oe(t,{x:e,y:g,w:l,h:r,radius:a}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),oe(t,{x:i,y:g+1,w:l-2,h:r-2,radius:a}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(e,g,l,r),t.strokeRect(e,g,l,r),t.fillStyle=o.backgroundColor,t.fillRect(i,g+1,l-2,r-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:n,bodyAlign:o,displayColors:a,boxHeight:r,boxWidth:l,boxPadding:h}=i,c=He(i.bodyFont);let d=c.lineHeight,u=0;const f=Ei(i.rtl,this.x,this.width),g=function(i){e.fillText(i,f.x(t.x+u),t.y+d/2),t.y+=d+n},p=f.textAlign(o);let m,x,b,_,y,v,w;for(e.textAlign=o,e.textBaseline=\"middle\",e.font=c.string,t.x=No(this,p,i),e.fillStyle=i.bodyColor,Q(this.beforeBody,g),u=a&&\"right\"!==p?\"center\"===o?l/2+h:l+2+h:0,_=0,v=s.length;_<v;++_){for(m=s[_],x=this.labelTextColors[_],e.fillStyle=x,Q(m.before,g),b=m.lines,a&&b.length&&(this._drawColorBox(e,t,_,f,i),d=Math.max(c.lineHeight,r)),y=0,w=b.length;y<w;++y)g(b[y]),d=c.lineHeight;Q(m.after,g)}u=0,d=c.lineHeight,Q(this.afterBody,g),t.y-=n}drawFooter(t,e,i){const s=this.footer,n=s.length;let o,a;if(n){const r=Ei(i.rtl,this.x,this.width);for(t.x=No(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=r.textAlign(i.footerAlign),e.textBaseline=\"middle\",o=He(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<n;++a)e.fillText(s[a],r.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:n,yAlign:o}=this,{x:a,y:r}=t,{width:l,height:h}=i,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=We(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+c,r),\"top\"===o&&this.drawCaret(t,e,i,s),e.lineTo(a+l-d,r),e.quadraticCurveTo(a+l,r,a+l,r+d),\"center\"===o&&\"right\"===n&&this.drawCaret(t,e,i,s),e.lineTo(a+l,r+h-f),e.quadraticCurveTo(a+l,r+h,a+l-f,r+h),\"bottom\"===o&&this.drawCaret(t,e,i,s),e.lineTo(a+u,r+h),e.quadraticCurveTo(a,r+h,a,r+h-u),\"center\"===o&&\"left\"===n&&this.drawCaret(t,e,i,s),e.lineTo(a,r+c),e.quadraticCurveTo(a,r,a+c,r),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,n=i&&i.y;if(s||n){const i=Ro[t.position].call(this,this._active,this._eventPosition);if(!i)return;const o=this._size=Fo(this,t),a=Object.assign({},i,this._size),r=Vo(e,t,a),l=Wo(t,a,r,e);s._to===l.x&&n._to===l.y||(this.xAlign=r.xAlign,this.yAlign=r.yAlign,this.width=o.width,this.height=o.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},n={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ne(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(n,t,s,e),Ii(t,e.textDirection),n.y+=o.top,this.drawTitle(n,t,e),this.drawBody(n,t,e),this.drawFooter(n,t,e),zi(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map((({datasetIndex:t,index:e})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error(\"Cannot find a dataset at index \"+t);return{datasetIndex:t,element:i.data[e],index:e}})),n=!tt(i,s),o=this._positionChanged(s,e);(n||o)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,n=this._active||[],o=this._getActiveElements(t,n,e,i),a=this._positionChanged(o,t),r=e||!tt(o,n)||a;return r&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),r}_getActiveElements(t,e,i,s){const n=this.options;if(\"mouseout\"===t.type)return[];if(!s)return e;const o=this.chart.getElementsAtEventForMode(t,n.mode,n,i);return n.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:s,options:n}=this,o=Ro[n.position].call(this,t,e);return!1!==o&&(i!==o.x||s!==o.y)}}$o.positioners=Ro;var Yo={id:\"tooltip\",_element:$o,positioners:Ro,afterInit(t,e,i){i&&(t.tooltip=new $o({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip,i={tooltip:e};!1!==t.notifyPlugins(\"beforeTooltipDraw\",i)&&(e&&e.draw(t.ctx),t.notifyPlugins(\"afterTooltipDraw\",i))},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:\"average\",backgroundColor:\"rgba(0,0,0,0.8)\",titleColor:\"#fff\",titleFont:{weight:\"bold\"},titleSpacing:2,titleMarginBottom:6,titleAlign:\"left\",bodyColor:\"#fff\",bodySpacing:2,bodyFont:{},bodyAlign:\"left\",footerColor:\"#fff\",footerSpacing:2,footerMarginTop:6,footerFont:{weight:\"bold\"},footerAlign:\"left\",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:\"#fff\",displayColors:!0,boxPadding:0,borderColor:\"rgba(0,0,0,0)\",borderWidth:0,animation:{duration:400,easing:\"easeOutQuart\"},animations:{numbers:{type:\"number\",properties:[\"x\",\"y\",\"width\",\"height\",\"caretX\",\"caretY\"]},opacity:{easing:\"linear\",duration:200}},callbacks:{beforeTitle:H,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,s=i?i.length:0;if(this&&this.options&&\"dataset\"===this.options.mode)return e.dataset.label||\"\";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return i[e.dataIndex]}return\"\"},afterTitle:H,beforeBody:H,beforeLabel:H,label(t){if(this&&this.options&&\"dataset\"===this.options.mode)return t.label+\": \"+t.formattedValue||t.formattedValue;let e=t.dataset.label||\"\";e&&(e+=\": \");const i=t.formattedValue;return $(i)||(e+=i),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:H,afterBody:H,beforeFooter:H,footer:H,afterFooter:H}},defaultRoutes:{bodyFont:\"font\",footerFont:\"font\",titleFont:\"font\"},descriptors:{_scriptable:t=>\"filter\"!==t&&\"itemSort\"!==t&&\"external\"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:\"animation\"}},additionalOptionScopes:[\"interaction\"]},Uo=Object.freeze({__proto__:null,Decimation:ro,Filler:So,Legend:Co,SubTitle:Lo,Title:Ao,Tooltip:Yo});function Xo(t,e,i,s){const n=t.indexOf(e);if(-1===n)return((t,e,i,s)=>(\"string\"==typeof e?(i=t.push(e)-1,s.unshift({index:i,label:e})):isNaN(e)&&(i=null),i))(t,e,i,s);return n!==t.lastIndexOf(e)?i:n}class qo extends Bs{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:i,label:s}of e)t[i]===s&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if($(t))return null;const i=this.getLabels();return((t,e)=>null===t?null:jt(Math.round(t),0,e))(e=isFinite(e)&&i[e]===t?e:Xo(i,t,K(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);\"ticks\"===this.options.bounds&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let n=this.getLabels();n=0===t&&e===n.length-1?n:n.slice(t,e+1),this._valueRange=Math.max(n.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=t;i<=e;i++)s.push({value:i});return s}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return\"number\"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Ko(t,e,{horizontal:i,minRotation:s}){const n=It(s),o=(i?Math.sin(n):Math.cos(n))||.001,a=.75*e*(\"\"+t).length;return Math.min(e/o,a)}qo.id=\"category\",qo.defaults={ticks:{callback:qo.prototype.getLabelForValue}};class Go extends Bs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return $(t)||(\"number\"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:n}=this;const o=t=>s=e?s:t,a=t=>n=i?n:t;if(t){const t=Ct(s),e=Ct(n);t<0&&e<0?a(0):t>0&&e>0&&o(0)}if(s===n){let e=1;(n>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(e=Math.abs(.05*n)),a(n+e),t||o(s-e)}this.min=s,this.max=n}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:s}=t;return s?(e=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s=function(t,e){const i=[],{bounds:s,step:n,min:o,max:a,precision:r,count:l,maxTicks:h,maxDigits:c,includeBounds:d}=t,u=n||1,f=h-1,{min:g,max:p}=e,m=!$(o),x=!$(a),b=!$(l),_=(p-g)/(c+1);let y,v,w,M,k=Ot((p-g)/f/u)*u;if(k<1e-14&&!m&&!x)return[{value:g},{value:p}];M=Math.ceil(p/k)-Math.floor(g/k),M>f&&(k=Ot(M*k/f/u)*u),$(r)||(y=Math.pow(10,r),k=Math.ceil(k*y)/y),\"ticks\"===s?(v=Math.floor(g/k)*k,w=Math.ceil(p/k)*k):(v=g,w=p),m&&x&&n&&Rt((a-o)/n,k/1e3)?(M=Math.round(Math.min((a-o)/k,h)),k=(a-o)/M,v=o,w=a):b?(v=m?o:v,w=x?a:w,M=l-1,k=(w-v)/M):(M=(w-v)/k,M=Lt(M,Math.round(M),k/1e3)?Math.round(M):Math.ceil(M));const S=Math.max(Ft(k),Ft(v));y=Math.pow(10,$(r)?S:r),v=Math.round(v*y)/y,w=Math.round(w*y)/y;let P=0;for(m&&(d&&v!==o?(i.push({value:o}),v<o&&P++,Lt(Math.round((v+P*k)*y)/y,o,Ko(o,_,t))&&P++):v<o&&P++);P<M;++P)i.push({value:Math.round((v+P*k)*y)/y});return x&&d&&w!==a?i.length&&Lt(i[i.length-1].value,a,Ko(a,_,t))?i[i.length-1].value=a:i.push({value:a}):x&&w!==a||i.push({value:w}),i}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return\"ticks\"===t.bounds&&Et(s,this,\"value\"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Ri(t,this.chart.options.locale,this.options.ticks.format)}}class Zo extends Go{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=X(t)?t:0,this.max=X(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=It(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,n.lineHeight/s))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function Jo(t){return 1===t/Math.pow(10,Math.floor(Dt(t)))}Zo.id=\"linear\",Zo.defaults={ticks:{callback:Os.formatters.numeric}};class Qo extends Bs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Go.prototype.parse.apply(this,[t,e]);if(0!==i)return X(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=X(t)?Math.max(0,t):null,this.max=X(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const n=e=>i=t?i:e,o=t=>s=e?s:t,a=(t,e)=>Math.pow(10,Math.floor(Dt(t))+e);i===s&&(i<=0?(n(1),o(10)):(n(a(i,-1)),o(a(s,1)))),i<=0&&n(a(s,-1)),s<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&n(a(i,-1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e=function(t,e){const i=Math.floor(Dt(e.max)),s=Math.ceil(e.max/Math.pow(10,i)),n=[];let o=q(t.min,Math.pow(10,Math.floor(Dt(e.min)))),a=Math.floor(Dt(o)),r=Math.floor(o/Math.pow(10,a)),l=a<0?Math.pow(10,Math.abs(a)):1;do{n.push({value:o,major:Jo(o)}),++r,10===r&&(r=1,++a,l=a>=0?1:l),o=Math.round(r*Math.pow(10,a)*l)/l}while(a<i||a===i&&r<s);const h=q(t.max,o);return n.push({value:h,major:Jo(o)}),n}({min:this._userMin,max:this._userMax},this);return\"ticks\"===t.bounds&&Et(e,this,\"value\"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?\"0\":Ri(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Dt(t),this._valueRange=Dt(this.max)-Dt(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Dt(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function ta(t){const e=t.ticks;if(e.display&&t.display){const t=Ne(e.backdropPadding);return K(e.font&&e.font.size,bt.font.size)+t.height}return 0}function ea(t,e,i,s,n){return t===s||t===n?{start:e-i/2,end:e+i/2}:t<s||t>n?{start:e-i,end:e}:{start:e,end:e+i}}function ia(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),s=[],n=[],o=t._pointLabels.length,a=t.options.pointLabels,r=a.centerPointLabels?_t/o:0;for(let d=0;d<o;d++){const o=a.setContext(t.getPointLabelContext(d));n[d]=o.padding;const u=t.getPointPosition(d,t.drawingArea+n[d],r),f=He(o.font),g=(l=t.ctx,h=f,c=Y(c=t._pointLabels[d])?c:[c],{w:qt(l,h.string,c),h:c.length*h.lineHeight});s[d]=g;const p=Nt(t.getIndexAngle(d)+r),m=Math.round(zt(p));sa(i,e,p,ea(m,u.x,g.w,0,180),ea(m,u.y,g.h,90,270))}var l,h,c;t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=function(t,e,i){const s=[],n=t._pointLabels.length,o=t.options,a=ta(o)/2,r=t.drawingArea,l=o.pointLabels.centerPointLabels?_t/n:0;for(let o=0;o<n;o++){const n=t.getPointPosition(o,r+a+i[o],l),h=Math.round(zt(Nt(n.angle+kt))),c=e[o],d=aa(n.y,c.h,h),u=na(h),f=oa(n.x,c.w,u);s.push({x:n.x,y:d,textAlign:u,left:f,top:d,right:f+c.w,bottom:d+c.h})}return s}(t,s,n)}function sa(t,e,i,s,n){const o=Math.abs(Math.sin(i)),a=Math.abs(Math.cos(i));let r=0,l=0;s.start<e.l?(r=(e.l-s.start)/o,t.l=Math.min(t.l,e.l-r)):s.end>e.r&&(r=(s.end-e.r)/o,t.r=Math.max(t.r,e.r+r)),n.start<e.t?(l=(e.t-n.start)/a,t.t=Math.min(t.t,e.t-l)):n.end>e.b&&(l=(n.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function na(t){return 0===t||180===t?\"center\":t<180?\"left\":\"right\"}function oa(t,e,i){return\"right\"===i?t-=e:\"center\"===i&&(t-=e/2),t}function aa(t,e,i){return 90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e),t}function ra(t,e,i,s){const{ctx:n}=t;if(i)n.arc(t.xCenter,t.yCenter,e,0,yt);else{let i=t.getPointPosition(0,e);n.moveTo(i.x,i.y);for(let o=1;o<s;o++)i=t.getPointPosition(o,e),n.lineTo(i.x,i.y)}}Qo.id=\"logarithmic\",Qo.defaults={ticks:{callback:Os.formatters.logarithmic,major:{enabled:!0}}};class la extends Go{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ne(ta(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=X(t)&&!isNaN(t)?t:0,this.max=X(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ta(this.options))}generateTickLabels(t){Go.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const i=J(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:\"\"})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?ia(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){return Nt(t*(yt/(this._pointLabels.length||1))+It(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if($(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if($(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function(t,e,i){return Ye(t,{label:i,index:e,type:\"pointLabel\"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-kt+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:n}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:n}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),ra(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s}=e,n=this._pointLabels.length;let o,a,r;if(e.pointLabels.display&&function(t,e){const{ctx:i,options:{pointLabels:s}}=t;for(let n=e-1;n>=0;n--){const e=s.setContext(t.getPointLabelContext(n)),o=He(e.font),{x:a,y:r,textAlign:l,left:h,top:c,right:d,bottom:u}=t._pointLabelItems[n],{backdropColor:f}=e;if(!$(f)){const t=Ne(e.backdropPadding);i.fillStyle=f,i.fillRect(h-t.left,c-t.top,d-h+t.width,u-c+t.height)}se(i,t._pointLabels[n],a,r+o.lineHeight/2,o,{color:e.color,textAlign:l,textBaseline:\"middle\"})}}(this,n),s.display&&this.ticks.forEach(((t,e)=>{if(0!==e){a=this.getDistanceFromCenterForValue(t.value);!function(t,e,i,s){const n=t.ctx,o=e.circular,{color:a,lineWidth:r}=e;!o&&!s||!a||!r||i<0||(n.save(),n.strokeStyle=a,n.lineWidth=r,n.setLineDash(e.borderDash),n.lineDashOffset=e.borderDashOffset,n.beginPath(),ra(t,i,o,s),n.closePath(),n.stroke(),n.restore())}(this,s.setContext(this.getContext(e-1)),a,n)}})),i.display){for(t.save(),o=n-1;o>=0;o--){const s=i.setContext(this.getPointLabelContext(o)),{color:n,lineWidth:l}=s;l&&n&&(t.lineWidth=l,t.strokeStyle=n,t.setLineDash(s.borderDash),t.lineDashOffset=s.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),r=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(r.x,r.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let n,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign=\"center\",t.textBaseline=\"middle\",this.ticks.forEach(((s,a)=>{if(0===a&&!e.reverse)return;const r=i.setContext(this.getContext(a)),l=He(r.font);if(n=this.getDistanceFromCenterForValue(this.ticks[a].value),r.showLabelBackdrop){t.font=l.string,o=t.measureText(s.label).width,t.fillStyle=r.backdropColor;const e=Ne(r.backdropPadding);t.fillRect(-o/2-e.left,-n-l.size/2-e.top,o+e.width,l.size+e.height)}se(t,s.label,0,-n,l,{color:r.color})})),t.restore()}drawTitle(){}}la.id=\"radialLinear\",la.defaults={display:!0,animate:!0,position:\"chartArea\",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Os.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}},la.defaultRoutes={\"angleLines.color\":\"borderColor\",\"pointLabels.color\":\"color\",\"ticks.color\":\"color\"},la.descriptors={angleLines:{_fallback:\"grid\"}};const ha={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ca=Object.keys(ha);function da(t,e){return t-e}function ua(t,e){if($(e))return null;const i=t._adapter,{parser:s,round:n,isoWeekday:o}=t._parseOpts;let a=e;return\"function\"==typeof s&&(a=s(a)),X(a)||(a=\"string\"==typeof s?i.parse(a,s):i.parse(a)),null===a?null:(n&&(a=\"week\"!==n||!Tt(o)&&!0!==o?i.startOf(a,n):i.startOf(a,\"isoWeek\",o)),+a)}function fa(t,e,i,s){const n=ca.length;for(let o=ca.indexOf(t);o<n-1;++o){const t=ha[ca[o]],n=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(n*t.size))<=s)return ca[o]}return ca[n-1]}function ga(t,e,i){if(i){if(i.length){const{lo:s,hi:n}=ae(i,e);t[i[s]>=e?i[s]:i[n]]=!0}}else t[e]=!0}function pa(t,e,i){const s=[],n={},o=e.length;let a,r;for(a=0;a<o;++a)r=e[a],n[r]=a,s.push({value:r,major:!1});return 0!==o&&i?function(t,e,i,s){const n=t._adapter,o=+n.startOf(e[0].value,s),a=e[e.length-1].value;let r,l;for(r=o;r<=a;r=+n.add(r,1,s))l=i[r],l>=0&&(e[l].major=!0);return e}(t,s,n,i):s}class ma extends Bs{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit=\"day\",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const i=t.time||(t.time={}),s=this._adapter=new mn._date(t.adapters.date);ot(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:ua(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||\"day\";let{min:s,max:n,minDefined:o,maxDefined:a}=this.getUserBounds();function r(t){o||isNaN(t.min)||(s=Math.min(s,t.min)),a||isNaN(t.max)||(n=Math.max(n,t.max))}o&&a||(r(this._getLabelBounds()),\"ticks\"===t.bounds&&\"labels\"===t.ticks.source||r(this.getMinMax(!1))),s=X(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),n=X(n)&&!isNaN(n)?n:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,n-1),this.max=Math.max(s+1,n)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=\"labels\"===i.source?this.getLabelTimestamps():this._generate();\"ticks\"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const n=this.min,o=he(s,n,this.max);return this._unit=e.unit||(i.autoSkip?fa(e.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(t,e,i,s,n){for(let o=ca.length-1;o>=ca.indexOf(i);o--){const i=ca[o];if(ha[i].common&&t._adapter.diff(n,s,i)>=e-1)return i}return ca[i?ca.indexOf(i):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&\"year\"!==this._unit?function(t){for(let e=ca.indexOf(t)+1,i=ca.length;e<i;++e)if(ha[ca[e]].common)return ca[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&o.reverse(),pa(this,o,this._majorUnit)}initOffsets(t){let e,i,s=0,n=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),s=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),n=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=jt(s,0,o),n=jt(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,n=s.time,o=n.unit||fa(n.minUnit,e,i,this._getLabelCapacity(e)),a=K(n.stepSize,1),r=\"week\"===o&&n.isoWeekday,l=Tt(r)||!0===r,h={};let c,d,u=e;if(l&&(u=+t.startOf(u,\"isoWeek\",r)),u=+t.startOf(u,l?\"day\":o),t.diff(i,e,o)>1e5*a)throw new Error(e+\" and \"+i+\" are too far apart with stepSize of \"+a+\" \"+o);const f=\"data\"===s.ticks.source&&this.getDataTimestamps();for(c=u,d=0;c<i;c=+t.add(c,a,o),d++)ga(h,c,f);return c!==i&&\"ticks\"!==s.bounds&&1!==d||ga(h,c,f),Object.keys(h).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}_tickFormatFunction(t,e,i,s){const n=this.options,o=n.time.displayFormats,a=this._unit,r=this._majorUnit,l=a&&o[a],h=r&&o[r],c=i[e],d=r&&h&&c&&c.major,u=this._adapter.format(t,s||(d?h:l)),f=n.ticks.callback;return f?J(f,[u,e,i],this):u}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=It(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*n+a*o,h:i*o+a*n}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,n=this._tickFormatFunction(t,0,pa(this,[t],this._majorUnit),s),o=this._getLabelSize(n),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,e=s.length;t<e;++t)i=i.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(ua(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return fe(t.sort(da))}}function xa(t,e,i){let s,n,o,a,r=0,l=t.length-1;i?(e>=t[r].pos&&e<=t[l].pos&&({lo:r,hi:l}=re(t,\"pos\",e)),({pos:s,time:o}=t[r]),({pos:n,time:a}=t[l])):(e>=t[r].time&&e<=t[l].time&&({lo:r,hi:l}=re(t,\"time\",e)),({time:s,pos:o}=t[r]),({time:n,pos:a}=t[l]));const h=n-s;return h?o+(a-o)*(e-s)/h:o}ma.id=\"time\",ma.defaults={bounds:\"data\",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:\"millisecond\",displayFormats:{}},ticks:{source:\"auto\",major:{enabled:!1}}};class ba extends ma{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=xa(e,this.min),this._tableRange=xa(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],n=[];let o,a,r,l,h;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=i&&s.push(l);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)h=s[o+1],r=s[o-1],l=s[o],Math.round((h+r)/2)!==l&&n.push({time:l,pos:o/(a-1)});return n}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(xa(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return xa(this._table,i*this._tableRange+this._minPos,!0)}}ba.id=\"timeseries\",ba.defaults=ma.defaults;var _a=Object.freeze({__proto__:null,CategoryScale:qo,LinearScale:Zo,LogarithmicScale:Qo,RadialLinearScale:la,TimeScale:ma,TimeSeriesScale:ba});return dn.register(Rn,_a,no,Uo),dn.helpers={...Yi},dn._adapters=mn,dn.Animation=us,dn.Animations=gs,dn.animator=a,dn.controllers=Ws.controllers.items,dn.DatasetController=Ps,dn.Element=Ds,dn.elements=no,dn.Interaction=Ee,dn.layouts=ni,dn.platforms=hs,dn.Scale=Bs,dn.Ticks=Os,Object.assign(dn,Rn,_a,no,Uo,hs),dn.Chart=dn,\"undefined\"!=typeof window&&(window.Chart=dn),dn}));\n","/*! drawerjs - 1.11.0\r\n */\r\n\r\n/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */\r\n\r\nvar fabric = fabric || { version: \"1.7.1\" };\r\nif (typeof exports !== 'undefined') {\r\n  exports.fabric = fabric;\r\n}\r\n\r\nif (typeof document !== 'undefined' && typeof window !== 'undefined') {\r\n  fabric.document = document;\r\n  fabric.window = window;\r\n  // ensure globality even if entire library were function wrapped (as in Meteor.js packaging system)\r\n  window.fabric = fabric;\r\n}\r\nelse {\r\n  // assume we're running under node.js when document/window are not present\r\n  fabric.document = require(\"jsdom\")\r\n    .jsdom(\"<!DOCTYPE html><html><head></head><body></body></html>\");\r\n\r\n  if (fabric.document.createWindow) {\r\n    fabric.window = fabric.document.createWindow();\r\n  } else {\r\n    fabric.window = fabric.document.parentWindow;\r\n  }\r\n}\r\n\r\n/**\r\n * True when in environment that supports touch events\r\n * @type boolean\r\n */\r\nfabric.isTouchSupported = \"ontouchstart\" in fabric.document.documentElement;\r\n\r\n/**\r\n * True when in environment that's probably Node.js\r\n * @type boolean\r\n */\r\nfabric.isLikelyNode = typeof Buffer !== 'undefined' &&\r\n                      typeof window === 'undefined';\r\n\r\n/* _FROM_SVG_START_ */\r\n/**\r\n * Attributes parsed from all SVG elements\r\n * @type array\r\n */\r\nfabric.SHARED_ATTRIBUTES = [\r\n  \"display\",\r\n  \"transform\",\r\n  \"fill\", \"fill-opacity\", \"fill-rule\",\r\n  \"opacity\",\r\n  \"stroke\", \"stroke-dasharray\", \"stroke-linecap\",\r\n  \"stroke-linejoin\", \"stroke-miterlimit\",\r\n  \"stroke-opacity\", \"stroke-width\",\r\n  \"id\"\r\n];\r\n/* _FROM_SVG_END_ */\r\n\r\n/**\r\n * Pixel per Inch as a default value set to 96. Can be changed for more realistic conversion.\r\n */\r\nfabric.DPI = 96;\r\nfabric.reNum = '(?:[-+]?(?:\\\\d+|\\\\d*\\\\.\\\\d+)(?:e[-+]?\\\\d+)?)';\r\nfabric.fontPaths = { };\r\n\r\n/**\r\n * Cache Object for widths of chars in text rendering.\r\n */\r\nfabric.charWidthsCache = { };\r\n\r\n/**\r\n * Device Pixel Ratio\r\n * @see https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/HTML-canvas-guide/SettingUptheCanvas/SettingUptheCanvas.html\r\n */\r\nfabric.devicePixelRatio = fabric.window.devicePixelRatio ||\r\n                          fabric.window.webkitDevicePixelRatio ||\r\n                          fabric.window.mozDevicePixelRatio ||\r\n                          1;\r\n\r\n\r\n(function() {\r\n\r\n  /**\r\n   * @private\r\n   * @param {String} eventName\r\n   * @param {Function} handler\r\n   */\r\n  function _removeEventListener(eventName, handler) {\r\n    if (!this.__eventListeners[eventName]) {\r\n      return;\r\n    }\r\n    var eventListener = this.__eventListeners[eventName];\r\n    if (handler) {\r\n      eventListener[eventListener.indexOf(handler)] = false;\r\n    }\r\n    else {\r\n      fabric.util.array.fill(eventListener, false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Observes specified event\r\n   * @deprecated `observe` deprecated since 0.8.34 (use `on` instead)\r\n   * @memberOf fabric.Observable\r\n   * @alias on\r\n   * @param {String|Object} eventName Event name (eg. 'after:render') or object with key/value pairs (eg. {'after:render': handler, 'selection:cleared': handler})\r\n   * @param {Function} handler Function that receives a notification when an event of the specified type occurs\r\n   * @return {Self} thisArg\r\n   * @chainable\r\n   */\r\n  function observe(eventName, handler) {\r\n    if (!this.__eventListeners) {\r\n      this.__eventListeners = { };\r\n    }\r\n    // one object with key/value pairs was passed\r\n    if (arguments.length === 1) {\r\n      for (var prop in eventName) {\r\n        this.on(prop, eventName[prop]);\r\n      }\r\n    }\r\n    else {\r\n      if (!this.__eventListeners[eventName]) {\r\n        this.__eventListeners[eventName] = [];\r\n      }\r\n      this.__eventListeners[eventName].push(handler);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Stops event observing for a particular event handler. Calling this method\r\n   * without arguments removes all handlers for all events\r\n   * @deprecated `stopObserving` deprecated since 0.8.34 (use `off` instead)\r\n   * @memberOf fabric.Observable\r\n   * @alias off\r\n   * @param {String|Object} eventName Event name (eg. 'after:render') or object with key/value pairs (eg. {'after:render': handler, 'selection:cleared': handler})\r\n   * @param {Function} handler Function to be deleted from EventListeners\r\n   * @return {Self} thisArg\r\n   * @chainable\r\n   */\r\n  function stopObserving(eventName, handler) {\r\n    if (!this.__eventListeners) {\r\n      return;\r\n    }\r\n\r\n    // remove all key/value pairs (event name -> event handler)\r\n    if (arguments.length === 0) {\r\n      for (eventName in this.__eventListeners) {\r\n        _removeEventListener.call(this, eventName);\r\n      }\r\n    }\r\n    // one object with key/value pairs was passed\r\n    else if (arguments.length === 1 && typeof arguments[0] === 'object') {\r\n      for (var prop in eventName) {\r\n        _removeEventListener.call(this, prop, eventName[prop]);\r\n      }\r\n    }\r\n    else {\r\n      _removeEventListener.call(this, eventName, handler);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Fires event with an optional options object\r\n   * @deprecated `fire` deprecated since 1.0.7 (use `trigger` instead)\r\n   * @memberOf fabric.Observable\r\n   * @alias trigger\r\n   * @param {String} eventName Event name to fire\r\n   * @param {Object} [options] Options object\r\n   * @return {Self} thisArg\r\n   * @chainable\r\n   */\r\n  function fire(eventName, options) {\r\n    if (!this.__eventListeners) {\r\n      return;\r\n    }\r\n\r\n    var listenersForEvent = this.__eventListeners[eventName];\r\n    if (!listenersForEvent) {\r\n      return;\r\n    }\r\n\r\n    for (var i = 0, len = listenersForEvent.length; i < len; i++) {\r\n      listenersForEvent[i] && listenersForEvent[i].call(this, options || { });\r\n    }\r\n    this.__eventListeners[eventName] = listenersForEvent.filter(function(value) {\r\n      return value !== false;\r\n    });\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @namespace fabric.Observable\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-2#events}\r\n   * @see {@link http://fabricjs.com/events|Events demo}\r\n   */\r\n  fabric.Observable = {\r\n    observe: observe,\r\n    stopObserving: stopObserving,\r\n    fire: fire,\r\n\r\n    on: observe,\r\n    off: stopObserving,\r\n    trigger: fire\r\n  };\r\n})();\r\n\r\n\r\n/**\r\n * @namespace fabric.Collection\r\n */\r\nfabric.Collection = {\r\n\r\n  _objects: [],\r\n\r\n  /**\r\n   * Adds objects to collection, Canvas or Group, then renders canvas\r\n   * (if `renderOnAddRemove` is not `false`).\r\n   * in case of Group no changes to bounding box are made.\r\n   * Objects should be instances of (or inherit from) fabric.Object\r\n   * @param {...fabric.Object} object Zero or more fabric instances\r\n   * @return {Self} thisArg\r\n   * @chainable\r\n   */\r\n  add: function () {\r\n    this._objects.push.apply(this._objects, arguments);\r\n    if (this._onObjectAdded) {\r\n      for (var i = 0, length = arguments.length; i < length; i++) {\r\n        this._onObjectAdded(arguments[i]);\r\n      }\r\n    }\r\n    this.renderOnAddRemove && this.renderAll();\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Inserts an object into collection at specified index, then renders canvas (if `renderOnAddRemove` is not `false`)\r\n   * An object should be an instance of (or inherit from) fabric.Object\r\n   * @param {Object} object Object to insert\r\n   * @param {Number} index Index to insert object at\r\n   * @param {Boolean} nonSplicing When `true`, no splicing (shifting) of objects occurs\r\n   * @return {Self} thisArg\r\n   * @chainable\r\n   */\r\n  insertAt: function (object, index, nonSplicing) {\r\n    var objects = this.getObjects();\r\n    if (nonSplicing) {\r\n      objects[index] = object;\r\n    }\r\n    else {\r\n      objects.splice(index, 0, object);\r\n    }\r\n    this._onObjectAdded && this._onObjectAdded(object);\r\n    this.renderOnAddRemove && this.renderAll();\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Removes objects from a collection, then renders canvas (if `renderOnAddRemove` is not `false`)\r\n   * @param {...fabric.Object} object Zero or more fabric instances\r\n   * @return {Self} thisArg\r\n   * @chainable\r\n   */\r\n  remove: function() {\r\n    var objects = this.getObjects(),\r\n        index, somethingRemoved = false;\r\n\r\n    for (var i = 0, length = arguments.length; i < length; i++) {\r\n      index = objects.indexOf(arguments[i]);\r\n\r\n      // only call onObjectRemoved if an object was actually removed\r\n      if (index !== -1) {\r\n        somethingRemoved = true;\r\n        objects.splice(index, 1);\r\n        this._onObjectRemoved && this._onObjectRemoved(arguments[i]);\r\n      }\r\n    }\r\n\r\n    this.renderOnAddRemove && somethingRemoved && this.renderAll();\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Executes given function for each object in this group\r\n   * @param {Function} callback\r\n   *                   Callback invoked with current object as first argument,\r\n   *                   index - as second and an array of all objects - as third.\r\n   *                   Callback is invoked in a context of Global Object (e.g. `window`)\r\n   *                   when no `context` argument is given\r\n   *\r\n   * @param {Object} context Context (aka thisObject)\r\n   * @return {Self} thisArg\r\n   * @chainable\r\n   */\r\n  forEachObject: function(callback, context) {\r\n    var objects = this.getObjects();\r\n    for (var i = 0, len = objects.length; i < len; i++) {\r\n      callback.call(context, objects[i], i, objects);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Returns an array of children objects of this instance\r\n   * Type parameter introduced in 1.3.10\r\n   * @param {String} [type] When specified, only objects of this type are returned\r\n   * @return {Array}\r\n   */\r\n  getObjects: function(type) {\r\n    if (typeof type === 'undefined') {\r\n      return this._objects;\r\n    }\r\n    return this._objects.filter(function(o) {\r\n      return o.type === type;\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Returns object at specified index\r\n   * @param {Number} index\r\n   * @return {Self} thisArg\r\n   */\r\n  item: function (index) {\r\n    return this.getObjects()[index];\r\n  },\r\n\r\n  /**\r\n   * Returns true if collection contains no objects\r\n   * @return {Boolean} true if collection is empty\r\n   */\r\n  isEmpty: function () {\r\n    return this.getObjects().length === 0;\r\n  },\r\n\r\n  /**\r\n   * Returns a size of a collection (i.e: length of an array containing its objects)\r\n   * @return {Number} Collection size\r\n   */\r\n  size: function() {\r\n    return this.getObjects().length;\r\n  },\r\n\r\n  /**\r\n   * Returns true if collection contains an object\r\n   * @param {Object} object Object to check against\r\n   * @return {Boolean} `true` if collection contains an object\r\n   */\r\n  contains: function(object) {\r\n    return this.getObjects().indexOf(object) > -1;\r\n  },\r\n\r\n  /**\r\n   * Returns number representation of a collection complexity\r\n   * @return {Number} complexity\r\n   */\r\n  complexity: function () {\r\n    return this.getObjects().reduce(function (memo, current) {\r\n      memo += current.complexity ? current.complexity() : 0;\r\n      return memo;\r\n    }, 0);\r\n  }\r\n};\r\n\r\n\r\n(function(global) {\r\n\r\n  var sqrt = Math.sqrt,\r\n      atan2 = Math.atan2,\r\n      pow = Math.pow,\r\n      abs = Math.abs,\r\n      PiBy180 = Math.PI / 180;\r\n\r\n  /**\r\n   * @namespace fabric.util\r\n   */\r\n  fabric.util = {\r\n\r\n    /**\r\n     * Removes value from an array.\r\n     * Presence of value (and its position in an array) is determined via `Array.prototype.indexOf`\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {Array} array\r\n     * @param {*} value\r\n     * @return {Array} original array\r\n     */\r\n    removeFromArray: function(array, value) {\r\n      var idx = array.indexOf(value);\r\n      if (idx !== -1) {\r\n        array.splice(idx, 1);\r\n      }\r\n      return array;\r\n    },\r\n\r\n    /**\r\n     * Returns random number between 2 specified ones.\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {Number} min lower limit\r\n     * @param {Number} max upper limit\r\n     * @return {Number} random value (between min and max)\r\n     */\r\n    getRandomInt: function(min, max) {\r\n      return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    },\r\n\r\n    /**\r\n     * Transforms degrees to radians.\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {Number} degrees value in degrees\r\n     * @return {Number} value in radians\r\n     */\r\n    degreesToRadians: function(degrees) {\r\n      return degrees * PiBy180;\r\n    },\r\n\r\n    /**\r\n     * Transforms radians to degrees.\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {Number} radians value in radians\r\n     * @return {Number} value in degrees\r\n     */\r\n    radiansToDegrees: function(radians) {\r\n      return radians / PiBy180;\r\n    },\r\n\r\n    /**\r\n     * Rotates `point` around `origin` with `radians`\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {fabric.Point} point The point to rotate\r\n     * @param {fabric.Point} origin The origin of the rotation\r\n     * @param {Number} radians The radians of the angle for the rotation\r\n     * @return {fabric.Point} The new rotated point\r\n     */\r\n    rotatePoint: function(point, origin, radians) {\r\n      point.subtractEquals(origin);\r\n      var v = fabric.util.rotateVector(point, radians);\r\n      return new fabric.Point(v.x, v.y).addEquals(origin);\r\n    },\r\n\r\n    /**\r\n     * Rotates `vector` with `radians`\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {Object} vector The vector to rotate (x and y)\r\n     * @param {Number} radians The radians of the angle for the rotation\r\n     * @return {Object} The new rotated point\r\n     */\r\n    rotateVector: function(vector, radians) {\r\n      var sin = Math.sin(radians),\r\n          cos = Math.cos(radians),\r\n          rx = vector.x * cos - vector.y * sin,\r\n          ry = vector.x * sin + vector.y * cos;\r\n      return {\r\n        x: rx,\r\n        y: ry\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Apply transform t to point p\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param  {fabric.Point} p The point to transform\r\n     * @param  {Array} t The transform\r\n     * @param  {Boolean} [ignoreOffset] Indicates that the offset should not be applied\r\n     * @return {fabric.Point} The transformed point\r\n     */\r\n    transformPoint: function(p, t, ignoreOffset) {\r\n      if (ignoreOffset) {\r\n        return new fabric.Point(\r\n          t[0] * p.x + t[2] * p.y,\r\n          t[1] * p.x + t[3] * p.y\r\n        );\r\n      }\r\n      return new fabric.Point(\r\n        t[0] * p.x + t[2] * p.y + t[4],\r\n        t[1] * p.x + t[3] * p.y + t[5]\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Returns coordinates of points's bounding rectangle (left, top, width, height)\r\n     * @param {Array} points 4 points array\r\n     * @return {Object} Object with left, top, width, height properties\r\n     */\r\n    makeBoundingBoxFromPoints: function(points) {\r\n      var xPoints = [points[0].x, points[1].x, points[2].x, points[3].x],\r\n          minX = fabric.util.array.min(xPoints),\r\n          maxX = fabric.util.array.max(xPoints),\r\n          width = Math.abs(minX - maxX),\r\n          yPoints = [points[0].y, points[1].y, points[2].y, points[3].y],\r\n          minY = fabric.util.array.min(yPoints),\r\n          maxY = fabric.util.array.max(yPoints),\r\n          height = Math.abs(minY - maxY);\r\n\r\n      return {\r\n        left: minX,\r\n        top: minY,\r\n        width: width,\r\n        height: height\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Invert transformation t\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {Array} t The transform\r\n     * @return {Array} The inverted transform\r\n     */\r\n    invertTransform: function(t) {\r\n      var a = 1 / (t[0] * t[3] - t[1] * t[2]),\r\n          r = [a * t[3], -a * t[1], -a * t[2], a * t[0]],\r\n          o = fabric.util.transformPoint({ x: t[4], y: t[5] }, r, true);\r\n      r[4] = -o.x;\r\n      r[5] = -o.y;\r\n      return r;\r\n    },\r\n\r\n    /**\r\n     * A wrapper around Number#toFixed, which contrary to native method returns number, not string.\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {Number|String} number number to operate on\r\n     * @param {Number} fractionDigits number of fraction digits to \"leave\"\r\n     * @return {Number}\r\n     */\r\n    toFixed: function(number, fractionDigits) {\r\n      return parseFloat(Number(number).toFixed(fractionDigits));\r\n    },\r\n\r\n    /**\r\n     * Converts from attribute value to pixel value if applicable.\r\n     * Returns converted pixels or original value not converted.\r\n     * @param {Number|String} value number to operate on\r\n     * @param {Number} fontSize\r\n     * @return {Number|String}\r\n     */\r\n    parseUnit: function(value, fontSize) {\r\n      var unit = /\\D{0,2}$/.exec(value),\r\n          number = parseFloat(value);\r\n      if (!fontSize) {\r\n        fontSize = fabric.Text.DEFAULT_SVG_FONT_SIZE;\r\n      }\r\n      switch (unit[0]) {\r\n        case 'mm':\r\n          return number * fabric.DPI / 25.4;\r\n\r\n        case 'cm':\r\n          return number * fabric.DPI / 2.54;\r\n\r\n        case 'in':\r\n          return number * fabric.DPI;\r\n\r\n        case 'pt':\r\n          return number * fabric.DPI / 72; // or * 4 / 3\r\n\r\n        case 'pc':\r\n          return number * fabric.DPI / 72 * 12; // or * 16\r\n\r\n        case 'em':\r\n          return number * fontSize;\r\n\r\n        default:\r\n          return number;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Function which always returns `false`.\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @return {Boolean}\r\n     */\r\n    falseFunction: function() {\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Returns klass \"Class\" object of given namespace\r\n     * @memberOf fabric.util\r\n     * @param {String} type Type of object (eg. 'circle')\r\n     * @param {String} namespace Namespace to get klass \"Class\" object from\r\n     * @return {Object} klass \"Class\"\r\n     */\r\n    getKlass: function(type, namespace) {\r\n      // capitalize first letter only\r\n      type = fabric.util.string.camelize(type.charAt(0).toUpperCase() + type.slice(1));\r\n      return fabric.util.resolveNamespace(namespace)[type];\r\n    },\r\n\r\n    /**\r\n     * Returns object of given namespace\r\n     * @memberOf fabric.util\r\n     * @param {String} namespace Namespace string e.g. 'fabric.Image.filter' or 'fabric'\r\n     * @return {Object} Object for given namespace (default fabric)\r\n     */\r\n    resolveNamespace: function(namespace) {\r\n      if (!namespace) {\r\n        return fabric;\r\n      }\r\n\r\n      var parts = namespace.split('.'),\r\n          len = parts.length, i,\r\n          obj = global || fabric.window;\r\n\r\n      for (i = 0; i < len; ++i) {\r\n        obj = obj[parts[i]];\r\n      }\r\n\r\n      return obj;\r\n    },\r\n\r\n    /**\r\n     * Loads image element from given url and passes it to a callback\r\n     * @memberOf fabric.util\r\n     * @param {String} url URL representing an image\r\n     * @param {Function} callback Callback; invoked with loaded image\r\n     * @param {*} [context] Context to invoke callback in\r\n     * @param {Object} [crossOrigin] crossOrigin value to set image element to\r\n     */\r\n    loadImage: function(url, callback, context, crossOrigin) {\r\n      if (!url) {\r\n        callback && callback.call(context, url);\r\n        return;\r\n      }\r\n\r\n      var img = fabric.util.createImage();\r\n\r\n      /** @ignore */\r\n      img.onload = function () {\r\n        callback && callback.call(context, img);\r\n        img = img.onload = img.onerror = null;\r\n      };\r\n\r\n      /** @ignore */\r\n      img.onerror = function() {\r\n        fabric.log('Error loading ' + img.src);\r\n        callback && callback.call(context, null, true);\r\n        img = img.onload = img.onerror = null;\r\n      };\r\n\r\n      // data-urls appear to be buggy with crossOrigin\r\n      // https://github.com/kangax/fabric.js/commit/d0abb90f1cd5c5ef9d2a94d3fb21a22330da3e0a#commitcomment-4513767\r\n      // see https://code.google.com/p/chromium/issues/detail?id=315152\r\n      //     https://bugzilla.mozilla.org/show_bug.cgi?id=935069\r\n      if (url.indexOf('data') !== 0 && crossOrigin) {\r\n        img.crossOrigin = crossOrigin;\r\n      }\r\n\r\n      img.src = url;\r\n    },\r\n\r\n    /**\r\n     * Creates corresponding fabric instances from their object representations\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {Array} objects Objects to enliven\r\n     * @param {Function} callback Callback to invoke when all objects are created\r\n     * @param {String} namespace Namespace to get klass \"Class\" object from\r\n     * @param {Function} reviver Method for further parsing of object elements,\r\n     * called after each fabric object created.\r\n     */\r\n    enlivenObjects: function(objects, callback, namespace, reviver) {\r\n      objects = objects || [];\r\n\r\n      function onLoaded() {\r\n        if (++numLoadedObjects === numTotalObjects) {\r\n          callback && callback(enlivenedObjects);\r\n        }\r\n      }\r\n\r\n      var enlivenedObjects = [],\r\n          numLoadedObjects = 0,\r\n          numTotalObjects = objects.length;\r\n\r\n      if (!numTotalObjects) {\r\n        callback && callback(enlivenedObjects);\r\n        return;\r\n      }\r\n\r\n      objects.forEach(function (o, index) {\r\n        // if sparse array\r\n        if (!o || !o.type) {\r\n          onLoaded();\r\n          return;\r\n        }\r\n        var klass = fabric.util.getKlass(o.type, namespace);\r\n        if (klass.async) {\r\n          klass.fromObject(o, function (obj, error) {\r\n            if (!error) {\r\n              enlivenedObjects[index] = obj;\r\n              reviver && reviver(o, enlivenedObjects[index]);\r\n            }\r\n            onLoaded();\r\n          });\r\n        }\r\n        else {\r\n          enlivenedObjects[index] = klass.fromObject(o);\r\n          reviver && reviver(o, enlivenedObjects[index]);\r\n          onLoaded();\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Groups SVG elements (usually those retrieved from SVG document)\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {Array} elements SVG elements to group\r\n     * @param {Object} [options] Options object\r\n     * @param {String} path Value to set sourcePath to\r\n     * @return {fabric.Object|fabric.PathGroup}\r\n     */\r\n    groupSVGElements: function(elements, options, path) {\r\n      var object;\r\n\r\n      object = new fabric.PathGroup(elements, options);\r\n\r\n      if (typeof path !== 'undefined') {\r\n        object.setSourcePath(path);\r\n      }\r\n      return object;\r\n    },\r\n\r\n    /**\r\n     * Populates an object with properties of another object\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {Object} source Source object\r\n     * @param {Object} destination Destination object\r\n     * @return {Array} properties Propertie names to include\r\n     */\r\n    populateWithProperties: function(source, destination, properties) {\r\n      if (properties && Object.prototype.toString.call(properties) === '[object Array]') {\r\n        for (var i = 0, len = properties.length; i < len; i++) {\r\n          if (properties[i] in source) {\r\n            destination[properties[i]] = source[properties[i]];\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Draws a dashed line between two points\r\n     *\r\n     * This method is used to draw dashed line around selection area.\r\n     * See <a href=\"http://stackoverflow.com/questions/4576724/dotted-stroke-in-canvas\">dotted stroke in canvas</a>\r\n     *\r\n     * @param {CanvasRenderingContext2D} ctx context\r\n     * @param {Number} x  start x coordinate\r\n     * @param {Number} y start y coordinate\r\n     * @param {Number} x2 end x coordinate\r\n     * @param {Number} y2 end y coordinate\r\n     * @param {Array} da dash array pattern\r\n     */\r\n    drawDashedLine: function(ctx, x, y, x2, y2, da) {\r\n      var dx = x2 - x,\r\n          dy = y2 - y,\r\n          len = sqrt(dx * dx + dy * dy),\r\n          rot = atan2(dy, dx),\r\n          dc = da.length,\r\n          di = 0,\r\n          draw = true;\r\n\r\n      ctx.save();\r\n      ctx.translate(x, y);\r\n      ctx.moveTo(0, 0);\r\n      ctx.rotate(rot);\r\n\r\n      x = 0;\r\n      while (len > x) {\r\n        x += da[di++ % dc];\r\n        if (x > len) {\r\n          x = len;\r\n        }\r\n        ctx[draw ? 'lineTo' : 'moveTo'](x, 0);\r\n        draw = !draw;\r\n      }\r\n\r\n      ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * Creates canvas element and initializes it via excanvas if necessary\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {CanvasElement} [canvasEl] optional canvas element to initialize;\r\n     * when not given, element is created implicitly\r\n     * @return {CanvasElement} initialized canvas element\r\n     */\r\n    createCanvasElement: function(canvasEl) {\r\n      canvasEl || (canvasEl = fabric.document.createElement('canvas'));\r\n      /* eslint-disable camelcase */\r\n      if (!canvasEl.getContext && typeof G_vmlCanvasManager !== 'undefined') {\r\n        G_vmlCanvasManager.initElement(canvasEl);\r\n      }\r\n      /* eslint-enable camelcase */\r\n      return canvasEl;\r\n    },\r\n\r\n    /**\r\n     * Creates image element (works on client and node)\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @return {HTMLImageElement} HTML image element\r\n     */\r\n    createImage: function() {\r\n      return fabric.isLikelyNode\r\n        ? new (require('canvas').Image)()\r\n        : fabric.document.createElement('img');\r\n    },\r\n\r\n    /**\r\n     * Creates accessors (getXXX, setXXX) for a \"class\", based on \"stateProperties\" array\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {Object} klass \"Class\" to create accessors for\r\n     */\r\n    createAccessors: function(klass) {\r\n      var proto = klass.prototype, i, propName,\r\n          capitalizedPropName, setterName, getterName;\r\n\r\n      for (i = proto.stateProperties.length; i--; ) {\r\n\r\n        propName = proto.stateProperties[i];\r\n        capitalizedPropName = propName.charAt(0).toUpperCase() + propName.slice(1);\r\n        setterName = 'set' + capitalizedPropName;\r\n        getterName = 'get' + capitalizedPropName;\r\n\r\n        // using `new Function` for better introspection\r\n        if (!proto[getterName]) {\r\n          proto[getterName] = (function(property) {\r\n            return new Function('return this.get(\"' + property + '\")');\r\n          })(propName);\r\n        }\r\n        if (!proto[setterName]) {\r\n          proto[setterName] = (function(property) {\r\n            return new Function('value', 'return this.set(\"' + property + '\", value)');\r\n          })(propName);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param {fabric.Object} receiver Object implementing `clipTo` method\r\n     * @param {CanvasRenderingContext2D} ctx Context to clip\r\n     */\r\n    clipContext: function(receiver, ctx) {\r\n      ctx.save();\r\n      ctx.beginPath();\r\n      receiver.clipTo(ctx);\r\n      ctx.clip();\r\n    },\r\n\r\n    /**\r\n     * Multiply matrix A by matrix B to nest transformations\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param  {Array} a First transformMatrix\r\n     * @param  {Array} b Second transformMatrix\r\n     * @param  {Boolean} is2x2 flag to multiply matrices as 2x2 matrices\r\n     * @return {Array} The product of the two transform matrices\r\n     */\r\n    multiplyTransformMatrices: function(a, b, is2x2) {\r\n      // Matrix multiply a * b\r\n      return [\r\n        a[0] * b[0] + a[2] * b[1],\r\n        a[1] * b[0] + a[3] * b[1],\r\n        a[0] * b[2] + a[2] * b[3],\r\n        a[1] * b[2] + a[3] * b[3],\r\n        is2x2 ? 0 : a[0] * b[4] + a[2] * b[5] + a[4],\r\n        is2x2 ? 0 : a[1] * b[4] + a[3] * b[5] + a[5]\r\n      ];\r\n    },\r\n\r\n    /**\r\n     * Decomposes standard 2x2 matrix into transform componentes\r\n     * @static\r\n     * @memberOf fabric.util\r\n     * @param  {Array} a transformMatrix\r\n     * @return {Object} Components of transform\r\n     */\r\n    qrDecompose: function(a) {\r\n      var angle = atan2(a[1], a[0]),\r\n          denom = pow(a[0], 2) + pow(a[1], 2),\r\n          scaleX = sqrt(denom),\r\n          scaleY = (a[0] * a[3] - a[2] * a [1]) / scaleX,\r\n          skewX = atan2(a[0] * a[2] + a[1] * a [3], denom);\r\n      return {\r\n        angle: angle  / PiBy180,\r\n        scaleX: scaleX,\r\n        scaleY: scaleY,\r\n        skewX: skewX / PiBy180,\r\n        skewY: 0,\r\n        translateX: a[4],\r\n        translateY: a[5]\r\n      };\r\n    },\r\n\r\n    customTransformMatrix: function(scaleX, scaleY, skewX) {\r\n      var skewMatrixX = [1, 0, abs(Math.tan(skewX * PiBy180)), 1],\r\n          scaleMatrix = [abs(scaleX), 0, 0, abs(scaleY)];\r\n      return fabric.util.multiplyTransformMatrices(scaleMatrix, skewMatrixX, true);\r\n    },\r\n\r\n    resetObjectTransform: function (target) {\r\n      target.scaleX = 1;\r\n      target.scaleY = 1;\r\n      target.skewX = 0;\r\n      target.skewY = 0;\r\n      target.flipX = false;\r\n      target.flipY = false;\r\n      target.setAngle(0);\r\n    },\r\n\r\n    /**\r\n     * Returns string representation of function body\r\n     * @param {Function} fn Function to get body of\r\n     * @return {String} Function body\r\n     */\r\n    getFunctionBody: function(fn) {\r\n      return (String(fn).match(/function[^{]*\\{([\\s\\S]*)\\}/) || {})[1];\r\n    },\r\n\r\n    /**\r\n     * Returns true if context has transparent pixel\r\n     * at specified location (taking tolerance into account)\r\n     * @param {CanvasRenderingContext2D} ctx context\r\n     * @param {Number} x x coordinate\r\n     * @param {Number} y y coordinate\r\n     * @param {Number} tolerance Tolerance\r\n     */\r\n    isTransparent: function(ctx, x, y, tolerance) {\r\n\r\n      // If tolerance is > 0 adjust start coords to take into account.\r\n      // If moves off Canvas fix to 0\r\n      if (tolerance > 0) {\r\n        if (x > tolerance) {\r\n          x -= tolerance;\r\n        }\r\n        else {\r\n          x = 0;\r\n        }\r\n        if (y > tolerance) {\r\n          y -= tolerance;\r\n        }\r\n        else {\r\n          y = 0;\r\n        }\r\n      }\r\n\r\n      var _isTransparent = true, i, temp,\r\n          imageData = ctx.getImageData(x, y, (tolerance * 2) || 1, (tolerance * 2) || 1),\r\n          l = imageData.data.length;\r\n\r\n      // Split image data - for tolerance > 1, pixelDataSize = 4;\r\n      for (i = 3; i < l; i += 4) {\r\n        temp = imageData.data[i];\r\n        _isTransparent = temp <= 0;\r\n        if (_isTransparent === false) {\r\n          break; // Stop if colour found\r\n        }\r\n      }\r\n\r\n      imageData = null;\r\n\r\n      return _isTransparent;\r\n    },\r\n\r\n    /**\r\n     * Parse preserveAspectRatio attribute from element\r\n     * @param {string} attribute to be parsed\r\n     * @return {Object} an object containing align and meetOrSlice attribute\r\n     */\r\n    parsePreserveAspectRatioAttribute: function(attribute) {\r\n      var meetOrSlice = 'meet', alignX = 'Mid', alignY = 'Mid',\r\n          aspectRatioAttrs = attribute.split(' '), align;\r\n\r\n      if (aspectRatioAttrs && aspectRatioAttrs.length) {\r\n        meetOrSlice = aspectRatioAttrs.pop();\r\n        if (meetOrSlice !== 'meet' && meetOrSlice !== 'slice') {\r\n          align = meetOrSlice;\r\n          meetOrSlice = 'meet';\r\n        }\r\n        else if (aspectRatioAttrs.length) {\r\n          align = aspectRatioAttrs.pop();\r\n        }\r\n      }\r\n      //divide align in alignX and alignY\r\n      alignX = align !== 'none' ? align.slice(1, 4) : 'none';\r\n      alignY = align !== 'none' ? align.slice(5, 8) : 'none';\r\n      return {\r\n        meetOrSlice: meetOrSlice,\r\n        alignX: alignX,\r\n        alignY: alignY\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Clear char widths cache for a font family.\r\n     * @memberOf fabric.util\r\n     * @param {String} [fontFamily] font family to clear\r\n     */\r\n    clearFabricFontCache: function(fontFamily) {\r\n      if (!fontFamily) {\r\n        fabric.charWidthsCache = { };\r\n      }\r\n      else if (fabric.charWidthsCache[fontFamily]) {\r\n        delete fabric.charWidthsCache[fontFamily];\r\n      }\r\n    }\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function() {\r\n\r\n  var arcToSegmentsCache = { },\r\n      segmentToBezierCache = { },\r\n      boundsOfCurveCache = { },\r\n      _join = Array.prototype.join;\r\n\r\n  /* Adapted from http://dxr.mozilla.org/mozilla-central/source/content/svg/content/src/nsSVGPathDataParser.cpp\r\n   * by Andrea Bogazzi code is under MPL. if you don't have a copy of the license you can take it here\r\n   * http://mozilla.org/MPL/2.0/\r\n   */\r\n  function arcToSegments(toX, toY, rx, ry, large, sweep, rotateX) {\r\n    var argsString = _join.call(arguments);\r\n    if (arcToSegmentsCache[argsString]) {\r\n      return arcToSegmentsCache[argsString];\r\n    }\r\n\r\n    var PI = Math.PI, th = rotateX * PI / 180,\r\n        sinTh = Math.sin(th),\r\n        cosTh = Math.cos(th),\r\n        fromX = 0, fromY = 0;\r\n\r\n    rx = Math.abs(rx);\r\n    ry = Math.abs(ry);\r\n\r\n    var px = -cosTh * toX * 0.5 - sinTh * toY * 0.5,\r\n        py = -cosTh * toY * 0.5 + sinTh * toX * 0.5,\r\n        rx2 = rx * rx, ry2 = ry * ry, py2 = py * py, px2 = px * px,\r\n        pl = rx2 * ry2 - rx2 * py2 - ry2 * px2,\r\n        root = 0;\r\n\r\n    if (pl < 0) {\r\n      var s = Math.sqrt(1 - pl / (rx2 * ry2));\r\n      rx *= s;\r\n      ry *= s;\r\n    }\r\n    else {\r\n      root = (large === sweep ? -1.0 : 1.0) *\r\n              Math.sqrt( pl / (rx2 * py2 + ry2 * px2));\r\n    }\r\n\r\n    var cx = root * rx * py / ry,\r\n        cy = -root * ry * px / rx,\r\n        cx1 = cosTh * cx - sinTh * cy + toX * 0.5,\r\n        cy1 = sinTh * cx + cosTh * cy + toY * 0.5,\r\n        mTheta = calcVectorAngle(1, 0, (px - cx) / rx, (py - cy) / ry),\r\n        dtheta = calcVectorAngle((px - cx) / rx, (py - cy) / ry, (-px - cx) / rx, (-py - cy) / ry);\r\n\r\n    if (sweep === 0 && dtheta > 0) {\r\n      dtheta -= 2 * PI;\r\n    }\r\n    else if (sweep === 1 && dtheta < 0) {\r\n      dtheta += 2 * PI;\r\n    }\r\n\r\n    // Convert into cubic bezier segments <= 90deg\r\n    var segments = Math.ceil(Math.abs(dtheta / PI * 2)),\r\n        result = [], mDelta = dtheta / segments,\r\n        mT = 8 / 3 * Math.sin(mDelta / 4) * Math.sin(mDelta / 4) / Math.sin(mDelta / 2),\r\n        th3 = mTheta + mDelta;\r\n\r\n    for (var i = 0; i < segments; i++) {\r\n      result[i] = segmentToBezier(mTheta, th3, cosTh, sinTh, rx, ry, cx1, cy1, mT, fromX, fromY);\r\n      fromX = result[i][4];\r\n      fromY = result[i][5];\r\n      mTheta = th3;\r\n      th3 += mDelta;\r\n    }\r\n    arcToSegmentsCache[argsString] = result;\r\n    return result;\r\n  }\r\n\r\n  function segmentToBezier(th2, th3, cosTh, sinTh, rx, ry, cx1, cy1, mT, fromX, fromY) {\r\n    var argsString2 = _join.call(arguments);\r\n    if (segmentToBezierCache[argsString2]) {\r\n      return segmentToBezierCache[argsString2];\r\n    }\r\n\r\n    var costh2 = Math.cos(th2),\r\n        sinth2 = Math.sin(th2),\r\n        costh3 = Math.cos(th3),\r\n        sinth3 = Math.sin(th3),\r\n        toX = cosTh * rx * costh3 - sinTh * ry * sinth3 + cx1,\r\n        toY = sinTh * rx * costh3 + cosTh * ry * sinth3 + cy1,\r\n        cp1X = fromX + mT * ( -cosTh * rx * sinth2 - sinTh * ry * costh2),\r\n        cp1Y = fromY + mT * ( -sinTh * rx * sinth2 + cosTh * ry * costh2),\r\n        cp2X = toX + mT * ( cosTh * rx * sinth3 + sinTh * ry * costh3),\r\n        cp2Y = toY + mT * ( sinTh * rx * sinth3 - cosTh * ry * costh3);\r\n\r\n    segmentToBezierCache[argsString2] = [\r\n      cp1X, cp1Y,\r\n      cp2X, cp2Y,\r\n      toX, toY\r\n    ];\r\n    return segmentToBezierCache[argsString2];\r\n  }\r\n\r\n  /*\r\n   * Private\r\n   */\r\n  function calcVectorAngle(ux, uy, vx, vy) {\r\n    var ta = Math.atan2(uy, ux),\r\n        tb = Math.atan2(vy, vx);\r\n    if (tb >= ta) {\r\n      return tb - ta;\r\n    }\r\n    else {\r\n      return 2 * Math.PI - (ta - tb);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Draws arc\r\n   * @param {CanvasRenderingContext2D} ctx\r\n   * @param {Number} fx\r\n   * @param {Number} fy\r\n   * @param {Array} coords\r\n   */\r\n  fabric.util.drawArc = function(ctx, fx, fy, coords) {\r\n    var rx = coords[0],\r\n        ry = coords[1],\r\n        rot = coords[2],\r\n        large = coords[3],\r\n        sweep = coords[4],\r\n        tx = coords[5],\r\n        ty = coords[6],\r\n        segs = [[], [], [], []],\r\n        segsNorm = arcToSegments(tx - fx, ty - fy, rx, ry, large, sweep, rot);\r\n\r\n    for (var i = 0, len = segsNorm.length; i < len; i++) {\r\n      segs[i][0] = segsNorm[i][0] + fx;\r\n      segs[i][1] = segsNorm[i][1] + fy;\r\n      segs[i][2] = segsNorm[i][2] + fx;\r\n      segs[i][3] = segsNorm[i][3] + fy;\r\n      segs[i][4] = segsNorm[i][4] + fx;\r\n      segs[i][5] = segsNorm[i][5] + fy;\r\n      ctx.bezierCurveTo.apply(ctx, segs[i]);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Calculate bounding box of a elliptic-arc\r\n   * @param {Number} fx start point of arc\r\n   * @param {Number} fy\r\n   * @param {Number} rx horizontal radius\r\n   * @param {Number} ry vertical radius\r\n   * @param {Number} rot angle of horizontal axe\r\n   * @param {Number} large 1 or 0, whatever the arc is the big or the small on the 2 points\r\n   * @param {Number} sweep 1 or 0, 1 clockwise or counterclockwise direction\r\n   * @param {Number} tx end point of arc\r\n   * @param {Number} ty\r\n   */\r\n  fabric.util.getBoundsOfArc = function(fx, fy, rx, ry, rot, large, sweep, tx, ty) {\r\n\r\n    var fromX = 0, fromY = 0, bound, bounds = [],\r\n        segs = arcToSegments(tx - fx, ty - fy, rx, ry, large, sweep, rot);\r\n\r\n    for (var i = 0, len = segs.length; i < len; i++) {\r\n      bound = getBoundsOfCurve(fromX, fromY, segs[i][0], segs[i][1], segs[i][2], segs[i][3], segs[i][4], segs[i][5]);\r\n      bounds.push({ x: bound[0].x + fx, y: bound[0].y + fy });\r\n      bounds.push({ x: bound[1].x + fx, y: bound[1].y + fy });\r\n      fromX = segs[i][4];\r\n      fromY = segs[i][5];\r\n    }\r\n    return bounds;\r\n  };\r\n\r\n  /**\r\n   * Calculate bounding box of a beziercurve\r\n   * @param {Number} x0 starting point\r\n   * @param {Number} y0\r\n   * @param {Number} x1 first control point\r\n   * @param {Number} y1\r\n   * @param {Number} x2 secondo control point\r\n   * @param {Number} y2\r\n   * @param {Number} x3 end of beizer\r\n   * @param {Number} y3\r\n   */\r\n  // taken from http://jsbin.com/ivomiq/56/edit  no credits available for that.\r\n  function getBoundsOfCurve(x0, y0, x1, y1, x2, y2, x3, y3) {\r\n    var argsString = _join.call(arguments);\r\n    if (boundsOfCurveCache[argsString]) {\r\n      return boundsOfCurveCache[argsString];\r\n    }\r\n\r\n    var sqrt = Math.sqrt,\r\n        min = Math.min, max = Math.max,\r\n        abs = Math.abs, tvalues = [],\r\n        bounds = [[], []],\r\n        a, b, c, t, t1, t2, b2ac, sqrtb2ac;\r\n\r\n    b = 6 * x0 - 12 * x1 + 6 * x2;\r\n    a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\r\n    c = 3 * x1 - 3 * x0;\r\n\r\n    for (var i = 0; i < 2; ++i) {\r\n      if (i > 0) {\r\n        b = 6 * y0 - 12 * y1 + 6 * y2;\r\n        a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\r\n        c = 3 * y1 - 3 * y0;\r\n      }\r\n\r\n      if (abs(a) < 1e-12) {\r\n        if (abs(b) < 1e-12) {\r\n          continue;\r\n        }\r\n        t = -c / b;\r\n        if (0 < t && t < 1) {\r\n          tvalues.push(t);\r\n        }\r\n        continue;\r\n      }\r\n      b2ac = b * b - 4 * c * a;\r\n      if (b2ac < 0) {\r\n        continue;\r\n      }\r\n      sqrtb2ac = sqrt(b2ac);\r\n      t1 = (-b + sqrtb2ac) / (2 * a);\r\n      if (0 < t1 && t1 < 1) {\r\n        tvalues.push(t1);\r\n      }\r\n      t2 = (-b - sqrtb2ac) / (2 * a);\r\n      if (0 < t2 && t2 < 1) {\r\n        tvalues.push(t2);\r\n      }\r\n    }\r\n\r\n    var x, y, j = tvalues.length, jlen = j, mt;\r\n    while (j--) {\r\n      t = tvalues[j];\r\n      mt = 1 - t;\r\n      x = (mt * mt * mt * x0) + (3 * mt * mt * t * x1) + (3 * mt * t * t * x2) + (t * t * t * x3);\r\n      bounds[0][j] = x;\r\n\r\n      y = (mt * mt * mt * y0) + (3 * mt * mt * t * y1) + (3 * mt * t * t * y2) + (t * t * t * y3);\r\n      bounds[1][j] = y;\r\n    }\r\n\r\n    bounds[0][jlen] = x0;\r\n    bounds[1][jlen] = y0;\r\n    bounds[0][jlen + 1] = x3;\r\n    bounds[1][jlen + 1] = y3;\r\n    var result = [\r\n      {\r\n        x: min.apply(null, bounds[0]),\r\n        y: min.apply(null, bounds[1])\r\n      },\r\n      {\r\n        x: max.apply(null, bounds[0]),\r\n        y: max.apply(null, bounds[1])\r\n      }\r\n    ];\r\n    boundsOfCurveCache[argsString] = result;\r\n    return result;\r\n  }\r\n\r\n  fabric.util.getBoundsOfCurve = getBoundsOfCurve;\r\n\r\n})();\r\n\r\n\r\n(function() {\r\n\r\n  var slice = Array.prototype.slice;\r\n\r\n  /* _ES5_COMPAT_START_ */\r\n\r\n  if (!Array.prototype.indexOf) {\r\n    /**\r\n     * Finds index of an element in an array\r\n     * @param {*} searchElement\r\n     * @return {Number}\r\n     */\r\n    Array.prototype.indexOf = function (searchElement /*, fromIndex */ ) {\r\n      if (this === void 0 || this === null) {\r\n        throw new TypeError();\r\n      }\r\n      var t = Object(this), len = t.length >>> 0;\r\n      if (len === 0) {\r\n        return -1;\r\n      }\r\n      var n = 0;\r\n      if (arguments.length > 0) {\r\n        n = Number(arguments[1]);\r\n        if (n !== n) { // shortcut for verifying if it's NaN\r\n          n = 0;\r\n        }\r\n        else if (n !== 0 && n !== Number.POSITIVE_INFINITY && n !== Number.NEGATIVE_INFINITY) {\r\n          n = (n > 0 || -1) * Math.floor(Math.abs(n));\r\n        }\r\n      }\r\n      if (n >= len) {\r\n        return -1;\r\n      }\r\n      var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\r\n      for (; k < len; k++) {\r\n        if (k in t && t[k] === searchElement) {\r\n          return k;\r\n        }\r\n      }\r\n      return -1;\r\n    };\r\n  }\r\n\r\n  if (!Array.prototype.forEach) {\r\n    /**\r\n     * Iterates an array, invoking callback for each element\r\n     * @param {Function} fn Callback to invoke for each element\r\n     * @param {Object} [context] Context to invoke callback in\r\n     * @return {Array}\r\n     */\r\n    Array.prototype.forEach = function(fn, context) {\r\n      for (var i = 0, len = this.length >>> 0; i < len; i++) {\r\n        if (i in this) {\r\n          fn.call(context, this[i], i, this);\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  if (!Array.prototype.map) {\r\n    /**\r\n     * Returns a result of iterating over an array, invoking callback for each element\r\n     * @param {Function} fn Callback to invoke for each element\r\n     * @param {Object} [context] Context to invoke callback in\r\n     * @return {Array}\r\n     */\r\n    Array.prototype.map = function(fn, context) {\r\n      var result = [];\r\n      for (var i = 0, len = this.length >>> 0; i < len; i++) {\r\n        if (i in this) {\r\n          result[i] = fn.call(context, this[i], i, this);\r\n        }\r\n      }\r\n      return result;\r\n    };\r\n  }\r\n\r\n  if (!Array.prototype.every) {\r\n    /**\r\n     * Returns true if a callback returns truthy value for all elements in an array\r\n     * @param {Function} fn Callback to invoke for each element\r\n     * @param {Object} [context] Context to invoke callback in\r\n     * @return {Boolean}\r\n     */\r\n    Array.prototype.every = function(fn, context) {\r\n      for (var i = 0, len = this.length >>> 0; i < len; i++) {\r\n        if (i in this && !fn.call(context, this[i], i, this)) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n  }\r\n\r\n  if (!Array.prototype.some) {\r\n    /**\r\n     * Returns true if a callback returns truthy value for at least one element in an array\r\n     * @param {Function} fn Callback to invoke for each element\r\n     * @param {Object} [context] Context to invoke callback in\r\n     * @return {Boolean}\r\n     */\r\n    Array.prototype.some = function(fn, context) {\r\n      for (var i = 0, len = this.length >>> 0; i < len; i++) {\r\n        if (i in this && fn.call(context, this[i], i, this)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n  }\r\n\r\n  if (!Array.prototype.filter) {\r\n    /**\r\n     * Returns the result of iterating over elements in an array\r\n     * @param {Function} fn Callback to invoke for each element\r\n     * @param {Object} [context] Context to invoke callback in\r\n     * @return {Array}\r\n     */\r\n    Array.prototype.filter = function(fn, context) {\r\n      var result = [], val;\r\n      for (var i = 0, len = this.length >>> 0; i < len; i++) {\r\n        if (i in this) {\r\n          val = this[i]; // in case fn mutates this\r\n          if (fn.call(context, val, i, this)) {\r\n            result.push(val);\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    };\r\n  }\r\n\r\n  if (!Array.prototype.reduce) {\r\n    /**\r\n     * Returns \"folded\" (reduced) result of iterating over elements in an array\r\n     * @param {Function} fn Callback to invoke for each element\r\n     * @return {*}\r\n     */\r\n    Array.prototype.reduce = function(fn /*, initial*/) {\r\n      var len = this.length >>> 0,\r\n          i = 0,\r\n          rv;\r\n\r\n      if (arguments.length > 1) {\r\n        rv = arguments[1];\r\n      }\r\n      else {\r\n        do {\r\n          if (i in this) {\r\n            rv = this[i++];\r\n            break;\r\n          }\r\n          // if array contains no values, no initial value to return\r\n          if (++i >= len) {\r\n            throw new TypeError();\r\n          }\r\n        }\r\n        while (true);\r\n      }\r\n      for (; i < len; i++) {\r\n        if (i in this) {\r\n          rv = fn.call(null, rv, this[i], i, this);\r\n        }\r\n      }\r\n      return rv;\r\n    };\r\n  }\r\n\r\n  /* _ES5_COMPAT_END_ */\r\n\r\n  /**\r\n   * Invokes method on all items in a given array\r\n   * @memberOf fabric.util.array\r\n   * @param {Array} array Array to iterate over\r\n   * @param {String} method Name of a method to invoke\r\n   * @return {Array}\r\n   */\r\n  function invoke(array, method) {\r\n    var args = slice.call(arguments, 2), result = [];\r\n    for (var i = 0, len = array.length; i < len; i++) {\r\n      result[i] = args.length ? array[i][method].apply(array[i], args) : array[i][method].call(array[i]);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Finds maximum value in array (not necessarily \"first\" one)\r\n   * @memberOf fabric.util.array\r\n   * @param {Array} array Array to iterate over\r\n   * @param {String} byProperty\r\n   * @return {*}\r\n   */\r\n  function max(array, byProperty) {\r\n    return find(array, byProperty, function(value1, value2) {\r\n      return value1 >= value2;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Finds minimum value in array (not necessarily \"first\" one)\r\n   * @memberOf fabric.util.array\r\n   * @param {Array} array Array to iterate over\r\n   * @param {String} byProperty\r\n   * @return {*}\r\n   */\r\n  function min(array, byProperty) {\r\n    return find(array, byProperty, function(value1, value2) {\r\n      return value1 < value2;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function fill(array, value) {\r\n    var k = array.length;\r\n    while (k--) {\r\n      array[k] = value;\r\n    }\r\n    return array;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function find(array, byProperty, condition) {\r\n    if (!array || array.length === 0) {\r\n      return;\r\n    }\r\n\r\n    var i = array.length - 1,\r\n        result = byProperty ? array[i][byProperty] : array[i];\r\n    if (byProperty) {\r\n      while (i--) {\r\n        if (condition(array[i][byProperty], result)) {\r\n          result = array[i][byProperty];\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      while (i--) {\r\n        if (condition(array[i], result)) {\r\n          result = array[i];\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * @namespace fabric.util.array\r\n   */\r\n  fabric.util.array = {\r\n    fill: fill,\r\n    invoke: invoke,\r\n    min: min,\r\n    max: max\r\n  };\r\n\r\n})();\r\n\r\n\r\n(function() {\r\n  /**\r\n   * Copies all enumerable properties of one js object to another\r\n   * Does not clone or extend fabric.Object subclasses.\r\n   * @memberOf fabric.util.object\r\n   * @param {Object} destination Where to copy to\r\n   * @param {Object} source Where to copy from\r\n   * @return {Object}\r\n   */\r\n\r\n  function extend(destination, source, deep) {\r\n    // JScript DontEnum bug is not taken care of\r\n    // the deep clone is for internal use, is not meant to avoid\r\n    // javascript traps or cloning html element or self referenced objects.\r\n    if (deep) {\r\n      if (!fabric.isLikelyNode && source instanceof Element) {\r\n        // avoid cloning deep images, canvases,\r\n        destination = source;\r\n      }\r\n      else if (source instanceof Array) {\r\n        destination = [];\r\n        for (var i = 0, len = source.length; i < len; i++) {\r\n          destination[i] = extend({ }, source[i], deep);\r\n        }\r\n      }\r\n      else if (source && typeof source === 'object') {\r\n        for (var property in source) {\r\n          if (source.hasOwnProperty(property)) {\r\n            destination[property] = extend({ }, source[property], deep);\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        // this sounds odd for an extend but is ok for recursive use\r\n        destination = source;\r\n      }\r\n    }\r\n    else {\r\n      for (var property in source) {\r\n        destination[property] = source[property];\r\n      }\r\n    }\r\n    return destination;\r\n  }\r\n\r\n  /**\r\n   * Creates an empty object and copies all enumerable properties of another object to it\r\n   * @memberOf fabric.util.object\r\n   * @param {Object} object Object to clone\r\n   * @return {Object}\r\n   */\r\n  function clone(object, deep) {\r\n    return extend({ }, object, deep);\r\n  }\r\n\r\n  /** @namespace fabric.util.object */\r\n  fabric.util.object = {\r\n    extend: extend,\r\n    clone: clone\r\n  };\r\n\r\n})();\r\n\r\n\r\n(function() {\r\n\r\n  /* _ES5_COMPAT_START_ */\r\n  if (!String.prototype.trim) {\r\n    /**\r\n     * Trims a string (removing whitespace from the beginning and the end)\r\n     * @function external:String#trim\r\n     * @see <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/Trim\">String#trim on MDN</a>\r\n     */\r\n    String.prototype.trim = function () {\r\n      // this trim is not fully ES3 or ES5 compliant, but it should cover most cases for now\r\n      return this.replace(/^[\\s\\xA0]+/, '').replace(/[\\s\\xA0]+$/, '');\r\n    };\r\n  }\r\n  /* _ES5_COMPAT_END_ */\r\n\r\n  /**\r\n   * Camelizes a string\r\n   * @memberOf fabric.util.string\r\n   * @param {String} string String to camelize\r\n   * @return {String} Camelized version of a string\r\n   */\r\n  function camelize(string) {\r\n    return string.replace(/-+(.)?/g, function(match, character) {\r\n      return character ? character.toUpperCase() : '';\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Capitalizes a string\r\n   * @memberOf fabric.util.string\r\n   * @param {String} string String to capitalize\r\n   * @param {Boolean} [firstLetterOnly] If true only first letter is capitalized\r\n   * and other letters stay untouched, if false first letter is capitalized\r\n   * and other letters are converted to lowercase.\r\n   * @return {String} Capitalized version of a string\r\n   */\r\n  function capitalize(string, firstLetterOnly) {\r\n    return string.charAt(0).toUpperCase() +\r\n      (firstLetterOnly ? string.slice(1) : string.slice(1).toLowerCase());\r\n  }\r\n\r\n  /**\r\n   * Escapes XML in a string\r\n   * @memberOf fabric.util.string\r\n   * @param {String} string String to escape\r\n   * @return {String} Escaped version of a string\r\n   */\r\n  function escapeXml(string) {\r\n    return string.replace(/&/g, '&amp;')\r\n       .replace(/\"/g, '&quot;')\r\n       .replace(/'/g, '&apos;')\r\n       .replace(/</g, '&lt;')\r\n       .replace(/>/g, '&gt;');\r\n  }\r\n\r\n  /**\r\n   * String utilities\r\n   * @namespace fabric.util.string\r\n   */\r\n  fabric.util.string = {\r\n    camelize: camelize,\r\n    capitalize: capitalize,\r\n    escapeXml: escapeXml\r\n  };\r\n})();\r\n\r\n\r\n/* _ES5_COMPAT_START_ */\r\n(function() {\r\n\r\n  var slice = Array.prototype.slice,\r\n      apply = Function.prototype.apply,\r\n      Dummy = function() { };\r\n\r\n  if (!Function.prototype.bind) {\r\n    /**\r\n     * Cross-browser approximation of ES5 Function.prototype.bind (not fully spec conforming)\r\n     * @see <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind\">Function#bind on MDN</a>\r\n     * @param {Object} thisArg Object to bind function to\r\n     * @param {Any[]} Values to pass to a bound function\r\n     * @return {Function}\r\n     */\r\n    Function.prototype.bind = function(thisArg) {\r\n      var _this = this, args = slice.call(arguments, 1), bound;\r\n      if (args.length) {\r\n        bound = function() {\r\n          return apply.call(_this, this instanceof Dummy ? this : thisArg, args.concat(slice.call(arguments)));\r\n        };\r\n      }\r\n      else {\r\n        /** @ignore */\r\n        bound = function() {\r\n          return apply.call(_this, this instanceof Dummy ? this : thisArg, arguments);\r\n        };\r\n      }\r\n      Dummy.prototype = this.prototype;\r\n      bound.prototype = new Dummy();\r\n\r\n      return bound;\r\n    };\r\n  }\r\n\r\n})();\r\n/* _ES5_COMPAT_END_ */\r\n\r\n\r\n(function() {\r\n\r\n  var slice = Array.prototype.slice, emptyFunction = function() { },\r\n\r\n      IS_DONTENUM_BUGGY = (function() {\r\n        for (var p in { toString: 1 }) {\r\n          if (p === 'toString') {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      })(),\r\n\r\n      /** @ignore */\r\n      addMethods = function(klass, source, parent) {\r\n        for (var property in source) {\r\n\r\n          if (property in klass.prototype &&\r\n              typeof klass.prototype[property] === 'function' &&\r\n              (source[property] + '').indexOf('callSuper') > -1) {\r\n\r\n            klass.prototype[property] = (function(property) {\r\n              return function() {\r\n\r\n                var superclass = this.constructor.superclass;\r\n                this.constructor.superclass = parent;\r\n                var returnValue = source[property].apply(this, arguments);\r\n                this.constructor.superclass = superclass;\r\n\r\n                if (property !== 'initialize') {\r\n                  return returnValue;\r\n                }\r\n              };\r\n            })(property);\r\n          }\r\n          else {\r\n            klass.prototype[property] = source[property];\r\n          }\r\n\r\n          if (IS_DONTENUM_BUGGY) {\r\n            if (source.toString !== Object.prototype.toString) {\r\n              klass.prototype.toString = source.toString;\r\n            }\r\n            if (source.valueOf !== Object.prototype.valueOf) {\r\n              klass.prototype.valueOf = source.valueOf;\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n  function Subclass() { }\r\n\r\n  function callSuper(methodName) {\r\n    var fn = this.constructor.superclass.prototype[methodName];\r\n    return (arguments.length > 1)\r\n      ? fn.apply(this, slice.call(arguments, 1))\r\n      : fn.call(this);\r\n  }\r\n\r\n  /**\r\n   * Helper for creation of \"classes\".\r\n   * @memberOf fabric.util\r\n   * @param {Function} [parent] optional \"Class\" to inherit from\r\n   * @param {Object} [properties] Properties shared by all instances of this class\r\n   *                  (be careful modifying objects defined here as this would affect all instances)\r\n   */\r\n  function createClass() {\r\n    var parent = null,\r\n        properties = slice.call(arguments, 0);\r\n\r\n    if (typeof properties[0] === 'function') {\r\n      parent = properties.shift();\r\n    }\r\n    function klass() {\r\n      this.initialize.apply(this, arguments);\r\n    }\r\n\r\n    klass.superclass = parent;\r\n    klass.subclasses = [];\r\n\r\n    if (parent) {\r\n      Subclass.prototype = parent.prototype;\r\n      klass.prototype = new Subclass();\r\n      parent.subclasses.push(klass);\r\n    }\r\n    for (var i = 0, length = properties.length; i < length; i++) {\r\n      addMethods(klass, properties[i], parent);\r\n    }\r\n    if (!klass.prototype.initialize) {\r\n      klass.prototype.initialize = emptyFunction;\r\n    }\r\n    klass.prototype.constructor = klass;\r\n    klass.prototype.callSuper = callSuper;\r\n    return klass;\r\n  }\r\n\r\n  fabric.util.createClass = createClass;\r\n})();\r\n\r\n\r\n(function () {\r\n\r\n  var unknown = 'unknown';\r\n\r\n  /* EVENT HANDLING */\r\n\r\n  function areHostMethods(object) {\r\n    var methodNames = Array.prototype.slice.call(arguments, 1),\r\n        t, i, len = methodNames.length;\r\n    for (i = 0; i < len; i++) {\r\n      t = typeof object[methodNames[i]];\r\n      if (!(/^(?:function|object|unknown)$/).test(t)) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /** @ignore */\r\n  var getElement,\r\n      setElement,\r\n      getUniqueId = (function () {\r\n        var uid = 0;\r\n        return function (element) {\r\n          return element.__uniqueID || (element.__uniqueID = 'uniqueID__' + uid++);\r\n        };\r\n      })();\r\n\r\n  (function () {\r\n    var elements = { };\r\n    /** @ignore */\r\n    getElement = function (uid) {\r\n      return elements[uid];\r\n    };\r\n    /** @ignore */\r\n    setElement = function (uid, element) {\r\n      elements[uid] = element;\r\n    };\r\n  })();\r\n\r\n  function createListener(uid, handler) {\r\n    return {\r\n      handler: handler,\r\n      wrappedHandler: createWrappedHandler(uid, handler)\r\n    };\r\n  }\r\n\r\n  function createWrappedHandler(uid, handler) {\r\n    return function (e) {\r\n      handler.call(getElement(uid), e || fabric.window.event);\r\n    };\r\n  }\r\n\r\n  function createDispatcher(uid, eventName) {\r\n    return function (e) {\r\n      if (handlers[uid] && handlers[uid][eventName]) {\r\n        var handlersForEvent = handlers[uid][eventName];\r\n        for (var i = 0, len = handlersForEvent.length; i < len; i++) {\r\n          handlersForEvent[i].call(this, e || fabric.window.event);\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  var shouldUseAddListenerRemoveListener = (\r\n        areHostMethods(fabric.document.documentElement, 'addEventListener', 'removeEventListener') &&\r\n        areHostMethods(fabric.window, 'addEventListener', 'removeEventListener')),\r\n\r\n      shouldUseAttachEventDetachEvent = (\r\n        areHostMethods(fabric.document.documentElement, 'attachEvent', 'detachEvent') &&\r\n        areHostMethods(fabric.window, 'attachEvent', 'detachEvent')),\r\n\r\n      // IE branch\r\n      listeners = { },\r\n\r\n      // DOM L0 branch\r\n      handlers = { },\r\n\r\n      addListener, removeListener;\r\n\r\n  if (shouldUseAddListenerRemoveListener) {\r\n    /** @ignore */\r\n    addListener = function (element, eventName, handler) {\r\n      element.addEventListener(eventName, handler, false);\r\n    };\r\n    /** @ignore */\r\n    removeListener = function (element, eventName, handler) {\r\n      element.removeEventListener(eventName, handler, false);\r\n    };\r\n  }\r\n\r\n  else if (shouldUseAttachEventDetachEvent) {\r\n    /** @ignore */\r\n    addListener = function (element, eventName, handler) {\r\n      var uid = getUniqueId(element);\r\n      setElement(uid, element);\r\n      if (!listeners[uid]) {\r\n        listeners[uid] = { };\r\n      }\r\n      if (!listeners[uid][eventName]) {\r\n        listeners[uid][eventName] = [];\r\n\r\n      }\r\n      var listener = createListener(uid, handler);\r\n      listeners[uid][eventName].push(listener);\r\n      element.attachEvent('on' + eventName, listener.wrappedHandler);\r\n    };\r\n    /** @ignore */\r\n    removeListener = function (element, eventName, handler) {\r\n      var uid = getUniqueId(element), listener;\r\n      if (listeners[uid] && listeners[uid][eventName]) {\r\n        for (var i = 0, len = listeners[uid][eventName].length; i < len; i++) {\r\n          listener = listeners[uid][eventName][i];\r\n          if (listener && listener.handler === handler) {\r\n            element.detachEvent('on' + eventName, listener.wrappedHandler);\r\n            listeners[uid][eventName][i] = null;\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n  else {\r\n    /** @ignore */\r\n    addListener = function (element, eventName, handler) {\r\n      var uid = getUniqueId(element);\r\n      if (!handlers[uid]) {\r\n        handlers[uid] = { };\r\n      }\r\n      if (!handlers[uid][eventName]) {\r\n        handlers[uid][eventName] = [];\r\n        var existingHandler = element['on' + eventName];\r\n        if (existingHandler) {\r\n          handlers[uid][eventName].push(existingHandler);\r\n        }\r\n        element['on' + eventName] = createDispatcher(uid, eventName);\r\n      }\r\n      handlers[uid][eventName].push(handler);\r\n    };\r\n    /** @ignore */\r\n    removeListener = function (element, eventName, handler) {\r\n      var uid = getUniqueId(element);\r\n      if (handlers[uid] && handlers[uid][eventName]) {\r\n        var handlersForEvent = handlers[uid][eventName];\r\n        for (var i = 0, len = handlersForEvent.length; i < len; i++) {\r\n          if (handlersForEvent[i] === handler) {\r\n            handlersForEvent.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Adds an event listener to an element\r\n   * @function\r\n   * @memberOf fabric.util\r\n   * @param {HTMLElement} element\r\n   * @param {String} eventName\r\n   * @param {Function} handler\r\n   */\r\n  fabric.util.addListener = addListener;\r\n\r\n  /**\r\n   * Removes an event listener from an element\r\n   * @function\r\n   * @memberOf fabric.util\r\n   * @param {HTMLElement} element\r\n   * @param {String} eventName\r\n   * @param {Function} handler\r\n   */\r\n  fabric.util.removeListener = removeListener;\r\n\r\n  /**\r\n   * Cross-browser wrapper for getting event's coordinates\r\n   * @memberOf fabric.util\r\n   * @param {Event} event Event object\r\n   */\r\n  function getPointer(event) {\r\n    event || (event = fabric.window.event);\r\n\r\n    var element = event.target ||\r\n                  (typeof event.srcElement !== unknown ? event.srcElement : null),\r\n\r\n        scroll = fabric.util.getScrollLeftTop(element);\r\n\r\n    return {\r\n      x: pointerX(event) + scroll.left,\r\n      y: pointerY(event) + scroll.top\r\n    };\r\n  }\r\n\r\n  var pointerX = function(event) {\r\n    // looks like in IE (<9) clientX at certain point (apparently when mouseup fires on VML element)\r\n    // is represented as COM object, with all the consequences, like \"unknown\" type and error on [[Get]]\r\n    // need to investigate later\r\n        return (typeof event.clientX !== unknown ? event.clientX : 0);\r\n      },\r\n\r\n      pointerY = function(event) {\r\n        return (typeof event.clientY !== unknown ? event.clientY : 0);\r\n      };\r\n\r\n  function _getPointer(event, pageProp, clientProp) {\r\n    var touchProp = event.type === 'touchend' ? 'changedTouches' : 'touches';\r\n\r\n    return (event[touchProp] && event[touchProp][0]\r\n      ? (event[touchProp][0][pageProp] - (event[touchProp][0][pageProp] - event[touchProp][0][clientProp]))\r\n        || event[clientProp]\r\n      : event[clientProp]);\r\n  }\r\n\r\n  if (fabric.isTouchSupported) {\r\n    pointerX = function(event) {\r\n      return _getPointer(event, 'pageX', 'clientX');\r\n    };\r\n    pointerY = function(event) {\r\n      return _getPointer(event, 'pageY', 'clientY');\r\n    };\r\n  }\r\n\r\n  fabric.util.getPointer = getPointer;\r\n\r\n  fabric.util.object.extend(fabric.util, fabric.Observable);\r\n\r\n})();\r\n\r\n\r\n(function () {\r\n\r\n  /**\r\n   * Cross-browser wrapper for setting element's style\r\n   * @memberOf fabric.util\r\n   * @param {HTMLElement} element\r\n   * @param {Object} styles\r\n   * @return {HTMLElement} Element that was passed as a first argument\r\n   */\r\n  function setStyle(element, styles) {\r\n    var elementStyle = element.style;\r\n    if (!elementStyle) {\r\n      return element;\r\n    }\r\n    if (typeof styles === 'string') {\r\n      element.style.cssText += ';' + styles;\r\n      return styles.indexOf('opacity') > -1\r\n        ? setOpacity(element, styles.match(/opacity:\\s*(\\d?\\.?\\d*)/)[1])\r\n        : element;\r\n    }\r\n    for (var property in styles) {\r\n      if (property === 'opacity') {\r\n        setOpacity(element, styles[property]);\r\n      }\r\n      else {\r\n        var normalizedProperty = (property === 'float' || property === 'cssFloat')\r\n          ? (typeof elementStyle.styleFloat === 'undefined' ? 'cssFloat' : 'styleFloat')\r\n          : property;\r\n        elementStyle[normalizedProperty] = styles[property];\r\n      }\r\n    }\r\n    return element;\r\n  }\r\n\r\n  var parseEl = fabric.document.createElement('div'),\r\n      supportsOpacity = typeof parseEl.style.opacity === 'string',\r\n      supportsFilters = typeof parseEl.style.filter === 'string',\r\n      reOpacity = /alpha\\s*\\(\\s*opacity\\s*=\\s*([^\\)]+)\\)/,\r\n\r\n      /** @ignore */\r\n      setOpacity = function (element) { return element; };\r\n\r\n  if (supportsOpacity) {\r\n    /** @ignore */\r\n    setOpacity = function(element, value) {\r\n      element.style.opacity = value;\r\n      return element;\r\n    };\r\n  }\r\n  else if (supportsFilters) {\r\n    /** @ignore */\r\n    setOpacity = function(element, value) {\r\n      var es = element.style;\r\n      if (element.currentStyle && !element.currentStyle.hasLayout) {\r\n        es.zoom = 1;\r\n      }\r\n      if (reOpacity.test(es.filter)) {\r\n        value = value >= 0.9999 ? '' : ('alpha(opacity=' + (value * 100) + ')');\r\n        es.filter = es.filter.replace(reOpacity, value);\r\n      }\r\n      else {\r\n        es.filter += ' alpha(opacity=' + (value * 100) + ')';\r\n      }\r\n      return element;\r\n    };\r\n  }\r\n\r\n  fabric.util.setStyle = setStyle;\r\n\r\n})();\r\n\r\n\r\n(function() {\r\n\r\n  var _slice = Array.prototype.slice;\r\n\r\n  /**\r\n   * Takes id and returns an element with that id (if one exists in a document)\r\n   * @memberOf fabric.util\r\n   * @param {String|HTMLElement} id\r\n   * @return {HTMLElement|null}\r\n   */\r\n  function getById(id) {\r\n    return typeof id === 'string' ? fabric.document.getElementById(id) : id;\r\n  }\r\n\r\n  var sliceCanConvertNodelists,\r\n      /**\r\n       * Converts an array-like object (e.g. arguments or NodeList) to an array\r\n       * @memberOf fabric.util\r\n       * @param {Object} arrayLike\r\n       * @return {Array}\r\n       */\r\n      toArray = function(arrayLike) {\r\n        return _slice.call(arrayLike, 0);\r\n      };\r\n\r\n  try {\r\n    sliceCanConvertNodelists = toArray(fabric.document.childNodes) instanceof Array;\r\n  }\r\n  catch (err) { }\r\n\r\n  if (!sliceCanConvertNodelists) {\r\n    toArray = function(arrayLike) {\r\n      var arr = new Array(arrayLike.length), i = arrayLike.length;\r\n      while (i--) {\r\n        arr[i] = arrayLike[i];\r\n      }\r\n      return arr;\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Creates specified element with specified attributes\r\n   * @memberOf fabric.util\r\n   * @param {String} tagName Type of an element to create\r\n   * @param {Object} [attributes] Attributes to set on an element\r\n   * @return {HTMLElement} Newly created element\r\n   */\r\n  function makeElement(tagName, attributes) {\r\n    var el = fabric.document.createElement(tagName);\r\n    for (var prop in attributes) {\r\n      if (prop === 'class') {\r\n        el.className = attributes[prop];\r\n      }\r\n      else if (prop === 'for') {\r\n        el.htmlFor = attributes[prop];\r\n      }\r\n      else {\r\n        el.setAttribute(prop, attributes[prop]);\r\n      }\r\n    }\r\n    return el;\r\n  }\r\n\r\n  /**\r\n   * Adds class to an element\r\n   * @memberOf fabric.util\r\n   * @param {HTMLElement} element Element to add class to\r\n   * @param {String} className Class to add to an element\r\n   */\r\n  function addClass(element, className) {\r\n    if (element && (' ' + element.className + ' ').indexOf(' ' + className + ' ') === -1) {\r\n      element.className += (element.className ? ' ' : '') + className;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Wraps element with another element\r\n   * @memberOf fabric.util\r\n   * @param {HTMLElement} element Element to wrap\r\n   * @param {HTMLElement|String} wrapper Element to wrap with\r\n   * @param {Object} [attributes] Attributes to set on a wrapper\r\n   * @return {HTMLElement} wrapper\r\n   */\r\n  function wrapElement(element, wrapper, attributes) {\r\n    if (typeof wrapper === 'string') {\r\n      wrapper = makeElement(wrapper, attributes);\r\n    }\r\n    if (element.parentNode) {\r\n      element.parentNode.replaceChild(wrapper, element);\r\n    }\r\n    wrapper.appendChild(element);\r\n    return wrapper;\r\n  }\r\n\r\n  /**\r\n   * Returns element scroll offsets\r\n   * @memberOf fabric.util\r\n   * @param {HTMLElement} element Element to operate on\r\n   * @return {Object} Object with left/top values\r\n   */\r\n  function getScrollLeftTop(element) {\r\n\r\n    var left = 0,\r\n        top = 0,\r\n        docElement = fabric.document.documentElement,\r\n        body = fabric.document.body || {\r\n          scrollLeft: 0, scrollTop: 0\r\n        };\r\n\r\n    // While loop checks (and then sets element to) .parentNode OR .host\r\n    //  to account for ShadowDOM. We still want to traverse up out of ShadowDOM,\r\n    //  but the .parentNode of a root ShadowDOM node will always be null, instead\r\n    //  it should be accessed through .host. See http://stackoverflow.com/a/24765528/4383938\r\n    while (element && (element.parentNode || element.host)) {\r\n\r\n      // Set element to element parent, or 'host' in case of ShadowDOM\r\n      element = element.parentNode || element.host;\r\n\r\n      if (element === fabric.document) {\r\n        left = body.scrollLeft || docElement.scrollLeft || 0;\r\n        top = body.scrollTop ||  docElement.scrollTop || 0;\r\n      }\r\n      else {\r\n        left += element.scrollLeft || 0;\r\n        top += element.scrollTop || 0;\r\n      }\r\n\r\n      if (element.nodeType === 1 &&\r\n          fabric.util.getElementStyle(element, 'position') === 'fixed') {\r\n        break;\r\n      }\r\n    }\r\n\r\n    return { left: left, top: top };\r\n  }\r\n\r\n  /**\r\n   * Returns offset for a given element\r\n   * @function\r\n   * @memberOf fabric.util\r\n   * @param {HTMLElement} element Element to get offset for\r\n   * @return {Object} Object with \"left\" and \"top\" properties\r\n   */\r\n  function getElementOffset(element) {\r\n    var docElem,\r\n        doc = element && element.ownerDocument,\r\n        box = { left: 0, top: 0 },\r\n        offset = { left: 0, top: 0 },\r\n        scrollLeftTop,\r\n        offsetAttributes = {\r\n          borderLeftWidth: 'left',\r\n          borderTopWidth:  'top',\r\n          paddingLeft:     'left',\r\n          paddingTop:      'top'\r\n        };\r\n\r\n    if (!doc) {\r\n      return offset;\r\n    }\r\n\r\n    for (var attr in offsetAttributes) {\r\n      offset[offsetAttributes[attr]] += parseInt(getElementStyle(element, attr), 10) || 0;\r\n    }\r\n\r\n    docElem = doc.documentElement;\r\n    if ( typeof element.getBoundingClientRect !== 'undefined' ) {\r\n      box = element.getBoundingClientRect();\r\n    }\r\n\r\n    scrollLeftTop = getScrollLeftTop(element);\r\n\r\n    return {\r\n      left: box.left + scrollLeftTop.left - (docElem.clientLeft || 0) + offset.left,\r\n      top: box.top + scrollLeftTop.top - (docElem.clientTop || 0)  + offset.top\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Returns style attribute value of a given element\r\n   * @memberOf fabric.util\r\n   * @param {HTMLElement} element Element to get style attribute for\r\n   * @param {String} attr Style attribute to get for element\r\n   * @return {String} Style attribute value of the given element.\r\n   */\r\n  var getElementStyle;\r\n  if (fabric.document.defaultView && fabric.document.defaultView.getComputedStyle) {\r\n    getElementStyle = function(element, attr) {\r\n      var style = fabric.document.defaultView.getComputedStyle(element, null);\r\n      return style ? style[attr] : undefined;\r\n    };\r\n  }\r\n  else {\r\n    getElementStyle = function(element, attr) {\r\n      var value = element.style[attr];\r\n      if (!value && element.currentStyle) {\r\n        value = element.currentStyle[attr];\r\n      }\r\n      return value;\r\n    };\r\n  }\r\n\r\n  (function () {\r\n    var style = fabric.document.documentElement.style,\r\n        selectProp = 'userSelect' in style\r\n          ? 'userSelect'\r\n          : 'MozUserSelect' in style\r\n            ? 'MozUserSelect'\r\n            : 'WebkitUserSelect' in style\r\n              ? 'WebkitUserSelect'\r\n              : 'KhtmlUserSelect' in style\r\n                ? 'KhtmlUserSelect'\r\n                : '';\r\n\r\n    /**\r\n     * Makes element unselectable\r\n     * @memberOf fabric.util\r\n     * @param {HTMLElement} element Element to make unselectable\r\n     * @return {HTMLElement} Element that was passed in\r\n     */\r\n    function makeElementUnselectable(element) {\r\n      if (typeof element.onselectstart !== 'undefined') {\r\n        element.onselectstart = fabric.util.falseFunction;\r\n      }\r\n      if (selectProp) {\r\n        element.style[selectProp] = 'none';\r\n      }\r\n      else if (typeof element.unselectable === 'string') {\r\n        element.unselectable = 'on';\r\n      }\r\n      return element;\r\n    }\r\n\r\n    /**\r\n     * Makes element selectable\r\n     * @memberOf fabric.util\r\n     * @param {HTMLElement} element Element to make selectable\r\n     * @return {HTMLElement} Element that was passed in\r\n     */\r\n    function makeElementSelectable(element) {\r\n      if (typeof element.onselectstart !== 'undefined') {\r\n        element.onselectstart = null;\r\n      }\r\n      if (selectProp) {\r\n        element.style[selectProp] = '';\r\n      }\r\n      else if (typeof element.unselectable === 'string') {\r\n        element.unselectable = '';\r\n      }\r\n      return element;\r\n    }\r\n\r\n    fabric.util.makeElementUnselectable = makeElementUnselectable;\r\n    fabric.util.makeElementSelectable = makeElementSelectable;\r\n  })();\r\n\r\n  (function() {\r\n\r\n    /**\r\n     * Inserts a script element with a given url into a document; invokes callback, when that script is finished loading\r\n     * @memberOf fabric.util\r\n     * @param {String} url URL of a script to load\r\n     * @param {Function} callback Callback to execute when script is finished loading\r\n     */\r\n    function getScript(url, callback) {\r\n      var headEl = fabric.document.getElementsByTagName('head')[0],\r\n          scriptEl = fabric.document.createElement('script'),\r\n          loading = true;\r\n\r\n      /** @ignore */\r\n      scriptEl.onload = /** @ignore */ scriptEl.onreadystatechange = function(e) {\r\n        if (loading) {\r\n          if (typeof this.readyState === 'string' &&\r\n              this.readyState !== 'loaded' &&\r\n              this.readyState !== 'complete') {\r\n            return;\r\n          }\r\n          loading = false;\r\n          callback(e || fabric.window.event);\r\n          scriptEl = scriptEl.onload = scriptEl.onreadystatechange = null;\r\n        }\r\n      };\r\n      scriptEl.src = url;\r\n      headEl.appendChild(scriptEl);\r\n      // causes issue in Opera\r\n      // headEl.removeChild(scriptEl);\r\n    }\r\n\r\n    fabric.util.getScript = getScript;\r\n  })();\r\n\r\n  fabric.util.getById = getById;\r\n  fabric.util.toArray = toArray;\r\n  fabric.util.makeElement = makeElement;\r\n  fabric.util.addClass = addClass;\r\n  fabric.util.wrapElement = wrapElement;\r\n  fabric.util.getScrollLeftTop = getScrollLeftTop;\r\n  fabric.util.getElementOffset = getElementOffset;\r\n  fabric.util.getElementStyle = getElementStyle;\r\n\r\n})();\r\n\r\n\r\n(function() {\r\n\r\n  function addParamToUrl(url, param) {\r\n    return url + (/\\?/.test(url) ? '&' : '?') + param;\r\n  }\r\n\r\n  var makeXHR = (function() {\r\n    var factories = [\r\n      function() { return new ActiveXObject('Microsoft.XMLHTTP'); },\r\n      function() { return new ActiveXObject('Msxml2.XMLHTTP'); },\r\n      function() { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); },\r\n      function() { return new XMLHttpRequest(); }\r\n    ];\r\n    for (var i = factories.length; i--; ) {\r\n      try {\r\n        var req = factories[i]();\r\n        if (req) {\r\n          return factories[i];\r\n        }\r\n      }\r\n      catch (err) { }\r\n    }\r\n  })();\r\n\r\n  function emptyFn() { }\r\n\r\n  /**\r\n   * Cross-browser abstraction for sending XMLHttpRequest\r\n   * @memberOf fabric.util\r\n   * @param {String} url URL to send XMLHttpRequest to\r\n   * @param {Object} [options] Options object\r\n   * @param {String} [options.method=\"GET\"]\r\n   * @param {String} [options.parameters] parameters to append to url in GET or in body\r\n   * @param {String} [options.body] body to send with POST or PUT request\r\n   * @param {Function} options.onComplete Callback to invoke when request is completed\r\n   * @return {XMLHttpRequest} request\r\n   */\r\n  function request(url, options) {\r\n\r\n    options || (options = { });\r\n\r\n    var method = options.method ? options.method.toUpperCase() : 'GET',\r\n        onComplete = options.onComplete || function() { },\r\n        xhr = makeXHR(),\r\n        body = options.body || options.parameters;\r\n\r\n    /** @ignore */\r\n    xhr.onreadystatechange = function() {\r\n      if (xhr.readyState === 4) {\r\n        onComplete(xhr);\r\n        xhr.onreadystatechange = emptyFn;\r\n      }\r\n    };\r\n\r\n    if (method === 'GET') {\r\n      body = null;\r\n      if (typeof options.parameters === 'string') {\r\n        url = addParamToUrl(url, options.parameters);\r\n      }\r\n    }\r\n\r\n    xhr.open(method, url, true);\r\n\r\n    if (method === 'POST' || method === 'PUT') {\r\n      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n    }\r\n\r\n    xhr.send(body);\r\n    return xhr;\r\n  }\r\n\r\n  fabric.util.request = request;\r\n})();\r\n\r\n\r\n/**\r\n * Wrapper around `console.log` (when available)\r\n * @param {*} [values] Values to log\r\n */\r\nfabric.log = function() { };\r\n\r\n/**\r\n * Wrapper around `console.warn` (when available)\r\n * @param {*} [values] Values to log as a warning\r\n */\r\nfabric.warn = function() { };\r\n\r\n/* eslint-disable */\r\nif (typeof console !== 'undefined') {\r\n\r\n  ['log', 'warn'].forEach(function(methodName) {\r\n\r\n    if (typeof console[methodName] !== 'undefined' &&\r\n        typeof console[methodName].apply === 'function') {\r\n\r\n      fabric[methodName] = function() {\r\n        return console[methodName].apply(console, arguments);\r\n      };\r\n    }\r\n  });\r\n}\r\n/* eslint-enable */\r\n\r\n\r\n(function() {\r\n\r\n  /**\r\n   * Changes value from one to another within certain period of time, invoking callbacks as value is being changed.\r\n   * @memberOf fabric.util\r\n   * @param {Object} [options] Animation options\r\n   * @param {Function} [options.onChange] Callback; invoked on every value change\r\n   * @param {Function} [options.onComplete] Callback; invoked when value change is completed\r\n   * @param {Number} [options.startValue=0] Starting value\r\n   * @param {Number} [options.endValue=100] Ending value\r\n   * @param {Number} [options.byValue=100] Value to modify the property by\r\n   * @param {Function} [options.easing] Easing function\r\n   * @param {Number} [options.duration=500] Duration of change (in ms)\r\n   */\r\n  function animate(options) {\r\n\r\n    requestAnimFrame(function(timestamp) {\r\n      options || (options = { });\r\n\r\n      var start = timestamp || +new Date(),\r\n          duration = options.duration || 500,\r\n          finish = start + duration, time,\r\n          onChange = options.onChange || function() { },\r\n          abort = options.abort || function() { return false; },\r\n          easing = options.easing || function(t, b, c, d) {return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;},\r\n          startValue = 'startValue' in options ? options.startValue : 0,\r\n          endValue = 'endValue' in options ? options.endValue : 100,\r\n          byValue = options.byValue || endValue - startValue;\r\n\r\n      options.onStart && options.onStart();\r\n\r\n      (function tick(ticktime) {\r\n        time = ticktime || +new Date();\r\n        var currentTime = time > finish ? duration : (time - start);\r\n        if (abort()) {\r\n          options.onComplete && options.onComplete();\r\n          return;\r\n        }\r\n        onChange(easing(currentTime, startValue, byValue, duration));\r\n        if (time > finish) {\r\n          options.onComplete && options.onComplete();\r\n          return;\r\n        }\r\n        requestAnimFrame(tick);\r\n      })(start);\r\n    });\r\n\r\n  }\r\n\r\n  var _requestAnimFrame = fabric.window.requestAnimationFrame       ||\r\n                          fabric.window.webkitRequestAnimationFrame ||\r\n                          fabric.window.mozRequestAnimationFrame    ||\r\n                          fabric.window.oRequestAnimationFrame      ||\r\n                          fabric.window.msRequestAnimationFrame     ||\r\n                          function(callback) {\r\n                            fabric.window.setTimeout(callback, 1000 / 60);\r\n                          };\r\n\r\n  /**\r\n   * requestAnimationFrame polyfill based on http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n   * In order to get a precise start time, `requestAnimFrame` should be called as an entry into the method\r\n   * @memberOf fabric.util\r\n   * @param {Function} callback Callback to invoke\r\n   * @param {DOMElement} element optional Element to associate with animation\r\n   */\r\n  function requestAnimFrame() {\r\n    return _requestAnimFrame.apply(fabric.window, arguments);\r\n  }\r\n\r\n  fabric.util.animate = animate;\r\n  fabric.util.requestAnimFrame = requestAnimFrame;\r\n\r\n})();\r\n\r\n\r\n(function() {\r\n\r\n  function normalize(a, c, p, s) {\r\n    if (a < Math.abs(c)) {\r\n      a = c;\r\n      s = p / 4;\r\n    }\r\n    else {\r\n      //handle the 0/0 case:\r\n      if (c === 0 && a === 0) {\r\n        s = p / (2 * Math.PI) * Math.asin(1);\r\n      }\r\n      else {\r\n        s = p / (2 * Math.PI) * Math.asin(c / a);\r\n      }\r\n    }\r\n    return { a: a, c: c, p: p, s: s };\r\n  }\r\n\r\n  function elastic(opts, t, d) {\r\n    return opts.a *\r\n      Math.pow(2, 10 * (t -= 1)) *\r\n      Math.sin( (t * d - opts.s) * (2 * Math.PI) / opts.p );\r\n  }\r\n\r\n  /**\r\n   * Cubic easing out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeOutCubic(t, b, c, d) {\r\n    return c * ((t = t / d - 1) * t * t + 1) + b;\r\n  }\r\n\r\n  /**\r\n   * Cubic easing in and out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInOutCubic(t, b, c, d) {\r\n    t /= d / 2;\r\n    if (t < 1) {\r\n      return c / 2 * t * t * t + b;\r\n    }\r\n    return c / 2 * ((t -= 2) * t * t + 2) + b;\r\n  }\r\n\r\n  /**\r\n   * Quartic easing in\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInQuart(t, b, c, d) {\r\n    return c * (t /= d) * t * t * t + b;\r\n  }\r\n\r\n  /**\r\n   * Quartic easing out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeOutQuart(t, b, c, d) {\r\n    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\r\n  }\r\n\r\n  /**\r\n   * Quartic easing in and out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInOutQuart(t, b, c, d) {\r\n    t /= d / 2;\r\n    if (t < 1) {\r\n      return c / 2 * t * t * t * t + b;\r\n    }\r\n    return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\r\n  }\r\n\r\n  /**\r\n   * Quintic easing in\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInQuint(t, b, c, d) {\r\n    return c * (t /= d) * t * t * t * t + b;\r\n  }\r\n\r\n  /**\r\n   * Quintic easing out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeOutQuint(t, b, c, d) {\r\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\r\n  }\r\n\r\n  /**\r\n   * Quintic easing in and out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInOutQuint(t, b, c, d) {\r\n    t /= d / 2;\r\n    if (t < 1) {\r\n      return c / 2 * t * t * t * t * t + b;\r\n    }\r\n    return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\r\n  }\r\n\r\n  /**\r\n   * Sinusoidal easing in\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInSine(t, b, c, d) {\r\n    return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\r\n  }\r\n\r\n  /**\r\n   * Sinusoidal easing out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeOutSine(t, b, c, d) {\r\n    return c * Math.sin(t / d * (Math.PI / 2)) + b;\r\n  }\r\n\r\n  /**\r\n   * Sinusoidal easing in and out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInOutSine(t, b, c, d) {\r\n    return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\r\n  }\r\n\r\n  /**\r\n   * Exponential easing in\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInExpo(t, b, c, d) {\r\n    return (t === 0) ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\r\n  }\r\n\r\n  /**\r\n   * Exponential easing out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeOutExpo(t, b, c, d) {\r\n    return (t === d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\r\n  }\r\n\r\n  /**\r\n   * Exponential easing in and out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInOutExpo(t, b, c, d) {\r\n    if (t === 0) {\r\n      return b;\r\n    }\r\n    if (t === d) {\r\n      return b + c;\r\n    }\r\n    t /= d / 2;\r\n    if (t < 1) {\r\n      return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\r\n    }\r\n    return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\r\n  }\r\n\r\n  /**\r\n   * Circular easing in\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInCirc(t, b, c, d) {\r\n    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\r\n  }\r\n\r\n  /**\r\n   * Circular easing out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeOutCirc(t, b, c, d) {\r\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\r\n  }\r\n\r\n  /**\r\n   * Circular easing in and out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInOutCirc(t, b, c, d) {\r\n    t /= d / 2;\r\n    if (t < 1) {\r\n      return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\r\n    }\r\n    return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\r\n  }\r\n\r\n  /**\r\n   * Elastic easing in\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInElastic(t, b, c, d) {\r\n    var s = 1.70158, p = 0, a = c;\r\n    if (t === 0) {\r\n      return b;\r\n    }\r\n    t /= d;\r\n    if (t === 1) {\r\n      return b + c;\r\n    }\r\n    if (!p) {\r\n      p = d * 0.3;\r\n    }\r\n    var opts = normalize(a, c, p, s);\r\n    return -elastic(opts, t, d) + b;\r\n  }\r\n\r\n  /**\r\n   * Elastic easing out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeOutElastic(t, b, c, d) {\r\n    var s = 1.70158, p = 0, a = c;\r\n    if (t === 0) {\r\n      return b;\r\n    }\r\n    t /= d;\r\n    if (t === 1) {\r\n      return b + c;\r\n    }\r\n    if (!p) {\r\n      p = d * 0.3;\r\n    }\r\n    var opts = normalize(a, c, p, s);\r\n    return opts.a * Math.pow(2, -10 * t) * Math.sin((t * d - opts.s) * (2 * Math.PI) / opts.p ) + opts.c + b;\r\n  }\r\n\r\n  /**\r\n   * Elastic easing in and out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInOutElastic(t, b, c, d) {\r\n    var s = 1.70158, p = 0, a = c;\r\n    if (t === 0) {\r\n      return b;\r\n    }\r\n    t /= d / 2;\r\n    if (t === 2) {\r\n      return b + c;\r\n    }\r\n    if (!p) {\r\n      p = d * (0.3 * 1.5);\r\n    }\r\n    var opts = normalize(a, c, p, s);\r\n    if (t < 1) {\r\n      return -0.5 * elastic(opts, t, d) + b;\r\n    }\r\n    return opts.a * Math.pow(2, -10 * (t -= 1)) *\r\n      Math.sin((t * d - opts.s) * (2 * Math.PI) / opts.p ) * 0.5 + opts.c + b;\r\n  }\r\n\r\n  /**\r\n   * Backwards easing in\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInBack(t, b, c, d, s) {\r\n    if (s === undefined) {\r\n      s = 1.70158;\r\n    }\r\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\r\n  }\r\n\r\n  /**\r\n   * Backwards easing out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeOutBack(t, b, c, d, s) {\r\n    if (s === undefined) {\r\n      s = 1.70158;\r\n    }\r\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\r\n  }\r\n\r\n  /**\r\n   * Backwards easing in and out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInOutBack(t, b, c, d, s) {\r\n    if (s === undefined) {\r\n      s = 1.70158;\r\n    }\r\n    t /= d / 2;\r\n    if (t < 1) {\r\n      return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\r\n    }\r\n    return c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\r\n  }\r\n\r\n  /**\r\n   * Bouncing easing in\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInBounce(t, b, c, d) {\r\n    return c - easeOutBounce (d - t, 0, c, d) + b;\r\n  }\r\n\r\n  /**\r\n   * Bouncing easing out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeOutBounce(t, b, c, d) {\r\n    if ((t /= d) < (1 / 2.75)) {\r\n      return c * (7.5625 * t * t) + b;\r\n    }\r\n    else if (t < (2 / 2.75)) {\r\n      return c * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75) + b;\r\n    }\r\n    else if (t < (2.5 / 2.75)) {\r\n      return c * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375) + b;\r\n    }\r\n    else {\r\n      return c * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375) + b;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Bouncing easing in and out\r\n   * @memberOf fabric.util.ease\r\n   */\r\n  function easeInOutBounce(t, b, c, d) {\r\n    if (t < d / 2) {\r\n      return easeInBounce (t * 2, 0, c, d) * 0.5 + b;\r\n    }\r\n    return easeOutBounce(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\r\n  }\r\n\r\n  /**\r\n   * Easing functions\r\n   * See <a href=\"http://gizma.com/easing/\">Easing Equations by Robert Penner</a>\r\n   * @namespace fabric.util.ease\r\n   */\r\n  fabric.util.ease = {\r\n\r\n    /**\r\n     * Quadratic easing in\r\n     * @memberOf fabric.util.ease\r\n     */\r\n    easeInQuad: function(t, b, c, d) {\r\n      return c * (t /= d) * t + b;\r\n    },\r\n\r\n    /**\r\n     * Quadratic easing out\r\n     * @memberOf fabric.util.ease\r\n     */\r\n    easeOutQuad: function(t, b, c, d) {\r\n      return -c * (t /= d) * (t - 2) + b;\r\n    },\r\n\r\n    /**\r\n     * Quadratic easing in and out\r\n     * @memberOf fabric.util.ease\r\n     */\r\n    easeInOutQuad: function(t, b, c, d) {\r\n      t /= (d / 2);\r\n      if (t < 1) {\r\n        return c / 2 * t * t + b;\r\n      }\r\n      return -c / 2 * ((--t) * (t - 2) - 1) + b;\r\n    },\r\n\r\n    /**\r\n     * Cubic easing in\r\n     * @memberOf fabric.util.ease\r\n     */\r\n    easeInCubic: function(t, b, c, d) {\r\n      return c * (t /= d) * t * t + b;\r\n    },\r\n\r\n    easeOutCubic: easeOutCubic,\r\n    easeInOutCubic: easeInOutCubic,\r\n    easeInQuart: easeInQuart,\r\n    easeOutQuart: easeOutQuart,\r\n    easeInOutQuart: easeInOutQuart,\r\n    easeInQuint: easeInQuint,\r\n    easeOutQuint: easeOutQuint,\r\n    easeInOutQuint: easeInOutQuint,\r\n    easeInSine: easeInSine,\r\n    easeOutSine: easeOutSine,\r\n    easeInOutSine: easeInOutSine,\r\n    easeInExpo: easeInExpo,\r\n    easeOutExpo: easeOutExpo,\r\n    easeInOutExpo: easeInOutExpo,\r\n    easeInCirc: easeInCirc,\r\n    easeOutCirc: easeOutCirc,\r\n    easeInOutCirc: easeInOutCirc,\r\n    easeInElastic: easeInElastic,\r\n    easeOutElastic: easeOutElastic,\r\n    easeInOutElastic: easeInOutElastic,\r\n    easeInBack: easeInBack,\r\n    easeOutBack: easeOutBack,\r\n    easeInOutBack: easeInOutBack,\r\n    easeInBounce: easeInBounce,\r\n    easeOutBounce: easeOutBounce,\r\n    easeInOutBounce: easeInOutBounce\r\n  };\r\n\r\n})();\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  /**\r\n   * @name fabric\r\n   * @namespace\r\n   */\r\n\r\n  var fabric = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      capitalize = fabric.util.string.capitalize,\r\n      clone = fabric.util.object.clone,\r\n      toFixed = fabric.util.toFixed,\r\n      parseUnit = fabric.util.parseUnit,\r\n      multiplyTransformMatrices = fabric.util.multiplyTransformMatrices,\r\n\r\n      reAllowedSVGTagNames = /^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/i,\r\n      reViewBoxTagNames = /^(symbol|image|marker|pattern|view|svg)$/i,\r\n      reNotAllowedAncestors = /^(?:pattern|defs|symbol|metadata)$/i,\r\n      reAllowedParents = /^(symbol|g|a|svg)$/i,\r\n\r\n      attributesMap = {\r\n        cx:                   'left',\r\n        x:                    'left',\r\n        r:                    'radius',\r\n        cy:                   'top',\r\n        y:                    'top',\r\n        display:              'visible',\r\n        visibility:           'visible',\r\n        transform:            'transformMatrix',\r\n        'fill-opacity':       'fillOpacity',\r\n        'fill-rule':          'fillRule',\r\n        'font-family':        'fontFamily',\r\n        'font-size':          'fontSize',\r\n        'font-style':         'fontStyle',\r\n        'font-weight':        'fontWeight',\r\n        'stroke-dasharray':   'strokeDashArray',\r\n        'stroke-linecap':     'strokeLineCap',\r\n        'stroke-linejoin':    'strokeLineJoin',\r\n        'stroke-miterlimit':  'strokeMiterLimit',\r\n        'stroke-opacity':     'strokeOpacity',\r\n        'stroke-width':       'strokeWidth',\r\n        'text-decoration':    'textDecoration',\r\n        'text-anchor':        'originX'\r\n      },\r\n\r\n      colorAttributes = {\r\n        stroke: 'strokeOpacity',\r\n        fill:   'fillOpacity'\r\n      };\r\n\r\n  fabric.cssRules = { };\r\n  fabric.gradientDefs = { };\r\n\r\n  function normalizeAttr(attr) {\r\n    // transform attribute names\r\n    if (attr in attributesMap) {\r\n      return attributesMap[attr];\r\n    }\r\n    return attr;\r\n  }\r\n\r\n  function normalizeValue(attr, value, parentAttributes, fontSize) {\r\n    var isArray = Object.prototype.toString.call(value) === '[object Array]',\r\n        parsed;\r\n\r\n    if ((attr === 'fill' || attr === 'stroke') && value === 'none') {\r\n      value = '';\r\n    }\r\n    else if (attr === 'strokeDashArray') {\r\n      if (value === 'none') {\r\n        value = null;\r\n      }\r\n      else {\r\n        value = value.replace(/,/g, ' ').split(/\\s+/).map(function(n) {\r\n          return parseFloat(n);\r\n        });\r\n      }\r\n    }\r\n    else if (attr === 'transformMatrix') {\r\n      if (parentAttributes && parentAttributes.transformMatrix) {\r\n        value = multiplyTransformMatrices(\r\n          parentAttributes.transformMatrix, fabric.parseTransformAttribute(value));\r\n      }\r\n      else {\r\n        value = fabric.parseTransformAttribute(value);\r\n      }\r\n    }\r\n    else if (attr === 'visible') {\r\n      value = (value === 'none' || value === 'hidden') ? false : true;\r\n      // display=none on parent element always takes precedence over child element\r\n      if (parentAttributes && parentAttributes.visible === false) {\r\n        value = false;\r\n      }\r\n    }\r\n    else if (attr === 'originX' /* text-anchor */) {\r\n      value = value === 'start' ? 'left' : value === 'end' ? 'right' : 'center';\r\n    }\r\n    else {\r\n      parsed = isArray ? value.map(parseUnit) : parseUnit(value, fontSize);\r\n    }\r\n\r\n    return (!isArray && isNaN(parsed) ? value : parsed);\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {Object} attributes Array of attributes to parse\r\n   */\r\n  function _setStrokeFillOpacity(attributes) {\r\n    for (var attr in colorAttributes) {\r\n\r\n      if (typeof attributes[colorAttributes[attr]] === 'undefined' || attributes[attr] === '') {\r\n        continue;\r\n      }\r\n\r\n      if (typeof attributes[attr] === 'undefined') {\r\n        if (!fabric.Object.prototype[attr]) {\r\n          continue;\r\n        }\r\n        attributes[attr] = fabric.Object.prototype[attr];\r\n      }\r\n\r\n      if (attributes[attr].indexOf('url(') === 0) {\r\n        continue;\r\n      }\r\n\r\n      var color = new fabric.Color(attributes[attr]);\r\n      attributes[attr] = color.setAlpha(toFixed(color.getAlpha() * attributes[colorAttributes[attr]], 2)).toRgba();\r\n    }\r\n    return attributes;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function _getMultipleNodes(doc, nodeNames) {\r\n    var nodeName, nodeArray = [], nodeList;\r\n    for (var i = 0; i < nodeNames.length; i++) {\r\n      nodeName = nodeNames[i];\r\n      nodeList = doc.getElementsByTagName(nodeName);\r\n      nodeArray = nodeArray.concat(Array.prototype.slice.call(nodeList));\r\n    }\r\n    return nodeArray;\r\n  }\r\n\r\n  /**\r\n   * Parses \"transform\" attribute, returning an array of values\r\n   * @static\r\n   * @function\r\n   * @memberOf fabric\r\n   * @param {String} attributeValue String containing attribute value\r\n   * @return {Array} Array of 6 elements representing transformation matrix\r\n   */\r\n  fabric.parseTransformAttribute = (function() {\r\n    function rotateMatrix(matrix, args) {\r\n      var angle = args[0],\r\n          x = (args.length === 3) ? args[1] : 0,\r\n          y = (args.length === 3) ? args[2] : 0;\r\n\r\n      matrix[0] = Math.cos(angle);\r\n      matrix[1] = Math.sin(angle);\r\n      matrix[2] = -Math.sin(angle);\r\n      matrix[3] = Math.cos(angle);\r\n      matrix[4] = x - (matrix[0] * x + matrix[2] * y);\r\n      matrix[5] = y - (matrix[1] * x + matrix[3] * y);\r\n    }\r\n\r\n    function scaleMatrix(matrix, args) {\r\n      var multiplierX = args[0],\r\n          multiplierY = (args.length === 2) ? args[1] : args[0];\r\n\r\n      matrix[0] = multiplierX;\r\n      matrix[3] = multiplierY;\r\n    }\r\n\r\n    function skewXMatrix(matrix, args) {\r\n      matrix[2] = Math.tan(fabric.util.degreesToRadians(args[0]));\r\n    }\r\n\r\n    function skewYMatrix(matrix, args) {\r\n      matrix[1] = Math.tan(fabric.util.degreesToRadians(args[0]));\r\n    }\r\n\r\n    function translateMatrix(matrix, args) {\r\n      matrix[4] = args[0];\r\n      if (args.length === 2) {\r\n        matrix[5] = args[1];\r\n      }\r\n    }\r\n\r\n    // identity matrix\r\n    var iMatrix = [\r\n          1, // a\r\n          0, // b\r\n          0, // c\r\n          1, // d\r\n          0, // e\r\n          0  // f\r\n        ],\r\n\r\n        // == begin transform regexp\r\n        number = fabric.reNum,\r\n\r\n        commaWsp = '(?:\\\\s+,?\\\\s*|,\\\\s*)',\r\n\r\n        skewX = '(?:(skewX)\\\\s*\\\\(\\\\s*(' + number + ')\\\\s*\\\\))',\r\n\r\n        skewY = '(?:(skewY)\\\\s*\\\\(\\\\s*(' + number + ')\\\\s*\\\\))',\r\n\r\n        rotate = '(?:(rotate)\\\\s*\\\\(\\\\s*(' + number + ')(?:' +\r\n                    commaWsp + '(' + number + ')' +\r\n                    commaWsp + '(' + number + '))?\\\\s*\\\\))',\r\n\r\n        scale = '(?:(scale)\\\\s*\\\\(\\\\s*(' + number + ')(?:' +\r\n                    commaWsp + '(' + number + '))?\\\\s*\\\\))',\r\n\r\n        translate = '(?:(translate)\\\\s*\\\\(\\\\s*(' + number + ')(?:' +\r\n                    commaWsp + '(' + number + '))?\\\\s*\\\\))',\r\n\r\n        matrix = '(?:(matrix)\\\\s*\\\\(\\\\s*' +\r\n                  '(' + number + ')' + commaWsp +\r\n                  '(' + number + ')' + commaWsp +\r\n                  '(' + number + ')' + commaWsp +\r\n                  '(' + number + ')' + commaWsp +\r\n                  '(' + number + ')' + commaWsp +\r\n                  '(' + number + ')' +\r\n                  '\\\\s*\\\\))',\r\n\r\n        transform = '(?:' +\r\n                    matrix + '|' +\r\n                    translate + '|' +\r\n                    scale + '|' +\r\n                    rotate + '|' +\r\n                    skewX + '|' +\r\n                    skewY +\r\n                    ')',\r\n\r\n        transforms = '(?:' + transform + '(?:' + commaWsp + '*' + transform + ')*' + ')',\r\n\r\n        transformList = '^\\\\s*(?:' + transforms + '?)\\\\s*$',\r\n\r\n        // http://www.w3.org/TR/SVG/coords.html#TransformAttribute\r\n        reTransformList = new RegExp(transformList),\r\n        // == end transform regexp\r\n\r\n        reTransform = new RegExp(transform, 'g');\r\n\r\n    return function(attributeValue) {\r\n\r\n      // start with identity matrix\r\n      var matrix = iMatrix.concat(),\r\n          matrices = [];\r\n\r\n      // return if no argument was given or\r\n      // an argument does not match transform attribute regexp\r\n      if (!attributeValue || (attributeValue && !reTransformList.test(attributeValue))) {\r\n        return matrix;\r\n      }\r\n\r\n      attributeValue.replace(reTransform, function(match) {\r\n\r\n        var m = new RegExp(transform).exec(match).filter(function (match) {\r\n              // match !== '' && match != null\r\n              return (!!match);\r\n            }),\r\n            operation = m[1],\r\n            args = m.slice(2).map(parseFloat);\r\n\r\n        switch (operation) {\r\n          case 'translate':\r\n            translateMatrix(matrix, args);\r\n            break;\r\n          case 'rotate':\r\n            args[0] = fabric.util.degreesToRadians(args[0]);\r\n            rotateMatrix(matrix, args);\r\n            break;\r\n          case 'scale':\r\n            scaleMatrix(matrix, args);\r\n            break;\r\n          case 'skewX':\r\n            skewXMatrix(matrix, args);\r\n            break;\r\n          case 'skewY':\r\n            skewYMatrix(matrix, args);\r\n            break;\r\n          case 'matrix':\r\n            matrix = args;\r\n            break;\r\n        }\r\n\r\n        // snapshot current matrix into matrices array\r\n        matrices.push(matrix.concat());\r\n        // reset\r\n        matrix = iMatrix.concat();\r\n      });\r\n\r\n      var combinedMatrix = matrices[0];\r\n      while (matrices.length > 1) {\r\n        matrices.shift();\r\n        combinedMatrix = fabric.util.multiplyTransformMatrices(combinedMatrix, matrices[0]);\r\n      }\r\n      return combinedMatrix;\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function parseStyleString(style, oStyle) {\r\n    var attr, value;\r\n    style.replace(/;\\s*$/, '').split(';').forEach(function (chunk) {\r\n      var pair = chunk.split(':');\r\n\r\n      attr = normalizeAttr(pair[0].trim().toLowerCase());\r\n      value = normalizeValue(attr, pair[1].trim());\r\n\r\n      oStyle[attr] = value;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function parseStyleObject(style, oStyle) {\r\n    var attr, value;\r\n    for (var prop in style) {\r\n      if (typeof style[prop] === 'undefined') {\r\n        continue;\r\n      }\r\n\r\n      attr = normalizeAttr(prop.toLowerCase());\r\n      value = normalizeValue(attr, style[prop]);\r\n\r\n      oStyle[attr] = value;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function getGlobalStylesForElement(element, svgUid) {\r\n    var styles = { };\r\n    for (var rule in fabric.cssRules[svgUid]) {\r\n      if (elementMatchesRule(element, rule.split(' '))) {\r\n        for (var property in fabric.cssRules[svgUid][rule]) {\r\n          styles[property] = fabric.cssRules[svgUid][rule][property];\r\n        }\r\n      }\r\n    }\r\n    return styles;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function elementMatchesRule(element, selectors) {\r\n    var firstMatching, parentMatching = true;\r\n    //start from rightmost selector.\r\n    firstMatching = selectorMatches(element, selectors.pop());\r\n    if (firstMatching && selectors.length) {\r\n      parentMatching = doesSomeParentMatch(element, selectors);\r\n    }\r\n    return firstMatching && parentMatching && (selectors.length === 0);\r\n  }\r\n\r\n  function doesSomeParentMatch(element, selectors) {\r\n    var selector, parentMatching = true;\r\n    while (element.parentNode && element.parentNode.nodeType === 1 && selectors.length) {\r\n      if (parentMatching) {\r\n        selector = selectors.pop();\r\n      }\r\n      element = element.parentNode;\r\n      parentMatching = selectorMatches(element, selector);\r\n    }\r\n    return selectors.length === 0;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function selectorMatches(element, selector) {\r\n    var nodeName = element.nodeName,\r\n        classNames = element.getAttribute('class'),\r\n        id = element.getAttribute('id'), matcher;\r\n    // i check if a selector matches slicing away part from it.\r\n    // if i get empty string i should match\r\n    matcher = new RegExp('^' + nodeName, 'i');\r\n    selector = selector.replace(matcher, '');\r\n    if (id && selector.length) {\r\n      matcher = new RegExp('#' + id + '(?![a-zA-Z\\\\-]+)', 'i');\r\n      selector = selector.replace(matcher, '');\r\n    }\r\n    if (classNames && selector.length) {\r\n      classNames = classNames.split(' ');\r\n      for (var i = classNames.length; i--;) {\r\n        matcher = new RegExp('\\\\.' + classNames[i] + '(?![a-zA-Z\\\\-]+)', 'i');\r\n        selector = selector.replace(matcher, '');\r\n      }\r\n    }\r\n    return selector.length === 0;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * to support IE8 missing getElementById on SVGdocument\r\n   */\r\n  function elementById(doc, id) {\r\n    var el;\r\n    doc.getElementById && (el = doc.getElementById(id));\r\n    if (el) {\r\n      return el;\r\n    }\r\n    var node, i, nodelist = doc.getElementsByTagName('*');\r\n    for (i = 0; i < nodelist.length; i++) {\r\n      node = nodelist[i];\r\n      if (id === node.getAttribute('id')) {\r\n        return node;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function parseUseDirectives(doc) {\r\n    var nodelist = _getMultipleNodes(doc, ['use', 'svg:use']), i = 0;\r\n\r\n    while (nodelist.length && i < nodelist.length) {\r\n      var el = nodelist[i],\r\n          xlink = el.getAttribute('xlink:href').substr(1),\r\n          x = el.getAttribute('x') || 0,\r\n          y = el.getAttribute('y') || 0,\r\n          el2 = elementById(doc, xlink).cloneNode(true),\r\n          currentTrans = (el2.getAttribute('transform') || '') + ' translate(' + x + ', ' + y + ')',\r\n          parentNode, oldLength = nodelist.length, attr, j, attrs, l;\r\n\r\n      applyViewboxTransform(el2);\r\n      if (/^svg$/i.test(el2.nodeName)) {\r\n        var el3 = el2.ownerDocument.createElement('g');\r\n        for (j = 0, attrs = el2.attributes, l = attrs.length; j < l; j++) {\r\n          attr = attrs.item(j);\r\n          el3.setAttribute(attr.nodeName, attr.nodeValue);\r\n        }\r\n        // el2.firstChild != null\r\n        while (el2.firstChild) {\r\n          el3.appendChild(el2.firstChild);\r\n        }\r\n        el2 = el3;\r\n      }\r\n\r\n      for (j = 0, attrs = el.attributes, l = attrs.length; j < l; j++) {\r\n        attr = attrs.item(j);\r\n        if (attr.nodeName === 'x' || attr.nodeName === 'y' || attr.nodeName === 'xlink:href') {\r\n          continue;\r\n        }\r\n\r\n        if (attr.nodeName === 'transform') {\r\n          currentTrans = attr.nodeValue + ' ' + currentTrans;\r\n        }\r\n        else {\r\n          el2.setAttribute(attr.nodeName, attr.nodeValue);\r\n        }\r\n      }\r\n\r\n      el2.setAttribute('transform', currentTrans);\r\n      el2.setAttribute('instantiated_by_use', '1');\r\n      el2.removeAttribute('id');\r\n      parentNode = el.parentNode;\r\n      parentNode.replaceChild(el2, el);\r\n      // some browsers do not shorten nodelist after replaceChild (IE8)\r\n      if (nodelist.length === oldLength) {\r\n        i++;\r\n      }\r\n    }\r\n  }\r\n\r\n  // http://www.w3.org/TR/SVG/coords.html#ViewBoxAttribute\r\n  // matches, e.g.: +14.56e-12, etc.\r\n  var reViewBoxAttrValue = new RegExp(\r\n    '^' +\r\n    '\\\\s*(' + fabric.reNum + '+)\\\\s*,?' +\r\n    '\\\\s*(' + fabric.reNum + '+)\\\\s*,?' +\r\n    '\\\\s*(' + fabric.reNum + '+)\\\\s*,?' +\r\n    '\\\\s*(' + fabric.reNum + '+)\\\\s*' +\r\n    '$'\r\n  );\r\n\r\n  /**\r\n   * Add a <g> element that envelop all child elements and makes the viewbox transformMatrix descend on all elements\r\n   */\r\n  function applyViewboxTransform(element) {\r\n\r\n    var viewBoxAttr = element.getAttribute('viewBox'),\r\n        scaleX = 1,\r\n        scaleY = 1,\r\n        minX = 0,\r\n        minY = 0,\r\n        viewBoxWidth, viewBoxHeight, matrix, el,\r\n        widthAttr = element.getAttribute('width'),\r\n        heightAttr = element.getAttribute('height'),\r\n        x = element.getAttribute('x') || 0,\r\n        y = element.getAttribute('y') || 0,\r\n        preserveAspectRatio = element.getAttribute('preserveAspectRatio') || '',\r\n        missingViewBox = (!viewBoxAttr || !reViewBoxTagNames.test(element.nodeName)\r\n                           || !(viewBoxAttr = viewBoxAttr.match(reViewBoxAttrValue))),\r\n        missingDimAttr = (!widthAttr || !heightAttr || widthAttr === '100%' || heightAttr === '100%'),\r\n        toBeParsed = missingViewBox && missingDimAttr,\r\n        parsedDim = { }, translateMatrix = '';\r\n\r\n    parsedDim.width = 0;\r\n    parsedDim.height = 0;\r\n    parsedDim.toBeParsed = toBeParsed;\r\n\r\n    if (toBeParsed) {\r\n      return parsedDim;\r\n    }\r\n\r\n    if (missingViewBox) {\r\n      parsedDim.width = parseUnit(widthAttr);\r\n      parsedDim.height = parseUnit(heightAttr);\r\n      return parsedDim;\r\n    }\r\n\r\n    minX = -parseFloat(viewBoxAttr[1]);\r\n    minY = -parseFloat(viewBoxAttr[2]);\r\n    viewBoxWidth = parseFloat(viewBoxAttr[3]);\r\n    viewBoxHeight = parseFloat(viewBoxAttr[4]);\r\n\r\n    if (!missingDimAttr) {\r\n      parsedDim.width = parseUnit(widthAttr);\r\n      parsedDim.height = parseUnit(heightAttr);\r\n      scaleX = parsedDim.width / viewBoxWidth;\r\n      scaleY = parsedDim.height / viewBoxHeight;\r\n    }\r\n    else {\r\n      parsedDim.width = viewBoxWidth;\r\n      parsedDim.height = viewBoxHeight;\r\n    }\r\n\r\n    // default is to preserve aspect ratio\r\n    preserveAspectRatio = fabric.util.parsePreserveAspectRatioAttribute(preserveAspectRatio);\r\n    if (preserveAspectRatio.alignX !== 'none') {\r\n      //translate all container for the effect of Mid, Min, Max\r\n      scaleY = scaleX = (scaleX > scaleY ? scaleY : scaleX);\r\n    }\r\n\r\n    if (scaleX === 1 && scaleY === 1 && minX === 0 && minY === 0 && x === 0 && y === 0) {\r\n      return parsedDim;\r\n    }\r\n\r\n    if (x || y) {\r\n      translateMatrix = ' translate(' + parseUnit(x) + ' ' + parseUnit(y) + ') ';\r\n    }\r\n\r\n    matrix = translateMatrix + ' matrix(' + scaleX +\r\n                  ' 0' +\r\n                  ' 0 ' +\r\n                  scaleY + ' ' +\r\n                  (minX * scaleX) + ' ' +\r\n                  (minY * scaleY) + ') ';\r\n\r\n    if (element.nodeName === 'svg') {\r\n      el = element.ownerDocument.createElement('g');\r\n      // element.firstChild != null\r\n      while (element.firstChild) {\r\n        el.appendChild(element.firstChild);\r\n      }\r\n      element.appendChild(el);\r\n    }\r\n    else {\r\n      el = element;\r\n      matrix = el.getAttribute('transform') + matrix;\r\n    }\r\n\r\n    el.setAttribute('transform', matrix);\r\n    return parsedDim;\r\n  }\r\n\r\n  /**\r\n   * Parses an SVG document, converts it to an array of corresponding fabric.* instances and passes them to a callback\r\n   * @static\r\n   * @function\r\n   * @memberOf fabric\r\n   * @param {SVGDocument} doc SVG document to parse\r\n   * @param {Function} callback Callback to call when parsing is finished;\r\n   * It's being passed an array of elements (parsed from a document).\r\n   * @param {Function} [reviver] Method for further parsing of SVG elements, called after each fabric object created.\r\n   */\r\n  fabric.parseSVGDocument = (function() {\r\n\r\n    function hasAncestorWithNodeName(element, nodeName) {\r\n      while (element && (element = element.parentNode)) {\r\n        if (element.nodeName && nodeName.test(element.nodeName.replace('svg:', ''))\r\n          && !element.getAttribute('instantiated_by_use')) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\n    return function(doc, callback, reviver) {\r\n      if (!doc) {\r\n        return;\r\n      }\r\n\r\n      parseUseDirectives(doc);\r\n\r\n      var startTime = new Date(),\r\n          svgUid =  fabric.Object.__uid++,\r\n          options = applyViewboxTransform(doc),\r\n          descendants = fabric.util.toArray(doc.getElementsByTagName('*'));\r\n\r\n      options.svgUid = svgUid;\r\n\r\n      if (descendants.length === 0 && fabric.isLikelyNode) {\r\n        // we're likely in node, where \"o3-xml\" library fails to gEBTN(\"*\")\r\n        // https://github.com/ajaxorg/node-o3-xml/issues/21\r\n        descendants = doc.selectNodes('//*[name(.)!=\"svg\"]');\r\n        var arr = [];\r\n        for (var i = 0, len = descendants.length; i < len; i++) {\r\n          arr[i] = descendants[i];\r\n        }\r\n        descendants = arr;\r\n      }\r\n\r\n      var elements = descendants.filter(function(el) {\r\n        applyViewboxTransform(el);\r\n        return reAllowedSVGTagNames.test(el.nodeName.replace('svg:', '')) &&\r\n              !hasAncestorWithNodeName(el, reNotAllowedAncestors); // http://www.w3.org/TR/SVG/struct.html#DefsElement\r\n      });\r\n\r\n      if (!elements || (elements && !elements.length)) {\r\n        callback && callback([], {});\r\n        return;\r\n      }\r\n\r\n      fabric.gradientDefs[svgUid] = fabric.getGradientDefs(doc);\r\n      fabric.cssRules[svgUid] = fabric.getCSSRules(doc);\r\n      // Precedence of rules:   style > class > attribute\r\n      fabric.parseElements(elements, function(instances) {\r\n        fabric.documentParsingTime = new Date() - startTime;\r\n        if (callback) {\r\n          callback(instances, options);\r\n        }\r\n      }, clone(options), reviver);\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * Used for caching SVG documents (loaded via `fabric.Canvas#loadSVGFromURL`)\r\n   * @namespace\r\n   */\r\n  var svgCache = {\r\n\r\n    /**\r\n     * @param {String} name\r\n     * @param {Function} callback\r\n     */\r\n    has: function (name, callback) {\r\n      callback(false);\r\n    },\r\n\r\n    get: function () {\r\n      /* NOOP */\r\n    },\r\n\r\n    set: function () {\r\n      /* NOOP */\r\n    }\r\n  };\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function _enlivenCachedObject(cachedObject) {\r\n\r\n    var objects = cachedObject.objects,\r\n        options = cachedObject.options;\r\n\r\n    objects = objects.map(function (o) {\r\n      return fabric[capitalize(o.type)].fromObject(o);\r\n    });\r\n\r\n    return ({ objects: objects, options: options });\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function _createSVGPattern(markup, canvas, property) {\r\n    if (canvas[property] && canvas[property].toSVG) {\r\n      markup.push(\r\n        '\\t<pattern x=\"0\" y=\"0\" id=\"', property, 'Pattern\" ',\r\n          'width=\"', canvas[property].source.width,\r\n          '\" height=\"', canvas[property].source.height,\r\n          '\" patternUnits=\"userSpaceOnUse\">\\n',\r\n        '\\t\\t<image x=\"0\" y=\"0\" ',\r\n        'width=\"', canvas[property].source.width,\r\n        '\" height=\"', canvas[property].source.height,\r\n        '\" xlink:href=\"', canvas[property].source.src,\r\n        '\"></image>\\n\\t</pattern>\\n'\r\n      );\r\n    }\r\n  }\r\n\r\n  var reFontDeclaration = new RegExp(\r\n    '(normal|italic)?\\\\s*(normal|small-caps)?\\\\s*' +\r\n    '(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\\\s*(' +\r\n      fabric.reNum +\r\n    '(?:px|cm|mm|em|pt|pc|in)*)(?:\\\\/(normal|' + fabric.reNum + '))?\\\\s+(.*)');\r\n\r\n  extend(fabric, {\r\n    /**\r\n     * Parses a short font declaration, building adding its properties to a style object\r\n     * @static\r\n     * @function\r\n     * @memberOf fabric\r\n     * @param {String} value font declaration\r\n     * @param {Object} oStyle definition\r\n     */\r\n    parseFontDeclaration: function(value, oStyle) {\r\n      var match = value.match(reFontDeclaration);\r\n\r\n      if (!match) {\r\n        return;\r\n      }\r\n      var fontStyle = match[1],\r\n          // font variant is not used\r\n          // fontVariant = match[2],\r\n          fontWeight = match[3],\r\n          fontSize = match[4],\r\n          lineHeight = match[5],\r\n          fontFamily = match[6];\r\n\r\n      if (fontStyle) {\r\n        oStyle.fontStyle = fontStyle;\r\n      }\r\n      if (fontWeight) {\r\n        oStyle.fontWeight = isNaN(parseFloat(fontWeight)) ? fontWeight : parseFloat(fontWeight);\r\n      }\r\n      if (fontSize) {\r\n        oStyle.fontSize = parseUnit(fontSize);\r\n      }\r\n      if (fontFamily) {\r\n        oStyle.fontFamily = fontFamily;\r\n      }\r\n      if (lineHeight) {\r\n        oStyle.lineHeight = lineHeight === 'normal' ? 1 : lineHeight;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Parses an SVG document, returning all of the gradient declarations found in it\r\n     * @static\r\n     * @function\r\n     * @memberOf fabric\r\n     * @param {SVGDocument} doc SVG document to parse\r\n     * @return {Object} Gradient definitions; key corresponds to element id, value -- to gradient definition element\r\n     */\r\n    getGradientDefs: function(doc) {\r\n      var tagArray = [\r\n            'linearGradient',\r\n            'radialGradient',\r\n            'svg:linearGradient',\r\n            'svg:radialGradient'],\r\n          elList = _getMultipleNodes(doc, tagArray),\r\n          el, j = 0, id, xlink,\r\n          gradientDefs = { }, idsToXlinkMap = { };\r\n\r\n      j = elList.length;\r\n\r\n      while (j--) {\r\n        el = elList[j];\r\n        xlink = el.getAttribute('xlink:href');\r\n        id = el.getAttribute('id');\r\n        if (xlink) {\r\n          idsToXlinkMap[id] = xlink.substr(1);\r\n        }\r\n        gradientDefs[id] = el;\r\n      }\r\n\r\n      for (id in idsToXlinkMap) {\r\n        var el2 = gradientDefs[idsToXlinkMap[id]].cloneNode(true);\r\n        el = gradientDefs[id];\r\n        while (el2.firstChild) {\r\n          el.appendChild(el2.firstChild);\r\n        }\r\n      }\r\n      return gradientDefs;\r\n    },\r\n\r\n    /**\r\n     * Returns an object of attributes' name/value, given element and an array of attribute names;\r\n     * Parses parent \"g\" nodes recursively upwards.\r\n     * @static\r\n     * @memberOf fabric\r\n     * @param {DOMElement} element Element to parse\r\n     * @param {Array} attributes Array of attributes to parse\r\n     * @return {Object} object containing parsed attributes' names/values\r\n     */\r\n    parseAttributes: function(element, attributes, svgUid) {\r\n\r\n      if (!element) {\r\n        return;\r\n      }\r\n\r\n      var value,\r\n          parentAttributes = { },\r\n          fontSize;\r\n\r\n      if (typeof svgUid === 'undefined') {\r\n        svgUid = element.getAttribute('svgUid');\r\n      }\r\n      // if there's a parent container (`g` or `a` or `symbol` node), parse its attributes recursively upwards\r\n      if (element.parentNode && reAllowedParents.test(element.parentNode.nodeName)) {\r\n        parentAttributes = fabric.parseAttributes(element.parentNode, attributes, svgUid);\r\n      }\r\n      fontSize = (parentAttributes && parentAttributes.fontSize ) ||\r\n                 element.getAttribute('font-size') || fabric.Text.DEFAULT_SVG_FONT_SIZE;\r\n\r\n      var ownAttributes = attributes.reduce(function(memo, attr) {\r\n        value = element.getAttribute(attr);\r\n        if (value) {\r\n          attr = normalizeAttr(attr);\r\n          value = normalizeValue(attr, value, parentAttributes, fontSize);\r\n\r\n          memo[attr] = value;\r\n        }\r\n        return memo;\r\n      }, { });\r\n\r\n      // add values parsed from style, which take precedence over attributes\r\n      // (see: http://www.w3.org/TR/SVG/styling.html#UsingPresentationAttributes)\r\n      ownAttributes = extend(ownAttributes,\r\n        extend(getGlobalStylesForElement(element, svgUid), fabric.parseStyleAttribute(element)));\r\n      if (ownAttributes.font) {\r\n        fabric.parseFontDeclaration(ownAttributes.font, ownAttributes);\r\n      }\r\n      return _setStrokeFillOpacity(extend(parentAttributes, ownAttributes));\r\n    },\r\n\r\n    /**\r\n     * Transforms an array of svg elements to corresponding fabric.* instances\r\n     * @static\r\n     * @memberOf fabric\r\n     * @param {Array} elements Array of elements to parse\r\n     * @param {Function} callback Being passed an array of fabric instances (transformed from SVG elements)\r\n     * @param {Object} [options] Options object\r\n     * @param {Function} [reviver] Method for further parsing of SVG elements, called after each fabric object created.\r\n     */\r\n    parseElements: function(elements, callback, options, reviver) {\r\n      new fabric.ElementsParser(elements, callback, options, reviver).parse();\r\n    },\r\n\r\n    /**\r\n     * Parses \"style\" attribute, retuning an object with values\r\n     * @static\r\n     * @memberOf fabric\r\n     * @param {SVGElement} element Element to parse\r\n     * @return {Object} Objects with values parsed from style attribute of an element\r\n     */\r\n    parseStyleAttribute: function(element) {\r\n      var oStyle = { },\r\n          style = element.getAttribute('style');\r\n\r\n      if (!style) {\r\n        return oStyle;\r\n      }\r\n\r\n      if (typeof style === 'string') {\r\n        parseStyleString(style, oStyle);\r\n      }\r\n      else {\r\n        parseStyleObject(style, oStyle);\r\n      }\r\n\r\n      return oStyle;\r\n    },\r\n\r\n    /**\r\n     * Parses \"points\" attribute, returning an array of values\r\n     * @static\r\n     * @memberOf fabric\r\n     * @param {String} points points attribute string\r\n     * @return {Array} array of points\r\n     */\r\n    parsePointsAttribute: function(points) {\r\n\r\n      // points attribute is required and must not be empty\r\n      if (!points) {\r\n        return null;\r\n      }\r\n\r\n      // replace commas with whitespace and remove bookending whitespace\r\n      points = points.replace(/,/g, ' ').trim();\r\n\r\n      points = points.split(/\\s+/);\r\n      var parsedPoints = [], i, len;\r\n\r\n      i = 0;\r\n      len = points.length;\r\n      for (; i < len; i += 2) {\r\n        parsedPoints.push({\r\n          x: parseFloat(points[i]),\r\n          y: parseFloat(points[i + 1])\r\n        });\r\n      }\r\n\r\n      // odd number of points is an error\r\n      // if (parsedPoints.length % 2 !== 0) {\r\n      //   return null;\r\n      // }\r\n\r\n      return parsedPoints;\r\n    },\r\n\r\n    /**\r\n     * Returns CSS rules for a given SVG document\r\n     * @static\r\n     * @function\r\n     * @memberOf fabric\r\n     * @param {SVGDocument} doc SVG document to parse\r\n     * @return {Object} CSS rules of this document\r\n     */\r\n    getCSSRules: function(doc) {\r\n      var styles = doc.getElementsByTagName('style'),\r\n          allRules = { }, rules;\r\n\r\n      // very crude parsing of style contents\r\n      for (var i = 0, len = styles.length; i < len; i++) {\r\n        // IE9 doesn't support textContent, but provides text instead.\r\n        var styleContents = styles[i].textContent || styles[i].text;\r\n\r\n        // remove comments\r\n        styleContents = styleContents.replace(/\\/\\*[\\s\\S]*?\\*\\//g, '');\r\n        if (styleContents.trim() === '') {\r\n          continue;\r\n        }\r\n        rules = styleContents.match(/[^{]*\\{[\\s\\S]*?\\}/g);\r\n        rules = rules.map(function(rule) { return rule.trim(); });\r\n        rules.forEach(function(rule) {\r\n\r\n          var match = rule.match(/([\\s\\S]*?)\\s*\\{([^}]*)\\}/),\r\n              ruleObj = { }, declaration = match[2].trim(),\r\n              propertyValuePairs = declaration.replace(/;$/, '').split(/\\s*;\\s*/);\r\n\r\n          for (var i = 0, len = propertyValuePairs.length; i < len; i++) {\r\n            var pair = propertyValuePairs[i].split(/\\s*:\\s*/),\r\n                property = normalizeAttr(pair[0]),\r\n                value = normalizeValue(property, pair[1], pair[0]);\r\n            ruleObj[property] = value;\r\n          }\r\n          rule = match[1];\r\n          rule.split(',').forEach(function(_rule) {\r\n            _rule = _rule.replace(/^svg/i, '').trim();\r\n            if (_rule === '') {\r\n              return;\r\n            }\r\n            if (allRules[_rule]) {\r\n              fabric.util.object.extend(allRules[_rule], ruleObj);\r\n            }\r\n            else {\r\n              allRules[_rule] = fabric.util.object.clone(ruleObj);\r\n            }\r\n          });\r\n        });\r\n      }\r\n      return allRules;\r\n    },\r\n\r\n    /**\r\n     * Takes url corresponding to an SVG document, and parses it into a set of fabric objects.\r\n     * Note that SVG is fetched via XMLHttpRequest, so it needs to conform to SOP (Same Origin Policy)\r\n     * @memberOf fabric\r\n     * @param {String} url\r\n     * @param {Function} callback\r\n     * @param {Function} [reviver] Method for further parsing of SVG elements, called after each fabric object created.\r\n     */\r\n    loadSVGFromURL: function(url, callback, reviver) {\r\n\r\n      url = url.replace(/^\\n\\s*/, '').trim();\r\n      svgCache.has(url, function (hasUrl) {\r\n        if (hasUrl) {\r\n          svgCache.get(url, function (value) {\r\n            var enlivedRecord = _enlivenCachedObject(value);\r\n            callback(enlivedRecord.objects, enlivedRecord.options);\r\n          });\r\n        }\r\n        else {\r\n          new fabric.util.request(url, {\r\n            method: 'get',\r\n            onComplete: onComplete\r\n          });\r\n        }\r\n      });\r\n\r\n      function onComplete(r) {\r\n\r\n        var xml = r.responseXML;\r\n        if (xml && !xml.documentElement && fabric.window.ActiveXObject && r.responseText) {\r\n          xml = new ActiveXObject('Microsoft.XMLDOM');\r\n          xml.async = 'false';\r\n          //IE chokes on DOCTYPE\r\n          xml.loadXML(r.responseText.replace(/<!DOCTYPE[\\s\\S]*?(\\[[\\s\\S]*\\])*?>/i, ''));\r\n        }\r\n        if (!xml || !xml.documentElement) {\r\n          callback && callback(null);\r\n        }\r\n\r\n        fabric.parseSVGDocument(xml.documentElement, function (results, options) {\r\n          svgCache.set(url, {\r\n            objects: fabric.util.array.invoke(results, 'toObject'),\r\n            options: options\r\n          });\r\n          callback && callback(results, options);\r\n        }, reviver);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Takes string corresponding to an SVG document, and parses it into a set of fabric objects\r\n     * @memberOf fabric\r\n     * @param {String} string\r\n     * @param {Function} callback\r\n     * @param {Function} [reviver] Method for further parsing of SVG elements, called after each fabric object created.\r\n     */\r\n    loadSVGFromString: function(string, callback, reviver) {\r\n      string = string.trim();\r\n      var doc;\r\n      if (typeof DOMParser !== 'undefined') {\r\n        var parser = new DOMParser();\r\n        if (parser && parser.parseFromString) {\r\n          doc = parser.parseFromString(string, 'text/xml');\r\n        }\r\n      }\r\n      else if (fabric.window.ActiveXObject) {\r\n        doc = new ActiveXObject('Microsoft.XMLDOM');\r\n        doc.async = 'false';\r\n        // IE chokes on DOCTYPE\r\n        doc.loadXML(string.replace(/<!DOCTYPE[\\s\\S]*?(\\[[\\s\\S]*\\])*?>/i, ''));\r\n      }\r\n\r\n      fabric.parseSVGDocument(doc.documentElement, function (results, options) {\r\n        callback(results, options);\r\n      }, reviver);\r\n    },\r\n\r\n    /**\r\n     * Creates markup containing SVG font faces,\r\n     * font URLs for font faces must be collected by developers\r\n     * and are not extracted from the DOM by fabricjs\r\n     * @param {Array} objects Array of fabric objects\r\n     * @return {String}\r\n     */\r\n    createSVGFontFacesMarkup: function(objects) {\r\n      var markup = '', fontList = { }, obj, fontFamily,\r\n          style, row, rowIndex, _char, charIndex,\r\n          fontPaths = fabric.fontPaths;\r\n\r\n      for (var i = 0, len = objects.length; i < len; i++) {\r\n        obj = objects[i];\r\n        fontFamily = obj.fontFamily;\r\n        if (obj.type.indexOf('text') === -1 || fontList[fontFamily] || !fontPaths[fontFamily]) {\r\n          continue;\r\n        }\r\n        fontList[fontFamily] = true;\r\n        if (!obj.styles) {\r\n          continue;\r\n        }\r\n        style = obj.styles;\r\n        for (rowIndex in style) {\r\n          row = style[rowIndex];\r\n          for (charIndex in row) {\r\n            _char = row[charIndex];\r\n            fontFamily = _char.fontFamily;\r\n            if (!fontList[fontFamily] && fontPaths[fontFamily]) {\r\n              fontList[fontFamily] = true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      for (var j in fontList) {\r\n        markup += [\r\n          '\\t\\t@font-face {\\n',\r\n          '\\t\\t\\tfont-family: \\'', j, '\\';\\n',\r\n          '\\t\\t\\tsrc: url(\\'', fontPaths[j], '\\');\\n',\r\n          '\\t\\t}\\n'\r\n        ].join('');\r\n      }\r\n\r\n      if (markup) {\r\n        markup = [\r\n          '\\t<style type=\"text/css\">',\r\n          '<![CDATA[\\n',\r\n          markup,\r\n          ']]>',\r\n          '</style>\\n'\r\n        ].join('');\r\n      }\r\n\r\n      return markup;\r\n    },\r\n\r\n    /**\r\n     * Creates markup containing SVG referenced elements like patterns, gradients etc.\r\n     * @param {fabric.Canvas} canvas instance of fabric.Canvas\r\n     * @return {String}\r\n     */\r\n    createSVGRefElementsMarkup: function(canvas) {\r\n      var markup = [];\r\n\r\n      _createSVGPattern(markup, canvas, 'backgroundColor');\r\n      _createSVGPattern(markup, canvas, 'overlayColor');\r\n\r\n      return markup.join('');\r\n    }\r\n  });\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\nfabric.ElementsParser = function(elements, callback, options, reviver) {\r\n  this.elements = elements;\r\n  this.callback = callback;\r\n  this.options = options;\r\n  this.reviver = reviver;\r\n  this.svgUid = (options && options.svgUid) || 0;\r\n};\r\n\r\nfabric.ElementsParser.prototype.parse = function() {\r\n  this.instances = new Array(this.elements.length);\r\n  this.numElements = this.elements.length;\r\n\r\n  this.createObjects();\r\n};\r\n\r\nfabric.ElementsParser.prototype.createObjects = function() {\r\n  for (var i = 0, len = this.elements.length; i < len; i++) {\r\n    this.elements[i].setAttribute('svgUid', this.svgUid);\r\n    (function(_obj, i) {\r\n      setTimeout(function() {\r\n        _obj.createObject(_obj.elements[i], i);\r\n      }, 0);\r\n    })(this, i);\r\n  }\r\n};\r\n\r\nfabric.ElementsParser.prototype.createObject = function(el, index) {\r\n  var klass = fabric[fabric.util.string.capitalize(el.tagName.replace('svg:', ''))];\r\n  if (klass && klass.fromElement) {\r\n    try {\r\n      this._createObject(klass, el, index);\r\n    }\r\n    catch (err) {\r\n      fabric.log(err);\r\n    }\r\n  }\r\n  else {\r\n    this.checkIfDone();\r\n  }\r\n};\r\n\r\nfabric.ElementsParser.prototype._createObject = function(klass, el, index) {\r\n  if (klass.async) {\r\n    klass.fromElement(el, this.createCallback(index, el), this.options);\r\n  }\r\n  else {\r\n    var obj = klass.fromElement(el, this.options);\r\n    this.resolveGradient(obj, 'fill');\r\n    this.resolveGradient(obj, 'stroke');\r\n    this.reviver && this.reviver(el, obj);\r\n    this.instances[index] = obj;\r\n    this.checkIfDone();\r\n  }\r\n};\r\n\r\nfabric.ElementsParser.prototype.createCallback = function(index, el) {\r\n  var _this = this;\r\n  return function(obj) {\r\n    _this.resolveGradient(obj, 'fill');\r\n    _this.resolveGradient(obj, 'stroke');\r\n    _this.reviver && _this.reviver(el, obj);\r\n    _this.instances[index] = obj;\r\n    _this.checkIfDone();\r\n  };\r\n};\r\n\r\nfabric.ElementsParser.prototype.resolveGradient = function(obj, property) {\r\n\r\n  var instanceFillValue = obj.get(property);\r\n  if (!(/^url\\(/).test(instanceFillValue)) {\r\n    return;\r\n  }\r\n  var gradientId = instanceFillValue.slice(5, instanceFillValue.length - 1);\r\n  if (fabric.gradientDefs[this.svgUid][gradientId]) {\r\n    obj.set(property,\r\n      fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][gradientId], obj));\r\n  }\r\n};\r\n\r\nfabric.ElementsParser.prototype.checkIfDone = function() {\r\n  if (--this.numElements === 0) {\r\n    this.instances = this.instances.filter(function(el) {\r\n      // eslint-disable-next-line no-eq-null, eqeqeq\r\n      return el != null;\r\n    });\r\n    this.callback(this.instances);\r\n  }\r\n};\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  /* Adaptation of work of Kevin Lindsey (kevin@kevlindev.com) */\r\n\r\n  var fabric = global.fabric || (global.fabric = { });\r\n\r\n  if (fabric.Point) {\r\n    fabric.warn('fabric.Point is already defined');\r\n    return;\r\n  }\r\n\r\n  fabric.Point = Point;\r\n\r\n  /**\r\n   * Point class\r\n   * @class fabric.Point\r\n   * @memberOf fabric\r\n   * @constructor\r\n   * @param {Number} x\r\n   * @param {Number} y\r\n   * @return {fabric.Point} thisArg\r\n   */\r\n  function Point(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  Point.prototype = /** @lends fabric.Point.prototype */ {\r\n\r\n    type: 'point',\r\n\r\n    constructor: Point,\r\n\r\n    /**\r\n     * Adds another point to this one and returns another one\r\n     * @param {fabric.Point} that\r\n     * @return {fabric.Point} new Point instance with added values\r\n     */\r\n    add: function (that) {\r\n      return new Point(this.x + that.x, this.y + that.y);\r\n    },\r\n\r\n    /**\r\n     * Adds another point to this one\r\n     * @param {fabric.Point} that\r\n     * @return {fabric.Point} thisArg\r\n     * @chainable\r\n     */\r\n    addEquals: function (that) {\r\n      this.x += that.x;\r\n      this.y += that.y;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Adds value to this point and returns a new one\r\n     * @param {Number} scalar\r\n     * @return {fabric.Point} new Point with added value\r\n     */\r\n    scalarAdd: function (scalar) {\r\n      return new Point(this.x + scalar, this.y + scalar);\r\n    },\r\n\r\n    /**\r\n     * Adds value to this point\r\n     * @param {Number} scalar\r\n     * @return {fabric.Point} thisArg\r\n     * @chainable\r\n     */\r\n    scalarAddEquals: function (scalar) {\r\n      this.x += scalar;\r\n      this.y += scalar;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Subtracts another point from this point and returns a new one\r\n     * @param {fabric.Point} that\r\n     * @return {fabric.Point} new Point object with subtracted values\r\n     */\r\n    subtract: function (that) {\r\n      return new Point(this.x - that.x, this.y - that.y);\r\n    },\r\n\r\n    /**\r\n     * Subtracts another point from this point\r\n     * @param {fabric.Point} that\r\n     * @return {fabric.Point} thisArg\r\n     * @chainable\r\n     */\r\n    subtractEquals: function (that) {\r\n      this.x -= that.x;\r\n      this.y -= that.y;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Subtracts value from this point and returns a new one\r\n     * @param {Number} scalar\r\n     * @return {fabric.Point}\r\n     */\r\n    scalarSubtract: function (scalar) {\r\n      return new Point(this.x - scalar, this.y - scalar);\r\n    },\r\n\r\n    /**\r\n     * Subtracts value from this point\r\n     * @param {Number} scalar\r\n     * @return {fabric.Point} thisArg\r\n     * @chainable\r\n     */\r\n    scalarSubtractEquals: function (scalar) {\r\n      this.x -= scalar;\r\n      this.y -= scalar;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Miltiplies this point by a value and returns a new one\r\n     * TODO: rename in scalarMultiply in 2.0\r\n     * @param {Number} scalar\r\n     * @return {fabric.Point}\r\n     */\r\n    multiply: function (scalar) {\r\n      return new Point(this.x * scalar, this.y * scalar);\r\n    },\r\n\r\n    /**\r\n     * Miltiplies this point by a value\r\n     * TODO: rename in scalarMultiplyEquals in 2.0\r\n     * @param {Number} scalar\r\n     * @return {fabric.Point} thisArg\r\n     * @chainable\r\n     */\r\n    multiplyEquals: function (scalar) {\r\n      this.x *= scalar;\r\n      this.y *= scalar;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Divides this point by a value and returns a new one\r\n     * TODO: rename in scalarDivide in 2.0\r\n     * @param {Number} scalar\r\n     * @return {fabric.Point}\r\n     */\r\n    divide: function (scalar) {\r\n      return new Point(this.x / scalar, this.y / scalar);\r\n    },\r\n\r\n    /**\r\n     * Divides this point by a value\r\n     * TODO: rename in scalarDivideEquals in 2.0\r\n     * @param {Number} scalar\r\n     * @return {fabric.Point} thisArg\r\n     * @chainable\r\n     */\r\n    divideEquals: function (scalar) {\r\n      this.x /= scalar;\r\n      this.y /= scalar;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returns true if this point is equal to another one\r\n     * @param {fabric.Point} that\r\n     * @return {Boolean}\r\n     */\r\n    eq: function (that) {\r\n      return (this.x === that.x && this.y === that.y);\r\n    },\r\n\r\n    /**\r\n     * Returns true if this point is less than another one\r\n     * @param {fabric.Point} that\r\n     * @return {Boolean}\r\n     */\r\n    lt: function (that) {\r\n      return (this.x < that.x && this.y < that.y);\r\n    },\r\n\r\n    /**\r\n     * Returns true if this point is less than or equal to another one\r\n     * @param {fabric.Point} that\r\n     * @return {Boolean}\r\n     */\r\n    lte: function (that) {\r\n      return (this.x <= that.x && this.y <= that.y);\r\n    },\r\n\r\n    /**\r\n\r\n     * Returns true if this point is greater another one\r\n     * @param {fabric.Point} that\r\n     * @return {Boolean}\r\n     */\r\n    gt: function (that) {\r\n      return (this.x > that.x && this.y > that.y);\r\n    },\r\n\r\n    /**\r\n     * Returns true if this point is greater than or equal to another one\r\n     * @param {fabric.Point} that\r\n     * @return {Boolean}\r\n     */\r\n    gte: function (that) {\r\n      return (this.x >= that.x && this.y >= that.y);\r\n    },\r\n\r\n    /**\r\n     * Returns new point which is the result of linear interpolation with this one and another one\r\n     * @param {fabric.Point} that\r\n     * @param {Number} t , position of interpolation, between 0 and 1 default 0.5\r\n     * @return {fabric.Point}\r\n     */\r\n    lerp: function (that, t) {\r\n      if (typeof t === 'undefined') {\r\n        t = 0.5;\r\n      }\r\n      t = Math.max(Math.min(1, t), 0);\r\n      return new Point(this.x + (that.x - this.x) * t, this.y + (that.y - this.y) * t);\r\n    },\r\n\r\n    /**\r\n     * Returns distance from this point and another one\r\n     * @param {fabric.Point} that\r\n     * @return {Number}\r\n     */\r\n    distanceFrom: function (that) {\r\n      var dx = this.x - that.x,\r\n          dy = this.y - that.y;\r\n      return Math.sqrt(dx * dx + dy * dy);\r\n    },\r\n\r\n    /**\r\n     * Returns the point between this point and another one\r\n     * @param {fabric.Point} that\r\n     * @return {fabric.Point}\r\n     */\r\n    midPointFrom: function (that) {\r\n      return this.lerp(that);\r\n    },\r\n\r\n    /**\r\n     * Returns a new point which is the min of this and another one\r\n     * @param {fabric.Point} that\r\n     * @return {fabric.Point}\r\n     */\r\n    min: function (that) {\r\n      return new Point(Math.min(this.x, that.x), Math.min(this.y, that.y));\r\n    },\r\n\r\n    /**\r\n     * Returns a new point which is the max of this and another one\r\n     * @param {fabric.Point} that\r\n     * @return {fabric.Point}\r\n     */\r\n    max: function (that) {\r\n      return new Point(Math.max(this.x, that.x), Math.max(this.y, that.y));\r\n    },\r\n\r\n    /**\r\n     * Returns string representation of this point\r\n     * @return {String}\r\n     */\r\n    toString: function () {\r\n      return this.x + ',' + this.y;\r\n    },\r\n\r\n    /**\r\n     * Sets x/y of this point\r\n     * @param {Number} x\r\n     * @param {Number} y\r\n     * @chainable\r\n     */\r\n    setXY: function (x, y) {\r\n      this.x = x;\r\n      this.y = y;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Sets x of this point\r\n     * @param {Number} x\r\n     * @chainable\r\n     */\r\n    setX: function (x) {\r\n      this.x = x;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Sets y of this point\r\n     * @param {Number} y\r\n     * @chainable\r\n     */\r\n    setY: function (y) {\r\n      this.y = y;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Sets x/y of this point from another point\r\n     * @param {fabric.Point} that\r\n     * @chainable\r\n     */\r\n    setFromPoint: function (that) {\r\n      this.x = that.x;\r\n      this.y = that.y;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Swaps x/y of this point and another point\r\n     * @param {fabric.Point} that\r\n     */\r\n    swap: function (that) {\r\n      var x = this.x,\r\n          y = this.y;\r\n      this.x = that.x;\r\n      this.y = that.y;\r\n      that.x = x;\r\n      that.y = y;\r\n    },\r\n\r\n    /**\r\n     * return a cloned instance of the point\r\n     * @return {fabric.Point}\r\n     */\r\n    clone: function () {\r\n      return new Point(this.x, this.y);\r\n    }\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  /* Adaptation of work of Kevin Lindsey (kevin@kevlindev.com) */\r\n  var fabric = global.fabric || (global.fabric = { });\r\n\r\n  if (fabric.Intersection) {\r\n    fabric.warn('fabric.Intersection is already defined');\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Intersection class\r\n   * @class fabric.Intersection\r\n   * @memberOf fabric\r\n   * @constructor\r\n   */\r\n  function Intersection(status) {\r\n    this.status = status;\r\n    this.points = [];\r\n  }\r\n\r\n  fabric.Intersection = Intersection;\r\n\r\n  fabric.Intersection.prototype = /** @lends fabric.Intersection.prototype */ {\r\n\r\n    constructor: Intersection,\r\n\r\n    /**\r\n     * Appends a point to intersection\r\n     * @param {fabric.Point} point\r\n     * @return {fabric.Intersection} thisArg\r\n     * @chainable\r\n     */\r\n    appendPoint: function (point) {\r\n      this.points.push(point);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Appends points to intersection\r\n     * @param {Array} points\r\n     * @return {fabric.Intersection} thisArg\r\n     * @chainable\r\n     */\r\n    appendPoints: function (points) {\r\n      this.points = this.points.concat(points);\r\n      return this;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Checks if one line intersects another\r\n   * TODO: rename in intersectSegmentSegment\r\n   * @static\r\n   * @param {fabric.Point} a1\r\n   * @param {fabric.Point} a2\r\n   * @param {fabric.Point} b1\r\n   * @param {fabric.Point} b2\r\n   * @return {fabric.Intersection}\r\n   */\r\n  fabric.Intersection.intersectLineLine = function (a1, a2, b1, b2) {\r\n    var result,\r\n        uaT = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x),\r\n        ubT = (a2.x - a1.x) * (a1.y - b1.y) - (a2.y - a1.y) * (a1.x - b1.x),\r\n        uB = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);\r\n    if (uB !== 0) {\r\n      var ua = uaT / uB,\r\n          ub = ubT / uB;\r\n      if (0 <= ua && ua <= 1 && 0 <= ub && ub <= 1) {\r\n        result = new Intersection('Intersection');\r\n        result.appendPoint(new fabric.Point(a1.x + ua * (a2.x - a1.x), a1.y + ua * (a2.y - a1.y)));\r\n      }\r\n      else {\r\n        result = new Intersection();\r\n      }\r\n    }\r\n    else {\r\n      if (uaT === 0 || ubT === 0) {\r\n        result = new Intersection('Coincident');\r\n      }\r\n      else {\r\n        result = new Intersection('Parallel');\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Checks if line intersects polygon\r\n   * TODO: rename in intersectSegmentPolygon\r\n   * fix detection of coincident\r\n   * @static\r\n   * @param {fabric.Point} a1\r\n   * @param {fabric.Point} a2\r\n   * @param {Array} points\r\n   * @return {fabric.Intersection}\r\n   */\r\n  fabric.Intersection.intersectLinePolygon = function(a1, a2, points) {\r\n    var result = new Intersection(),\r\n        length = points.length,\r\n        b1, b2, inter;\r\n\r\n    for (var i = 0; i < length; i++) {\r\n      b1 = points[i];\r\n      b2 = points[(i + 1) % length];\r\n      inter = Intersection.intersectLineLine(a1, a2, b1, b2);\r\n\r\n      result.appendPoints(inter.points);\r\n    }\r\n    if (result.points.length > 0) {\r\n      result.status = 'Intersection';\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Checks if polygon intersects another polygon\r\n   * @static\r\n   * @param {Array} points1\r\n   * @param {Array} points2\r\n   * @return {fabric.Intersection}\r\n   */\r\n  fabric.Intersection.intersectPolygonPolygon = function (points1, points2) {\r\n    var result = new Intersection(),\r\n        length = points1.length;\r\n\r\n    for (var i = 0; i < length; i++) {\r\n      var a1 = points1[i],\r\n          a2 = points1[(i + 1) % length],\r\n          inter = Intersection.intersectLinePolygon(a1, a2, points2);\r\n\r\n      result.appendPoints(inter.points);\r\n    }\r\n    if (result.points.length > 0) {\r\n      result.status = 'Intersection';\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Checks if polygon intersects rectangle\r\n   * @static\r\n   * @param {Array} points\r\n   * @param {fabric.Point} r1\r\n   * @param {fabric.Point} r2\r\n   * @return {fabric.Intersection}\r\n   */\r\n  fabric.Intersection.intersectPolygonRectangle = function (points, r1, r2) {\r\n    var min = r1.min(r2),\r\n        max = r1.max(r2),\r\n        topRight = new fabric.Point(max.x, min.y),\r\n        bottomLeft = new fabric.Point(min.x, max.y),\r\n        inter1 = Intersection.intersectLinePolygon(min, topRight, points),\r\n        inter2 = Intersection.intersectLinePolygon(topRight, max, points),\r\n        inter3 = Intersection.intersectLinePolygon(max, bottomLeft, points),\r\n        inter4 = Intersection.intersectLinePolygon(bottomLeft, min, points),\r\n        result = new Intersection();\r\n\r\n    result.appendPoints(inter1.points);\r\n    result.appendPoints(inter2.points);\r\n    result.appendPoints(inter3.points);\r\n    result.appendPoints(inter4.points);\r\n\r\n    if (result.points.length > 0) {\r\n      result.status = 'Intersection';\r\n    }\r\n    return result;\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { });\r\n\r\n  if (fabric.Color) {\r\n    fabric.warn('fabric.Color is already defined.');\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Color class\r\n   * The purpose of {@link fabric.Color} is to abstract and encapsulate common color operations;\r\n   * {@link fabric.Color} is a constructor and creates instances of {@link fabric.Color} objects.\r\n   *\r\n   * @class fabric.Color\r\n   * @param {String} color optional in hex or rgb(a) or hsl format or from known color list\r\n   * @return {fabric.Color} thisArg\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-2/#colors}\r\n   */\r\n  function Color(color) {\r\n    if (!color) {\r\n      this.setSource([0, 0, 0, 1]);\r\n    }\r\n    else {\r\n      this._tryParsingColor(color);\r\n    }\r\n  }\r\n\r\n  fabric.Color = Color;\r\n\r\n  fabric.Color.prototype = /** @lends fabric.Color.prototype */ {\r\n\r\n    /**\r\n     * @private\r\n     * @param {String|Array} color Color value to parse\r\n     */\r\n    _tryParsingColor: function(color) {\r\n      var source;\r\n\r\n      if (color in Color.colorNameMap) {\r\n        color = Color.colorNameMap[color];\r\n      }\r\n\r\n      if (color === 'transparent') {\r\n        source = [255, 255, 255, 0];\r\n      }\r\n\r\n      if (!source) {\r\n        source = Color.sourceFromHex(color);\r\n      }\r\n      if (!source) {\r\n        source = Color.sourceFromRgb(color);\r\n      }\r\n      if (!source) {\r\n        source = Color.sourceFromHsl(color);\r\n      }\r\n      if (!source) {\r\n        //if color is not recognize let's make black as canvas does\r\n        source = [0, 0, 0, 1];\r\n      }\r\n      if (source) {\r\n        this.setSource(source);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Adapted from <a href=\"https://rawgithub.com/mjijackson/mjijackson.github.com/master/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript.html\">https://github.com/mjijackson</a>\r\n     * @private\r\n     * @param {Number} r Red color value\r\n     * @param {Number} g Green color value\r\n     * @param {Number} b Blue color value\r\n     * @return {Array} Hsl color\r\n     */\r\n    _rgbToHsl: function(r, g, b) {\r\n      r /= 255; g /= 255; b /= 255;\r\n\r\n      var h, s, l,\r\n          max = fabric.util.array.max([r, g, b]),\r\n          min = fabric.util.array.min([r, g, b]);\r\n\r\n      l = (max + min) / 2;\r\n\r\n      if (max === min) {\r\n        h = s = 0; // achromatic\r\n      }\r\n      else {\r\n        var d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n        switch (max) {\r\n          case r:\r\n            h = (g - b) / d + (g < b ? 6 : 0);\r\n            break;\r\n          case g:\r\n            h = (b - r) / d + 2;\r\n            break;\r\n          case b:\r\n            h = (r - g) / d + 4;\r\n            break;\r\n        }\r\n        h /= 6;\r\n      }\r\n\r\n      return [\r\n        Math.round(h * 360),\r\n        Math.round(s * 100),\r\n        Math.round(l * 100)\r\n      ];\r\n    },\r\n\r\n    /**\r\n     * Returns source of this color (where source is an array representation; ex: [200, 200, 100, 1])\r\n     * @return {Array}\r\n     */\r\n    getSource: function() {\r\n      return this._source;\r\n    },\r\n\r\n    /**\r\n     * Sets source of this color (where source is an array representation; ex: [200, 200, 100, 1])\r\n     * @param {Array} source\r\n     */\r\n    setSource: function(source) {\r\n      this._source = source;\r\n    },\r\n\r\n    /**\r\n     * Returns color represenation in RGB format\r\n     * @return {String} ex: rgb(0-255,0-255,0-255)\r\n     */\r\n    toRgb: function() {\r\n      var source = this.getSource();\r\n      return 'rgb(' + source[0] + ',' + source[1] + ',' + source[2] + ')';\r\n    },\r\n\r\n    /**\r\n     * Returns color represenation in RGBA format\r\n     * @return {String} ex: rgba(0-255,0-255,0-255,0-1)\r\n     */\r\n    toRgba: function() {\r\n      var source = this.getSource();\r\n      return 'rgba(' + source[0] + ',' + source[1] + ',' + source[2] + ',' + source[3] + ')';\r\n    },\r\n\r\n    /**\r\n     * Returns color represenation in HSL format\r\n     * @return {String} ex: hsl(0-360,0%-100%,0%-100%)\r\n     */\r\n    toHsl: function() {\r\n      var source = this.getSource(),\r\n          hsl = this._rgbToHsl(source[0], source[1], source[2]);\r\n\r\n      return 'hsl(' + hsl[0] + ',' + hsl[1] + '%,' + hsl[2] + '%)';\r\n    },\r\n\r\n    /**\r\n     * Returns color represenation in HSLA format\r\n     * @return {String} ex: hsla(0-360,0%-100%,0%-100%,0-1)\r\n     */\r\n    toHsla: function() {\r\n      var source = this.getSource(),\r\n          hsl = this._rgbToHsl(source[0], source[1], source[2]);\r\n\r\n      return 'hsla(' + hsl[0] + ',' + hsl[1] + '%,' + hsl[2] + '%,' + source[3] + ')';\r\n    },\r\n\r\n    /**\r\n     * Returns color represenation in HEX format\r\n     * @return {String} ex: FF5555\r\n     */\r\n    toHex: function() {\r\n      var source = this.getSource(), r, g, b;\r\n\r\n      r = source[0].toString(16);\r\n      r = (r.length === 1) ? ('0' + r) : r;\r\n\r\n      g = source[1].toString(16);\r\n      g = (g.length === 1) ? ('0' + g) : g;\r\n\r\n      b = source[2].toString(16);\r\n      b = (b.length === 1) ? ('0' + b) : b;\r\n\r\n      return r.toUpperCase() + g.toUpperCase() + b.toUpperCase();\r\n    },\r\n\r\n    /**\r\n     * Gets value of alpha channel for this color\r\n     * @return {Number} 0-1\r\n     */\r\n    getAlpha: function() {\r\n      return this.getSource()[3];\r\n    },\r\n\r\n    /**\r\n     * Sets value of alpha channel for this color\r\n     * @param {Number} alpha Alpha value 0-1\r\n     * @return {fabric.Color} thisArg\r\n     */\r\n    setAlpha: function(alpha) {\r\n      var source = this.getSource();\r\n      source[3] = alpha;\r\n      this.setSource(source);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Transforms color to its grayscale representation\r\n     * @return {fabric.Color} thisArg\r\n     */\r\n    toGrayscale: function() {\r\n      var source = this.getSource(),\r\n          average = parseInt((source[0] * 0.3 + source[1] * 0.59 + source[2] * 0.11).toFixed(0), 10),\r\n          currentAlpha = source[3];\r\n      this.setSource([average, average, average, currentAlpha]);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Transforms color to its black and white representation\r\n     * @param {Number} threshold\r\n     * @return {fabric.Color} thisArg\r\n     */\r\n    toBlackWhite: function(threshold) {\r\n      var source = this.getSource(),\r\n          average = (source[0] * 0.3 + source[1] * 0.59 + source[2] * 0.11).toFixed(0),\r\n          currentAlpha = source[3];\r\n\r\n      threshold = threshold || 127;\r\n\r\n      average = (Number(average) < Number(threshold)) ? 0 : 255;\r\n      this.setSource([average, average, average, currentAlpha]);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Overlays color with another color\r\n     * @param {String|fabric.Color} otherColor\r\n     * @return {fabric.Color} thisArg\r\n     */\r\n    overlayWith: function(otherColor) {\r\n      if (!(otherColor instanceof Color)) {\r\n        otherColor = new Color(otherColor);\r\n      }\r\n\r\n      var result = [],\r\n          alpha = this.getAlpha(),\r\n          otherAlpha = 0.5,\r\n          source = this.getSource(),\r\n          otherSource = otherColor.getSource();\r\n\r\n      for (var i = 0; i < 3; i++) {\r\n        result.push(Math.round((source[i] * (1 - otherAlpha)) + (otherSource[i] * otherAlpha)));\r\n      }\r\n\r\n      result[3] = alpha;\r\n      this.setSource(result);\r\n      return this;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Regex matching color in RGB or RGBA formats (ex: rgb(0, 0, 0), rgba(255, 100, 10, 0.5), rgba( 255 , 100 , 10 , 0.5 ), rgb(1,1,1), rgba(100%, 60%, 10%, 0.5))\r\n   * @static\r\n   * @field\r\n   * @memberOf fabric.Color\r\n   */\r\n   // eslint-disable-next-line max-len\r\n  fabric.Color.reRGBa = /^rgba?\\(\\s*(\\d{1,3}(?:\\.\\d+)?\\%?)\\s*,\\s*(\\d{1,3}(?:\\.\\d+)?\\%?)\\s*,\\s*(\\d{1,3}(?:\\.\\d+)?\\%?)\\s*(?:\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)$/;\r\n\r\n  /**\r\n   * Regex matching color in HSL or HSLA formats (ex: hsl(200, 80%, 10%), hsla(300, 50%, 80%, 0.5), hsla( 300 , 50% , 80% , 0.5 ))\r\n   * @static\r\n   * @field\r\n   * @memberOf fabric.Color\r\n   */\r\n  fabric.Color.reHSLa = /^hsla?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3}\\%)\\s*,\\s*(\\d{1,3}\\%)\\s*(?:\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)$/;\r\n\r\n  /**\r\n   * Regex matching color in HEX format (ex: #FF5544CC, #FF5555, 010155, aff)\r\n   * @static\r\n   * @field\r\n   * @memberOf fabric.Color\r\n   */\r\n  fabric.Color.reHex = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i;\r\n\r\n  /**\r\n   * Map of the 17 basic color names with HEX code\r\n   * @static\r\n   * @field\r\n   * @memberOf fabric.Color\r\n   * @see: http://www.w3.org/TR/CSS2/syndata.html#color-units\r\n   */\r\n  fabric.Color.colorNameMap = {\r\n    aqua:    '#00FFFF',\r\n    black:   '#000000',\r\n    blue:    '#0000FF',\r\n    fuchsia: '#FF00FF',\r\n    gray:    '#808080',\r\n    grey:    '#808080',\r\n    green:   '#008000',\r\n    lime:    '#00FF00',\r\n    maroon:  '#800000',\r\n    navy:    '#000080',\r\n    olive:   '#808000',\r\n    orange:  '#FFA500',\r\n    purple:  '#800080',\r\n    red:     '#FF0000',\r\n    silver:  '#C0C0C0',\r\n    teal:    '#008080',\r\n    white:   '#FFFFFF',\r\n    yellow:  '#FFFF00'\r\n  };\r\n\r\n  /**\r\n   * @private\r\n   * @param {Number} p\r\n   * @param {Number} q\r\n   * @param {Number} t\r\n   * @return {Number}\r\n   */\r\n  function hue2rgb(p, q, t) {\r\n    if (t < 0) {\r\n      t += 1;\r\n    }\r\n    if (t > 1) {\r\n      t -= 1;\r\n    }\r\n    if (t < 1 / 6) {\r\n      return p + (q - p) * 6 * t;\r\n    }\r\n    if (t < 1 / 2) {\r\n      return q;\r\n    }\r\n    if (t < 2 / 3) {\r\n      return p + (q - p) * (2 / 3 - t) * 6;\r\n    }\r\n    return p;\r\n  }\r\n\r\n  /**\r\n   * Returns new color object, when given a color in RGB format\r\n   * @memberOf fabric.Color\r\n   * @param {String} color Color value ex: rgb(0-255,0-255,0-255)\r\n   * @return {fabric.Color}\r\n   */\r\n  fabric.Color.fromRgb = function(color) {\r\n    return Color.fromSource(Color.sourceFromRgb(color));\r\n  };\r\n\r\n  /**\r\n   * Returns array representation (ex: [100, 100, 200, 1]) of a color that's in RGB or RGBA format\r\n   * @memberOf fabric.Color\r\n   * @param {String} color Color value ex: rgb(0-255,0-255,0-255), rgb(0%-100%,0%-100%,0%-100%)\r\n   * @return {Array} source\r\n   */\r\n  fabric.Color.sourceFromRgb = function(color) {\r\n    var match = color.match(Color.reRGBa);\r\n    if (match) {\r\n      var r = parseInt(match[1], 10) / (/%$/.test(match[1]) ? 100 : 1) * (/%$/.test(match[1]) ? 255 : 1),\r\n          g = parseInt(match[2], 10) / (/%$/.test(match[2]) ? 100 : 1) * (/%$/.test(match[2]) ? 255 : 1),\r\n          b = parseInt(match[3], 10) / (/%$/.test(match[3]) ? 100 : 1) * (/%$/.test(match[3]) ? 255 : 1);\r\n\r\n      return [\r\n        parseInt(r, 10),\r\n        parseInt(g, 10),\r\n        parseInt(b, 10),\r\n        match[4] ? parseFloat(match[4]) : 1\r\n      ];\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Returns new color object, when given a color in RGBA format\r\n   * @static\r\n   * @function\r\n   * @memberOf fabric.Color\r\n   * @param {String} color\r\n   * @return {fabric.Color}\r\n   */\r\n  fabric.Color.fromRgba = Color.fromRgb;\r\n\r\n  /**\r\n   * Returns new color object, when given a color in HSL format\r\n   * @param {String} color Color value ex: hsl(0-260,0%-100%,0%-100%)\r\n   * @memberOf fabric.Color\r\n   * @return {fabric.Color}\r\n   */\r\n  fabric.Color.fromHsl = function(color) {\r\n    return Color.fromSource(Color.sourceFromHsl(color));\r\n  };\r\n\r\n  /**\r\n   * Returns array representation (ex: [100, 100, 200, 1]) of a color that's in HSL or HSLA format.\r\n   * Adapted from <a href=\"https://rawgithub.com/mjijackson/mjijackson.github.com/master/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript.html\">https://github.com/mjijackson</a>\r\n   * @memberOf fabric.Color\r\n   * @param {String} color Color value ex: hsl(0-360,0%-100%,0%-100%) or hsla(0-360,0%-100%,0%-100%, 0-1)\r\n   * @return {Array} source\r\n   * @see http://http://www.w3.org/TR/css3-color/#hsl-color\r\n   */\r\n  fabric.Color.sourceFromHsl = function(color) {\r\n    var match = color.match(Color.reHSLa);\r\n    if (!match) {\r\n      return;\r\n    }\r\n\r\n    var h = (((parseFloat(match[1]) % 360) + 360) % 360) / 360,\r\n        s = parseFloat(match[2]) / (/%$/.test(match[2]) ? 100 : 1),\r\n        l = parseFloat(match[3]) / (/%$/.test(match[3]) ? 100 : 1),\r\n        r, g, b;\r\n\r\n    if (s === 0) {\r\n      r = g = b = l;\r\n    }\r\n    else {\r\n      var q = l <= 0.5 ? l * (s + 1) : l + s - l * s,\r\n          p = l * 2 - q;\r\n\r\n      r = hue2rgb(p, q, h + 1 / 3);\r\n      g = hue2rgb(p, q, h);\r\n      b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n\r\n    return [\r\n      Math.round(r * 255),\r\n      Math.round(g * 255),\r\n      Math.round(b * 255),\r\n      match[4] ? parseFloat(match[4]) : 1\r\n    ];\r\n  };\r\n\r\n  /**\r\n   * Returns new color object, when given a color in HSLA format\r\n   * @static\r\n   * @function\r\n   * @memberOf fabric.Color\r\n   * @param {String} color\r\n   * @return {fabric.Color}\r\n   */\r\n  fabric.Color.fromHsla = Color.fromHsl;\r\n\r\n  /**\r\n   * Returns new color object, when given a color in HEX format\r\n   * @static\r\n   * @memberOf fabric.Color\r\n   * @param {String} color Color value ex: FF5555\r\n   * @return {fabric.Color}\r\n   */\r\n  fabric.Color.fromHex = function(color) {\r\n    return Color.fromSource(Color.sourceFromHex(color));\r\n  };\r\n\r\n  /**\r\n   * Returns array representation (ex: [100, 100, 200, 1]) of a color that's in HEX format\r\n   * @static\r\n   * @memberOf fabric.Color\r\n   * @param {String} color ex: FF5555 or FF5544CC (RGBa)\r\n   * @return {Array} source\r\n   */\r\n  fabric.Color.sourceFromHex = function(color) {\r\n    if (color.match(Color.reHex)) {\r\n      var value = color.slice(color.indexOf('#') + 1),\r\n          isShortNotation = (value.length === 3 || value.length === 4),\r\n          isRGBa = (value.length === 8 || value.length === 4),\r\n          r = isShortNotation ? (value.charAt(0) + value.charAt(0)) : value.substring(0, 2),\r\n          g = isShortNotation ? (value.charAt(1) + value.charAt(1)) : value.substring(2, 4),\r\n          b = isShortNotation ? (value.charAt(2) + value.charAt(2)) : value.substring(4, 6),\r\n          a = isRGBa ? (isShortNotation ? (value.charAt(3) + value.charAt(3)) : value.substring(6, 8)) : 'FF';\r\n\r\n      return [\r\n        parseInt(r, 16),\r\n        parseInt(g, 16),\r\n        parseInt(b, 16),\r\n        parseFloat((parseInt(a, 16) / 255).toFixed(2))\r\n      ];\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Returns new color object, when given color in array representation (ex: [200, 100, 100, 0.5])\r\n   * @static\r\n   * @memberOf fabric.Color\r\n   * @param {Array} source\r\n   * @return {fabric.Color}\r\n   */\r\n  fabric.Color.fromSource = function(source) {\r\n    var oColor = new Color();\r\n    oColor.setSource(source);\r\n    return oColor;\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function() {\r\n\r\n  /* _FROM_SVG_START_ */\r\n  function getColorStop(el) {\r\n    var style = el.getAttribute('style'),\r\n        offset = el.getAttribute('offset') || 0,\r\n        color, colorAlpha, opacity;\r\n\r\n    // convert percents to absolute values\r\n    offset = parseFloat(offset) / (/%$/.test(offset) ? 100 : 1);\r\n    offset = offset < 0 ? 0 : offset > 1 ? 1 : offset;\r\n    if (style) {\r\n      var keyValuePairs = style.split(/\\s*;\\s*/);\r\n\r\n      if (keyValuePairs[keyValuePairs.length - 1] === '') {\r\n        keyValuePairs.pop();\r\n      }\r\n\r\n      for (var i = keyValuePairs.length; i--; ) {\r\n\r\n        var split = keyValuePairs[i].split(/\\s*:\\s*/),\r\n            key = split[0].trim(),\r\n            value = split[1].trim();\r\n\r\n        if (key === 'stop-color') {\r\n          color = value;\r\n        }\r\n        else if (key === 'stop-opacity') {\r\n          opacity = value;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!color) {\r\n      color = el.getAttribute('stop-color') || 'rgb(0,0,0)';\r\n    }\r\n    if (!opacity) {\r\n      opacity = el.getAttribute('stop-opacity');\r\n    }\r\n\r\n    color = new fabric.Color(color);\r\n    colorAlpha = color.getAlpha();\r\n    opacity = isNaN(parseFloat(opacity)) ? 1 : parseFloat(opacity);\r\n    opacity *= colorAlpha;\r\n\r\n    return {\r\n      offset: offset,\r\n      color: color.toRgb(),\r\n      opacity: opacity\r\n    };\r\n  }\r\n\r\n  function getLinearCoords(el) {\r\n    return {\r\n      x1: el.getAttribute('x1') || 0,\r\n      y1: el.getAttribute('y1') || 0,\r\n      x2: el.getAttribute('x2') || '100%',\r\n      y2: el.getAttribute('y2') || 0\r\n    };\r\n  }\r\n\r\n  function getRadialCoords(el) {\r\n    return {\r\n      x1: el.getAttribute('fx') || el.getAttribute('cx') || '50%',\r\n      y1: el.getAttribute('fy') || el.getAttribute('cy') || '50%',\r\n      r1: 0,\r\n      x2: el.getAttribute('cx') || '50%',\r\n      y2: el.getAttribute('cy') || '50%',\r\n      r2: el.getAttribute('r') || '50%'\r\n    };\r\n  }\r\n  /* _FROM_SVG_END_ */\r\n\r\n  /**\r\n   * Gradient class\r\n   * @class fabric.Gradient\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-2#gradients}\r\n   * @see {@link fabric.Gradient#initialize} for constructor definition\r\n   */\r\n  fabric.Gradient = fabric.util.createClass(/** @lends fabric.Gradient.prototype */ {\r\n\r\n    /**\r\n     * Horizontal offset for aligning gradients coming from SVG when outside pathgroups\r\n     * @type Number\r\n     * @default 0\r\n     */\r\n    offsetX: 0,\r\n\r\n    /**\r\n     * Vertical offset for aligning gradients coming from SVG when outside pathgroups\r\n     * @type Number\r\n     * @default 0\r\n     */\r\n    offsetY: 0,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Object} [options] Options object with type, coords, gradientUnits and colorStops\r\n     * @return {fabric.Gradient} thisArg\r\n     */\r\n    initialize: function(options) {\r\n      options || (options = { });\r\n\r\n      var coords = { };\r\n\r\n      this.id = fabric.Object.__uid++;\r\n      this.type = options.type || 'linear';\r\n\r\n      coords = {\r\n        x1: options.coords.x1 || 0,\r\n        y1: options.coords.y1 || 0,\r\n        x2: options.coords.x2 || 0,\r\n        y2: options.coords.y2 || 0\r\n      };\r\n\r\n      if (this.type === 'radial') {\r\n        coords.r1 = options.coords.r1 || 0;\r\n        coords.r2 = options.coords.r2 || 0;\r\n      }\r\n      this.coords = coords;\r\n      this.colorStops = options.colorStops.slice();\r\n      if (options.gradientTransform) {\r\n        this.gradientTransform = options.gradientTransform;\r\n      }\r\n      this.offsetX = options.offsetX || this.offsetX;\r\n      this.offsetY = options.offsetY || this.offsetY;\r\n    },\r\n\r\n    /**\r\n     * Adds another colorStop\r\n     * @param {Object} colorStop Object with offset and color\r\n     * @return {fabric.Gradient} thisArg\r\n     */\r\n    addColorStop: function(colorStop) {\r\n      for (var position in colorStop) {\r\n        var color = new fabric.Color(colorStop[position]);\r\n        this.colorStops.push({\r\n          offset: position,\r\n          color: color.toRgb(),\r\n          opacity: color.getAlpha()\r\n        });\r\n      }\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of a gradient\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object}\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      var object = {\r\n        type: this.type,\r\n        coords: this.coords,\r\n        colorStops: this.colorStops,\r\n        offsetX: this.offsetX,\r\n        offsetY: this.offsetY,\r\n        gradientTransform: this.gradientTransform ? this.gradientTransform.concat() : this.gradientTransform\r\n      };\r\n      fabric.util.populateWithProperties(this, object, propertiesToInclude);\r\n\r\n      return object;\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns SVG representation of an gradient\r\n     * @param {Object} object Object to create a gradient for\r\n     * @return {String} SVG representation of an gradient (linear/radial)\r\n     */\r\n    toSVG: function(object) {\r\n      var coords = fabric.util.object.clone(this.coords),\r\n          markup, commonAttributes;\r\n\r\n      // colorStops must be sorted ascending\r\n      this.colorStops.sort(function(a, b) {\r\n        return a.offset - b.offset;\r\n      });\r\n\r\n      if (!(object.group && object.group.type === 'path-group')) {\r\n        for (var prop in coords) {\r\n          if (prop === 'x1' || prop === 'x2' || prop === 'r2') {\r\n            coords[prop] += this.offsetX - object.width / 2;\r\n          }\r\n          else if (prop === 'y1' || prop === 'y2') {\r\n            coords[prop] += this.offsetY - object.height / 2;\r\n          }\r\n        }\r\n      }\r\n\r\n      commonAttributes = 'id=\"SVGID_' + this.id +\r\n                     '\" gradientUnits=\"userSpaceOnUse\"';\r\n      if (this.gradientTransform) {\r\n        commonAttributes += ' gradientTransform=\"matrix(' + this.gradientTransform.join(' ') + ')\" ';\r\n      }\r\n      if (this.type === 'linear') {\r\n        markup = [\r\n          '<linearGradient ',\r\n          commonAttributes,\r\n          ' x1=\"', coords.x1,\r\n          '\" y1=\"', coords.y1,\r\n          '\" x2=\"', coords.x2,\r\n          '\" y2=\"', coords.y2,\r\n          '\">\\n'\r\n        ];\r\n      }\r\n      else if (this.type === 'radial') {\r\n        markup = [\r\n          '<radialGradient ',\r\n          commonAttributes,\r\n          ' cx=\"', coords.x2,\r\n          '\" cy=\"', coords.y2,\r\n          '\" r=\"', coords.r2,\r\n          '\" fx=\"', coords.x1,\r\n          '\" fy=\"', coords.y1,\r\n          '\">\\n'\r\n        ];\r\n      }\r\n\r\n      for (var i = 0; i < this.colorStops.length; i++) {\r\n        markup.push(\r\n          '<stop ',\r\n            'offset=\"', (this.colorStops[i].offset * 100) + '%',\r\n            '\" style=\"stop-color:', this.colorStops[i].color,\r\n            (this.colorStops[i].opacity !== null ? ';stop-opacity: ' + this.colorStops[i].opacity : ';'),\r\n          '\"/>\\n'\r\n        );\r\n      }\r\n\r\n      markup.push((this.type === 'linear' ? '</linearGradient>\\n' : '</radialGradient>\\n'));\r\n\r\n      return markup.join('');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * Returns an instance of CanvasGradient\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Object} object\r\n     * @return {CanvasGradient}\r\n     */\r\n    toLive: function(ctx, object) {\r\n      var gradient, prop, coords = fabric.util.object.clone(this.coords);\r\n\r\n      if (!this.type) {\r\n        return;\r\n      }\r\n\r\n      if (object.group && object.group.type === 'path-group') {\r\n        for (prop in coords) {\r\n          if (prop === 'x1' || prop === 'x2') {\r\n            coords[prop] += -this.offsetX + object.width / 2;\r\n          }\r\n          else if (prop === 'y1' || prop === 'y2') {\r\n            coords[prop] += -this.offsetY + object.height / 2;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (this.type === 'linear') {\r\n        gradient = ctx.createLinearGradient(\r\n          coords.x1, coords.y1, coords.x2, coords.y2);\r\n      }\r\n      else if (this.type === 'radial') {\r\n        gradient = ctx.createRadialGradient(\r\n          coords.x1, coords.y1, coords.r1, coords.x2, coords.y2, coords.r2);\r\n      }\r\n\r\n      for (var i = 0, len = this.colorStops.length; i < len; i++) {\r\n        var color = this.colorStops[i].color,\r\n            opacity = this.colorStops[i].opacity,\r\n            offset = this.colorStops[i].offset;\r\n\r\n        if (typeof opacity !== 'undefined') {\r\n          color = new fabric.Color(color).setAlpha(opacity).toRgba();\r\n        }\r\n        gradient.addColorStop(parseFloat(offset), color);\r\n      }\r\n\r\n      return gradient;\r\n    }\r\n  });\r\n\r\n  fabric.util.object.extend(fabric.Gradient, {\r\n\r\n    /* _FROM_SVG_START_ */\r\n    /**\r\n     * Returns {@link fabric.Gradient} instance from an SVG element\r\n     * @static\r\n     * @memberOf fabric.Gradient\r\n     * @param {SVGGradientElement} el SVG gradient element\r\n     * @param {fabric.Object} instance\r\n     * @return {fabric.Gradient} Gradient instance\r\n     * @see http://www.w3.org/TR/SVG/pservers.html#LinearGradientElement\r\n     * @see http://www.w3.org/TR/SVG/pservers.html#RadialGradientElement\r\n     */\r\n    fromElement: function(el, instance) {\r\n\r\n      /**\r\n       *  @example:\r\n       *\r\n       *  <linearGradient id=\"linearGrad1\">\r\n       *    <stop offset=\"0%\" stop-color=\"white\"/>\r\n       *    <stop offset=\"100%\" stop-color=\"black\"/>\r\n       *  </linearGradient>\r\n       *\r\n       *  OR\r\n       *\r\n       *  <linearGradient id=\"linearGrad2\">\r\n       *    <stop offset=\"0\" style=\"stop-color:rgb(255,255,255)\"/>\r\n       *    <stop offset=\"1\" style=\"stop-color:rgb(0,0,0)\"/>\r\n       *  </linearGradient>\r\n       *\r\n       *  OR\r\n       *\r\n       *  <radialGradient id=\"radialGrad1\">\r\n       *    <stop offset=\"0%\" stop-color=\"white\" stop-opacity=\"1\" />\r\n       *    <stop offset=\"50%\" stop-color=\"black\" stop-opacity=\"0.5\" />\r\n       *    <stop offset=\"100%\" stop-color=\"white\" stop-opacity=\"1\" />\r\n       *  </radialGradient>\r\n       *\r\n       *  OR\r\n       *\r\n       *  <radialGradient id=\"radialGrad2\">\r\n       *    <stop offset=\"0\" stop-color=\"rgb(255,255,255)\" />\r\n       *    <stop offset=\"0.5\" stop-color=\"rgb(0,0,0)\" />\r\n       *    <stop offset=\"1\" stop-color=\"rgb(255,255,255)\" />\r\n       *  </radialGradient>\r\n       *\r\n       */\r\n\r\n      var colorStopEls = el.getElementsByTagName('stop'),\r\n          type,\r\n          gradientUnits = el.getAttribute('gradientUnits') || 'objectBoundingBox',\r\n          gradientTransform = el.getAttribute('gradientTransform'),\r\n          colorStops = [],\r\n          coords, ellipseMatrix;\r\n\r\n      if (el.nodeName === 'linearGradient' || el.nodeName === 'LINEARGRADIENT') {\r\n        type = 'linear';\r\n      }\r\n      else {\r\n        type = 'radial';\r\n      }\r\n\r\n      if (type === 'linear') {\r\n        coords = getLinearCoords(el);\r\n      }\r\n      else if (type === 'radial') {\r\n        coords = getRadialCoords(el);\r\n      }\r\n\r\n      for (var i = colorStopEls.length; i--; ) {\r\n        colorStops.push(getColorStop(colorStopEls[i]));\r\n      }\r\n\r\n      ellipseMatrix = _convertPercentUnitsToValues(instance, coords, gradientUnits);\r\n\r\n      var gradient = new fabric.Gradient({\r\n        type: type,\r\n        coords: coords,\r\n        colorStops: colorStops,\r\n        offsetX: -instance.left,\r\n        offsetY: -instance.top\r\n      });\r\n\r\n      if (gradientTransform || ellipseMatrix !== '') {\r\n        gradient.gradientTransform = fabric.parseTransformAttribute((gradientTransform || '') + ellipseMatrix);\r\n      }\r\n      return gradient;\r\n    },\r\n    /* _FROM_SVG_END_ */\r\n\r\n    /**\r\n     * Returns {@link fabric.Gradient} instance from its object representation\r\n     * @static\r\n     * @memberOf fabric.Gradient\r\n     * @param {Object} obj\r\n     * @param {Object} [options] Options object\r\n     */\r\n    forObject: function(obj, options) {\r\n      options || (options = { });\r\n      _convertPercentUnitsToValues(obj, options.coords, 'userSpaceOnUse');\r\n      return new fabric.Gradient(options);\r\n    }\r\n  });\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function _convertPercentUnitsToValues(object, options, gradientUnits) {\r\n    var propValue, addFactor = 0, multFactor = 1, ellipseMatrix = '';\r\n    for (var prop in options) {\r\n      if (options[prop] === 'Infinity') {\r\n        options[prop] = 1;\r\n      }\r\n      else if (options[prop] === '-Infinity') {\r\n        options[prop] = 0;\r\n      }\r\n      propValue = parseFloat(options[prop], 10);\r\n      if (typeof options[prop] === 'string' && /^\\d+%$/.test(options[prop])) {\r\n        multFactor = 0.01;\r\n      }\r\n      else {\r\n        multFactor = 1;\r\n      }\r\n      if (prop === 'x1' || prop === 'x2' || prop === 'r2') {\r\n        multFactor *= gradientUnits === 'objectBoundingBox' ? object.width : 1;\r\n        addFactor = gradientUnits === 'objectBoundingBox' ? object.left || 0 : 0;\r\n      }\r\n      else if (prop === 'y1' || prop === 'y2') {\r\n        multFactor *= gradientUnits === 'objectBoundingBox' ? object.height : 1;\r\n        addFactor = gradientUnits === 'objectBoundingBox' ? object.top || 0 : 0;\r\n      }\r\n      options[prop] = propValue * multFactor + addFactor;\r\n    }\r\n    if (object.type === 'ellipse' &&\r\n        options.r2 !== null &&\r\n        gradientUnits === 'objectBoundingBox' &&\r\n        object.rx !== object.ry) {\r\n\r\n      var scaleFactor = object.ry / object.rx;\r\n      ellipseMatrix = ' scale(1, ' + scaleFactor + ')';\r\n      if (options.y1) {\r\n        options.y1 /= scaleFactor;\r\n      }\r\n      if (options.y2) {\r\n        options.y2 /= scaleFactor;\r\n      }\r\n    }\r\n    return ellipseMatrix;\r\n  }\r\n})();\r\n\r\n\r\n/**\r\n * Pattern class\r\n * @class fabric.Pattern\r\n * @see {@link http://fabricjs.com/patterns|Pattern demo}\r\n * @see {@link http://fabricjs.com/dynamic-patterns|DynamicPattern demo}\r\n * @see {@link fabric.Pattern#initialize} for constructor definition\r\n */\r\nfabric.Pattern = fabric.util.createClass(/** @lends fabric.Pattern.prototype */ {\r\n\r\n  /**\r\n   * Repeat property of a pattern (one of repeat, repeat-x, repeat-y or no-repeat)\r\n   * @type String\r\n   * @default\r\n   */\r\n  repeat: 'repeat',\r\n\r\n  /**\r\n   * Pattern horizontal offset from object's left/top corner\r\n   * @type Number\r\n   * @default\r\n   */\r\n  offsetX: 0,\r\n\r\n  /**\r\n   * Pattern vertical offset from object's left/top corner\r\n   * @type Number\r\n   * @default\r\n   */\r\n  offsetY: 0,\r\n\r\n  /**\r\n   * Constructor\r\n   * @param {Object} [options] Options object\r\n   * @return {fabric.Pattern} thisArg\r\n   */\r\n  initialize: function(options) {\r\n    options || (options = { });\r\n\r\n    this.id = fabric.Object.__uid++;\r\n\r\n    if (options.source) {\r\n      if (typeof options.source === 'string') {\r\n        // function string\r\n        if (typeof fabric.util.getFunctionBody(options.source) !== 'undefined') {\r\n          this.source = new Function(fabric.util.getFunctionBody(options.source));\r\n        }\r\n        else {\r\n          // img src string\r\n          var _this = this;\r\n          this.source = fabric.util.createImage();\r\n          fabric.util.loadImage(options.source, function(img) {\r\n            _this.source = img;\r\n          });\r\n        }\r\n      }\r\n      else {\r\n        // img element\r\n        this.source = options.source;\r\n      }\r\n    }\r\n    if (options.repeat) {\r\n      this.repeat = options.repeat;\r\n    }\r\n    if (options.offsetX) {\r\n      this.offsetX = options.offsetX;\r\n    }\r\n    if (options.offsetY) {\r\n      this.offsetY = options.offsetY;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Returns object representation of a pattern\r\n   * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n   * @return {Object} Object representation of a pattern instance\r\n   */\r\n  toObject: function(propertiesToInclude) {\r\n\r\n    var source, object;\r\n\r\n    // callback\r\n    if (typeof this.source === 'function') {\r\n      source = String(this.source);\r\n    }\r\n    // <img> element\r\n    else if (typeof this.source.src === 'string') {\r\n      source = this.source.src;\r\n    }\r\n    // <canvas> element\r\n    else if (typeof this.source === 'object' && this.source.toDataURL) {\r\n      source = this.source.toDataURL();\r\n    }\r\n\r\n    object = {\r\n      source: source,\r\n      repeat: this.repeat,\r\n      offsetX: this.offsetX,\r\n      offsetY: this.offsetY\r\n    };\r\n    fabric.util.populateWithProperties(this, object, propertiesToInclude);\r\n\r\n    return object;\r\n  },\r\n\r\n  /* _TO_SVG_START_ */\r\n  /**\r\n   * Returns SVG representation of a pattern\r\n   * @param {fabric.Object} object\r\n   * @return {String} SVG representation of a pattern\r\n   */\r\n  toSVG: function(object) {\r\n    var patternSource = typeof this.source === 'function' ? this.source() : this.source,\r\n        patternWidth = patternSource.width / object.getWidth(),\r\n        patternHeight = patternSource.height / object.getHeight(),\r\n        patternOffsetX = this.offsetX / object.getWidth(),\r\n        patternOffsetY = this.offsetY / object.getHeight(),\r\n        patternImgSrc = '';\r\n    if (this.repeat === 'repeat-x' || this.repeat === 'no-repeat') {\r\n      patternHeight = 1;\r\n    }\r\n    if (this.repeat === 'repeat-y' || this.repeat === 'no-repeat') {\r\n      patternWidth = 1;\r\n    }\r\n    if (patternSource.src) {\r\n      patternImgSrc = patternSource.src;\r\n    }\r\n    else if (patternSource.toDataURL) {\r\n      patternImgSrc = patternSource.toDataURL();\r\n    }\r\n\r\n    return '<pattern id=\"SVGID_' + this.id +\r\n                  '\" x=\"' + patternOffsetX +\r\n                  '\" y=\"' + patternOffsetY +\r\n                  '\" width=\"' + patternWidth +\r\n                  '\" height=\"' + patternHeight + '\">\\n' +\r\n             '<image x=\"0\" y=\"0\"' +\r\n                    ' width=\"' + patternSource.width +\r\n                    '\" height=\"' + patternSource.height +\r\n                    '\" xlink:href=\"' + patternImgSrc +\r\n             '\"></image>\\n' +\r\n           '</pattern>\\n';\r\n  },\r\n  /* _TO_SVG_END_ */\r\n\r\n  /**\r\n   * Returns an instance of CanvasPattern\r\n   * @param {CanvasRenderingContext2D} ctx Context to create pattern\r\n   * @return {CanvasPattern}\r\n   */\r\n  toLive: function(ctx) {\r\n    var source = typeof this.source === 'function'\r\n      ? this.source()\r\n      : this.source;\r\n\r\n    // if the image failed to load, return, and allow rest to continue loading\r\n    if (!source) {\r\n      return '';\r\n    }\r\n\r\n    // if an image\r\n    if (typeof source.src !== 'undefined') {\r\n      if (!source.complete) {\r\n        return '';\r\n      }\r\n      if (source.naturalWidth === 0 || source.naturalHeight === 0) {\r\n        return '';\r\n      }\r\n    }\r\n    return ctx.createPattern(source, this.repeat);\r\n  }\r\n});\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { }),\r\n      toFixed = fabric.util.toFixed;\r\n\r\n  if (fabric.Shadow) {\r\n    fabric.warn('fabric.Shadow is already defined.');\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Shadow class\r\n   * @class fabric.Shadow\r\n   * @see {@link http://fabricjs.com/shadows|Shadow demo}\r\n   * @see {@link fabric.Shadow#initialize} for constructor definition\r\n   */\r\n  fabric.Shadow = fabric.util.createClass(/** @lends fabric.Shadow.prototype */ {\r\n\r\n    /**\r\n     * Shadow color\r\n     * @type String\r\n     * @default\r\n     */\r\n    color: 'rgb(0,0,0)',\r\n\r\n    /**\r\n     * Shadow blur\r\n     * @type Number\r\n     */\r\n    blur: 0,\r\n\r\n    /**\r\n     * Shadow horizontal offset\r\n     * @type Number\r\n     * @default\r\n     */\r\n    offsetX: 0,\r\n\r\n    /**\r\n     * Shadow vertical offset\r\n     * @type Number\r\n     * @default\r\n     */\r\n    offsetY: 0,\r\n\r\n    /**\r\n     * Whether the shadow should affect stroke operations\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    affectStroke: false,\r\n\r\n    /**\r\n     * Indicates whether toObject should include default values\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    includeDefaultValues: true,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Object|String} [options] Options object with any of color, blur, offsetX, offsetX properties or string (e.g. \"rgba(0,0,0,0.2) 2px 2px 10px, \"2px 2px 10px rgba(0,0,0,0.2)\")\r\n     * @return {fabric.Shadow} thisArg\r\n     */\r\n    initialize: function(options) {\r\n\r\n      if (typeof options === 'string') {\r\n        options = this._parseShadow(options);\r\n      }\r\n\r\n      for (var prop in options) {\r\n        this[prop] = options[prop];\r\n      }\r\n\r\n      this.id = fabric.Object.__uid++;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} shadow Shadow value to parse\r\n     * @return {Object} Shadow object with color, offsetX, offsetY and blur\r\n     */\r\n    _parseShadow: function(shadow) {\r\n      var shadowStr = shadow.trim(),\r\n          offsetsAndBlur = fabric.Shadow.reOffsetsAndBlur.exec(shadowStr) || [],\r\n          color = shadowStr.replace(fabric.Shadow.reOffsetsAndBlur, '') || 'rgb(0,0,0)';\r\n\r\n      return {\r\n        color: color.trim(),\r\n        offsetX: parseInt(offsetsAndBlur[1], 10) || 0,\r\n        offsetY: parseInt(offsetsAndBlur[2], 10) || 0,\r\n        blur: parseInt(offsetsAndBlur[3], 10) || 0\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Returns a string representation of an instance\r\n     * @see http://www.w3.org/TR/css-text-decor-3/#text-shadow\r\n     * @return {String} Returns CSS3 text-shadow declaration\r\n     */\r\n    toString: function() {\r\n      return [this.offsetX, this.offsetY, this.blur, this.color].join('px ');\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns SVG representation of a shadow\r\n     * @param {fabric.Object} object\r\n     * @return {String} SVG representation of a shadow\r\n     */\r\n    toSVG: function(object) {\r\n      var fBoxX = 40, fBoxY = 40, NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS,\r\n          offset = fabric.util.rotateVector(\r\n            { x: this.offsetX, y: this.offsetY },\r\n            fabric.util.degreesToRadians(-object.angle)),\r\n          BLUR_BOX = 20;\r\n\r\n      if (object.width && object.height) {\r\n        //http://www.w3.org/TR/SVG/filters.html#FilterEffectsRegion\r\n        // we add some extra space to filter box to contain the blur ( 20 )\r\n        fBoxX = toFixed((Math.abs(offset.x) + this.blur) / object.width, NUM_FRACTION_DIGITS) * 100 + BLUR_BOX;\r\n        fBoxY = toFixed((Math.abs(offset.y) + this.blur) / object.height, NUM_FRACTION_DIGITS) * 100 + BLUR_BOX;\r\n      }\r\n      if (object.flipX) {\r\n        offset.x *= -1;\r\n      }\r\n      if (object.flipY) {\r\n        offset.y *= -1;\r\n      }\r\n      return (\r\n        '<filter id=\"SVGID_' + this.id + '\" y=\"-' + fBoxY + '%\" height=\"' + (100 + 2 * fBoxY) + '%\" ' +\r\n          'x=\"-' + fBoxX + '%\" width=\"' + (100 + 2 * fBoxX) + '%\" ' + '>\\n' +\r\n          '\\t<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"' +\r\n            toFixed(this.blur ? this.blur / 2 : 0, NUM_FRACTION_DIGITS) + '\"></feGaussianBlur>\\n' +\r\n          '\\t<feOffset dx=\"' + toFixed(offset.x, NUM_FRACTION_DIGITS) +\r\n          '\" dy=\"' + toFixed(offset.y, NUM_FRACTION_DIGITS) + '\" result=\"oBlur\" ></feOffset>\\n' +\r\n          '\\t<feFlood flood-color=\"' + this.color + '\"/>\\n' +\r\n          '\\t<feComposite in2=\"oBlur\" operator=\"in\" />\\n' +\r\n          '\\t<feMerge>\\n' +\r\n            '\\t\\t<feMergeNode></feMergeNode>\\n' +\r\n            '\\t\\t<feMergeNode in=\"SourceGraphic\"></feMergeNode>\\n' +\r\n          '\\t</feMerge>\\n' +\r\n        '</filter>\\n');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * Returns object representation of a shadow\r\n     * @return {Object} Object representation of a shadow instance\r\n     */\r\n    toObject: function() {\r\n      if (this.includeDefaultValues) {\r\n        return {\r\n          color: this.color,\r\n          blur: this.blur,\r\n          offsetX: this.offsetX,\r\n          offsetY: this.offsetY,\r\n          affectStroke: this.affectStroke\r\n        };\r\n      }\r\n      var obj = { }, proto = fabric.Shadow.prototype;\r\n\r\n      ['color', 'blur', 'offsetX', 'offsetY', 'affectStroke'].forEach(function(prop) {\r\n        if (this[prop] !== proto[prop]) {\r\n          obj[prop] = this[prop];\r\n        }\r\n      }, this);\r\n\r\n      return obj;\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Regex matching shadow offsetX, offsetY and blur (ex: \"2px 2px 10px rgba(0,0,0,0.2)\", \"rgb(0,255,0) 2px 2px\")\r\n   * @static\r\n   * @field\r\n   * @memberOf fabric.Shadow\r\n   */\r\n  // eslint-disable-next-line max-len\r\n  fabric.Shadow.reOffsetsAndBlur = /(?:\\s|^)(-?\\d+(?:px)?(?:\\s?|$))?(-?\\d+(?:px)?(?:\\s?|$))?(\\d+(?:px)?)?(?:\\s?|$)(?:$|\\s)/;\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function () {\r\n\r\n  'use strict';\r\n\r\n  if (fabric.StaticCanvas) {\r\n    fabric.warn('fabric.StaticCanvas is already defined.');\r\n    return;\r\n  }\r\n\r\n  // aliases for faster resolution\r\n  var extend = fabric.util.object.extend,\r\n      getElementOffset = fabric.util.getElementOffset,\r\n      removeFromArray = fabric.util.removeFromArray,\r\n      toFixed = fabric.util.toFixed,\r\n\r\n      CANVAS_INIT_ERROR = new Error('Could not initialize `canvas` element');\r\n\r\n  /**\r\n   * Static canvas class\r\n   * @class fabric.StaticCanvas\r\n   * @mixes fabric.Collection\r\n   * @mixes fabric.Observable\r\n   * @see {@link http://fabricjs.com/static_canvas|StaticCanvas demo}\r\n   * @see {@link fabric.StaticCanvas#initialize} for constructor definition\r\n   * @fires before:render\r\n   * @fires after:render\r\n   * @fires canvas:cleared\r\n   * @fires object:added\r\n   * @fires object:removed\r\n   */\r\n  fabric.StaticCanvas = fabric.util.createClass(/** @lends fabric.StaticCanvas.prototype */ {\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {HTMLElement | String} el &lt;canvas> element to initialize instance on\r\n     * @param {Object} [options] Options object\r\n     * @return {Object} thisArg\r\n     */\r\n    initialize: function(el, options) {\r\n      options || (options = { });\r\n\r\n      this._initStatic(el, options);\r\n    },\r\n\r\n    /**\r\n     * Background color of canvas instance.\r\n     * Should be set via {@link fabric.StaticCanvas#setBackgroundColor}.\r\n     * @type {(String|fabric.Pattern)}\r\n     * @default\r\n     */\r\n    backgroundColor: '',\r\n\r\n    /**\r\n     * Background image of canvas instance.\r\n     * Should be set via {@link fabric.StaticCanvas#setBackgroundImage}.\r\n     * <b>Backwards incompatibility note:</b> The \"backgroundImageOpacity\"\r\n     * and \"backgroundImageStretch\" properties are deprecated since 1.3.9.\r\n     * Use {@link fabric.Image#opacity}, {@link fabric.Image#width} and {@link fabric.Image#height}.\r\n     * @type fabric.Image\r\n     * @default\r\n     */\r\n    backgroundImage: null,\r\n\r\n    /**\r\n     * Overlay color of canvas instance.\r\n     * Should be set via {@link fabric.StaticCanvas#setOverlayColor}\r\n     * @since 1.3.9\r\n     * @type {(String|fabric.Pattern)}\r\n     * @default\r\n     */\r\n    overlayColor: '',\r\n\r\n    /**\r\n     * Overlay image of canvas instance.\r\n     * Should be set via {@link fabric.StaticCanvas#setOverlayImage}.\r\n     * <b>Backwards incompatibility note:</b> The \"overlayImageLeft\"\r\n     * and \"overlayImageTop\" properties are deprecated since 1.3.9.\r\n     * Use {@link fabric.Image#left} and {@link fabric.Image#top}.\r\n     * @type fabric.Image\r\n     * @default\r\n     */\r\n    overlayImage: null,\r\n\r\n    /**\r\n     * Indicates whether toObject/toDatalessObject should include default values\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    includeDefaultValues: true,\r\n\r\n    /**\r\n     * Indicates whether objects' state should be saved\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    stateful: false,\r\n\r\n    /**\r\n     * Indicates whether {@link fabric.Collection.add}, {@link fabric.Collection.insertAt} and {@link fabric.Collection.remove} should also re-render canvas.\r\n     * Disabling this option could give a great performance boost when adding/removing a lot of objects to/from canvas at once\r\n     * (followed by a manual rendering after addition/deletion)\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    renderOnAddRemove: true,\r\n\r\n    /**\r\n     * Function that determines clipping of entire canvas area\r\n     * Being passed context as first argument. See clipping canvas area in {@link https://github.com/kangax/fabric.js/wiki/FAQ}\r\n     * @type Function\r\n     * @default\r\n     */\r\n    clipTo: null,\r\n\r\n    /**\r\n     * Indicates whether object controls (borders/controls) are rendered above overlay image\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    controlsAboveOverlay: false,\r\n\r\n    /**\r\n     * Indicates whether the browser can be scrolled when using a touchscreen and dragging on the canvas\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    allowTouchScrolling: false,\r\n\r\n    /**\r\n     * Indicates whether this canvas will use image smoothing, this is on by default in browsers\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    imageSmoothingEnabled: true,\r\n\r\n    /**\r\n     * The transformation (in the format of Canvas transform) which focuses the viewport\r\n     * @type Array\r\n     * @default\r\n     */\r\n    viewportTransform: [1, 0, 0, 1, 0, 0],\r\n\r\n    /**\r\n     * if set to false background image is not affected by viewport transform\r\n     * @since 1.6.3\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    backgroundVpt: true,\r\n\r\n    /**\r\n     * if set to false overlya image is not affected by viewport transform\r\n     * @since 1.6.3\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    overlayVpt: true,\r\n\r\n    /**\r\n     * Callback; invoked right before object is about to be scaled/rotated\r\n     */\r\n    onBeforeScaleRotate: function () {\r\n      /* NOOP */\r\n    },\r\n\r\n    /**\r\n     * When true, canvas is scaled by devicePixelRatio for better rendering on retina screens\r\n     */\r\n    enableRetinaScaling: true,\r\n\r\n    /**\r\n     * @private\r\n     * @param {HTMLElement | String} el &lt;canvas> element to initialize instance on\r\n     * @param {Object} [options] Options object\r\n     */\r\n    _initStatic: function(el, options) {\r\n      var cb = fabric.StaticCanvas.prototype.renderAll.bind(this);\r\n      this._objects = [];\r\n      this._createLowerCanvas(el);\r\n      this._initOptions(options);\r\n      this._setImageSmoothing();\r\n      // only initialize retina scaling once\r\n      if (!this.interactive) {\r\n        this._initRetinaScaling();\r\n      }\r\n\r\n      if (options.overlayImage) {\r\n        this.setOverlayImage(options.overlayImage, cb);\r\n      }\r\n      if (options.backgroundImage) {\r\n        this.setBackgroundImage(options.backgroundImage, cb);\r\n      }\r\n      if (options.backgroundColor) {\r\n        this.setBackgroundColor(options.backgroundColor, cb);\r\n      }\r\n      if (options.overlayColor) {\r\n        this.setOverlayColor(options.overlayColor, cb);\r\n      }\r\n      this.calcOffset();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _isRetinaScaling: function() {\r\n      return (fabric.devicePixelRatio !== 1 && this.enableRetinaScaling);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @return {Number} retinaScaling if applied, otherwise 1;\r\n     */\r\n    getRetinaScaling: function() {\r\n      return this._isRetinaScaling() ? fabric.devicePixelRatio : 1;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _initRetinaScaling: function() {\r\n      if (!this._isRetinaScaling()) {\r\n        return;\r\n      }\r\n      this.lowerCanvasEl.setAttribute('width', this.width * fabric.devicePixelRatio);\r\n      this.lowerCanvasEl.setAttribute('height', this.height * fabric.devicePixelRatio);\r\n\r\n      this.contextContainer.scale(fabric.devicePixelRatio, fabric.devicePixelRatio);\r\n    },\r\n\r\n    /**\r\n     * Calculates canvas element offset relative to the document\r\n     * This method is also attached as \"resize\" event handler of window\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable\r\n     */\r\n    calcOffset: function () {\r\n      this._offset = getElementOffset(this.lowerCanvasEl);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Sets {@link fabric.StaticCanvas#overlayImage|overlay image} for this canvas\r\n     * @param {(fabric.Image|String)} image fabric.Image instance or URL of an image to set overlay to\r\n     * @param {Function} callback callback to invoke when image is loaded and set as an overlay\r\n     * @param {Object} [options] Optional options to set for the {@link fabric.Image|overlay image}.\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     * @see {@link http://jsfiddle.net/fabricjs/MnzHT/|jsFiddle demo}\r\n     * @example <caption>Normal overlayImage with left/top = 0</caption>\r\n     * canvas.setOverlayImage('http://fabricjs.com/assets/jail_cell_bars.png', canvas.renderAll.bind(canvas), {\r\n     *   // Needed to position overlayImage at 0/0\r\n     *   originX: 'left',\r\n     *   originY: 'top'\r\n     * });\r\n     * @example <caption>overlayImage with different properties</caption>\r\n     * canvas.setOverlayImage('http://fabricjs.com/assets/jail_cell_bars.png', canvas.renderAll.bind(canvas), {\r\n     *   opacity: 0.5,\r\n     *   angle: 45,\r\n     *   left: 400,\r\n     *   top: 400,\r\n     *   originX: 'left',\r\n     *   originY: 'top'\r\n     * });\r\n     * @example <caption>Stretched overlayImage #1 - width/height correspond to canvas width/height</caption>\r\n     * fabric.Image.fromURL('http://fabricjs.com/assets/jail_cell_bars.png', function(img) {\r\n     *    img.set({width: canvas.width, height: canvas.height, originX: 'left', originY: 'top'});\r\n     *    canvas.setOverlayImage(img, canvas.renderAll.bind(canvas));\r\n     * });\r\n     * @example <caption>Stretched overlayImage #2 - width/height correspond to canvas width/height</caption>\r\n     * canvas.setOverlayImage('http://fabricjs.com/assets/jail_cell_bars.png', canvas.renderAll.bind(canvas), {\r\n     *   width: canvas.width,\r\n     *   height: canvas.height,\r\n     *   // Needed to position overlayImage at 0/0\r\n     *   originX: 'left',\r\n     *   originY: 'top'\r\n     * });\r\n     * @example <caption>overlayImage loaded from cross-origin</caption>\r\n     * canvas.setOverlayImage('http://fabricjs.com/assets/jail_cell_bars.png', canvas.renderAll.bind(canvas), {\r\n     *   opacity: 0.5,\r\n     *   angle: 45,\r\n     *   left: 400,\r\n     *   top: 400,\r\n     *   originX: 'left',\r\n     *   originY: 'top',\r\n     *   crossOrigin: 'anonymous'\r\n     * });\r\n     */\r\n    setOverlayImage: function (image, callback, options) {\r\n      return this.__setBgOverlayImage('overlayImage', image, callback, options);\r\n    },\r\n\r\n    /**\r\n     * Sets {@link fabric.StaticCanvas#backgroundImage|background image} for this canvas\r\n     * @param {(fabric.Image|String)} image fabric.Image instance or URL of an image to set background to\r\n     * @param {Function} callback Callback to invoke when image is loaded and set as background\r\n     * @param {Object} [options] Optional options to set for the {@link fabric.Image|background image}.\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     * @see {@link http://jsfiddle.net/fabricjs/YH9yD/|jsFiddle demo}\r\n     * @example <caption>Normal backgroundImage with left/top = 0</caption>\r\n     * canvas.setBackgroundImage('http://fabricjs.com/assets/honey_im_subtle.png', canvas.renderAll.bind(canvas), {\r\n     *   // Needed to position backgroundImage at 0/0\r\n     *   originX: 'left',\r\n     *   originY: 'top'\r\n     * });\r\n     * @example <caption>backgroundImage with different properties</caption>\r\n     * canvas.setBackgroundImage('http://fabricjs.com/assets/honey_im_subtle.png', canvas.renderAll.bind(canvas), {\r\n     *   opacity: 0.5,\r\n     *   angle: 45,\r\n     *   left: 400,\r\n     *   top: 400,\r\n     *   originX: 'left',\r\n     *   originY: 'top'\r\n     * });\r\n     * @example <caption>Stretched backgroundImage #1 - width/height correspond to canvas width/height</caption>\r\n     * fabric.Image.fromURL('http://fabricjs.com/assets/honey_im_subtle.png', function(img) {\r\n     *    img.set({width: canvas.width, height: canvas.height, originX: 'left', originY: 'top'});\r\n     *    canvas.setBackgroundImage(img, canvas.renderAll.bind(canvas));\r\n     * });\r\n     * @example <caption>Stretched backgroundImage #2 - width/height correspond to canvas width/height</caption>\r\n     * canvas.setBackgroundImage('http://fabricjs.com/assets/honey_im_subtle.png', canvas.renderAll.bind(canvas), {\r\n     *   width: canvas.width,\r\n     *   height: canvas.height,\r\n     *   // Needed to position backgroundImage at 0/0\r\n     *   originX: 'left',\r\n     *   originY: 'top'\r\n     * });\r\n     * @example <caption>backgroundImage loaded from cross-origin</caption>\r\n     * canvas.setBackgroundImage('http://fabricjs.com/assets/honey_im_subtle.png', canvas.renderAll.bind(canvas), {\r\n     *   opacity: 0.5,\r\n     *   angle: 45,\r\n     *   left: 400,\r\n     *   top: 400,\r\n     *   originX: 'left',\r\n     *   originY: 'top',\r\n     *   crossOrigin: 'anonymous'\r\n     * });\r\n     */\r\n    setBackgroundImage: function (image, callback, options) {\r\n      return this.__setBgOverlayImage('backgroundImage', image, callback, options);\r\n    },\r\n\r\n    /**\r\n     * Sets {@link fabric.StaticCanvas#overlayColor|background color} for this canvas\r\n     * @param {(String|fabric.Pattern)} overlayColor Color or pattern to set background color to\r\n     * @param {Function} callback Callback to invoke when background color is set\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     * @see {@link http://jsfiddle.net/fabricjs/pB55h/|jsFiddle demo}\r\n     * @example <caption>Normal overlayColor - color value</caption>\r\n     * canvas.setOverlayColor('rgba(255, 73, 64, 0.6)', canvas.renderAll.bind(canvas));\r\n     * @example <caption>fabric.Pattern used as overlayColor</caption>\r\n     * canvas.setOverlayColor({\r\n     *   source: 'http://fabricjs.com/assets/escheresque_ste.png'\r\n     * }, canvas.renderAll.bind(canvas));\r\n     * @example <caption>fabric.Pattern used as overlayColor with repeat and offset</caption>\r\n     * canvas.setOverlayColor({\r\n     *   source: 'http://fabricjs.com/assets/escheresque_ste.png',\r\n     *   repeat: 'repeat',\r\n     *   offsetX: 200,\r\n     *   offsetY: 100\r\n     * }, canvas.renderAll.bind(canvas));\r\n     */\r\n    setOverlayColor: function(overlayColor, callback) {\r\n      return this.__setBgOverlayColor('overlayColor', overlayColor, callback);\r\n    },\r\n\r\n    /**\r\n     * Sets {@link fabric.StaticCanvas#backgroundColor|background color} for this canvas\r\n     * @param {(String|fabric.Pattern)} backgroundColor Color or pattern to set background color to\r\n     * @param {Function} callback Callback to invoke when background color is set\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     * @see {@link http://jsfiddle.net/fabricjs/hXzvk/|jsFiddle demo}\r\n     * @example <caption>Normal backgroundColor - color value</caption>\r\n     * canvas.setBackgroundColor('rgba(255, 73, 64, 0.6)', canvas.renderAll.bind(canvas));\r\n     * @example <caption>fabric.Pattern used as backgroundColor</caption>\r\n     * canvas.setBackgroundColor({\r\n     *   source: 'http://fabricjs.com/assets/escheresque_ste.png'\r\n     * }, canvas.renderAll.bind(canvas));\r\n     * @example <caption>fabric.Pattern used as backgroundColor with repeat and offset</caption>\r\n     * canvas.setBackgroundColor({\r\n     *   source: 'http://fabricjs.com/assets/escheresque_ste.png',\r\n     *   repeat: 'repeat',\r\n     *   offsetX: 200,\r\n     *   offsetY: 100\r\n     * }, canvas.renderAll.bind(canvas));\r\n     */\r\n    setBackgroundColor: function(backgroundColor, callback) {\r\n      return this.__setBgOverlayColor('backgroundColor', backgroundColor, callback);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @see {@link http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-imagesmoothingenabled|WhatWG Canvas Standard}\r\n     */\r\n    _setImageSmoothing: function() {\r\n      var ctx = this.getContext();\r\n\r\n      ctx.imageSmoothingEnabled = ctx.imageSmoothingEnabled || ctx.webkitImageSmoothingEnabled\r\n        || ctx.mozImageSmoothingEnabled || ctx.msImageSmoothingEnabled || ctx.oImageSmoothingEnabled;\r\n      ctx.imageSmoothingEnabled = this.imageSmoothingEnabled;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} property Property to set ({@link fabric.StaticCanvas#backgroundImage|backgroundImage}\r\n     * or {@link fabric.StaticCanvas#overlayImage|overlayImage})\r\n     * @param {(fabric.Image|String|null)} image fabric.Image instance, URL of an image or null to set background or overlay to\r\n     * @param {Function} callback Callback to invoke when image is loaded and set as background or overlay\r\n     * @param {Object} [options] Optional options to set for the {@link fabric.Image|image}.\r\n     */\r\n    __setBgOverlayImage: function(property, image, callback, options) {\r\n      if (typeof image === 'string') {\r\n        fabric.util.loadImage(image, function(img) {\r\n          img && (this[property] = new fabric.Image(img, options));\r\n          callback && callback(img);\r\n        }, this, options && options.crossOrigin);\r\n      }\r\n      else {\r\n        options && image.setOptions(options);\r\n        this[property] = image;\r\n        callback && callback(image);\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} property Property to set ({@link fabric.StaticCanvas#backgroundColor|backgroundColor}\r\n     * or {@link fabric.StaticCanvas#overlayColor|overlayColor})\r\n     * @param {(Object|String|null)} color Object with pattern information, color value or null\r\n     * @param {Function} [callback] Callback is invoked when color is set\r\n     */\r\n    __setBgOverlayColor: function(property, color, callback) {\r\n      if (color && color.source) {\r\n        var _this = this;\r\n        fabric.util.loadImage(color.source, function(img) {\r\n          _this[property] = new fabric.Pattern({\r\n            source: img,\r\n            repeat: color.repeat,\r\n            offsetX: color.offsetX,\r\n            offsetY: color.offsetY\r\n          });\r\n          callback && callback();\r\n        });\r\n      }\r\n      else {\r\n        this[property] = color;\r\n        callback && callback();\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _createCanvasElement: function(canvasEl) {\r\n      var element = fabric.util.createCanvasElement(canvasEl)\r\n      if (!element.style) {\r\n        element.style = { };\r\n      }\r\n      if (!element) {\r\n        throw CANVAS_INIT_ERROR;\r\n      }\r\n      if (typeof element.getContext === 'undefined') {\r\n        throw CANVAS_INIT_ERROR;\r\n      }\r\n      return element;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} [options] Options object\r\n     */\r\n    _initOptions: function (options) {\r\n      for (var prop in options) {\r\n        this[prop] = options[prop];\r\n      }\r\n\r\n      this.width = this.width || parseInt(this.lowerCanvasEl.width, 10) || 0;\r\n      this.height = this.height || parseInt(this.lowerCanvasEl.height, 10) || 0;\r\n\r\n      if (!this.lowerCanvasEl.style) {\r\n        return;\r\n      }\r\n\r\n      this.lowerCanvasEl.width = this.width;\r\n      this.lowerCanvasEl.height = this.height;\r\n\r\n      this.lowerCanvasEl.style.width = this.width + 'px';\r\n      this.lowerCanvasEl.style.height = this.height + 'px';\r\n\r\n      this.viewportTransform = this.viewportTransform.slice();\r\n    },\r\n\r\n    /**\r\n     * Creates a bottom canvas\r\n     * @private\r\n     * @param {HTMLElement} [canvasEl]\r\n     */\r\n    _createLowerCanvas: function (canvasEl) {\r\n      this.lowerCanvasEl = fabric.util.getById(canvasEl) || this._createCanvasElement(canvasEl);\r\n\r\n      fabric.util.addClass(this.lowerCanvasEl, 'lower-canvas');\r\n\r\n      if (this.interactive) {\r\n        this._applyCanvasStyle(this.lowerCanvasEl);\r\n      }\r\n\r\n      this.contextContainer = this.lowerCanvasEl.getContext('2d');\r\n    },\r\n\r\n    /**\r\n     * Returns canvas width (in px)\r\n     * @return {Number}\r\n     */\r\n    getWidth: function () {\r\n      return this.width;\r\n    },\r\n\r\n    /**\r\n     * Returns canvas height (in px)\r\n     * @return {Number}\r\n     */\r\n    getHeight: function () {\r\n      return this.height;\r\n    },\r\n\r\n    /**\r\n     * Sets width of this canvas instance\r\n     * @param {Number|String} value                         Value to set width to\r\n     * @param {Object}        [options]                     Options object\r\n     * @param {Boolean}       [options.backstoreOnly=false] Set the given dimensions only as canvas backstore dimensions\r\n     * @param {Boolean}       [options.cssOnly=false]       Set the given dimensions only as css dimensions\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable true\r\n     */\r\n    setWidth: function (value, options) {\r\n      return this.setDimensions({ width: value }, options);\r\n    },\r\n\r\n    /**\r\n     * Sets height of this canvas instance\r\n     * @param {Number|String} value                         Value to set height to\r\n     * @param {Object}        [options]                     Options object\r\n     * @param {Boolean}       [options.backstoreOnly=false] Set the given dimensions only as canvas backstore dimensions\r\n     * @param {Boolean}       [options.cssOnly=false]       Set the given dimensions only as css dimensions\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable true\r\n     */\r\n    setHeight: function (value, options) {\r\n      return this.setDimensions({ height: value }, options);\r\n    },\r\n\r\n    /**\r\n     * Sets dimensions (width, height) of this canvas instance. when options.cssOnly flag active you should also supply the unit of measure (px/%/em)\r\n     * @param {Object}        dimensions                    Object with width/height properties\r\n     * @param {Number|String} [dimensions.width]            Width of canvas element\r\n     * @param {Number|String} [dimensions.height]           Height of canvas element\r\n     * @param {Object}        [options]                     Options object\r\n     * @param {Boolean}       [options.backstoreOnly=false] Set the given dimensions only as canvas backstore dimensions\r\n     * @param {Boolean}       [options.cssOnly=false]       Set the given dimensions only as css dimensions\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    setDimensions: function (dimensions, options) {\r\n      var cssValue;\r\n\r\n      options = options || {};\r\n\r\n      for (var prop in dimensions) {\r\n        cssValue = dimensions[prop];\r\n\r\n        if (!options.cssOnly) {\r\n          this._setBackstoreDimension(prop, dimensions[prop]);\r\n          cssValue += 'px';\r\n        }\r\n\r\n        if (!options.backstoreOnly) {\r\n          this._setCssDimension(prop, cssValue);\r\n        }\r\n      }\r\n      this._initRetinaScaling();\r\n      this._setImageSmoothing();\r\n      this.calcOffset();\r\n\r\n      if (!options.cssOnly) {\r\n        this.renderAll();\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Helper for setting width/height\r\n     * @private\r\n     * @param {String} prop property (width|height)\r\n     * @param {Number} value value to set property to\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable true\r\n     */\r\n    _setBackstoreDimension: function (prop, value) {\r\n      this.lowerCanvasEl[prop] = value;\r\n\r\n      if (this.upperCanvasEl) {\r\n        this.upperCanvasEl[prop] = value;\r\n      }\r\n\r\n      if (this.cacheCanvasEl) {\r\n        this.cacheCanvasEl[prop] = value;\r\n      }\r\n\r\n      this[prop] = value;\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Helper for setting css width/height\r\n     * @private\r\n     * @param {String} prop property (width|height)\r\n     * @param {String} value value to set property to\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable true\r\n     */\r\n    _setCssDimension: function (prop, value) {\r\n      this.lowerCanvasEl.style[prop] = value;\r\n\r\n      if (this.upperCanvasEl) {\r\n        this.upperCanvasEl.style[prop] = value;\r\n      }\r\n\r\n      if (this.wrapperEl) {\r\n        this.wrapperEl.style[prop] = value;\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returns canvas zoom level\r\n     * @return {Number}\r\n     */\r\n    getZoom: function () {\r\n      return this.viewportTransform[0];\r\n    },\r\n\r\n    /**\r\n     * Sets viewport transform of this canvas instance\r\n     * @param {Array} vpt the transform in the form of context.transform\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable true\r\n     */\r\n    setViewportTransform: function (vpt) {\r\n      var activeGroup = this._activeGroup, object;\r\n      this.viewportTransform = vpt;\r\n      for (var i = 0, len = this._objects.length; i < len; i++) {\r\n        object = this._objects[i];\r\n        object.group || object.setCoords();\r\n      }\r\n      if (activeGroup) {\r\n        activeGroup.setCoords();\r\n      }\r\n      this.renderAll();\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Sets zoom level of this canvas instance, zoom centered around point\r\n     * @param {fabric.Point} point to zoom with respect to\r\n     * @param {Number} value to set zoom to, less than 1 zooms out\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable true\r\n     */\r\n    zoomToPoint: function (point, value) {\r\n      // TODO: just change the scale, preserve other transformations\r\n      var before = point, vpt = this.viewportTransform.slice(0);\r\n      point = fabric.util.transformPoint(point, fabric.util.invertTransform(this.viewportTransform));\r\n      vpt[0] = value;\r\n      vpt[3] = value;\r\n      var after = fabric.util.transformPoint(point, vpt);\r\n      vpt[4] += before.x - after.x;\r\n      vpt[5] += before.y - after.y;\r\n      return this.setViewportTransform(vpt);\r\n    },\r\n\r\n    /**\r\n     * Sets zoom level of this canvas instance\r\n     * @param {Number} value to set zoom to, less than 1 zooms out\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable true\r\n     */\r\n    setZoom: function (value) {\r\n      this.zoomToPoint(new fabric.Point(0, 0), value);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Pan viewport so as to place point at top left corner of canvas\r\n     * @param {fabric.Point} point to move to\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable true\r\n     */\r\n    absolutePan: function (point) {\r\n      var vpt = this.viewportTransform.slice(0);\r\n      vpt[4] = -point.x;\r\n      vpt[5] = -point.y;\r\n      return this.setViewportTransform(vpt);\r\n    },\r\n\r\n    /**\r\n     * Pans viewpoint relatively\r\n     * @param {fabric.Point} point (position vector) to move by\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable true\r\n     */\r\n    relativePan: function (point) {\r\n      return this.absolutePan(new fabric.Point(\r\n        -point.x - this.viewportTransform[4],\r\n        -point.y - this.viewportTransform[5]\r\n      ));\r\n    },\r\n\r\n    /**\r\n     * Returns &lt;canvas> element corresponding to this instance\r\n     * @return {HTMLCanvasElement}\r\n     */\r\n    getElement: function () {\r\n      return this.lowerCanvasEl;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {fabric.Object} obj Object that was added\r\n     */\r\n    _onObjectAdded: function(obj) {\r\n      this.stateful && obj.setupState();\r\n      obj._set('canvas', this);\r\n      obj.setCoords();\r\n      this.fire('object:added', { target: obj });\r\n      obj.fire('added');\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {fabric.Object} obj Object that was removed\r\n     */\r\n    _onObjectRemoved: function(obj) {\r\n      this.fire('object:removed', { target: obj });\r\n      obj.fire('removed');\r\n      delete obj.canvas;\r\n    },\r\n\r\n    /**\r\n     * Clears specified context of canvas element\r\n     * @param {CanvasRenderingContext2D} ctx Context to clear\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    clearContext: function(ctx) {\r\n      ctx.clearRect(0, 0, this.width, this.height);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returns context of canvas where objects are drawn\r\n     * @return {CanvasRenderingContext2D}\r\n     */\r\n    getContext: function () {\r\n      return this.contextContainer;\r\n    },\r\n\r\n    /**\r\n     * Clears all contexts (background, main, top) of an instance\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    clear: function () {\r\n      this._objects.length = 0;\r\n      this.backgroundImage = null;\r\n      this.overlayImage = null;\r\n      this.backgroundColor = '';\r\n      this.overlayColor = ''\r\n      if (this._hasITextHandlers) {\r\n        this.off('selection:cleared', this._canvasITextSelectionClearedHanlder);\r\n        this.off('object:selected', this._canvasITextSelectionClearedHanlder);\r\n        this.off('mouse:up', this._mouseUpITextHandler);\r\n        this._iTextInstances = null;\r\n        this._hasITextHandlers = false;\r\n      }\r\n      this.clearContext(this.contextContainer);\r\n      this.fire('canvas:cleared');\r\n      this.renderAll();\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Renders both the canvas.\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable\r\n     */\r\n    renderAll: function () {\r\n      var canvasToDrawOn = this.contextContainer;\r\n      this.renderCanvas(canvasToDrawOn, this._objects);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Renders background, objects, overlay and controls.\r\n     * @param {CanvasRenderingContext2D} ctx\r\n     * @param {Array} objects to render\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable\r\n     */\r\n    renderCanvas: function(ctx, objects) {\r\n      this.clearContext(ctx);\r\n      this.fire('before:render');\r\n      if (this.clipTo) {\r\n        fabric.util.clipContext(this, ctx);\r\n      }\r\n      this._renderBackground(ctx);\r\n\r\n      ctx.save();\r\n      //apply viewport transform once for all rendering process\r\n      ctx.transform.apply(ctx, this.viewportTransform);\r\n      this._renderObjects(ctx, objects);\r\n      ctx.restore();\r\n      if (!this.controlsAboveOverlay && this.interactive) {\r\n        this.drawControls(ctx);\r\n      }\r\n      if (this.clipTo) {\r\n        ctx.restore();\r\n      }\r\n      this._renderOverlay(ctx);\r\n      if (this.controlsAboveOverlay && this.interactive) {\r\n        this.drawControls(ctx);\r\n      }\r\n      this.fire('after:render');\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Array} objects to render\r\n     */\r\n    _renderObjects: function(ctx, objects) {\r\n      for (var i = 0, length = objects.length; i < length; ++i) {\r\n        objects[i] && objects[i].render(ctx);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {string} property 'background' or 'overlay'\r\n     */\r\n    _renderBackgroundOrOverlay: function(ctx, property) {\r\n      var object = this[property + 'Color'];\r\n      if (object) {\r\n        ctx.fillStyle = object.toLive\r\n          ? object.toLive(ctx)\r\n          : object;\r\n\r\n        ctx.fillRect(\r\n          object.offsetX || 0,\r\n          object.offsetY || 0,\r\n          this.width,\r\n          this.height);\r\n      }\r\n      object = this[property + 'Image'];\r\n      if (object) {\r\n        if (this[property + 'Vpt']) {\r\n          ctx.save();\r\n          ctx.transform.apply(ctx, this.viewportTransform);\r\n        }\r\n        object.render(ctx);\r\n        this[property + 'Vpt'] && ctx.restore();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderBackground: function(ctx) {\r\n      this._renderBackgroundOrOverlay(ctx, 'background');\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderOverlay: function(ctx) {\r\n      this._renderBackgroundOrOverlay(ctx, 'overlay');\r\n    },\r\n\r\n    /**\r\n     * Returns coordinates of a center of canvas.\r\n     * Returned value is an object with top and left properties\r\n     * @return {Object} object with \"top\" and \"left\" number values\r\n     */\r\n    getCenter: function () {\r\n      return {\r\n        top: this.getHeight() / 2,\r\n        left: this.getWidth() / 2\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Centers object horizontally in the canvas\r\n     * You might need to call `setCoords` on an object after centering, to update controls area.\r\n     * @param {fabric.Object} object Object to center horizontally\r\n     * @return {fabric.Canvas} thisArg\r\n     */\r\n    centerObjectH: function (object) {\r\n      return this._centerObject(object, new fabric.Point(this.getCenter().left, object.getCenterPoint().y));\r\n    },\r\n\r\n    /**\r\n     * Centers object vertically in the canvas\r\n     * You might need to call `setCoords` on an object after centering, to update controls area.\r\n     * @param {fabric.Object} object Object to center vertically\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    centerObjectV: function (object) {\r\n      return this._centerObject(object, new fabric.Point(object.getCenterPoint().x, this.getCenter().top));\r\n    },\r\n\r\n    /**\r\n     * Centers object vertically and horizontally in the canvas\r\n     * You might need to call `setCoords` on an object after centering, to update controls area.\r\n     * @param {fabric.Object} object Object to center vertically and horizontally\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    centerObject: function(object) {\r\n      var center = this.getCenter();\r\n\r\n      return this._centerObject(object, new fabric.Point(center.left, center.top));\r\n    },\r\n\r\n    /**\r\n     * Centers object vertically and horizontally in the viewport\r\n     * You might need to call `setCoords` on an object after centering, to update controls area.\r\n     * @param {fabric.Object} object Object to center vertically and horizontally\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    viewportCenterObject: function(object) {\r\n      var vpCenter = this.getVpCenter();\r\n\r\n      return this._centerObject(object, vpCenter);\r\n    },\r\n\r\n    /**\r\n     * Centers object horizontally in the viewport, object.top is unchanged\r\n     * You might need to call `setCoords` on an object after centering, to update controls area.\r\n     * @param {fabric.Object} object Object to center vertically and horizontally\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    viewportCenterObjectH: function(object) {\r\n      var vpCenter = this.getVpCenter();\r\n      this._centerObject(object, new fabric.Point(vpCenter.x, object.getCenterPoint().y));\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Centers object Vertically in the viewport, object.top is unchanged\r\n     * You might need to call `setCoords` on an object after centering, to update controls area.\r\n     * @param {fabric.Object} object Object to center vertically and horizontally\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    viewportCenterObjectV: function(object) {\r\n      var vpCenter = this.getVpCenter();\r\n\r\n      return this._centerObject(object, new fabric.Point(object.getCenterPoint().x, vpCenter.y));\r\n    },\r\n\r\n    /**\r\n     * Calculate the point in canvas that correspond to the center of actual viewport.\r\n     * @return {fabric.Point} vpCenter, viewport center\r\n     * @chainable\r\n     */\r\n    getVpCenter: function() {\r\n      var center = this.getCenter(),\r\n          iVpt = fabric.util.invertTransform(this.viewportTransform);\r\n      return fabric.util.transformPoint({ x: center.left, y: center.top }, iVpt);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {fabric.Object} object Object to center\r\n     * @param {fabric.Point} center Center point\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    _centerObject: function(object, center) {\r\n      object.setPositionByOrigin(center, 'center', 'center');\r\n      this.renderAll();\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returs dataless JSON representation of canvas\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {String} json string\r\n     */\r\n    toDatalessJSON: function (propertiesToInclude) {\r\n      return this.toDatalessObject(propertiesToInclude);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of canvas\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toObject: function (propertiesToInclude) {\r\n      return this._toObjectMethod('toObject', propertiesToInclude);\r\n    },\r\n\r\n    /**\r\n     * Returns dataless object representation of canvas\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toDatalessObject: function (propertiesToInclude) {\r\n      return this._toObjectMethod('toDatalessObject', propertiesToInclude);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _toObjectMethod: function (methodName, propertiesToInclude) {\r\n\r\n      var data = {\r\n        objects: this._toObjects(methodName, propertiesToInclude)\r\n      };\r\n\r\n      extend(data, this.__serializeBgOverlay(methodName, propertiesToInclude));\r\n\r\n      fabric.util.populateWithProperties(this, data, propertiesToInclude);\r\n\r\n      return data;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _toObjects: function(methodName, propertiesToInclude) {\r\n      return this.getObjects().filter(function(object) {\r\n        return !object.excludeFromExport;\r\n      }).map(function(instance) {\r\n        return this._toObject(instance, methodName, propertiesToInclude);\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _toObject: function(instance, methodName, propertiesToInclude) {\r\n      var originalValue;\r\n\r\n      if (!this.includeDefaultValues) {\r\n        originalValue = instance.includeDefaultValues;\r\n        instance.includeDefaultValues = false;\r\n      }\r\n\r\n      var object = instance[methodName](propertiesToInclude);\r\n      if (!this.includeDefaultValues) {\r\n        instance.includeDefaultValues = originalValue;\r\n      }\r\n      return object;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    __serializeBgOverlay: function(methodName, propertiesToInclude) {\r\n      var data = {\r\n        background: (this.backgroundColor && this.backgroundColor.toObject)\r\n          ? this.backgroundColor.toObject(propertiesToInclude)\r\n          : this.backgroundColor\r\n      };\r\n\r\n      if (this.overlayColor) {\r\n        data.overlay = this.overlayColor.toObject\r\n          ? this.overlayColor.toObject(propertiesToInclude)\r\n          : this.overlayColor;\r\n      }\r\n      if (this.backgroundImage) {\r\n        data.backgroundImage = this._toObject(this.backgroundImage, methodName, propertiesToInclude);\r\n      }\r\n      if (this.overlayImage) {\r\n        data.overlayImage = this._toObject(this.overlayImage, methodName, propertiesToInclude);\r\n      }\r\n\r\n      return data;\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * When true, getSvgTransform() will apply the StaticCanvas.viewportTransform to the SVG transformation. When true,\r\n     * a zoomed canvas will then produce zoomed SVG output.\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    svgViewportTransformation: true,\r\n\r\n    /**\r\n     * Returns SVG representation of canvas\r\n     * @function\r\n     * @param {Object} [options] Options object for SVG output\r\n     * @param {Boolean} [options.suppressPreamble=false] If true xml tag is not included\r\n     * @param {Object} [options.viewBox] SVG viewbox object\r\n     * @param {Number} [options.viewBox.x] x-cooridnate of viewbox\r\n     * @param {Number} [options.viewBox.y] y-coordinate of viewbox\r\n     * @param {Number} [options.viewBox.width] Width of viewbox\r\n     * @param {Number} [options.viewBox.height] Height of viewbox\r\n     * @param {String} [options.encoding=UTF-8] Encoding of SVG output\r\n     * @param {String} [options.width] desired width of svg with or without units\r\n     * @param {String} [options.height] desired height of svg with or without units\r\n     * @param {Function} [reviver] Method for further parsing of svg elements, called after each fabric object converted into svg representation.\r\n     * @return {String} SVG string\r\n     * @tutorial {@link http://fabricjs.com/fabric-intro-part-3#serialization}\r\n     * @see {@link http://jsfiddle.net/fabricjs/jQ3ZZ/|jsFiddle demo}\r\n     * @example <caption>Normal SVG output</caption>\r\n     * var svg = canvas.toSVG();\r\n     * @example <caption>SVG output without preamble (without &lt;?xml ../>)</caption>\r\n     * var svg = canvas.toSVG({suppressPreamble: true});\r\n     * @example <caption>SVG output with viewBox attribute</caption>\r\n     * var svg = canvas.toSVG({\r\n     *   viewBox: {\r\n     *     x: 100,\r\n     *     y: 100,\r\n     *     width: 200,\r\n     *     height: 300\r\n     *   }\r\n     * });\r\n     * @example <caption>SVG output with different encoding (default: UTF-8)</caption>\r\n     * var svg = canvas.toSVG({encoding: 'ISO-8859-1'});\r\n     * @example <caption>Modify SVG output with reviver function</caption>\r\n     * var svg = canvas.toSVG(null, function(svg) {\r\n     *   return svg.replace('stroke-dasharray: ; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; ', '');\r\n     * });\r\n     */\r\n    toSVG: function(options, reviver) {\r\n      options || (options = { });\r\n\r\n      var markup = [];\r\n\r\n      this._setSVGPreamble(markup, options);\r\n      this._setSVGHeader(markup, options);\r\n\r\n      this._setSVGBgOverlayColor(markup, 'backgroundColor');\r\n      this._setSVGBgOverlayImage(markup, 'backgroundImage', reviver);\r\n\r\n      this._setSVGObjects(markup, reviver);\r\n\r\n      this._setSVGBgOverlayColor(markup, 'overlayColor');\r\n      this._setSVGBgOverlayImage(markup, 'overlayImage', reviver);\r\n\r\n      markup.push('</svg>');\r\n\r\n      return markup.join('');\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setSVGPreamble: function(markup, options) {\r\n      if (options.suppressPreamble) {\r\n        return;\r\n      }\r\n      markup.push(\r\n        '<?xml version=\"1.0\" encoding=\"', (options.encoding || 'UTF-8'), '\" standalone=\"no\" ?>\\n',\r\n          '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" ',\r\n            '\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n'\r\n      );\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setSVGHeader: function(markup, options) {\r\n      var width = options.width || this.width,\r\n          height = options.height || this.height,\r\n          vpt, viewBox = 'viewBox=\"0 0 ' + this.width + ' ' + this.height + '\" ',\r\n          NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS;\r\n\r\n      if (options.viewBox) {\r\n        viewBox = 'viewBox=\"' +\r\n                options.viewBox.x + ' ' +\r\n                options.viewBox.y + ' ' +\r\n                options.viewBox.width + ' ' +\r\n                options.viewBox.height + '\" ';\r\n      }\r\n      else {\r\n        if (this.svgViewportTransformation) {\r\n          vpt = this.viewportTransform;\r\n          viewBox = 'viewBox=\"' +\r\n                  toFixed(-vpt[4] / vpt[0], NUM_FRACTION_DIGITS) + ' ' +\r\n                  toFixed(-vpt[5] / vpt[3], NUM_FRACTION_DIGITS) + ' ' +\r\n                  toFixed(this.width / vpt[0], NUM_FRACTION_DIGITS) + ' ' +\r\n                  toFixed(this.height / vpt[3], NUM_FRACTION_DIGITS) + '\" ';\r\n        }\r\n      }\r\n\r\n      markup.push(\r\n        '<svg ',\r\n          'xmlns=\"http://www.w3.org/2000/svg\" ',\r\n          'xmlns:xlink=\"http://www.w3.org/1999/xlink\" ',\r\n          'version=\"1.1\" ',\r\n          'width=\"', width, '\" ',\r\n          'height=\"', height, '\" ',\r\n          (this.backgroundColor && !this.backgroundColor.toLive\r\n            ? 'style=\"background-color: ' + this.backgroundColor + '\" '\r\n            : null),\r\n          viewBox,\r\n          'xml:space=\"preserve\">\\n',\r\n        '<desc>Created with Fabric.js ', fabric.version, '</desc>\\n',\r\n        '<defs>',\r\n          fabric.createSVGFontFacesMarkup(this.getObjects()),\r\n          fabric.createSVGRefElementsMarkup(this),\r\n        '</defs>\\n'\r\n      );\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setSVGObjects: function(markup, reviver) {\r\n      var instance;\r\n      for (var i = 0, objects = this.getObjects(), len = objects.length; i < len; i++) {\r\n        instance = objects[i];\r\n        if (instance.excludeFromExport) {\r\n          continue;\r\n        }\r\n        this._setSVGObject(markup, instance, reviver);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * push single object svg representation in the markup\r\n     * @private\r\n     */\r\n    _setSVGObject: function(markup, instance, reviver) {\r\n      markup.push(instance.toSVG(reviver));\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setSVGBgOverlayImage: function(markup, property, reviver) {\r\n      if (this[property] && this[property].toSVG) {\r\n        markup.push(this[property].toSVG(reviver));\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setSVGBgOverlayColor: function(markup, property) {\r\n      if (this[property] && this[property].source) {\r\n        markup.push(\r\n          '<rect x=\"', this[property].offsetX, '\" y=\"', this[property].offsetY, '\" ',\r\n            'width=\"',\r\n              (this[property].repeat === 'repeat-y' || this[property].repeat === 'no-repeat'\r\n                ? this[property].source.width\r\n                : this.width),\r\n            '\" height=\"',\r\n              (this[property].repeat === 'repeat-x' || this[property].repeat === 'no-repeat'\r\n                ? this[property].source.height\r\n                : this.height),\r\n            '\" fill=\"url(#' + property + 'Pattern)\"',\r\n          '></rect>\\n'\r\n        );\r\n      }\r\n      else if (this[property] && property === 'overlayColor') {\r\n        markup.push(\r\n          '<rect x=\"0\" y=\"0\" ',\r\n            'width=\"', this.width,\r\n            '\" height=\"', this.height,\r\n            '\" fill=\"', this[property], '\"',\r\n          '></rect>\\n'\r\n        );\r\n      }\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * Moves an object or the objects of a multiple selection\r\n     * to the bottom of the stack of drawn objects\r\n     * @param {fabric.Object} object Object to send to back\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    sendToBack: function (object) {\r\n      if (!object) {\r\n        return this;\r\n      }\r\n      var activeGroup = this._activeGroup,\r\n          i, obj, objs;\r\n      if (object === activeGroup) {\r\n        objs = activeGroup._objects;\r\n        for (i = objs.length; i--;) {\r\n          obj = objs[i];\r\n          removeFromArray(this._objects, obj);\r\n          this._objects.unshift(obj);\r\n        }\r\n      }\r\n      else {\r\n        removeFromArray(this._objects, object);\r\n        this._objects.unshift(object);\r\n      }\r\n      return this.renderAll && this.renderAll();\r\n    },\r\n\r\n    /**\r\n     * Moves an object or the objects of a multiple selection\r\n     * to the top of the stack of drawn objects\r\n     * @param {fabric.Object} object Object to send\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    bringToFront: function (object) {\r\n      if (!object) {\r\n        return this;\r\n      }\r\n      var activeGroup = this._activeGroup,\r\n          i, obj, objs;\r\n      if (object === activeGroup) {\r\n        objs = activeGroup._objects;\r\n        for (i = 0; i < objs.length; i++) {\r\n          obj = objs[i];\r\n          removeFromArray(this._objects, obj);\r\n          this._objects.push(obj);\r\n        }\r\n      }\r\n      else {\r\n        removeFromArray(this._objects, object);\r\n        this._objects.push(object);\r\n      }\r\n      return this.renderAll && this.renderAll();\r\n    },\r\n\r\n    /**\r\n     * Moves an object or a selection down in stack of drawn objects\r\n     * @param {fabric.Object} object Object to send\r\n     * @param {Boolean} [intersecting] If `true`, send object behind next lower intersecting object\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    sendBackwards: function (object, intersecting) {\r\n      if (!object) {\r\n        return this;\r\n      }\r\n      var activeGroup = this._activeGroup,\r\n          i, obj, idx, newIdx, objs;\r\n\r\n      if (object === activeGroup) {\r\n        objs = activeGroup._objects;\r\n        for (i = 0; i < objs.length; i++) {\r\n          obj = objs[i];\r\n          idx = this._objects.indexOf(obj);\r\n          if (idx !== 0) {\r\n            newIdx = idx - 1;\r\n            removeFromArray(this._objects, obj);\r\n            this._objects.splice(newIdx, 0, obj);\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        idx = this._objects.indexOf(object);\r\n        if (idx !== 0) {\r\n          // if object is not on the bottom of stack\r\n          newIdx = this._findNewLowerIndex(object, idx, intersecting);\r\n          removeFromArray(this._objects, object);\r\n          this._objects.splice(newIdx, 0, object);\r\n        }\r\n      }\r\n      this.renderAll && this.renderAll();\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _findNewLowerIndex: function(object, idx, intersecting) {\r\n      var newIdx;\r\n\r\n      if (intersecting) {\r\n        newIdx = idx;\r\n\r\n        // traverse down the stack looking for the nearest intersecting object\r\n        for (var i = idx - 1; i >= 0; --i) {\r\n\r\n          var isIntersecting = object.intersectsWithObject(this._objects[i]) ||\r\n                               object.isContainedWithinObject(this._objects[i]) ||\r\n                               this._objects[i].isContainedWithinObject(object);\r\n\r\n          if (isIntersecting) {\r\n            newIdx = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        newIdx = idx - 1;\r\n      }\r\n\r\n      return newIdx;\r\n    },\r\n\r\n    /**\r\n     * Moves an object or a selection up in stack of drawn objects\r\n     * @param {fabric.Object} object Object to send\r\n     * @param {Boolean} [intersecting] If `true`, send object in front of next upper intersecting object\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    bringForward: function (object, intersecting) {\r\n      if (!object) {\r\n        return this;\r\n      }\r\n      var activeGroup = this._activeGroup,\r\n          i, obj, idx, newIdx, objs;\r\n\r\n      if (object === activeGroup) {\r\n        objs = activeGroup._objects;\r\n        for (i = objs.length; i--;) {\r\n          obj = objs[i];\r\n          idx = this._objects.indexOf(obj);\r\n          if (idx !== this._objects.length - 1) {\r\n            newIdx = idx + 1;\r\n            removeFromArray(this._objects, obj);\r\n            this._objects.splice(newIdx, 0, obj);\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        idx = this._objects.indexOf(object);\r\n        if (idx !== this._objects.length - 1) {\r\n          // if object is not on top of stack (last item in an array)\r\n          newIdx = this._findNewUpperIndex(object, idx, intersecting);\r\n          removeFromArray(this._objects, object);\r\n          this._objects.splice(newIdx, 0, object);\r\n        }\r\n      }\r\n      this.renderAll && this.renderAll();\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _findNewUpperIndex: function(object, idx, intersecting) {\r\n      var newIdx;\r\n\r\n      if (intersecting) {\r\n        newIdx = idx;\r\n\r\n        // traverse up the stack looking for the nearest intersecting object\r\n        for (var i = idx + 1; i < this._objects.length; ++i) {\r\n\r\n          var isIntersecting = object.intersectsWithObject(this._objects[i]) ||\r\n                               object.isContainedWithinObject(this._objects[i]) ||\r\n                               this._objects[i].isContainedWithinObject(object);\r\n\r\n          if (isIntersecting) {\r\n            newIdx = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        newIdx = idx + 1;\r\n      }\r\n\r\n      return newIdx;\r\n    },\r\n\r\n    /**\r\n     * Moves an object to specified level in stack of drawn objects\r\n     * @param {fabric.Object} object Object to send\r\n     * @param {Number} index Position to move to\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    moveTo: function (object, index) {\r\n      removeFromArray(this._objects, object);\r\n      this._objects.splice(index, 0, object);\r\n      return this.renderAll && this.renderAll();\r\n    },\r\n\r\n    /**\r\n     * Clears a canvas element and removes all event listeners\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    dispose: function () {\r\n      this.clear();\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returns a string representation of an instance\r\n     * @return {String} string representation of an instance\r\n     */\r\n    toString: function () {\r\n      return '#<fabric.Canvas (' + this.complexity() + '): ' +\r\n               '{ objects: ' + this.getObjects().length + ' }>';\r\n    }\r\n  });\r\n\r\n  extend(fabric.StaticCanvas.prototype, fabric.Observable);\r\n  extend(fabric.StaticCanvas.prototype, fabric.Collection);\r\n  extend(fabric.StaticCanvas.prototype, fabric.DataURLExporter);\r\n\r\n  extend(fabric.StaticCanvas, /** @lends fabric.StaticCanvas */ {\r\n\r\n    /**\r\n     * @static\r\n     * @type String\r\n     * @default\r\n     */\r\n    EMPTY_JSON: '{\"objects\": [], \"background\": \"white\"}',\r\n\r\n    /**\r\n     * Provides a way to check support of some of the canvas methods\r\n     * (either those of HTMLCanvasElement itself, or rendering context)\r\n     *\r\n     * @param {String} methodName Method to check support for;\r\n     *                            Could be one of \"getImageData\", \"toDataURL\", \"toDataURLWithQuality\" or \"setLineDash\"\r\n     * @return {Boolean | null} `true` if method is supported (or at least exists),\r\n     *                          `null` if canvas element or context can not be initialized\r\n     */\r\n    supports: function (methodName) {\r\n      var el = fabric.util.createCanvasElement();\r\n\r\n      if (!el || !el.getContext) {\r\n        return null;\r\n      }\r\n\r\n      var ctx = el.getContext('2d');\r\n      if (!ctx) {\r\n        return null;\r\n      }\r\n\r\n      switch (methodName) {\r\n\r\n        case 'getImageData':\r\n          return typeof ctx.getImageData !== 'undefined';\r\n\r\n        case 'setLineDash':\r\n          return typeof ctx.setLineDash !== 'undefined';\r\n\r\n        case 'toDataURL':\r\n          return typeof el.toDataURL !== 'undefined';\r\n\r\n        case 'toDataURLWithQuality':\r\n          try {\r\n            el.toDataURL('image/jpeg', 0);\r\n            return true;\r\n          }\r\n          catch (e) { }\r\n          return false;\r\n\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns JSON representation of canvas\r\n   * @function\r\n   * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n   * @return {String} JSON string\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-3#serialization}\r\n   * @see {@link http://jsfiddle.net/fabricjs/pec86/|jsFiddle demo}\r\n   * @example <caption>JSON without additional properties</caption>\r\n   * var json = canvas.toJSON();\r\n   * @example <caption>JSON with additional properties included</caption>\r\n   * var json = canvas.toJSON(['lockMovementX', 'lockMovementY', 'lockRotation', 'lockScalingX', 'lockScalingY', 'lockUniScaling']);\r\n   * @example <caption>JSON without default values</caption>\r\n   * canvas.includeDefaultValues = false;\r\n   * var json = canvas.toJSON();\r\n   */\r\n  fabric.StaticCanvas.prototype.toJSON = fabric.StaticCanvas.prototype.toObject;\r\n\r\n})();\r\n\r\n\r\n/**\r\n * BaseBrush class\r\n * @class fabric.BaseBrush\r\n * @see {@link http://fabricjs.com/freedrawing|Freedrawing demo}\r\n */\r\nfabric.BaseBrush = fabric.util.createClass(/** @lends fabric.BaseBrush.prototype */ {\r\n\r\n  /**\r\n   * Color of a brush\r\n   * @type String\r\n   * @default\r\n   */\r\n  color: 'rgb(0, 0, 0)',\r\n\r\n  /**\r\n   * Width of a brush\r\n   * @type Number\r\n   * @default\r\n   */\r\n  width: 1,\r\n\r\n  /**\r\n   * Shadow object representing shadow of this shape.\r\n   * <b>Backwards incompatibility note:</b> This property replaces \"shadowColor\" (String), \"shadowOffsetX\" (Number),\r\n   * \"shadowOffsetY\" (Number) and \"shadowBlur\" (Number) since v1.2.12\r\n   * @type fabric.Shadow\r\n   * @default\r\n   */\r\n  shadow: null,\r\n\r\n  /**\r\n   * Line endings style of a brush (one of \"butt\", \"round\", \"square\")\r\n   * @type String\r\n   * @default\r\n   */\r\n  strokeLineCap: 'round',\r\n\r\n  /**\r\n   * Corner style of a brush (one of \"bevil\", \"round\", \"miter\")\r\n   * @type String\r\n   * @default\r\n   */\r\n  strokeLineJoin: 'round',\r\n\r\n  /**\r\n   * Stroke Dash Array.\r\n   * @type Array\r\n   * @default\r\n   */\r\n  strokeDashArray: null,\r\n\r\n  /**\r\n   * Sets shadow of an object\r\n   * @param {Object|String} [options] Options object or string (e.g. \"2px 2px 10px rgba(0,0,0,0.2)\")\r\n   * @return {fabric.Object} thisArg\r\n   * @chainable\r\n   */\r\n  setShadow: function(options) {\r\n    this.shadow = new fabric.Shadow(options);\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Sets brush styles\r\n   * @private\r\n   */\r\n  _setBrushStyles: function() {\r\n    var ctx = this.canvas.contextTop;\r\n\r\n    ctx.strokeStyle = this.color;\r\n    ctx.lineWidth = this.width;\r\n    ctx.lineCap = this.strokeLineCap;\r\n    ctx.lineJoin = this.strokeLineJoin;\r\n    if (this.strokeDashArray && fabric.StaticCanvas.supports('setLineDash')) {\r\n      ctx.setLineDash(this.strokeDashArray);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Sets brush shadow styles\r\n   * @private\r\n   */\r\n  _setShadow: function() {\r\n    if (!this.shadow) {\r\n      return;\r\n    }\r\n\r\n    var ctx = this.canvas.contextTop,\r\n        zoom = this.canvas.getZoom();\r\n\r\n    ctx.shadowColor = this.shadow.color;\r\n    ctx.shadowBlur = this.shadow.blur * zoom;\r\n    ctx.shadowOffsetX = this.shadow.offsetX * zoom;\r\n    ctx.shadowOffsetY = this.shadow.offsetY * zoom;\r\n  },\r\n\r\n  /**\r\n   * Removes brush shadow styles\r\n   * @private\r\n   */\r\n  _resetShadow: function() {\r\n    var ctx = this.canvas.contextTop;\r\n\r\n    ctx.shadowColor = '';\r\n    ctx.shadowBlur = ctx.shadowOffsetX = ctx.shadowOffsetY = 0;\r\n  }\r\n});\r\n\r\n\r\n(function() {\r\n\r\n  /**\r\n   * PencilBrush class\r\n   * @class fabric.PencilBrush\r\n   * @extends fabric.BaseBrush\r\n   */\r\n  fabric.PencilBrush = fabric.util.createClass(fabric.BaseBrush, /** @lends fabric.PencilBrush.prototype */ {\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {fabric.Canvas} canvas\r\n     * @return {fabric.PencilBrush} Instance of a pencil brush\r\n     */\r\n    initialize: function(canvas) {\r\n      this.canvas = canvas;\r\n      this._points = [];\r\n    },\r\n\r\n    /**\r\n     * Inovoked on mouse down\r\n     * @param {Object} pointer\r\n     */\r\n    onMouseDown: function(pointer) {\r\n      this._prepareForDrawing(pointer);\r\n      // capture coordinates immediately\r\n      // this allows to draw dots (when movement never occurs)\r\n      this._captureDrawingPath(pointer);\r\n      this._render();\r\n    },\r\n\r\n    /**\r\n     * Inovoked on mouse move\r\n     * @param {Object} pointer\r\n     */\r\n    onMouseMove: function(pointer) {\r\n      this._captureDrawingPath(pointer);\r\n      // redraw curve\r\n      // clear top canvas\r\n      this.canvas.clearContext(this.canvas.contextTop);\r\n      this._render();\r\n    },\r\n\r\n    /**\r\n     * Invoked on mouse up\r\n     */\r\n    onMouseUp: function() {\r\n      this._finalizeAndAddPath();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} pointer Actual mouse position related to the canvas.\r\n     */\r\n    _prepareForDrawing: function(pointer) {\r\n\r\n      var p = new fabric.Point(pointer.x, pointer.y);\r\n\r\n      this._reset();\r\n      this._addPoint(p);\r\n\r\n      this.canvas.contextTop.moveTo(p.x, p.y);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {fabric.Point} point Point to be added to points array\r\n     */\r\n    _addPoint: function(point) {\r\n      this._points.push(point);\r\n    },\r\n\r\n    /**\r\n     * Clear points array and set contextTop canvas style.\r\n     * @private\r\n     */\r\n    _reset: function() {\r\n      this._points.length = 0;\r\n\r\n      this._setBrushStyles();\r\n      this._setShadow();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} pointer Actual mouse position related to the canvas.\r\n     */\r\n    _captureDrawingPath: function(pointer) {\r\n      var pointerPoint = new fabric.Point(pointer.x, pointer.y);\r\n      this._addPoint(pointerPoint);\r\n    },\r\n\r\n    /**\r\n     * Draw a smooth path on the topCanvas using quadraticCurveTo\r\n     * @private\r\n     */\r\n    _render: function() {\r\n      var ctx  = this.canvas.contextTop,\r\n          v = this.canvas.viewportTransform,\r\n          p1 = this._points[0],\r\n          p2 = this._points[1];\r\n\r\n      ctx.save();\r\n      ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\r\n      ctx.beginPath();\r\n\r\n      //if we only have 2 points in the path and they are the same\r\n      //it means that the user only clicked the canvas without moving the mouse\r\n      //then we should be drawing a dot. A path isn't drawn between two identical dots\r\n      //that's why we set them apart a bit\r\n      if (this._points.length === 2 && p1.x === p2.x && p1.y === p2.y) {\r\n        p1.x -= 0.5;\r\n        p2.x += 0.5;\r\n      }\r\n      ctx.moveTo(p1.x, p1.y);\r\n\r\n      for (var i = 1, len = this._points.length; i < len; i++) {\r\n        // we pick the point between pi + 1 & pi + 2 as the\r\n        // end point and p1 as our control point.\r\n        var midPoint = p1.midPointFrom(p2);\r\n        ctx.quadraticCurveTo(p1.x, p1.y, midPoint.x, midPoint.y);\r\n\r\n        p1 = this._points[i];\r\n        p2 = this._points[i + 1];\r\n      }\r\n      // Draw last line as a straight line while\r\n      // we wait for the next point to be able to calculate\r\n      // the bezier control point\r\n      ctx.lineTo(p1.x, p1.y);\r\n      ctx.stroke();\r\n      ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * Converts points to SVG path\r\n     * @param {Array} points Array of points\r\n     * @return {String} SVG path\r\n     */\r\n    convertPointsToSVGPath: function(points) {\r\n      var path = [],\r\n          p1 = new fabric.Point(points[0].x, points[0].y),\r\n          p2 = new fabric.Point(points[1].x, points[1].y);\r\n\r\n      path.push('M ', points[0].x, ' ', points[0].y, ' ');\r\n      for (var i = 1, len = points.length; i < len; i++) {\r\n        var midPoint = p1.midPointFrom(p2);\r\n        // p1 is our bezier control point\r\n        // midpoint is our endpoint\r\n        // start point is p(i-1) value.\r\n        path.push('Q ', p1.x, ' ', p1.y, ' ', midPoint.x, ' ', midPoint.y, ' ');\r\n        p1 = new fabric.Point(points[i].x, points[i].y);\r\n        if ((i + 1) < points.length) {\r\n          p2 = new fabric.Point(points[i + 1].x, points[i + 1].y);\r\n        }\r\n      }\r\n      path.push('L ', p1.x, ' ', p1.y, ' ');\r\n      return path;\r\n    },\r\n\r\n    /**\r\n     * Creates fabric.Path object to add on canvas\r\n     * @param {String} pathData Path data\r\n     * @return {fabric.Path} Path to add on canvas\r\n     */\r\n    createPath: function(pathData) {\r\n      var path = new fabric.Path(pathData, {\r\n        fill: null,\r\n        stroke: this.color,\r\n        strokeWidth: this.width,\r\n        strokeLineCap: this.strokeLineCap,\r\n        strokeLineJoin: this.strokeLineJoin,\r\n        strokeDashArray: this.strokeDashArray,\r\n        originX: 'center',\r\n        originY: 'center'\r\n      });\r\n\r\n      if (this.shadow) {\r\n        this.shadow.affectStroke = true;\r\n        path.setShadow(this.shadow);\r\n      }\r\n\r\n      return path;\r\n    },\r\n\r\n    /**\r\n     * On mouseup after drawing the path on contextTop canvas\r\n     * we use the points captured to create an new fabric path object\r\n     * and add it to the fabric canvas.\r\n     */\r\n    _finalizeAndAddPath: function() {\r\n      var ctx = this.canvas.contextTop;\r\n      ctx.closePath();\r\n\r\n      var pathData = this.convertPointsToSVGPath(this._points).join('');\r\n      if (pathData === 'M 0 0 Q 0 0 0 0 L 0 0') {\r\n        // do not create 0 width/height paths, as they are\r\n        // rendered inconsistently across browsers\r\n        // Firefox 4, for example, renders a dot,\r\n        // whereas Chrome 10 renders nothing\r\n        this.canvas.renderAll();\r\n        return;\r\n      }\r\n\r\n      var path = this.createPath(pathData);\r\n\r\n      this.canvas.add(path);\r\n      path.setCoords();\r\n\r\n      this.canvas.clearContext(this.canvas.contextTop);\r\n      this._resetShadow();\r\n      this.canvas.renderAll();\r\n\r\n      // fire event 'path' created\r\n      this.canvas.fire('path:created', { path: path });\r\n    }\r\n  });\r\n})();\r\n\r\n\r\n/**\r\n * CircleBrush class\r\n * @class fabric.CircleBrush\r\n */\r\nfabric.CircleBrush = fabric.util.createClass(fabric.BaseBrush, /** @lends fabric.CircleBrush.prototype */ {\r\n\r\n  /**\r\n   * Width of a brush\r\n   * @type Number\r\n   * @default\r\n   */\r\n  width: 10,\r\n\r\n  /**\r\n   * Constructor\r\n   * @param {fabric.Canvas} canvas\r\n   * @return {fabric.CircleBrush} Instance of a circle brush\r\n   */\r\n  initialize: function(canvas) {\r\n    this.canvas = canvas;\r\n    this.points = [];\r\n  },\r\n\r\n  /**\r\n   * Invoked inside on mouse down and mouse move\r\n   * @param {Object} pointer\r\n   */\r\n  drawDot: function(pointer) {\r\n    var point = this.addPoint(pointer),\r\n        ctx = this.canvas.contextTop,\r\n        v = this.canvas.viewportTransform;\r\n    ctx.save();\r\n    ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\r\n\r\n    ctx.fillStyle = point.fill;\r\n    ctx.beginPath();\r\n    ctx.arc(point.x, point.y, point.radius, 0, Math.PI * 2, false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.restore();\r\n  },\r\n\r\n  /**\r\n   * Invoked on mouse down\r\n   */\r\n  onMouseDown: function(pointer) {\r\n    this.points.length = 0;\r\n    this.canvas.clearContext(this.canvas.contextTop);\r\n    this._setShadow();\r\n    this.drawDot(pointer);\r\n  },\r\n\r\n  /**\r\n   * Invoked on mouse move\r\n   * @param {Object} pointer\r\n   */\r\n  onMouseMove: function(pointer) {\r\n    this.drawDot(pointer);\r\n  },\r\n\r\n  /**\r\n   * Invoked on mouse up\r\n   */\r\n  onMouseUp: function() {\r\n    var originalRenderOnAddRemove = this.canvas.renderOnAddRemove;\r\n    this.canvas.renderOnAddRemove = false;\r\n\r\n    var circles = [];\r\n\r\n    for (var i = 0, len = this.points.length; i < len; i++) {\r\n      var point = this.points[i],\r\n          circle = new fabric.Circle({\r\n            radius: point.radius,\r\n            left: point.x,\r\n            top: point.y,\r\n            originX: 'center',\r\n            originY: 'center',\r\n            fill: point.fill\r\n          });\r\n\r\n      this.shadow && circle.setShadow(this.shadow);\r\n\r\n      circles.push(circle);\r\n    }\r\n    var group = new fabric.Group(circles, { originX: 'center', originY: 'center' });\r\n    group.canvas = this.canvas;\r\n\r\n    this.canvas.add(group);\r\n    this.canvas.fire('path:created', { path: group });\r\n\r\n    this.canvas.clearContext(this.canvas.contextTop);\r\n    this._resetShadow();\r\n    this.canvas.renderOnAddRemove = originalRenderOnAddRemove;\r\n    this.canvas.renderAll();\r\n  },\r\n\r\n  /**\r\n   * @param {Object} pointer\r\n   * @return {fabric.Point} Just added pointer point\r\n   */\r\n  addPoint: function(pointer) {\r\n    var pointerPoint = new fabric.Point(pointer.x, pointer.y),\r\n\r\n        circleRadius = fabric.util.getRandomInt(\r\n                        Math.max(0, this.width - 20), this.width + 20) / 2,\r\n\r\n        circleColor = new fabric.Color(this.color)\r\n                        .setAlpha(fabric.util.getRandomInt(0, 100) / 100)\r\n                        .toRgba();\r\n\r\n    pointerPoint.radius = circleRadius;\r\n    pointerPoint.fill = circleColor;\r\n\r\n    this.points.push(pointerPoint);\r\n\r\n    return pointerPoint;\r\n  }\r\n});\r\n\r\n\r\n/**\r\n * SprayBrush class\r\n * @class fabric.SprayBrush\r\n */\r\nfabric.SprayBrush = fabric.util.createClass( fabric.BaseBrush, /** @lends fabric.SprayBrush.prototype */ {\r\n\r\n  /**\r\n   * Width of a spray\r\n   * @type Number\r\n   * @default\r\n   */\r\n  width:              10,\r\n\r\n  /**\r\n   * Density of a spray (number of dots per chunk)\r\n   * @type Number\r\n   * @default\r\n   */\r\n  density:            20,\r\n\r\n  /**\r\n   * Width of spray dots\r\n   * @type Number\r\n   * @default\r\n   */\r\n  dotWidth:           1,\r\n\r\n  /**\r\n   * Width variance of spray dots\r\n   * @type Number\r\n   * @default\r\n   */\r\n  dotWidthVariance:   1,\r\n\r\n  /**\r\n   * Whether opacity of a dot should be random\r\n   * @type Boolean\r\n   * @default\r\n   */\r\n  randomOpacity:        false,\r\n\r\n  /**\r\n   * Whether overlapping dots (rectangles) should be removed (for performance reasons)\r\n   * @type Boolean\r\n   * @default\r\n   */\r\n  optimizeOverlapping:  true,\r\n\r\n  /**\r\n   * Constructor\r\n   * @param {fabric.Canvas} canvas\r\n   * @return {fabric.SprayBrush} Instance of a spray brush\r\n   */\r\n  initialize: function(canvas) {\r\n    this.canvas = canvas;\r\n    this.sprayChunks = [];\r\n  },\r\n\r\n  /**\r\n   * Invoked on mouse down\r\n   * @param {Object} pointer\r\n   */\r\n  onMouseDown: function(pointer) {\r\n    this.sprayChunks.length = 0;\r\n    this.canvas.clearContext(this.canvas.contextTop);\r\n    this._setShadow();\r\n\r\n    this.addSprayChunk(pointer);\r\n    this.render();\r\n  },\r\n\r\n  /**\r\n   * Invoked on mouse move\r\n   * @param {Object} pointer\r\n   */\r\n  onMouseMove: function(pointer) {\r\n    this.addSprayChunk(pointer);\r\n    this.render();\r\n  },\r\n\r\n  /**\r\n   * Invoked on mouse up\r\n   */\r\n  onMouseUp: function() {\r\n    var originalRenderOnAddRemove = this.canvas.renderOnAddRemove;\r\n    this.canvas.renderOnAddRemove = false;\r\n\r\n    var rects = [];\r\n\r\n    for (var i = 0, ilen = this.sprayChunks.length; i < ilen; i++) {\r\n      var sprayChunk = this.sprayChunks[i];\r\n\r\n      for (var j = 0, jlen = sprayChunk.length; j < jlen; j++) {\r\n\r\n        var rect = new fabric.Rect({\r\n          width: sprayChunk[j].width,\r\n          height: sprayChunk[j].width,\r\n          left: sprayChunk[j].x + 1,\r\n          top: sprayChunk[j].y + 1,\r\n          originX: 'center',\r\n          originY: 'center',\r\n          fill: this.color\r\n        });\r\n\r\n        this.shadow && rect.setShadow(this.shadow);\r\n        rects.push(rect);\r\n      }\r\n    }\r\n\r\n    if (this.optimizeOverlapping) {\r\n      rects = this._getOptimizedRects(rects);\r\n    }\r\n\r\n    var group = new fabric.Group(rects, { originX: 'center', originY: 'center' });\r\n    group.canvas = this.canvas;\r\n\r\n    this.canvas.add(group);\r\n    this.canvas.fire('path:created', { path: group });\r\n\r\n    this.canvas.clearContext(this.canvas.contextTop);\r\n    this._resetShadow();\r\n    this.canvas.renderOnAddRemove = originalRenderOnAddRemove;\r\n    this.canvas.renderAll();\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   * @param {Array} rects\r\n   */\r\n  _getOptimizedRects: function(rects) {\r\n\r\n    // avoid creating duplicate rects at the same coordinates\r\n    var uniqueRects = { }, key;\r\n\r\n    for (var i = 0, len = rects.length; i < len; i++) {\r\n      key = rects[i].left + '' + rects[i].top;\r\n      if (!uniqueRects[key]) {\r\n        uniqueRects[key] = rects[i];\r\n      }\r\n    }\r\n    var uniqueRectsArray = [];\r\n    for (key in uniqueRects) {\r\n      uniqueRectsArray.push(uniqueRects[key]);\r\n    }\r\n\r\n    return uniqueRectsArray;\r\n  },\r\n\r\n  /**\r\n   * Renders brush\r\n   */\r\n  render: function() {\r\n    var ctx = this.canvas.contextTop;\r\n    ctx.fillStyle = this.color;\r\n\r\n    var v = this.canvas.viewportTransform;\r\n    ctx.save();\r\n    ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\r\n\r\n    for (var i = 0, len = this.sprayChunkPoints.length; i < len; i++) {\r\n      var point = this.sprayChunkPoints[i];\r\n      if (typeof point.opacity !== 'undefined') {\r\n        ctx.globalAlpha = point.opacity;\r\n      }\r\n      ctx.fillRect(point.x, point.y, point.width, point.width);\r\n    }\r\n    ctx.restore();\r\n  },\r\n\r\n  /**\r\n   * @param {Object} pointer\r\n   */\r\n  addSprayChunk: function(pointer) {\r\n    this.sprayChunkPoints = [];\r\n\r\n    var x, y, width, radius = this.width / 2;\r\n\r\n    for (var i = 0; i < this.density; i++) {\r\n\r\n      x = fabric.util.getRandomInt(pointer.x - radius, pointer.x + radius);\r\n      y = fabric.util.getRandomInt(pointer.y - radius, pointer.y + radius);\r\n\r\n      if (this.dotWidthVariance) {\r\n        width = fabric.util.getRandomInt(\r\n          // bottom clamp width to 1\r\n          Math.max(1, this.dotWidth - this.dotWidthVariance),\r\n          this.dotWidth + this.dotWidthVariance);\r\n      }\r\n      else {\r\n        width = this.dotWidth;\r\n      }\r\n\r\n      var point = new fabric.Point(x, y);\r\n      point.width = width;\r\n\r\n      if (this.randomOpacity) {\r\n        point.opacity = fabric.util.getRandomInt(0, 100) / 100;\r\n      }\r\n\r\n      this.sprayChunkPoints.push(point);\r\n    }\r\n\r\n    this.sprayChunks.push(this.sprayChunkPoints);\r\n  }\r\n});\r\n\r\n\r\n/**\r\n * PatternBrush class\r\n * @class fabric.PatternBrush\r\n * @extends fabric.BaseBrush\r\n */\r\nfabric.PatternBrush = fabric.util.createClass(fabric.PencilBrush, /** @lends fabric.PatternBrush.prototype */ {\r\n\r\n  getPatternSrc: function() {\r\n\r\n    var dotWidth = 20,\r\n        dotDistance = 5,\r\n        patternCanvas = fabric.document.createElement('canvas'),\r\n        patternCtx = patternCanvas.getContext('2d');\r\n\r\n    patternCanvas.width = patternCanvas.height = dotWidth + dotDistance;\r\n\r\n    patternCtx.fillStyle = this.color;\r\n    patternCtx.beginPath();\r\n    patternCtx.arc(dotWidth / 2, dotWidth / 2, dotWidth / 2, 0, Math.PI * 2, false);\r\n    patternCtx.closePath();\r\n    patternCtx.fill();\r\n\r\n    return patternCanvas;\r\n  },\r\n\r\n  getPatternSrcFunction: function() {\r\n    return String(this.getPatternSrc).replace('this.color', '\"' + this.color + '\"');\r\n  },\r\n\r\n  /**\r\n   * Creates \"pattern\" instance property\r\n   */\r\n  getPattern: function() {\r\n    return this.canvas.contextTop.createPattern(this.source || this.getPatternSrc(), 'repeat');\r\n  },\r\n\r\n  /**\r\n   * Sets brush styles\r\n   */\r\n  _setBrushStyles: function() {\r\n    this.callSuper('_setBrushStyles');\r\n    this.canvas.contextTop.strokeStyle = this.getPattern();\r\n  },\r\n\r\n  /**\r\n   * Creates path\r\n   */\r\n  createPath: function(pathData) {\r\n    var path = this.callSuper('createPath', pathData),\r\n        topLeft = path._getLeftTopCoords().scalarAdd(path.strokeWidth / 2);\r\n\r\n    path.stroke = new fabric.Pattern({\r\n      source: this.source || this.getPatternSrcFunction(),\r\n      offsetX: -topLeft.x,\r\n      offsetY: -topLeft.y\r\n    });\r\n    return path;\r\n  }\r\n});\r\n\r\n\r\n(function() {\r\n\r\n  var getPointer = fabric.util.getPointer,\r\n      degreesToRadians = fabric.util.degreesToRadians,\r\n      radiansToDegrees = fabric.util.radiansToDegrees,\r\n      atan2 = Math.atan2,\r\n      abs = Math.abs,\r\n      supportLineDash = fabric.StaticCanvas.supports('setLineDash'),\r\n\r\n      STROKE_OFFSET = 0.5;\r\n\r\n  /**\r\n   * Canvas class\r\n   * @class fabric.Canvas\r\n   * @extends fabric.StaticCanvas\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-1#canvas}\r\n   * @see {@link fabric.Canvas#initialize} for constructor definition\r\n   *\r\n   * @fires object:added\r\n   * @fires object:modified\r\n   * @fires object:rotating\r\n   * @fires object:scaling\r\n   * @fires object:moving\r\n   * @fires object:selected\r\n   *\r\n   * @fires before:selection:cleared\r\n   * @fires selection:cleared\r\n   * @fires selection:created\r\n   *\r\n   * @fires path:created\r\n   * @fires mouse:down\r\n   * @fires mouse:move\r\n   * @fires mouse:up\r\n   * @fires mouse:over\r\n   * @fires mouse:out\r\n   *\r\n   */\r\n  fabric.Canvas = fabric.util.createClass(fabric.StaticCanvas, /** @lends fabric.Canvas.prototype */ {\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {HTMLElement | String} el &lt;canvas> element to initialize instance on\r\n     * @param {Object} [options] Options object\r\n     * @return {Object} thisArg\r\n     */\r\n    initialize: function(el, options) {\r\n      options || (options = { });\r\n\r\n      this._initStatic(el, options);\r\n      this._initInteractive();\r\n      this._createCacheCanvas();\r\n    },\r\n\r\n    /**\r\n     * When true, objects can be transformed by one side (unproportionally)\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    uniScaleTransform:      false,\r\n\r\n    /**\r\n     * Indicates which key enable unproportional scaling\r\n     * values: 'altKey', 'shiftKey', 'ctrlKey'.\r\n     * If `null` or 'none' or any other string that is not a modifier key\r\n     * feature is disabled feature disabled.\r\n     * @since 1.6.2\r\n     * @type String\r\n     * @default\r\n     */\r\n    uniScaleKey:           'shiftKey',\r\n\r\n    /**\r\n     * When true, objects use center point as the origin of scale transformation.\r\n     * <b>Backwards incompatibility note:</b> This property replaces \"centerTransform\" (Boolean).\r\n     * @since 1.3.4\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    centeredScaling:        false,\r\n\r\n    /**\r\n     * When true, objects use center point as the origin of rotate transformation.\r\n     * <b>Backwards incompatibility note:</b> This property replaces \"centerTransform\" (Boolean).\r\n     * @since 1.3.4\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    centeredRotation:       false,\r\n\r\n    /**\r\n     * Indicates which key enable centered Transfrom\r\n     * values: 'altKey', 'shiftKey', 'ctrlKey'.\r\n     * If `null` or 'none' or any other string that is not a modifier key\r\n     * feature is disabled feature disabled.\r\n     * @since 1.6.2\r\n     * @type String\r\n     * @default\r\n     */\r\n    centeredKey:           'altKey',\r\n\r\n    /**\r\n     * Indicates which key enable alternate action on corner\r\n     * values: 'altKey', 'shiftKey', 'ctrlKey'.\r\n     * If `null` or 'none' or any other string that is not a modifier key\r\n     * feature is disabled feature disabled.\r\n     * @since 1.6.2\r\n     * @type String\r\n     * @default\r\n     */\r\n    altActionKey:           'shiftKey',\r\n\r\n    /**\r\n     * Indicates that canvas is interactive. This property should not be changed.\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    interactive:            true,\r\n\r\n    /**\r\n     * Indicates whether group selection should be enabled\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    selection:              true,\r\n\r\n    /**\r\n     * Indicates which key enable multiple click selection\r\n     * values: 'altKey', 'shiftKey', 'ctrlKey'.\r\n     * If `null` or 'none' or any other string that is not a modifier key\r\n     * feature is disabled feature disabled.\r\n     * @since 1.6.2\r\n     * @type String\r\n     * @default\r\n     */\r\n    selectionKey:           'shiftKey',\r\n\r\n    /**\r\n     * Indicates which key enable alternative selection\r\n     * in case of target overlapping with active object\r\n     * values: 'altKey', 'shiftKey', 'ctrlKey'.\r\n     * If `null` or 'none' or any other string that is not a modifier key\r\n     * feature is disabled feature disabled.\r\n     * @since 1.6.5\r\n     * @type null|String\r\n     * @default\r\n     */\r\n    altSelectionKey:           null,\r\n\r\n    /**\r\n     * Color of selection\r\n     * @type String\r\n     * @default\r\n     */\r\n    selectionColor:         'rgba(100, 100, 255, 0.3)', // blue\r\n\r\n    /**\r\n     * Default dash array pattern\r\n     * If not empty the selection border is dashed\r\n     * @type Array\r\n     */\r\n    selectionDashArray:     [],\r\n\r\n    /**\r\n     * Color of the border of selection (usually slightly darker than color of selection itself)\r\n     * @type String\r\n     * @default\r\n     */\r\n    selectionBorderColor:   'rgba(255, 255, 255, 0.3)',\r\n\r\n    /**\r\n     * Width of a line used in object/group selection\r\n     * @type Number\r\n     * @default\r\n     */\r\n    selectionLineWidth:     1,\r\n\r\n    /**\r\n     * Default cursor value used when hovering over an object on canvas\r\n     * @type String\r\n     * @default\r\n     */\r\n    hoverCursor:            'move',\r\n\r\n    /**\r\n     * Default cursor value used when moving an object on canvas\r\n     * @type String\r\n     * @default\r\n     */\r\n    moveCursor:             'move',\r\n\r\n    /**\r\n     * Default cursor value used for the entire canvas\r\n     * @type String\r\n     * @default\r\n     */\r\n    defaultCursor:          'default',\r\n\r\n    /**\r\n     * Cursor value used during free drawing\r\n     * @type String\r\n     * @default\r\n     */\r\n    freeDrawingCursor:      'crosshair',\r\n\r\n    /**\r\n     * Cursor value used for rotation point\r\n     * @type String\r\n     * @default\r\n     */\r\n    rotationCursor:         'crosshair',\r\n\r\n    /**\r\n     * Default element class that's given to wrapper (div) element of canvas\r\n     * @type String\r\n     * @default\r\n     */\r\n    containerClass:         'canvas-container',\r\n\r\n    /**\r\n     * When true, object detection happens on per-pixel basis rather than on per-bounding-box\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    perPixelTargetFind:     false,\r\n\r\n    /**\r\n     * Number of pixels around target pixel to tolerate (consider active) during object detection\r\n     * @type Number\r\n     * @default\r\n     */\r\n    targetFindTolerance:    0,\r\n\r\n    /**\r\n     * When true, target detection is skipped when hovering over canvas. This can be used to improve performance.\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    skipTargetFind:         false,\r\n\r\n    /**\r\n     * When true, mouse events on canvas (mousedown/mousemove/mouseup) result in free drawing.\r\n     * After mousedown, mousemove creates a shape,\r\n     * and then mouseup finalizes it and adds an instance of `fabric.Path` onto canvas.\r\n     * @tutorial {@link http://fabricjs.com/fabric-intro-part-4#free_drawing}\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    isDrawingMode:          false,\r\n\r\n    /**\r\n     * Indicates whether objects should remain in current stack position when selected.\r\n     * When false objects are brought to top and rendered as part of the selection group\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    preserveObjectStacking: false,\r\n\r\n    /**\r\n     * Indicates the angle that an object will lock to while rotating.\r\n     * @type Number\r\n     * @since 1.6.7\r\n     * @default\r\n     */\r\n    snapAngle: 0,\r\n\r\n    /**\r\n     * Indicates the distance from the snapAngle the rotation will lock to the snapAngle.\r\n     * When `null`, the snapThreshold will default to the snapAngle.\r\n     * @type null|Number\r\n     * @since 1.6.7\r\n     * @default\r\n     */\r\n    snapThreshold: null,\r\n\r\n    /**\r\n     * Indicates if the right click on canvas can output the context menu or not\r\n     * @type Boolean\r\n     * @since 1.6.5\r\n     * @default\r\n     */\r\n    stopContextMenu: false,\r\n\r\n    /**\r\n     * Indicates if the canvas can fire right click events\r\n     * @type Boolean\r\n     * @since 1.6.5\r\n     * @default\r\n     */\r\n    fireRightClick: false,\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _initInteractive: function() {\r\n      this._currentTransform = null;\r\n      this._groupSelector = null;\r\n      this._initWrapperElement();\r\n      this._createUpperCanvas();\r\n      this._initEventListeners();\r\n\r\n      this._initRetinaScaling();\r\n\r\n      this.freeDrawingBrush = fabric.PencilBrush && new fabric.PencilBrush(this);\r\n\r\n      this.calcOffset();\r\n    },\r\n\r\n    /**\r\n     * Divides objects in two groups, one to render immediately\r\n     * and one to render as activeGroup.\r\n     * @return {Array} objects to render immediately and pushes the other in the activeGroup.\r\n     */\r\n    _chooseObjectsToRender: function() {\r\n      var activeGroup = this.getActiveGroup(),\r\n          activeObject = this.getActiveObject(),\r\n          object, objsToRender = [], activeGroupObjects = [];\r\n\r\n      if ((activeGroup || activeObject) && !this.preserveObjectStacking) {\r\n        for (var i = 0, length = this._objects.length; i < length; i++) {\r\n          object = this._objects[i];\r\n          if ((!activeGroup || !activeGroup.contains(object)) && object !== activeObject) {\r\n            objsToRender.push(object);\r\n          }\r\n          else {\r\n            activeGroupObjects.push(object);\r\n          }\r\n        }\r\n        if (activeGroup) {\r\n          activeGroup._set('_objects', activeGroupObjects);\r\n          objsToRender.push(activeGroup);\r\n        }\r\n        activeObject && objsToRender.push(activeObject);\r\n      }\r\n      else {\r\n        objsToRender = this._objects;\r\n      }\r\n      return objsToRender;\r\n    },\r\n\r\n    /**\r\n     * Renders both the top canvas and the secondary container canvas.\r\n     * @return {fabric.Canvas} instance\r\n     * @chainable\r\n     */\r\n    renderAll: function () {\r\n      if (this.contextTopDirty && !this._groupSelector && !this.isDrawingMode) {\r\n        this.clearContext(this.contextTop);\r\n        this.contextTopDirty = false;\r\n      }\r\n      var canvasToDrawOn = this.contextContainer;\r\n      this.renderCanvas(canvasToDrawOn, this._chooseObjectsToRender());\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Method to render only the top canvas.\r\n     * Also used to render the group selection box.\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    renderTop: function () {\r\n      var ctx = this.contextTop;\r\n      this.clearContext(ctx);\r\n\r\n      // we render the top context - last object\r\n      if (this.selection && this._groupSelector) {\r\n        this._drawSelection(ctx);\r\n      }\r\n\r\n      this.fire('after:render');\r\n      this.contextTopDirty = true;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Resets the current transform to its original values and chooses the type of resizing based on the event\r\n     * @private\r\n     */\r\n    _resetCurrentTransform: function() {\r\n      var t = this._currentTransform;\r\n\r\n      t.target.set({\r\n        scaleX: t.original.scaleX,\r\n        scaleY: t.original.scaleY,\r\n        skewX: t.original.skewX,\r\n        skewY: t.original.skewY,\r\n        left: t.original.left,\r\n        top: t.original.top\r\n      });\r\n\r\n      if (this._shouldCenterTransform(t.target)) {\r\n        if (t.action === 'rotate') {\r\n          this._setOriginToCenter(t.target);\r\n        }\r\n        else {\r\n          if (t.originX !== 'center') {\r\n            if (t.originX === 'right') {\r\n              t.mouseXSign = -1;\r\n            }\r\n            else {\r\n              t.mouseXSign = 1;\r\n            }\r\n          }\r\n          if (t.originY !== 'center') {\r\n            if (t.originY === 'bottom') {\r\n              t.mouseYSign = -1;\r\n            }\r\n            else {\r\n              t.mouseYSign = 1;\r\n            }\r\n          }\r\n\r\n          t.originX = 'center';\r\n          t.originY = 'center';\r\n        }\r\n      }\r\n      else {\r\n        t.originX = t.original.originX;\r\n        t.originY = t.original.originY;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Checks if point is contained within an area of given object\r\n     * @param {Event} e Event object\r\n     * @param {fabric.Object} target Object to test against\r\n     * @param {Object} [point] x,y object of point coordinates we want to check.\r\n     * @return {Boolean} true if point is contained within an area of given object\r\n     */\r\n    containsPoint: function (e, target, point) {\r\n      var ignoreZoom = true,\r\n          pointer = point || this.getPointer(e, ignoreZoom),\r\n          xy;\r\n\r\n      if (target.group && target.group === this.getActiveGroup()) {\r\n        xy = this._normalizePointer(target.group, pointer);\r\n      }\r\n      else {\r\n        xy = { x: pointer.x, y: pointer.y };\r\n      }\r\n      // http://www.geog.ubc.ca/courses/klink/gis.notes/ncgia/u32.html\r\n      // http://idav.ucdavis.edu/~okreylos/TAship/Spring2000/PointInPolygon.html\r\n      return (target.containsPoint(xy) || target._findTargetCorner(pointer));\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _normalizePointer: function (object, pointer) {\r\n      var m = object.calcTransformMatrix(),\r\n          invertedM = fabric.util.invertTransform(m),\r\n          vptPointer = this.restorePointerVpt(pointer);\r\n      return fabric.util.transformPoint(vptPointer, invertedM);\r\n    },\r\n\r\n    /**\r\n     * Returns true if object is transparent at a certain location\r\n     * @param {fabric.Object} target Object to check\r\n     * @param {Number} x Left coordinate\r\n     * @param {Number} y Top coordinate\r\n     * @return {Boolean}\r\n     */\r\n    isTargetTransparent: function (target, x, y) {\r\n      var hasBorders = target.hasBorders,\r\n          transparentCorners = target.transparentCorners,\r\n          ctx = this.contextCache,\r\n          originalColor = target.selectionBackgroundColor;\r\n\r\n      target.hasBorders = target.transparentCorners = false;\r\n      target.selectionBackgroundColor = '';\r\n\r\n      ctx.save();\r\n      ctx.transform.apply(ctx, this.viewportTransform);\r\n      target.render(ctx);\r\n      ctx.restore();\r\n\r\n      target.active && target._renderControls(ctx);\r\n\r\n      target.hasBorders = hasBorders;\r\n      target.transparentCorners = transparentCorners;\r\n      target.selectionBackgroundColor = originalColor;\r\n\r\n      var isTransparent = fabric.util.isTransparent(\r\n        ctx, x, y, this.targetFindTolerance);\r\n\r\n      this.clearContext(ctx);\r\n\r\n      return isTransparent;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object\r\n     * @param {fabric.Object} target\r\n     */\r\n    _shouldClearSelection: function (e, target) {\r\n      var activeGroup = this.getActiveGroup(),\r\n          activeObject = this.getActiveObject();\r\n\r\n      return (\r\n        !target\r\n        ||\r\n        (target &&\r\n          activeGroup &&\r\n          !activeGroup.contains(target) &&\r\n          activeGroup !== target &&\r\n          !e[this.selectionKey])\r\n        ||\r\n        (target && !target.evented)\r\n        ||\r\n        (target &&\r\n          !target.selectable &&\r\n          activeObject &&\r\n          activeObject !== target)\r\n      );\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {fabric.Object} target\r\n     */\r\n    _shouldCenterTransform: function (target) {\r\n      if (!target) {\r\n        return;\r\n      }\r\n\r\n      var t = this._currentTransform,\r\n          centerTransform;\r\n\r\n      if (t.action === 'scale' || t.action === 'scaleX' || t.action === 'scaleY') {\r\n        centerTransform = this.centeredScaling || target.centeredScaling;\r\n      }\r\n      else if (t.action === 'rotate') {\r\n        centerTransform = this.centeredRotation || target.centeredRotation;\r\n      }\r\n\r\n      return centerTransform ? !t.altKey : t.altKey;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _getOriginFromCorner: function(target, corner) {\r\n      var origin = {\r\n        x: target.originX,\r\n        y: target.originY\r\n      };\r\n\r\n      if (corner === 'ml' || corner === 'tl' || corner === 'bl') {\r\n        origin.x = 'right';\r\n      }\r\n      else if (corner === 'mr' || corner === 'tr' || corner === 'br') {\r\n        origin.x = 'left';\r\n      }\r\n\r\n      if (corner === 'tl' || corner === 'mt' || corner === 'tr') {\r\n        origin.y = 'bottom';\r\n      }\r\n      else if (corner === 'bl' || corner === 'mb' || corner === 'br') {\r\n        origin.y = 'top';\r\n      }\r\n\r\n      return origin;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _getActionFromCorner: function(target, corner, e) {\r\n      if (!corner) {\r\n        return 'drag';\r\n      }\r\n\r\n      switch (corner) {\r\n        case 'mtr':\r\n          return 'rotate';\r\n        case 'ml':\r\n        case 'mr':\r\n          return e[this.altActionKey] ? 'skewY' : 'scaleX';\r\n        case 'mt':\r\n        case 'mb':\r\n          return e[this.altActionKey] ? 'skewX' : 'scaleY';\r\n        default:\r\n          return 'scale';\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object\r\n     * @param {fabric.Object} target\r\n     */\r\n    _setupCurrentTransform: function (e, target) {\r\n      if (!target) {\r\n        return;\r\n      }\r\n\r\n      var pointer = this.getPointer(e),\r\n          corner = target._findTargetCorner(this.getPointer(e, true)),\r\n          action = this._getActionFromCorner(target, corner, e),\r\n          origin = this._getOriginFromCorner(target, corner);\r\n\r\n      this._currentTransform = {\r\n        target: target,\r\n        action: action,\r\n        corner: corner,\r\n        scaleX: target.scaleX,\r\n        scaleY: target.scaleY,\r\n        skewX: target.skewX,\r\n        skewY: target.skewY,\r\n        offsetX: pointer.x - target.left,\r\n        offsetY: pointer.y - target.top,\r\n        originX: origin.x,\r\n        originY: origin.y,\r\n        ex: pointer.x,\r\n        ey: pointer.y,\r\n        lastX: pointer.x,\r\n        lastY: pointer.y,\r\n        left: target.left,\r\n        top: target.top,\r\n        theta: degreesToRadians(target.angle),\r\n        width: target.width * target.scaleX,\r\n        mouseXSign: 1,\r\n        mouseYSign: 1,\r\n        shiftKey: e.shiftKey,\r\n        altKey: e[this.centeredKey]\r\n      };\r\n\r\n      this._currentTransform.original = {\r\n        left: target.left,\r\n        top: target.top,\r\n        scaleX: target.scaleX,\r\n        scaleY: target.scaleY,\r\n        skewX: target.skewX,\r\n        skewY: target.skewY,\r\n        originX: origin.x,\r\n        originY: origin.y\r\n      };\r\n\r\n      this._resetCurrentTransform();\r\n    },\r\n\r\n    /**\r\n     * Translates object by \"setting\" its left/top\r\n     * @private\r\n     * @param {Number} x pointer's x coordinate\r\n     * @param {Number} y pointer's y coordinate\r\n     * @return {Boolean} true if the translation occurred\r\n     */\r\n    _translateObject: function (x, y) {\r\n      var transform = this._currentTransform,\r\n          target = transform.target,\r\n          newLeft = x - transform.offsetX,\r\n          newTop = y - transform.offsetY,\r\n          moveX = !target.get('lockMovementX') && target.left !== newLeft,\r\n          moveY = !target.get('lockMovementY') && target.top !== newTop;\r\n\r\n      moveX && target.set('left', newLeft);\r\n      moveY && target.set('top', newTop);\r\n      return moveX || moveY;\r\n    },\r\n\r\n    /**\r\n     * Check if we are increasing a positive skew or lower it,\r\n     * checking mouse direction and pressed corner.\r\n     * @private\r\n     */\r\n    _changeSkewTransformOrigin: function(mouseMove, t, by) {\r\n      var property = 'originX', origins = { 0: 'center' },\r\n          skew = t.target.skewX, originA = 'left', originB = 'right',\r\n          corner = t.corner === 'mt' || t.corner === 'ml' ? 1 : -1,\r\n          flipSign = 1;\r\n\r\n      mouseMove = mouseMove > 0 ? 1 : -1;\r\n      if (by === 'y') {\r\n        skew = t.target.skewY;\r\n        originA = 'top';\r\n        originB = 'bottom';\r\n        property = 'originY';\r\n      }\r\n      origins[-1] = originA;\r\n      origins[1] = originB;\r\n\r\n      t.target.flipX && (flipSign *= -1);\r\n      t.target.flipY && (flipSign *= -1);\r\n\r\n      if (skew === 0) {\r\n        t.skewSign = -corner * mouseMove * flipSign;\r\n        t[property] = origins[-mouseMove];\r\n      }\r\n      else {\r\n        skew = skew > 0 ? 1 : -1;\r\n        t.skewSign = skew;\r\n        t[property] = origins[skew * corner * flipSign];\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Skew object by mouse events\r\n     * @private\r\n     * @param {Number} x pointer's x coordinate\r\n     * @param {Number} y pointer's y coordinate\r\n     * @param {String} by Either 'x' or 'y'\r\n     * @return {Boolean} true if the skewing occurred\r\n     */\r\n    _skewObject: function (x, y, by) {\r\n      var t = this._currentTransform,\r\n          target = t.target, skewed = false,\r\n          lockSkewingX = target.get('lockSkewingX'),\r\n          lockSkewingY = target.get('lockSkewingY');\r\n\r\n      if ((lockSkewingX && by === 'x') || (lockSkewingY && by === 'y')) {\r\n        return false;\r\n      }\r\n\r\n      // Get the constraint point\r\n      var center = target.getCenterPoint(),\r\n          actualMouseByCenter = target.toLocalPoint(new fabric.Point(x, y), 'center', 'center')[by],\r\n          lastMouseByCenter = target.toLocalPoint(new fabric.Point(t.lastX, t.lastY), 'center', 'center')[by],\r\n          actualMouseByOrigin, constraintPosition, dim = target._getTransformedDimensions();\r\n\r\n      this._changeSkewTransformOrigin(actualMouseByCenter - lastMouseByCenter, t, by);\r\n      actualMouseByOrigin = target.toLocalPoint(new fabric.Point(x, y), t.originX, t.originY)[by];\r\n      constraintPosition = target.translateToOriginPoint(center, t.originX, t.originY);\r\n      // Actually skew the object\r\n      skewed = this._setObjectSkew(actualMouseByOrigin, t, by, dim);\r\n      t.lastX = x;\r\n      t.lastY = y;\r\n      // Make sure the constraints apply\r\n      target.setPositionByOrigin(constraintPosition, t.originX, t.originY);\r\n      return skewed;\r\n    },\r\n\r\n    /**\r\n     * Set object skew\r\n     * @private\r\n     * @return {Boolean} true if the skewing occurred\r\n     */\r\n    _setObjectSkew: function(localMouse, transform, by, _dim) {\r\n      var target = transform.target, newValue, skewed = false,\r\n          skewSign = transform.skewSign, newDim, dimNoSkew,\r\n          otherBy, _otherBy, _by, newDimMouse, skewX, skewY;\r\n\r\n      if (by === 'x') {\r\n        otherBy = 'y';\r\n        _otherBy = 'Y';\r\n        _by = 'X';\r\n        skewX = 0;\r\n        skewY = target.skewY;\r\n      }\r\n      else {\r\n        otherBy = 'x';\r\n        _otherBy = 'X';\r\n        _by = 'Y';\r\n        skewX = target.skewX;\r\n        skewY = 0;\r\n      }\r\n\r\n      dimNoSkew = target._getTransformedDimensions(skewX, skewY);\r\n      newDimMouse = 2 * Math.abs(localMouse) - dimNoSkew[by];\r\n      if (newDimMouse <= 2) {\r\n        newValue = 0;\r\n      }\r\n      else {\r\n        newValue = skewSign * Math.atan((newDimMouse / target['scale' + _by]) /\r\n                                        (dimNoSkew[otherBy] / target['scale' + _otherBy]));\r\n        newValue = fabric.util.radiansToDegrees(newValue);\r\n      }\r\n      skewed = target['skew' + _by] !== newValue;\r\n      target.set('skew' + _by, newValue);\r\n      if (target['skew' + _otherBy] !== 0) {\r\n        newDim = target._getTransformedDimensions();\r\n        newValue = (_dim[otherBy] / newDim[otherBy]) * target['scale' + _otherBy];\r\n        target.set('scale' + _otherBy, newValue);\r\n      }\r\n      return skewed;\r\n    },\r\n\r\n    /**\r\n     * Scales object by invoking its scaleX/scaleY methods\r\n     * @private\r\n     * @param {Number} x pointer's x coordinate\r\n     * @param {Number} y pointer's y coordinate\r\n     * @param {String} by Either 'x' or 'y' - specifies dimension constraint by which to scale an object.\r\n     *                    When not provided, an object is scaled by both dimensions equally\r\n     * @return {Boolean} true if the scaling occurred\r\n     */\r\n    _scaleObject: function (x, y, by) {\r\n      var t = this._currentTransform,\r\n          target = t.target,\r\n          lockScalingX = target.get('lockScalingX'),\r\n          lockScalingY = target.get('lockScalingY'),\r\n          lockScalingFlip = target.get('lockScalingFlip');\r\n\r\n      if (lockScalingX && lockScalingY) {\r\n        return false;\r\n      }\r\n\r\n      // Get the constraint point\r\n      var constraintPosition = target.translateToOriginPoint(target.getCenterPoint(), t.originX, t.originY),\r\n          localMouse = target.toLocalPoint(new fabric.Point(x, y), t.originX, t.originY),\r\n          dim = target._getTransformedDimensions(), scaled = false;\r\n\r\n      this._setLocalMouse(localMouse, t);\r\n\r\n      // Actually scale the object\r\n      scaled = this._setObjectScale(localMouse, t, lockScalingX, lockScalingY, by, lockScalingFlip, dim);\r\n\r\n      // Make sure the constraints apply\r\n      target.setPositionByOrigin(constraintPosition, t.originX, t.originY);\r\n      return scaled;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @return {Boolean} true if the scaling occurred\r\n     */\r\n    _setObjectScale: function(localMouse, transform, lockScalingX, lockScalingY, by, lockScalingFlip, _dim) {\r\n      var target = transform.target, forbidScalingX = false, forbidScalingY = false, scaled = false,\r\n          changeX, changeY, scaleX, scaleY;\r\n\r\n      scaleX = localMouse.x * target.scaleX / _dim.x;\r\n      scaleY = localMouse.y * target.scaleY / _dim.y;\r\n      changeX = target.scaleX !== scaleX;\r\n      changeY = target.scaleY !== scaleY;\r\n\r\n      if (lockScalingFlip && scaleX <= 0 && scaleX < target.scaleX) {\r\n        forbidScalingX = true;\r\n      }\r\n\r\n      if (lockScalingFlip && scaleY <= 0 && scaleY < target.scaleY) {\r\n        forbidScalingY = true;\r\n      }\r\n\r\n      if (by === 'equally' && !lockScalingX && !lockScalingY) {\r\n        forbidScalingX || forbidScalingY || (scaled = this._scaleObjectEqually(localMouse, target, transform, _dim));\r\n      }\r\n      else if (!by) {\r\n        forbidScalingX || lockScalingX || (target.set('scaleX', scaleX) && (scaled = scaled || changeX));\r\n        forbidScalingY || lockScalingY || (target.set('scaleY', scaleY) && (scaled = scaled || changeY));\r\n      }\r\n      else if (by === 'x' && !target.get('lockUniScaling')) {\r\n        forbidScalingX || lockScalingX || (target.set('scaleX', scaleX) && (scaled = scaled || changeX));\r\n      }\r\n      else if (by === 'y' && !target.get('lockUniScaling')) {\r\n        forbidScalingY || lockScalingY || (target.set('scaleY', scaleY) && (scaled = scaled || changeY));\r\n      }\r\n      transform.newScaleX = scaleX;\r\n      transform.newScaleY = scaleY;\r\n      forbidScalingX || forbidScalingY || this._flipObject(transform, by);\r\n      return scaled;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @return {Boolean} true if the scaling occurred\r\n     */\r\n    _scaleObjectEqually: function(localMouse, target, transform, _dim) {\r\n\r\n      var dist = localMouse.y + localMouse.x,\r\n          lastDist = _dim.y * transform.original.scaleY / target.scaleY +\r\n                     _dim.x * transform.original.scaleX / target.scaleX,\r\n          scaled;\r\n\r\n      // We use transform.scaleX/Y instead of target.scaleX/Y\r\n      // because the object may have a min scale and we'll loose the proportions\r\n      transform.newScaleX = transform.original.scaleX * dist / lastDist;\r\n      transform.newScaleY = transform.original.scaleY * dist / lastDist;\r\n      scaled = transform.newScaleX !== target.scaleX || transform.newScaleY !== target.scaleY;\r\n      target.set('scaleX', transform.newScaleX);\r\n      target.set('scaleY', transform.newScaleY);\r\n      return scaled;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _flipObject: function(transform, by) {\r\n      if (transform.newScaleX < 0 && by !== 'y') {\r\n        if (transform.originX === 'left') {\r\n          transform.originX = 'right';\r\n        }\r\n        else if (transform.originX === 'right') {\r\n          transform.originX = 'left';\r\n        }\r\n      }\r\n\r\n      if (transform.newScaleY < 0 && by !== 'x') {\r\n        if (transform.originY === 'top') {\r\n          transform.originY = 'bottom';\r\n        }\r\n        else if (transform.originY === 'bottom') {\r\n          transform.originY = 'top';\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setLocalMouse: function(localMouse, t) {\r\n      var target = t.target;\r\n\r\n      if (t.originX === 'right') {\r\n        localMouse.x *= -1;\r\n      }\r\n      else if (t.originX === 'center') {\r\n        localMouse.x *= t.mouseXSign * 2;\r\n        if (localMouse.x < 0) {\r\n          t.mouseXSign = -t.mouseXSign;\r\n        }\r\n      }\r\n\r\n      if (t.originY === 'bottom') {\r\n        localMouse.y *= -1;\r\n      }\r\n      else if (t.originY === 'center') {\r\n        localMouse.y *= t.mouseYSign * 2;\r\n        if (localMouse.y < 0) {\r\n          t.mouseYSign = -t.mouseYSign;\r\n        }\r\n      }\r\n\r\n      // adjust the mouse coordinates when dealing with padding\r\n      if (abs(localMouse.x) > target.padding) {\r\n        if (localMouse.x < 0) {\r\n          localMouse.x += target.padding;\r\n        }\r\n        else {\r\n          localMouse.x -= target.padding;\r\n        }\r\n      }\r\n      else { // mouse is within the padding, set to 0\r\n        localMouse.x = 0;\r\n      }\r\n\r\n      if (abs(localMouse.y) > target.padding) {\r\n        if (localMouse.y < 0) {\r\n          localMouse.y += target.padding;\r\n        }\r\n        else {\r\n          localMouse.y -= target.padding;\r\n        }\r\n      }\r\n      else {\r\n        localMouse.y = 0;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Rotates object by invoking its rotate method\r\n     * @private\r\n     * @param {Number} x pointer's x coordinate\r\n     * @param {Number} y pointer's y coordinate\r\n     * @return {Boolean} true if the rotation occurred\r\n     */\r\n    _rotateObject: function (x, y) {\r\n\r\n      var t = this._currentTransform;\r\n\r\n      if (t.target.get('lockRotation')) {\r\n        return false;\r\n      }\r\n\r\n      var lastAngle = atan2(t.ey - t.top, t.ex - t.left),\r\n          curAngle = atan2(y - t.top, x - t.left),\r\n          angle = radiansToDegrees(curAngle - lastAngle + t.theta),\r\n          hasRoated = true;\r\n\r\n      // normalize angle to positive value\r\n      if (angle < 0) {\r\n        angle = 360 + angle;\r\n      }\r\n\r\n      angle %= 360\r\n\r\n      if (t.target.snapAngle > 0) {\r\n        var snapAngle  = t.target.snapAngle,\r\n            snapThreshold  = t.target.snapThreshold || snapAngle,\r\n            rightAngleLocked = Math.ceil(angle / snapAngle) * snapAngle,\r\n            leftAngleLocked = Math.floor(angle / snapAngle) * snapAngle;\r\n\r\n        if (Math.abs(angle - leftAngleLocked) < snapThreshold) {\r\n          angle = leftAngleLocked;\r\n        }\r\n        else if (Math.abs(angle - rightAngleLocked) < snapThreshold) {\r\n          angle = rightAngleLocked;\r\n        }\r\n\r\n        if (t.target.angle === angle) {\r\n          hasRoated = false\r\n        }\r\n      }\r\n\r\n      t.target.angle = angle;\r\n      return hasRoated;\r\n    },\r\n\r\n    /**\r\n     * Set the cursor type of the canvas element\r\n     * @param {String} value Cursor type of the canvas element.\r\n     * @see http://www.w3.org/TR/css3-ui/#cursor\r\n     */\r\n    setCursor: function (value) {\r\n      this.upperCanvasEl.style.cursor = value;\r\n    },\r\n\r\n    /**\r\n     * @param {fabric.Object} target to reset transform\r\n     * @private\r\n     */\r\n    _resetObjectTransform: function (target) {\r\n      target.scaleX = 1;\r\n      target.scaleY = 1;\r\n      target.skewX = 0;\r\n      target.skewY = 0;\r\n      target.setAngle(0);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx to draw the selection on\r\n     */\r\n    _drawSelection: function (ctx) {\r\n      var groupSelector = this._groupSelector,\r\n          left = groupSelector.left,\r\n          top = groupSelector.top,\r\n          aleft = abs(left),\r\n          atop = abs(top);\r\n\r\n      if (this.selectionColor) {\r\n        ctx.fillStyle = this.selectionColor;\r\n\r\n        ctx.fillRect(\r\n          groupSelector.ex - ((left > 0) ? 0 : -left),\r\n          groupSelector.ey - ((top > 0) ? 0 : -top),\r\n          aleft,\r\n          atop\r\n        );\r\n      }\r\n\r\n      if (!this.selectionLineWidth || !this.selectionBorderColor) {\r\n        return;\r\n      }\r\n      ctx.lineWidth = this.selectionLineWidth;\r\n      ctx.strokeStyle = this.selectionBorderColor;\r\n\r\n      // selection border\r\n      if (this.selectionDashArray.length > 1 && !supportLineDash) {\r\n\r\n        var px = groupSelector.ex + STROKE_OFFSET - ((left > 0) ? 0 : aleft),\r\n            py = groupSelector.ey + STROKE_OFFSET - ((top > 0) ? 0 : atop);\r\n\r\n        ctx.beginPath();\r\n\r\n        fabric.util.drawDashedLine(ctx, px, py, px + aleft, py, this.selectionDashArray);\r\n        fabric.util.drawDashedLine(ctx, px, py + atop - 1, px + aleft, py + atop - 1, this.selectionDashArray);\r\n        fabric.util.drawDashedLine(ctx, px, py, px, py + atop, this.selectionDashArray);\r\n        fabric.util.drawDashedLine(ctx, px + aleft - 1, py, px + aleft - 1, py + atop, this.selectionDashArray);\r\n\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n      }\r\n      else {\r\n        fabric.Object.prototype._setLineDash.call(this, ctx, this.selectionDashArray);\r\n        ctx.strokeRect(\r\n          groupSelector.ex + STROKE_OFFSET - ((left > 0) ? 0 : aleft),\r\n          groupSelector.ey + STROKE_OFFSET - ((top > 0) ? 0 : atop),\r\n          aleft,\r\n          atop\r\n        );\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Method that determines what object we are clicking on\r\n     * @param {Event} e mouse event\r\n     * @param {Boolean} skipGroup when true, activeGroup is skipped and only objects are traversed through\r\n     */\r\n    findTarget: function (e, skipGroup) {\r\n      if (this.skipTargetFind) {\r\n        return;\r\n      }\r\n\r\n      var ignoreZoom = true,\r\n          pointer = this.getPointer(e, ignoreZoom),\r\n          activeGroup = this.getActiveGroup(),\r\n          activeObject = this.getActiveObject(),\r\n          activeTarget;\r\n\r\n      // first check current group (if one exists)\r\n      // active group does not check sub targets like normal groups.\r\n      // if active group just exits.\r\n      if (activeGroup && !skipGroup && this._checkTarget(pointer, activeGroup)) {\r\n        this._fireOverOutEvents(activeGroup, e);\r\n        return activeGroup;\r\n      }\r\n      // if we hit the corner of an activeObject, let's return that.\r\n      if (activeObject && activeObject._findTargetCorner(pointer)) {\r\n        this._fireOverOutEvents(activeObject, e);\r\n        return activeObject;\r\n      }\r\n      if (activeObject && this._checkTarget(pointer, activeObject)) {\r\n        if (!this.preserveObjectStacking) {\r\n          this._fireOverOutEvents(activeObject, e);\r\n          return activeObject;\r\n        }\r\n        else {\r\n          activeTarget = activeObject;\r\n        }\r\n      }\r\n\r\n      this.targets = [];\r\n\r\n      var target = this._searchPossibleTargets(this._objects, pointer);\r\n      if (e[this.altSelectionKey] && target && activeTarget && target !== activeTarget) {\r\n        target = activeTarget;\r\n      }\r\n      this._fireOverOutEvents(target, e);\r\n      return target;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _fireOverOutEvents: function(target, e) {\r\n      if (target) {\r\n        if (this._hoveredTarget !== target) {\r\n          if (this._hoveredTarget) {\r\n            this.fire('mouse:out', { target: this._hoveredTarget, e: e });\r\n            this._hoveredTarget.fire('mouseout');\r\n          }\r\n          this.fire('mouse:over', { target: target, e: e });\r\n          target.fire('mouseover');\r\n          this._hoveredTarget = target;\r\n        }\r\n      }\r\n      else if (this._hoveredTarget) {\r\n        this.fire('mouse:out', { target: this._hoveredTarget, e: e });\r\n        this._hoveredTarget.fire('mouseout');\r\n        this._hoveredTarget = null;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _checkTarget: function(pointer, obj) {\r\n      if (obj &&\r\n          obj.visible &&\r\n          obj.evented &&\r\n          this.containsPoint(null, obj, pointer)){\r\n        if ((this.perPixelTargetFind || obj.perPixelTargetFind) && !obj.isEditing) {\r\n          var isTransparent = this.isTargetTransparent(obj, pointer.x, pointer.y);\r\n          if (!isTransparent) {\r\n            return true;\r\n          }\r\n        }\r\n        else {\r\n          return true;\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _searchPossibleTargets: function(objects, pointer) {\r\n\r\n      // Cache all targets where their bounding box contains point.\r\n      var target, i = objects.length, normalizedPointer, subTarget;\r\n      // Do not check for currently grouped objects, since we check the parent group itself.\r\n      // untill we call this function specifically to search inside the activeGroup\r\n      while (i--) {\r\n        if (this._checkTarget(pointer, objects[i])) {\r\n          target = objects[i];\r\n          if (target.type === 'group' && target.subTargetCheck) {\r\n            normalizedPointer = this._normalizePointer(target, pointer);\r\n            subTarget = this._searchPossibleTargets(target._objects, normalizedPointer);\r\n            subTarget && this.targets.push(subTarget);\r\n          }\r\n          break;\r\n        }\r\n      }\r\n      return target;\r\n    },\r\n\r\n    /**\r\n     * Returns pointer coordinates without the effect of the viewport\r\n     * @param {Object} pointer with \"x\" and \"y\" number values\r\n     * @return {Object} object with \"x\" and \"y\" number values\r\n     */\r\n    restorePointerVpt: function(pointer) {\r\n      return fabric.util.transformPoint(\r\n        pointer,\r\n        fabric.util.invertTransform(this.viewportTransform)\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Returns pointer coordinates relative to canvas.\r\n     * @param {Event} e\r\n     * @param {Boolean} ignoreZoom\r\n     * @return {Object} object with \"x\" and \"y\" number values\r\n     */\r\n    getPointer: function (e, ignoreZoom, upperCanvasEl) {\r\n      if (!upperCanvasEl) {\r\n        upperCanvasEl = this.upperCanvasEl;\r\n      }\r\n      var pointer = getPointer(e),\r\n          bounds = upperCanvasEl.getBoundingClientRect(),\r\n          boundsWidth = bounds.width || 0,\r\n          boundsHeight = bounds.height || 0,\r\n          cssScale;\r\n\r\n      if (!boundsWidth || !boundsHeight ) {\r\n        if ('top' in bounds && 'bottom' in bounds) {\r\n          boundsHeight = Math.abs( bounds.top - bounds.bottom );\r\n        }\r\n        if ('right' in bounds && 'left' in bounds) {\r\n          boundsWidth = Math.abs( bounds.right - bounds.left );\r\n        }\r\n      }\r\n\r\n      this.calcOffset();\r\n\r\n      pointer.x = pointer.x - this._offset.left;\r\n      pointer.y = pointer.y - this._offset.top;\r\n      if (!ignoreZoom) {\r\n        pointer = this.restorePointerVpt(pointer);\r\n      }\r\n\r\n      if (boundsWidth === 0 || boundsHeight === 0) {\r\n        // If bounds are not available (i.e. not visible), do not apply scale.\r\n        cssScale = { width: 1, height: 1 };\r\n      }\r\n      else {\r\n        cssScale = {\r\n          width: upperCanvasEl.width / boundsWidth,\r\n          height: upperCanvasEl.height / boundsHeight\r\n        };\r\n      }\r\n\r\n      return {\r\n        x: pointer.x * cssScale.width,\r\n        y: pointer.y * cssScale.height\r\n      };\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @throws {CANVAS_INIT_ERROR} If canvas can not be initialized\r\n     */\r\n    _createUpperCanvas: function () {\r\n      var lowerCanvasClass = this.lowerCanvasEl.className.replace(/\\s*lower-canvas\\s*/, '');\r\n\r\n      this.upperCanvasEl = this._createCanvasElement();\r\n      fabric.util.addClass(this.upperCanvasEl, 'upper-canvas ' + lowerCanvasClass);\r\n\r\n      this.wrapperEl.appendChild(this.upperCanvasEl);\r\n\r\n      this._copyCanvasStyle(this.lowerCanvasEl, this.upperCanvasEl);\r\n      this._applyCanvasStyle(this.upperCanvasEl);\r\n      this.contextTop = this.upperCanvasEl.getContext('2d');\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _createCacheCanvas: function () {\r\n      this.cacheCanvasEl = this._createCanvasElement();\r\n      this.cacheCanvasEl.setAttribute('width', this.width);\r\n      this.cacheCanvasEl.setAttribute('height', this.height);\r\n      this.contextCache = this.cacheCanvasEl.getContext('2d');\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _initWrapperElement: function () {\r\n      this.wrapperEl = fabric.util.wrapElement(this.lowerCanvasEl, 'div', {\r\n        'class': this.containerClass\r\n      });\r\n      fabric.util.setStyle(this.wrapperEl, {\r\n        width: this.getWidth() + 'px',\r\n        height: this.getHeight() + 'px',\r\n        position: 'relative'\r\n      });\r\n      fabric.util.makeElementUnselectable(this.wrapperEl);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {HTMLElement} element canvas element to apply styles on\r\n     */\r\n    _applyCanvasStyle: function (element) {\r\n      var width = this.getWidth() || element.width,\r\n          height = this.getHeight() || element.height;\r\n\r\n      fabric.util.setStyle(element, {\r\n        position: 'absolute',\r\n        width: width + 'px',\r\n        height: height + 'px',\r\n        left: 0,\r\n        top: 0\r\n      });\r\n      element.width = width;\r\n      element.height = height;\r\n      fabric.util.makeElementUnselectable(element);\r\n    },\r\n\r\n    /**\r\n     * Copys the the entire inline style from one element (fromEl) to another (toEl)\r\n     * @private\r\n     * @param {Element} fromEl Element style is copied from\r\n     * @param {Element} toEl Element copied style is applied to\r\n     */\r\n    _copyCanvasStyle: function (fromEl, toEl) {\r\n      toEl.style.cssText = fromEl.style.cssText;\r\n    },\r\n\r\n    /**\r\n     * Returns context of canvas where object selection is drawn\r\n     * @return {CanvasRenderingContext2D}\r\n     */\r\n    getSelectionContext: function() {\r\n      return this.contextTop;\r\n    },\r\n\r\n    /**\r\n     * Returns &lt;canvas> element on which object selection is drawn\r\n     * @return {HTMLCanvasElement}\r\n     */\r\n    getSelectionElement: function () {\r\n      return this.upperCanvasEl;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} object\r\n     */\r\n    _setActiveObject: function(object) {\r\n      if (this._activeObject) {\r\n        this._activeObject.set('active', false);\r\n      }\r\n      this._activeObject = object;\r\n      object.set('active', true);\r\n    },\r\n\r\n    /**\r\n     * Sets given object as the only active object on canvas\r\n     * @param {fabric.Object} object Object to set as an active one\r\n     * @param {Event} [e] Event (passed along when firing \"object:selected\")\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    setActiveObject: function (object, e) {\r\n      this._setActiveObject(object);\r\n      this.renderAll();\r\n      this.fire('object:selected', { target: object, e: e });\r\n      object.fire('selected', { e: e });\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returns currently active object\r\n     * @return {fabric.Object} active object\r\n     */\r\n    getActiveObject: function () {\r\n      return this._activeObject;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {fabric.Object} obj Object that was removed\r\n     */\r\n    _onObjectRemoved: function(obj) {\r\n      // removing active object should fire \"selection:cleared\" events\r\n      if (this.getActiveObject() === obj) {\r\n        this.fire('before:selection:cleared', { target: obj });\r\n        this._discardActiveObject();\r\n        this.fire('selection:cleared', { target: obj });\r\n        obj.fire('deselected');\r\n      }\r\n      this.callSuper('_onObjectRemoved', obj);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _discardActiveObject: function() {\r\n      if (this._activeObject) {\r\n        this._activeObject.set('active', false);\r\n      }\r\n      this._activeObject = null;\r\n    },\r\n\r\n    /**\r\n     * Discards currently active object and fire events\r\n     * @param {event} e\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    discardActiveObject: function (e) {\r\n      var activeObject = this._activeObject;\r\n      this.fire('before:selection:cleared', { target: activeObject, e: e });\r\n      this._discardActiveObject();\r\n      this.fire('selection:cleared', { e: e });\r\n      activeObject && activeObject.fire('deselected', { e: e });\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {fabric.Group} group\r\n     */\r\n    _setActiveGroup: function(group) {\r\n      this._activeGroup = group;\r\n      if (group) {\r\n        group.set('active', true);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Sets active group to a specified one\r\n     * @param {fabric.Group} group Group to set as a current one\r\n     * @param {Event} e Event object\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    setActiveGroup: function (group, e) {\r\n      this._setActiveGroup(group);\r\n      if (group) {\r\n        this.fire('object:selected', { target: group, e: e });\r\n        group.fire('selected', { e: e });\r\n      }\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returns currently active group\r\n     * @return {fabric.Group} Current group\r\n     */\r\n    getActiveGroup: function () {\r\n      return this._activeGroup;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _discardActiveGroup: function() {\r\n      var g = this.getActiveGroup();\r\n      if (g) {\r\n        g.destroy();\r\n      }\r\n      this.setActiveGroup(null);\r\n    },\r\n\r\n    /**\r\n     * Discards currently active group and fire events\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    discardActiveGroup: function (e) {\r\n      var g = this.getActiveGroup();\r\n      this.fire('before:selection:cleared', { e: e, target: g });\r\n      this._discardActiveGroup();\r\n      this.fire('selection:cleared', { e: e });\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Deactivates all objects on canvas, removing any active group or object\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    deactivateAll: function () {\r\n      var allObjects = this.getObjects(),\r\n          i = 0,\r\n          len = allObjects.length,\r\n          obj;\r\n      for ( ; i < len; i++) {\r\n        obj = allObjects[i];\r\n        obj && obj.set('active', false);\r\n      }\r\n      this._discardActiveGroup();\r\n      this._discardActiveObject();\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Deactivates all objects and dispatches appropriate events\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    deactivateAllWithDispatch: function (e) {\r\n      var activeGroup = this.getActiveGroup(),\r\n          activeObject = this.getActiveObject();\r\n      if (activeObject || activeGroup) {\r\n        this.fire('before:selection:cleared', { target: activeObject || activeGroup, e: e });\r\n      }\r\n      this.deactivateAll();\r\n      if (activeObject || activeGroup) {\r\n        this.fire('selection:cleared', { e: e, target: activeObject });\r\n        activeObject && activeObject.fire('deselected');\r\n      }\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Clears a canvas element and removes all event listeners\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    dispose: function () {\r\n      this.callSuper('dispose');\r\n      var wrapper = this.wrapperEl;\r\n      this.removeListeners();\r\n      wrapper.removeChild(this.upperCanvasEl);\r\n      wrapper.removeChild(this.lowerCanvasEl);\r\n      delete this.upperCanvasEl;\r\n      if (wrapper.parentNode) {\r\n        wrapper.parentNode.replaceChild(this.lowerCanvasEl, this.wrapperEl);\r\n      }\r\n      delete this.wrapperEl;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Clears all contexts (background, main, top) of an instance\r\n     * @return {fabric.Canvas} thisArg\r\n     * @chainable\r\n     */\r\n    clear: function () {\r\n      this.discardActiveGroup();\r\n      this.discardActiveObject();\r\n      this.clearContext(this.contextTop);\r\n      return this.callSuper('clear');\r\n    },\r\n\r\n    /**\r\n     * Draws objects' controls (borders/controls)\r\n     * @param {CanvasRenderingContext2D} ctx Context to render controls on\r\n     */\r\n    drawControls: function(ctx) {\r\n      var activeGroup = this.getActiveGroup();\r\n\r\n      if (activeGroup) {\r\n        activeGroup._renderControls(ctx);\r\n      }\r\n      else {\r\n        this._drawObjectsControls(ctx);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _drawObjectsControls: function(ctx) {\r\n      for (var i = 0, len = this._objects.length; i < len; ++i) {\r\n        if (!this._objects[i] || !this._objects[i].active) {\r\n          continue;\r\n        }\r\n        this._objects[i]._renderControls(ctx);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _toObject: function(instance, methodName, propertiesToInclude) {\r\n      //If the object is part of the current selection group, it should\r\n      //be transformed appropriately\r\n      //i.e. it should be serialised as it would appear if the selection group\r\n      //were to be destroyed.\r\n      var originalProperties = this._realizeGroupTransformOnObject(instance),\r\n          object = this.callSuper('_toObject', instance, methodName, propertiesToInclude);\r\n      //Undo the damage we did by changing all of its properties\r\n      this._unwindGroupTransformOnObject(instance, originalProperties);\r\n      return object;\r\n    },\r\n\r\n    /**\r\n     * Realises an object's group transformation on it\r\n     * @private\r\n     * @param {fabric.Object} [instance] the object to transform (gets mutated)\r\n     * @returns the original values of instance which were changed\r\n     */\r\n    _realizeGroupTransformOnObject: function(instance) {\r\n      var layoutProps = ['angle', 'flipX', 'flipY', 'height', 'left', 'scaleX', 'scaleY', 'top', 'width'];\r\n      if (instance.group && instance.group === this.getActiveGroup()) {\r\n        //Copy all the positionally relevant properties across now\r\n        var originalValues = {};\r\n        layoutProps.forEach(function(prop) {\r\n          originalValues[prop] = instance[prop];\r\n        });\r\n        this.getActiveGroup().realizeTransform(instance);\r\n        return originalValues;\r\n      }\r\n      else {\r\n        return null;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Restores the changed properties of instance\r\n     * @private\r\n     * @param {fabric.Object} [instance] the object to un-transform (gets mutated)\r\n     * @param {Object} [originalValues] the original values of instance, as returned by _realizeGroupTransformOnObject\r\n     */\r\n    _unwindGroupTransformOnObject: function(instance, originalValues) {\r\n      if (originalValues) {\r\n        instance.set(originalValues);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setSVGObject: function(markup, instance, reviver) {\r\n      var originalProperties;\r\n      //If the object is in a selection group, simulate what would happen to that\r\n      //object when the group is deselected\r\n      originalProperties = this._realizeGroupTransformOnObject(instance);\r\n      this.callSuper('_setSVGObject', markup, instance, reviver);\r\n      this._unwindGroupTransformOnObject(instance, originalProperties);\r\n    },\r\n  });\r\n\r\n  // copying static properties manually to work around Opera's bug,\r\n  // where \"prototype\" property is enumerable and overrides existing prototype\r\n  for (var prop in fabric.StaticCanvas) {\r\n    if (prop !== 'prototype') {\r\n      fabric.Canvas[prop] = fabric.StaticCanvas[prop];\r\n    }\r\n  }\r\n\r\n  if (fabric.isTouchSupported) {\r\n    /** @ignore */\r\n    fabric.Canvas.prototype._setCursorFromEvent = function() { };\r\n  }\r\n\r\n  /**\r\n   * @ignore\r\n   * @class fabric.Element\r\n   * @alias fabric.Canvas\r\n   * @deprecated Use {@link fabric.Canvas} instead.\r\n   * @constructor\r\n   */\r\n  fabric.Element = fabric.Canvas;\r\n})();\r\n\r\n\r\n(function() {\r\n\r\n  var cursorOffset = {\r\n        mt: 0, // n\r\n        tr: 1, // ne\r\n        mr: 2, // e\r\n        br: 3, // se\r\n        mb: 4, // s\r\n        bl: 5, // sw\r\n        ml: 6, // w\r\n        tl: 7 // nw\r\n      },\r\n      addListener = fabric.util.addListener,\r\n      removeListener = fabric.util.removeListener;\r\n\r\n  fabric.util.object.extend(fabric.Canvas.prototype, /** @lends fabric.Canvas.prototype */ {\r\n\r\n    /**\r\n     * Map of cursor style values for each of the object controls\r\n     * @private\r\n     */\r\n    cursorMap: [\r\n      'n-resize',\r\n      'ne-resize',\r\n      'e-resize',\r\n      'se-resize',\r\n      's-resize',\r\n      'sw-resize',\r\n      'w-resize',\r\n      'nw-resize'\r\n    ],\r\n\r\n    /**\r\n     * Adds mouse listeners to canvas\r\n     * @private\r\n     */\r\n    _initEventListeners: function () {\r\n\r\n      this._bindEvents();\r\n\r\n      addListener(fabric.window, 'resize', this._onResize);\r\n\r\n      // mouse events\r\n      addListener(this.upperCanvasEl, 'mousedown', this._onMouseDown);\r\n      addListener(this.upperCanvasEl, 'mousemove', this._onMouseMove);\r\n      addListener(this.upperCanvasEl, 'mouseout', this._onMouseOut);\r\n      addListener(this.upperCanvasEl, 'mouseenter', this._onMouseEnter);\r\n      addListener(this.upperCanvasEl, 'wheel', this._onMouseWheel);\r\n      addListener(this.upperCanvasEl, 'contextmenu', this._onContextMenu);\r\n\r\n      // touch events\r\n      addListener(this.upperCanvasEl, 'touchstart', this._onMouseDown);\r\n      addListener(this.upperCanvasEl, 'touchmove', this._onMouseMove);\r\n\r\n      if (typeof eventjs !== 'undefined' && 'add' in eventjs) {\r\n        eventjs.add(this.upperCanvasEl, 'gesture', this._onGesture);\r\n        eventjs.add(this.upperCanvasEl, 'drag', this._onDrag);\r\n        eventjs.add(this.upperCanvasEl, 'orientation', this._onOrientationChange);\r\n        eventjs.add(this.upperCanvasEl, 'shake', this._onShake);\r\n        eventjs.add(this.upperCanvasEl, 'longpress', this._onLongPress);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _bindEvents: function() {\r\n      this._onMouseDown = this._onMouseDown.bind(this);\r\n      this._onMouseMove = this._onMouseMove.bind(this);\r\n      this._onMouseUp = this._onMouseUp.bind(this);\r\n      this._onResize = this._onResize.bind(this);\r\n      this._onGesture = this._onGesture.bind(this);\r\n      this._onDrag = this._onDrag.bind(this);\r\n      this._onShake = this._onShake.bind(this);\r\n      this._onLongPress = this._onLongPress.bind(this);\r\n      this._onOrientationChange = this._onOrientationChange.bind(this);\r\n      this._onMouseWheel = this._onMouseWheel.bind(this);\r\n      this._onMouseOut = this._onMouseOut.bind(this);\r\n      this._onMouseEnter = this._onMouseEnter.bind(this);\r\n      this._onContextMenu = this._onContextMenu.bind(this);\r\n    },\r\n\r\n    /**\r\n     * Removes all event listeners\r\n     */\r\n    removeListeners: function() {\r\n      removeListener(fabric.window, 'resize', this._onResize);\r\n\r\n      removeListener(this.upperCanvasEl, 'mousedown', this._onMouseDown);\r\n      removeListener(this.upperCanvasEl, 'mousemove', this._onMouseMove);\r\n      removeListener(this.upperCanvasEl, 'mouseout', this._onMouseOut);\r\n      removeListener(this.upperCanvasEl, 'mouseenter', this._onMouseEnter);\r\n      removeListener(this.upperCanvasEl, 'wheel', this._onMouseWheel);\r\n      removeListener(this.upperCanvasEl, 'contextmenu', this._onContextMenu);\r\n\r\n      removeListener(this.upperCanvasEl, 'touchstart', this._onMouseDown);\r\n      removeListener(this.upperCanvasEl, 'touchmove', this._onMouseMove);\r\n\r\n      if (typeof eventjs !== 'undefined' && 'remove' in eventjs) {\r\n        eventjs.remove(this.upperCanvasEl, 'gesture', this._onGesture);\r\n        eventjs.remove(this.upperCanvasEl, 'drag', this._onDrag);\r\n        eventjs.remove(this.upperCanvasEl, 'orientation', this._onOrientationChange);\r\n        eventjs.remove(this.upperCanvasEl, 'shake', this._onShake);\r\n        eventjs.remove(this.upperCanvasEl, 'longpress', this._onLongPress);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} [e] Event object fired on Event.js gesture\r\n     * @param {Event} [self] Inner Event object\r\n     */\r\n    _onGesture: function(e, self) {\r\n      this.__onTransformGesture && this.__onTransformGesture(e, self);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} [e] Event object fired on Event.js drag\r\n     * @param {Event} [self] Inner Event object\r\n     */\r\n    _onDrag: function(e, self) {\r\n      this.__onDrag && this.__onDrag(e, self);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} [e] Event object fired on wheel event\r\n     */\r\n    _onMouseWheel: function(e) {\r\n      this.__onMouseWheel(e);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object fired on mousedown\r\n     */\r\n    _onMouseOut: function(e) {\r\n      var target = this._hoveredTarget;\r\n      this.fire('mouse:out', { target: target, e: e });\r\n      this._hoveredTarget = null;\r\n      target && target.fire('mouseout', { e: e });\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object fired on mouseenter\r\n     */\r\n    _onMouseEnter: function(e) {\r\n      if (!this.findTarget(e)) {\r\n        this.fire('mouse:over', { target: null, e: e });\r\n        this._hoveredTarget = null;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} [e] Event object fired on Event.js orientation change\r\n     * @param {Event} [self] Inner Event object\r\n     */\r\n    _onOrientationChange: function(e, self) {\r\n      this.__onOrientationChange && this.__onOrientationChange(e, self);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} [e] Event object fired on Event.js shake\r\n     * @param {Event} [self] Inner Event object\r\n     */\r\n    _onShake: function(e, self) {\r\n      this.__onShake && this.__onShake(e, self);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} [e] Event object fired on Event.js shake\r\n     * @param {Event} [self] Inner Event object\r\n     */\r\n    _onLongPress: function(e, self) {\r\n      this.__onLongPress && this.__onLongPress(e, self);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object fired on mousedown\r\n     */\r\n    _onContextMenu: function (e) {\r\n      if (this.stopContextMenu) {\r\n        e.stopPropagation()\r\n        e.preventDefault();\r\n      }\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object fired on mousedown\r\n     */\r\n    _onMouseDown: function (e) {\r\n      this.__onMouseDown(e);\r\n\r\n      addListener(fabric.document, 'touchend', this._onMouseUp);\r\n      addListener(fabric.document, 'touchmove', this._onMouseMove);\r\n\r\n      removeListener(this.upperCanvasEl, 'mousemove', this._onMouseMove);\r\n      removeListener(this.upperCanvasEl, 'touchmove', this._onMouseMove);\r\n\r\n      if (e.type === 'touchstart') {\r\n        // Unbind mousedown to prevent double triggers from touch devices\r\n        removeListener(this.upperCanvasEl, 'mousedown', this._onMouseDown);\r\n      }\r\n      else {\r\n        addListener(fabric.document, 'mouseup', this._onMouseUp);\r\n        addListener(fabric.document, 'mousemove', this._onMouseMove);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object fired on mouseup\r\n     */\r\n    _onMouseUp: function (e) {\r\n      this.__onMouseUp(e);\r\n\r\n      removeListener(fabric.document, 'mouseup', this._onMouseUp);\r\n      removeListener(fabric.document, 'touchend', this._onMouseUp);\r\n\r\n      removeListener(fabric.document, 'mousemove', this._onMouseMove);\r\n      removeListener(fabric.document, 'touchmove', this._onMouseMove);\r\n\r\n      addListener(this.upperCanvasEl, 'mousemove', this._onMouseMove);\r\n      addListener(this.upperCanvasEl, 'touchmove', this._onMouseMove);\r\n\r\n      if (e.type === 'touchend') {\r\n        // Wait 400ms before rebinding mousedown to prevent double triggers\r\n        // from touch devices\r\n        var _this = this;\r\n        setTimeout(function() {\r\n          addListener(_this.upperCanvasEl, 'mousedown', _this._onMouseDown);\r\n        }, 400);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object fired on mousemove\r\n     */\r\n    _onMouseMove: function (e) {\r\n      !this.allowTouchScrolling && e.preventDefault && e.preventDefault();\r\n      this.__onMouseMove(e);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _onResize: function () {\r\n      this.calcOffset();\r\n    },\r\n\r\n    /**\r\n     * Decides whether the canvas should be redrawn in mouseup and mousedown events.\r\n     * @private\r\n     * @param {Object} target\r\n     * @param {Object} pointer\r\n     */\r\n    _shouldRender: function(target, pointer) {\r\n      var activeObject = this.getActiveGroup() || this.getActiveObject();\r\n\r\n      return !!(\r\n        (target && (\r\n          target.isMoving ||\r\n          target !== activeObject))\r\n        ||\r\n        (!target && !!activeObject)\r\n        ||\r\n        (!target && !activeObject && !this._groupSelector)\r\n        ||\r\n        (pointer &&\r\n          this._previousPointer &&\r\n          this.selection && (\r\n          pointer.x !== this._previousPointer.x ||\r\n          pointer.y !== this._previousPointer.y))\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Method that defines the actions when mouse is released on canvas.\r\n     * The method resets the currentTransform parameters, store the image corner\r\n     * position in the image object and render the canvas on top.\r\n     * @private\r\n     * @param {Event} e Event object fired on mouseup\r\n     */\r\n    __onMouseUp: function (e) {\r\n      var target, searchTarget = true, transform = this._currentTransform,\r\n          groupSelector = this._groupSelector,\r\n          isClick = (!groupSelector || (groupSelector.left === 0 && groupSelector.top === 0));\r\n\r\n      if (this.isDrawingMode && this._isCurrentlyDrawing) {\r\n        this._onMouseUpInDrawingMode(e);\r\n        return;\r\n      }\r\n\r\n      if (transform) {\r\n        this._finalizeCurrentTransform();\r\n        searchTarget = !transform.actionPerformed;\r\n      }\r\n\r\n      target = searchTarget ? this.findTarget(e, true) : transform.target;\r\n\r\n      var shouldRender = this._shouldRender(target, this.getPointer(e));\r\n\r\n      if (target || !isClick) {\r\n        this._maybeGroupObjects(e);\r\n      }\r\n      else {\r\n        // those are done by default on mouse up\r\n        // by _maybeGroupObjects, we are skipping it in case of no target find\r\n        this._groupSelector = null;\r\n        this._currentTransform = null;\r\n      }\r\n\r\n      if (target) {\r\n        target.isMoving = false;\r\n      }\r\n\r\n      this._handleCursorAndEvent(e, target, 'up');\r\n      target && (target.__corner = 0);\r\n      shouldRender && this.renderAll();\r\n    },\r\n\r\n    /**\r\n     * set cursor for mouse up and handle mouseUp event\r\n     * @param {Event} e event from mouse\r\n     * @param {fabric.Object} target receiving event\r\n     * @param {String} eventType event to fire (up, down or move)\r\n     */\r\n    _handleCursorAndEvent: function(e, target, eventType) {\r\n      this._setCursorFromEvent(e, target);\r\n      this._handleEvent(e, eventType, target ? target : null);\r\n    },\r\n\r\n    /**\r\n     * Handle event firing for target and subtargets\r\n     * @param {Event} e event from mouse\r\n     * @param {String} eventType event to fire (up, down or move)\r\n     * @param {fabric.Object} targetObj receiving event\r\n     */\r\n    _handleEvent: function(e, eventType, targetObj) {\r\n      var target = typeof targetObj === undefined ? this.findTarget(e) : targetObj,\r\n          targets = this.targets || [],\r\n          options = { e: e, target: target, subTargets: targets };\r\n\r\n      this.fire('mouse:' + eventType, options);\r\n      target && target.fire('mouse' + eventType, options);\r\n      for (var i = 0; i < targets.length; i++) {\r\n        targets[i].fire('mouse' + eventType, options);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _finalizeCurrentTransform: function() {\r\n\r\n      var transform = this._currentTransform,\r\n          target = transform.target;\r\n\r\n      if (target._scaling) {\r\n        target._scaling = false;\r\n      }\r\n\r\n      target.setCoords();\r\n      this._restoreOriginXY(target);\r\n\r\n      if (transform.actionPerformed || (this.stateful && target.hasStateChanged())) {\r\n        this.fire('object:modified', { target: target });\r\n        target.fire('modified');\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} target Object to restore\r\n     */\r\n    _restoreOriginXY: function(target) {\r\n      if (this._previousOriginX && this._previousOriginY) {\r\n\r\n        var originPoint = target.translateToOriginPoint(\r\n          target.getCenterPoint(),\r\n          this._previousOriginX,\r\n          this._previousOriginY);\r\n\r\n        target.originX = this._previousOriginX;\r\n        target.originY = this._previousOriginY;\r\n\r\n        target.left = originPoint.x;\r\n        target.top = originPoint.y;\r\n\r\n        this._previousOriginX = null;\r\n        this._previousOriginY = null;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object fired on mousedown\r\n     */\r\n    _onMouseDownInDrawingMode: function(e) {\r\n      this._isCurrentlyDrawing = true;\r\n      this.discardActiveObject(e).renderAll();\r\n      if (this.clipTo) {\r\n        fabric.util.clipContext(this, this.contextTop);\r\n      }\r\n      var pointer = this.getPointer(e);\r\n      this.freeDrawingBrush.onMouseDown(pointer);\r\n      this._handleEvent(e, 'down');\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object fired on mousemove\r\n     */\r\n    _onMouseMoveInDrawingMode: function(e) {\r\n      if (this._isCurrentlyDrawing) {\r\n        var pointer = this.getPointer(e);\r\n        this.freeDrawingBrush.onMouseMove(pointer);\r\n      }\r\n      this.setCursor(this.freeDrawingCursor);\r\n      this._handleEvent(e, 'move');\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object fired on mouseup\r\n     */\r\n    _onMouseUpInDrawingMode: function(e) {\r\n      this._isCurrentlyDrawing = false;\r\n      if (this.clipTo) {\r\n        this.contextTop.restore();\r\n      }\r\n      this.freeDrawingBrush.onMouseUp();\r\n      this._handleEvent(e, 'up');\r\n    },\r\n\r\n    /**\r\n     * Method that defines the actions when mouse is clic ked on canvas.\r\n     * The method inits the currentTransform parameters and renders all the\r\n     * canvas so the current image can be placed on the top canvas and the rest\r\n     * in on the container one.\r\n     * @private\r\n     * @param {Event} e Event object fired on mousedown\r\n     */\r\n    __onMouseDown: function (e) {\r\n\r\n      var target = this.findTarget(e),\r\n          pointer = this.getPointer(e, true);\r\n\r\n      // if right click just fire events\r\n      var isRightClick  = 'which' in e ? e.which === 3 : e.button === 2;\r\n      if (isRightClick) {\r\n        if (this.fireRightClick) {\r\n          this._handleEvent(e, 'down', target ? target : null);\r\n        }\r\n        return;\r\n      }\r\n\r\n      if (this.isDrawingMode) {\r\n        this._onMouseDownInDrawingMode(e);\r\n        return;\r\n      }\r\n\r\n      // ignore if some object is being transformed at this moment\r\n      if (this._currentTransform) {\r\n        return;\r\n      }\r\n\r\n      // save pointer for check in __onMouseUp event\r\n      this._previousPointer = pointer;\r\n\r\n      var shouldRender = this._shouldRender(target, pointer),\r\n          shouldGroup = this._shouldGroup(e, target);\r\n\r\n      if (this._shouldClearSelection(e, target)) {\r\n        this._clearSelection(e, target, pointer);\r\n      }\r\n      else if (shouldGroup) {\r\n        this._handleGrouping(e, target);\r\n        target = this.getActiveGroup();\r\n      }\r\n\r\n      if (target) {\r\n        if (target.selectable && (target.__corner || !shouldGroup)) {\r\n          this._beforeTransform(e, target);\r\n          this._setupCurrentTransform(e, target);\r\n        }\r\n\r\n        if (target !== this.getActiveGroup() && target !== this.getActiveObject()) {\r\n          this.deactivateAll();\r\n          target.selectable && this.setActiveObject(target, e);\r\n        }\r\n      }\r\n      this._handleEvent(e, 'down', target ? target : null);\r\n      // we must renderAll so that we update the visuals\r\n      shouldRender && this.renderAll();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _beforeTransform: function(e, target) {\r\n      this.stateful && target.saveState();\r\n\r\n      // determine if it's a drag or rotate case\r\n      if (target._findTargetCorner(this.getPointer(e))) {\r\n        this.onBeforeScaleRotate(target);\r\n      }\r\n\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _clearSelection: function(e, target, pointer) {\r\n      this.deactivateAllWithDispatch(e);\r\n\r\n      if (target && target.selectable) {\r\n        this.setActiveObject(target, e);\r\n      }\r\n      else if (this.selection) {\r\n        this._groupSelector = {\r\n          ex: pointer.x,\r\n          ey: pointer.y,\r\n          top: 0,\r\n          left: 0\r\n        };\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} target Object for that origin is set to center\r\n     */\r\n    _setOriginToCenter: function(target) {\r\n      this._previousOriginX = this._currentTransform.target.originX;\r\n      this._previousOriginY = this._currentTransform.target.originY;\r\n\r\n      var center = target.getCenterPoint();\r\n\r\n      target.originX = 'center';\r\n      target.originY = 'center';\r\n\r\n      target.left = center.x;\r\n      target.top = center.y;\r\n\r\n      this._currentTransform.left = target.left;\r\n      this._currentTransform.top = target.top;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} target Object for that center is set to origin\r\n     */\r\n    _setCenterToOrigin: function(target) {\r\n      var originPoint = target.translateToOriginPoint(\r\n        target.getCenterPoint(),\r\n        this._previousOriginX,\r\n        this._previousOriginY);\r\n\r\n      target.originX = this._previousOriginX;\r\n      target.originY = this._previousOriginY;\r\n\r\n      target.left = originPoint.x;\r\n      target.top = originPoint.y;\r\n\r\n      this._previousOriginX = null;\r\n      this._previousOriginY = null;\r\n    },\r\n\r\n    /**\r\n     * Method that defines the actions when mouse is hovering the canvas.\r\n     * The currentTransform parameter will definde whether the user is rotating/scaling/translating\r\n     * an image or neither of them (only hovering). A group selection is also possible and would cancel\r\n     * all any other type of action.\r\n     * In case of an image transformation only the top canvas will be rendered.\r\n     * @private\r\n     * @param {Event} e Event object fired on mousemove\r\n     */\r\n    __onMouseMove: function (e) {\r\n\r\n      var target, pointer;\r\n\r\n      if (this.isDrawingMode) {\r\n        this._onMouseMoveInDrawingMode(e);\r\n        return;\r\n      }\r\n      if (typeof e.touches !== 'undefined' && e.touches.length > 1) {\r\n        return;\r\n      }\r\n\r\n      var groupSelector = this._groupSelector;\r\n\r\n      // We initially clicked in an empty area, so we draw a box for multiple selection\r\n      if (groupSelector) {\r\n        pointer = this.getPointer(e, true);\r\n\r\n        groupSelector.left = pointer.x - groupSelector.ex;\r\n        groupSelector.top = pointer.y - groupSelector.ey;\r\n\r\n        this.renderTop();\r\n      }\r\n      else if (!this._currentTransform) {\r\n        target = this.findTarget(e);\r\n        this._setCursorFromEvent(e, target);\r\n      }\r\n      else {\r\n        this._transformObject(e);\r\n      }\r\n      this._handleEvent(e, 'move', target ? target : null);\r\n    },\r\n\r\n    /**\r\n     * Method that defines actions when an Event Mouse Wheel\r\n     * @param {Event} e Event object fired on mouseup\r\n     */\r\n    __onMouseWheel: function(e) {\r\n      this.fire('mouse:wheel', {\r\n        e: e\r\n      });\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event fired on mousemove\r\n     */\r\n    _transformObject: function(e) {\r\n      var pointer = this.getPointer(e),\r\n          transform = this._currentTransform;\r\n\r\n      transform.reset = false;\r\n      transform.target.isMoving = true;\r\n\r\n      this._beforeScaleTransform(e, transform);\r\n      this._performTransformAction(e, transform, pointer);\r\n\r\n      transform.actionPerformed && this.renderAll();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _performTransformAction: function(e, transform, pointer) {\r\n      var x = pointer.x,\r\n          y = pointer.y,\r\n          target = transform.target,\r\n          action = transform.action,\r\n          actionPerformed = false;\r\n\r\n      if (action === 'rotate') {\r\n        (actionPerformed = this._rotateObject(x, y)) && this._fire('rotating', target, e);\r\n      }\r\n      else if (action === 'scale') {\r\n        (actionPerformed = this._onScale(e, transform, x, y)) && this._fire('scaling', target, e);\r\n      }\r\n      else if (action === 'scaleX') {\r\n        (actionPerformed = this._scaleObject(x, y, 'x')) && this._fire('scaling', target, e);\r\n      }\r\n      else if (action === 'scaleY') {\r\n        (actionPerformed = this._scaleObject(x, y, 'y')) && this._fire('scaling', target, e);\r\n      }\r\n      else if (action === 'skewX') {\r\n        (actionPerformed = this._skewObject(x, y, 'x')) && this._fire('skewing', target, e);\r\n      }\r\n      else if (action === 'skewY') {\r\n        (actionPerformed = this._skewObject(x, y, 'y')) && this._fire('skewing', target, e);\r\n      }\r\n      else {\r\n        actionPerformed = this._translateObject(x, y);\r\n        if (actionPerformed) {\r\n          this._fire('moving', target, e);\r\n          this.setCursor(target.moveCursor || this.moveCursor);\r\n        }\r\n      }\r\n      transform.actionPerformed = actionPerformed;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _fire: function(eventName, target, e) {\r\n      this.fire('object:' + eventName, { target: target, e: e });\r\n      target.fire(eventName, { e: e });\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _beforeScaleTransform: function(e, transform) {\r\n      if (transform.action === 'scale' || transform.action === 'scaleX' || transform.action === 'scaleY') {\r\n        var centerTransform = this._shouldCenterTransform(transform.target);\r\n\r\n        // Switch from a normal resize to center-based\r\n        if ((centerTransform && (transform.originX !== 'center' || transform.originY !== 'center')) ||\r\n           // Switch from center-based resize to normal one\r\n           (!centerTransform && transform.originX === 'center' && transform.originY === 'center')\r\n        ) {\r\n          this._resetCurrentTransform();\r\n          transform.reset = true;\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object\r\n     * @param {Object} transform current tranform\r\n     * @param {Number} x mouse position x from origin\r\n     * @param {Number} y mouse poistion y from origin\r\n     * @return {Boolean} true if the scaling occurred\r\n     */\r\n    _onScale: function(e, transform, x, y) {\r\n      if ((e[this.uniScaleKey] || this.uniScaleTransform) && !transform.target.get('lockUniScaling')) {\r\n        transform.currentAction = 'scale';\r\n        return this._scaleObject(x, y);\r\n      }\r\n      else {\r\n        // Switch from a normal resize to proportional\r\n        if (!transform.reset && transform.currentAction === 'scale') {\r\n          this._resetCurrentTransform();\r\n        }\r\n\r\n        transform.currentAction = 'scaleEqually';\r\n        return this._scaleObject(x, y, 'equally');\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Sets the cursor depending on where the canvas is being hovered.\r\n     * Note: very buggy in Opera\r\n     * @param {Event} e Event object\r\n     * @param {Object} target Object that the mouse is hovering, if so.\r\n     */\r\n    _setCursorFromEvent: function (e, target) {\r\n      if (!target) {\r\n        this.setCursor(this.defaultCursor);\r\n        return false;\r\n      }\r\n\r\n      var hoverCursor = target.hoverCursor || this.hoverCursor;\r\n      if (!target.selectable) {\r\n        //let's skip _findTargetCorner if object is not selectable\r\n        this.setCursor(hoverCursor);\r\n      }\r\n      else {\r\n        var activeGroup = this.getActiveGroup(),\r\n            // only show proper corner when group selection is not active\r\n            corner = target._findTargetCorner\r\n                      && (!activeGroup || !activeGroup.contains(target))\r\n                      && target._findTargetCorner(this.getPointer(e, true));\r\n\r\n        if (!corner) {\r\n          this.setCursor(hoverCursor);\r\n        }\r\n        else {\r\n          this._setCornerCursor(corner, target, e);\r\n        }\r\n      }\r\n      //actually unclear why it should return something\r\n      //is never evaluated\r\n      return true;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setCornerCursor: function(corner, target, e) {\r\n      if (corner in cursorOffset) {\r\n        this.setCursor(this._getRotatedCornerCursor(corner, target, e));\r\n      }\r\n      else if (corner === 'mtr' && target.hasRotatingPoint) {\r\n        this.setCursor(this.rotationCursor);\r\n      }\r\n      else {\r\n        this.setCursor(this.defaultCursor);\r\n        return false;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _getRotatedCornerCursor: function(corner, target, e) {\r\n      var n = Math.round((target.getAngle() % 360) / 45);\r\n\r\n      if (n < 0) {\r\n        n += 8; // full circle ahead\r\n      }\r\n      n += cursorOffset[corner];\r\n      if (e[this.altActionKey] && cursorOffset[corner] % 2 === 0) {\r\n        //if we are holding shift and we are on a mx corner...\r\n        n += 2;\r\n      }\r\n      // normalize n to be from 0 to 7\r\n      n %= 8;\r\n\r\n      return this.cursorMap[n];\r\n    }\r\n  });\r\n})();\r\n\r\n\r\n(function() {\r\n\r\n  var min = Math.min,\r\n      max = Math.max;\r\n\r\n  fabric.util.object.extend(fabric.Canvas.prototype, /** @lends fabric.Canvas.prototype */ {\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object\r\n     * @param {fabric.Object} target\r\n     * @return {Boolean}\r\n     */\r\n    _shouldGroup: function(e, target) {\r\n      var activeObject = this.getActiveObject();\r\n      return e[this.selectionKey] && target && target.selectable &&\r\n            (this.getActiveGroup() || (activeObject && activeObject !== target))\r\n            && this.selection;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e Event object\r\n     * @param {fabric.Object} target\r\n     */\r\n    _handleGrouping: function (e, target) {\r\n      var activeGroup = this.getActiveGroup();\r\n\r\n      if (target === activeGroup) {\r\n        // if it's a group, find target again, using activeGroup objects\r\n        target = this.findTarget(e, true);\r\n        // if even object is not found, bail out\r\n        if (!target) {\r\n          return;\r\n        }\r\n      }\r\n      if (activeGroup) {\r\n        this._updateActiveGroup(target, e);\r\n      }\r\n      else {\r\n        this._createActiveGroup(target, e);\r\n      }\r\n\r\n      if (this._activeGroup) {\r\n        this._activeGroup.saveCoords();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _updateActiveGroup: function(target, e) {\r\n      var activeGroup = this.getActiveGroup();\r\n\r\n      if (activeGroup.contains(target)) {\r\n\r\n        activeGroup.removeWithUpdate(target);\r\n        target.set('active', false);\r\n\r\n        if (activeGroup.size() === 1) {\r\n          // remove group alltogether if after removal it only contains 1 object\r\n          this.discardActiveGroup(e);\r\n          // activate last remaining object\r\n          this.setActiveObject(activeGroup.item(0));\r\n          return;\r\n        }\r\n      }\r\n      else {\r\n        activeGroup.addWithUpdate(target);\r\n      }\r\n      this.fire('selection:created', { target: activeGroup, e: e });\r\n      activeGroup.set('active', true);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _createActiveGroup: function(target, e) {\r\n\r\n      if (this._activeObject && target !== this._activeObject) {\r\n\r\n        var group = this._createGroup(target);\r\n        group.addWithUpdate();\r\n\r\n        this.setActiveGroup(group);\r\n        this._activeObject = null;\r\n\r\n        this.fire('selection:created', { target: group, e: e });\r\n      }\r\n\r\n      target.set('active', true);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} target\r\n     */\r\n    _createGroup: function(target) {\r\n\r\n      var objects = this.getObjects(),\r\n          isActiveLower = objects.indexOf(this._activeObject) < objects.indexOf(target),\r\n          groupObjects = isActiveLower\r\n            ? [this._activeObject, target]\r\n            : [target, this._activeObject];\r\n      this._activeObject.isEditing && this._activeObject.exitEditing();\r\n      return new fabric.Group(groupObjects, {\r\n        canvas: this\r\n      });\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e mouse event\r\n     */\r\n    _groupSelectedObjects: function (e) {\r\n\r\n      var group = this._collectObjects();\r\n\r\n      // do not create group for 1 element only\r\n      if (group.length === 1) {\r\n        this.setActiveObject(group[0], e);\r\n      }\r\n      else if (group.length > 1) {\r\n        group = new fabric.Group(group.reverse(), {\r\n          canvas: this\r\n        });\r\n        group.addWithUpdate();\r\n        this.setActiveGroup(group, e);\r\n        group.saveCoords();\r\n        this.fire('selection:created', { target: group });\r\n        this.renderAll();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _collectObjects: function() {\r\n      var group = [],\r\n          currentObject,\r\n          x1 = this._groupSelector.ex,\r\n          y1 = this._groupSelector.ey,\r\n          x2 = x1 + this._groupSelector.left,\r\n          y2 = y1 + this._groupSelector.top,\r\n          selectionX1Y1 = new fabric.Point(min(x1, x2), min(y1, y2)),\r\n          selectionX2Y2 = new fabric.Point(max(x1, x2), max(y1, y2)),\r\n          isClick = x1 === x2 && y1 === y2;\r\n\r\n      for (var i = this._objects.length; i--; ) {\r\n        currentObject = this._objects[i];\r\n\r\n        if (!currentObject || !currentObject.selectable || !currentObject.visible) {\r\n          continue;\r\n        }\r\n\r\n        if (currentObject.intersectsWithRect(selectionX1Y1, selectionX2Y2) ||\r\n            currentObject.isContainedWithinRect(selectionX1Y1, selectionX2Y2) ||\r\n            currentObject.containsPoint(selectionX1Y1) ||\r\n            currentObject.containsPoint(selectionX2Y2)\r\n        ) {\r\n          currentObject.set('active', true);\r\n          group.push(currentObject);\r\n\r\n          // only add one object if it's a click\r\n          if (isClick) {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return group;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _maybeGroupObjects: function(e) {\r\n      if (this.selection && this._groupSelector) {\r\n        this._groupSelectedObjects(e);\r\n      }\r\n\r\n      var activeGroup = this.getActiveGroup();\r\n      if (activeGroup) {\r\n        activeGroup.setObjectsCoords().setCoords();\r\n        activeGroup.isMoving = false;\r\n        this.setCursor(this.defaultCursor);\r\n      }\r\n\r\n      // clear selection and current transformation\r\n      this._groupSelector = null;\r\n      this._currentTransform = null;\r\n    }\r\n  });\r\n\r\n})();\r\n\r\n\r\n(function () {\r\n\r\n  var supportQuality = fabric.StaticCanvas.supports('toDataURLWithQuality');\r\n\r\n  fabric.util.object.extend(fabric.StaticCanvas.prototype, /** @lends fabric.StaticCanvas.prototype */ {\r\n\r\n    /**\r\n     * Exports canvas element to a dataurl image. Note that when multiplier is used, cropping is scaled appropriately\r\n     * @param {Object} [options] Options object\r\n     * @param {String} [options.format=png] The format of the output image. Either \"jpeg\" or \"png\"\r\n     * @param {Number} [options.quality=1] Quality level (0..1). Only used for jpeg.\r\n     * @param {Number} [options.multiplier=1] Multiplier to scale by\r\n     * @param {Number} [options.left] Cropping left offset. Introduced in v1.2.14\r\n     * @param {Number} [options.top] Cropping top offset. Introduced in v1.2.14\r\n     * @param {Number} [options.width] Cropping width. Introduced in v1.2.14\r\n     * @param {Number} [options.height] Cropping height. Introduced in v1.2.14\r\n     * @return {String} Returns a data: URL containing a representation of the object in the format specified by options.format\r\n     * @see {@link http://jsfiddle.net/fabricjs/NfZVb/|jsFiddle demo}\r\n     * @example <caption>Generate jpeg dataURL with lower quality</caption>\r\n     * var dataURL = canvas.toDataURL({\r\n     *   format: 'jpeg',\r\n     *   quality: 0.8\r\n     * });\r\n     * @example <caption>Generate cropped png dataURL (clipping of canvas)</caption>\r\n     * var dataURL = canvas.toDataURL({\r\n     *   format: 'png',\r\n     *   left: 100,\r\n     *   top: 100,\r\n     *   width: 200,\r\n     *   height: 200\r\n     * });\r\n     * @example <caption>Generate double scaled png dataURL</caption>\r\n     * var dataURL = canvas.toDataURL({\r\n     *   format: 'png',\r\n     *   multiplier: 2\r\n     * });\r\n     */\r\n    toDataURL: function (options) {\r\n      options || (options = { });\r\n\r\n      var format = options.format || 'png',\r\n          quality = options.quality || 1,\r\n          multiplier = options.multiplier || 1,\r\n          cropping = {\r\n            left: options.left || 0,\r\n            top: options.top || 0,\r\n            width: options.width || 0,\r\n            height: options.height || 0,\r\n          };\r\n      return this.__toDataURLWithMultiplier(format, quality, cropping, multiplier);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    __toDataURLWithMultiplier: function(format, quality, cropping, multiplier) {\r\n\r\n      var origWidth = this.getWidth(),\r\n          origHeight = this.getHeight(),\r\n          scaledWidth = (cropping.width || this.getWidth()) * multiplier,\r\n          scaledHeight = (cropping.height || this.getHeight()) * multiplier,\r\n          zoom = this.getZoom(),\r\n          newZoom = zoom * multiplier,\r\n          vp = this.viewportTransform,\r\n          translateX = (vp[4] - cropping.left) * multiplier,\r\n          translateY = (vp[5] - cropping.top) * multiplier,\r\n          newVp = [newZoom, 0, 0, newZoom, translateX, translateY],\r\n          originalInteractive = this.interactive;\r\n\r\n      this.viewportTransform = newVp;\r\n      // setting interactive to false avoid exporting controls\r\n      this.interactive && (this.interactive = false);\r\n      if (origWidth !== scaledWidth || origHeight !== scaledHeight) {\r\n        // this.setDimensions is going to renderAll also;\r\n        this.setDimensions({ width: scaledWidth, height: scaledHeight });\r\n      }\r\n      else {\r\n        this.renderAll();\r\n      }\r\n      var data = this.__toDataURL(format, quality, cropping);\r\n      originalInteractive && (this.interactive = originalInteractive);\r\n      this.viewportTransform = vp;\r\n      //setDimensions with no option object is taking care of:\r\n      //this.width, this.height, this.renderAll()\r\n      this.setDimensions({ width: origWidth, height: origHeight });\r\n      return data;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    __toDataURL: function(format, quality) {\r\n\r\n      var canvasEl = this.contextContainer.canvas;\r\n      // to avoid common confusion https://github.com/kangax/fabric.js/issues/806\r\n      if (format === 'jpg') {\r\n        format = 'jpeg';\r\n      }\r\n\r\n      var data = supportQuality\r\n                ? canvasEl.toDataURL('image/' + format, quality)\r\n                : canvasEl.toDataURL('image/' + format);\r\n\r\n      return data;\r\n    },\r\n\r\n    /**\r\n     * Exports canvas element to a dataurl image (allowing to change image size via multiplier).\r\n     * @deprecated since 1.0.13\r\n     * @param {String} format (png|jpeg)\r\n     * @param {Number} multiplier\r\n     * @param {Number} quality (0..1)\r\n     * @return {String}\r\n     */\r\n    toDataURLWithMultiplier: function (format, multiplier, quality) {\r\n      return this.toDataURL({\r\n        format: format,\r\n        multiplier: multiplier,\r\n        quality: quality\r\n      });\r\n    },\r\n  });\r\n\r\n})();\r\n\r\n\r\nfabric.util.object.extend(fabric.StaticCanvas.prototype, /** @lends fabric.StaticCanvas.prototype */ {\r\n\r\n  /**\r\n   * Populates canvas with data from the specified dataless JSON.\r\n   * JSON format must conform to the one of {@link fabric.Canvas#toDatalessJSON}\r\n   * @deprecated since 1.2.2\r\n   * @param {String|Object} json JSON string or object\r\n   * @param {Function} callback Callback, invoked when json is parsed\r\n   *                            and corresponding objects (e.g: {@link fabric.Image})\r\n   *                            are initialized\r\n   * @param {Function} [reviver] Method for further parsing of JSON elements, called after each fabric object created.\r\n   * @return {fabric.Canvas} instance\r\n   * @chainable\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-3#deserialization}\r\n   */\r\n  loadFromDatalessJSON: function (json, callback, reviver) {\r\n    return this.loadFromJSON(json, callback, reviver);\r\n  },\r\n\r\n  /**\r\n   * Populates canvas with data from the specified JSON.\r\n   * JSON format must conform to the one of {@link fabric.Canvas#toJSON}\r\n   * @param {String|Object} json JSON string or object\r\n   * @param {Function} callback Callback, invoked when json is parsed\r\n   *                            and corresponding objects (e.g: {@link fabric.Image})\r\n   *                            are initialized\r\n   * @param {Function} [reviver] Method for further parsing of JSON elements, called after each fabric object created.\r\n   * @return {fabric.Canvas} instance\r\n   * @chainable\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-3#deserialization}\r\n   * @see {@link http://jsfiddle.net/fabricjs/fmgXt/|jsFiddle demo}\r\n   * @example <caption>loadFromJSON</caption>\r\n   * canvas.loadFromJSON(json, canvas.renderAll.bind(canvas));\r\n   * @example <caption>loadFromJSON with reviver</caption>\r\n   * canvas.loadFromJSON(json, canvas.renderAll.bind(canvas), function(o, object) {\r\n   *   // `o` = json object\r\n   *   // `object` = fabric.Object instance\r\n   *   // ... do some stuff ...\r\n   * });\r\n   */\r\n  loadFromJSON: function (json, callback, reviver) {\r\n    if (!json) {\r\n      return;\r\n    }\r\n\r\n    // serialize if it wasn't already\r\n    var serialized = (typeof json === 'string')\r\n      ? JSON.parse(json)\r\n      : fabric.util.object.clone(json);\r\n\r\n    this.clear();\r\n\r\n    var _this = this;\r\n    this._enlivenObjects(serialized.objects, function () {\r\n      _this._setBgOverlay(serialized, function () {\r\n        // remove parts i cannot set as options\r\n        delete serialized.objects;\r\n        delete serialized.backgroundImage;\r\n        delete serialized.overlayImage;\r\n        delete serialized.background;\r\n        delete serialized.overlay;\r\n        // this._initOptions does too many things to just\r\n        // call it. Normally loading an Object from JSON\r\n        // create the Object instance. Here the Canvas is\r\n        // already an instance and we are just loading things over it\r\n        for (var prop in serialized) {\r\n          _this[prop] = serialized[prop];\r\n        }\r\n        callback && callback();\r\n      });\r\n    }, reviver);\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   * @param {Object} serialized Object with background and overlay information\r\n   * @param {Function} callback Invoked after all background and overlay images/patterns loaded\r\n   */\r\n  _setBgOverlay: function(serialized, callback) {\r\n    var _this = this,\r\n        loaded = {\r\n          backgroundColor: false,\r\n          overlayColor: false,\r\n          backgroundImage: false,\r\n          overlayImage: false\r\n        };\r\n\r\n    if (!serialized.backgroundImage && !serialized.overlayImage && !serialized.background && !serialized.overlay) {\r\n      callback && callback();\r\n      return;\r\n    }\r\n\r\n    var cbIfLoaded = function () {\r\n      if (loaded.backgroundImage && loaded.overlayImage && loaded.backgroundColor && loaded.overlayColor) {\r\n        _this.renderAll();\r\n        callback && callback();\r\n      }\r\n    };\r\n\r\n    this.__setBgOverlay('backgroundImage', serialized.backgroundImage, loaded, cbIfLoaded);\r\n    this.__setBgOverlay('overlayImage', serialized.overlayImage, loaded, cbIfLoaded);\r\n    this.__setBgOverlay('backgroundColor', serialized.background, loaded, cbIfLoaded);\r\n    this.__setBgOverlay('overlayColor', serialized.overlay, loaded, cbIfLoaded);\r\n\r\n    cbIfLoaded();\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   * @param {String} property Property to set (backgroundImage, overlayImage, backgroundColor, overlayColor)\r\n   * @param {(Object|String)} value Value to set\r\n   * @param {Object} loaded Set loaded property to true if property is set\r\n   * @param {Object} callback Callback function to invoke after property is set\r\n   */\r\n  __setBgOverlay: function(property, value, loaded, callback) {\r\n    var _this = this;\r\n\r\n    if (!value) {\r\n      loaded[property] = true;\r\n      return;\r\n    }\r\n\r\n    if (property === 'backgroundImage' || property === 'overlayImage') {\r\n      fabric.Image.fromObject(value, function(img) {\r\n        _this[property] = img;\r\n        loaded[property] = true;\r\n        callback && callback();\r\n      });\r\n    }\r\n    else {\r\n      this['set' + fabric.util.string.capitalize(property, true)](value, function() {\r\n        loaded[property] = true;\r\n        callback && callback();\r\n      });\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   * @param {Array} objects\r\n   * @param {Function} callback\r\n   * @param {Function} [reviver]\r\n   */\r\n  _enlivenObjects: function (objects, callback, reviver) {\r\n    var _this = this;\r\n\r\n    if (!objects || objects.length === 0) {\r\n      callback && callback();\r\n      return;\r\n    }\r\n\r\n    var renderOnAddRemove = this.renderOnAddRemove;\r\n    this.renderOnAddRemove = false;\r\n\r\n    fabric.util.enlivenObjects(objects, function(enlivenedObjects) {\r\n      enlivenedObjects.forEach(function(obj, index) {\r\n        // we splice the array just in case some custom classes restored from JSON\r\n        // will add more object to canvas at canvas init.\r\n        _this.insertAt(obj, index);\r\n      });\r\n\r\n      _this.renderOnAddRemove = renderOnAddRemove;\r\n      callback && callback();\r\n    }, null, reviver);\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   * @param {String} format\r\n   * @param {Function} callback\r\n   */\r\n  _toDataURL: function (format, callback) {\r\n    this.clone(function (clone) {\r\n      callback(clone.toDataURL(format));\r\n    });\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   * @param {String} format\r\n   * @param {Number} multiplier\r\n   * @param {Function} callback\r\n   */\r\n  _toDataURLWithMultiplier: function (format, multiplier, callback) {\r\n    this.clone(function (clone) {\r\n      callback(clone.toDataURLWithMultiplier(format, multiplier));\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Clones canvas instance\r\n   * @param {Object} [callback] Receives cloned instance as a first argument\r\n   * @param {Array} [properties] Array of properties to include in the cloned canvas and children\r\n   */\r\n  clone: function (callback, properties) {\r\n    var data = JSON.stringify(this.toJSON(properties));\r\n    this.cloneWithoutData(function(clone) {\r\n      clone.loadFromJSON(data, function() {\r\n        callback && callback(clone);\r\n      });\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Clones canvas instance without cloning existing data.\r\n   * This essentially copies canvas dimensions, clipping properties, etc.\r\n   * but leaves data empty (so that you can populate it with your own)\r\n   * @param {Object} [callback] Receives cloned instance as a first argument\r\n   */\r\n  cloneWithoutData: function(callback) {\r\n    var el = fabric.document.createElement('canvas');\r\n\r\n    el.width = this.getWidth();\r\n    el.height = this.getHeight();\r\n\r\n    var clone = new fabric.Canvas(el);\r\n    clone.clipTo = this.clipTo;\r\n    if (this.backgroundImage) {\r\n      clone.setBackgroundImage(this.backgroundImage.src, function() {\r\n        clone.renderAll();\r\n        callback && callback(clone);\r\n      });\r\n      clone.backgroundImageOpacity = this.backgroundImageOpacity;\r\n      clone.backgroundImageStretch = this.backgroundImageStretch;\r\n    }\r\n    else {\r\n      callback && callback(clone);\r\n    }\r\n  }\r\n});\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      toFixed = fabric.util.toFixed,\r\n      capitalize = fabric.util.string.capitalize,\r\n      degreesToRadians = fabric.util.degreesToRadians,\r\n      supportsLineDash = fabric.StaticCanvas.supports('setLineDash'),\r\n      objectCaching = !fabric.isLikelyNode;\r\n\r\n  if (fabric.Object) {\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Root object class from which all 2d shape classes inherit from\r\n   * @class fabric.Object\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-1#objects}\r\n   * @see {@link fabric.Object#initialize} for constructor definition\r\n   *\r\n   * @fires added\r\n   * @fires removed\r\n   *\r\n   * @fires selected\r\n   * @fires deselected\r\n   * @fires modified\r\n   * @fires rotating\r\n   * @fires scaling\r\n   * @fires moving\r\n   * @fires skewing\r\n   *\r\n   * @fires mousedown\r\n   * @fires mouseup\r\n   * @fires mouseover\r\n   * @fires mouseout\r\n   */\r\n  fabric.Object = fabric.util.createClass(/** @lends fabric.Object.prototype */ {\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#clipTo|clipping function}\r\n     * @method getClipTo\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Function}\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#clipTo|clipping function}\r\n     * @method setClipTo\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {Function} clipTo Clipping function\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#transformMatrix|transformMatrix}\r\n     * @method getTransformMatrix\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Array} transformMatrix\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#transformMatrix|transformMatrix}\r\n     * @method setTransformMatrix\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {Array} transformMatrix\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#visible|visible} state\r\n     * @method getVisible\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Boolean} True if visible\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#visible|visible} state\r\n     * @method setVisible\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {Boolean} value visible value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#shadow|shadow}\r\n     * @method getShadow\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Object} Shadow instance\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#stroke|stroke}\r\n     * @method getStroke\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {String} stroke value\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#stroke|stroke}\r\n     * @method setStroke\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {String} value stroke value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#strokeWidth|strokeWidth}\r\n     * @method getStrokeWidth\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Number} strokeWidth value\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#strokeWidth|strokeWidth}\r\n     * @method setStrokeWidth\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {Number} value strokeWidth value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#originX|originX}\r\n     * @method getOriginX\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {String} originX value\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#originX|originX}\r\n     * @method setOriginX\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {String} value originX value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#originY|originY}\r\n     * @method getOriginY\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {String} originY value\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#originY|originY}\r\n     * @method setOriginY\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {String} value originY value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#fill|fill}\r\n     * @method getFill\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {String} Fill value\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#fill|fill}\r\n     * @method setFill\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {String} value Fill value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#opacity|opacity}\r\n     * @method getOpacity\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Number} Opacity value (0-1)\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#opacity|opacity}\r\n     * @method setOpacity\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {Number} value Opacity value (0-1)\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#angle|angle} (in degrees)\r\n     * @method getAngle\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Number}\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#top|top position}\r\n     * @method getTop\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Number} Top value (in pixels)\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#top|top position}\r\n     * @method setTop\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {Number} value Top value (in pixels)\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#left|left position}\r\n     * @method getLeft\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Number} Left value (in pixels)\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#left|left position}\r\n     * @method setLeft\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {Number} value Left value (in pixels)\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#scaleX|scaleX} value\r\n     * @method getScaleX\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Number} scaleX value\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#scaleX|scaleX} value\r\n     * @method setScaleX\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {Number} value scaleX value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#scaleY|scaleY} value\r\n     * @method getScaleY\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Number} scaleY value\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#scaleY|scaleY} value\r\n     * @method setScaleY\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {Number} value scaleY value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#flipX|flipX} value\r\n     * @method getFlipX\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Boolean} flipX value\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#flipX|flipX} value\r\n     * @method setFlipX\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {Boolean} value flipX value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's {@link fabric.Object#flipY|flipY} value\r\n     * @method getFlipY\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Boolean} flipY value\r\n     */\r\n\r\n    /**\r\n     * Sets object's {@link fabric.Object#flipY|flipY} value\r\n     * @method setFlipY\r\n     * @memberOf fabric.Object.prototype\r\n     * @param {Boolean} value flipY value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Type of an object (rect, circle, path, etc.).\r\n     * Note that this property is meant to be read-only and not meant to be modified.\r\n     * If you modify, certain parts of Fabric (such as JSON loading) won't work correctly.\r\n     * @type String\r\n     * @default\r\n     */\r\n    type:                     'object',\r\n\r\n    /**\r\n     * Horizontal origin of transformation of an object (one of \"left\", \"right\", \"center\")\r\n     * See http://jsfiddle.net/1ow02gea/40/ on how originX/originY affect objects in groups\r\n     * @type String\r\n     * @default\r\n     */\r\n    originX:                  'left',\r\n\r\n    /**\r\n     * Vertical origin of transformation of an object (one of \"top\", \"bottom\", \"center\")\r\n     * See http://jsfiddle.net/1ow02gea/40/ on how originX/originY affect objects in groups\r\n     * @type String\r\n     * @default\r\n     */\r\n    originY:                  'top',\r\n\r\n    /**\r\n     * Top position of an object. Note that by default it's relative to object top. You can change this by setting originY={top/center/bottom}\r\n     * @type Number\r\n     * @default\r\n     */\r\n    top:                      0,\r\n\r\n    /**\r\n     * Left position of an object. Note that by default it's relative to object left. You can change this by setting originX={left/center/right}\r\n     * @type Number\r\n     * @default\r\n     */\r\n    left:                     0,\r\n\r\n    /**\r\n     * Object width\r\n     * @type Number\r\n     * @default\r\n     */\r\n    width:                    0,\r\n\r\n    /**\r\n     * Object height\r\n     * @type Number\r\n     * @default\r\n     */\r\n    height:                   0,\r\n\r\n    /**\r\n     * Object scale factor (horizontal)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    scaleX:                   1,\r\n\r\n    /**\r\n     * Object scale factor (vertical)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    scaleY:                   1,\r\n\r\n    /**\r\n     * When true, an object is rendered as flipped horizontally\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    flipX:                    false,\r\n\r\n    /**\r\n     * When true, an object is rendered as flipped vertically\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    flipY:                    false,\r\n\r\n    /**\r\n     * Opacity of an object\r\n     * @type Number\r\n     * @default\r\n     */\r\n    opacity:                  1,\r\n\r\n    /**\r\n     * Angle of rotation of an object (in degrees)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    angle:                    0,\r\n\r\n    /**\r\n     * Angle of skew on x axes of an object (in degrees)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    skewX:                    0,\r\n\r\n    /**\r\n     * Angle of skew on y axes of an object (in degrees)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    skewY:                    0,\r\n\r\n    /**\r\n     * Size of object's controlling corners (in pixels)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    cornerSize:               13,\r\n\r\n    /**\r\n     * When true, object's controlling corners are rendered as transparent inside (i.e. stroke instead of fill)\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    transparentCorners:       true,\r\n\r\n    /**\r\n     * Default cursor value used when hovering over this object on canvas\r\n     * @type String\r\n     * @default\r\n     */\r\n    hoverCursor:              null,\r\n\r\n    /**\r\n     * Default cursor value used when moving this object on canvas\r\n     * @type String\r\n     * @default\r\n     */\r\n    moveCursor:               null,\r\n\r\n    /**\r\n     * Padding between object and its controlling borders (in pixels)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    padding:                  0,\r\n\r\n    /**\r\n     * Color of controlling borders of an object (when it's active)\r\n     * @type String\r\n     * @default\r\n     */\r\n    borderColor:              'rgba(102,153,255,0.75)',\r\n\r\n    /**\r\n     * Array specifying dash pattern of an object's borders (hasBorder must be true)\r\n     * @since 1.6.2\r\n     * @type Array\r\n     */\r\n    borderDashArray:          null,\r\n\r\n    /**\r\n     * Color of controlling corners of an object (when it's active)\r\n     * @type String\r\n     * @default\r\n     */\r\n    cornerColor:              'rgba(102,153,255,0.5)',\r\n\r\n    /**\r\n     * Color of controlling corners of an object (when it's active and transparentCorners false)\r\n     * @since 1.6.2\r\n     * @type String\r\n     * @default\r\n     */\r\n    cornerStrokeColor:        null,\r\n\r\n    /**\r\n     * Specify style of control, 'rect' or 'circle'\r\n     * @since 1.6.2\r\n     * @type String\r\n     */\r\n    cornerStyle:          'rect',\r\n\r\n    /**\r\n     * Array specifying dash pattern of an object's control (hasBorder must be true)\r\n     * @since 1.6.2\r\n     * @type Array\r\n     */\r\n    cornerDashArray:          null,\r\n\r\n    /**\r\n     * When true, this object will use center point as the origin of transformation\r\n     * when being scaled via the controls.\r\n     * <b>Backwards incompatibility note:</b> This property replaces \"centerTransform\" (Boolean).\r\n     * @since 1.3.4\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    centeredScaling:          false,\r\n\r\n    /**\r\n     * When true, this object will use center point as the origin of transformation\r\n     * when being rotated via the controls.\r\n     * <b>Backwards incompatibility note:</b> This property replaces \"centerTransform\" (Boolean).\r\n     * @since 1.3.4\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    centeredRotation:         true,\r\n\r\n    /**\r\n     * Color of object's fill\r\n     * @type String\r\n     * @default\r\n     */\r\n    fill:                     'rgb(0,0,0)',\r\n\r\n    /**\r\n     * Fill rule used to fill an object\r\n     * accepted values are nonzero, evenodd\r\n     * <b>Backwards incompatibility note:</b> This property was used for setting globalCompositeOperation until v1.4.12 (use `fabric.Object#globalCompositeOperation` instead)\r\n     * @type String\r\n     * @default\r\n     */\r\n    fillRule:                 'nonzero',\r\n\r\n    /**\r\n     * Composite rule used for canvas globalCompositeOperation\r\n     * @type String\r\n     * @default\r\n     */\r\n    globalCompositeOperation: 'source-over',\r\n\r\n    /**\r\n     * Background color of an object. Only works with text objects at the moment.\r\n     * @type String\r\n     * @default\r\n     */\r\n    backgroundColor:          '',\r\n\r\n    /**\r\n     * Selection Background color of an object. colored layer behind the object when it is active.\r\n     * does not mix good with globalCompositeOperation methods.\r\n     * @type String\r\n     * @default\r\n     */\r\n    selectionBackgroundColor:          '',\r\n\r\n    /**\r\n     * When defined, an object is rendered via stroke and this property specifies its color\r\n     * @type String\r\n     * @default\r\n     */\r\n    stroke:                   null,\r\n\r\n    /**\r\n     * Width of a stroke used to render this object\r\n     * @type Number\r\n     * @default\r\n     */\r\n    strokeWidth:              1,\r\n\r\n    /**\r\n     * Array specifying dash pattern of an object's stroke (stroke must be defined)\r\n     * @type Array\r\n     */\r\n    strokeDashArray:          null,\r\n\r\n    /**\r\n     * Line endings style of an object's stroke (one of \"butt\", \"round\", \"square\")\r\n     * @type String\r\n     * @default\r\n     */\r\n    strokeLineCap:            'butt',\r\n\r\n    /**\r\n     * Corner style of an object's stroke (one of \"bevil\", \"round\", \"miter\")\r\n     * @type String\r\n     * @default\r\n     */\r\n    strokeLineJoin:           'miter',\r\n\r\n    /**\r\n     * Maximum miter length (used for strokeLineJoin = \"miter\") of an object's stroke\r\n     * @type Number\r\n     * @default\r\n     */\r\n    strokeMiterLimit:         10,\r\n\r\n    /**\r\n     * Shadow object representing shadow of this shape\r\n     * @type fabric.Shadow\r\n     * @default\r\n     */\r\n    shadow:                   null,\r\n\r\n    /**\r\n     * Opacity of object's controlling borders when object is active and moving\r\n     * @type Number\r\n     * @default\r\n     */\r\n    borderOpacityWhenMoving:  0.4,\r\n\r\n    /**\r\n     * Scale factor of object's controlling borders\r\n     * @type Number\r\n     * @default\r\n     */\r\n    borderScaleFactor:        1,\r\n\r\n    /**\r\n     * Transform matrix (similar to SVG's transform matrix)\r\n     * @type Array\r\n     */\r\n    transformMatrix:          null,\r\n\r\n    /**\r\n     * Minimum allowed scale value of an object\r\n     * @type Number\r\n     * @default\r\n     */\r\n    minScaleLimit:            0.01,\r\n\r\n    /**\r\n     * When set to `false`, an object can not be selected for modification (using either point-click-based or group-based selection).\r\n     * But events still fire on it.\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    selectable:               true,\r\n\r\n    /**\r\n     * When set to `false`, an object can not be a target of events. All events propagate through it. Introduced in v1.3.4\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    evented:                  true,\r\n\r\n    /**\r\n     * When set to `false`, an object is not rendered on canvas\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    visible:                  true,\r\n\r\n    /**\r\n     * When set to `false`, object's controls are not displayed and can not be used to manipulate object\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    hasControls:              true,\r\n\r\n    /**\r\n     * When set to `false`, object's controlling borders are not rendered\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    hasBorders:               true,\r\n\r\n    /**\r\n     * When set to `false`, object's controlling rotating point will not be visible or selectable\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    hasRotatingPoint:         true,\r\n\r\n    /**\r\n     * Offset for object's controlling rotating point (when enabled via `hasRotatingPoint`)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    rotatingPointOffset:      40,\r\n\r\n    /**\r\n     * When set to `true`, objects are \"found\" on canvas on per-pixel basis rather than according to bounding box\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    perPixelTargetFind:       false,\r\n\r\n    /**\r\n     * When `false`, default object's values are not included in its serialization\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    includeDefaultValues:     true,\r\n\r\n    /**\r\n     * Function that determines clipping of an object (context is passed as a first argument)\r\n     * Note that context origin is at the object's center point (not left/top corner)\r\n     * @type Function\r\n     */\r\n    clipTo:                   null,\r\n\r\n    /**\r\n     * When `true`, object horizontal movement is locked\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    lockMovementX:            false,\r\n\r\n    /**\r\n     * When `true`, object vertical movement is locked\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    lockMovementY:            false,\r\n\r\n    /**\r\n     * When `true`, object rotation is locked\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    lockRotation:             false,\r\n\r\n    /**\r\n     * When `true`, object horizontal scaling is locked\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    lockScalingX:             false,\r\n\r\n    /**\r\n     * When `true`, object vertical scaling is locked\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    lockScalingY:             false,\r\n\r\n    /**\r\n     * When `true`, object non-uniform scaling is locked\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    lockUniScaling:           false,\r\n\r\n    /**\r\n     * When `true`, object horizontal skewing is locked\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    lockSkewingX:             false,\r\n\r\n    /**\r\n     * When `true`, object vertical skewing is locked\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    lockSkewingY:             false,\r\n\r\n    /**\r\n     * When `true`, object cannot be flipped by scaling into negative values\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    lockScalingFlip:          false,\r\n\r\n    /**\r\n     * When `true`, object is not exported in SVG or OBJECT/JSON\r\n     * since 1.6.3\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    excludeFromExport:        false,\r\n\r\n    /**\r\n     * When `true`, object is cached on an additional canvas.\r\n     * default to true\r\n     * since 1.7.0\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    objectCaching:            objectCaching,\r\n\r\n    /**\r\n     * When `true`, object properties are checked for cache invalidation. In some particular\r\n     * situation you may want this to be disabled ( spray brush, very big pathgroups, groups)\r\n     * or if your application does not allow you to modify properties for groups child you want\r\n     * to disable it for groups.\r\n     * default to false\r\n     * since 1.7.0\r\n     * @type Boolean\r\n     * @default false\r\n     */\r\n    statefullCache:            false,\r\n\r\n    /**\r\n     * When `true`, cache does not get updated during scaling. The picture will get blocky if scaled\r\n     * too much and will be redrawn with correct details at the end of scaling.\r\n     * this setting is performance and application dependant.\r\n     * default to false\r\n     * since 1.7.0\r\n     * @type Boolean\r\n     * @default true\r\n     */\r\n    noScaleCache:              true,\r\n\r\n    /**\r\n     * When set to `true`, object's cache will be rerendered next render call.\r\n     * @type Boolean\r\n     * @default false\r\n     */\r\n    dirty:                false,\r\n\r\n    /**\r\n     * List of properties to consider when checking if state\r\n     * of an object is changed (fabric.Object#hasStateChanged)\r\n     * as well as for history (undo/redo) purposes\r\n     * @type Array\r\n     */\r\n    stateProperties: (\r\n      'top left width height scaleX scaleY flipX flipY originX originY transformMatrix ' +\r\n      'stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit ' +\r\n      'angle opacity fill fillRule globalCompositeOperation shadow clipTo visible backgroundColor ' +\r\n      'skewX skewY'\r\n    ).split(' '),\r\n\r\n    /**\r\n     * List of properties to consider when checking if cache needs refresh\r\n     * @type Array\r\n     */\r\n    cacheProperties: (\r\n      'fill stroke strokeWidth strokeDashArray width height stroke strokeWidth strokeDashArray' +\r\n      ' strokeLineCap strokeLineJoin strokeMiterLimit fillRule backgroundColor'\r\n    ).split(' '),\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Object} [options] Options object\r\n     */\r\n    initialize: function(options) {\r\n      options = options || { };\r\n      if (options) {\r\n        this.setOptions(options);\r\n      }\r\n      if (this.objectCaching) {\r\n        this._createCacheCanvas();\r\n        this.setupState({ propertySet: 'cacheProperties' });\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Create a the canvas used to keep the cached copy of the object\r\n     * @private\r\n     */\r\n    _createCacheCanvas: function() {\r\n      this._cacheCanvas = fabric.document.createElement('canvas');\r\n      this._cacheContext = this._cacheCanvas.getContext('2d');\r\n      this._updateCacheCanvas();\r\n    },\r\n\r\n    /**\r\n     * Update width and height of the canvas for cache\r\n     * returns true or false if canvas needed resize.\r\n     * @private\r\n     * @return {Boolean} true if the canvas has been resized\r\n     */\r\n    _updateCacheCanvas: function() {\r\n      if (this.noScaleCache && this.canvas && this.canvas._currentTransform) {\r\n        var action = this.canvas._currentTransform.action;\r\n        if (action.slice(0, 5) === 'scale') {\r\n          return false;\r\n        }\r\n      }\r\n      var zoom = this.getViewportTransform()[0],\r\n          objectScale = this.getObjectScaling(),\r\n          dim = this._getNonTransformedDimensions(),\r\n          retina = this.canvas && this.canvas._isRetinaScaling() ? fabric.devicePixelRatio : 1,\r\n          zoomX = objectScale.scaleX * zoom * retina,\r\n          zoomY = objectScale.scaleY * zoom * retina,\r\n          width = dim.x * zoomX,\r\n          height = dim.y * zoomY;\r\n      if (width !== this.cacheWidth || height !== this.cacheHeight) {\r\n        this._cacheCanvas.width = width;\r\n        this._cacheCanvas.height = height;\r\n        this._cacheContext.translate(width / 2, height / 2);\r\n        this._cacheContext.scale(zoomX, zoomY);\r\n        this.cacheWidth = width;\r\n        this.cacheHeight = height;\r\n        this.zoomX = zoomX;\r\n        this.zoomY = zoomY;\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} [options] Options object\r\n     */\r\n    _initGradient: function(options) {\r\n      if (options.fill && options.fill.colorStops && !(options.fill instanceof fabric.Gradient)) {\r\n        this.set('fill', new fabric.Gradient(options.fill));\r\n      }\r\n      if (options.stroke && options.stroke.colorStops && !(options.stroke instanceof fabric.Gradient)) {\r\n        this.set('stroke', new fabric.Gradient(options.stroke));\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} [options] Options object\r\n     */\r\n    _initPattern: function(options) {\r\n      if (options.fill && options.fill.source && !(options.fill instanceof fabric.Pattern)) {\r\n        this.set('fill', new fabric.Pattern(options.fill));\r\n      }\r\n      if (options.stroke && options.stroke.source && !(options.stroke instanceof fabric.Pattern)) {\r\n        this.set('stroke', new fabric.Pattern(options.stroke));\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} [options] Options object\r\n     */\r\n    _initClipping: function(options) {\r\n      if (!options.clipTo || typeof options.clipTo !== 'string') {\r\n        return;\r\n      }\r\n\r\n      var functionBody = fabric.util.getFunctionBody(options.clipTo);\r\n      if (typeof functionBody !== 'undefined') {\r\n        this.clipTo = new Function('ctx', functionBody);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Sets object's properties from options\r\n     * @param {Object} [options] Options object\r\n     */\r\n    setOptions: function(options) {\r\n      for (var prop in options) {\r\n        this.set(prop, options[prop]);\r\n      }\r\n      this._initGradient(options);\r\n      this._initPattern(options);\r\n      this._initClipping(options);\r\n    },\r\n\r\n    /**\r\n     * Transforms context when rendering an object\r\n     * @param {CanvasRenderingContext2D} ctx Context\r\n     * @param {Boolean} fromLeft When true, context is transformed to object's top/left corner. This is used when rendering text on Node\r\n     */\r\n    transform: function(ctx, fromLeft) {\r\n      if (this.group && !this.group._transformDone && this.group === this.canvas._activeGroup) {\r\n        this.group.transform(ctx);\r\n      }\r\n      var center = fromLeft ? this._getLeftTopCoords() : this.getCenterPoint();\r\n      ctx.translate(center.x, center.y);\r\n      ctx.rotate(degreesToRadians(this.angle));\r\n      ctx.scale(\r\n        this.scaleX * (this.flipX ? -1 : 1),\r\n        this.scaleY * (this.flipY ? -1 : 1)\r\n      );\r\n      ctx.transform(1, 0, Math.tan(degreesToRadians(this.skewX)), 1, 0, 0);\r\n      ctx.transform(1, Math.tan(degreesToRadians(this.skewY)), 0, 1, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns an object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      var NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS,\r\n\r\n          object = {\r\n            type:                     this.type,\r\n            originX:                  this.originX,\r\n            originY:                  this.originY,\r\n            left:                     toFixed(this.left, NUM_FRACTION_DIGITS),\r\n            top:                      toFixed(this.top, NUM_FRACTION_DIGITS),\r\n            width:                    toFixed(this.width, NUM_FRACTION_DIGITS),\r\n            height:                   toFixed(this.height, NUM_FRACTION_DIGITS),\r\n            fill:                     (this.fill && this.fill.toObject) ? this.fill.toObject() : this.fill,\r\n            stroke:                   (this.stroke && this.stroke.toObject) ? this.stroke.toObject() : this.stroke,\r\n            strokeWidth:              toFixed(this.strokeWidth, NUM_FRACTION_DIGITS),\r\n            strokeDashArray:          this.strokeDashArray ? this.strokeDashArray.concat() : this.strokeDashArray,\r\n            strokeLineCap:            this.strokeLineCap,\r\n            strokeLineJoin:           this.strokeLineJoin,\r\n            strokeMiterLimit:         toFixed(this.strokeMiterLimit, NUM_FRACTION_DIGITS),\r\n            scaleX:                   toFixed(this.scaleX, NUM_FRACTION_DIGITS),\r\n            scaleY:                   toFixed(this.scaleY, NUM_FRACTION_DIGITS),\r\n            angle:                    toFixed(this.getAngle(), NUM_FRACTION_DIGITS),\r\n            flipX:                    this.flipX,\r\n            flipY:                    this.flipY,\r\n            opacity:                  toFixed(this.opacity, NUM_FRACTION_DIGITS),\r\n            shadow:                   (this.shadow && this.shadow.toObject) ? this.shadow.toObject() : this.shadow,\r\n            visible:                  this.visible,\r\n            clipTo:                   this.clipTo && String(this.clipTo),\r\n            backgroundColor:          this.backgroundColor,\r\n            fillRule:                 this.fillRule,\r\n            globalCompositeOperation: this.globalCompositeOperation,\r\n            transformMatrix:          this.transformMatrix ? this.transformMatrix.concat() : this.transformMatrix,\r\n            skewX:                    toFixed(this.skewX, NUM_FRACTION_DIGITS),\r\n            skewY:                    toFixed(this.skewY, NUM_FRACTION_DIGITS)\r\n          };\r\n\r\n      fabric.util.populateWithProperties(this, object, propertiesToInclude);\r\n\r\n      if (!this.includeDefaultValues) {\r\n        object = this._removeDefaultValues(object);\r\n      }\r\n\r\n      return object;\r\n    },\r\n\r\n    /**\r\n     * Returns (dataless) object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toDatalessObject: function(propertiesToInclude) {\r\n      // will be overwritten by subclasses\r\n      return this.toObject(propertiesToInclude);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} object\r\n     */\r\n    _removeDefaultValues: function(object) {\r\n      var prototype = fabric.util.getKlass(object.type).prototype,\r\n          stateProperties = prototype.stateProperties;\r\n      stateProperties.forEach(function(prop) {\r\n        if (object[prop] === prototype[prop]) {\r\n          delete object[prop];\r\n        }\r\n        var isArray = Object.prototype.toString.call(object[prop]) === '[object Array]' &&\r\n                      Object.prototype.toString.call(prototype[prop]) === '[object Array]';\r\n\r\n        // basically a check for [] === []\r\n        if (isArray && object[prop].length === 0 && prototype[prop].length === 0) {\r\n          delete object[prop];\r\n        }\r\n      });\r\n\r\n      return object;\r\n    },\r\n\r\n    /**\r\n     * Returns a string representation of an instance\r\n     * @return {String}\r\n     */\r\n    toString: function() {\r\n      return '#<fabric.' + capitalize(this.type) + '>';\r\n    },\r\n\r\n    /**\r\n     * Basic getter\r\n     * @param {String} property Property name\r\n     * @return {*} value of a property\r\n     */\r\n    get: function(property) {\r\n      return this[property];\r\n    },\r\n\r\n    /**\r\n     * Return the object scale factor counting also the group scaling\r\n     * @return {Object} object with scaleX and scaleY properties\r\n     */\r\n    getObjectScaling: function() {\r\n      var scaleX = this.scaleX, scaleY = this.scaleY;\r\n      if (this.group) {\r\n        var scaling = this.group.getObjectScaling();\r\n        scaleX *= scaling.scaleX;\r\n        scaleY *= scaling.scaleY;\r\n      }\r\n      return { scaleX: scaleX, scaleY: scaleY };\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setObject: function(obj) {\r\n      for (var prop in obj) {\r\n        this._set(prop, obj[prop]);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Sets property to a given value. When changing position/dimension -related properties (left, top, scale, angle, etc.) `set` does not update position of object's borders/controls. If you need to update those, call `setCoords()`.\r\n     * @param {String|Object} key Property name or object (if object, iterate over the object properties)\r\n     * @param {Object|Function} value Property value (if function, the value is passed into it and its return value is used as a new one)\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    set: function(key, value) {\r\n      if (typeof key === 'object') {\r\n        this._setObject(key);\r\n      }\r\n      else {\r\n        if (typeof value === 'function' && key !== 'clipTo') {\r\n          this._set(key, value(this.get(key)));\r\n        }\r\n        else {\r\n          this._set(key, value);\r\n        }\r\n      }\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} key\r\n     * @param {*} value\r\n     * @return {fabric.Object} thisArg\r\n     */\r\n    _set: function(key, value) {\r\n      var shouldConstrainValue = (key === 'scaleX' || key === 'scaleY');\r\n\r\n      if (shouldConstrainValue) {\r\n        value = this._constrainScale(value);\r\n      }\r\n      if (key === 'scaleX' && value < 0) {\r\n        this.flipX = !this.flipX;\r\n        value *= -1;\r\n      }\r\n      else if (key === 'scaleY' && value < 0) {\r\n        this.flipY = !this.flipY;\r\n        value *= -1;\r\n      }\r\n      else if (key === 'shadow' && value && !(value instanceof fabric.Shadow)) {\r\n        value = new fabric.Shadow(value);\r\n      }\r\n\r\n      this[key] = value;\r\n\r\n      if (this.cacheProperties.indexOf(key) > -1) {\r\n        this.dirty = true;\r\n      }\r\n\r\n      if (key === 'width' || key === 'height') {\r\n        this.minScaleLimit = Math.min(0.1, 1 / Math.max(this.width, this.height));\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * This callback function is called by the parent group of an object every\r\n     * time a non-delegated property changes on the group. It is passed the key\r\n     * and value as parameters. Not adding in this function's signature to avoid\r\n     * Travis build error about unused variables.\r\n     */\r\n    setOnGroup: function() {\r\n      // implemented by sub-classes, as needed.\r\n    },\r\n\r\n    /**\r\n     * Toggles specified property from `true` to `false` or from `false` to `true`\r\n     * @param {String} property Property to toggle\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    toggle: function(property) {\r\n      var value = this.get(property);\r\n      if (typeof value === 'boolean') {\r\n        this.set(property, !value);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Sets sourcePath of an object\r\n     * @param {String} value Value to set sourcePath to\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    setSourcePath: function(value) {\r\n      this.sourcePath = value;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Retrieves viewportTransform from Object's canvas if possible\r\n     * @method getViewportTransform\r\n     * @memberOf fabric.Object.prototype\r\n     * @return {Boolean} flipY value // TODO\r\n     */\r\n    getViewportTransform: function() {\r\n      if (this.canvas && this.canvas.viewportTransform) {\r\n        return this.canvas.viewportTransform;\r\n      }\r\n      return [1, 0, 0, 1, 0, 0];\r\n    },\r\n\r\n    /**\r\n     * Renders an object on a specified context\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} [noTransform] When true, context is not transformed\r\n     */\r\n    render: function(ctx, noTransform) {\r\n      // do not render if width/height are zeros or object is not visible\r\n      if ((this.width === 0 && this.height === 0) || !this.visible) {\r\n        return;\r\n      }\r\n      ctx.save();\r\n      //setup fill rule for current object\r\n      this._setupCompositeOperation(ctx);\r\n      this.drawSelectionBackground(ctx);\r\n      if (!noTransform) {\r\n        this.transform(ctx);\r\n      }\r\n      this._setOpacity(ctx);\r\n      this._setShadow(ctx);\r\n      if (this.transformMatrix) {\r\n        ctx.transform.apply(ctx, this.transformMatrix);\r\n      }\r\n      this.clipTo && fabric.util.clipContext(this, ctx);\r\n      if (this.objectCaching && !this.group) {\r\n        if (this.isCacheDirty(noTransform)) {\r\n          this.statefullCache && this.saveState({ propertySet: 'cacheProperties' });\r\n          this.drawObject(this._cacheContext, noTransform);\r\n          this.dirty = false;\r\n        }\r\n        this.drawCacheOnCanvas(ctx);\r\n      }\r\n      else {\r\n        this.drawObject(ctx, noTransform);\r\n        if (noTransform && this.objectCaching && this.statefullCache) {\r\n          this.saveState({ propertySet: 'cacheProperties' });\r\n        }\r\n      }\r\n      this.clipTo && ctx.restore();\r\n      ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * Execute the drawing operation for an object on a specified context\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} [noTransform] When true, context is not transformed\r\n     */\r\n    drawObject: function(ctx, noTransform) {\r\n      this._renderBackground(ctx);\r\n      this._setStrokeStyles(ctx);\r\n      this._setFillStyles(ctx);\r\n      this._render(ctx, noTransform);\r\n    },\r\n\r\n    /**\r\n     * Paint the cached copy of the object on the target context.\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    drawCacheOnCanvas: function(ctx) {\r\n      ctx.scale(1 / this.zoomX, 1 / this.zoomY);\r\n      ctx.drawImage(this._cacheCanvas, -this.cacheWidth / 2, -this.cacheHeight / 2);\r\n    },\r\n\r\n    /**\r\n     * Check if cache is dirty\r\n     * @param {Boolean} skipCanvas skip canvas checks because this object is painted\r\n     * on parent canvas.\r\n     */\r\n    isCacheDirty: function(skipCanvas) {\r\n      if (!skipCanvas && this._updateCacheCanvas()) {\r\n        // in this case the context is already cleared.\r\n        return true;\r\n      }\r\n      else {\r\n        if (this.dirty || (this.statefullCache && this.hasStateChanged('cacheProperties'))) {\r\n          if (!skipCanvas) {\r\n            var dim = this._getNonTransformedDimensions();\r\n            this._cacheContext.clearRect(-dim.x / 2, -dim.y / 2, dim.x, dim.y);\r\n          }\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Draws a background for the object big as its untrasformed dimensions\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderBackground: function(ctx) {\r\n      if (!this.backgroundColor) {\r\n        return;\r\n      }\r\n      var dim = this._getNonTransformedDimensions();\r\n      ctx.fillStyle = this.backgroundColor;\r\n\r\n      ctx.fillRect(\r\n        -dim.x / 2,\r\n        -dim.y / 2,\r\n        dim.x,\r\n        dim.y\r\n      );\r\n      // if there is background color no other shadows\r\n      // should be casted\r\n      this._removeShadow(ctx);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _setOpacity: function(ctx) {\r\n      ctx.globalAlpha *= this.opacity;\r\n    },\r\n\r\n    _setStrokeStyles: function(ctx) {\r\n      if (this.stroke) {\r\n        ctx.lineWidth = this.strokeWidth;\r\n        ctx.lineCap = this.strokeLineCap;\r\n        ctx.lineJoin = this.strokeLineJoin;\r\n        ctx.miterLimit = this.strokeMiterLimit;\r\n        ctx.strokeStyle = this.stroke.toLive\r\n          ? this.stroke.toLive(ctx, this)\r\n          : this.stroke;\r\n      }\r\n    },\r\n\r\n    _setFillStyles: function(ctx) {\r\n      if (this.fill) {\r\n        ctx.fillStyle = this.fill.toLive\r\n          ? this.fill.toLive(ctx, this)\r\n          : this.fill;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * Sets line dash\r\n     * @param {CanvasRenderingContext2D} ctx Context to set the dash line on\r\n     * @param {Array} dashArray array representing dashes\r\n     * @param {Function} alternative function to call if browaser does not support lineDash\r\n     */\r\n    _setLineDash: function(ctx, dashArray, alternative) {\r\n      if (!dashArray) {\r\n        return;\r\n      }\r\n      // Spec requires the concatenation of two copies the dash list when the number of elements is odd\r\n      if (1 & dashArray.length) {\r\n        dashArray.push.apply(dashArray, dashArray);\r\n      }\r\n      if (supportsLineDash) {\r\n        ctx.setLineDash(dashArray);\r\n      }\r\n      else {\r\n        alternative && alternative(ctx);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Renders controls and borders for the object\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} [noTransform] When true, context is not transformed\r\n     */\r\n    _renderControls: function(ctx, noTransform) {\r\n      if (!this.active || noTransform\r\n          || (this.group && this.group !== this.canvas.getActiveGroup())) {\r\n        return;\r\n      }\r\n\r\n      var vpt = this.getViewportTransform(),\r\n          matrix = this.calcTransformMatrix(),\r\n          options;\r\n      matrix = fabric.util.multiplyTransformMatrices(vpt, matrix);\r\n      options = fabric.util.qrDecompose(matrix);\r\n\r\n      ctx.save();\r\n      ctx.translate(options.translateX, options.translateY);\r\n      ctx.lineWidth = 1 * this.borderScaleFactor;\r\n      if (!this.group) {\r\n        ctx.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1;\r\n      }\r\n      if (this.group && this.group === this.canvas.getActiveGroup()) {\r\n        ctx.rotate(degreesToRadians(options.angle));\r\n        this.drawBordersInGroup(ctx, options);\r\n      }\r\n      else {\r\n        ctx.rotate(degreesToRadians(this.angle));\r\n        this.drawBorders(ctx);\r\n      }\r\n      this.drawControls(ctx);\r\n      ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _setShadow: function(ctx) {\r\n      if (!this.shadow) {\r\n        return;\r\n      }\r\n\r\n      var multX = (this.canvas && this.canvas.viewportTransform[0]) || 1,\r\n          multY = (this.canvas && this.canvas.viewportTransform[3]) || 1,\r\n          scaling = this.getObjectScaling();\r\n      if (this.canvas && this.canvas._isRetinaScaling()) {\r\n        multX *= fabric.devicePixelRatio;\r\n        multY *= fabric.devicePixelRatio;\r\n      }\r\n      ctx.shadowColor = this.shadow.color;\r\n      ctx.shadowBlur = this.shadow.blur * (multX + multY) * (scaling.scaleX + scaling.scaleY) / 4;\r\n      ctx.shadowOffsetX = this.shadow.offsetX * multX * scaling.scaleX;\r\n      ctx.shadowOffsetY = this.shadow.offsetY * multY * scaling.scaleY;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _removeShadow: function(ctx) {\r\n      if (!this.shadow) {\r\n        return;\r\n      }\r\n\r\n      ctx.shadowColor = '';\r\n      ctx.shadowBlur = ctx.shadowOffsetX = ctx.shadowOffsetY = 0;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderFill: function(ctx) {\r\n      if (!this.fill) {\r\n        return;\r\n      }\r\n\r\n      ctx.save();\r\n      if (this.fill.gradientTransform) {\r\n        var g = this.fill.gradientTransform;\r\n        ctx.transform.apply(ctx, g);\r\n      }\r\n      if (this.fill.toLive) {\r\n        ctx.translate(\r\n          -this.width / 2 + this.fill.offsetX || 0,\r\n          -this.height / 2 + this.fill.offsetY || 0);\r\n      }\r\n      if (this.fillRule === 'evenodd') {\r\n        ctx.fill('evenodd');\r\n      }\r\n      else {\r\n        ctx.fill();\r\n      }\r\n      ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderStroke: function(ctx) {\r\n      if (!this.stroke || this.strokeWidth === 0) {\r\n        return;\r\n      }\r\n\r\n      if (this.shadow && !this.shadow.affectStroke) {\r\n        this._removeShadow(ctx);\r\n      }\r\n\r\n      ctx.save();\r\n\r\n      this._setLineDash(ctx, this.strokeDashArray, this._renderDashedStroke);\r\n      if (this.stroke.gradientTransform) {\r\n        var g = this.stroke.gradientTransform;\r\n        ctx.transform.apply(ctx, g);\r\n      }\r\n      if (this.stroke.toLive) {\r\n        ctx.translate(\r\n          -this.width / 2 + this.stroke.offsetX || 0,\r\n          -this.height / 2 + this.stroke.offsetY || 0);\r\n      }\r\n      ctx.stroke();\r\n      ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * Clones an instance, some objects are async, so using callback method will work for every object.\r\n     * Using the direct return does not work for images and groups.\r\n     * @param {Function} callback Callback is invoked with a clone as a first argument\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {fabric.Object} clone of an instance\r\n     */\r\n    clone: function(callback, propertiesToInclude) {\r\n      if (this.constructor.fromObject) {\r\n        return this.constructor.fromObject(this.toObject(propertiesToInclude), callback);\r\n      }\r\n      return new fabric.Object(this.toObject(propertiesToInclude));\r\n    },\r\n\r\n    /**\r\n     * Creates an instance of fabric.Image out of an object\r\n     * @param {Function} callback callback, invoked with an instance as a first argument\r\n     * @param {Object} [options] for clone as image, passed to toDataURL\r\n     * @param {Boolean} [options.enableRetinaScaling] enable retina scaling for the cloned image\r\n     * @return {fabric.Object} thisArg\r\n     */\r\n    cloneAsImage: function(callback, options) {\r\n      var dataUrl = this.toDataURL(options);\r\n      fabric.util.loadImage(dataUrl, function(img) {\r\n        if (callback) {\r\n          callback(new fabric.Image(img));\r\n        }\r\n      });\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Converts an object into a data-url-like string\r\n     * @param {Object} options Options object\r\n     * @param {String} [options.format=png] The format of the output image. Either \"jpeg\" or \"png\"\r\n     * @param {Number} [options.quality=1] Quality level (0..1). Only used for jpeg.\r\n     * @param {Number} [options.multiplier=1] Multiplier to scale by\r\n     * @param {Number} [options.left] Cropping left offset. Introduced in v1.2.14\r\n     * @param {Number} [options.top] Cropping top offset. Introduced in v1.2.14\r\n     * @param {Number} [options.width] Cropping width. Introduced in v1.2.14\r\n     * @param {Number} [options.height] Cropping height. Introduced in v1.2.14\r\n     * @param {Boolean} [options.enableRetina] Enable retina scaling for clone image. Introduce in 1.6.4\r\n     * @return {String} Returns a data: URL containing a representation of the object in the format specified by options.format\r\n     */\r\n    toDataURL: function(options) {\r\n      options || (options = { });\r\n\r\n      var el = fabric.util.createCanvasElement(),\r\n          boundingRect = this.getBoundingRect();\r\n\r\n      el.width = boundingRect.width;\r\n      el.height = boundingRect.height;\r\n      fabric.util.wrapElement(el, 'div');\r\n      var canvas = new fabric.StaticCanvas(el, { enableRetinaScaling: options.enableRetinaScaling });\r\n      // to avoid common confusion https://github.com/kangax/fabric.js/issues/806\r\n      if (options.format === 'jpg') {\r\n        options.format = 'jpeg';\r\n      }\r\n\r\n      if (options.format === 'jpeg') {\r\n        canvas.backgroundColor = '#fff';\r\n      }\r\n\r\n      var origParams = {\r\n        active: this.get('active'),\r\n        left: this.getLeft(),\r\n        top: this.getTop()\r\n      };\r\n\r\n      this.set('active', false);\r\n      this.setPositionByOrigin(new fabric.Point(canvas.getWidth() / 2, canvas.getHeight() / 2), 'center', 'center');\r\n\r\n      var originalCanvas = this.canvas;\r\n      canvas.add(this);\r\n      var data = canvas.toDataURL(options);\r\n\r\n      this.set(origParams).setCoords();\r\n      this.canvas = originalCanvas;\r\n\r\n      canvas.dispose();\r\n      canvas = null;\r\n\r\n      return data;\r\n    },\r\n\r\n    /**\r\n     * Returns true if specified type is identical to the type of an instance\r\n     * @param {String} type Type to check against\r\n     * @return {Boolean}\r\n     */\r\n    isType: function(type) {\r\n      return this.type === type;\r\n    },\r\n\r\n    /**\r\n     * Returns complexity of an instance\r\n     * @return {Number} complexity of this instance\r\n     */\r\n    complexity: function() {\r\n      return 0;\r\n    },\r\n\r\n    /**\r\n     * Returns a JSON representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} JSON\r\n     */\r\n    toJSON: function(propertiesToInclude) {\r\n      // delegate, not alias\r\n      return this.toObject(propertiesToInclude);\r\n    },\r\n\r\n    /**\r\n     * Sets gradient (fill or stroke) of an object\r\n     * <b>Backwards incompatibility note:</b> This method was named \"setGradientFill\" until v1.1.0\r\n     * @param {String} property Property name 'stroke' or 'fill'\r\n     * @param {Object} [options] Options object\r\n     * @param {String} [options.type] Type of gradient 'radial' or 'linear'\r\n     * @param {Number} [options.x1=0] x-coordinate of start point\r\n     * @param {Number} [options.y1=0] y-coordinate of start point\r\n     * @param {Number} [options.x2=0] x-coordinate of end point\r\n     * @param {Number} [options.y2=0] y-coordinate of end point\r\n     * @param {Number} [options.r1=0] Radius of start point (only for radial gradients)\r\n     * @param {Number} [options.r2=0] Radius of end point (only for radial gradients)\r\n     * @param {Object} [options.colorStops] Color stops object eg. {0: 'ff0000', 1: '000000'}\r\n     * @param {Object} [options.gradientTransform] transforMatrix for gradient\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     * @see {@link http://jsfiddle.net/fabricjs/58y8b/|jsFiddle demo}\r\n     * @example <caption>Set linear gradient</caption>\r\n     * object.setGradient('fill', {\r\n     *   type: 'linear',\r\n     *   x1: -object.width / 2,\r\n     *   y1: 0,\r\n     *   x2: object.width / 2,\r\n     *   y2: 0,\r\n     *   colorStops: {\r\n     *     0: 'red',\r\n     *     0.5: '#005555',\r\n     *     1: 'rgba(0,0,255,0.5)'\r\n     *   }\r\n     * });\r\n     * canvas.renderAll();\r\n     * @example <caption>Set radial gradient</caption>\r\n     * object.setGradient('fill', {\r\n     *   type: 'radial',\r\n     *   x1: 0,\r\n     *   y1: 0,\r\n     *   x2: 0,\r\n     *   y2: 0,\r\n     *   r1: object.width / 2,\r\n     *   r2: 10,\r\n     *   colorStops: {\r\n     *     0: 'red',\r\n     *     0.5: '#005555',\r\n     *     1: 'rgba(0,0,255,0.5)'\r\n     *   }\r\n     * });\r\n     * canvas.renderAll();\r\n     */\r\n    setGradient: function(property, options) {\r\n      options || (options = { });\r\n\r\n      var gradient = { colorStops: [] };\r\n\r\n      gradient.type = options.type || (options.r1 || options.r2 ? 'radial' : 'linear');\r\n      gradient.coords = {\r\n        x1: options.x1,\r\n        y1: options.y1,\r\n        x2: options.x2,\r\n        y2: options.y2\r\n      };\r\n\r\n      if (options.r1 || options.r2) {\r\n        gradient.coords.r1 = options.r1;\r\n        gradient.coords.r2 = options.r2;\r\n      }\r\n\r\n      options.gradientTransform && (gradient.gradientTransform = options.gradientTransform);\r\n\r\n      for (var position in options.colorStops) {\r\n        var color = new fabric.Color(options.colorStops[position]);\r\n        gradient.colorStops.push({\r\n          offset: position,\r\n          color: color.toRgb(),\r\n          opacity: color.getAlpha()\r\n        });\r\n      }\r\n\r\n      return this.set(property, fabric.Gradient.forObject(this, gradient));\r\n    },\r\n\r\n    /**\r\n     * Sets pattern fill of an object\r\n     * @param {Object} options Options object\r\n     * @param {(String|HTMLImageElement)} options.source Pattern source\r\n     * @param {String} [options.repeat=repeat] Repeat property of a pattern (one of repeat, repeat-x, repeat-y or no-repeat)\r\n     * @param {Number} [options.offsetX=0] Pattern horizontal offset from object's left/top corner\r\n     * @param {Number} [options.offsetY=0] Pattern vertical offset from object's left/top corner\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     * @see {@link http://jsfiddle.net/fabricjs/QT3pa/|jsFiddle demo}\r\n     * @example <caption>Set pattern</caption>\r\n     * fabric.util.loadImage('http://fabricjs.com/assets/escheresque_ste.png', function(img) {\r\n     *   object.setPatternFill({\r\n     *     source: img,\r\n     *     repeat: 'repeat'\r\n     *   });\r\n     *   canvas.renderAll();\r\n     * });\r\n     */\r\n    setPatternFill: function(options) {\r\n      return this.set('fill', new fabric.Pattern(options));\r\n    },\r\n\r\n    /**\r\n     * Sets {@link fabric.Object#shadow|shadow} of an object\r\n     * @param {Object|String} [options] Options object or string (e.g. \"2px 2px 10px rgba(0,0,0,0.2)\")\r\n     * @param {String} [options.color=rgb(0,0,0)] Shadow color\r\n     * @param {Number} [options.blur=0] Shadow blur\r\n     * @param {Number} [options.offsetX=0] Shadow horizontal offset\r\n     * @param {Number} [options.offsetY=0] Shadow vertical offset\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     * @see {@link http://jsfiddle.net/fabricjs/7gvJG/|jsFiddle demo}\r\n     * @example <caption>Set shadow with string notation</caption>\r\n     * object.setShadow('2px 2px 10px rgba(0,0,0,0.2)');\r\n     * canvas.renderAll();\r\n     * @example <caption>Set shadow with object notation</caption>\r\n     * object.setShadow({\r\n     *   color: 'red',\r\n     *   blur: 10,\r\n     *   offsetX: 20,\r\n     *   offsetY: 20\r\n     * });\r\n     * canvas.renderAll();\r\n     */\r\n    setShadow: function(options) {\r\n      return this.set('shadow', options ? new fabric.Shadow(options) : null);\r\n    },\r\n\r\n    /**\r\n     * Sets \"color\" of an instance (alias of `set('fill', &hellip;)`)\r\n     * @param {String} color Color value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    setColor: function(color) {\r\n      this.set('fill', color);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Sets \"angle\" of an instance\r\n     * @param {Number} angle Angle value (in degrees)\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    setAngle: function(angle) {\r\n      var shouldCenterOrigin = (this.originX !== 'center' || this.originY !== 'center') && this.centeredRotation;\r\n\r\n      if (shouldCenterOrigin) {\r\n        this._setOriginToCenter();\r\n      }\r\n\r\n      this.set('angle', angle);\r\n\r\n      if (shouldCenterOrigin) {\r\n        this._resetOrigin();\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Centers object horizontally on canvas to which it was added last.\r\n     * You might need to call `setCoords` on an object after centering, to update controls area.\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    centerH: function () {\r\n      this.canvas && this.canvas.centerObjectH(this);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Centers object horizontally on current viewport of canvas to which it was added last.\r\n     * You might need to call `setCoords` on an object after centering, to update controls area.\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    viewportCenterH: function () {\r\n      this.canvas && this.canvas.viewportCenterObjectH(this);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Centers object vertically on canvas to which it was added last.\r\n     * You might need to call `setCoords` on an object after centering, to update controls area.\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    centerV: function () {\r\n      this.canvas && this.canvas.centerObjectV(this);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Centers object vertically on current viewport of canvas to which it was added last.\r\n     * You might need to call `setCoords` on an object after centering, to update controls area.\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    viewportCenterV: function () {\r\n      this.canvas && this.canvas.viewportCenterObjectV(this);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Centers object vertically and horizontally on canvas to which is was added last\r\n     * You might need to call `setCoords` on an object after centering, to update controls area.\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    center: function () {\r\n      this.canvas && this.canvas.centerObject(this);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Centers object on current viewport of canvas to which it was added last.\r\n     * You might need to call `setCoords` on an object after centering, to update controls area.\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    viewportCenter: function () {\r\n      this.canvas && this.canvas.viewportCenterObject(this);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Removes object from canvas to which it was added last\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    remove: function() {\r\n      this.canvas && this.canvas.remove(this);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returns coordinates of a pointer relative to an object\r\n     * @param {Event} e Event to operate upon\r\n     * @param {Object} [pointer] Pointer to operate upon (instead of event)\r\n     * @return {Object} Coordinates of a pointer (x, y)\r\n     */\r\n    getLocalPointer: function(e, pointer) {\r\n      pointer = pointer || this.canvas.getPointer(e);\r\n      var pClicked = new fabric.Point(pointer.x, pointer.y),\r\n          objectLeftTop = this._getLeftTopCoords();\r\n      if (this.angle) {\r\n        pClicked = fabric.util.rotatePoint(\r\n          pClicked, objectLeftTop, fabric.util.degreesToRadians(-this.angle));\r\n      }\r\n      return {\r\n        x: pClicked.x - objectLeftTop.x,\r\n        y: pClicked.y - objectLeftTop.y\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Sets canvas globalCompositeOperation for specific object\r\n     * custom composition operation for the particular object can be specifed using globalCompositeOperation property\r\n     * @param {CanvasRenderingContext2D} ctx Rendering canvas context\r\n     */\r\n    _setupCompositeOperation: function (ctx) {\r\n      if (this.globalCompositeOperation) {\r\n        ctx.globalCompositeOperation = this.globalCompositeOperation;\r\n      }\r\n    }\r\n  });\r\n\r\n  fabric.util.createAccessors(fabric.Object);\r\n\r\n  /**\r\n   * Alias for {@link fabric.Object.prototype.setAngle}\r\n   * @alias rotate -> setAngle\r\n   * @memberOf fabric.Object\r\n   */\r\n  fabric.Object.prototype.rotate = fabric.Object.prototype.setAngle;\r\n\r\n  extend(fabric.Object.prototype, fabric.Observable);\r\n\r\n  /**\r\n   * Defines the number of fraction digits to use when serializing object values.\r\n   * You can use it to increase/decrease precision of such values like left, top, scaleX, scaleY, etc.\r\n   * @static\r\n   * @memberOf fabric.Object\r\n   * @constant\r\n   * @type Number\r\n   */\r\n  fabric.Object.NUM_FRACTION_DIGITS = 2;\r\n\r\n  /**\r\n   * Unique id used internally when creating SVG elements\r\n   * @static\r\n   * @memberOf fabric.Object\r\n   * @type Number\r\n   */\r\n  fabric.Object.__uid = 0;\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function() {\r\n\r\n  var degreesToRadians = fabric.util.degreesToRadians,\r\n      originXOffset = {\r\n        left: -0.5,\r\n        center: 0,\r\n        right: 0.5\r\n      },\r\n      originYOffset = {\r\n        top: -0.5,\r\n        center: 0,\r\n        bottom: 0.5\r\n      };\r\n\r\n  fabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\r\n\r\n    /**\r\n     * Translates the coordinates from origin to center coordinates (based on the object's dimensions)\r\n     * @param {fabric.Point} point The point which corresponds to the originX and originY params\r\n     * @param {String} fromOriginX Horizontal origin: 'left', 'center' or 'right'\r\n     * @param {String} fromOriginY Vertical origin: 'top', 'center' or 'bottom'\r\n     * @param {String} toOriginX Horizontal origin: 'left', 'center' or 'right'\r\n     * @param {String} toOriginY Vertical origin: 'top', 'center' or 'bottom'\r\n     * @return {fabric.Point}\r\n     */\r\n    translateToGivenOrigin: function(point, fromOriginX, fromOriginY, toOriginX, toOriginY) {\r\n      var x = point.x,\r\n          y = point.y,\r\n          offsetX, offsetY, dim;\r\n\r\n      if (typeof fromOriginX === 'string') {\r\n        fromOriginX = originXOffset[fromOriginX];\r\n      }\r\n      else {\r\n        fromOriginX -= 0.5;\r\n      }\r\n\r\n      if (typeof toOriginX === 'string') {\r\n        toOriginX = originXOffset[toOriginX];\r\n      }\r\n      else {\r\n        toOriginX -= 0.5;\r\n      }\r\n\r\n      offsetX = toOriginX - fromOriginX;\r\n\r\n      if (typeof fromOriginY === 'string') {\r\n        fromOriginY = originYOffset[fromOriginY];\r\n      }\r\n      else {\r\n        fromOriginY -= 0.5;\r\n      }\r\n\r\n      if (typeof toOriginY === 'string') {\r\n        toOriginY = originYOffset[toOriginY];\r\n      }\r\n      else {\r\n        toOriginY -= 0.5;\r\n      }\r\n\r\n      offsetY = toOriginY - fromOriginY;\r\n\r\n      if (offsetX || offsetY) {\r\n        dim = this._getTransformedDimensions();\r\n        x = point.x + offsetX * dim.x;\r\n        y = point.y + offsetY * dim.y;\r\n      }\r\n\r\n      return new fabric.Point(x, y);\r\n    },\r\n\r\n    /**\r\n     * Translates the coordinates from origin to center coordinates (based on the object's dimensions)\r\n     * @param {fabric.Point} point The point which corresponds to the originX and originY params\r\n     * @param {String} originX Horizontal origin: 'left', 'center' or 'right'\r\n     * @param {String} originY Vertical origin: 'top', 'center' or 'bottom'\r\n     * @return {fabric.Point}\r\n     */\r\n    translateToCenterPoint: function(point, originX, originY) {\r\n      var p = this.translateToGivenOrigin(point, originX, originY, 'center', 'center');\r\n      if (this.angle) {\r\n        return fabric.util.rotatePoint(p, point, degreesToRadians(this.angle));\r\n      }\r\n      return p;\r\n    },\r\n\r\n    /**\r\n     * Translates the coordinates from center to origin coordinates (based on the object's dimensions)\r\n     * @param {fabric.Point} center The point which corresponds to center of the object\r\n     * @param {String} originX Horizontal origin: 'left', 'center' or 'right'\r\n     * @param {String} originY Vertical origin: 'top', 'center' or 'bottom'\r\n     * @return {fabric.Point}\r\n     */\r\n    translateToOriginPoint: function(center, originX, originY) {\r\n      var p = this.translateToGivenOrigin(center, 'center', 'center', originX, originY);\r\n      if (this.angle) {\r\n        return fabric.util.rotatePoint(p, center, degreesToRadians(this.angle));\r\n      }\r\n      return p;\r\n    },\r\n\r\n    /**\r\n     * Returns the real center coordinates of the object\r\n     * @return {fabric.Point}\r\n     */\r\n    getCenterPoint: function() {\r\n      var leftTop = new fabric.Point(this.left, this.top);\r\n      return this.translateToCenterPoint(leftTop, this.originX, this.originY);\r\n    },\r\n\r\n    /**\r\n     * Returns the coordinates of the object based on center coordinates\r\n     * @param {fabric.Point} point The point which corresponds to the originX and originY params\r\n     * @return {fabric.Point}\r\n     */\r\n    // getOriginPoint: function(center) {\r\n    //   return this.translateToOriginPoint(center, this.originX, this.originY);\r\n    // },\r\n\r\n    /**\r\n     * Returns the coordinates of the object as if it has a different origin\r\n     * @param {String} originX Horizontal origin: 'left', 'center' or 'right'\r\n     * @param {String} originY Vertical origin: 'top', 'center' or 'bottom'\r\n     * @return {fabric.Point}\r\n     */\r\n    getPointByOrigin: function(originX, originY) {\r\n      var center = this.getCenterPoint();\r\n      return this.translateToOriginPoint(center, originX, originY);\r\n    },\r\n\r\n    /**\r\n     * Returns the point in local coordinates\r\n     * @param {fabric.Point} point The point relative to the global coordinate system\r\n     * @param {String} originX Horizontal origin: 'left', 'center' or 'right'\r\n     * @param {String} originY Vertical origin: 'top', 'center' or 'bottom'\r\n     * @return {fabric.Point}\r\n     */\r\n    toLocalPoint: function(point, originX, originY) {\r\n      var center = this.getCenterPoint(),\r\n          p, p2;\r\n\r\n      if (typeof originX !== 'undefined' && typeof originY !== 'undefined' ) {\r\n        p = this.translateToGivenOrigin(center, 'center', 'center', originX, originY);\r\n      }\r\n      else {\r\n        p = new fabric.Point(this.left, this.top);\r\n      }\r\n\r\n      p2 = new fabric.Point(point.x, point.y);\r\n      if (this.angle) {\r\n        p2 = fabric.util.rotatePoint(p2, center, -degreesToRadians(this.angle));\r\n      }\r\n      return p2.subtractEquals(p);\r\n    },\r\n\r\n    /**\r\n     * Returns the point in global coordinates\r\n     * @param {fabric.Point} The point relative to the local coordinate system\r\n     * @return {fabric.Point}\r\n     */\r\n    // toGlobalPoint: function(point) {\r\n    //   return fabric.util.rotatePoint(point, this.getCenterPoint(), degreesToRadians(this.angle)).addEquals(new fabric.Point(this.left, this.top));\r\n    // },\r\n\r\n    /**\r\n     * Sets the position of the object taking into consideration the object's origin\r\n     * @param {fabric.Point} pos The new position of the object\r\n     * @param {String} originX Horizontal origin: 'left', 'center' or 'right'\r\n     * @param {String} originY Vertical origin: 'top', 'center' or 'bottom'\r\n     * @return {void}\r\n     */\r\n    setPositionByOrigin: function(pos, originX, originY) {\r\n      var center = this.translateToCenterPoint(pos, originX, originY),\r\n          position = this.translateToOriginPoint(center, this.originX, this.originY);\r\n\r\n      this.set('left', position.x);\r\n      this.set('top', position.y);\r\n    },\r\n\r\n    /**\r\n     * @param {String} to One of 'left', 'center', 'right'\r\n     */\r\n    adjustPosition: function(to) {\r\n      var angle = degreesToRadians(this.angle),\r\n          hypotFull = this.getWidth(),\r\n          xFull = Math.cos(angle) * hypotFull,\r\n          yFull = Math.sin(angle) * hypotFull,\r\n          offsetFrom, offsetTo;\r\n\r\n      //TODO: this function does not consider mixed situation like top, center.\r\n      if (typeof this.originX === 'string') {\r\n        offsetFrom = originXOffset[this.originX];\r\n      }\r\n      else {\r\n        offsetFrom = this.originX - 0.5;\r\n      }\r\n      if (typeof to === 'string') {\r\n        offsetTo = originXOffset[to];\r\n      }\r\n      else {\r\n        offsetTo = to - 0.5;\r\n      }\r\n      this.left += xFull * (offsetTo - offsetFrom);\r\n      this.top += yFull * (offsetTo - offsetFrom);\r\n      this.setCoords();\r\n      this.originX = to;\r\n    },\r\n\r\n    /**\r\n     * Sets the origin/position of the object to it's center point\r\n     * @private\r\n     * @return {void}\r\n     */\r\n    _setOriginToCenter: function() {\r\n      this._originalOriginX = this.originX;\r\n      this._originalOriginY = this.originY;\r\n\r\n      var center = this.getCenterPoint();\r\n\r\n      this.originX = 'center';\r\n      this.originY = 'center';\r\n\r\n      this.left = center.x;\r\n      this.top = center.y;\r\n    },\r\n\r\n    /**\r\n     * Resets the origin/position of the object to it's original origin\r\n     * @private\r\n     * @return {void}\r\n     */\r\n    _resetOrigin: function() {\r\n      var originPoint = this.translateToOriginPoint(\r\n        this.getCenterPoint(),\r\n        this._originalOriginX,\r\n        this._originalOriginY);\r\n\r\n      this.originX = this._originalOriginX;\r\n      this.originY = this._originalOriginY;\r\n\r\n      this.left = originPoint.x;\r\n      this.top = originPoint.y;\r\n\r\n      this._originalOriginX = null;\r\n      this._originalOriginY = null;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _getLeftTopCoords: function() {\r\n      return this.translateToOriginPoint(this.getCenterPoint(), 'left', 'top');\r\n    }\r\n  });\r\n\r\n})();\r\n\r\n\r\n(function() {\r\n\r\n  function getCoords(oCoords) {\r\n    return [\r\n      new fabric.Point(oCoords.tl.x, oCoords.tl.y),\r\n      new fabric.Point(oCoords.tr.x, oCoords.tr.y),\r\n      new fabric.Point(oCoords.br.x, oCoords.br.y),\r\n      new fabric.Point(oCoords.bl.x, oCoords.bl.y)\r\n    ];\r\n  }\r\n\r\n  var degreesToRadians = fabric.util.degreesToRadians,\r\n      multiplyMatrices = fabric.util.multiplyTransformMatrices;\r\n\r\n  fabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\r\n\r\n    /**\r\n     * Object containing coordinates of object's controls\r\n     * @type Object\r\n     * @default\r\n     */\r\n    oCoords: null,\r\n\r\n    /**\r\n     * Checks if object intersects with an area formed by 2 points\r\n     * @param {Object} pointTL top-left point of area\r\n     * @param {Object} pointBR bottom-right point of area\r\n     * @return {Boolean} true if object intersects with an area formed by 2 points\r\n     */\r\n    intersectsWithRect: function(pointTL, pointBR) {\r\n      var oCoords = getCoords(this.oCoords),\r\n          intersection = fabric.Intersection.intersectPolygonRectangle(\r\n            oCoords,\r\n            pointTL,\r\n            pointBR\r\n          );\r\n      return intersection.status === 'Intersection';\r\n    },\r\n\r\n    /**\r\n     * Checks if object intersects with another object\r\n     * @param {Object} other Object to test\r\n     * @return {Boolean} true if object intersects with another object\r\n     */\r\n    intersectsWithObject: function(other) {\r\n      var intersection = fabric.Intersection.intersectPolygonPolygon(\r\n            getCoords(this.oCoords),\r\n            getCoords(other.oCoords)\r\n          );\r\n\r\n      return intersection.status === 'Intersection'\r\n        || other.isContainedWithinObject(this)\r\n        || this.isContainedWithinObject(other);\r\n    },\r\n\r\n    /**\r\n     * Checks if object is fully contained within area of another object\r\n     * @param {Object} other Object to test\r\n     * @return {Boolean} true if object is fully contained within area of another object\r\n     */\r\n    isContainedWithinObject: function(other) {\r\n      var points = getCoords(this.oCoords),\r\n          i = 0;\r\n      for (; i < 4; i++) {\r\n        if (!other.containsPoint(points[i])) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n\r\n    /**\r\n     * Checks if object is fully contained within area formed by 2 points\r\n     * @param {Object} pointTL top-left point of area\r\n     * @param {Object} pointBR bottom-right point of area\r\n     * @return {Boolean} true if object is fully contained within area formed by 2 points\r\n     */\r\n    isContainedWithinRect: function(pointTL, pointBR) {\r\n      var boundingRect = this.getBoundingRect();\r\n\r\n      return (\r\n        boundingRect.left >= pointTL.x &&\r\n        boundingRect.left + boundingRect.width <= pointBR.x &&\r\n        boundingRect.top >= pointTL.y &&\r\n        boundingRect.top + boundingRect.height <= pointBR.y\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Checks if point is inside the object\r\n     * @param {fabric.Point} point Point to check against\r\n     * @return {Boolean} true if point is inside the object\r\n     */\r\n    containsPoint: function(point) {\r\n      if (!this.oCoords) {\r\n        this.setCoords();\r\n      }\r\n      var lines = this._getImageLines(this.oCoords),\r\n          xPoints = this._findCrossPoints(point, lines);\r\n\r\n      // if xPoints is odd then point is inside the object\r\n      return (xPoints !== 0 && xPoints % 2 === 1);\r\n    },\r\n\r\n    /**\r\n     * Method that returns an object with the object edges in it, given the coordinates of the corners\r\n     * @private\r\n     * @param {Object} oCoords Coordinates of the object corners\r\n     */\r\n    _getImageLines: function(oCoords) {\r\n      return {\r\n        topline: {\r\n          o: oCoords.tl,\r\n          d: oCoords.tr\r\n        },\r\n        rightline: {\r\n          o: oCoords.tr,\r\n          d: oCoords.br\r\n        },\r\n        bottomline: {\r\n          o: oCoords.br,\r\n          d: oCoords.bl\r\n        },\r\n        leftline: {\r\n          o: oCoords.bl,\r\n          d: oCoords.tl\r\n        }\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Helper method to determine how many cross points are between the 4 object edges\r\n     * and the horizontal line determined by a point on canvas\r\n     * @private\r\n     * @param {fabric.Point} point Point to check\r\n     * @param {Object} oCoords Coordinates of the object being evaluated\r\n     */\r\n     // remove yi, not used but left code here just in case.\r\n    _findCrossPoints: function(point, oCoords) {\r\n      var b1, b2, a1, a2, xi, // yi,\r\n          xcount = 0,\r\n          iLine;\r\n\r\n      for (var lineKey in oCoords) {\r\n        iLine = oCoords[lineKey];\r\n        // optimisation 1: line below point. no cross\r\n        if ((iLine.o.y < point.y) && (iLine.d.y < point.y)) {\r\n          continue;\r\n        }\r\n        // optimisation 2: line above point. no cross\r\n        if ((iLine.o.y >= point.y) && (iLine.d.y >= point.y)) {\r\n          continue;\r\n        }\r\n        // optimisation 3: vertical line case\r\n        if ((iLine.o.x === iLine.d.x) && (iLine.o.x >= point.x)) {\r\n          xi = iLine.o.x;\r\n          // yi = point.y;\r\n        }\r\n        // calculate the intersection point\r\n        else {\r\n          b1 = 0;\r\n          b2 = (iLine.d.y - iLine.o.y) / (iLine.d.x - iLine.o.x);\r\n          a1 = point.y - b1 * point.x;\r\n          a2 = iLine.o.y - b2 * iLine.o.x;\r\n\r\n          xi = -(a1 - a2) / (b1 - b2);\r\n          // yi = a1 + b1 * xi;\r\n        }\r\n        // dont count xi < point.x cases\r\n        if (xi >= point.x) {\r\n          xcount += 1;\r\n        }\r\n        // optimisation 4: specific for square images\r\n        if (xcount === 2) {\r\n          break;\r\n        }\r\n      }\r\n      return xcount;\r\n    },\r\n\r\n    /**\r\n     * Returns width of an object's bounding rectangle\r\n     * @deprecated since 1.0.4\r\n     * @return {Number} width value\r\n     */\r\n    getBoundingRectWidth: function() {\r\n      return this.getBoundingRect().width;\r\n    },\r\n\r\n    /**\r\n     * Returns height of an object's bounding rectangle\r\n     * @deprecated since 1.0.4\r\n     * @return {Number} height value\r\n     */\r\n    getBoundingRectHeight: function() {\r\n      return this.getBoundingRect().height;\r\n    },\r\n\r\n    /**\r\n     * Returns coordinates of object's bounding rectangle (left, top, width, height)\r\n     * the box is intented as aligned to axis of canvas.\r\n     * @param {Boolean} ignoreVpt bounding box will not be affected by viewportTransform\r\n     * @return {Object} Object with left, top, width, height properties\r\n     */\r\n    getBoundingRect: function(ignoreVpt) {\r\n      var coords = this.calcCoords(ignoreVpt);\r\n      return fabric.util.makeBoundingBoxFromPoints([\r\n        coords.tl,\r\n        coords.tr,\r\n        coords.br,\r\n        coords.bl\r\n      ]);\r\n    },\r\n\r\n    /**\r\n     * Returns width of an object bounding box counting transformations\r\n     * @return {Number} width value\r\n     */\r\n    getWidth: function() {\r\n      return this._getTransformedDimensions().x;\r\n    },\r\n\r\n    /**\r\n     * Returns height of an object bounding box counting transformations\r\n     * to be renamed in 2.0\r\n     * @return {Number} height value\r\n     */\r\n    getHeight: function() {\r\n      return this._getTransformedDimensions().y;\r\n    },\r\n\r\n    /**\r\n     * Makes sure the scale is valid and modifies it if necessary\r\n     * @private\r\n     * @param {Number} value\r\n     * @return {Number}\r\n     */\r\n    _constrainScale: function(value) {\r\n      if (Math.abs(value) < this.minScaleLimit) {\r\n        if (value < 0) {\r\n          return -this.minScaleLimit;\r\n        }\r\n        else {\r\n          return this.minScaleLimit;\r\n        }\r\n      }\r\n      return value;\r\n    },\r\n\r\n    /**\r\n     * Scales an object (equally by x and y)\r\n     * @param {Number} value Scale factor\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    scale: function(value) {\r\n      value = this._constrainScale(value);\r\n\r\n      if (value < 0) {\r\n        this.flipX = !this.flipX;\r\n        this.flipY = !this.flipY;\r\n        value *= -1;\r\n      }\r\n\r\n      this.scaleX = value;\r\n      this.scaleY = value;\r\n      return this.setCoords();\r\n    },\r\n\r\n    /**\r\n     * Scales an object to a given width, with respect to bounding box (scaling by x/y equally)\r\n     * @param {Number} value New width value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    scaleToWidth: function(value) {\r\n      // adjust to bounding rect factor so that rotated shapes would fit as well\r\n      var boundingRectFactor = this.getBoundingRect().width / this.getWidth();\r\n      return this.scale(value / this.width / boundingRectFactor);\r\n    },\r\n\r\n    /**\r\n     * Scales an object to a given height, with respect to bounding box (scaling by x/y equally)\r\n     * @param {Number} value New height value\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    scaleToHeight: function(value) {\r\n      // adjust to bounding rect factor so that rotated shapes would fit as well\r\n      var boundingRectFactor = this.getBoundingRect().height / this.getHeight();\r\n      return this.scale(value / this.height / boundingRectFactor);\r\n    },\r\n\r\n    /**\r\n     * Calculate and returns the .coords of an object.\r\n     * @return {Object} Object with tl, tr, br, bl ....\r\n     * @chainable\r\n     */\r\n    calcCoords: function(ignoreVpt) {\r\n      var theta = degreesToRadians(this.angle),\r\n          vpt = this.getViewportTransform(),\r\n          dim = ignoreVpt ? this._getTransformedDimensions() : this._calculateCurrentDimensions(),\r\n          currentWidth = dim.x, currentHeight = dim.y,\r\n          sinTh = Math.sin(theta),\r\n          cosTh = Math.cos(theta),\r\n          _angle = currentWidth > 0 ? Math.atan(currentHeight / currentWidth) : 0,\r\n          _hypotenuse = (currentWidth / Math.cos(_angle)) / 2,\r\n          offsetX = Math.cos(_angle + theta) * _hypotenuse,\r\n          offsetY = Math.sin(_angle + theta) * _hypotenuse,\r\n          center = this.getCenterPoint(),\r\n          // offset added for rotate and scale actions\r\n          coords = ignoreVpt ? center : fabric.util.transformPoint(center, vpt),\r\n          tl  = new fabric.Point(coords.x - offsetX, coords.y - offsetY),\r\n          tr  = new fabric.Point(tl.x + (currentWidth * cosTh), tl.y + (currentWidth * sinTh)),\r\n          bl  = new fabric.Point(tl.x - (currentHeight * sinTh), tl.y + (currentHeight * cosTh)),\r\n          br  = new fabric.Point(coords.x + offsetX, coords.y + offsetY),\r\n          ml  = new fabric.Point((tl.x + bl.x) / 2, (tl.y + bl.y) / 2),\r\n          mt  = new fabric.Point((tr.x + tl.x) / 2, (tr.y + tl.y) / 2),\r\n          mr  = new fabric.Point((br.x + tr.x) / 2, (br.y + tr.y) / 2),\r\n          mb  = new fabric.Point((br.x + bl.x) / 2, (br.y + bl.y) / 2),\r\n          mtr = new fabric.Point(mt.x + sinTh * this.rotatingPointOffset, mt.y - cosTh * this.rotatingPointOffset);\r\n      // debugging\r\n\r\n      /* setTimeout(function() {\r\n         canvas.contextTop.fillStyle = 'green';\r\n         canvas.contextTop.fillRect(mb.x, mb.y, 3, 3);\r\n         canvas.contextTop.fillRect(bl.x, bl.y, 3, 3);\r\n         canvas.contextTop.fillRect(br.x, br.y, 3, 3);\r\n         canvas.contextTop.fillRect(tl.x, tl.y, 3, 3);\r\n         canvas.contextTop.fillRect(tr.x, tr.y, 3, 3);\r\n         canvas.contextTop.fillRect(ml.x, ml.y, 3, 3);\r\n         canvas.contextTop.fillRect(mr.x, mr.y, 3, 3);\r\n         canvas.contextTop.fillRect(mt.x, mt.y, 3, 3);\r\n         canvas.contextTop.fillRect(mtr.x, mtr.y, 3, 3);\r\n       }, 50); */\r\n\r\n      return {\r\n        // corners\r\n        tl: tl, tr: tr, br: br, bl: bl,\r\n        // middle\r\n        ml: ml, mt: mt, mr: mr, mb: mb,\r\n        // rotating point\r\n        mtr: mtr\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Sets corner position coordinates based on current angle, width and height\r\n     * See https://github.com/kangax/fabric.js/wiki/When-to-call-setCoords\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    setCoords: function(ignoreZoom) {\r\n      this.oCoords = this.calcCoords(ignoreZoom);\r\n\r\n      // set coordinates of the draggable boxes in the corners used to scale/rotate the image\r\n      ignoreZoom || this._setCornerCoords && this._setCornerCoords();\r\n\r\n      return this;\r\n    },\r\n\r\n    /*\r\n     * calculate rotation matrix of an object\r\n     * @return {Array} rotation matrix for the object\r\n     */\r\n    _calcRotateMatrix: function() {\r\n      if (this.angle) {\r\n        var theta = degreesToRadians(this.angle), cos = Math.cos(theta), sin = Math.sin(theta);\r\n        return [cos, sin, -sin, cos, 0, 0];\r\n      }\r\n      return [1, 0, 0, 1, 0, 0];\r\n    },\r\n\r\n    /*\r\n     * calculate trasform Matrix that represent current transformation from\r\n     * object properties.\r\n     * @return {Array} matrix Transform Matrix for the object\r\n     */\r\n    calcTransformMatrix: function() {\r\n      var center = this.getCenterPoint(),\r\n          translateMatrix = [1, 0, 0, 1, center.x, center.y],\r\n          rotateMatrix = this._calcRotateMatrix(),\r\n          dimensionMatrix = this._calcDimensionsTransformMatrix(this.skewX, this.skewY, true),\r\n          matrix = this.group ? this.group.calcTransformMatrix() : [1, 0, 0, 1, 0, 0];\r\n      matrix = multiplyMatrices(matrix, translateMatrix);\r\n      matrix = multiplyMatrices(matrix, rotateMatrix);\r\n      matrix = multiplyMatrices(matrix, dimensionMatrix);\r\n      return matrix;\r\n    },\r\n\r\n    _calcDimensionsTransformMatrix: function(skewX, skewY, flipping) {\r\n      var skewMatrixX = [1, 0, Math.tan(degreesToRadians(skewX)), 1],\r\n          skewMatrixY = [1, Math.tan(degreesToRadians(skewY)), 0, 1],\r\n          scaleX = this.scaleX * (flipping && this.flipX ? -1 : 1),\r\n          scaleY = this.scaleY * (flipping && this.flipY ? -1 : 1),\r\n          scaleMatrix = [scaleX, 0, 0, scaleY],\r\n          m = multiplyMatrices(scaleMatrix, skewMatrixX, true);\r\n      return multiplyMatrices(m, skewMatrixY, true);\r\n    }\r\n  });\r\n})();\r\n\r\n\r\nfabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\r\n\r\n  /**\r\n   * Moves an object to the bottom of the stack of drawn objects\r\n   * @return {fabric.Object} thisArg\r\n   * @chainable\r\n   */\r\n  sendToBack: function() {\r\n    if (this.group) {\r\n      fabric.StaticCanvas.prototype.sendToBack.call(this.group, this);\r\n    }\r\n    else {\r\n      this.canvas.sendToBack(this);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Moves an object to the top of the stack of drawn objects\r\n   * @return {fabric.Object} thisArg\r\n   * @chainable\r\n   */\r\n  bringToFront: function() {\r\n    if (this.group) {\r\n      fabric.StaticCanvas.prototype.bringToFront.call(this.group, this);\r\n    }\r\n    else {\r\n      this.canvas.bringToFront(this);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Moves an object down in stack of drawn objects\r\n   * @param {Boolean} [intersecting] If `true`, send object behind next lower intersecting object\r\n   * @return {fabric.Object} thisArg\r\n   * @chainable\r\n   */\r\n  sendBackwards: function(intersecting) {\r\n    if (this.group) {\r\n      fabric.StaticCanvas.prototype.sendBackwards.call(this.group, this, intersecting);\r\n    }\r\n    else {\r\n      this.canvas.sendBackwards(this, intersecting);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Moves an object up in stack of drawn objects\r\n   * @param {Boolean} [intersecting] If `true`, send object in front of next upper intersecting object\r\n   * @return {fabric.Object} thisArg\r\n   * @chainable\r\n   */\r\n  bringForward: function(intersecting) {\r\n    if (this.group) {\r\n      fabric.StaticCanvas.prototype.bringForward.call(this.group, this, intersecting);\r\n    }\r\n    else {\r\n      this.canvas.bringForward(this, intersecting);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Moves an object to specified level in stack of drawn objects\r\n   * @param {Number} index New position of object\r\n   * @return {fabric.Object} thisArg\r\n   * @chainable\r\n   */\r\n  moveTo: function(index) {\r\n    if (this.group) {\r\n      fabric.StaticCanvas.prototype.moveTo.call(this.group, this, index);\r\n    }\r\n    else {\r\n      this.canvas.moveTo(this, index);\r\n    }\r\n    return this;\r\n  }\r\n});\r\n\r\n\r\n/* _TO_SVG_START_ */\r\n(function() {\r\n\r\n  function getSvgColorString(prop, value) {\r\n    if (!value) {\r\n      return prop + ': none; ';\r\n    }\r\n    else if (value.toLive) {\r\n      return prop + ': url(#SVGID_' + value.id + '); ';\r\n    }\r\n    else {\r\n      var color = new fabric.Color(value),\r\n          str = prop + ': ' + color.toRgb() + '; ',\r\n          opacity = color.getAlpha();\r\n      if (opacity !== 1) {\r\n        //change the color in rgb + opacity\r\n        str += prop + '-opacity: ' + opacity.toString() + '; ';\r\n      }\r\n      return str;\r\n    }\r\n  }\r\n\r\n  fabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\r\n    /**\r\n     * Returns styles-string for svg-export\r\n     * @param {Boolean} skipShadow a boolean to skip shadow filter output\r\n     * @return {String}\r\n     */\r\n    getSvgStyles: function(skipShadow) {\r\n\r\n      var fillRule = this.fillRule,\r\n          strokeWidth = this.strokeWidth ? this.strokeWidth : '0',\r\n          strokeDashArray = this.strokeDashArray ? this.strokeDashArray.join(' ') : 'none',\r\n          strokeLineCap = this.strokeLineCap ? this.strokeLineCap : 'butt',\r\n          strokeLineJoin = this.strokeLineJoin ? this.strokeLineJoin : 'miter',\r\n          strokeMiterLimit = this.strokeMiterLimit ? this.strokeMiterLimit : '4',\r\n          opacity = typeof this.opacity !== 'undefined' ? this.opacity : '1',\r\n          visibility = this.visible ? '' : ' visibility: hidden;',\r\n          filter = skipShadow ? '' : this.getSvgFilter(),\r\n          fill = getSvgColorString('fill', this.fill),\r\n          stroke = getSvgColorString('stroke', this.stroke);\r\n\r\n      return [\r\n        stroke,\r\n        'stroke-width: ', strokeWidth, '; ',\r\n        'stroke-dasharray: ', strokeDashArray, '; ',\r\n        'stroke-linecap: ', strokeLineCap, '; ',\r\n        'stroke-linejoin: ', strokeLineJoin, '; ',\r\n        'stroke-miterlimit: ', strokeMiterLimit, '; ',\r\n        fill,\r\n        'fill-rule: ', fillRule, '; ',\r\n        'opacity: ', opacity, ';',\r\n        filter,\r\n        visibility\r\n      ].join('');\r\n    },\r\n\r\n    /**\r\n     * Returns filter for svg shadow\r\n     * @return {String}\r\n     */\r\n    getSvgFilter: function() {\r\n      return this.shadow ? 'filter: url(#SVGID_' + this.shadow.id + ');' : '';\r\n    },\r\n\r\n    /**\r\n     * Returns id attribute for svg output\r\n     * @return {String}\r\n     */\r\n    getSvgId: function() {\r\n      return this.id ? 'id=\"' + this.id + '\" ' : '';\r\n    },\r\n\r\n    /**\r\n     * Returns transform-string for svg-export\r\n     * @return {String}\r\n     */\r\n    getSvgTransform: function() {\r\n      if (this.group && this.group.type === 'path-group') {\r\n        return '';\r\n      }\r\n      var toFixed = fabric.util.toFixed,\r\n          angle = this.getAngle(),\r\n          skewX = (this.getSkewX() % 360),\r\n          skewY = (this.getSkewY() % 360),\r\n          center = this.getCenterPoint(),\r\n\r\n          NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS,\r\n\r\n          translatePart = this.type === 'path-group' ? '' : 'translate(' +\r\n                            toFixed(center.x, NUM_FRACTION_DIGITS) +\r\n                            ' ' +\r\n                            toFixed(center.y, NUM_FRACTION_DIGITS) +\r\n                          ')',\r\n\r\n          anglePart = angle !== 0\r\n            ? (' rotate(' + toFixed(angle, NUM_FRACTION_DIGITS) + ')')\r\n            : '',\r\n\r\n          scalePart = (this.scaleX === 1 && this.scaleY === 1)\r\n            ? '' :\r\n            (' scale(' +\r\n              toFixed(this.scaleX, NUM_FRACTION_DIGITS) +\r\n              ' ' +\r\n              toFixed(this.scaleY, NUM_FRACTION_DIGITS) +\r\n            ')'),\r\n\r\n          skewXPart = skewX !== 0 ? ' skewX(' + toFixed(skewX, NUM_FRACTION_DIGITS) + ')' : '',\r\n\r\n          skewYPart = skewY !== 0 ? ' skewY(' + toFixed(skewY, NUM_FRACTION_DIGITS) + ')' : '',\r\n\r\n          addTranslateX = this.type === 'path-group' ? this.width : 0,\r\n\r\n          flipXPart = this.flipX ? ' matrix(-1 0 0 1 ' + addTranslateX + ' 0) ' : '',\r\n\r\n          addTranslateY = this.type === 'path-group' ? this.height : 0,\r\n\r\n          flipYPart = this.flipY ? ' matrix(1 0 0 -1 0 ' + addTranslateY + ')' : '';\r\n\r\n      return [\r\n        translatePart, anglePart, scalePart, flipXPart, flipYPart, skewXPart, skewYPart\r\n      ].join('');\r\n    },\r\n\r\n    /**\r\n     * Returns transform-string for svg-export from the transform matrix of single elements\r\n     * @return {String}\r\n     */\r\n    getSvgTransformMatrix: function() {\r\n      return this.transformMatrix ? ' matrix(' + this.transformMatrix.join(' ') + ') ' : '';\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _createBaseSVGMarkup: function() {\r\n      var markup = [];\r\n\r\n      if (this.fill && this.fill.toLive) {\r\n        markup.push(this.fill.toSVG(this, false));\r\n      }\r\n      if (this.stroke && this.stroke.toLive) {\r\n        markup.push(this.stroke.toSVG(this, false));\r\n      }\r\n      if (this.shadow) {\r\n        markup.push(this.shadow.toSVG(this));\r\n      }\r\n      return markup;\r\n    }\r\n  });\r\n})();\r\n/* _TO_SVG_END_ */\r\n\r\n\r\n(function() {\r\n\r\n  var extend = fabric.util.object.extend,\r\n      originalSet = 'stateProperties';\r\n\r\n  /*\r\n    Depends on `stateProperties`\r\n  */\r\n  function saveProps(origin, destination, props) {\r\n    var tmpObj = { }, deep = true;\r\n    props.forEach(function(prop) {\r\n      tmpObj[prop] = origin[prop];\r\n    });\r\n    extend(origin[destination], tmpObj, deep);\r\n  }\r\n\r\n  function _isEqual(origValue, currentValue, firstPass) {\r\n    if (!fabric.isLikelyNode && origValue instanceof Element) {\r\n      // avoid checking deep html elements\r\n      return origValue === currentValue;\r\n    }\r\n    else if (origValue instanceof Array) {\r\n      if (origValue.length !== currentValue.length) {\r\n        return false\r\n      }\r\n      for (var i = 0, len = origValue.length; i < len; i++) {\r\n        if (origValue[i] !== currentValue[i]) {\r\n          return false;\r\n        }\r\n      }\r\n      return true\r\n    }\r\n    else if (origValue && typeof origValue === 'object') {\r\n      if (!firstPass && Object.keys(origValue).length !== Object.keys(currentValue).length) {\r\n        return false;\r\n      }\r\n      for (var key in origValue) {\r\n        if (!_isEqual(origValue[key], currentValue[key])) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n    else {\r\n      return origValue === currentValue;\r\n    }\r\n  }\r\n\r\n\r\n  fabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\r\n\r\n    /**\r\n     * Returns true if object state (one of its state properties) was changed\r\n     * @param {String} [propertySet] optional name for the set of property we want to save\r\n     * @return {Boolean} true if instance' state has changed since `{@link fabric.Object#saveState}` was called\r\n     */\r\n    hasStateChanged: function(propertySet) {\r\n      propertySet = propertySet || originalSet;\r\n      propertySet = '_' + propertySet;\r\n      return !_isEqual(this[propertySet], this, true);\r\n    },\r\n\r\n    /**\r\n     * Saves state of an object\r\n     * @param {Object} [options] Object with additional `stateProperties` array to include when saving state\r\n     * @return {fabric.Object} thisArg\r\n     */\r\n    saveState: function(options) {\r\n      var propertySet = options && options.propertySet || originalSet,\r\n          destination = '_' + propertySet;\r\n      saveProps(this, destination, this[propertySet]);\r\n      if (options && options.stateProperties) {\r\n        saveProps(this, destination, options.stateProperties);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Setups state of an object\r\n     * @param {Object} [options] Object with additional `stateProperties` array to include when saving state\r\n     * @return {fabric.Object} thisArg\r\n     */\r\n    setupState: function(options) {\r\n      options = options || { };\r\n      var propertySet = options.propertySet || originalSet;\r\n      options.propertySet = propertySet;\r\n      this['_' + propertySet] = { };\r\n      this.saveState(options);\r\n      return this;\r\n    }\r\n  });\r\n})();\r\n\r\n\r\n(function() {\r\n\r\n  var degreesToRadians = fabric.util.degreesToRadians,\r\n      /* eslint-disable camelcase */\r\n      isVML = function() { return typeof G_vmlCanvasManager !== 'undefined'; };\r\n      /* eslint-enable camelcase */\r\n  fabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\r\n\r\n    /**\r\n     * The object interactivity controls.\r\n     * @private\r\n     */\r\n    _controlsVisibility: null,\r\n\r\n    /**\r\n     * Determines which corner has been clicked\r\n     * @private\r\n     * @param {Object} pointer The pointer indicating the mouse position\r\n     * @return {String|Boolean} corner code (tl, tr, bl, br, etc.), or false if nothing is found\r\n     */\r\n    _findTargetCorner: function(pointer) {\r\n      if (!this.hasControls || !this.active) {\r\n        return false;\r\n      }\r\n\r\n      var ex = pointer.x,\r\n          ey = pointer.y,\r\n          xPoints,\r\n          lines;\r\n      this.__corner = 0;\r\n      for (var i in this.oCoords) {\r\n\r\n        if (!this.isControlVisible(i)) {\r\n          continue;\r\n        }\r\n\r\n        if (i === 'mtr' && !this.hasRotatingPoint) {\r\n          continue;\r\n        }\r\n\r\n        if (this.get('lockUniScaling') &&\r\n           (i === 'mt' || i === 'mr' || i === 'mb' || i === 'ml')) {\r\n          continue;\r\n        }\r\n\r\n        lines = this._getImageLines(this.oCoords[i].corner);\r\n\r\n        // debugging\r\n\r\n        // canvas.contextTop.fillRect(lines.bottomline.d.x, lines.bottomline.d.y, 2, 2);\r\n        // canvas.contextTop.fillRect(lines.bottomline.o.x, lines.bottomline.o.y, 2, 2);\r\n\r\n        // canvas.contextTop.fillRect(lines.leftline.d.x, lines.leftline.d.y, 2, 2);\r\n        // canvas.contextTop.fillRect(lines.leftline.o.x, lines.leftline.o.y, 2, 2);\r\n\r\n        // canvas.contextTop.fillRect(lines.topline.d.x, lines.topline.d.y, 2, 2);\r\n        // canvas.contextTop.fillRect(lines.topline.o.x, lines.topline.o.y, 2, 2);\r\n\r\n        // canvas.contextTop.fillRect(lines.rightline.d.x, lines.rightline.d.y, 2, 2);\r\n        // canvas.contextTop.fillRect(lines.rightline.o.x, lines.rightline.o.y, 2, 2);\r\n\r\n        xPoints = this._findCrossPoints({ x: ex, y: ey }, lines);\r\n        if (xPoints !== 0 && xPoints % 2 === 1) {\r\n          this.__corner = i;\r\n          return i;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Sets the coordinates of the draggable boxes in the corners of\r\n     * the image used to scale/rotate it.\r\n     * @private\r\n     */\r\n    _setCornerCoords: function() {\r\n      var coords = this.oCoords,\r\n          newTheta = degreesToRadians(45 - this.angle),\r\n          /* Math.sqrt(2 * Math.pow(this.cornerSize, 2)) / 2, */\r\n          /* 0.707106 stands for sqrt(2)/2 */\r\n          cornerHypotenuse = this.cornerSize * 0.707106,\r\n          cosHalfOffset = cornerHypotenuse * Math.cos(newTheta),\r\n          sinHalfOffset = cornerHypotenuse * Math.sin(newTheta),\r\n          x, y;\r\n\r\n      for (var point in coords) {\r\n        x = coords[point].x;\r\n        y = coords[point].y;\r\n        coords[point].corner = {\r\n          tl: {\r\n            x: x - sinHalfOffset,\r\n            y: y - cosHalfOffset\r\n          },\r\n          tr: {\r\n            x: x + cosHalfOffset,\r\n            y: y - sinHalfOffset\r\n          },\r\n          bl: {\r\n            x: x - cosHalfOffset,\r\n            y: y + sinHalfOffset\r\n          },\r\n          br: {\r\n            x: x + sinHalfOffset,\r\n            y: y + cosHalfOffset\r\n          }\r\n        };\r\n      }\r\n    },\r\n\r\n    /*\r\n     * Calculate object dimensions from its properties\r\n     * @private\r\n     */\r\n    _getNonTransformedDimensions: function() {\r\n      var strokeWidth = this.strokeWidth,\r\n          w = this.width + strokeWidth,\r\n          h = this.height + strokeWidth;\r\n      return { x: w, y: h };\r\n    },\r\n\r\n    /*\r\n     * @private\r\n     */\r\n    _getTransformedDimensions: function(skewX, skewY) {\r\n      if (typeof skewX === 'undefined') {\r\n        skewX = this.skewX;\r\n      }\r\n      if (typeof skewY === 'undefined') {\r\n        skewY = this.skewY;\r\n      }\r\n      var dimensions = this._getNonTransformedDimensions(),\r\n          dimX = dimensions.x / 2, dimY = dimensions.y / 2,\r\n          points = [\r\n            {\r\n              x: -dimX,\r\n              y: -dimY\r\n            },\r\n            {\r\n              x: dimX,\r\n              y: -dimY\r\n            },\r\n            {\r\n              x: -dimX,\r\n              y: dimY\r\n            },\r\n            {\r\n              x: dimX,\r\n              y: dimY\r\n            }],\r\n          i, transformMatrix = this._calcDimensionsTransformMatrix(skewX, skewY, false),\r\n          bbox;\r\n      for (i = 0; i < points.length; i++) {\r\n        points[i] = fabric.util.transformPoint(points[i], transformMatrix);\r\n      }\r\n      bbox = fabric.util.makeBoundingBoxFromPoints(points);\r\n      return { x: bbox.width, y: bbox.height };\r\n    },\r\n\r\n    /*\r\n     * private\r\n     */\r\n    _calculateCurrentDimensions: function()  {\r\n      var vpt = this.getViewportTransform(),\r\n          dim = this._getTransformedDimensions(),\r\n          p = fabric.util.transformPoint(dim, vpt, true);\r\n\r\n      return p.scalarAdd(2 * this.padding);\r\n    },\r\n\r\n    /**\r\n     * Draws a colored layer behind the object, inside its selection borders.\r\n     * Requires public options: padding, selectionBackgroundColor\r\n     * this function is called when the context is transformed\r\n     * @param {CanvasRenderingContext2D} ctx Context to draw on\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    drawSelectionBackground: function(ctx) {\r\n      if (!this.selectionBackgroundColor || this.group || !this.active) {\r\n        return this;\r\n      }\r\n      ctx.save();\r\n      var center = this.getCenterPoint(), wh = this._calculateCurrentDimensions(),\r\n          vpt = this.canvas.viewportTransform;\r\n      ctx.translate(center.x, center.y);\r\n      ctx.scale(1 / vpt[0], 1 / vpt[3]);\r\n      ctx.rotate(degreesToRadians(this.angle));\r\n      ctx.fillStyle = this.selectionBackgroundColor;\r\n      ctx.fillRect(-wh.x / 2, -wh.y / 2, wh.x, wh.y);\r\n      ctx.restore();\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Draws borders of an object's bounding box.\r\n     * Requires public properties: width, height\r\n     * Requires public options: padding, borderColor\r\n     * @param {CanvasRenderingContext2D} ctx Context to draw on\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    drawBorders: function(ctx) {\r\n      if (!this.hasBorders) {\r\n        return this;\r\n      }\r\n\r\n      var wh = this._calculateCurrentDimensions(),\r\n          strokeWidth = 1 / this.borderScaleFactor,\r\n          width = wh.x + strokeWidth,\r\n          height = wh.y + strokeWidth;\r\n\r\n      ctx.save();\r\n      ctx.strokeStyle = this.borderColor;\r\n      this._setLineDash(ctx, this.borderDashArray, null);\r\n\r\n      ctx.strokeRect(\r\n        -width / 2,\r\n        -height / 2,\r\n        width,\r\n        height\r\n      );\r\n\r\n      if (this.hasRotatingPoint && this.isControlVisible('mtr') && !this.get('lockRotation') && this.hasControls) {\r\n\r\n        var rotateHeight = -height / 2;\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, rotateHeight);\r\n        ctx.lineTo(0, rotateHeight - this.rotatingPointOffset);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n      }\r\n\r\n      ctx.restore();\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Draws borders of an object's bounding box when it is inside a group.\r\n     * Requires public properties: width, height\r\n     * Requires public options: padding, borderColor\r\n     * @param {CanvasRenderingContext2D} ctx Context to draw on\r\n     * @param {object} options object representing current object parameters\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    drawBordersInGroup: function(ctx, options) {\r\n      if (!this.hasBorders) {\r\n        return this;\r\n      }\r\n\r\n      var p = this._getNonTransformedDimensions(),\r\n          matrix = fabric.util.customTransformMatrix(options.scaleX, options.scaleY, options.skewX),\r\n          wh = fabric.util.transformPoint(p, matrix),\r\n          strokeWidth = 1 / this.borderScaleFactor,\r\n          width = wh.x + strokeWidth,\r\n          height = wh.y + strokeWidth;\r\n\r\n      ctx.save();\r\n      this._setLineDash(ctx, this.borderDashArray, null);\r\n      ctx.strokeStyle = this.borderColor;\r\n\r\n      ctx.strokeRect(\r\n        -width / 2,\r\n        -height / 2,\r\n        width,\r\n        height\r\n      );\r\n\r\n      ctx.restore();\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Draws corners of an object's bounding box.\r\n     * Requires public properties: width, height\r\n     * Requires public options: cornerSize, padding\r\n     * @param {CanvasRenderingContext2D} ctx Context to draw on\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    drawControls: function(ctx) {\r\n      if (!this.hasControls) {\r\n        return this;\r\n      }\r\n\r\n      var wh = this._calculateCurrentDimensions(),\r\n          width = wh.x,\r\n          height = wh.y,\r\n          scaleOffset = this.cornerSize,\r\n          left = -(width + scaleOffset) / 2,\r\n          top = -(height + scaleOffset) / 2,\r\n          methodName = this.transparentCorners ? 'stroke' : 'fill';\r\n\r\n      ctx.save();\r\n      ctx.strokeStyle = ctx.fillStyle = this.cornerColor;\r\n      if (!this.transparentCorners) {\r\n        ctx.strokeStyle = this.cornerStrokeColor;\r\n      }\r\n      this._setLineDash(ctx, this.cornerDashArray, null);\r\n\r\n      // top-left\r\n      this._drawControl('tl', ctx, methodName,\r\n        left,\r\n        top);\r\n\r\n      // top-right\r\n      this._drawControl('tr', ctx, methodName,\r\n        left + width,\r\n        top);\r\n\r\n      // bottom-left\r\n      this._drawControl('bl', ctx, methodName,\r\n        left,\r\n        top + height);\r\n\r\n      // bottom-right\r\n      this._drawControl('br', ctx, methodName,\r\n        left + width,\r\n        top + height);\r\n\r\n      if (!this.get('lockUniScaling')) {\r\n\r\n        // middle-top\r\n        this._drawControl('mt', ctx, methodName,\r\n          left + width / 2,\r\n          top);\r\n\r\n        // middle-bottom\r\n        this._drawControl('mb', ctx, methodName,\r\n          left + width / 2,\r\n          top + height);\r\n\r\n        // middle-right\r\n        this._drawControl('mr', ctx, methodName,\r\n          left + width,\r\n          top + height / 2);\r\n\r\n        // middle-left\r\n        this._drawControl('ml', ctx, methodName,\r\n          left,\r\n          top + height / 2);\r\n      }\r\n\r\n      // middle-top-rotate\r\n      if (this.hasRotatingPoint) {\r\n        this._drawControl('mtr', ctx, methodName,\r\n          left + width / 2,\r\n          top - this.rotatingPointOffset);\r\n      }\r\n\r\n      ctx.restore();\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _drawControl: function(control, ctx, methodName, left, top) {\r\n      if (!this.isControlVisible(control)) {\r\n        return;\r\n      }\r\n      var size = this.cornerSize, stroke = !this.transparentCorners && this.cornerStrokeColor;\r\n      switch (this.cornerStyle) {\r\n        case 'circle':\r\n          ctx.beginPath();\r\n          ctx.arc(left + size / 2, top + size / 2, size / 2, 0, 2 * Math.PI, false);\r\n          ctx[methodName]();\r\n          if (stroke) {\r\n            ctx.stroke();\r\n          }\r\n          break;\r\n        default:\r\n          isVML() || this.transparentCorners || ctx.clearRect(left, top, size, size);\r\n          ctx[methodName + 'Rect'](left, top, size, size);\r\n          if (stroke) {\r\n            ctx.strokeRect(left, top, size, size);\r\n          }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns true if the specified control is visible, false otherwise.\r\n     * @param {String} controlName The name of the control. Possible values are 'tl', 'tr', 'br', 'bl', 'ml', 'mt', 'mr', 'mb', 'mtr'.\r\n     * @returns {Boolean} true if the specified control is visible, false otherwise\r\n     */\r\n    isControlVisible: function(controlName) {\r\n      return this._getControlsVisibility()[controlName];\r\n    },\r\n\r\n    /**\r\n     * Sets the visibility of the specified control.\r\n     * @param {String} controlName The name of the control. Possible values are 'tl', 'tr', 'br', 'bl', 'ml', 'mt', 'mr', 'mb', 'mtr'.\r\n     * @param {Boolean} visible true to set the specified control visible, false otherwise\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    setControlVisible: function(controlName, visible) {\r\n      this._getControlsVisibility()[controlName] = visible;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Sets the visibility state of object controls.\r\n     * @param {Object} [options] Options object\r\n     * @param {Boolean} [options.bl] true to enable the bottom-left control, false to disable it\r\n     * @param {Boolean} [options.br] true to enable the bottom-right control, false to disable it\r\n     * @param {Boolean} [options.mb] true to enable the middle-bottom control, false to disable it\r\n     * @param {Boolean} [options.ml] true to enable the middle-left control, false to disable it\r\n     * @param {Boolean} [options.mr] true to enable the middle-right control, false to disable it\r\n     * @param {Boolean} [options.mt] true to enable the middle-top control, false to disable it\r\n     * @param {Boolean} [options.tl] true to enable the top-left control, false to disable it\r\n     * @param {Boolean} [options.tr] true to enable the top-right control, false to disable it\r\n     * @param {Boolean} [options.mtr] true to enable the middle-top-rotate control, false to disable it\r\n     * @return {fabric.Object} thisArg\r\n     * @chainable\r\n     */\r\n    setControlsVisibility: function(options) {\r\n      options || (options = { });\r\n\r\n      for (var p in options) {\r\n        this.setControlVisible(p, options[p]);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returns the instance of the control visibility set for this object.\r\n     * @private\r\n     * @returns {Object}\r\n     */\r\n    _getControlsVisibility: function() {\r\n      if (!this._controlsVisibility) {\r\n        this._controlsVisibility = {\r\n          tl: true,\r\n          tr: true,\r\n          br: true,\r\n          bl: true,\r\n          ml: true,\r\n          mt: true,\r\n          mr: true,\r\n          mb: true,\r\n          mtr: true\r\n        };\r\n      }\r\n      return this._controlsVisibility;\r\n    }\r\n  });\r\n})();\r\n\r\n\r\nfabric.util.object.extend(fabric.StaticCanvas.prototype, /** @lends fabric.StaticCanvas.prototype */ {\r\n\r\n  /**\r\n   * Animation duration (in ms) for fx* methods\r\n   * @type Number\r\n   * @default\r\n   */\r\n  FX_DURATION: 500,\r\n\r\n  /**\r\n   * Centers object horizontally with animation.\r\n   * @param {fabric.Object} object Object to center\r\n   * @param {Object} [callbacks] Callbacks object with optional \"onComplete\" and/or \"onChange\" properties\r\n   * @param {Function} [callbacks.onComplete] Invoked on completion\r\n   * @param {Function} [callbacks.onChange] Invoked on every step of animation\r\n   * @return {fabric.Canvas} thisArg\r\n   * @chainable\r\n   */\r\n  fxCenterObjectH: function (object, callbacks) {\r\n    callbacks = callbacks || { };\r\n\r\n    var empty = function() { },\r\n        onComplete = callbacks.onComplete || empty,\r\n        onChange = callbacks.onChange || empty,\r\n        _this = this;\r\n\r\n    fabric.util.animate({\r\n      startValue: object.get('left'),\r\n      endValue: this.getCenter().left,\r\n      duration: this.FX_DURATION,\r\n      onChange: function(value) {\r\n        object.set('left', value);\r\n        _this.renderAll();\r\n        onChange();\r\n      },\r\n      onComplete: function() {\r\n        object.setCoords();\r\n        onComplete();\r\n      }\r\n    });\r\n\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Centers object vertically with animation.\r\n   * @param {fabric.Object} object Object to center\r\n   * @param {Object} [callbacks] Callbacks object with optional \"onComplete\" and/or \"onChange\" properties\r\n   * @param {Function} [callbacks.onComplete] Invoked on completion\r\n   * @param {Function} [callbacks.onChange] Invoked on every step of animation\r\n   * @return {fabric.Canvas} thisArg\r\n   * @chainable\r\n   */\r\n  fxCenterObjectV: function (object, callbacks) {\r\n    callbacks = callbacks || { };\r\n\r\n    var empty = function() { },\r\n        onComplete = callbacks.onComplete || empty,\r\n        onChange = callbacks.onChange || empty,\r\n        _this = this;\r\n\r\n    fabric.util.animate({\r\n      startValue: object.get('top'),\r\n      endValue: this.getCenter().top,\r\n      duration: this.FX_DURATION,\r\n      onChange: function(value) {\r\n        object.set('top', value);\r\n        _this.renderAll();\r\n        onChange();\r\n      },\r\n      onComplete: function() {\r\n        object.setCoords();\r\n        onComplete();\r\n      }\r\n    });\r\n\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Same as `fabric.Canvas#remove` but animated\r\n   * @param {fabric.Object} object Object to remove\r\n   * @param {Object} [callbacks] Callbacks object with optional \"onComplete\" and/or \"onChange\" properties\r\n   * @param {Function} [callbacks.onComplete] Invoked on completion\r\n   * @param {Function} [callbacks.onChange] Invoked on every step of animation\r\n   * @return {fabric.Canvas} thisArg\r\n   * @chainable\r\n   */\r\n  fxRemove: function (object, callbacks) {\r\n    callbacks = callbacks || { };\r\n\r\n    var empty = function() { },\r\n        onComplete = callbacks.onComplete || empty,\r\n        onChange = callbacks.onChange || empty,\r\n        _this = this;\r\n\r\n    fabric.util.animate({\r\n      startValue: object.get('opacity'),\r\n      endValue: 0,\r\n      duration: this.FX_DURATION,\r\n      onStart: function() {\r\n        object.set('active', false);\r\n      },\r\n      onChange: function(value) {\r\n        object.set('opacity', value);\r\n        _this.renderAll();\r\n        onChange();\r\n      },\r\n      onComplete: function () {\r\n        _this.remove(object);\r\n        onComplete();\r\n      }\r\n    });\r\n\r\n    return this;\r\n  }\r\n});\r\n\r\nfabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\r\n  /**\r\n   * Animates object's properties\r\n   * @param {String|Object} property Property to animate (if string) or properties to animate (if object)\r\n   * @param {Number|Object} value Value to animate property to (if string was given first) or options object\r\n   * @return {fabric.Object} thisArg\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-2#animation}\r\n   * @chainable\r\n   *\r\n   * As object  multiple properties\r\n   *\r\n   * object.animate({ left: ..., top: ... });\r\n   * object.animate({ left: ..., top: ... }, { duration: ... });\r\n   *\r\n   * As string  one property\r\n   *\r\n   * object.animate('left', ...);\r\n   * object.animate('left', { duration: ... });\r\n   *\r\n   */\r\n  animate: function() {\r\n    if (arguments[0] && typeof arguments[0] === 'object') {\r\n      var propsToAnimate = [], prop, skipCallbacks;\r\n      for (prop in arguments[0]) {\r\n        propsToAnimate.push(prop);\r\n      }\r\n      for (var i = 0, len = propsToAnimate.length; i < len; i++) {\r\n        prop = propsToAnimate[i];\r\n        skipCallbacks = i !== len - 1;\r\n        this._animate(prop, arguments[0][prop], arguments[1], skipCallbacks);\r\n      }\r\n    }\r\n    else {\r\n      this._animate.apply(this, arguments);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   * @param {String} property Property to animate\r\n   * @param {String} to Value to animate to\r\n   * @param {Object} [options] Options object\r\n   * @param {Boolean} [skipCallbacks] When true, callbacks like onchange and oncomplete are not invoked\r\n   */\r\n  _animate: function(property, to, options, skipCallbacks) {\r\n    var _this = this, propPair;\r\n\r\n    to = to.toString();\r\n\r\n    if (!options) {\r\n      options = { };\r\n    }\r\n    else {\r\n      options = fabric.util.object.clone(options);\r\n    }\r\n\r\n    if (~property.indexOf('.')) {\r\n      propPair = property.split('.');\r\n    }\r\n\r\n    var currentValue = propPair\r\n      ? this.get(propPair[0])[propPair[1]]\r\n      : this.get(property);\r\n\r\n    if (!('from' in options)) {\r\n      options.from = currentValue;\r\n    }\r\n\r\n    if (~to.indexOf('=')) {\r\n      to = currentValue + parseFloat(to.replace('=', ''));\r\n    }\r\n    else {\r\n      to = parseFloat(to);\r\n    }\r\n\r\n    fabric.util.animate({\r\n      startValue: options.from,\r\n      endValue: to,\r\n      byValue: options.by,\r\n      easing: options.easing,\r\n      duration: options.duration,\r\n      abort: options.abort && function() {\r\n        return options.abort.call(_this);\r\n      },\r\n      onChange: function(value) {\r\n        if (propPair) {\r\n          _this[propPair[0]][propPair[1]] = value;\r\n        }\r\n        else {\r\n          _this.set(property, value);\r\n        }\r\n        if (skipCallbacks) {\r\n          return;\r\n        }\r\n        options.onChange && options.onChange();\r\n      },\r\n      onComplete: function() {\r\n        if (skipCallbacks) {\r\n          return;\r\n        }\r\n\r\n        _this.setCoords();\r\n        options.onComplete && options.onComplete();\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      coordProps = { x1: 1, x2: 1, y1: 1, y2: 1 },\r\n      supportsLineDash = fabric.StaticCanvas.supports('setLineDash');\r\n\r\n  if (fabric.Line) {\r\n    fabric.warn('fabric.Line is already defined');\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Line class\r\n   * @class fabric.Line\r\n   * @extends fabric.Object\r\n   * @see {@link fabric.Line#initialize} for constructor definition\r\n   */\r\n  fabric.Line = fabric.util.createClass(fabric.Object, /** @lends fabric.Line.prototype */ {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'line',\r\n\r\n    /**\r\n     * x value or first line edge\r\n     * @type Number\r\n     * @default\r\n     */\r\n    x1: 0,\r\n\r\n    /**\r\n     * y value or first line edge\r\n     * @type Number\r\n     * @default\r\n     */\r\n    y1: 0,\r\n\r\n    /**\r\n     * x value or second line edge\r\n     * @type Number\r\n     * @default\r\n     */\r\n    x2: 0,\r\n\r\n    /**\r\n     * y value or second line edge\r\n     * @type Number\r\n     * @default\r\n     */\r\n    y2: 0,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Array} [points] Array of points\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.Line} thisArg\r\n     */\r\n    initialize: function(points, options) {\r\n      if (!points) {\r\n        points = [0, 0, 0, 0];\r\n      }\r\n\r\n      this.callSuper('initialize', options);\r\n\r\n      this.set('x1', points[0]);\r\n      this.set('y1', points[1]);\r\n      this.set('x2', points[2]);\r\n      this.set('y2', points[3]);\r\n\r\n      this._setWidthHeight(options);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} [options] Options\r\n     */\r\n    _setWidthHeight: function(options) {\r\n      options || (options = { });\r\n\r\n      this.width = Math.abs(this.x2 - this.x1);\r\n      this.height = Math.abs(this.y2 - this.y1);\r\n\r\n      this.left = 'left' in options\r\n        ? options.left\r\n        : this._getLeftToOriginX();\r\n\r\n      this.top = 'top' in options\r\n        ? options.top\r\n        : this._getTopToOriginY();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} key\r\n     * @param {*} value\r\n     */\r\n    _set: function(key, value) {\r\n      this.callSuper('_set', key, value);\r\n      if (typeof coordProps[key] !== 'undefined') {\r\n        this._setWidthHeight();\r\n      }\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @return {Number} leftToOriginX Distance from left edge of canvas to originX of Line.\r\n     */\r\n    _getLeftToOriginX: makeEdgeToOriginGetter(\r\n      { // property names\r\n        origin: 'originX',\r\n        axis1: 'x1',\r\n        axis2: 'x2',\r\n        dimension: 'width'\r\n      },\r\n      { // possible values of origin\r\n        nearest: 'left',\r\n        center: 'center',\r\n        farthest: 'right'\r\n      }\r\n    ),\r\n\r\n    /**\r\n     * @private\r\n     * @return {Number} topToOriginY Distance from top edge of canvas to originY of Line.\r\n     */\r\n    _getTopToOriginY: makeEdgeToOriginGetter(\r\n      { // property names\r\n        origin: 'originY',\r\n        axis1: 'y1',\r\n        axis2: 'y2',\r\n        dimension: 'height'\r\n      },\r\n      { // possible values of origin\r\n        nearest: 'top',\r\n        center: 'center',\r\n        farthest: 'bottom'\r\n      }\r\n    ),\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} noTransform\r\n     */\r\n    _render: function(ctx, noTransform) {\r\n      ctx.beginPath();\r\n\r\n      if (noTransform) {\r\n        //  Line coords are distances from left-top of canvas to origin of line.\r\n        //  To render line in a path-group, we need to translate them to\r\n        //  distances from center of path-group to center of line.\r\n        var cp = this.getCenterPoint();\r\n        ctx.translate(\r\n          cp.x - this.strokeWidth / 2,\r\n          cp.y - this.strokeWidth / 2\r\n        );\r\n      }\r\n\r\n      if (!this.strokeDashArray || this.strokeDashArray && supportsLineDash) {\r\n        // move from center (of virtual box) to its left/top corner\r\n        // we can't assume x1, y1 is top left and x2, y2 is bottom right\r\n        var p = this.calcLinePoints();\r\n        ctx.moveTo(p.x1, p.y1);\r\n        ctx.lineTo(p.x2, p.y2);\r\n      }\r\n\r\n      ctx.lineWidth = this.strokeWidth;\r\n\r\n      // TODO: test this\r\n      // make sure setting \"fill\" changes color of a line\r\n      // (by copying fillStyle to strokeStyle, since line is stroked, not filled)\r\n      var origStrokeStyle = ctx.strokeStyle;\r\n      ctx.strokeStyle = this.stroke || ctx.fillStyle;\r\n      this.stroke && this._renderStroke(ctx);\r\n      ctx.strokeStyle = origStrokeStyle;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderDashedStroke: function(ctx) {\r\n      var p = this.calcLinePoints();\r\n\r\n      ctx.beginPath();\r\n      fabric.util.drawDashedLine(ctx, p.x1, p.y1, p.x2, p.y2, this.strokeDashArray);\r\n      ctx.closePath();\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @methd toObject\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      return extend(this.callSuper('toObject', propertiesToInclude), this.calcLinePoints());\r\n    },\r\n\r\n    /*\r\n     * Calculate object dimensions from its properties\r\n     * @private\r\n     */\r\n    _getNonTransformedDimensions: function() {\r\n      var dim = this.callSuper('_getNonTransformedDimensions');\r\n      if (this.strokeLineCap === 'butt') {\r\n        if (dim.x === 0) {\r\n          dim.y -= this.strokeWidth;\r\n        }\r\n        if (dim.y === 0) {\r\n          dim.x -= this.strokeWidth;\r\n        }\r\n      }\r\n      return dim;\r\n    },\r\n\r\n    /**\r\n     * Recalculates line points given width and height\r\n     * @private\r\n     */\r\n    calcLinePoints: function() {\r\n      var xMult = this.x1 <= this.x2 ? -1 : 1,\r\n          yMult = this.y1 <= this.y2 ? -1 : 1,\r\n          x1 = (xMult * this.width * 0.5),\r\n          y1 = (yMult * this.height * 0.5),\r\n          x2 = (xMult * this.width * -0.5),\r\n          y2 = (yMult * this.height * -0.5);\r\n\r\n      return {\r\n        x1: x1,\r\n        x2: x2,\r\n        y1: y1,\r\n        y2: y2\r\n      };\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns SVG representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function(reviver) {\r\n      var markup = this._createBaseSVGMarkup(),\r\n          p = { x1: this.x1, x2: this.x2, y1: this.y1, y2: this.y2 };\r\n\r\n      if (!(this.group && this.group.type === 'path-group')) {\r\n        p = this.calcLinePoints();\r\n      }\r\n      markup.push(\r\n        '<line ', this.getSvgId(),\r\n          'x1=\"', p.x1,\r\n          '\" y1=\"', p.y1,\r\n          '\" x2=\"', p.x2,\r\n          '\" y2=\"', p.y2,\r\n          '\" style=\"', this.getSvgStyles(),\r\n          '\" transform=\"', this.getSvgTransform(),\r\n          this.getSvgTransformMatrix(),\r\n        '\"/>\\n'\r\n      );\r\n\r\n      return reviver ? reviver(markup.join('')) : markup.join('');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * Returns complexity of an instance\r\n     * @return {Number} complexity\r\n     */\r\n    complexity: function() {\r\n      return 1;\r\n    }\r\n  });\r\n\r\n  /* _FROM_SVG_START_ */\r\n  /**\r\n   * List of attribute names to account for when parsing SVG element (used by {@link fabric.Line.fromElement})\r\n   * @static\r\n   * @memberOf fabric.Line\r\n   * @see http://www.w3.org/TR/SVG/shapes.html#LineElement\r\n   */\r\n  fabric.Line.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat('x1 y1 x2 y2'.split(' '));\r\n\r\n  /**\r\n   * Returns fabric.Line instance from an SVG element\r\n   * @static\r\n   * @memberOf fabric.Line\r\n   * @param {SVGElement} element Element to parse\r\n   * @param {Object} [options] Options object\r\n   * @return {fabric.Line} instance of fabric.Line\r\n   */\r\n  fabric.Line.fromElement = function(element, options) {\r\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Line.ATTRIBUTE_NAMES),\r\n        points = [\r\n          parsedAttributes.x1 || 0,\r\n          parsedAttributes.y1 || 0,\r\n          parsedAttributes.x2 || 0,\r\n          parsedAttributes.y2 || 0\r\n        ];\r\n    return new fabric.Line(points, extend(parsedAttributes, options));\r\n  };\r\n  /* _FROM_SVG_END_ */\r\n\r\n  /**\r\n   * Returns fabric.Line instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Line\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {function} [callback] invoked with new instance as first argument\r\n   * @return {fabric.Line} instance of fabric.Line\r\n   */\r\n  fabric.Line.fromObject = function(object, callback) {\r\n    var points = [object.x1, object.y1, object.x2, object.y2],\r\n        line = new fabric.Line(points, object);\r\n    callback && callback(line);\r\n    return line;\r\n  };\r\n\r\n  /**\r\n   * Produces a function that calculates distance from canvas edge to Line origin.\r\n   */\r\n  function makeEdgeToOriginGetter(propertyNames, originValues) {\r\n    var origin = propertyNames.origin,\r\n        axis1 = propertyNames.axis1,\r\n        axis2 = propertyNames.axis2,\r\n        dimension = propertyNames.dimension,\r\n        nearest = originValues.nearest,\r\n        center = originValues.center,\r\n        farthest = originValues.farthest;\r\n\r\n    return function() {\r\n      switch (this.get(origin)) {\r\n        case nearest:\r\n          return Math.min(this.get(axis1), this.get(axis2));\r\n        case center:\r\n          return Math.min(this.get(axis1), this.get(axis2)) + (0.5 * this.get(dimension));\r\n        case farthest:\r\n          return Math.max(this.get(axis1), this.get(axis2));\r\n      }\r\n    };\r\n\r\n  }\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { }),\r\n      pi = Math.PI,\r\n      extend = fabric.util.object.extend;\r\n\r\n  if (fabric.Circle) {\r\n    fabric.warn('fabric.Circle is already defined.');\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Circle class\r\n   * @class fabric.Circle\r\n   * @extends fabric.Object\r\n   * @see {@link fabric.Circle#initialize} for constructor definition\r\n   */\r\n  fabric.Circle = fabric.util.createClass(fabric.Object, /** @lends fabric.Circle.prototype */ {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'circle',\r\n\r\n    /**\r\n     * Radius of this circle\r\n     * @type Number\r\n     * @default\r\n     */\r\n    radius: 0,\r\n\r\n    /**\r\n     * Start angle of the circle, moving clockwise\r\n     * @type Number\r\n     * @default 0\r\n     */\r\n    startAngle: 0,\r\n\r\n    /**\r\n     * End angle of the circle\r\n     * @type Number\r\n     * @default 2Pi\r\n     */\r\n    endAngle: pi * 2,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.Circle} thisArg\r\n     */\r\n    initialize: function(options) {\r\n      this.callSuper('initialize', options);\r\n      this.set('radius', options && options.radius || 0);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} key\r\n     * @param {*} value\r\n     * @return {fabric.Circle} thisArg\r\n     */\r\n    _set: function(key, value) {\r\n      this.callSuper('_set', key, value);\r\n\r\n      if (key === 'radius') {\r\n        this.setRadius(value);\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      return this.callSuper('toObject', ['radius', 'startAngle', 'endAngle'].concat(propertiesToInclude));\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns svg representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function(reviver) {\r\n      var markup = this._createBaseSVGMarkup(), x = 0, y = 0,\r\n          angle = (this.endAngle - this.startAngle) % ( 2 * pi);\r\n\r\n      if (angle === 0) {\r\n        if (this.group && this.group.type === 'path-group') {\r\n          x = this.left + this.radius;\r\n          y = this.top + this.radius;\r\n        }\r\n        markup.push(\r\n          '<circle ', this.getSvgId(),\r\n            'cx=\"' + x + '\" cy=\"' + y + '\" ',\r\n            'r=\"', this.radius,\r\n            '\" style=\"', this.getSvgStyles(),\r\n            '\" transform=\"', this.getSvgTransform(),\r\n            ' ', this.getSvgTransformMatrix(),\r\n          '\"/>\\n'\r\n        );\r\n      }\r\n      else {\r\n        var startX = Math.cos(this.startAngle) * this.radius,\r\n            startY = Math.sin(this.startAngle) * this.radius,\r\n            endX = Math.cos(this.endAngle) * this.radius,\r\n            endY = Math.sin(this.endAngle) * this.radius,\r\n            largeFlag = angle > pi ? '1' : '0';\r\n\r\n        markup.push(\r\n          '<path d=\"M ' + startX + ' ' + startY,\r\n          ' A ' + this.radius + ' ' + this.radius,\r\n          ' 0 ', +largeFlag + ' 1', ' ' + endX + ' ' + endY,\r\n          '\" style=\"', this.getSvgStyles(),\r\n          '\" transform=\"', this.getSvgTransform(),\r\n          ' ', this.getSvgTransformMatrix(),\r\n          '\"/>\\n'\r\n        );\r\n      }\r\n\r\n      return reviver ? reviver(markup.join('')) : markup.join('');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx context to render on\r\n     * @param {Boolean} [noTransform] When true, context is not transformed\r\n     */\r\n    _render: function(ctx, noTransform) {\r\n      ctx.beginPath();\r\n      ctx.arc(noTransform ? this.left + this.radius : 0,\r\n              noTransform ? this.top + this.radius : 0,\r\n              this.radius,\r\n              this.startAngle,\r\n              this.endAngle, false);\r\n      this._renderFill(ctx);\r\n      this._renderStroke(ctx);\r\n    },\r\n\r\n    /**\r\n     * Returns horizontal radius of an object (according to how an object is scaled)\r\n     * @return {Number}\r\n     */\r\n    getRadiusX: function() {\r\n      return this.get('radius') * this.get('scaleX');\r\n    },\r\n\r\n    /**\r\n     * Returns vertical radius of an object (according to how an object is scaled)\r\n     * @return {Number}\r\n     */\r\n    getRadiusY: function() {\r\n      return this.get('radius') * this.get('scaleY');\r\n    },\r\n\r\n    /**\r\n     * Sets radius of an object (and updates width accordingly)\r\n     * @return {fabric.Circle} thisArg\r\n     */\r\n    setRadius: function(value) {\r\n      this.radius = value;\r\n      return this.set('width', value * 2).set('height', value * 2);\r\n    },\r\n\r\n    /**\r\n     * Returns complexity of an instance\r\n     * @return {Number} complexity of this instance\r\n     */\r\n    complexity: function() {\r\n      return 1;\r\n    }\r\n  });\r\n\r\n  /* _FROM_SVG_START_ */\r\n  /**\r\n   * List of attribute names to account for when parsing SVG element (used by {@link fabric.Circle.fromElement})\r\n   * @static\r\n   * @memberOf fabric.Circle\r\n   * @see: http://www.w3.org/TR/SVG/shapes.html#CircleElement\r\n   */\r\n  fabric.Circle.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat('cx cy r'.split(' '));\r\n\r\n  /**\r\n   * Returns {@link fabric.Circle} instance from an SVG element\r\n   * @static\r\n   * @memberOf fabric.Circle\r\n   * @param {SVGElement} element Element to parse\r\n   * @param {Object} [options] Options object\r\n   * @throws {Error} If value of `r` attribute is missing or invalid\r\n   * @return {fabric.Circle} Instance of fabric.Circle\r\n   */\r\n  fabric.Circle.fromElement = function(element, options) {\r\n    options || (options = { });\r\n\r\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Circle.ATTRIBUTE_NAMES);\r\n\r\n    if (!isValidRadius(parsedAttributes)) {\r\n      throw new Error('value of `r` attribute is required and can not be negative');\r\n    }\r\n\r\n    parsedAttributes.left = parsedAttributes.left || 0;\r\n    parsedAttributes.top = parsedAttributes.top || 0;\r\n\r\n    var obj = new fabric.Circle(extend(parsedAttributes, options));\r\n\r\n    obj.left -= obj.radius;\r\n    obj.top -= obj.radius;\r\n    return obj;\r\n  };\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function isValidRadius(attributes) {\r\n    return (('radius' in attributes) && (attributes.radius >= 0));\r\n  }\r\n  /* _FROM_SVG_END_ */\r\n\r\n  /**\r\n   * Returns {@link fabric.Circle} instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Circle\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {function} [callback] invoked with new instance as first argument\r\n   * @return {Object} Instance of fabric.Circle\r\n   */\r\n  fabric.Circle.fromObject = function(object, callback) {\r\n    var circle = new fabric.Circle(object);\r\n    callback && callback(circle);\r\n    return circle;\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { });\r\n\r\n  if (fabric.Triangle) {\r\n    fabric.warn('fabric.Triangle is already defined');\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Triangle class\r\n   * @class fabric.Triangle\r\n   * @extends fabric.Object\r\n   * @return {fabric.Triangle} thisArg\r\n   * @see {@link fabric.Triangle#initialize} for constructor definition\r\n   */\r\n  fabric.Triangle = fabric.util.createClass(fabric.Object, /** @lends fabric.Triangle.prototype */ {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'triangle',\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Object} [options] Options object\r\n     * @return {Object} thisArg\r\n     */\r\n    initialize: function(options) {\r\n      this.callSuper('initialize', options);\r\n      this.set('width', options && options.width || 100)\r\n          .set('height', options && options.height || 100);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _render: function(ctx) {\r\n      var widthBy2 = this.width / 2,\r\n          heightBy2 = this.height / 2;\r\n\r\n      ctx.beginPath();\r\n      ctx.moveTo(-widthBy2, heightBy2);\r\n      ctx.lineTo(0, -heightBy2);\r\n      ctx.lineTo(widthBy2, heightBy2);\r\n      ctx.closePath();\r\n\r\n      this._renderFill(ctx);\r\n      this._renderStroke(ctx);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderDashedStroke: function(ctx) {\r\n      var widthBy2 = this.width / 2,\r\n          heightBy2 = this.height / 2;\r\n\r\n      ctx.beginPath();\r\n      fabric.util.drawDashedLine(ctx, -widthBy2, heightBy2, 0, -heightBy2, this.strokeDashArray);\r\n      fabric.util.drawDashedLine(ctx, 0, -heightBy2, widthBy2, heightBy2, this.strokeDashArray);\r\n      fabric.util.drawDashedLine(ctx, widthBy2, heightBy2, -widthBy2, heightBy2, this.strokeDashArray);\r\n      ctx.closePath();\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns SVG representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function(reviver) {\r\n      var markup = this._createBaseSVGMarkup(),\r\n          widthBy2 = this.width / 2,\r\n          heightBy2 = this.height / 2,\r\n          points = [\r\n            -widthBy2 + ' ' + heightBy2,\r\n            '0 ' + -heightBy2,\r\n            widthBy2 + ' ' + heightBy2\r\n          ]\r\n          .join(',');\r\n\r\n      markup.push(\r\n        '<polygon ', this.getSvgId(),\r\n          'points=\"', points,\r\n          '\" style=\"', this.getSvgStyles(),\r\n          '\" transform=\"', this.getSvgTransform(),\r\n        '\"/>'\r\n      );\r\n\r\n      return reviver ? reviver(markup.join('')) : markup.join('');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * Returns complexity of an instance\r\n     * @return {Number} complexity of this instance\r\n     */\r\n    complexity: function() {\r\n      return 1;\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns fabric.Triangle instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Triangle\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {Function} [callback] Callback to invoke when an fabric.Triangle instance is created\r\n   * @return {Object} instance of Canvas.Triangle\r\n   */\r\n  fabric.Triangle.fromObject = function(object, callback) {\r\n    var triangle = new fabric.Triangle(object);\r\n    callback && callback(triangle);\r\n    return triangle;\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { }),\r\n      piBy2   = Math.PI * 2,\r\n      extend = fabric.util.object.extend;\r\n\r\n  if (fabric.Ellipse) {\r\n    fabric.warn('fabric.Ellipse is already defined.');\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Ellipse class\r\n   * @class fabric.Ellipse\r\n   * @extends fabric.Object\r\n   * @return {fabric.Ellipse} thisArg\r\n   * @see {@link fabric.Ellipse#initialize} for constructor definition\r\n   */\r\n  fabric.Ellipse = fabric.util.createClass(fabric.Object, /** @lends fabric.Ellipse.prototype */ {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'ellipse',\r\n\r\n    /**\r\n     * Horizontal radius\r\n     * @type Number\r\n     * @default\r\n     */\r\n    rx:   0,\r\n\r\n    /**\r\n     * Vertical radius\r\n     * @type Number\r\n     * @default\r\n     */\r\n    ry:   0,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.Ellipse} thisArg\r\n     */\r\n    initialize: function(options) {\r\n      this.callSuper('initialize', options);\r\n      this.set('rx', options && options.rx || 0);\r\n      this.set('ry', options && options.ry || 0);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} key\r\n     * @param {*} value\r\n     * @return {fabric.Ellipse} thisArg\r\n     */\r\n    _set: function(key, value) {\r\n      this.callSuper('_set', key, value);\r\n      switch (key) {\r\n\r\n        case 'rx':\r\n          this.rx = value;\r\n          this.set('width', value * 2);\r\n          break;\r\n\r\n        case 'ry':\r\n          this.ry = value;\r\n          this.set('height', value * 2);\r\n          break;\r\n\r\n      }\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returns horizontal radius of an object (according to how an object is scaled)\r\n     * @return {Number}\r\n     */\r\n    getRx: function() {\r\n      return this.get('rx') * this.get('scaleX');\r\n    },\r\n\r\n    /**\r\n     * Returns Vertical radius of an object (according to how an object is scaled)\r\n     * @return {Number}\r\n     */\r\n    getRy: function() {\r\n      return this.get('ry') * this.get('scaleY');\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      return this.callSuper('toObject', ['rx', 'ry'].concat(propertiesToInclude));\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns svg representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function(reviver) {\r\n      var markup = this._createBaseSVGMarkup(), x = 0, y = 0;\r\n      if (this.group && this.group.type === 'path-group') {\r\n        x = this.left + this.rx;\r\n        y = this.top + this.ry;\r\n      }\r\n      markup.push(\r\n        '<ellipse ', this.getSvgId(),\r\n          'cx=\"', x, '\" cy=\"', y, '\" ',\r\n          'rx=\"', this.rx,\r\n          '\" ry=\"', this.ry,\r\n          '\" style=\"', this.getSvgStyles(),\r\n          '\" transform=\"', this.getSvgTransform(),\r\n          this.getSvgTransformMatrix(),\r\n        '\"/>\\n'\r\n      );\r\n\r\n      return reviver ? reviver(markup.join('')) : markup.join('');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx context to render on\r\n     * @param {Boolean} [noTransform] When true, context is not transformed\r\n     */\r\n    _render: function(ctx, noTransform) {\r\n      ctx.beginPath();\r\n      ctx.save();\r\n      ctx.transform(1, 0, 0, this.ry / this.rx, 0, 0);\r\n      ctx.arc(\r\n        noTransform ? this.left + this.rx : 0,\r\n        noTransform ? (this.top + this.ry) * this.rx / this.ry : 0,\r\n        this.rx,\r\n        0,\r\n        piBy2,\r\n        false);\r\n      ctx.restore();\r\n      this._renderFill(ctx);\r\n      this._renderStroke(ctx);\r\n    },\r\n\r\n    /**\r\n     * Returns complexity of an instance\r\n     * @return {Number} complexity\r\n     */\r\n    complexity: function() {\r\n      return 1;\r\n    }\r\n  });\r\n\r\n  /* _FROM_SVG_START_ */\r\n  /**\r\n   * List of attribute names to account for when parsing SVG element (used by {@link fabric.Ellipse.fromElement})\r\n   * @static\r\n   * @memberOf fabric.Ellipse\r\n   * @see http://www.w3.org/TR/SVG/shapes.html#EllipseElement\r\n   */\r\n  fabric.Ellipse.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat('cx cy rx ry'.split(' '));\r\n\r\n  /**\r\n   * Returns {@link fabric.Ellipse} instance from an SVG element\r\n   * @static\r\n   * @memberOf fabric.Ellipse\r\n   * @param {SVGElement} element Element to parse\r\n   * @param {Object} [options] Options object\r\n   * @return {fabric.Ellipse}\r\n   */\r\n  fabric.Ellipse.fromElement = function(element, options) {\r\n    options || (options = { });\r\n\r\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Ellipse.ATTRIBUTE_NAMES);\r\n\r\n    parsedAttributes.left = parsedAttributes.left || 0;\r\n    parsedAttributes.top = parsedAttributes.top || 0;\r\n\r\n    var ellipse = new fabric.Ellipse(extend(parsedAttributes, options));\r\n\r\n    ellipse.top -= ellipse.ry;\r\n    ellipse.left -= ellipse.rx;\r\n    return ellipse;\r\n  };\r\n  /* _FROM_SVG_END_ */\r\n\r\n  /**\r\n   * Returns {@link fabric.Ellipse} instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Ellipse\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {function} [callback] invoked with new instance as first argument\r\n   * @return {fabric.Ellipse}\r\n   */\r\n  fabric.Ellipse.fromObject = function(object, callback) {\r\n    var ellipse = new fabric.Ellipse(object);\r\n    callback && callback(ellipse);\r\n    return ellipse;\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend;\r\n\r\n  if (fabric.Rect) {\r\n    fabric.warn('fabric.Rect is already defined');\r\n    return;\r\n  }\r\n\r\n  var stateProperties = fabric.Object.prototype.stateProperties.concat();\r\n  stateProperties.push('rx', 'ry', 'x', 'y');\r\n\r\n  /**\r\n   * Rectangle class\r\n   * @class fabric.Rect\r\n   * @extends fabric.Object\r\n   * @return {fabric.Rect} thisArg\r\n   * @see {@link fabric.Rect#initialize} for constructor definition\r\n   */\r\n  fabric.Rect = fabric.util.createClass(fabric.Object, /** @lends fabric.Rect.prototype */ {\r\n\r\n    /**\r\n     * List of properties to consider when checking if state of an object is changed ({@link fabric.Object#hasStateChanged})\r\n     * as well as for history (undo/redo) purposes\r\n     * @type Array\r\n     */\r\n    stateProperties: stateProperties,\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'rect',\r\n\r\n    /**\r\n     * Horizontal border radius\r\n     * @type Number\r\n     * @default\r\n     */\r\n    rx:   0,\r\n\r\n    /**\r\n     * Vertical border radius\r\n     * @type Number\r\n     * @default\r\n     */\r\n    ry:   0,\r\n\r\n    /**\r\n     * Used to specify dash pattern for stroke on this object\r\n     * @type Array\r\n     */\r\n    strokeDashArray: null,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Object} [options] Options object\r\n     * @return {Object} thisArg\r\n     */\r\n    initialize: function(options) {\r\n      this.callSuper('initialize', options);\r\n      this._initRxRy();\r\n\r\n    },\r\n\r\n    /**\r\n     * Initializes rx/ry attributes\r\n     * @private\r\n     */\r\n    _initRxRy: function() {\r\n      if (this.rx && !this.ry) {\r\n        this.ry = this.rx;\r\n      }\r\n      else if (this.ry && !this.rx) {\r\n        this.rx = this.ry;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} noTransform\r\n     */\r\n    _render: function(ctx, noTransform) {\r\n\r\n      // optimize 1x1 case (used in spray brush)\r\n      if (this.width === 1 && this.height === 1) {\r\n        ctx.fillRect(-0.5, -0.5, 1, 1);\r\n        return;\r\n      }\r\n\r\n      var rx = this.rx ? Math.min(this.rx, this.width / 2) : 0,\r\n          ry = this.ry ? Math.min(this.ry, this.height / 2) : 0,\r\n          w = this.width,\r\n          h = this.height,\r\n          x = noTransform ? this.left : -this.width / 2,\r\n          y = noTransform ? this.top : -this.height / 2,\r\n          isRounded = rx !== 0 || ry !== 0,\r\n          /* \"magic number\" for bezier approximations of arcs (http://itc.ktu.lt/itc354/Riskus354.pdf) */\r\n          k = 1 - 0.5522847498;\r\n      ctx.beginPath();\r\n\r\n      ctx.moveTo(x + rx, y);\r\n\r\n      ctx.lineTo(x + w - rx, y);\r\n      isRounded && ctx.bezierCurveTo(x + w - k * rx, y, x + w, y + k * ry, x + w, y + ry);\r\n\r\n      ctx.lineTo(x + w, y + h - ry);\r\n      isRounded && ctx.bezierCurveTo(x + w, y + h - k * ry, x + w - k * rx, y + h, x + w - rx, y + h);\r\n\r\n      ctx.lineTo(x + rx, y + h);\r\n      isRounded && ctx.bezierCurveTo(x + k * rx, y + h, x, y + h - k * ry, x, y + h - ry);\r\n\r\n      ctx.lineTo(x, y + ry);\r\n      isRounded && ctx.bezierCurveTo(x, y + k * ry, x + k * rx, y, x + rx, y);\r\n\r\n      ctx.closePath();\r\n\r\n      this._renderFill(ctx);\r\n      this._renderStroke(ctx);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderDashedStroke: function(ctx) {\r\n      var x = -this.width / 2,\r\n          y = -this.height / 2,\r\n          w = this.width,\r\n          h = this.height;\r\n\r\n      ctx.beginPath();\r\n      fabric.util.drawDashedLine(ctx, x, y, x + w, y, this.strokeDashArray);\r\n      fabric.util.drawDashedLine(ctx, x + w, y, x + w, y + h, this.strokeDashArray);\r\n      fabric.util.drawDashedLine(ctx, x + w, y + h, x, y + h, this.strokeDashArray);\r\n      fabric.util.drawDashedLine(ctx, x, y + h, x, y, this.strokeDashArray);\r\n      ctx.closePath();\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      return this.callSuper('toObject', ['rx', 'ry'].concat(propertiesToInclude));\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns svg representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function(reviver) {\r\n      var markup = this._createBaseSVGMarkup(), x = this.left, y = this.top;\r\n      if (!(this.group && this.group.type === 'path-group')) {\r\n        x = -this.width / 2;\r\n        y = -this.height / 2;\r\n      }\r\n      markup.push(\r\n        '<rect ', this.getSvgId(),\r\n          'x=\"', x, '\" y=\"', y,\r\n          '\" rx=\"', this.get('rx'), '\" ry=\"', this.get('ry'),\r\n          '\" width=\"', this.width, '\" height=\"', this.height,\r\n          '\" style=\"', this.getSvgStyles(),\r\n          '\" transform=\"', this.getSvgTransform(),\r\n          this.getSvgTransformMatrix(),\r\n        '\"/>\\n');\r\n\r\n      return reviver ? reviver(markup.join('')) : markup.join('');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * Returns complexity of an instance\r\n     * @return {Number} complexity\r\n     */\r\n    complexity: function() {\r\n      return 1;\r\n    }\r\n  });\r\n\r\n  /* _FROM_SVG_START_ */\r\n  /**\r\n   * List of attribute names to account for when parsing SVG element (used by `fabric.Rect.fromElement`)\r\n   * @static\r\n   * @memberOf fabric.Rect\r\n   * @see: http://www.w3.org/TR/SVG/shapes.html#RectElement\r\n   */\r\n  fabric.Rect.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat('x y rx ry width height'.split(' '));\r\n\r\n  /**\r\n   * Returns {@link fabric.Rect} instance from an SVG element\r\n   * @static\r\n   * @memberOf fabric.Rect\r\n   * @param {SVGElement} element Element to parse\r\n   * @param {Object} [options] Options object\r\n   * @return {fabric.Rect} Instance of fabric.Rect\r\n   */\r\n  fabric.Rect.fromElement = function(element, options) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n    options = options || { };\r\n\r\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Rect.ATTRIBUTE_NAMES);\r\n\r\n    parsedAttributes.left = parsedAttributes.left || 0;\r\n    parsedAttributes.top  = parsedAttributes.top  || 0;\r\n    var rect = new fabric.Rect(extend((options ? fabric.util.object.clone(options) : { }), parsedAttributes));\r\n    rect.visible = rect.visible && rect.width > 0 && rect.height > 0;\r\n    return rect;\r\n  };\r\n  /* _FROM_SVG_END_ */\r\n\r\n  /**\r\n   * Returns {@link fabric.Rect} instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Rect\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {Function} [callback] Callback to invoke when an fabric.Rect instance is created\r\n   * @return {Object} instance of fabric.Rect\r\n   */\r\n  fabric.Rect.fromObject = function(object, callback) {\r\n    var rect = new fabric.Rect(object);\r\n    callback && callback(rect);\r\n    return rect;\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { });\r\n\r\n  if (fabric.Polyline) {\r\n    fabric.warn('fabric.Polyline is already defined');\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Polyline class\r\n   * @class fabric.Polyline\r\n   * @extends fabric.Object\r\n   * @see {@link fabric.Polyline#initialize} for constructor definition\r\n   */\r\n  fabric.Polyline = fabric.util.createClass(fabric.Object, /** @lends fabric.Polyline.prototype */ {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'polyline',\r\n\r\n    /**\r\n     * Points array\r\n     * @type Array\r\n     * @default\r\n     */\r\n    points: null,\r\n\r\n    /**\r\n     * Minimum X from points values, necessary to offset points\r\n     * @type Number\r\n     * @default\r\n     */\r\n    minX: 0,\r\n\r\n    /**\r\n     * Minimum Y from points values, necessary to offset points\r\n     * @type Number\r\n     * @default\r\n     */\r\n    minY: 0,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Array} points Array of points (where each point is an object with x and y)\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.Polyline} thisArg\r\n     * @example\r\n     * var poly = new fabric.Polyline([\r\n     *     { x: 10, y: 10 },\r\n     *     { x: 50, y: 30 },\r\n     *     { x: 40, y: 70 },\r\n     *     { x: 60, y: 50 },\r\n     *     { x: 100, y: 150 },\r\n     *     { x: 40, y: 100 }\r\n     *   ], {\r\n     *   stroke: 'red',\r\n     *   left: 100,\r\n     *   top: 100\r\n     * });\r\n     */\r\n    initialize: function(points, options) {\r\n      return fabric.Polygon.prototype.initialize.call(this, points, options);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _calcDimensions: function() {\r\n      return fabric.Polygon.prototype._calcDimensions.call(this);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      return fabric.Polygon.prototype.toObject.call(this, propertiesToInclude);\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns SVG representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function(reviver) {\r\n      return fabric.Polygon.prototype.toSVG.call(this, reviver);\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} noTransform\r\n     */\r\n    _render: function(ctx, noTransform) {\r\n      if (!fabric.Polygon.prototype.commonRender.call(this, ctx, noTransform)) {\r\n        return;\r\n      }\r\n      this._renderFill(ctx);\r\n      this._renderStroke(ctx);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderDashedStroke: function(ctx) {\r\n      var p1, p2;\r\n\r\n      ctx.beginPath();\r\n      for (var i = 0, len = this.points.length; i < len; i++) {\r\n        p1 = this.points[i];\r\n        p2 = this.points[i + 1] || p1;\r\n        fabric.util.drawDashedLine(ctx, p1.x, p1.y, p2.x, p2.y, this.strokeDashArray);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns complexity of an instance\r\n     * @return {Number} complexity of this instance\r\n     */\r\n    complexity: function() {\r\n      return this.get('points').length;\r\n    }\r\n  });\r\n\r\n  /* _FROM_SVG_START_ */\r\n  /**\r\n   * List of attribute names to account for when parsing SVG element (used by {@link fabric.Polyline.fromElement})\r\n   * @static\r\n   * @memberOf fabric.Polyline\r\n   * @see: http://www.w3.org/TR/SVG/shapes.html#PolylineElement\r\n   */\r\n  fabric.Polyline.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat();\r\n\r\n  /**\r\n   * Returns fabric.Polyline instance from an SVG element\r\n   * @static\r\n   * @memberOf fabric.Polyline\r\n   * @param {SVGElement} element Element to parse\r\n   * @param {Object} [options] Options object\r\n   * @return {fabric.Polyline} Instance of fabric.Polyline\r\n   */\r\n  fabric.Polyline.fromElement = function(element, options) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n    options || (options = { });\r\n\r\n    var points = fabric.parsePointsAttribute(element.getAttribute('points')),\r\n        parsedAttributes = fabric.parseAttributes(element, fabric.Polyline.ATTRIBUTE_NAMES);\r\n\r\n    return new fabric.Polyline(points, fabric.util.object.extend(parsedAttributes, options));\r\n  };\r\n  /* _FROM_SVG_END_ */\r\n\r\n  /**\r\n   * Returns fabric.Polyline instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Polyline\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {Function} [callback] Callback to invoke when an fabric.Path instance is created\r\n   * @return {fabric.Polyline} Instance of fabric.Polyline\r\n   */\r\n  fabric.Polyline.fromObject = function(object, callback) {\r\n    var polyline = new fabric.Polyline(object.points, object);\r\n    callback && callback(polyline);\r\n    return polyline;\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      min = fabric.util.array.min,\r\n      max = fabric.util.array.max,\r\n      toFixed = fabric.util.toFixed;\r\n\r\n  if (fabric.Polygon) {\r\n    fabric.warn('fabric.Polygon is already defined');\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Polygon class\r\n   * @class fabric.Polygon\r\n   * @extends fabric.Object\r\n   * @see {@link fabric.Polygon#initialize} for constructor definition\r\n   */\r\n  fabric.Polygon = fabric.util.createClass(fabric.Object, /** @lends fabric.Polygon.prototype */ {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'polygon',\r\n\r\n    /**\r\n     * Points array\r\n     * @type Array\r\n     * @default\r\n     */\r\n    points: null,\r\n\r\n    /**\r\n     * Minimum X from points values, necessary to offset points\r\n     * @type Number\r\n     * @default\r\n     */\r\n    minX: 0,\r\n\r\n    /**\r\n     * Minimum Y from points values, necessary to offset points\r\n     * @type Number\r\n     * @default\r\n     */\r\n    minY: 0,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Array} points Array of points\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.Polygon} thisArg\r\n     */\r\n    initialize: function(points, options) {\r\n      options = options || {};\r\n      this.points = points || [];\r\n      this.callSuper('initialize', options);\r\n      this._calcDimensions();\r\n      if (!('top' in options)) {\r\n        this.top = this.minY;\r\n      }\r\n      if (!('left' in options)) {\r\n        this.left = this.minX;\r\n      }\r\n      this.pathOffset = {\r\n        x: this.minX + this.width / 2,\r\n        y: this.minY + this.height / 2\r\n      };\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _calcDimensions: function() {\r\n\r\n      var points = this.points,\r\n          minX = min(points, 'x'),\r\n          minY = min(points, 'y'),\r\n          maxX = max(points, 'x'),\r\n          maxY = max(points, 'y');\r\n\r\n      this.width = (maxX - minX) || 0;\r\n      this.height = (maxY - minY) || 0;\r\n      this.minX = minX || 0;\r\n      this.minY = minY || 0;\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      return extend(this.callSuper('toObject', propertiesToInclude), {\r\n        points: this.points.concat()\r\n      });\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns svg representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function(reviver) {\r\n      var points = [], addTransform,\r\n          markup = this._createBaseSVGMarkup();\r\n\r\n      for (var i = 0, len = this.points.length; i < len; i++) {\r\n        points.push(toFixed(this.points[i].x, 2), ',', toFixed(this.points[i].y, 2), ' ');\r\n      }\r\n      if (!(this.group && this.group.type === 'path-group')) {\r\n        addTransform = ' translate(' + (-this.pathOffset.x) + ', ' + (-this.pathOffset.y) + ') ';\r\n      }\r\n      markup.push(\r\n        '<', this.type, ' ', this.getSvgId(),\r\n          'points=\"', points.join(''),\r\n          '\" style=\"', this.getSvgStyles(),\r\n          '\" transform=\"', this.getSvgTransform(), addTransform,\r\n          ' ', this.getSvgTransformMatrix(),\r\n        '\"/>\\n'\r\n      );\r\n\r\n      return reviver ? reviver(markup.join('')) : markup.join('');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} noTransform\r\n     */\r\n    _render: function(ctx, noTransform) {\r\n      if (!this.commonRender(ctx, noTransform)) {\r\n        return;\r\n      }\r\n      this._renderFill(ctx);\r\n      if (this.stroke || this.strokeDashArray) {\r\n        ctx.closePath();\r\n        this._renderStroke(ctx);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} noTransform\r\n     */\r\n    commonRender: function(ctx, noTransform) {\r\n      var point, len = this.points.length;\r\n\r\n      if (!len || isNaN(this.points[len - 1].y)) {\r\n        // do not draw if no points or odd points\r\n        // NaN comes from parseFloat of a empty string in parser\r\n        return false;\r\n      }\r\n\r\n      noTransform || ctx.translate(-this.pathOffset.x, -this.pathOffset.y);\r\n      ctx.beginPath();\r\n      ctx.moveTo(this.points[0].x, this.points[0].y);\r\n      for (var i = 0; i < len; i++) {\r\n        point = this.points[i];\r\n        ctx.lineTo(point.x, point.y);\r\n      }\r\n      return true;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderDashedStroke: function(ctx) {\r\n      fabric.Polyline.prototype._renderDashedStroke.call(this, ctx);\r\n      ctx.closePath();\r\n    },\r\n\r\n    /**\r\n     * Returns complexity of an instance\r\n     * @return {Number} complexity of this instance\r\n     */\r\n    complexity: function() {\r\n      return this.points.length;\r\n    }\r\n  });\r\n\r\n  /* _FROM_SVG_START_ */\r\n  /**\r\n   * List of attribute names to account for when parsing SVG element (used by `fabric.Polygon.fromElement`)\r\n   * @static\r\n   * @memberOf fabric.Polygon\r\n   * @see: http://www.w3.org/TR/SVG/shapes.html#PolygonElement\r\n   */\r\n  fabric.Polygon.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat();\r\n\r\n  /**\r\n   * Returns {@link fabric.Polygon} instance from an SVG element\r\n   * @static\r\n   * @memberOf fabric.Polygon\r\n   * @param {SVGElement} element Element to parse\r\n   * @param {Object} [options] Options object\r\n   * @return {fabric.Polygon} Instance of fabric.Polygon\r\n   */\r\n  fabric.Polygon.fromElement = function(element, options) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n\r\n    options || (options = { });\r\n\r\n    var points = fabric.parsePointsAttribute(element.getAttribute('points')),\r\n        parsedAttributes = fabric.parseAttributes(element, fabric.Polygon.ATTRIBUTE_NAMES);\r\n\r\n    return new fabric.Polygon(points, extend(parsedAttributes, options));\r\n  };\r\n  /* _FROM_SVG_END_ */\r\n\r\n  /**\r\n   * Returns fabric.Polygon instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Polygon\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {Function} [callback] Callback to invoke when an fabric.Path instance is created\r\n   * @return {fabric.Polygon} Instance of fabric.Polygon\r\n   */\r\n  fabric.Polygon.fromObject = function(object, callback) {\r\n    var polygon = new fabric.Polygon(object.points, object);\r\n    callback && callback(polygon);\r\n    return polygon;\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { }),\r\n      min = fabric.util.array.min,\r\n      max = fabric.util.array.max,\r\n      extend = fabric.util.object.extend,\r\n      _toString = Object.prototype.toString,\r\n      drawArc = fabric.util.drawArc,\r\n      commandLengths = {\r\n        m: 2,\r\n        l: 2,\r\n        h: 1,\r\n        v: 1,\r\n        c: 6,\r\n        s: 4,\r\n        q: 4,\r\n        t: 2,\r\n        a: 7\r\n      },\r\n      repeatedCommands = {\r\n        m: 'l',\r\n        M: 'L'\r\n      };\r\n\r\n  if (fabric.Path) {\r\n    fabric.warn('fabric.Path is already defined');\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Path class\r\n   * @class fabric.Path\r\n   * @extends fabric.Object\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-1#path_and_pathgroup}\r\n   * @see {@link fabric.Path#initialize} for constructor definition\r\n   */\r\n  fabric.Path = fabric.util.createClass(fabric.Object, /** @lends fabric.Path.prototype */ {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'path',\r\n\r\n    /**\r\n     * Array of path points\r\n     * @type Array\r\n     * @default\r\n     */\r\n    path: null,\r\n\r\n    /**\r\n     * Minimum X from points values, necessary to offset points\r\n     * @type Number\r\n     * @default\r\n     */\r\n    minX: 0,\r\n\r\n    /**\r\n     * Minimum Y from points values, necessary to offset points\r\n     * @type Number\r\n     * @default\r\n     */\r\n    minY: 0,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Array|String} path Path data (sequence of coordinates and corresponding \"command\" tokens)\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.Path} thisArg\r\n     */\r\n    initialize: function(path, options) {\r\n      options = options || { };\r\n\r\n      if (options) {\r\n        this.setOptions(options);\r\n      }\r\n\r\n      if (!path) {\r\n        path = [];\r\n      }\r\n\r\n      var fromArray = _toString.call(path) === '[object Array]';\r\n\r\n      this.path = fromArray\r\n        ? path\r\n        // one of commands (m,M,l,L,q,Q,c,C,etc.) followed by non-command characters (i.e. command values)\r\n        : path.match && path.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);\r\n\r\n      if (!this.path) {\r\n        return;\r\n      }\r\n\r\n      if (!fromArray) {\r\n        this.path = this._parsePath();\r\n      }\r\n\r\n      this._setPositionDimensions(options);\r\n\r\n      if (options.sourcePath) {\r\n        this.setSourcePath(options.sourcePath);\r\n      }\r\n      if (this.objectCaching) {\r\n        this._createCacheCanvas();\r\n        this.setupState({ propertySet: 'cacheProperties' });\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} options Options object\r\n     */\r\n    _setPositionDimensions: function(options) {\r\n      var calcDim = this._parseDimensions();\r\n\r\n      this.minX = calcDim.left;\r\n      this.minY = calcDim.top;\r\n      this.width = calcDim.width;\r\n      this.height = calcDim.height;\r\n\r\n      if (typeof options.left === 'undefined') {\r\n        this.left = calcDim.left + (this.originX === 'center'\r\n          ? this.width / 2\r\n          : this.originX === 'right'\r\n            ? this.width\r\n            : 0);\r\n      }\r\n\r\n      if (typeof options.top === 'undefined') {\r\n        this.top = calcDim.top + (this.originY === 'center'\r\n          ? this.height / 2\r\n          : this.originY === 'bottom'\r\n            ? this.height\r\n            : 0);\r\n      }\r\n\r\n      this.pathOffset = this.pathOffset || {\r\n        x: this.minX + this.width / 2,\r\n        y: this.minY + this.height / 2\r\n      };\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx context to render path on\r\n     */\r\n    _renderPathCommands: function(ctx) {\r\n      var current, // current instruction\r\n          previous = null,\r\n          subpathStartX = 0,\r\n          subpathStartY = 0,\r\n          x = 0, // current x\r\n          y = 0, // current y\r\n          controlX = 0, // current control point x\r\n          controlY = 0, // current control point y\r\n          tempX,\r\n          tempY,\r\n          l = -this.pathOffset.x,\r\n          t = -this.pathOffset.y;\r\n\r\n      if (this.group && this.group.type === 'path-group') {\r\n        l = 0;\r\n        t = 0;\r\n      }\r\n\r\n      ctx.beginPath();\r\n\r\n      for (var i = 0, len = this.path.length; i < len; ++i) {\r\n\r\n        current = this.path[i];\r\n\r\n        switch (current[0]) { // first letter\r\n\r\n          case 'l': // lineto, relative\r\n            x += current[1];\r\n            y += current[2];\r\n            ctx.lineTo(x + l, y + t);\r\n            break;\r\n\r\n          case 'L': // lineto, absolute\r\n            x = current[1];\r\n            y = current[2];\r\n            ctx.lineTo(x + l, y + t);\r\n            break;\r\n\r\n          case 'h': // horizontal lineto, relative\r\n            x += current[1];\r\n            ctx.lineTo(x + l, y + t);\r\n            break;\r\n\r\n          case 'H': // horizontal lineto, absolute\r\n            x = current[1];\r\n            ctx.lineTo(x + l, y + t);\r\n            break;\r\n\r\n          case 'v': // vertical lineto, relative\r\n            y += current[1];\r\n            ctx.lineTo(x + l, y + t);\r\n            break;\r\n\r\n          case 'V': // verical lineto, absolute\r\n            y = current[1];\r\n            ctx.lineTo(x + l, y + t);\r\n            break;\r\n\r\n          case 'm': // moveTo, relative\r\n            x += current[1];\r\n            y += current[2];\r\n            subpathStartX = x;\r\n            subpathStartY = y;\r\n            ctx.moveTo(x + l, y + t);\r\n            break;\r\n\r\n          case 'M': // moveTo, absolute\r\n            x = current[1];\r\n            y = current[2];\r\n            subpathStartX = x;\r\n            subpathStartY = y;\r\n            ctx.moveTo(x + l, y + t);\r\n            break;\r\n\r\n          case 'c': // bezierCurveTo, relative\r\n            tempX = x + current[5];\r\n            tempY = y + current[6];\r\n            controlX = x + current[3];\r\n            controlY = y + current[4];\r\n            ctx.bezierCurveTo(\r\n              x + current[1] + l, // x1\r\n              y + current[2] + t, // y1\r\n              controlX + l, // x2\r\n              controlY + t, // y2\r\n              tempX + l,\r\n              tempY + t\r\n            );\r\n            x = tempX;\r\n            y = tempY;\r\n            break;\r\n\r\n          case 'C': // bezierCurveTo, absolute\r\n            x = current[5];\r\n            y = current[6];\r\n            controlX = current[3];\r\n            controlY = current[4];\r\n            ctx.bezierCurveTo(\r\n              current[1] + l,\r\n              current[2] + t,\r\n              controlX + l,\r\n              controlY + t,\r\n              x + l,\r\n              y + t\r\n            );\r\n            break;\r\n\r\n          case 's': // shorthand cubic bezierCurveTo, relative\r\n\r\n            // transform to absolute x,y\r\n            tempX = x + current[3];\r\n            tempY = y + current[4];\r\n\r\n            if (previous[0].match(/[CcSs]/) === null) {\r\n              // If there is no previous command or if the previous command was not a C, c, S, or s,\r\n              // the control point is coincident with the current point\r\n              controlX = x;\r\n              controlY = y;\r\n            }\r\n            else {\r\n              // calculate reflection of previous control points\r\n              controlX = 2 * x - controlX;\r\n              controlY = 2 * y - controlY;\r\n            }\r\n\r\n            ctx.bezierCurveTo(\r\n              controlX + l,\r\n              controlY + t,\r\n              x + current[1] + l,\r\n              y + current[2] + t,\r\n              tempX + l,\r\n              tempY + t\r\n            );\r\n            // set control point to 2nd one of this command\r\n            // \"... the first control point is assumed to be\r\n            // the reflection of the second control point on\r\n            // the previous command relative to the current point.\"\r\n            controlX = x + current[1];\r\n            controlY = y + current[2];\r\n\r\n            x = tempX;\r\n            y = tempY;\r\n            break;\r\n\r\n          case 'S': // shorthand cubic bezierCurveTo, absolute\r\n            tempX = current[3];\r\n            tempY = current[4];\r\n            if (previous[0].match(/[CcSs]/) === null) {\r\n              // If there is no previous command or if the previous command was not a C, c, S, or s,\r\n              // the control point is coincident with the current point\r\n              controlX = x;\r\n              controlY = y;\r\n            }\r\n            else {\r\n              // calculate reflection of previous control points\r\n              controlX = 2 * x - controlX;\r\n              controlY = 2 * y - controlY;\r\n            }\r\n            ctx.bezierCurveTo(\r\n              controlX + l,\r\n              controlY + t,\r\n              current[1] + l,\r\n              current[2] + t,\r\n              tempX + l,\r\n              tempY + t\r\n            );\r\n            x = tempX;\r\n            y = tempY;\r\n\r\n            // set control point to 2nd one of this command\r\n            // \"... the first control point is assumed to be\r\n            // the reflection of the second control point on\r\n            // the previous command relative to the current point.\"\r\n            controlX = current[1];\r\n            controlY = current[2];\r\n\r\n            break;\r\n\r\n          case 'q': // quadraticCurveTo, relative\r\n            // transform to absolute x,y\r\n            tempX = x + current[3];\r\n            tempY = y + current[4];\r\n\r\n            controlX = x + current[1];\r\n            controlY = y + current[2];\r\n\r\n            ctx.quadraticCurveTo(\r\n              controlX + l,\r\n              controlY + t,\r\n              tempX + l,\r\n              tempY + t\r\n            );\r\n            x = tempX;\r\n            y = tempY;\r\n            break;\r\n\r\n          case 'Q': // quadraticCurveTo, absolute\r\n            tempX = current[3];\r\n            tempY = current[4];\r\n\r\n            ctx.quadraticCurveTo(\r\n              current[1] + l,\r\n              current[2] + t,\r\n              tempX + l,\r\n              tempY + t\r\n            );\r\n            x = tempX;\r\n            y = tempY;\r\n            controlX = current[1];\r\n            controlY = current[2];\r\n            break;\r\n\r\n          case 't': // shorthand quadraticCurveTo, relative\r\n\r\n            // transform to absolute x,y\r\n            tempX = x + current[1];\r\n            tempY = y + current[2];\r\n\r\n            if (previous[0].match(/[QqTt]/) === null) {\r\n              // If there is no previous command or if the previous command was not a Q, q, T or t,\r\n              // assume the control point is coincident with the current point\r\n              controlX = x;\r\n              controlY = y;\r\n            }\r\n            else {\r\n              // calculate reflection of previous control point\r\n              controlX = 2 * x - controlX;\r\n              controlY = 2 * y - controlY;\r\n            }\r\n\r\n            ctx.quadraticCurveTo(\r\n              controlX + l,\r\n              controlY + t,\r\n              tempX + l,\r\n              tempY + t\r\n            );\r\n            x = tempX;\r\n            y = tempY;\r\n\r\n            break;\r\n\r\n          case 'T':\r\n            tempX = current[1];\r\n            tempY = current[2];\r\n\r\n            if (previous[0].match(/[QqTt]/) === null) {\r\n              // If there is no previous command or if the previous command was not a Q, q, T or t,\r\n              // assume the control point is coincident with the current point\r\n              controlX = x;\r\n              controlY = y;\r\n            }\r\n            else {\r\n              // calculate reflection of previous control point\r\n              controlX = 2 * x - controlX;\r\n              controlY = 2 * y - controlY;\r\n            }\r\n            ctx.quadraticCurveTo(\r\n              controlX + l,\r\n              controlY + t,\r\n              tempX + l,\r\n              tempY + t\r\n            );\r\n            x = tempX;\r\n            y = tempY;\r\n            break;\r\n\r\n          case 'a':\r\n            // TODO: optimize this\r\n            drawArc(ctx, x + l, y + t, [\r\n              current[1],\r\n              current[2],\r\n              current[3],\r\n              current[4],\r\n              current[5],\r\n              current[6] + x + l,\r\n              current[7] + y + t\r\n            ]);\r\n            x += current[6];\r\n            y += current[7];\r\n            break;\r\n\r\n          case 'A':\r\n            // TODO: optimize this\r\n            drawArc(ctx, x + l, y + t, [\r\n              current[1],\r\n              current[2],\r\n              current[3],\r\n              current[4],\r\n              current[5],\r\n              current[6] + l,\r\n              current[7] + t\r\n            ]);\r\n            x = current[6];\r\n            y = current[7];\r\n            break;\r\n\r\n          case 'z':\r\n          case 'Z':\r\n            x = subpathStartX;\r\n            y = subpathStartY;\r\n            ctx.closePath();\r\n            break;\r\n        }\r\n        previous = current;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx context to render path on\r\n     */\r\n    _render: function(ctx) {\r\n      this._renderPathCommands(ctx);\r\n      this._renderFill(ctx);\r\n      this._renderStroke(ctx);\r\n    },\r\n\r\n    /**\r\n     * Returns string representation of an instance\r\n     * @return {String} string representation of an instance\r\n     */\r\n    toString: function() {\r\n      return '#<fabric.Path (' + this.complexity() +\r\n        '): { \"top\": ' + this.top + ', \"left\": ' + this.left + ' }>';\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      var o = extend(this.callSuper('toObject', ['sourcePath', 'pathOffset'].concat(propertiesToInclude)), {\r\n        path: this.path.map(function(item) { return item.slice() })\r\n      });\r\n      return o;\r\n    },\r\n\r\n    /**\r\n     * Returns dataless object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toDatalessObject: function(propertiesToInclude) {\r\n      var o = this.toObject(propertiesToInclude);\r\n      if (this.sourcePath) {\r\n        o.path = this.sourcePath;\r\n      }\r\n      delete o.sourcePath;\r\n      return o;\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns svg representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function(reviver) {\r\n      var chunks = [],\r\n          markup = this._createBaseSVGMarkup(), addTransform = '';\r\n\r\n      for (var i = 0, len = this.path.length; i < len; i++) {\r\n        chunks.push(this.path[i].join(' '));\r\n      }\r\n      var path = chunks.join(' ');\r\n      if (!(this.group && this.group.type === 'path-group')) {\r\n        addTransform = ' translate(' + (-this.pathOffset.x) + ', ' + (-this.pathOffset.y) + ') ';\r\n      }\r\n      markup.push(\r\n        '<path ', this.getSvgId(),\r\n          'd=\"', path,\r\n          '\" style=\"', this.getSvgStyles(),\r\n          '\" transform=\"', this.getSvgTransform(), addTransform,\r\n          this.getSvgTransformMatrix(), '\" stroke-linecap=\"round\" ',\r\n        '/>\\n'\r\n      );\r\n\r\n      return reviver ? reviver(markup.join('')) : markup.join('');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * Returns number representation of an instance complexity\r\n     * @return {Number} complexity of this instance\r\n     */\r\n    complexity: function() {\r\n      return this.path.length;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _parsePath: function() {\r\n      var result = [],\r\n          coords = [],\r\n          currentPath,\r\n          parsed,\r\n          re = /([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:e[-+]?\\d+)?)/ig,\r\n          match,\r\n          coordsStr;\r\n\r\n      for (var i = 0, coordsParsed, len = this.path.length; i < len; i++) {\r\n        currentPath = this.path[i];\r\n\r\n        coordsStr = currentPath.slice(1).trim();\r\n        coords.length = 0;\r\n\r\n        while ((match = re.exec(coordsStr))) {\r\n          coords.push(match[0]);\r\n        }\r\n\r\n        coordsParsed = [currentPath.charAt(0)];\r\n\r\n        for (var j = 0, jlen = coords.length; j < jlen; j++) {\r\n          parsed = parseFloat(coords[j]);\r\n          if (!isNaN(parsed)) {\r\n            coordsParsed.push(parsed);\r\n          }\r\n        }\r\n\r\n        var command = coordsParsed[0],\r\n            commandLength = commandLengths[command.toLowerCase()],\r\n            repeatedCommand = repeatedCommands[command] || command;\r\n\r\n        if (coordsParsed.length - 1 > commandLength) {\r\n          for (var k = 1, klen = coordsParsed.length; k < klen; k += commandLength) {\r\n            result.push([command].concat(coordsParsed.slice(k, k + commandLength)));\r\n            command = repeatedCommand;\r\n          }\r\n        }\r\n        else {\r\n          result.push(coordsParsed);\r\n        }\r\n      }\r\n\r\n      return result;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _parseDimensions: function() {\r\n\r\n      var aX = [],\r\n          aY = [],\r\n          current, // current instruction\r\n          previous = null,\r\n          subpathStartX = 0,\r\n          subpathStartY = 0,\r\n          x = 0, // current x\r\n          y = 0, // current y\r\n          controlX = 0, // current control point x\r\n          controlY = 0, // current control point y\r\n          tempX,\r\n          tempY,\r\n          bounds;\r\n\r\n      for (var i = 0, len = this.path.length; i < len; ++i) {\r\n\r\n        current = this.path[i];\r\n\r\n        switch (current[0]) { // first letter\r\n\r\n          case 'l': // lineto, relative\r\n            x += current[1];\r\n            y += current[2];\r\n            bounds = [];\r\n            break;\r\n\r\n          case 'L': // lineto, absolute\r\n            x = current[1];\r\n            y = current[2];\r\n            bounds = [];\r\n            break;\r\n\r\n          case 'h': // horizontal lineto, relative\r\n            x += current[1];\r\n            bounds = [];\r\n            break;\r\n\r\n          case 'H': // horizontal lineto, absolute\r\n            x = current[1];\r\n            bounds = [];\r\n            break;\r\n\r\n          case 'v': // vertical lineto, relative\r\n            y += current[1];\r\n            bounds = [];\r\n            break;\r\n\r\n          case 'V': // verical lineto, absolute\r\n            y = current[1];\r\n            bounds = [];\r\n            break;\r\n\r\n          case 'm': // moveTo, relative\r\n            x += current[1];\r\n            y += current[2];\r\n            subpathStartX = x;\r\n            subpathStartY = y;\r\n            bounds = [];\r\n            break;\r\n\r\n          case 'M': // moveTo, absolute\r\n            x = current[1];\r\n            y = current[2];\r\n            subpathStartX = x;\r\n            subpathStartY = y;\r\n            bounds = [];\r\n            break;\r\n\r\n          case 'c': // bezierCurveTo, relative\r\n            tempX = x + current[5];\r\n            tempY = y + current[6];\r\n            controlX = x + current[3];\r\n            controlY = y + current[4];\r\n            bounds = fabric.util.getBoundsOfCurve(x, y,\r\n              x + current[1], // x1\r\n              y + current[2], // y1\r\n              controlX, // x2\r\n              controlY, // y2\r\n              tempX,\r\n              tempY\r\n            );\r\n            x = tempX;\r\n            y = tempY;\r\n            break;\r\n\r\n          case 'C': // bezierCurveTo, absolute\r\n            x = current[5];\r\n            y = current[6];\r\n            controlX = current[3];\r\n            controlY = current[4];\r\n            bounds = fabric.util.getBoundsOfCurve(x, y,\r\n              current[1],\r\n              current[2],\r\n              controlX,\r\n              controlY,\r\n              x,\r\n              y\r\n            );\r\n            break;\r\n\r\n          case 's': // shorthand cubic bezierCurveTo, relative\r\n\r\n            // transform to absolute x,y\r\n            tempX = x + current[3];\r\n            tempY = y + current[4];\r\n\r\n            if (previous[0].match(/[CcSs]/) === null) {\r\n              // If there is no previous command or if the previous command was not a C, c, S, or s,\r\n              // the control point is coincident with the current point\r\n              controlX = x;\r\n              controlY = y;\r\n            }\r\n            else {\r\n              // calculate reflection of previous control points\r\n              controlX = 2 * x - controlX;\r\n              controlY = 2 * y - controlY;\r\n            }\r\n\r\n            bounds = fabric.util.getBoundsOfCurve(x, y,\r\n              controlX,\r\n              controlY,\r\n              x + current[1],\r\n              y + current[2],\r\n              tempX,\r\n              tempY\r\n            );\r\n            // set control point to 2nd one of this command\r\n            // \"... the first control point is assumed to be\r\n            // the reflection of the second control point on\r\n            // the previous command relative to the current point.\"\r\n            controlX = x + current[1];\r\n            controlY = y + current[2];\r\n            x = tempX;\r\n            y = tempY;\r\n            break;\r\n\r\n          case 'S': // shorthand cubic bezierCurveTo, absolute\r\n            tempX = current[3];\r\n            tempY = current[4];\r\n            if (previous[0].match(/[CcSs]/) === null) {\r\n              // If there is no previous command or if the previous command was not a C, c, S, or s,\r\n              // the control point is coincident with the current point\r\n              controlX = x;\r\n              controlY = y;\r\n            }\r\n            else {\r\n              // calculate reflection of previous control points\r\n              controlX = 2 * x - controlX;\r\n              controlY = 2 * y - controlY;\r\n            }\r\n            bounds = fabric.util.getBoundsOfCurve(x, y,\r\n              controlX,\r\n              controlY,\r\n              current[1],\r\n              current[2],\r\n              tempX,\r\n              tempY\r\n            );\r\n            x = tempX;\r\n            y = tempY;\r\n            // set control point to 2nd one of this command\r\n            // \"... the first control point is assumed to be\r\n            // the reflection of the second control point on\r\n            // the previous command relative to the current point.\"\r\n            controlX = current[1];\r\n            controlY = current[2];\r\n            break;\r\n\r\n          case 'q': // quadraticCurveTo, relative\r\n            // transform to absolute x,y\r\n            tempX = x + current[3];\r\n            tempY = y + current[4];\r\n            controlX = x + current[1];\r\n            controlY = y + current[2];\r\n            bounds = fabric.util.getBoundsOfCurve(x, y,\r\n              controlX,\r\n              controlY,\r\n              controlX,\r\n              controlY,\r\n              tempX,\r\n              tempY\r\n            );\r\n            x = tempX;\r\n            y = tempY;\r\n            break;\r\n\r\n          case 'Q': // quadraticCurveTo, absolute\r\n            controlX = current[1];\r\n            controlY = current[2];\r\n            bounds = fabric.util.getBoundsOfCurve(x, y,\r\n              controlX,\r\n              controlY,\r\n              controlX,\r\n              controlY,\r\n              current[3],\r\n              current[4]\r\n            );\r\n            x = current[3];\r\n            y = current[4];\r\n            break;\r\n\r\n          case 't': // shorthand quadraticCurveTo, relative\r\n            // transform to absolute x,y\r\n            tempX = x + current[1];\r\n            tempY = y + current[2];\r\n            if (previous[0].match(/[QqTt]/) === null) {\r\n              // If there is no previous command or if the previous command was not a Q, q, T or t,\r\n              // assume the control point is coincident with the current point\r\n              controlX = x;\r\n              controlY = y;\r\n            }\r\n            else {\r\n              // calculate reflection of previous control point\r\n              controlX = 2 * x - controlX;\r\n              controlY = 2 * y - controlY;\r\n            }\r\n\r\n            bounds = fabric.util.getBoundsOfCurve(x, y,\r\n              controlX,\r\n              controlY,\r\n              controlX,\r\n              controlY,\r\n              tempX,\r\n              tempY\r\n            );\r\n            x = tempX;\r\n            y = tempY;\r\n\r\n            break;\r\n\r\n          case 'T':\r\n            tempX = current[1];\r\n            tempY = current[2];\r\n\r\n            if (previous[0].match(/[QqTt]/) === null) {\r\n              // If there is no previous command or if the previous command was not a Q, q, T or t,\r\n              // assume the control point is coincident with the current point\r\n              controlX = x;\r\n              controlY = y;\r\n            }\r\n            else {\r\n              // calculate reflection of previous control point\r\n              controlX = 2 * x - controlX;\r\n              controlY = 2 * y - controlY;\r\n            }\r\n            bounds = fabric.util.getBoundsOfCurve(x, y,\r\n              controlX,\r\n              controlY,\r\n              controlX,\r\n              controlY,\r\n              tempX,\r\n              tempY\r\n            );\r\n            x = tempX;\r\n            y = tempY;\r\n            break;\r\n\r\n          case 'a':\r\n            // TODO: optimize this\r\n            bounds = fabric.util.getBoundsOfArc(x, y,\r\n              current[1],\r\n              current[2],\r\n              current[3],\r\n              current[4],\r\n              current[5],\r\n              current[6] + x,\r\n              current[7] + y\r\n            );\r\n            x += current[6];\r\n            y += current[7];\r\n            break;\r\n\r\n          case 'A':\r\n            // TODO: optimize this\r\n            bounds = fabric.util.getBoundsOfArc(x, y,\r\n              current[1],\r\n              current[2],\r\n              current[3],\r\n              current[4],\r\n              current[5],\r\n              current[6],\r\n              current[7]\r\n            );\r\n            x = current[6];\r\n            y = current[7];\r\n            break;\r\n\r\n          case 'z':\r\n          case 'Z':\r\n            x = subpathStartX;\r\n            y = subpathStartY;\r\n            break;\r\n        }\r\n        previous = current;\r\n        bounds.forEach(function (point) {\r\n          aX.push(point.x);\r\n          aY.push(point.y);\r\n        });\r\n        aX.push(x);\r\n        aY.push(y);\r\n      }\r\n\r\n      var minX = min(aX) || 0,\r\n          minY = min(aY) || 0,\r\n          maxX = max(aX) || 0,\r\n          maxY = max(aY) || 0,\r\n          deltaX = maxX - minX,\r\n          deltaY = maxY - minY,\r\n\r\n          o = {\r\n            left: minX,\r\n            top: minY,\r\n            width: deltaX,\r\n            height: deltaY\r\n          };\r\n\r\n      return o;\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Creates an instance of fabric.Path from an object\r\n   * @static\r\n   * @memberOf fabric.Path\r\n   * @param {Object} object\r\n   * @param {Function} [callback] Callback to invoke when an fabric.Path instance is created\r\n   */\r\n  fabric.Path.fromObject = function(object, callback) {\r\n    // remove this pattern rom 2.0, accept just object.\r\n    var path;\r\n    if (typeof object.path === 'string') {\r\n      fabric.loadSVGFromURL(object.path, function (elements) {\r\n        var pathUrl = object.path;\r\n        path = elements[0];\r\n        delete object.path;\r\n\r\n        fabric.util.object.extend(path, object);\r\n        path.setSourcePath(pathUrl);\r\n\r\n        callback && callback(path);\r\n      });\r\n    }\r\n    else {\r\n      path = new fabric.Path(object.path, object);\r\n      callback && callback(path);\r\n      return path;\r\n    }\r\n  };\r\n\r\n  /* _FROM_SVG_START_ */\r\n  /**\r\n   * List of attribute names to account for when parsing SVG element (used by `fabric.Path.fromElement`)\r\n   * @static\r\n   * @memberOf fabric.Path\r\n   * @see http://www.w3.org/TR/SVG/paths.html#PathElement\r\n   */\r\n  fabric.Path.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat(['d']);\r\n\r\n  /**\r\n   * Creates an instance of fabric.Path from an SVG <path> element\r\n   * @static\r\n   * @memberOf fabric.Path\r\n   * @param {SVGElement} element to parse\r\n   * @param {Function} callback Callback to invoke when an fabric.Path instance is created\r\n   * @param {Object} [options] Options object\r\n   */\r\n  fabric.Path.fromElement = function(element, callback, options) {\r\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Path.ATTRIBUTE_NAMES);\r\n    callback && callback(new fabric.Path(parsedAttributes.d, extend(parsedAttributes, options)));\r\n  };\r\n  /* _FROM_SVG_END_ */\r\n\r\n  /**\r\n   * Indicates that instances of this type are async\r\n   * @static\r\n   * @memberOf fabric.Path\r\n   * @type Boolean\r\n   * @default\r\n   */\r\n  fabric.Path.async = true;\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      invoke = fabric.util.array.invoke,\r\n      parentToObject = fabric.Object.prototype.toObject;\r\n\r\n  if (fabric.PathGroup) {\r\n    fabric.warn('fabric.PathGroup is already defined');\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Path group class\r\n   * @class fabric.PathGroup\r\n   * @extends fabric.Path\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-1#path_and_pathgroup}\r\n   * @see {@link fabric.PathGroup#initialize} for constructor definition\r\n   */\r\n  fabric.PathGroup = fabric.util.createClass(fabric.Object, /** @lends fabric.PathGroup.prototype */ {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'path-group',\r\n\r\n    /**\r\n     * Fill value\r\n     * @type String\r\n     * @default\r\n     */\r\n    fill: '',\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Array} paths\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.PathGroup} thisArg\r\n     */\r\n    initialize: function(paths, options) {\r\n\r\n      options = options || { };\r\n      this.paths = paths || [];\r\n\r\n      for (var i = this.paths.length; i--;) {\r\n        this.paths[i].group = this;\r\n      }\r\n\r\n      if (options.toBeParsed) {\r\n        this.parseDimensionsFromPaths(options);\r\n        delete options.toBeParsed;\r\n      }\r\n      this.setOptions(options);\r\n      this.setCoords();\r\n      if (options.sourcePath) {\r\n        this.setSourcePath(options.sourcePath);\r\n      }\r\n      if (this.objectCaching) {\r\n        this._createCacheCanvas();\r\n        this.setupState({ propertySet: 'cacheProperties' });\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Calculate width and height based on paths contained\r\n     */\r\n    parseDimensionsFromPaths: function(options) {\r\n      var points, p, xC = [], yC = [], path, height, width,\r\n          m;\r\n      for (var j = this.paths.length; j--;) {\r\n        path = this.paths[j];\r\n        height = path.height + path.strokeWidth;\r\n        width = path.width + path.strokeWidth;\r\n        points = [\r\n          { x: path.left, y: path.top },\r\n          { x: path.left + width, y: path.top },\r\n          { x: path.left, y: path.top + height },\r\n          { x: path.left + width, y: path.top + height }\r\n        ];\r\n        m = this.paths[j].transformMatrix;\r\n        for (var i = 0; i < points.length; i++) {\r\n          p = points[i];\r\n          if (m) {\r\n            p = fabric.util.transformPoint(p, m, false);\r\n          }\r\n          xC.push(p.x);\r\n          yC.push(p.y);\r\n        }\r\n      }\r\n      options.width = Math.max.apply(null, xC);\r\n      options.height = Math.max.apply(null, yC);\r\n    },\r\n\r\n    /**\r\n     * Execute the drawing operation for an object on a specified context\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} [noTransform] When true, context is not transformed\r\n     */\r\n    drawObject: function(ctx) {\r\n      ctx.save();\r\n      ctx.translate(-this.width / 2, -this.height / 2);\r\n      for (var i = 0, l = this.paths.length; i < l; ++i) {\r\n        this.paths[i].render(ctx, true);\r\n      }\r\n      ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * Check if cache is dirty\r\n     */\r\n    isCacheDirty: function() {\r\n      if (this.callSuper('isCacheDirty')) {\r\n        return true\r\n      }\r\n      if (!this.statefullCache) {\r\n        return false;\r\n      }\r\n      for (var i = 0, len = this.paths.length; i < len; i++) {\r\n        if (this.paths[i].isCacheDirty(true)) {\r\n          var dim = this._getNonTransformedDimensions();\r\n          this._cacheContext.clearRect(-dim.x / 2, -dim.y / 2, dim.x, dim.y);\r\n          return true\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Sets certain property to a certain value\r\n     * @param {String} prop\r\n     * @param {*} value\r\n     * @return {fabric.PathGroup} thisArg\r\n     */\r\n    _set: function(prop, value) {\r\n\r\n      if (prop === 'fill' && value && this.isSameColor()) {\r\n        var i = this.paths.length;\r\n        while (i--) {\r\n          this.paths[i]._set(prop, value);\r\n        }\r\n      }\r\n\r\n      return this.callSuper('_set', prop, value);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of this path group\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      var o = extend(parentToObject.call(this, ['sourcePath'].concat(propertiesToInclude)), {\r\n        paths: invoke(this.getObjects(), 'toObject', propertiesToInclude)\r\n      });\r\n      return o;\r\n    },\r\n\r\n    /**\r\n     * Returns dataless object representation of this path group\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} dataless object representation of an instance\r\n     */\r\n    toDatalessObject: function(propertiesToInclude) {\r\n      var o = this.toObject(propertiesToInclude);\r\n      if (this.sourcePath) {\r\n        o.paths = this.sourcePath;\r\n      }\r\n      return o;\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns svg representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function(reviver) {\r\n      var objects = this.getObjects(),\r\n          p = this.getPointByOrigin('left', 'top'),\r\n          translatePart = 'translate(' + p.x + ' ' + p.y + ')',\r\n          markup = this._createBaseSVGMarkup();\r\n      markup.push(\r\n        '<g ', this.getSvgId(),\r\n        'style=\"', this.getSvgStyles(), '\" ',\r\n        'transform=\"', this.getSvgTransformMatrix(), translatePart, this.getSvgTransform(), '\" ',\r\n        '>\\n'\r\n      );\r\n\r\n      for (var i = 0, len = objects.length; i < len; i++) {\r\n        markup.push('\\t', objects[i].toSVG(reviver));\r\n      }\r\n      markup.push('</g>\\n');\r\n\r\n      return reviver ? reviver(markup.join('')) : markup.join('');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * Returns a string representation of this path group\r\n     * @return {String} string representation of an object\r\n     */\r\n    toString: function() {\r\n      return '#<fabric.PathGroup (' + this.complexity() +\r\n        '): { top: ' + this.top + ', left: ' + this.left + ' }>';\r\n    },\r\n\r\n    /**\r\n     * Returns true if all paths in this group are of same color\r\n     * @return {Boolean} true if all paths are of the same color (`fill`)\r\n     */\r\n    isSameColor: function() {\r\n      var firstPathFill = this.getObjects()[0].get('fill') || '';\r\n      if (typeof firstPathFill !== 'string') {\r\n        return false;\r\n      }\r\n      firstPathFill = firstPathFill.toLowerCase();\r\n      return this.getObjects().every(function(path) {\r\n        var pathFill = path.get('fill') || '';\r\n        return typeof pathFill === 'string' && (pathFill).toLowerCase() === firstPathFill;\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Returns number representation of object's complexity\r\n     * @return {Number} complexity\r\n     */\r\n    complexity: function() {\r\n      return this.paths.reduce(function(total, path) {\r\n        return total + ((path && path.complexity) ? path.complexity() : 0);\r\n      }, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns all paths in this path group\r\n     * @return {Array} array of path objects included in this path group\r\n     */\r\n    getObjects: function() {\r\n      return this.paths;\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Creates fabric.PathGroup instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.PathGroup\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {Function} [callback] Callback to invoke when an fabric.PathGroup instance is created\r\n   */\r\n  fabric.PathGroup.fromObject = function(object, callback) {\r\n    // remove this pattern from 2.0 accepts only object\r\n    if (typeof object.paths === 'string') {\r\n      fabric.loadSVGFromURL(object.paths, function (elements) {\r\n\r\n        var pathUrl = object.paths;\r\n        delete object.paths;\r\n\r\n        var pathGroup = fabric.util.groupSVGElements(elements, object, pathUrl);\r\n\r\n        callback(pathGroup);\r\n      });\r\n    }\r\n    else {\r\n      fabric.util.enlivenObjects(object.paths, function(enlivenedObjects) {\r\n        delete object.paths;\r\n        callback(new fabric.PathGroup(enlivenedObjects, object));\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Indicates that instances of this type are async\r\n   * @static\r\n   * @memberOf fabric.PathGroup\r\n   * @type Boolean\r\n   * @default\r\n   */\r\n  fabric.PathGroup.async = true;\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      min = fabric.util.array.min,\r\n      max = fabric.util.array.max,\r\n      invoke = fabric.util.array.invoke;\r\n\r\n  if (fabric.Group) {\r\n    return;\r\n  }\r\n\r\n  // lock-related properties, for use in fabric.Group#get\r\n  // to enable locking behavior on group\r\n  // when one of its objects has lock-related properties set\r\n  var _lockProperties = {\r\n    lockMovementX:  true,\r\n    lockMovementY:  true,\r\n    lockRotation:   true,\r\n    lockScalingX:   true,\r\n    lockScalingY:   true,\r\n    lockUniScaling: true\r\n  };\r\n\r\n  /**\r\n   * Group class\r\n   * @class fabric.Group\r\n   * @extends fabric.Object\r\n   * @mixes fabric.Collection\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-3#groups}\r\n   * @see {@link fabric.Group#initialize} for constructor definition\r\n   */\r\n  fabric.Group = fabric.util.createClass(fabric.Object, fabric.Collection, /** @lends fabric.Group.prototype */ {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'group',\r\n\r\n    /**\r\n     * Width of stroke\r\n     * @type Number\r\n     * @default\r\n     */\r\n    strokeWidth: 0,\r\n\r\n    /**\r\n     * Indicates if click events should also check for subtargets\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    subTargetCheck: false,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Object} objects Group objects\r\n     * @param {Object} [options] Options object\r\n     * @param {Boolean} [isAlreadyGrouped] if true, objects have been grouped already.\r\n     * @return {Object} thisArg\r\n     */\r\n    initialize: function(objects, options, isAlreadyGrouped) {\r\n      options = options || { };\r\n\r\n      this._objects = [];\r\n      // if objects enclosed in a group have been grouped already,\r\n      // we cannot change properties of objects.\r\n      // Thus we need to set options to group without objects,\r\n      // because delegatedProperties propagate to objects.\r\n      isAlreadyGrouped && this.callSuper('initialize', options);\r\n\r\n      this._objects = objects || [];\r\n      for (var i = this._objects.length; i--; ) {\r\n        this._objects[i].group = this;\r\n      }\r\n\r\n      this.originalState = { };\r\n\r\n      if (options.originX) {\r\n        this.originX = options.originX;\r\n      }\r\n      if (options.originY) {\r\n        this.originY = options.originY;\r\n      }\r\n\r\n      if (isAlreadyGrouped) {\r\n        // do not change coordinate of objects enclosed in a group,\r\n        // because objects coordinate system have been group coodinate system already.\r\n        this._updateObjectsCoords(true);\r\n      }\r\n      else {\r\n        this._calcBounds();\r\n        this._updateObjectsCoords();\r\n        this.callSuper('initialize', options);\r\n      }\r\n\r\n      this.setCoords();\r\n      this.saveCoords();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Boolean} [skipCoordsChange] if true, coordinates of objects enclosed in a group do not change\r\n     */\r\n    _updateObjectsCoords: function(skipCoordsChange) {\r\n      var center = this.getCenterPoint();\r\n      for (var i = this._objects.length; i--; ){\r\n        this._updateObjectCoords(this._objects[i], center, skipCoordsChange);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} object\r\n     * @param {fabric.Point} center, current center of group.\r\n     * @param {Boolean} [skipCoordsChange] if true, coordinates of object dose not change\r\n     */\r\n    _updateObjectCoords: function(object, center, skipCoordsChange) {\r\n      // do not display corners of objects enclosed in a group\r\n      object.__origHasControls = object.hasControls;\r\n      object.hasControls = false;\r\n\r\n      if (skipCoordsChange) {\r\n        return;\r\n      }\r\n\r\n      var objectLeft = object.getLeft(),\r\n          objectTop = object.getTop(),\r\n          ignoreZoom = true;\r\n\r\n      object.set({\r\n        originalLeft: objectLeft,\r\n        originalTop: objectTop,\r\n        left: objectLeft - center.x,\r\n        top: objectTop - center.y\r\n      });\r\n      object.setCoords(ignoreZoom);\r\n    },\r\n\r\n    /**\r\n     * Returns string represenation of a group\r\n     * @return {String}\r\n     */\r\n    toString: function() {\r\n      return '#<fabric.Group: (' + this.complexity() + ')>';\r\n    },\r\n\r\n    /**\r\n     * Adds an object to a group; Then recalculates group's dimension, position.\r\n     * @param {Object} object\r\n     * @return {fabric.Group} thisArg\r\n     * @chainable\r\n     */\r\n    addWithUpdate: function(object) {\r\n      this._restoreObjectsState();\r\n      fabric.util.resetObjectTransform(this);\r\n      if (object) {\r\n        this._objects.push(object);\r\n        object.group = this;\r\n        object._set('canvas', this.canvas);\r\n      }\r\n      // since _restoreObjectsState set objects inactive\r\n      this.forEachObject(this._setObjectActive, this);\r\n      this._calcBounds();\r\n      this._updateObjectsCoords();\r\n      this.dirty = true;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setObjectActive: function(object) {\r\n      object.set('active', true);\r\n      object.group = this;\r\n    },\r\n\r\n    /**\r\n     * Removes an object from a group; Then recalculates group's dimension, position.\r\n     * @param {Object} object\r\n     * @return {fabric.Group} thisArg\r\n     * @chainable\r\n     */\r\n    removeWithUpdate: function(object) {\r\n      this._restoreObjectsState();\r\n      fabric.util.resetObjectTransform(this);\r\n      // since _restoreObjectsState set objects inactive\r\n      this.forEachObject(this._setObjectActive, this);\r\n\r\n      this.remove(object);\r\n      this._calcBounds();\r\n      this._updateObjectsCoords();\r\n      this.dirty = true;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _onObjectAdded: function(object) {\r\n      this.dirty = true;\r\n      object.group = this;\r\n      object._set('canvas', this.canvas);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _onObjectRemoved: function(object) {\r\n      this.dirty = true;\r\n      delete object.group;\r\n      object.set('active', false);\r\n    },\r\n\r\n    /**\r\n     * Properties that are delegated to group objects when reading/writing\r\n     * @param {Object} delegatedProperties\r\n     */\r\n    delegatedProperties: {\r\n      fill:             true,\r\n      stroke:           true,\r\n      strokeWidth:      true,\r\n      fontFamily:       true,\r\n      fontWeight:       true,\r\n      fontSize:         true,\r\n      fontStyle:        true,\r\n      lineHeight:       true,\r\n      textDecoration:   true,\r\n      textAlign:        true,\r\n      backgroundColor:  true\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _set: function(key, value) {\r\n      var i = this._objects.length;\r\n\r\n      if (this.delegatedProperties[key] || key === 'canvas') {\r\n        while (i--) {\r\n          this._objects[i].set(key, value);\r\n        }\r\n      }\r\n      else {\r\n        while (i--) {\r\n          this._objects[i].setOnGroup(key, value);\r\n        }\r\n      }\r\n\r\n      this.callSuper('_set', key, value);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      return extend(this.callSuper('toObject', propertiesToInclude), {\r\n        objects: invoke(this._objects, 'toObject', propertiesToInclude)\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Renders instance on a given context\r\n     * @param {CanvasRenderingContext2D} ctx context to render instance on\r\n     */\r\n    render: function(ctx) {\r\n      this._transformDone = true;\r\n      this.callSuper('render', ctx);\r\n      this._transformDone = false;\r\n    },\r\n\r\n    /**\r\n     * Execute the drawing operation for an object on a specified context\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} [noTransform] When true, context is not transformed\r\n     */\r\n    drawObject: function(ctx) {\r\n      for (var i = 0, len = this._objects.length; i < len; i++) {\r\n        this._renderObject(this._objects[i], ctx);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Check if cache is dirty\r\n     */\r\n    isCacheDirty: function() {\r\n      if (this.callSuper('isCacheDirty')) {\r\n        return true\r\n      }\r\n      if (!this.statefullCache) {\r\n        return false;\r\n      }\r\n      for (var i = 0, len = this._objects.length; i < len; i++) {\r\n        if (this._objects[i].isCacheDirty(true)) {\r\n          var dim = this._getNonTransformedDimensions();\r\n          this._cacheContext.clearRect(-dim.x / 2, -dim.y / 2, dim.x, dim.y);\r\n          return true\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Renders controls and borders for the object\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} [noTransform] When true, context is not transformed\r\n     */\r\n    _renderControls: function(ctx, noTransform) {\r\n      ctx.save();\r\n      ctx.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1;\r\n      this.callSuper('_renderControls', ctx, noTransform);\r\n      for (var i = 0, len = this._objects.length; i < len; i++) {\r\n        this._objects[i]._renderControls(ctx);\r\n      }\r\n      ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _renderObject: function(object, ctx) {\r\n      // do not render if object is not visible\r\n      if (!object.visible) {\r\n        return;\r\n      }\r\n\r\n      var originalHasRotatingPoint = object.hasRotatingPoint;\r\n      object.hasRotatingPoint = false;\r\n      object.render(ctx);\r\n      object.hasRotatingPoint = originalHasRotatingPoint;\r\n    },\r\n\r\n    /**\r\n     * Retores original state of each of group objects (original state is that which was before group was created).\r\n     * @private\r\n     * @return {fabric.Group} thisArg\r\n     * @chainable\r\n     */\r\n    _restoreObjectsState: function() {\r\n      this._objects.forEach(this._restoreObjectState, this);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Realises the transform from this group onto the supplied object\r\n     * i.e. it tells you what would happen if the supplied object was in\r\n     * the group, and then the group was destroyed. It mutates the supplied\r\n     * object.\r\n     * @param {fabric.Object} object\r\n     * @return {fabric.Object} transformedObject\r\n     */\r\n    realizeTransform: function(object) {\r\n      var matrix = object.calcTransformMatrix(),\r\n          options = fabric.util.qrDecompose(matrix),\r\n          center = new fabric.Point(options.translateX, options.translateY);\r\n      object.flipX = false;\r\n      object.flipY = false;\r\n      object.set('scaleX', options.scaleX);\r\n      object.set('scaleY', options.scaleY);\r\n      object.skewX = options.skewX;\r\n      object.skewY = options.skewY;\r\n      object.angle = options.angle;\r\n      object.setPositionByOrigin(center, 'center', 'center');\r\n      return object;\r\n    },\r\n\r\n    /**\r\n     * Restores original state of a specified object in group\r\n     * @private\r\n     * @param {fabric.Object} object\r\n     * @return {fabric.Group} thisArg\r\n     */\r\n    _restoreObjectState: function(object) {\r\n      this.realizeTransform(object);\r\n      object.setCoords();\r\n      object.hasControls = object.__origHasControls;\r\n      delete object.__origHasControls;\r\n      object.set('active', false);\r\n      delete object.group;\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Destroys a group (restoring state of its objects)\r\n     * @return {fabric.Group} thisArg\r\n     * @chainable\r\n     */\r\n    destroy: function() {\r\n      return this._restoreObjectsState();\r\n    },\r\n\r\n    /**\r\n     * Saves coordinates of this instance (to be used together with `hasMoved`)\r\n     * @saveCoords\r\n     * @return {fabric.Group} thisArg\r\n     * @chainable\r\n     */\r\n    saveCoords: function() {\r\n      this._originalLeft = this.get('left');\r\n      this._originalTop = this.get('top');\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Checks whether this group was moved (since `saveCoords` was called last)\r\n     * @return {Boolean} true if an object was moved (since fabric.Group#saveCoords was called)\r\n     */\r\n    hasMoved: function() {\r\n      return this._originalLeft !== this.get('left') ||\r\n             this._originalTop !== this.get('top');\r\n    },\r\n\r\n    /**\r\n     * Sets coordinates of all group objects\r\n     * @return {fabric.Group} thisArg\r\n     * @chainable\r\n     */\r\n    setObjectsCoords: function() {\r\n      var ignoreZoom = true;\r\n      this.forEachObject(function(object) {\r\n        object.setCoords(ignoreZoom);\r\n      });\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _calcBounds: function(onlyWidthHeight) {\r\n      var aX = [],\r\n          aY = [],\r\n          o, prop,\r\n          props = ['tr', 'br', 'bl', 'tl'],\r\n          i = 0, iLen = this._objects.length,\r\n          j, jLen = props.length,\r\n          ignoreZoom = true;\r\n\r\n      for ( ; i < iLen; ++i) {\r\n        o = this._objects[i];\r\n        o.setCoords(ignoreZoom);\r\n        for (j = 0; j < jLen; j++) {\r\n          prop = props[j];\r\n          aX.push(o.oCoords[prop].x);\r\n          aY.push(o.oCoords[prop].y);\r\n        }\r\n      }\r\n\r\n      this.set(this._getBounds(aX, aY, onlyWidthHeight));\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _getBounds: function(aX, aY, onlyWidthHeight) {\r\n      var minXY = new fabric.Point(min(aX), min(aY)),\r\n          maxXY = new fabric.Point(max(aX), max(aY)),\r\n          obj = {\r\n            width: (maxXY.x - minXY.x) || 0,\r\n            height: (maxXY.y - minXY.y) || 0\r\n          };\r\n\r\n      if (!onlyWidthHeight) {\r\n        obj.left = minXY.x || 0;\r\n        obj.top = minXY.y || 0;\r\n        if (this.originX === 'center') {\r\n          obj.left += obj.width / 2;\r\n        }\r\n        if (this.originX === 'right') {\r\n          obj.left += obj.width;\r\n        }\r\n        if (this.originY === 'center') {\r\n          obj.top += obj.height / 2;\r\n        }\r\n        if (this.originY === 'bottom') {\r\n          obj.top += obj.height;\r\n        }\r\n      }\r\n      return obj;\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns svg representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function(reviver) {\r\n      var markup = this._createBaseSVGMarkup();\r\n      markup.push(\r\n        '<g ', this.getSvgId(), 'transform=\"',\r\n        /* avoiding styles intentionally */\r\n        this.getSvgTransform(),\r\n        this.getSvgTransformMatrix(),\r\n        '\" style=\"',\r\n        this.getSvgFilter(),\r\n        '\">\\n'\r\n      );\r\n\r\n      for (var i = 0, len = this._objects.length; i < len; i++) {\r\n        markup.push('\\t', this._objects[i].toSVG(reviver));\r\n      }\r\n\r\n      markup.push('</g>\\n');\r\n\r\n      return reviver ? reviver(markup.join('')) : markup.join('');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * Returns requested property\r\n     * @param {String} prop Property to get\r\n     * @return {*}\r\n     */\r\n    get: function(prop) {\r\n      if (prop in _lockProperties) {\r\n        if (this[prop]) {\r\n          return this[prop];\r\n        }\r\n        else {\r\n          for (var i = 0, len = this._objects.length; i < len; i++) {\r\n            if (this._objects[i][prop]) {\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        if (prop in this.delegatedProperties) {\r\n          return this._objects[0] && this._objects[0].get(prop);\r\n        }\r\n        return this[prop];\r\n      }\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns {@link fabric.Group} instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Group\r\n   * @param {Object} object Object to create a group from\r\n   * @param {Function} [callback] Callback to invoke when an group instance is created\r\n   */\r\n  fabric.Group.fromObject = function(object, callback) {\r\n    fabric.util.enlivenObjects(object.objects, function(enlivenedObjects) {\r\n      delete object.objects;\r\n      callback && callback(new fabric.Group(enlivenedObjects, object, true));\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Indicates that instances of this type are async\r\n   * @static\r\n   * @memberOf fabric.Group\r\n   * @type Boolean\r\n   * @default\r\n   */\r\n  fabric.Group.async = true;\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var extend = fabric.util.object.extend;\r\n\r\n  if (!global.fabric) {\r\n    global.fabric = { };\r\n  }\r\n\r\n  if (global.fabric.Image) {\r\n    fabric.warn('fabric.Image is already defined.');\r\n    return;\r\n  }\r\n\r\n  var stateProperties = fabric.Object.prototype.stateProperties.concat();\r\n  stateProperties.push(\r\n    'alignX',\r\n    'alignY',\r\n    'meetOrSlice'\r\n  );\r\n\r\n  /**\r\n   * Image class\r\n   * @class fabric.Image\r\n   * @extends fabric.Object\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-1#images}\r\n   * @see {@link fabric.Image#initialize} for constructor definition\r\n   */\r\n  fabric.Image = fabric.util.createClass(fabric.Object, /** @lends fabric.Image.prototype */ {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'image',\r\n\r\n    /**\r\n     * crossOrigin value (one of \"\", \"anonymous\", \"use-credentials\")\r\n     * @see https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes\r\n     * @type String\r\n     * @default\r\n     */\r\n    crossOrigin: '',\r\n\r\n    /**\r\n     * AlignX value, part of preserveAspectRatio (one of \"none\", \"mid\", \"min\", \"max\")\r\n     * @see http://www.w3.org/TR/SVG/coords.html#PreserveAspectRatioAttribute\r\n     * This parameter defines how the picture is aligned to its viewport when image element width differs from image width.\r\n     * @type String\r\n     * @default\r\n     */\r\n    alignX: 'none',\r\n\r\n    /**\r\n     * AlignY value, part of preserveAspectRatio (one of \"none\", \"mid\", \"min\", \"max\")\r\n     * @see http://www.w3.org/TR/SVG/coords.html#PreserveAspectRatioAttribute\r\n     * This parameter defines how the picture is aligned to its viewport when image element height differs from image height.\r\n     * @type String\r\n     * @default\r\n     */\r\n    alignY: 'none',\r\n\r\n    /**\r\n     * meetOrSlice value, part of preserveAspectRatio  (one of \"meet\", \"slice\").\r\n     * if meet the image is always fully visibile, if slice the viewport is always filled with image.\r\n     * @see http://www.w3.org/TR/SVG/coords.html#PreserveAspectRatioAttribute\r\n     * @type String\r\n     * @default\r\n     */\r\n    meetOrSlice: 'meet',\r\n\r\n    /**\r\n     * Width of a stroke.\r\n     * For image quality a stroke multiple of 2 gives better results.\r\n     * @type Number\r\n     * @default\r\n     */\r\n    strokeWidth: 0,\r\n\r\n    /**\r\n     * private\r\n     * contains last value of scaleX to detect\r\n     * if the Image got resized after the last Render\r\n     * @type Number\r\n     */\r\n    _lastScaleX: 1,\r\n\r\n    /**\r\n     * private\r\n     * contains last value of scaleY to detect\r\n     * if the Image got resized after the last Render\r\n     * @type Number\r\n     */\r\n    _lastScaleY: 1,\r\n\r\n    /**\r\n     * minimum scale factor under which any resizeFilter is triggered to resize the image\r\n     * 0 will disable the automatic resize. 1 will trigger automatically always.\r\n     * number bigger than 1 can be used in case we want to scale with some filter above\r\n     * the natural image dimensions\r\n     * @type Number\r\n     */\r\n    minimumScaleTrigger: 0.5,\r\n\r\n    /**\r\n     * List of properties to consider when checking if\r\n     * state of an object is changed ({@link fabric.Object#hasStateChanged})\r\n     * as well as for history (undo/redo) purposes\r\n     * @type Array\r\n     */\r\n    stateProperties: stateProperties,\r\n\r\n    /**\r\n     * When `true`, object is cached on an additional canvas.\r\n     * default to false for images\r\n     * since 1.7.0\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    objectCaching: false,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {HTMLImageElement | String} element Image element\r\n     * @param {Object} [options] Options object\r\n     * @param {function} [callback] callback function to call after eventual filters applied.\r\n     * @return {fabric.Image} thisArg\r\n     */\r\n    initialize: function(element, options, callback) {\r\n      options || (options = { });\r\n      this.filters = [];\r\n      this.resizeFilters = [];\r\n      this.callSuper('initialize', options);\r\n      this._initElement(element, options, callback);\r\n    },\r\n\r\n    /**\r\n     * Returns image element which this instance if based on\r\n     * @return {HTMLImageElement} Image element\r\n     */\r\n    getElement: function() {\r\n      return this._element;\r\n    },\r\n\r\n    /**\r\n     * Sets image element for this instance to a specified one.\r\n     * If filters defined they are applied to new image.\r\n     * You might need to call `canvas.renderAll` and `object.setCoords` after replacing, to render new image and update controls area.\r\n     * @param {HTMLImageElement} element\r\n     * @param {Function} [callback] Callback is invoked when all filters have been applied and new image is generated\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.Image} thisArg\r\n     * @chainable\r\n     */\r\n    setElement: function(element, callback, options) {\r\n\r\n      var _callback, _this;\r\n\r\n      this._element = element;\r\n      this._originalElement = element;\r\n      this._initConfig(options);\r\n\r\n      if (this.resizeFilters.length === 0) {\r\n        _callback = callback;\r\n      }\r\n      else {\r\n        _this = this;\r\n        _callback = function() {\r\n          _this.applyFilters(callback, _this.resizeFilters, _this._filteredEl || _this._originalElement, true);\r\n        };\r\n      }\r\n\r\n      if (this.filters.length !== 0) {\r\n        this.applyFilters(_callback);\r\n      }\r\n      else if (_callback) {\r\n        _callback(this);\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Sets crossOrigin value (on an instance and corresponding image element)\r\n     * @return {fabric.Image} thisArg\r\n     * @chainable\r\n     */\r\n    setCrossOrigin: function(value) {\r\n      this.crossOrigin = value;\r\n      this._element.crossOrigin = value;\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Returns original size of an image\r\n     * @return {Object} Object with \"width\" and \"height\" properties\r\n     */\r\n    getOriginalSize: function() {\r\n      var element = this.getElement();\r\n      return {\r\n        width: element.width,\r\n        height: element.height\r\n      };\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _stroke: function(ctx) {\r\n      if (!this.stroke || this.strokeWidth === 0) {\r\n        return;\r\n      }\r\n      var w = this.width / 2, h = this.height / 2;\r\n      ctx.beginPath();\r\n      ctx.moveTo(-w, -h);\r\n      ctx.lineTo(w, -h);\r\n      ctx.lineTo(w, h);\r\n      ctx.lineTo(-w, h);\r\n      ctx.lineTo(-w, -h);\r\n      ctx.closePath();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderDashedStroke: function(ctx) {\r\n      var x = -this.width / 2,\r\n          y = -this.height / 2,\r\n          w = this.width,\r\n          h = this.height;\r\n\r\n      ctx.save();\r\n      this._setStrokeStyles(ctx);\r\n\r\n      ctx.beginPath();\r\n      fabric.util.drawDashedLine(ctx, x, y, x + w, y, this.strokeDashArray);\r\n      fabric.util.drawDashedLine(ctx, x + w, y, x + w, y + h, this.strokeDashArray);\r\n      fabric.util.drawDashedLine(ctx, x + w, y + h, x, y + h, this.strokeDashArray);\r\n      fabric.util.drawDashedLine(ctx, x, y + h, x, y, this.strokeDashArray);\r\n      ctx.closePath();\r\n      ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      var filters = [], resizeFilters = [],\r\n          scaleX = 1, scaleY = 1;\r\n\r\n      this.filters.forEach(function(filterObj) {\r\n        if (filterObj) {\r\n          if (filterObj.type === 'Resize') {\r\n            scaleX *= filterObj.scaleX;\r\n            scaleY *= filterObj.scaleY;\r\n          }\r\n          filters.push(filterObj.toObject());\r\n        }\r\n      });\r\n\r\n      this.resizeFilters.forEach(function(filterObj) {\r\n        filterObj && resizeFilters.push(filterObj.toObject());\r\n      });\r\n      var object = extend(\r\n        this.callSuper(\r\n          'toObject',\r\n          ['crossOrigin', 'alignX', 'alignY', 'meetOrSlice'].concat(propertiesToInclude)\r\n        ), {\r\n          src: this.getSrc(),\r\n          filters: filters,\r\n          resizeFilters: resizeFilters,\r\n        });\r\n\r\n      object.width /= scaleX;\r\n      object.height /= scaleY;\r\n\r\n      return object;\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns SVG representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function(reviver) {\r\n      var markup = this._createBaseSVGMarkup(), x = -this.width / 2, y = -this.height / 2,\r\n          preserveAspectRatio = 'none', filtered = true;\r\n      if (this.group && this.group.type === 'path-group') {\r\n        x = this.left;\r\n        y = this.top;\r\n      }\r\n      if (this.alignX !== 'none' && this.alignY !== 'none') {\r\n        preserveAspectRatio = 'x' + this.alignX + 'Y' + this.alignY + ' ' + this.meetOrSlice;\r\n      }\r\n      markup.push(\r\n        '<g transform=\"', this.getSvgTransform(), this.getSvgTransformMatrix(), '\">\\n',\r\n          '<image ', this.getSvgId(), 'xlink:href=\"', this.getSvgSrc(filtered),\r\n            '\" x=\"', x, '\" y=\"', y,\r\n            '\" style=\"', this.getSvgStyles(),\r\n            // we're essentially moving origin of transformation from top/left corner to the center of the shape\r\n            // by wrapping it in container <g> element with actual transformation, then offsetting object to the top/left\r\n            // so that object's center aligns with container's left/top\r\n            '\" width=\"', this.width,\r\n            '\" height=\"', this.height,\r\n            '\" preserveAspectRatio=\"', preserveAspectRatio, '\"',\r\n          '></image>\\n'\r\n      );\r\n\r\n      if (this.stroke || this.strokeDashArray) {\r\n        var origFill = this.fill;\r\n        this.fill = null;\r\n        markup.push(\r\n          '<rect ',\r\n            'x=\"', x, '\" y=\"', y,\r\n            '\" width=\"', this.width, '\" height=\"', this.height,\r\n            '\" style=\"', this.getSvgStyles(),\r\n          '\"/>\\n'\r\n        );\r\n        this.fill = origFill;\r\n      }\r\n\r\n      markup.push('</g>\\n');\r\n\r\n      return reviver ? reviver(markup.join('')) : markup.join('');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * Returns source of an image\r\n     * @param {Boolean} filtered indicates if the src is needed for svg\r\n     * @return {String} Source of an image\r\n     */\r\n    getSrc: function(filtered) {\r\n      var element = filtered ? this._element : this._originalElement;\r\n      if (element) {\r\n        return fabric.isLikelyNode ? element._src : element.src;\r\n      }\r\n      else {\r\n        return this.src || '';\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Sets source of an image\r\n     * @param {String} src Source string (URL)\r\n     * @param {Function} [callback] Callback is invoked when image has been loaded (and all filters have been applied)\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.Image} thisArg\r\n     * @chainable\r\n     */\r\n    setSrc: function(src, callback, options) {\r\n      fabric.util.loadImage(src, function(img) {\r\n        return this.setElement(img, callback, options);\r\n      }, this, options && options.crossOrigin);\r\n    },\r\n\r\n    /**\r\n     * Returns string representation of an instance\r\n     * @return {String} String representation of an instance\r\n     */\r\n    toString: function() {\r\n      return '#<fabric.Image: { src: \"' + this.getSrc() + '\" }>';\r\n    },\r\n\r\n    /**\r\n     * Applies filters assigned to this image (from \"filters\" array)\r\n     * @method applyFilters\r\n     * @param {Function} callback Callback is invoked when all filters have been applied and new image is generated\r\n     * @param {Array} filters to be applied\r\n     * @param {fabric.Image} imgElement image to filter ( default to this._element )\r\n     * @param {Boolean} forResizing\r\n     * @return {CanvasElement} canvasEl to be drawn immediately\r\n     * @chainable\r\n     */\r\n    applyFilters: function(callback, filters, imgElement, forResizing) {\r\n\r\n      filters = filters || this.filters;\r\n      imgElement = imgElement || this._originalElement;\r\n\r\n      if (!imgElement) {\r\n        return;\r\n      }\r\n\r\n      var replacement = fabric.util.createImage(),\r\n          retinaScaling = this.canvas ? this.canvas.getRetinaScaling() : fabric.devicePixelRatio,\r\n          minimumScale = this.minimumScaleTrigger / retinaScaling,\r\n          _this = this, scaleX, scaleY;\r\n\r\n      if (filters.length === 0) {\r\n        this._element = imgElement;\r\n        callback && callback(this);\r\n        return imgElement;\r\n      }\r\n\r\n      var canvasEl = fabric.util.createCanvasElement();\r\n      canvasEl.width = imgElement.width;\r\n      canvasEl.height = imgElement.height;\r\n      canvasEl.getContext('2d').drawImage(imgElement, 0, 0, imgElement.width, imgElement.height);\r\n\r\n      filters.forEach(function(filter) {\r\n        if (!filter) {\r\n          return;\r\n        }\r\n        if (forResizing) {\r\n          scaleX = _this.scaleX < minimumScale ? _this.scaleX : 1;\r\n          scaleY = _this.scaleY < minimumScale ? _this.scaleY : 1;\r\n          if (scaleX * retinaScaling < 1) {\r\n            scaleX *= retinaScaling;\r\n          }\r\n          if (scaleY * retinaScaling < 1) {\r\n            scaleY *= retinaScaling;\r\n          }\r\n        }\r\n        else {\r\n          scaleX = filter.scaleX;\r\n          scaleY = filter.scaleY;\r\n        }\r\n        filter.applyTo(canvasEl, scaleX, scaleY);\r\n        if (!forResizing && filter.type === 'Resize') {\r\n          _this.width *= filter.scaleX;\r\n          _this.height *= filter.scaleY;\r\n        }\r\n      });\r\n\r\n      /** @ignore */\r\n      replacement.width = canvasEl.width;\r\n      replacement.height = canvasEl.height;\r\n      if (fabric.isLikelyNode) {\r\n        replacement.src = canvasEl.toBuffer(undefined, fabric.Image.pngCompression);\r\n        // onload doesn't fire in some node versions, so we invoke callback manually\r\n        _this._element = replacement;\r\n        !forResizing && (_this._filteredEl = replacement);\r\n        callback && callback(_this);\r\n      }\r\n      else {\r\n        replacement.onload = function() {\r\n          _this._element = replacement;\r\n          !forResizing && (_this._filteredEl = replacement);\r\n          callback && callback(_this);\r\n          replacement.onload = canvasEl = null;\r\n        };\r\n        replacement.src = canvasEl.toDataURL('image/png');\r\n      }\r\n      return canvasEl;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} noTransform\r\n     */\r\n    _render: function(ctx, noTransform) {\r\n      var x, y, imageMargins = this._findMargins(), elementToDraw;\r\n\r\n      x = (noTransform ? this.left : -this.width / 2);\r\n      y = (noTransform ? this.top : -this.height / 2);\r\n\r\n      if (this.meetOrSlice === 'slice') {\r\n        ctx.beginPath();\r\n        ctx.rect(x, y, this.width, this.height);\r\n        ctx.clip();\r\n      }\r\n\r\n      if (this.isMoving === false && this.resizeFilters.length && this._needsResize()) {\r\n        this._lastScaleX = this.scaleX;\r\n        this._lastScaleY = this.scaleY;\r\n        elementToDraw = this.applyFilters(null, this.resizeFilters, this._filteredEl || this._originalElement, true);\r\n      }\r\n      else {\r\n        elementToDraw = this._element;\r\n      }\r\n      elementToDraw && ctx.drawImage(elementToDraw,\r\n                                     x + imageMargins.marginX,\r\n                                     y + imageMargins.marginY,\r\n                                     imageMargins.width,\r\n                                     imageMargins.height\r\n                                    );\r\n\r\n      this._stroke(ctx);\r\n      this._renderStroke(ctx);\r\n    },\r\n\r\n    /**\r\n     * @private, needed to check if image needs resize\r\n     */\r\n    _needsResize: function() {\r\n      return (this.scaleX !== this._lastScaleX || this.scaleY !== this._lastScaleY);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _findMargins: function() {\r\n      var width = this.width, height = this.height, scales,\r\n          scale, marginX = 0, marginY = 0;\r\n\r\n      if (this.alignX !== 'none' || this.alignY !== 'none') {\r\n        scales = [this.width / this._element.width, this.height / this._element.height];\r\n        scale = this.meetOrSlice === 'meet'\r\n                ? Math.min.apply(null, scales) : Math.max.apply(null, scales);\r\n        width = this._element.width * scale;\r\n        height = this._element.height * scale;\r\n        if (this.alignX === 'Mid') {\r\n          marginX = (this.width - width) / 2;\r\n        }\r\n        if (this.alignX === 'Max') {\r\n          marginX = this.width - width;\r\n        }\r\n        if (this.alignY === 'Mid') {\r\n          marginY = (this.height - height) / 2;\r\n        }\r\n        if (this.alignY === 'Max') {\r\n          marginY = this.height - height;\r\n        }\r\n      }\r\n      return {\r\n        width:  width,\r\n        height: height,\r\n        marginX: marginX,\r\n        marginY: marginY\r\n      };\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _resetWidthHeight: function() {\r\n      var element = this.getElement();\r\n\r\n      this.set('width', element.width);\r\n      this.set('height', element.height);\r\n    },\r\n\r\n    /**\r\n     * The Image class's initialization method. This method is automatically\r\n     * called by the constructor.\r\n     * @private\r\n     * @param {HTMLImageElement|String} element The element representing the image\r\n     * @param {Object} [options] Options object\r\n     */\r\n    _initElement: function(element, options, callback) {\r\n      this.setElement(fabric.util.getById(element), callback, options);\r\n      fabric.util.addClass(this.getElement(), fabric.Image.CSS_CANVAS);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} [options] Options object\r\n     */\r\n    _initConfig: function(options) {\r\n      options || (options = { });\r\n      this.setOptions(options);\r\n      this._setWidthHeight(options);\r\n      if (this._element && this.crossOrigin) {\r\n        this._element.crossOrigin = this.crossOrigin;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Array} filters to be initialized\r\n     * @param {Function} callback Callback to invoke when all fabric.Image.filters instances are created\r\n     */\r\n    _initFilters: function(filters, callback) {\r\n      if (filters && filters.length) {\r\n        fabric.util.enlivenObjects(filters, function(enlivenedObjects) {\r\n          callback && callback(enlivenedObjects);\r\n        }, 'fabric.Image.filters');\r\n      }\r\n      else {\r\n        callback && callback();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} [options] Object with width/height properties\r\n     */\r\n    _setWidthHeight: function(options) {\r\n      this.width = 'width' in options\r\n        ? options.width\r\n        : (this.getElement()\r\n            ? this.getElement().width || 0\r\n            : 0);\r\n\r\n      this.height = 'height' in options\r\n        ? options.height\r\n        : (this.getElement()\r\n            ? this.getElement().height || 0\r\n            : 0);\r\n    },\r\n\r\n    /**\r\n     * Returns complexity of an instance\r\n     * @return {Number} complexity of this instance\r\n     */\r\n    complexity: function() {\r\n      return 1;\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Default CSS class name for canvas\r\n   * @static\r\n   * @type String\r\n   * @default\r\n   */\r\n  fabric.Image.CSS_CANVAS = 'canvas-img';\r\n\r\n  /**\r\n   * Alias for getSrc\r\n   * @static\r\n   */\r\n  fabric.Image.prototype.getSvgSrc = fabric.Image.prototype.getSrc;\r\n\r\n  /**\r\n   * Creates an instance of fabric.Image from its object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {Function} callback Callback to invoke when an image instance is created\r\n   */\r\n  fabric.Image.fromObject = function(object, callback) {\r\n    fabric.util.loadImage(object.src, function(img) {\r\n      fabric.Image.prototype._initFilters.call(object, object.filters, function(filters) {\r\n        object.filters = filters || [];\r\n        fabric.Image.prototype._initFilters.call(object, object.resizeFilters, function(resizeFilters) {\r\n          object.resizeFilters = resizeFilters || [];\r\n          return new fabric.Image(img, object, callback);\r\n        });\r\n      });\r\n    }, null, object.crossOrigin);\r\n  };\r\n\r\n  /**\r\n   * Creates an instance of fabric.Image from an URL string\r\n   * @static\r\n   * @param {String} url URL to create an image from\r\n   * @param {Function} [callback] Callback to invoke when image is created (newly created image is passed as a first argument)\r\n   * @param {Object} [imgOptions] Options object\r\n   */\r\n  fabric.Image.fromURL = function(url, callback, imgOptions) {\r\n    fabric.util.loadImage(url, function(img) {\r\n      callback && callback(new fabric.Image(img, imgOptions));\r\n    }, null, imgOptions && imgOptions.crossOrigin);\r\n  };\r\n\r\n  /* _FROM_SVG_START_ */\r\n  /**\r\n   * List of attribute names to account for when parsing SVG element (used by {@link fabric.Image.fromElement})\r\n   * @static\r\n   * @see {@link http://www.w3.org/TR/SVG/struct.html#ImageElement}\r\n   */\r\n  fabric.Image.ATTRIBUTE_NAMES =\r\n    fabric.SHARED_ATTRIBUTES.concat('x y width height preserveAspectRatio xlink:href'.split(' '));\r\n\r\n  /**\r\n   * Returns {@link fabric.Image} instance from an SVG element\r\n   * @static\r\n   * @param {SVGElement} element Element to parse\r\n   * @param {Function} callback Callback to execute when fabric.Image object is created\r\n   * @param {Object} [options] Options object\r\n   * @return {fabric.Image} Instance of fabric.Image\r\n   */\r\n  fabric.Image.fromElement = function(element, callback, options) {\r\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Image.ATTRIBUTE_NAMES),\r\n        preserveAR;\r\n\r\n    if (parsedAttributes.preserveAspectRatio) {\r\n      preserveAR = fabric.util.parsePreserveAspectRatioAttribute(parsedAttributes.preserveAspectRatio);\r\n      extend(parsedAttributes, preserveAR);\r\n    }\r\n\r\n    fabric.Image.fromURL(parsedAttributes['xlink:href'], callback,\r\n      extend((options ? fabric.util.object.clone(options) : { }), parsedAttributes));\r\n  };\r\n  /* _FROM_SVG_END_ */\r\n\r\n  /**\r\n   * Indicates that instances of this type are async\r\n   * @static\r\n   * @type Boolean\r\n   * @default\r\n   */\r\n  fabric.Image.async = true;\r\n\r\n  /**\r\n   * Indicates compression level used when generating PNG under Node (in applyFilters). Any of 0-9\r\n   * @static\r\n   * @type Number\r\n   * @default\r\n   */\r\n  fabric.Image.pngCompression = 1;\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\nfabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\r\n\r\n  /**\r\n   * @private\r\n   * @return {Number} angle value\r\n   */\r\n  _getAngleValueForStraighten: function() {\r\n    var angle = this.getAngle() % 360;\r\n    if (angle > 0) {\r\n      return Math.round((angle - 1) / 90) * 90;\r\n    }\r\n    return Math.round(angle / 90) * 90;\r\n  },\r\n\r\n  /**\r\n   * Straightens an object (rotating it from current angle to one of 0, 90, 180, 270, etc. depending on which is closer)\r\n   * @return {fabric.Object} thisArg\r\n   * @chainable\r\n   */\r\n  straighten: function() {\r\n    this.setAngle(this._getAngleValueForStraighten());\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Same as {@link fabric.Object.prototype.straighten} but with animation\r\n   * @param {Object} callbacks Object with callback functions\r\n   * @param {Function} [callbacks.onComplete] Invoked on completion\r\n   * @param {Function} [callbacks.onChange] Invoked on every step of animation\r\n   * @return {fabric.Object} thisArg\r\n   * @chainable\r\n   */\r\n  fxStraighten: function(callbacks) {\r\n    callbacks = callbacks || { };\r\n\r\n    var empty = function() { },\r\n        onComplete = callbacks.onComplete || empty,\r\n        onChange = callbacks.onChange || empty,\r\n        _this = this;\r\n\r\n    fabric.util.animate({\r\n      startValue: this.get('angle'),\r\n      endValue: this._getAngleValueForStraighten(),\r\n      duration: this.FX_DURATION,\r\n      onChange: function(value) {\r\n        _this.setAngle(value);\r\n        onChange();\r\n      },\r\n      onComplete: function() {\r\n        _this.setCoords();\r\n        onComplete();\r\n      },\r\n      onStart: function() {\r\n        _this.set('active', false);\r\n      }\r\n    });\r\n\r\n    return this;\r\n  }\r\n});\r\n\r\nfabric.util.object.extend(fabric.StaticCanvas.prototype, /** @lends fabric.StaticCanvas.prototype */ {\r\n\r\n  /**\r\n   * Straightens object, then rerenders canvas\r\n   * @param {fabric.Object} object Object to straighten\r\n   * @return {fabric.Canvas} thisArg\r\n   * @chainable\r\n   */\r\n  straightenObject: function (object) {\r\n    object.straighten();\r\n    this.renderAll();\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Same as {@link fabric.Canvas.prototype.straightenObject}, but animated\r\n   * @param {fabric.Object} object Object to straighten\r\n   * @return {fabric.Canvas} thisArg\r\n   * @chainable\r\n   */\r\n  fxStraightenObject: function (object) {\r\n    object.fxStraighten({\r\n      onChange: this.renderAll.bind(this)\r\n    });\r\n    return this;\r\n  }\r\n});\r\n\r\n\r\n/**\r\n * @namespace fabric.Image.filters\r\n * @memberOf fabric.Image\r\n * @tutorial {@link http://fabricjs.com/fabric-intro-part-2#image_filters}\r\n * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n */\r\nfabric.Image.filters = fabric.Image.filters || { };\r\n\r\n/**\r\n * Root filter class from which all filter classes inherit from\r\n * @class fabric.Image.filters.BaseFilter\r\n * @memberOf fabric.Image.filters\r\n */\r\nfabric.Image.filters.BaseFilter = fabric.util.createClass(/** @lends fabric.Image.filters.BaseFilter.prototype */ {\r\n\r\n  /**\r\n   * Filter type\r\n   * @param {String} type\r\n   * @default\r\n   */\r\n  type: 'BaseFilter',\r\n\r\n  /**\r\n   * Constructor\r\n   * @param {Object} [options] Options object\r\n   */\r\n  initialize: function(options) {\r\n    if (options) {\r\n      this.setOptions(options);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Sets filter's properties from options\r\n   * @param {Object} [options] Options object\r\n   */\r\n  setOptions: function(options) {\r\n    for (var prop in options) {\r\n      this[prop] = options[prop];\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Returns object representation of an instance\r\n   * @return {Object} Object representation of an instance\r\n   */\r\n  toObject: function() {\r\n    return { type: this.type };\r\n  },\r\n\r\n  /**\r\n   * Returns a JSON representation of an instance\r\n   * @return {Object} JSON\r\n   */\r\n  toJSON: function() {\r\n    // delegate, not alias\r\n    return this.toObject();\r\n  }\r\n});\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Brightness filter class\r\n   * @class fabric.Image.filters.Brightness\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link fabric.Image.filters.Brightness#initialize} for constructor definition\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example\r\n   * var filter = new fabric.Image.filters.Brightness({\r\n   *   brightness: 200\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Brightness = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Brightness.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Brightness',\r\n\r\n    /**\r\n     * Constructor\r\n     * @memberOf fabric.Image.filters.Brightness.prototype\r\n     * @param {Object} [options] Options object\r\n     * @param {Number} [options.brightness=0] Value to brighten the image up (-255..255)\r\n     */\r\n    initialize: function(options) {\r\n      options = options || { };\r\n      this.brightness = options.brightness || 0;\r\n    },\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          brightness = this.brightness;\r\n\r\n      for (var i = 0, len = data.length; i < len; i += 4) {\r\n        data[i] += brightness;\r\n        data[i + 1] += brightness;\r\n        data[i + 2] += brightness;\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return extend(this.callSuper('toObject'), {\r\n        brightness: this.brightness\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Image.filters.Brightness} Instance of fabric.Image.filters.Brightness\r\n   */\r\n  fabric.Image.filters.Brightness.fromObject = function(object) {\r\n    return new fabric.Image.filters.Brightness(object);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Adapted from <a href=\"http://www.html5rocks.com/en/tutorials/canvas/imagefilters/\">html5rocks article</a>\r\n   * @class fabric.Image.filters.Convolute\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link fabric.Image.filters.Convolute#initialize} for constructor definition\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example <caption>Sharpen filter</caption>\r\n   * var filter = new fabric.Image.filters.Convolute({\r\n   *   matrix: [ 0, -1,  0,\r\n   *            -1,  5, -1,\r\n   *             0, -1,  0 ]\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   * @example <caption>Blur filter</caption>\r\n   * var filter = new fabric.Image.filters.Convolute({\r\n   *   matrix: [ 1/9, 1/9, 1/9,\r\n   *             1/9, 1/9, 1/9,\r\n   *             1/9, 1/9, 1/9 ]\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   * @example <caption>Emboss filter</caption>\r\n   * var filter = new fabric.Image.filters.Convolute({\r\n   *   matrix: [ 1,   1,  1,\r\n   *             1, 0.7, -1,\r\n   *            -1,  -1, -1 ]\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   * @example <caption>Emboss filter with opaqueness</caption>\r\n   * var filter = new fabric.Image.filters.Convolute({\r\n   *   opaque: true,\r\n   *   matrix: [ 1,   1,  1,\r\n   *             1, 0.7, -1,\r\n   *            -1,  -1, -1 ]\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Convolute = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Convolute.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Convolute',\r\n\r\n    /**\r\n     * Constructor\r\n     * @memberOf fabric.Image.filters.Convolute.prototype\r\n     * @param {Object} [options] Options object\r\n     * @param {Boolean} [options.opaque=false] Opaque value (true/false)\r\n     * @param {Array} [options.matrix] Filter matrix\r\n     */\r\n    initialize: function(options) {\r\n      options = options || { };\r\n\r\n      this.opaque = options.opaque;\r\n      this.matrix = options.matrix || [\r\n        0, 0, 0,\r\n        0, 1, 0,\r\n        0, 0, 0\r\n      ];\r\n    },\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n\r\n      var weights = this.matrix,\r\n          context = canvasEl.getContext('2d'),\r\n          pixels = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n\r\n          side = Math.round(Math.sqrt(weights.length)),\r\n          halfSide = Math.floor(side / 2),\r\n          src = pixels.data,\r\n          sw = pixels.width,\r\n          sh = pixels.height,\r\n          output = context.createImageData(sw, sh),\r\n          dst = output.data,\r\n          // go through the destination image pixels\r\n          alphaFac = this.opaque ? 1 : 0,\r\n          r, g, b, a, dstOff,\r\n          scx, scy, srcOff, wt;\r\n\r\n      for (var y = 0; y < sh; y++) {\r\n        for (var x = 0; x < sw; x++) {\r\n          dstOff = (y * sw + x) * 4;\r\n          // calculate the weighed sum of the source image pixels that\r\n          // fall under the convolution matrix\r\n          r = 0; g = 0; b = 0; a = 0;\r\n\r\n          for (var cy = 0; cy < side; cy++) {\r\n            for (var cx = 0; cx < side; cx++) {\r\n              scy = y + cy - halfSide;\r\n              scx = x + cx - halfSide;\r\n\r\n              // eslint-disable-next-line max-depth\r\n              if (scy < 0 || scy > sh || scx < 0 || scx > sw) {\r\n                continue;\r\n              }\r\n\r\n              srcOff = (scy * sw + scx) * 4;\r\n              wt = weights[cy * side + cx];\r\n\r\n              r += src[srcOff] * wt;\r\n              g += src[srcOff + 1] * wt;\r\n              b += src[srcOff + 2] * wt;\r\n              a += src[srcOff + 3] * wt;\r\n            }\r\n          }\r\n          dst[dstOff] = r;\r\n          dst[dstOff + 1] = g;\r\n          dst[dstOff + 2] = b;\r\n          dst[dstOff + 3] = a + alphaFac * (255 - a);\r\n        }\r\n      }\r\n\r\n      context.putImageData(output, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return extend(this.callSuper('toObject'), {\r\n        opaque: this.opaque,\r\n        matrix: this.matrix\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Image.filters.Convolute} Instance of fabric.Image.filters.Convolute\r\n   */\r\n  fabric.Image.filters.Convolute.fromObject = function(object) {\r\n    return new fabric.Image.filters.Convolute(object);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * GradientTransparency filter class\r\n   * @class fabric.Image.filters.GradientTransparency\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link fabric.Image.filters.GradientTransparency#initialize} for constructor definition\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example\r\n   * var filter = new fabric.Image.filters.GradientTransparency({\r\n   *   threshold: 200\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n   // eslint-disable-next-line max-len\r\n  filters.GradientTransparency = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.GradientTransparency.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'GradientTransparency',\r\n\r\n    /**\r\n     * Constructor\r\n     * @memberOf fabric.Image.filters.GradientTransparency.prototype\r\n     * @param {Object} [options] Options object\r\n     * @param {Number} [options.threshold=100] Threshold value\r\n     */\r\n    initialize: function(options) {\r\n      options = options || { };\r\n      this.threshold = options.threshold || 100;\r\n    },\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          threshold = this.threshold,\r\n          total = data.length;\r\n\r\n      for (var i = 0, len = data.length; i < len; i += 4) {\r\n        data[i + 3] = threshold + 255 * (total - i) / total;\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return extend(this.callSuper('toObject'), {\r\n        threshold: this.threshold\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Image.filters.GradientTransparency} Instance of fabric.Image.filters.GradientTransparency\r\n   */\r\n  fabric.Image.filters.GradientTransparency.fromObject = function(object) {\r\n    return new fabric.Image.filters.GradientTransparency(object);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Grayscale image filter class\r\n   * @class fabric.Image.filters.Grayscale\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example\r\n   * var filter = new fabric.Image.filters.Grayscale();\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Grayscale = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Grayscale.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Grayscale',\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @memberOf fabric.Image.filters.Grayscale.prototype\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          len = imageData.width * imageData.height * 4,\r\n          index = 0,\r\n          average;\r\n\r\n      while (index < len) {\r\n        average = (data[index] + data[index + 1] + data[index + 2]) / 3;\r\n        data[index]     = average;\r\n        data[index + 1] = average;\r\n        data[index + 2] = average;\r\n        index += 4;\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @return {fabric.Image.filters.Grayscale} Instance of fabric.Image.filters.Grayscale\r\n   */\r\n  fabric.Image.filters.Grayscale.fromObject = function() {\r\n    return new fabric.Image.filters.Grayscale();\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Invert filter class\r\n   * @class fabric.Image.filters.Invert\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example\r\n   * var filter = new fabric.Image.filters.Invert();\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Invert = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Invert.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Invert',\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @memberOf fabric.Image.filters.Invert.prototype\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          iLen = data.length, i;\r\n\r\n      for (i = 0; i < iLen; i += 4) {\r\n        data[i] = 255 - data[i];\r\n        data[i + 1] = 255 - data[i + 1];\r\n        data[i + 2] = 255 - data[i + 2];\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @return {fabric.Image.filters.Invert} Instance of fabric.Image.filters.Invert\r\n   */\r\n  fabric.Image.filters.Invert.fromObject = function() {\r\n    return new fabric.Image.filters.Invert();\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Mask filter class\r\n   * See http://resources.aleph-1.com/mask/\r\n   * @class fabric.Image.filters.Mask\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link fabric.Image.filters.Mask#initialize} for constructor definition\r\n   */\r\n  filters.Mask = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Mask.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Mask',\r\n\r\n    /**\r\n     * Constructor\r\n     * @memberOf fabric.Image.filters.Mask.prototype\r\n     * @param {Object} [options] Options object\r\n     * @param {fabric.Image} [options.mask] Mask image object\r\n     * @param {Number} [options.channel=0] Rgb channel (0, 1, 2 or 3)\r\n     */\r\n    initialize: function(options) {\r\n      options = options || { };\r\n\r\n      this.mask = options.mask;\r\n      this.channel = [0, 1, 2, 3].indexOf(options.channel) > -1 ? options.channel : 0;\r\n    },\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      if (!this.mask) {\r\n        return;\r\n      }\r\n\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          maskEl = this.mask.getElement(),\r\n          maskCanvasEl = fabric.util.createCanvasElement(),\r\n          channel = this.channel,\r\n          i,\r\n          iLen = imageData.width * imageData.height * 4;\r\n\r\n      maskCanvasEl.width = canvasEl.width;\r\n      maskCanvasEl.height = canvasEl.height;\r\n\r\n      maskCanvasEl.getContext('2d').drawImage(maskEl, 0, 0, canvasEl.width, canvasEl.height);\r\n\r\n      var maskImageData = maskCanvasEl.getContext('2d').getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          maskData = maskImageData.data;\r\n\r\n      for (i = 0; i < iLen; i += 4) {\r\n        data[i + 3] = maskData[i + channel];\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return extend(this.callSuper('toObject'), {\r\n        mask: this.mask.toObject(),\r\n        channel: this.channel\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {Function} [callback] Callback to invoke when a mask filter instance is created\r\n   */\r\n  fabric.Image.filters.Mask.fromObject = function(object, callback) {\r\n    fabric.util.loadImage(object.mask.src, function(img) {\r\n      object.mask = new fabric.Image(img, object.mask);\r\n      callback && callback(new fabric.Image.filters.Mask(object));\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Indicates that instances of this type are async\r\n   * @static\r\n   * @type Boolean\r\n   * @default\r\n   */\r\n  fabric.Image.filters.Mask.async = true;\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Noise filter class\r\n   * @class fabric.Image.filters.Noise\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link fabric.Image.filters.Noise#initialize} for constructor definition\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example\r\n   * var filter = new fabric.Image.filters.Noise({\r\n   *   noise: 700\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Noise = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Noise.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Noise',\r\n\r\n    /**\r\n     * Constructor\r\n     * @memberOf fabric.Image.filters.Noise.prototype\r\n     * @param {Object} [options] Options object\r\n     * @param {Number} [options.noise=0] Noise value\r\n     */\r\n    initialize: function(options) {\r\n      options = options || { };\r\n      this.noise = options.noise || 0;\r\n    },\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          noise = this.noise, rand;\r\n\r\n      for (var i = 0, len = data.length; i < len; i += 4) {\r\n\r\n        rand = (0.5 - Math.random()) * noise;\r\n\r\n        data[i] += rand;\r\n        data[i + 1] += rand;\r\n        data[i + 2] += rand;\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return extend(this.callSuper('toObject'), {\r\n        noise: this.noise\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Image.filters.Noise} Instance of fabric.Image.filters.Noise\r\n   */\r\n  fabric.Image.filters.Noise.fromObject = function(object) {\r\n    return new fabric.Image.filters.Noise(object);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Pixelate filter class\r\n   * @class fabric.Image.filters.Pixelate\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link fabric.Image.filters.Pixelate#initialize} for constructor definition\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example\r\n   * var filter = new fabric.Image.filters.Pixelate({\r\n   *   blocksize: 8\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Pixelate = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Pixelate.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Pixelate',\r\n\r\n    /**\r\n     * Constructor\r\n     * @memberOf fabric.Image.filters.Pixelate.prototype\r\n     * @param {Object} [options] Options object\r\n     * @param {Number} [options.blocksize=4] Blocksize for pixelate\r\n     */\r\n    initialize: function(options) {\r\n      options = options || { };\r\n      this.blocksize = options.blocksize || 4;\r\n    },\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          iLen = imageData.height,\r\n          jLen = imageData.width,\r\n          index, i, j, r, g, b, a;\r\n\r\n      for (i = 0; i < iLen; i += this.blocksize) {\r\n        for (j = 0; j < jLen; j += this.blocksize) {\r\n\r\n          index = (i * 4) * jLen + (j * 4);\r\n\r\n          r = data[index];\r\n          g = data[index + 1];\r\n          b = data[index + 2];\r\n          a = data[index + 3];\r\n\r\n          /*\r\n           blocksize: 4\r\n\r\n           [1,x,x,x,1]\r\n           [x,x,x,x,1]\r\n           [x,x,x,x,1]\r\n           [x,x,x,x,1]\r\n           [1,1,1,1,1]\r\n           */\r\n\r\n          for (var _i = i, _ilen = i + this.blocksize; _i < _ilen; _i++) {\r\n            for (var _j = j, _jlen = j + this.blocksize; _j < _jlen; _j++) {\r\n              index = (_i * 4) * jLen + (_j * 4);\r\n              data[index] = r;\r\n              data[index + 1] = g;\r\n              data[index + 2] = b;\r\n              data[index + 3] = a;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return extend(this.callSuper('toObject'), {\r\n        blocksize: this.blocksize\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Image.filters.Pixelate} Instance of fabric.Image.filters.Pixelate\r\n   */\r\n  fabric.Image.filters.Pixelate.fromObject = function(object) {\r\n    return new fabric.Image.filters.Pixelate(object);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Remove white filter class\r\n   * @class fabric.Image.filters.RemoveWhite\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link fabric.Image.filters.RemoveWhite#initialize} for constructor definition\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example\r\n   * var filter = new fabric.Image.filters.RemoveWhite({\r\n   *   threshold: 40,\r\n   *   distance: 140\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.RemoveWhite = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.RemoveWhite.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'RemoveWhite',\r\n\r\n    /**\r\n     * Constructor\r\n     * @memberOf fabric.Image.filters.RemoveWhite.prototype\r\n     * @param {Object} [options] Options object\r\n     * @param {Number} [options.threshold=30] Threshold value\r\n     * @param {Number} [options.distance=20] Distance value\r\n     */\r\n    initialize: function(options) {\r\n      options = options || { };\r\n      this.threshold = options.threshold || 30;\r\n      this.distance = options.distance || 20;\r\n    },\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          threshold = this.threshold,\r\n          distance = this.distance,\r\n          limit = 255 - threshold,\r\n          abs = Math.abs,\r\n          r, g, b;\r\n\r\n      for (var i = 0, len = data.length; i < len; i += 4) {\r\n        r = data[i];\r\n        g = data[i + 1];\r\n        b = data[i + 2];\r\n\r\n        if (r > limit &&\r\n            g > limit &&\r\n            b > limit &&\r\n            abs(r - g) < distance &&\r\n            abs(r - b) < distance &&\r\n            abs(g - b) < distance\r\n        ) {\r\n          data[i + 3] = 0;\r\n        }\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return extend(this.callSuper('toObject'), {\r\n        threshold: this.threshold,\r\n        distance: this.distance\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Image.filters.RemoveWhite} Instance of fabric.Image.filters.RemoveWhite\r\n   */\r\n  fabric.Image.filters.RemoveWhite.fromObject = function(object) {\r\n    return new fabric.Image.filters.RemoveWhite(object);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Sepia filter class\r\n   * @class fabric.Image.filters.Sepia\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example\r\n   * var filter = new fabric.Image.filters.Sepia();\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Sepia = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Sepia.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Sepia',\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @memberOf fabric.Image.filters.Sepia.prototype\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          iLen = data.length, i, avg;\r\n\r\n      for (i = 0; i < iLen; i += 4) {\r\n        avg = 0.3  * data[i] + 0.59 * data[i + 1] + 0.11 * data[i + 2];\r\n        data[i] = avg + 100;\r\n        data[i + 1] = avg + 50;\r\n        data[i + 2] = avg + 255;\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @return {fabric.Image.filters.Sepia} Instance of fabric.Image.filters.Sepia\r\n   */\r\n  fabric.Image.filters.Sepia.fromObject = function() {\r\n    return new fabric.Image.filters.Sepia();\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Sepia2 filter class\r\n   * @class fabric.Image.filters.Sepia2\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example\r\n   * var filter = new fabric.Image.filters.Sepia2();\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Sepia2 = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Sepia2.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Sepia2',\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @memberOf fabric.Image.filters.Sepia.prototype\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          iLen = data.length, i, r, g, b;\r\n\r\n      for (i = 0; i < iLen; i += 4) {\r\n        r = data[i];\r\n        g = data[i + 1];\r\n        b = data[i + 2];\r\n\r\n        data[i] = (r * 0.393 + g * 0.769 + b * 0.189 ) / 1.351;\r\n        data[i + 1] = (r * 0.349 + g * 0.686 + b * 0.168 ) / 1.203;\r\n        data[i + 2] = (r * 0.272 + g * 0.534 + b * 0.131 ) / 2.140;\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @return {fabric.Image.filters.Sepia2} Instance of fabric.Image.filters.Sepia2\r\n   */\r\n  fabric.Image.filters.Sepia2.fromObject = function() {\r\n    return new fabric.Image.filters.Sepia2();\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Tint filter class\r\n   * Adapted from <a href=\"https://github.com/mezzoblue/PaintbrushJS\">https://github.com/mezzoblue/PaintbrushJS</a>\r\n   * @class fabric.Image.filters.Tint\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link fabric.Image.filters.Tint#initialize} for constructor definition\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example <caption>Tint filter with hex color and opacity</caption>\r\n   * var filter = new fabric.Image.filters.Tint({\r\n   *   color: '#3513B0',\r\n   *   opacity: 0.5\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   * @example <caption>Tint filter with rgba color</caption>\r\n   * var filter = new fabric.Image.filters.Tint({\r\n   *   color: 'rgba(53, 21, 176, 0.5)'\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Tint = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Tint.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Tint',\r\n\r\n    /**\r\n     * Constructor\r\n     * @memberOf fabric.Image.filters.Tint.prototype\r\n     * @param {Object} [options] Options object\r\n     * @param {String} [options.color=#000000] Color to tint the image with\r\n     * @param {Number} [options.opacity] Opacity value that controls the tint effect's transparency (0..1)\r\n     */\r\n    initialize: function(options) {\r\n      options = options || { };\r\n\r\n      this.color = options.color || '#000000';\r\n      this.opacity = typeof options.opacity !== 'undefined'\r\n                      ? options.opacity\r\n                      : new fabric.Color(this.color).getAlpha();\r\n    },\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          iLen = data.length, i,\r\n          tintR, tintG, tintB,\r\n          r, g, b, alpha1,\r\n          source;\r\n\r\n      source = new fabric.Color(this.color).getSource();\r\n\r\n      tintR = source[0] * this.opacity;\r\n      tintG = source[1] * this.opacity;\r\n      tintB = source[2] * this.opacity;\r\n\r\n      alpha1 = 1 - this.opacity;\r\n\r\n      for (i = 0; i < iLen; i += 4) {\r\n        r = data[i];\r\n        g = data[i + 1];\r\n        b = data[i + 2];\r\n\r\n        // alpha compositing\r\n        data[i] = tintR + r * alpha1;\r\n        data[i + 1] = tintG + g * alpha1;\r\n        data[i + 2] = tintB + b * alpha1;\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return extend(this.callSuper('toObject'), {\r\n        color: this.color,\r\n        opacity: this.opacity\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Image.filters.Tint} Instance of fabric.Image.filters.Tint\r\n   */\r\n  fabric.Image.filters.Tint.fromObject = function(object) {\r\n    return new fabric.Image.filters.Tint(object);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Multiply filter class\r\n   * Adapted from <a href=\"http://www.laurenscorijn.com/articles/colormath-basics\">http://www.laurenscorijn.com/articles/colormath-basics</a>\r\n   * @class fabric.Image.filters.Multiply\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @example <caption>Multiply filter with hex color</caption>\r\n   * var filter = new fabric.Image.filters.Multiply({\r\n   *   color: '#F0F'\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   * @example <caption>Multiply filter with rgb color</caption>\r\n   * var filter = new fabric.Image.filters.Multiply({\r\n   *   color: 'rgb(53, 21, 176)'\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Multiply = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Multiply.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Multiply',\r\n\r\n    /**\r\n     * Constructor\r\n     * @memberOf fabric.Image.filters.Multiply.prototype\r\n     * @param {Object} [options] Options object\r\n     * @param {String} [options.color=#000000] Color to multiply the image pixels with\r\n     */\r\n    initialize: function(options) {\r\n      options = options || { };\r\n\r\n      this.color = options.color || '#000000';\r\n    },\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          iLen = data.length, i,\r\n          source;\r\n\r\n      source = new fabric.Color(this.color).getSource();\r\n\r\n      for (i = 0; i < iLen; i += 4) {\r\n        data[i] *= source[0] / 255;\r\n        data[i + 1] *= source[1] / 255;\r\n        data[i + 2] *= source[2] / 255;\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return extend(this.callSuper('toObject'), {\r\n        color: this.color\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Image.filters.Multiply} Instance of fabric.Image.filters.Multiply\r\n   */\r\n  fabric.Image.filters.Multiply.fromObject = function(object) {\r\n    return new fabric.Image.filters.Multiply(object);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n  'use strict';\r\n\r\n  var fabric = global.fabric,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Color Blend filter class\r\n   * @class fabric.Image.filter.Blend\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @example\r\n   * var filter = new fabric.Image.filters.Blend({\r\n   *  color: '#000',\r\n   *  mode: 'multiply'\r\n   * });\r\n   *\r\n   * var filter = new fabric.Image.filters.Blend({\r\n   *  image: fabricImageObject,\r\n   *  mode: 'multiply',\r\n   *  alpha: 0.5\r\n   * });\r\n\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n\r\n  filters.Blend = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Blend.prototype */ {\r\n    type: 'Blend',\r\n\r\n    initialize: function(options) {\r\n      options = options || {};\r\n      this.color = options.color || '#000';\r\n      this.image = options.image || false;\r\n      this.mode = options.mode || 'multiply';\r\n      this.alpha = options.alpha || 1;\r\n    },\r\n\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          tr, tg, tb,\r\n          r, g, b,\r\n          _r, _g, _b,\r\n          source,\r\n          isImage = false;\r\n\r\n      if (this.image) {\r\n        // Blend images\r\n        isImage = true;\r\n\r\n        var _el = fabric.util.createCanvasElement();\r\n        _el.width = this.image.width;\r\n        _el.height = this.image.height;\r\n\r\n        var tmpCanvas = new fabric.StaticCanvas(_el);\r\n        tmpCanvas.add(this.image);\r\n        var context2 =  tmpCanvas.getContext('2d');\r\n        source = context2.getImageData(0, 0, tmpCanvas.width, tmpCanvas.height).data;\r\n      }\r\n      else {\r\n        // Blend color\r\n        source = new fabric.Color(this.color).getSource();\r\n\r\n        tr = source[0] * this.alpha;\r\n        tg = source[1] * this.alpha;\r\n        tb = source[2] * this.alpha;\r\n      }\r\n\r\n      for (var i = 0, len = data.length; i < len; i += 4) {\r\n\r\n        r = data[i];\r\n        g = data[i + 1];\r\n        b = data[i + 2];\r\n\r\n        if (isImage) {\r\n          tr = source[i] * this.alpha;\r\n          tg = source[i + 1] * this.alpha;\r\n          tb = source[i + 2] * this.alpha;\r\n        }\r\n\r\n        switch (this.mode) {\r\n          case 'multiply':\r\n            data[i] = r * tr / 255;\r\n            data[i + 1] = g * tg / 255;\r\n            data[i + 2] = b * tb / 255;\r\n            break;\r\n          case 'screen':\r\n            data[i] = 1 - (1 - r) * (1 - tr);\r\n            data[i + 1] = 1 - (1 - g) * (1 - tg);\r\n            data[i + 2] = 1 - (1 - b) * (1 - tb);\r\n            break;\r\n          case 'add':\r\n            data[i] = Math.min(255, r + tr);\r\n            data[i + 1] = Math.min(255, g + tg);\r\n            data[i + 2] = Math.min(255, b + tb);\r\n            break;\r\n          case 'diff':\r\n          case 'difference':\r\n            data[i] = Math.abs(r - tr);\r\n            data[i + 1] = Math.abs(g - tg);\r\n            data[i + 2] = Math.abs(b - tb);\r\n            break;\r\n          case 'subtract':\r\n            _r = r - tr;\r\n            _g = g - tg;\r\n            _b = b - tb;\r\n\r\n            data[i] = (_r < 0) ? 0 : _r;\r\n            data[i + 1] = (_g < 0) ? 0 : _g;\r\n            data[i + 2] = (_b < 0) ? 0 : _b;\r\n            break;\r\n          case 'darken':\r\n            data[i] = Math.min(r, tr);\r\n            data[i + 1] = Math.min(g, tg);\r\n            data[i + 2] = Math.min(b, tb);\r\n            break;\r\n          case 'lighten':\r\n            data[i] = Math.max(r, tr);\r\n            data[i + 1] = Math.max(g, tg);\r\n            data[i + 2] = Math.max(b, tb);\r\n            break;\r\n        }\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return {\r\n        color: this.color,\r\n        image: this.image,\r\n        mode: this.mode,\r\n        alpha: this.alpha\r\n      };\r\n    }\r\n  });\r\n\r\n  fabric.Image.filters.Blend.fromObject = function(object) {\r\n    return new fabric.Image.filters.Blend(object);\r\n  };\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }), pow = Math.pow, floor = Math.floor,\r\n      sqrt = Math.sqrt, abs = Math.abs, max = Math.max, round = Math.round, sin = Math.sin,\r\n      ceil = Math.ceil,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Resize image filter class\r\n   * @class fabric.Image.filters.Resize\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example\r\n   * var filter = new fabric.Image.filters.Resize();\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Resize = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Resize.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Resize',\r\n\r\n    /**\r\n     * Resize type\r\n     * @param {String} resizeType\r\n     * @default\r\n     */\r\n    resizeType: 'hermite',\r\n\r\n    /**\r\n     * Scale factor for resizing, x axis\r\n     * @param {Number} scaleX\r\n     * @default\r\n     */\r\n    scaleX: 0,\r\n\r\n    /**\r\n     * Scale factor for resizing, y axis\r\n     * @param {Number} scaleY\r\n     * @default\r\n     */\r\n    scaleY: 0,\r\n\r\n    /**\r\n     * LanczosLobes parameter for lanczos filter\r\n     * @param {Number} lanczosLobes\r\n     * @default\r\n     */\r\n    lanczosLobes: 3,\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @memberOf fabric.Image.filters.Resize.prototype\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     * @param {Number} scaleX\r\n     * @param {Number} scaleY\r\n     */\r\n    applyTo: function(canvasEl, scaleX, scaleY) {\r\n      if (scaleX === 1 && scaleY === 1) {\r\n        return;\r\n      }\r\n\r\n      this.rcpScaleX = 1 / scaleX;\r\n      this.rcpScaleY = 1 / scaleY;\r\n\r\n      var oW = canvasEl.width, oH = canvasEl.height,\r\n          dW = round(oW * scaleX), dH = round(oH * scaleY),\r\n          imageData;\r\n\r\n      if (this.resizeType === 'sliceHack') {\r\n        imageData = this.sliceByTwo(canvasEl, oW, oH, dW, dH);\r\n      }\r\n      if (this.resizeType === 'hermite') {\r\n        imageData = this.hermiteFastResize(canvasEl, oW, oH, dW, dH);\r\n      }\r\n      if (this.resizeType === 'bilinear') {\r\n        imageData = this.bilinearFiltering(canvasEl, oW, oH, dW, dH);\r\n      }\r\n      if (this.resizeType === 'lanczos') {\r\n        imageData = this.lanczosResize(canvasEl, oW, oH, dW, dH);\r\n      }\r\n      canvasEl.width = dW;\r\n      canvasEl.height = dH;\r\n      canvasEl.getContext('2d').putImageData(imageData, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Filter sliceByTwo\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     * @param {Number} oW Original Width\r\n     * @param {Number} oH Original Height\r\n     * @param {Number} dW Destination Width\r\n     * @param {Number} dH Destination Height\r\n     * @returns {ImageData}\r\n     */\r\n    sliceByTwo: function(canvasEl, oW, oH, dW, dH) {\r\n      var context = canvasEl.getContext('2d'), imageData,\r\n          multW = 0.5, multH = 0.5, signW = 1, signH = 1,\r\n          doneW = false, doneH = false, stepW = oW, stepH = oH,\r\n          tmpCanvas = fabric.util.createCanvasElement(),\r\n          tmpCtx = tmpCanvas.getContext('2d');\r\n      dW = floor(dW);\r\n      dH = floor(dH);\r\n      tmpCanvas.width = max(dW, oW);\r\n      tmpCanvas.height = max(dH, oH);\r\n\r\n      if (dW > oW) {\r\n        multW = 2;\r\n        signW = -1;\r\n      }\r\n      if (dH > oH) {\r\n        multH = 2;\r\n        signH = -1;\r\n      }\r\n      imageData = context.getImageData(0, 0, oW, oH);\r\n      canvasEl.width = max(dW, oW);\r\n      canvasEl.height = max(dH, oH);\r\n      context.putImageData(imageData, 0, 0);\r\n\r\n      while (!doneW || !doneH) {\r\n        oW = stepW;\r\n        oH = stepH;\r\n        if (dW * signW < floor(stepW * multW * signW)) {\r\n          stepW = floor(stepW * multW);\r\n        }\r\n        else {\r\n          stepW = dW;\r\n          doneW = true;\r\n        }\r\n        if (dH * signH < floor(stepH * multH * signH)) {\r\n          stepH = floor(stepH * multH);\r\n        }\r\n        else {\r\n          stepH = dH;\r\n          doneH = true;\r\n        }\r\n        imageData = context.getImageData(0, 0, oW, oH);\r\n        tmpCtx.putImageData(imageData, 0, 0);\r\n        context.clearRect(0, 0, stepW, stepH);\r\n        context.drawImage(tmpCanvas, 0, 0, oW, oH, 0, 0, stepW, stepH);\r\n      }\r\n      return context.getImageData(0, 0, dW, dH);\r\n    },\r\n\r\n    /**\r\n     * Filter lanczosResize\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     * @param {Number} oW Original Width\r\n     * @param {Number} oH Original Height\r\n     * @param {Number} dW Destination Width\r\n     * @param {Number} dH Destination Height\r\n     * @returns {ImageData}\r\n     */\r\n    lanczosResize: function(canvasEl, oW, oH, dW, dH) {\r\n\r\n      function lanczosCreate(lobes) {\r\n        return function(x) {\r\n          if (x > lobes) {\r\n            return 0;\r\n          }\r\n          x *= Math.PI;\r\n          if (abs(x) < 1e-16) {\r\n            return 1;\r\n          }\r\n          var xx = x / lobes;\r\n          return sin(x) * sin(xx) / x / xx;\r\n        };\r\n      }\r\n\r\n      function process(u) {\r\n        var v, i, weight, idx, a, red, green,\r\n            blue, alpha, fX, fY;\r\n        center.x = (u + 0.5) * ratioX;\r\n        icenter.x = floor(center.x);\r\n        for (v = 0; v < dH; v++) {\r\n          center.y = (v + 0.5) * ratioY;\r\n          icenter.y = floor(center.y);\r\n          a = 0; red = 0; green = 0; blue = 0; alpha = 0;\r\n          for (i = icenter.x - range2X; i <= icenter.x + range2X; i++) {\r\n            if (i < 0 || i >= oW) {\r\n              continue;\r\n            }\r\n            fX = floor(1000 * abs(i - center.x));\r\n            if (!cacheLanc[fX]) {\r\n              cacheLanc[fX] = { };\r\n            }\r\n            for (var j = icenter.y - range2Y; j <= icenter.y + range2Y; j++) {\r\n              if (j < 0 || j >= oH) {\r\n                continue;\r\n              }\r\n              fY = floor(1000 * abs(j - center.y));\r\n              if (!cacheLanc[fX][fY]) {\r\n                cacheLanc[fX][fY] = lanczos(sqrt(pow(fX * rcpRatioX, 2) + pow(fY * rcpRatioY, 2)) / 1000);\r\n              }\r\n              weight = cacheLanc[fX][fY];\r\n              if (weight > 0) {\r\n                idx = (j * oW + i) * 4;\r\n                a += weight;\r\n                red += weight * srcData[idx];\r\n                green += weight * srcData[idx + 1];\r\n                blue += weight * srcData[idx + 2];\r\n                alpha += weight * srcData[idx + 3];\r\n              }\r\n            }\r\n          }\r\n          idx = (v * dW + u) * 4;\r\n          destData[idx] = red / a;\r\n          destData[idx + 1] = green / a;\r\n          destData[idx + 2] = blue / a;\r\n          destData[idx + 3] = alpha / a;\r\n        }\r\n\r\n        if (++u < dW) {\r\n          return process(u);\r\n        }\r\n        else {\r\n          return destImg;\r\n        }\r\n      }\r\n\r\n      var context = canvasEl.getContext('2d'),\r\n          srcImg = context.getImageData(0, 0, oW, oH),\r\n          destImg = context.getImageData(0, 0, dW, dH),\r\n          srcData = srcImg.data, destData = destImg.data,\r\n          lanczos = lanczosCreate(this.lanczosLobes),\r\n          ratioX = this.rcpScaleX, ratioY = this.rcpScaleY,\r\n          rcpRatioX = 2 / this.rcpScaleX, rcpRatioY = 2 / this.rcpScaleY,\r\n          range2X = ceil(ratioX * this.lanczosLobes / 2),\r\n          range2Y = ceil(ratioY * this.lanczosLobes / 2),\r\n          cacheLanc = { }, center = { }, icenter = { };\r\n\r\n      return process(0);\r\n    },\r\n\r\n    /**\r\n     * bilinearFiltering\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     * @param {Number} oW Original Width\r\n     * @param {Number} oH Original Height\r\n     * @param {Number} dW Destination Width\r\n     * @param {Number} dH Destination Height\r\n     * @returns {ImageData}\r\n     */\r\n    bilinearFiltering: function(canvasEl, oW, oH, dW, dH) {\r\n      var a, b, c, d, x, y, i, j, xDiff, yDiff, chnl,\r\n          color, offset = 0, origPix, ratioX = this.rcpScaleX,\r\n          ratioY = this.rcpScaleY, context = canvasEl.getContext('2d'),\r\n          w4 = 4 * (oW - 1), img = context.getImageData(0, 0, oW, oH),\r\n          pixels = img.data, destImage = context.getImageData(0, 0, dW, dH),\r\n          destPixels = destImage.data;\r\n      for (i = 0; i < dH; i++) {\r\n        for (j = 0; j < dW; j++) {\r\n          x = floor(ratioX * j);\r\n          y = floor(ratioY * i);\r\n          xDiff = ratioX * j - x;\r\n          yDiff = ratioY * i - y;\r\n          origPix = 4 * (y * oW + x);\r\n\r\n          for (chnl = 0; chnl < 4; chnl++) {\r\n            a = pixels[origPix + chnl];\r\n            b = pixels[origPix + 4 + chnl];\r\n            c = pixels[origPix + w4 + chnl];\r\n            d = pixels[origPix + w4 + 4 + chnl];\r\n            color = a * (1 - xDiff) * (1 - yDiff) + b * xDiff * (1 - yDiff) +\r\n                    c * yDiff * (1 - xDiff) + d * xDiff * yDiff;\r\n            destPixels[offset++] = color;\r\n          }\r\n        }\r\n      }\r\n      return destImage;\r\n    },\r\n\r\n    /**\r\n     * hermiteFastResize\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     * @param {Number} oW Original Width\r\n     * @param {Number} oH Original Height\r\n     * @param {Number} dW Destination Width\r\n     * @param {Number} dH Destination Height\r\n     * @returns {ImageData}\r\n     */\r\n    hermiteFastResize: function(canvasEl, oW, oH, dW, dH) {\r\n      var ratioW = this.rcpScaleX, ratioH = this.rcpScaleY,\r\n          ratioWHalf = ceil(ratioW / 2),\r\n          ratioHHalf = ceil(ratioH / 2),\r\n          context = canvasEl.getContext('2d'),\r\n          img = context.getImageData(0, 0, oW, oH), data = img.data,\r\n          img2 = context.getImageData(0, 0, dW, dH), data2 = img2.data;\r\n      for (var j = 0; j < dH; j++) {\r\n        for (var i = 0; i < dW; i++) {\r\n          var x2 = (i + j * dW) * 4, weight = 0, weights = 0, weightsAlpha = 0,\r\n              gxR = 0, gxG = 0, gxB = 0, gxA = 0, centerY = (j + 0.5) * ratioH;\r\n          for (var yy = floor(j * ratioH); yy < (j + 1) * ratioH; yy++) {\r\n            var dy = abs(centerY - (yy + 0.5)) / ratioHHalf,\r\n                centerX = (i + 0.5) * ratioW, w0 = dy * dy;\r\n            for (var xx = floor(i * ratioW); xx < (i + 1) * ratioW; xx++) {\r\n              var dx = abs(centerX - (xx + 0.5)) / ratioWHalf,\r\n                  w = sqrt(w0 + dx * dx);\r\n              /* eslint-disable max-depth */\r\n              if (w > 1 && w < -1) {\r\n                continue;\r\n              }\r\n              //hermite filter\r\n              weight = 2 * w * w * w - 3 * w * w + 1;\r\n              if (weight > 0) {\r\n                dx = 4 * (xx + yy * oW);\r\n                //alpha\r\n                gxA += weight * data[dx + 3];\r\n                weightsAlpha += weight;\r\n                //colors\r\n                if (data[dx + 3] < 255) {\r\n                  weight = weight * data[dx + 3] / 250;\r\n                }\r\n                gxR += weight * data[dx];\r\n                gxG += weight * data[dx + 1];\r\n                gxB += weight * data[dx + 2];\r\n                weights += weight;\r\n              }\r\n              /* eslint-enable max-depth */\r\n            }\r\n          }\r\n          data2[x2] = gxR / weights;\r\n          data2[x2 + 1] = gxG / weights;\r\n          data2[x2 + 2] = gxB / weights;\r\n          data2[x2 + 3] = gxA / weightsAlpha;\r\n        }\r\n      }\r\n      return img2;\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return {\r\n        type: this.type,\r\n        scaleX: this.scaleX,\r\n        scaleY: this.scaleY,\r\n        resizeType: this.resizeType,\r\n        lanczosLobes: this.lanczosLobes\r\n      };\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @return {fabric.Image.filters.Resize} Instance of fabric.Image.filters.Resize\r\n   */\r\n  fabric.Image.filters.Resize.fromObject = function(object) {\r\n    return new fabric.Image.filters.Resize(object);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Color Matrix filter class\r\n   * @class fabric.Image.filters.ColorMatrix\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link fabric.Image.filters.ColorMatrix#initialize} for constructor definition\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @see {@Link http://www.webwasp.co.uk/tutorials/219/Color_Matrix_Filter.php}\r\n   * @see {@Link http://phoboslab.org/log/2013/11/fast-image-filters-with-webgl}\r\n   * @example <caption>Kodachrome filter</caption>\r\n   * var filter = new fabric.Image.filters.ColorMatrix({\r\n   *  matrix: [\r\n       1.1285582396593525, -0.3967382283601348, -0.03992559172921793, 0, 63.72958762196502,\r\n       -0.16404339962244616, 1.0835251566291304, -0.05498805115633132, 0, 24.732407896706203,\r\n       -0.16786010706155763, -0.5603416277695248, 1.6014850761964943, 0, 35.62982807460946,\r\n       0, 0, 0, 1, 0\r\n      ]\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.ColorMatrix = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.ColorMatrix.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'ColorMatrix',\r\n\r\n    /**\r\n     * Constructor\r\n     * @memberOf fabric.Image.filters.ColorMatrix.prototype\r\n     * @param {Object} [options] Options object\r\n     * @param {Array} [options.matrix] Color Matrix to modify the image data with\r\n     */\r\n    initialize: function( options ) {\r\n      options || ( options = {} );\r\n      this.matrix = options.matrix || [\r\n        1, 0, 0, 0, 0,\r\n        0, 1, 0, 0, 0,\r\n        0, 0, 1, 0, 0,\r\n        0, 0, 0, 1, 0\r\n      ];\r\n    },\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function( canvasEl ) {\r\n      var context = canvasEl.getContext( '2d' ),\r\n          imageData = context.getImageData( 0, 0, canvasEl.width, canvasEl.height ),\r\n          data = imageData.data,\r\n          iLen = data.length,\r\n          i,\r\n          r,\r\n          g,\r\n          b,\r\n          a,\r\n          m = this.matrix;\r\n\r\n      for ( i = 0; i < iLen; i += 4 ) {\r\n        r = data[ i ];\r\n        g = data[ i + 1 ];\r\n        b = data[ i + 2 ];\r\n        a = data[ i + 3 ];\r\n\r\n        data[ i ] = r * m[ 0 ] + g * m[ 1 ] + b * m[ 2 ] + a * m[ 3 ] + m[ 4 ];\r\n        data[ i + 1 ] = r * m[ 5 ] + g * m[ 6 ] + b * m[ 7 ] + a * m[ 8 ] + m[ 9 ];\r\n        data[ i + 2 ] = r * m[ 10 ] + g * m[ 11 ] + b * m[ 12 ] + a * m[ 13 ] + m[ 14 ];\r\n        data[ i + 3 ] = r * m[ 15 ] + g * m[ 16 ] + b * m[ 17 ] + a * m[ 18 ] + m[ 19 ];\r\n      }\r\n\r\n      context.putImageData( imageData, 0, 0 );\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return extend(this.callSuper('toObject'), {\r\n        type: this.type,\r\n        matrix: this.matrix\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Image.filters.ColorMatrix} Instance of fabric.Image.filters.ColorMatrix\r\n   */\r\n  fabric.Image.filters.ColorMatrix.fromObject = function( object ) {\r\n    return new fabric.Image.filters.ColorMatrix( object );\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Contrast filter class\r\n   * @class fabric.Image.filters.Contrast\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link fabric.Image.filters.Contrast#initialize} for constructor definition\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example\r\n   * var filter = new fabric.Image.filters.Contrast({\r\n   *   contrast: 40\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Contrast = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Contrast.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Contrast',\r\n\r\n    /**\r\n     * Constructor\r\n     * @memberOf fabric.Image.filters.Contrast.prototype\r\n     * @param {Object} [options] Options object\r\n     * @param {Number} [options.contrast=0] Value to contrast the image up (-255...255)\r\n     */\r\n    initialize: function(options) {\r\n      options = options || { };\r\n      this.contrast = options.contrast || 0;\r\n    },\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          contrastF = 259 * (this.contrast + 255) / (255 * (259 - this.contrast));\r\n\r\n      for (var i = 0, len = data.length; i < len; i += 4) {\r\n        data[i] = contrastF * (data[i] - 128) + 128;\r\n        data[i + 1] = contrastF * (data[i + 1] - 128) + 128;\r\n        data[i + 2] = contrastF * (data[i + 2] - 128) + 128;\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return extend(this.callSuper('toObject'), {\r\n        contrast: this.contrast\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Image.filters.Contrast} Instance of fabric.Image.filters.Contrast\r\n   */\r\n  fabric.Image.filters.Contrast.fromObject = function(object) {\r\n    return new fabric.Image.filters.Contrast(object);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric  = global.fabric || (global.fabric = { }),\r\n      extend = fabric.util.object.extend,\r\n      filters = fabric.Image.filters,\r\n      createClass = fabric.util.createClass;\r\n\r\n  /**\r\n   * Saturate filter class\r\n   * @class fabric.Image.filters.Saturate\r\n   * @memberOf fabric.Image.filters\r\n   * @extends fabric.Image.filters.BaseFilter\r\n   * @see {@link fabric.Image.filters.Saturate#initialize} for constructor definition\r\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\r\n   * @example\r\n   * var filter = new fabric.Image.filters.Saturate({\r\n   *   saturate: 100\r\n   * });\r\n   * object.filters.push(filter);\r\n   * object.applyFilters(canvas.renderAll.bind(canvas));\r\n   */\r\n  filters.Saturate = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Saturate.prototype */ {\r\n\r\n    /**\r\n     * Filter type\r\n     * @param {String} type\r\n     * @default\r\n     */\r\n    type: 'Saturate',\r\n\r\n    /**\r\n     * Constructor\r\n     * @memberOf fabric.Image.filters.Saturate.prototype\r\n     * @param {Object} [options] Options object\r\n     * @param {Number} [options.saturate=0] Value to saturate the image (-100...100)\r\n     */\r\n    initialize: function(options) {\r\n      options = options || { };\r\n      this.saturate = options.saturate || 0;\r\n    },\r\n\r\n    /**\r\n     * Applies filter to canvas element\r\n     * @param {Object} canvasEl Canvas element to apply filter to\r\n     */\r\n    applyTo: function(canvasEl) {\r\n      var context = canvasEl.getContext('2d'),\r\n          imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height),\r\n          data = imageData.data,\r\n          max, adjust = -this.saturate * 0.01;\r\n\r\n      for (var i = 0, len = data.length; i < len; i += 4) {\r\n        max = Math.max(data[i], data[i + 1], data[i + 2]);\r\n        data[i] += max !== data[i] ? (max - data[i]) * adjust : 0;\r\n        data[i + 1] += max !== data[i + 1] ? (max - data[i + 1]) * adjust : 0;\r\n        data[i + 2] += max !== data[i + 2] ? (max - data[i + 2]) * adjust : 0;\r\n      }\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function() {\r\n      return extend(this.callSuper('toObject'), {\r\n        saturate: this.saturate\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns filter instance from an object representation\r\n   * @static\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Image.filters.Saturate} Instance of fabric.Image.filters.Saturate\r\n   */\r\n  fabric.Image.filters.Saturate.fromObject = function(object) {\r\n    return new fabric.Image.filters.Saturate(object);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = { }),\r\n      clone = fabric.util.object.clone,\r\n      toFixed = fabric.util.toFixed,\r\n      NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS,\r\n      MIN_TEXT_WIDTH = 2;\r\n\r\n  if (fabric.Text) {\r\n    fabric.warn('fabric.Text is already defined');\r\n    return;\r\n  }\r\n\r\n  var stateProperties = fabric.Object.prototype.stateProperties.concat();\r\n  stateProperties.push(\r\n    'fontFamily',\r\n    'fontWeight',\r\n    'fontSize',\r\n    'text',\r\n    'textDecoration',\r\n    'textAlign',\r\n    'fontStyle',\r\n    'lineHeight',\r\n    'textBackgroundColor',\r\n    'charSpacing'\r\n  );\r\n\r\n  var cacheProperties = fabric.Object.prototype.cacheProperties.concat();\r\n  cacheProperties.push(\r\n    'fontFamily',\r\n    'fontWeight',\r\n    'fontSize',\r\n    'text',\r\n    'textDecoration',\r\n    'textAlign',\r\n    'fontStyle',\r\n    'lineHeight',\r\n    'textBackgroundColor',\r\n    'charSpacing',\r\n    'styles'\r\n  );\r\n  /**\r\n   * Text class\r\n   * @class fabric.Text\r\n   * @extends fabric.Object\r\n   * @return {fabric.Text} thisArg\r\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-2#text}\r\n   * @see {@link fabric.Text#initialize} for constructor definition\r\n   */\r\n  fabric.Text = fabric.util.createClass(fabric.Object, /** @lends fabric.Text.prototype */ {\r\n\r\n    /**\r\n     * Properties which when set cause object to change dimensions\r\n     * @type Object\r\n     * @private\r\n     */\r\n    _dimensionAffectingProps: [\r\n      'fontSize',\r\n      'fontWeight',\r\n      'fontFamily',\r\n      'fontStyle',\r\n      'lineHeight',\r\n      'text',\r\n      'charSpacing',\r\n      'textAlign'\r\n    ],\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _reNewline: /\\r?\\n/,\r\n\r\n    /**\r\n     * Use this regular expression to filter for whitespace that is not a new line.\r\n     * Mostly used when text is 'justify' aligned.\r\n     * @private\r\n     */\r\n    _reSpacesAndTabs: /[ \\t\\r]+/g,\r\n\r\n    /**\r\n     * Retrieves object's fontSize\r\n     * @method getFontSize\r\n     * @memberOf fabric.Text.prototype\r\n     * @return {String} Font size (in pixels)\r\n     */\r\n\r\n    /**\r\n     * Sets object's fontSize\r\n     * Does not update the object .width and .height,\r\n     * call ._initDimensions() to update the values.\r\n     * @method setFontSize\r\n     * @memberOf fabric.Text.prototype\r\n     * @param {Number} fontSize Font size (in pixels)\r\n     * @return {fabric.Text}\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's fontWeight\r\n     * @method getFontWeight\r\n     * @memberOf fabric.Text.prototype\r\n     * @return {(String|Number)} Font weight\r\n     */\r\n\r\n    /**\r\n     * Sets object's fontWeight\r\n     * Does not update the object .width and .height,\r\n     * call ._initDimensions() to update the values.\r\n     * @method setFontWeight\r\n     * @memberOf fabric.Text.prototype\r\n     * @param {(Number|String)} fontWeight Font weight\r\n     * @return {fabric.Text}\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's fontFamily\r\n     * @method getFontFamily\r\n     * @memberOf fabric.Text.prototype\r\n     * @return {String} Font family\r\n     */\r\n\r\n    /**\r\n     * Sets object's fontFamily\r\n     * Does not update the object .width and .height,\r\n     * call ._initDimensions() to update the values.\r\n     * @method setFontFamily\r\n     * @memberOf fabric.Text.prototype\r\n     * @param {String} fontFamily Font family\r\n     * @return {fabric.Text}\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's text\r\n     * @method getText\r\n     * @memberOf fabric.Text.prototype\r\n     * @return {String} text\r\n     */\r\n\r\n    /**\r\n     * Sets object's text\r\n     * Does not update the object .width and .height,\r\n     * call ._initDimensions() to update the values.\r\n     * @method setText\r\n     * @memberOf fabric.Text.prototype\r\n     * @param {String} text Text\r\n     * @return {fabric.Text}\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's textDecoration\r\n     * @method getTextDecoration\r\n     * @memberOf fabric.Text.prototype\r\n     * @return {String} Text decoration\r\n     */\r\n\r\n    /**\r\n     * Sets object's textDecoration\r\n     * @method setTextDecoration\r\n     * @memberOf fabric.Text.prototype\r\n     * @param {String} textDecoration Text decoration\r\n     * @return {fabric.Text}\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's fontStyle\r\n     * @method getFontStyle\r\n     * @memberOf fabric.Text.prototype\r\n     * @return {String} Font style\r\n     */\r\n\r\n    /**\r\n     * Sets object's fontStyle\r\n     * Does not update the object .width and .height,\r\n     * call ._initDimensions() to update the values.\r\n     * @method setFontStyle\r\n     * @memberOf fabric.Text.prototype\r\n     * @param {String} fontStyle Font style\r\n     * @return {fabric.Text}\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's lineHeight\r\n     * @method getLineHeight\r\n     * @memberOf fabric.Text.prototype\r\n     * @return {Number} Line height\r\n     */\r\n\r\n    /**\r\n     * Sets object's lineHeight\r\n     * @method setLineHeight\r\n     * @memberOf fabric.Text.prototype\r\n     * @param {Number} lineHeight Line height\r\n     * @return {fabric.Text}\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's textAlign\r\n     * @method getTextAlign\r\n     * @memberOf fabric.Text.prototype\r\n     * @return {String} Text alignment\r\n     */\r\n\r\n    /**\r\n     * Sets object's textAlign\r\n     * @method setTextAlign\r\n     * @memberOf fabric.Text.prototype\r\n     * @param {String} textAlign Text alignment\r\n     * @return {fabric.Text}\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Retrieves object's textBackgroundColor\r\n     * @method getTextBackgroundColor\r\n     * @memberOf fabric.Text.prototype\r\n     * @return {String} Text background color\r\n     */\r\n\r\n    /**\r\n     * Sets object's textBackgroundColor\r\n     * @method setTextBackgroundColor\r\n     * @memberOf fabric.Text.prototype\r\n     * @param {String} textBackgroundColor Text background color\r\n     * @return {fabric.Text}\r\n     * @chainable\r\n     */\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type:                 'text',\r\n\r\n    /**\r\n     * Font size (in pixels)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    fontSize:             40,\r\n\r\n    /**\r\n     * Font weight (e.g. bold, normal, 400, 600, 800)\r\n     * @type {(Number|String)}\r\n     * @default\r\n     */\r\n    fontWeight:           'normal',\r\n\r\n    /**\r\n     * Font family\r\n     * @type String\r\n     * @default\r\n     */\r\n    fontFamily:           'Times New Roman',\r\n\r\n    /**\r\n     * Text decoration Possible values: \"\", \"underline\", \"overline\" or \"line-through\".\r\n     * @type String\r\n     * @default\r\n     */\r\n    textDecoration:       '',\r\n\r\n    /**\r\n     * Text alignment. Possible values: \"left\", \"center\", \"right\" or \"justify\".\r\n     * @type String\r\n     * @default\r\n     */\r\n    textAlign:            'left',\r\n\r\n    /**\r\n     * Font style . Possible values: \"\", \"normal\", \"italic\" or \"oblique\".\r\n     * @type String\r\n     * @default\r\n     */\r\n    fontStyle:            '',\r\n\r\n    /**\r\n     * Line height\r\n     * @type Number\r\n     * @default\r\n     */\r\n    lineHeight:           1.16,\r\n\r\n    /**\r\n     * Background color of text lines\r\n     * @type String\r\n     * @default\r\n     */\r\n    textBackgroundColor:  '',\r\n\r\n    /**\r\n     * List of properties to consider when checking if\r\n     * state of an object is changed ({@link fabric.Object#hasStateChanged})\r\n     * as well as for history (undo/redo) purposes\r\n     * @type Array\r\n     */\r\n    stateProperties:      stateProperties,\r\n\r\n    /**\r\n     * List of properties to consider when checking if cache needs refresh\r\n     * @type Array\r\n     */\r\n    cacheProperties:      cacheProperties,\r\n\r\n    /**\r\n     * When defined, an object is rendered via stroke and this property specifies its color.\r\n     * <b>Backwards incompatibility note:</b> This property was named \"strokeStyle\" until v1.1.6\r\n     * @type String\r\n     * @default\r\n     */\r\n    stroke:               null,\r\n\r\n    /**\r\n     * Shadow object representing shadow of this shape.\r\n     * <b>Backwards incompatibility note:</b> This property was named \"textShadow\" (String) until v1.2.11\r\n     * @type fabric.Shadow\r\n     * @default\r\n     */\r\n    shadow:               null,\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _fontSizeFraction: 0.25,\r\n\r\n    /**\r\n     * Text Line proportion to font Size (in pixels)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    _fontSizeMult:             1.13,\r\n\r\n    /**\r\n     * additional space between characters\r\n     * expressed in thousands of em unit\r\n     * @type Number\r\n     * @default\r\n     */\r\n    charSpacing:             0,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {String} text Text string\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.Text} thisArg\r\n     */\r\n    initialize: function(text, options) {\r\n      options = options || { };\r\n      this.text = text;\r\n      this.__skipDimension = true;\r\n      this.callSuper('initialize', options);\r\n      this.__skipDimension = false;\r\n      this._initDimensions();\r\n      this.setupState({ propertySet: '_dimensionAffectingProps' });\r\n    },\r\n\r\n    /**\r\n     * Initialize text dimensions. Render all text on given context\r\n     * or on a offscreen canvas to get the text width with measureText.\r\n     * Updates this.width and this.height with the proper values.\r\n     * Does not return dimensions.\r\n     * @param {CanvasRenderingContext2D} [ctx] Context to render on\r\n     * @private\r\n     */\r\n    _initDimensions: function(ctx) {\r\n      if (this.__skipDimension) {\r\n        return;\r\n      }\r\n      if (!ctx) {\r\n        ctx = fabric.util.createCanvasElement().getContext('2d');\r\n        this._setTextStyles(ctx);\r\n      }\r\n      this._textLines = this._splitTextIntoLines();\r\n      this._clearCache();\r\n      this.width = this._getTextWidth(ctx) || this.cursorWidth || MIN_TEXT_WIDTH;\r\n      this.height = this._getTextHeight(ctx);\r\n    },\r\n\r\n    /**\r\n     * Returns string representation of an instance\r\n     * @return {String} String representation of text object\r\n     */\r\n    toString: function() {\r\n      return '#<fabric.Text (' + this.complexity() +\r\n        '): { \"text\": \"' + this.text + '\", \"fontFamily\": \"' + this.fontFamily + '\" }>';\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _render: function(ctx) {\r\n      this._setTextStyles(ctx);\r\n      if (this.group && this.group.type === 'path-group') {\r\n        ctx.translate(this.left, this.top);\r\n      }\r\n      this._renderTextLinesBackground(ctx);\r\n      this._renderText(ctx);\r\n      this._renderTextDecoration(ctx);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderText: function(ctx) {\r\n      this._renderTextFill(ctx);\r\n      this._renderTextStroke(ctx);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _setTextStyles: function(ctx) {\r\n      ctx.textBaseline = 'alphabetic';\r\n      ctx.font = this._getFontDeclaration();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @return {Number} Height of fabric.Text object\r\n     */\r\n    _getTextHeight: function() {\r\n      return this._getHeightOfSingleLine() + (this._textLines.length - 1) * this._getHeightOfLine();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @return {Number} Maximum width of fabric.Text object\r\n     */\r\n    _getTextWidth: function(ctx) {\r\n      var maxWidth = this._getLineWidth(ctx, 0);\r\n\r\n      for (var i = 1, len = this._textLines.length; i < len; i++) {\r\n        var currentLineWidth = this._getLineWidth(ctx, i);\r\n        if (currentLineWidth > maxWidth) {\r\n          maxWidth = currentLineWidth;\r\n        }\r\n      }\r\n      return maxWidth;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} method Method name (\"fillText\" or \"strokeText\")\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {String} chars Chars to render\r\n     * @param {Number} left Left position of text\r\n     * @param {Number} top Top position of text\r\n     */\r\n    _renderChars: function(method, ctx, chars, left, top) {\r\n      // remove Text word from method var\r\n      var shortM = method.slice(0, -4), char, width;\r\n      if (this[shortM].toLive) {\r\n        var offsetX = -this.width / 2 + this[shortM].offsetX || 0,\r\n            offsetY = -this.height / 2 + this[shortM].offsetY || 0;\r\n        ctx.save();\r\n        ctx.translate(offsetX, offsetY);\r\n        left -= offsetX;\r\n        top -= offsetY;\r\n      }\r\n      if (this.charSpacing !== 0) {\r\n        var additionalSpace = this._getWidthOfCharSpacing();\r\n        chars = chars.split('');\r\n        for (var i = 0, len = chars.length; i < len; i++) {\r\n          char = chars[i];\r\n          width = ctx.measureText(char).width + additionalSpace;\r\n          ctx[method](char, left, top);\r\n          left += width > 0 ? width : 0;\r\n        }\r\n      }\r\n      else {\r\n        ctx[method](chars, left, top);\r\n      }\r\n      this[shortM].toLive && ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} method Method name (\"fillText\" or \"strokeText\")\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {String} line Text to render\r\n     * @param {Number} left Left position of text\r\n     * @param {Number} top Top position of text\r\n     * @param {Number} lineIndex Index of a line in a text\r\n     */\r\n    _renderTextLine: function(method, ctx, line, left, top, lineIndex) {\r\n      // lift the line by quarter of fontSize\r\n      top -= this.fontSize * this._fontSizeFraction;\r\n\r\n      // short-circuit\r\n      var lineWidth = this._getLineWidth(ctx, lineIndex);\r\n      if (this.textAlign !== 'justify' || this.width < lineWidth) {\r\n        this._renderChars(method, ctx, line, left, top, lineIndex);\r\n        return;\r\n      }\r\n\r\n      // stretch the line\r\n      var words = line.split(/\\s+/),\r\n          charOffset = 0,\r\n          wordsWidth = this._getWidthOfWords(ctx, words.join(' '), lineIndex, 0),\r\n          widthDiff = this.width - wordsWidth,\r\n          numSpaces = words.length - 1,\r\n          spaceWidth = numSpaces > 0 ? widthDiff / numSpaces : 0,\r\n          leftOffset = 0, word;\r\n\r\n      for (var i = 0, len = words.length; i < len; i++) {\r\n        while (line[charOffset] === ' ' && charOffset < line.length) {\r\n          charOffset++;\r\n        }\r\n        word = words[i];\r\n        this._renderChars(method, ctx, word, left + leftOffset, top, lineIndex, charOffset);\r\n        leftOffset += this._getWidthOfWords(ctx, word, lineIndex, charOffset) + spaceWidth;\r\n        charOffset += word.length;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {String} word\r\n     */\r\n    _getWidthOfWords: function (ctx, word) {\r\n      var width = ctx.measureText(word).width, charCount, additionalSpace;\r\n      if (this.charSpacing !== 0) {\r\n        charCount = word.split('').length;\r\n        additionalSpace = charCount * this._getWidthOfCharSpacing();\r\n        width += additionalSpace;\r\n      }\r\n      return width > 0 ? width : 0;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @return {Number} Left offset\r\n     */\r\n    _getLeftOffset: function() {\r\n      return -this.width / 2;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @return {Number} Top offset\r\n     */\r\n    _getTopOffset: function() {\r\n      return -this.height / 2;\r\n    },\r\n\r\n    /**\r\n     * Returns true because text has no style\r\n     */\r\n    isEmptyStyles: function() {\r\n      return true;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {String} method Method name (\"fillText\" or \"strokeText\")\r\n     */\r\n    _renderTextCommon: function(ctx, method) {\r\n\r\n      var lineHeights = 0, left = this._getLeftOffset(), top = this._getTopOffset();\r\n\r\n      for (var i = 0, len = this._textLines.length; i < len; i++) {\r\n        var heightOfLine = this._getHeightOfLine(ctx, i),\r\n            maxHeight = heightOfLine / this.lineHeight,\r\n            lineWidth = this._getLineWidth(ctx, i),\r\n            leftOffset = this._getLineLeftOffset(lineWidth);\r\n        this._renderTextLine(\r\n          method,\r\n          ctx,\r\n          this._textLines[i],\r\n          left + leftOffset,\r\n          top + lineHeights + maxHeight,\r\n          i\r\n        );\r\n        lineHeights += heightOfLine;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderTextFill: function(ctx) {\r\n      if (!this.fill && this.isEmptyStyles()) {\r\n        return;\r\n      }\r\n\r\n      this._renderTextCommon(ctx, 'fillText');\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderTextStroke: function(ctx) {\r\n      if ((!this.stroke || this.strokeWidth === 0) && this.isEmptyStyles()) {\r\n        return;\r\n      }\r\n\r\n      if (this.shadow && !this.shadow.affectStroke) {\r\n        this._removeShadow(ctx);\r\n      }\r\n\r\n      ctx.save();\r\n      this._setLineDash(ctx, this.strokeDashArray);\r\n      ctx.beginPath();\r\n      this._renderTextCommon(ctx, 'strokeText');\r\n      ctx.closePath();\r\n      ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @return {Number} height of line\r\n     */\r\n    _getHeightOfLine: function() {\r\n      return this._getHeightOfSingleLine() * this.lineHeight;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @return {Number} height of line without lineHeight\r\n     */\r\n    _getHeightOfSingleLine: function() {\r\n      return this.fontSize * this._fontSizeMult;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderTextLinesBackground: function(ctx) {\r\n      if (!this.textBackgroundColor) {\r\n        return;\r\n      }\r\n      var lineTopOffset = 0, heightOfLine,\r\n          lineWidth, lineLeftOffset, originalFill = ctx.fillStyle;\r\n\r\n      ctx.fillStyle = this.textBackgroundColor;\r\n      for (var i = 0, len = this._textLines.length; i < len; i++) {\r\n        heightOfLine = this._getHeightOfLine(ctx, i);\r\n        lineWidth = this._getLineWidth(ctx, i);\r\n        if (lineWidth > 0) {\r\n          lineLeftOffset = this._getLineLeftOffset(lineWidth);\r\n          ctx.fillRect(\r\n            this._getLeftOffset() + lineLeftOffset,\r\n            this._getTopOffset() + lineTopOffset,\r\n            lineWidth,\r\n            heightOfLine / this.lineHeight\r\n          );\r\n        }\r\n        lineTopOffset += heightOfLine;\r\n      }\r\n      ctx.fillStyle = originalFill;\r\n      // if there is text background color no\r\n      // other shadows should be casted\r\n      this._removeShadow(ctx);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Number} lineWidth Width of text line\r\n     * @return {Number} Line left offset\r\n     */\r\n    _getLineLeftOffset: function(lineWidth) {\r\n      if (this.textAlign === 'center') {\r\n        return (this.width - lineWidth) / 2;\r\n      }\r\n      if (this.textAlign === 'right') {\r\n        return this.width - lineWidth;\r\n      }\r\n      return 0;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _clearCache: function() {\r\n      this.__lineWidths = [];\r\n      this.__lineHeights = [];\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _shouldClearDimensionCache: function() {\r\n      var shouldClear = false;\r\n      if (this._forceClearCache) {\r\n        this._forceClearCache = false;\r\n        this.dirty = true;\r\n        return true;\r\n      }\r\n      shouldClear = this.hasStateChanged('_dimensionAffectingProps');\r\n      if (shouldClear) {\r\n        this.saveState({ propertySet: '_dimensionAffectingProps' });\r\n        this.dirty = true;\r\n      }\r\n      return shouldClear;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Number} lineIndex line number\r\n     * @return {Number} Line width\r\n     */\r\n    _getLineWidth: function(ctx, lineIndex) {\r\n      if (this.__lineWidths[lineIndex]) {\r\n        return this.__lineWidths[lineIndex] === -1 ? this.width : this.__lineWidths[lineIndex];\r\n      }\r\n\r\n      var width, wordCount, line = this._textLines[lineIndex];\r\n\r\n      if (line === '') {\r\n        width = 0;\r\n      }\r\n      else {\r\n        width = this._measureLine(ctx, lineIndex);\r\n      }\r\n      this.__lineWidths[lineIndex] = width;\r\n\r\n      if (width && this.textAlign === 'justify') {\r\n        wordCount = line.split(/\\s+/);\r\n        if (wordCount.length > 1) {\r\n          this.__lineWidths[lineIndex] = -1;\r\n        }\r\n      }\r\n      return width;\r\n    },\r\n\r\n    _getWidthOfCharSpacing: function() {\r\n      if (this.charSpacing !== 0) {\r\n        return this.fontSize * this.charSpacing / 1000;\r\n      }\r\n      return 0;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Number} lineIndex line number\r\n     * @return {Number} Line width\r\n     */\r\n    _measureLine: function(ctx, lineIndex) {\r\n      var line = this._textLines[lineIndex],\r\n          width = ctx.measureText(line).width,\r\n          additionalSpace = 0, charCount, finalWidth;\r\n      if (this.charSpacing !== 0) {\r\n        charCount = line.split('').length;\r\n        additionalSpace = (charCount - 1) * this._getWidthOfCharSpacing();\r\n      }\r\n      finalWidth = width + additionalSpace;\r\n      return finalWidth > 0 ? finalWidth : 0;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderTextDecoration: function(ctx) {\r\n      if (!this.textDecoration) {\r\n        return;\r\n      }\r\n      var halfOfVerticalBox = this.height / 2,\r\n          _this = this, offsets = [];\r\n\r\n      /** @ignore */\r\n      function renderLinesAtOffset(offsets) {\r\n        var i, lineHeight = 0, len, j, oLen, lineWidth,\r\n            lineLeftOffset, heightOfLine;\r\n\r\n        for (i = 0, len = _this._textLines.length; i < len; i++) {\r\n\r\n          lineWidth = _this._getLineWidth(ctx, i);\r\n          lineLeftOffset = _this._getLineLeftOffset(lineWidth);\r\n          heightOfLine = _this._getHeightOfLine(ctx, i);\r\n\r\n          for (j = 0, oLen = offsets.length; j < oLen; j++) {\r\n            ctx.fillRect(\r\n              _this._getLeftOffset() + lineLeftOffset,\r\n              lineHeight + (_this._fontSizeMult - 1 + offsets[j] ) * _this.fontSize - halfOfVerticalBox,\r\n              lineWidth,\r\n              _this.fontSize / 15);\r\n          }\r\n          lineHeight += heightOfLine;\r\n        }\r\n      }\r\n\r\n      if (this.textDecoration.indexOf('underline') > -1) {\r\n        offsets.push(0.85); // 1 - 3/16\r\n      }\r\n      if (this.textDecoration.indexOf('line-through') > -1) {\r\n        offsets.push(0.43);\r\n      }\r\n      if (this.textDecoration.indexOf('overline') > -1) {\r\n        offsets.push(-0.12);\r\n      }\r\n      if (offsets.length > 0) {\r\n        renderLinesAtOffset(offsets);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * return font declaration string for canvas context\r\n     * @returns {String} font declaration formatted for canvas context.\r\n     */\r\n    _getFontDeclaration: function() {\r\n      return [\r\n        // node-canvas needs \"weight style\", while browsers need \"style weight\"\r\n        (fabric.isLikelyNode ? this.fontWeight : this.fontStyle),\r\n        (fabric.isLikelyNode ? this.fontStyle : this.fontWeight),\r\n        this.fontSize + 'px',\r\n        (fabric.isLikelyNode ? ('\"' + this.fontFamily + '\"') : this.fontFamily)\r\n      ].join(' ');\r\n    },\r\n\r\n    /**\r\n     * Renders text instance on a specified context\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} noTransform\r\n     */\r\n    render: function(ctx, noTransform) {\r\n      // do not render if object is not visible\r\n      if (!this.visible) {\r\n        return;\r\n      }\r\n      if (this._shouldClearDimensionCache()) {\r\n        this._setTextStyles(ctx);\r\n        this._initDimensions(ctx);\r\n      }\r\n      this.callSuper('render', ctx, noTransform);\r\n    },\r\n\r\n    /**\r\n     * Returns the text as an array of lines.\r\n     * @returns {Array} Lines in the text\r\n     */\r\n    _splitTextIntoLines: function() {\r\n      return this.text.split(this._reNewline);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      var additionalProperties = [\r\n        'text',\r\n        'fontSize',\r\n        'fontWeight',\r\n        'fontFamily',\r\n        'fontStyle',\r\n        'lineHeight',\r\n        'textDecoration',\r\n        'textAlign',\r\n        'textBackgroundColor',\r\n        'charSpacing'\r\n      ].concat(propertiesToInclude);\r\n      return this.callSuper('toObject', additionalProperties);\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns SVG representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function(reviver) {\r\n      if (!this.ctx) {\r\n        this.ctx = fabric.util.createCanvasElement().getContext('2d');\r\n      }\r\n      var markup = this._createBaseSVGMarkup(),\r\n          offsets = this._getSVGLeftTopOffsets(this.ctx),\r\n          textAndBg = this._getSVGTextAndBg(offsets.textTop, offsets.textLeft);\r\n      this._wrapSVGTextAndBg(markup, textAndBg);\r\n\r\n      return reviver ? reviver(markup.join('')) : markup.join('');\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _getSVGLeftTopOffsets: function(ctx) {\r\n      var lineTop = this._getHeightOfLine(ctx, 0),\r\n          textLeft = -this.width / 2,\r\n          textTop = 0;\r\n\r\n      return {\r\n        textLeft: textLeft + (this.group && this.group.type === 'path-group' ? this.left : 0),\r\n        textTop: textTop + (this.group && this.group.type === 'path-group' ? -this.top : 0),\r\n        lineTop: lineTop\r\n      };\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _wrapSVGTextAndBg: function(markup, textAndBg) {\r\n      var noShadow = true, filter = this.getSvgFilter(),\r\n          style = filter === '' ? '' : ' style=\"' + filter + '\"';\r\n\r\n      markup.push(\r\n        '\\t<g ', this.getSvgId(), 'transform=\"', this.getSvgTransform(), this.getSvgTransformMatrix(), '\"',\r\n          style, '>\\n',\r\n          textAndBg.textBgRects.join(''),\r\n          '\\t\\t<text ',\r\n            (this.fontFamily ? 'font-family=\"' + this.fontFamily.replace(/\"/g, '\\'') + '\" ' : ''),\r\n            (this.fontSize ? 'font-size=\"' + this.fontSize + '\" ' : ''),\r\n            (this.fontStyle ? 'font-style=\"' + this.fontStyle + '\" ' : ''),\r\n            (this.fontWeight ? 'font-weight=\"' + this.fontWeight + '\" ' : ''),\r\n            (this.textDecoration ? 'text-decoration=\"' + this.textDecoration + '\" ' : ''),\r\n            'style=\"', this.getSvgStyles(noShadow), '\" >\\n',\r\n            textAndBg.textSpans.join(''),\r\n          '\\t\\t</text>\\n',\r\n        '\\t</g>\\n'\r\n      );\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Number} textTopOffset Text top offset\r\n     * @param {Number} textLeftOffset Text left offset\r\n     * @return {Object}\r\n     */\r\n    _getSVGTextAndBg: function(textTopOffset, textLeftOffset) {\r\n      var textSpans = [],\r\n          textBgRects = [],\r\n          height = 0;\r\n      // bounding-box background\r\n      this._setSVGBg(textBgRects);\r\n\r\n      // text and text-background\r\n      for (var i = 0, len = this._textLines.length; i < len; i++) {\r\n        if (this.textBackgroundColor) {\r\n          this._setSVGTextLineBg(textBgRects, i, textLeftOffset, textTopOffset, height);\r\n        }\r\n        this._setSVGTextLineText(i, textSpans, height, textLeftOffset, textTopOffset, textBgRects);\r\n        height += this._getHeightOfLine(this.ctx, i);\r\n      }\r\n\r\n      return {\r\n        textSpans: textSpans,\r\n        textBgRects: textBgRects\r\n      };\r\n    },\r\n\r\n    _setSVGTextLineText: function(i, textSpans, height, textLeftOffset, textTopOffset) {\r\n      var yPos = this.fontSize * (this._fontSizeMult - this._fontSizeFraction)\r\n        - textTopOffset + height - this.height / 2;\r\n      if (this.textAlign === 'justify') {\r\n        // i call from here to do not intefere with IText\r\n        this._setSVGTextLineJustifed(i, textSpans, yPos, textLeftOffset);\r\n        return;\r\n      }\r\n      textSpans.push(\r\n        '\\t\\t\\t<tspan x=\"',\r\n          toFixed(textLeftOffset + this._getLineLeftOffset(this._getLineWidth(this.ctx, i)), NUM_FRACTION_DIGITS), '\" ',\r\n          'y=\"',\r\n          toFixed(yPos, NUM_FRACTION_DIGITS),\r\n          '\" ',\r\n          // doing this on <tspan> elements since setting opacity\r\n          // on containing <text> one doesn't work in Illustrator\r\n          this._getFillAttributes(this.fill), '>',\r\n          fabric.util.string.escapeXml(this._textLines[i]),\r\n        '</tspan>\\n'\r\n      );\r\n    },\r\n\r\n    _setSVGTextLineJustifed: function(i, textSpans, yPos, textLeftOffset) {\r\n      var ctx = fabric.util.createCanvasElement().getContext('2d');\r\n\r\n      this._setTextStyles(ctx);\r\n\r\n      var line = this._textLines[i],\r\n          words = line.split(/\\s+/),\r\n          wordsWidth = this._getWidthOfWords(ctx, words.join('')),\r\n          widthDiff = this.width - wordsWidth,\r\n          numSpaces = words.length - 1,\r\n          spaceWidth = numSpaces > 0 ? widthDiff / numSpaces : 0,\r\n          word, attributes = this._getFillAttributes(this.fill),\r\n          len;\r\n\r\n      textLeftOffset += this._getLineLeftOffset(this._getLineWidth(ctx, i));\r\n\r\n      for (i = 0, len = words.length; i < len; i++) {\r\n        word = words[i];\r\n        textSpans.push(\r\n          '\\t\\t\\t<tspan x=\"',\r\n            toFixed(textLeftOffset, NUM_FRACTION_DIGITS), '\" ',\r\n            'y=\"',\r\n            toFixed(yPos, NUM_FRACTION_DIGITS),\r\n            '\" ',\r\n            // doing this on <tspan> elements since setting opacity\r\n            // on containing <text> one doesn't work in Illustrator\r\n            attributes, '>',\r\n            fabric.util.string.escapeXml(word),\r\n          '</tspan>\\n'\r\n        );\r\n        textLeftOffset += this._getWidthOfWords(ctx, word) + spaceWidth;\r\n      }\r\n    },\r\n\r\n    _setSVGTextLineBg: function(textBgRects, i, textLeftOffset, textTopOffset, height) {\r\n      textBgRects.push(\r\n        '\\t\\t<rect ',\r\n          this._getFillAttributes(this.textBackgroundColor),\r\n          ' x=\"',\r\n          toFixed(textLeftOffset + this._getLineLeftOffset(this._getLineWidth(this.ctx, i)), NUM_FRACTION_DIGITS),\r\n          '\" y=\"',\r\n          toFixed(height - this.height / 2, NUM_FRACTION_DIGITS),\r\n          '\" width=\"',\r\n          toFixed(this._getLineWidth(this.ctx, i), NUM_FRACTION_DIGITS),\r\n          '\" height=\"',\r\n          toFixed(this._getHeightOfLine(this.ctx, i) / this.lineHeight, NUM_FRACTION_DIGITS),\r\n        '\"></rect>\\n');\r\n    },\r\n\r\n    _setSVGBg: function(textBgRects) {\r\n      if (this.backgroundColor) {\r\n        textBgRects.push(\r\n          '\\t\\t<rect ',\r\n            this._getFillAttributes(this.backgroundColor),\r\n            ' x=\"',\r\n            toFixed(-this.width / 2, NUM_FRACTION_DIGITS),\r\n            '\" y=\"',\r\n            toFixed(-this.height / 2, NUM_FRACTION_DIGITS),\r\n            '\" width=\"',\r\n            toFixed(this.width, NUM_FRACTION_DIGITS),\r\n            '\" height=\"',\r\n            toFixed(this.height, NUM_FRACTION_DIGITS),\r\n          '\"></rect>\\n');\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Adobe Illustrator (at least CS5) is unable to render rgba()-based fill values\r\n     * we work around it by \"moving\" alpha channel into opacity attribute and setting fill's alpha to 1\r\n     *\r\n     * @private\r\n     * @param {*} value\r\n     * @return {String}\r\n     */\r\n    _getFillAttributes: function(value) {\r\n      var fillColor = (value && typeof value === 'string') ? new fabric.Color(value) : '';\r\n      if (!fillColor || !fillColor.getSource() || fillColor.getAlpha() === 1) {\r\n        return 'fill=\"' + value + '\"';\r\n      }\r\n      return 'opacity=\"' + fillColor.getAlpha() + '\" fill=\"' + fillColor.setAlpha(1).toRgb() + '\"';\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * Sets specified property to a specified value\r\n     * @param {String} key\r\n     * @param {*} value\r\n     * @return {fabric.Text} thisArg\r\n     * @chainable\r\n     */\r\n    _set: function(key, value) {\r\n      this.callSuper('_set', key, value);\r\n\r\n      if (this._dimensionAffectingProps.indexOf(key) > -1) {\r\n        this._initDimensions();\r\n        this.setCoords();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns complexity of an instance\r\n     * @return {Number} complexity\r\n     */\r\n    complexity: function() {\r\n      return 1;\r\n    }\r\n  });\r\n\r\n  /* _FROM_SVG_START_ */\r\n  /**\r\n   * List of attribute names to account for when parsing SVG element (used by {@link fabric.Text.fromElement})\r\n   * @static\r\n   * @memberOf fabric.Text\r\n   * @see: http://www.w3.org/TR/SVG/text.html#TextElement\r\n   */\r\n  fabric.Text.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat(\r\n    'x y dx dy font-family font-style font-weight font-size text-decoration text-anchor'.split(' '));\r\n\r\n  /**\r\n   * Default SVG font size\r\n   * @static\r\n   * @memberOf fabric.Text\r\n   */\r\n  fabric.Text.DEFAULT_SVG_FONT_SIZE = 16;\r\n\r\n  /**\r\n   * Returns fabric.Text instance from an SVG element (<b>not yet implemented</b>)\r\n   * @static\r\n   * @memberOf fabric.Text\r\n   * @param {SVGElement} element Element to parse\r\n   * @param {Object} [options] Options object\r\n   * @return {fabric.Text} Instance of fabric.Text\r\n   */\r\n  fabric.Text.fromElement = function(element, options) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n\r\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Text.ATTRIBUTE_NAMES);\r\n    options = fabric.util.object.extend((options ? fabric.util.object.clone(options) : { }), parsedAttributes);\r\n\r\n    options.top = options.top || 0;\r\n    options.left = options.left || 0;\r\n    if ('dx' in parsedAttributes) {\r\n      options.left += parsedAttributes.dx;\r\n    }\r\n    if ('dy' in parsedAttributes) {\r\n      options.top += parsedAttributes.dy;\r\n    }\r\n    if (!('fontSize' in options)) {\r\n      options.fontSize = fabric.Text.DEFAULT_SVG_FONT_SIZE;\r\n    }\r\n\r\n    if (!options.originX) {\r\n      options.originX = 'left';\r\n    }\r\n\r\n    var textContent = '';\r\n\r\n    // The XML is not properly parsed in IE9 so a workaround to get\r\n    // textContent is through firstChild.data. Another workaround would be\r\n    // to convert XML loaded from a file to be converted using DOMParser (same way loadSVGFromString() does)\r\n    if (!('textContent' in element)) {\r\n      if ('firstChild' in element && element.firstChild !== null) {\r\n        if ('data' in element.firstChild && element.firstChild.data !== null) {\r\n          textContent = element.firstChild.data;\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      textContent = element.textContent;\r\n    }\r\n\r\n    textContent = textContent.replace(/^\\s+|\\s+$|\\n+/g, '').replace(/\\s+/g, ' ');\r\n\r\n    var text = new fabric.Text(textContent, options),\r\n        textHeightScaleFactor = text.getHeight() / text.height,\r\n        lineHeightDiff = (text.height + text.strokeWidth) * text.lineHeight - text.height,\r\n        scaledDiff = lineHeightDiff * textHeightScaleFactor,\r\n        textHeight = text.getHeight() + scaledDiff,\r\n        offX = 0;\r\n    /*\r\n      Adjust positioning:\r\n        x/y attributes in SVG correspond to the bottom-left corner of text bounding box\r\n        top/left properties in Fabric correspond to center point of text bounding box\r\n    */\r\n    if (text.originX === 'left') {\r\n      offX = text.getWidth() / 2;\r\n    }\r\n    if (text.originX === 'right') {\r\n      offX = -text.getWidth() / 2;\r\n    }\r\n    text.set({\r\n      left: text.getLeft() + offX,\r\n      top: text.getTop() - textHeight / 2 + text.fontSize * (0.18 + text._fontSizeFraction) / text.lineHeight /* 0.3 is the old lineHeight */\r\n    });\r\n\r\n    return text;\r\n  };\r\n  /* _FROM_SVG_END_ */\r\n\r\n  /**\r\n   * Returns fabric.Text instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Text\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {Function} [callback] Callback to invoke when an fabric.Text instance is created\r\n   * @return {fabric.Text} Instance of fabric.Text\r\n   */\r\n  fabric.Text.fromObject = function(object, callback) {\r\n    var text = new fabric.Text(object.text, clone(object));\r\n    callback && callback(text);\r\n    return text;\r\n  };\r\n\r\n  fabric.util.createAccessors(fabric.Text);\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function() {\r\n\r\n  var clone = fabric.util.object.clone;\r\n\r\n  /**\r\n   * IText class (introduced in <b>v1.4</b>) Events are also fired with \"text:\"\r\n   * prefix when observing canvas.\r\n   * @class fabric.IText\r\n   * @extends fabric.Text\r\n   * @mixes fabric.Observable\r\n   *\r\n   * @fires changed\r\n   * @fires selection:changed\r\n   * @fires editing:entered\r\n   * @fires editing:exited\r\n   *\r\n   * @return {fabric.IText} thisArg\r\n   * @see {@link fabric.IText#initialize} for constructor definition\r\n   *\r\n   * <p>Supported key combinations:</p>\r\n   * <pre>\r\n   *   Move cursor:                    left, right, up, down\r\n   *   Select character:               shift + left, shift + right\r\n   *   Select text vertically:         shift + up, shift + down\r\n   *   Move cursor by word:            alt + left, alt + right\r\n   *   Select words:                   shift + alt + left, shift + alt + right\r\n   *   Move cursor to line start/end:  cmd + left, cmd + right or home, end\r\n   *   Select till start/end of line:  cmd + shift + left, cmd + shift + right or shift + home, shift + end\r\n   *   Jump to start/end of text:      cmd + up, cmd + down\r\n   *   Select till start/end of text:  cmd + shift + up, cmd + shift + down or shift + pgUp, shift + pgDown\r\n   *   Delete character:               backspace\r\n   *   Delete word:                    alt + backspace\r\n   *   Delete line:                    cmd + backspace\r\n   *   Forward delete:                 delete\r\n   *   Copy text:                      ctrl/cmd + c\r\n   *   Paste text:                     ctrl/cmd + v\r\n   *   Cut text:                       ctrl/cmd + x\r\n   *   Select entire text:             ctrl/cmd + a\r\n   *   Quit editing                    tab or esc\r\n   * </pre>\r\n   *\r\n   * <p>Supported mouse/touch combination</p>\r\n   * <pre>\r\n   *   Position cursor:                click/touch\r\n   *   Create selection:               click/touch & drag\r\n   *   Create selection:               click & shift + click\r\n   *   Select word:                    double click\r\n   *   Select line:                    triple click\r\n   * </pre>\r\n   */\r\n  fabric.IText = fabric.util.createClass(fabric.Text, fabric.Observable, /** @lends fabric.IText.prototype */ {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'i-text',\r\n\r\n    /**\r\n     * Index where text selection starts (or where cursor is when there is no selection)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    selectionStart: 0,\r\n\r\n    /**\r\n     * Index where text selection ends\r\n     * @type Number\r\n     * @default\r\n     */\r\n    selectionEnd: 0,\r\n\r\n    /**\r\n     * Color of text selection\r\n     * @type String\r\n     * @default\r\n     */\r\n    selectionColor: 'rgba(17,119,255,0.3)',\r\n\r\n    /**\r\n     * Indicates whether text is in editing mode\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    isEditing: false,\r\n\r\n    /**\r\n     * Indicates whether a text can be edited\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    editable: true,\r\n\r\n    /**\r\n     * Border color of text object while it's in editing mode\r\n     * @type String\r\n     * @default\r\n     */\r\n    editingBorderColor: 'rgba(102,153,255,0.25)',\r\n\r\n    /**\r\n     * Width of cursor (in px)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    cursorWidth: 2,\r\n\r\n    /**\r\n     * Color of default cursor (when not overwritten by character style)\r\n     * @type String\r\n     * @default\r\n     */\r\n    cursorColor: '#333',\r\n\r\n    /**\r\n     * Delay between cursor blink (in ms)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    cursorDelay: 1000,\r\n\r\n    /**\r\n     * Duration of cursor fadein (in ms)\r\n     * @type Number\r\n     * @default\r\n     */\r\n    cursorDuration: 600,\r\n\r\n    /**\r\n     * Object containing character styles\r\n     * (where top-level properties corresponds to line number and 2nd-level properties -- to char number in a line)\r\n     * @type Object\r\n     * @default\r\n     */\r\n    styles: null,\r\n\r\n    /**\r\n     * Indicates whether internal text char widths can be cached\r\n     * @type Boolean\r\n     * @default\r\n     */\r\n    caching: true,\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _reSpace: /\\s|\\n/,\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _currentCursorOpacity: 0,\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _selectionDirection: null,\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _abortCursorAnimation: false,\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    __widthOfSpace: [],\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {String} text Text string\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.IText} thisArg\r\n     */\r\n    initialize: function(text, options) {\r\n      this.styles = options ? (options.styles || { }) : { };\r\n      this.callSuper('initialize', text, options);\r\n      this.initBehavior();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _clearCache: function() {\r\n      this.callSuper('_clearCache');\r\n      this.__widthOfSpace = [];\r\n    },\r\n\r\n    /**\r\n     * Returns true if object has no styling\r\n     */\r\n    isEmptyStyles: function() {\r\n      if (!this.styles) {\r\n        return true;\r\n      }\r\n      var obj = this.styles;\r\n\r\n      for (var p1 in obj) {\r\n        for (var p2 in obj[p1]) {\r\n          // eslint-disable-next-line no-unused-vars\r\n          for (var p3 in obj[p1][p2]) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n\r\n    /**\r\n     * Sets selection start (left boundary of a selection)\r\n     * @param {Number} index Index to set selection start to\r\n     */\r\n    setSelectionStart: function(index) {\r\n      index = Math.max(index, 0);\r\n      this._updateAndFire('selectionStart', index);\r\n    },\r\n\r\n    /**\r\n     * Sets selection end (right boundary of a selection)\r\n     * @param {Number} index Index to set selection end to\r\n     */\r\n    setSelectionEnd: function(index) {\r\n      index = Math.min(index, this.text.length);\r\n      this._updateAndFire('selectionEnd', index);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} property 'selectionStart' or 'selectionEnd'\r\n     * @param {Number} index new position of property\r\n     */\r\n    _updateAndFire: function(property, index) {\r\n      if (this[property] !== index) {\r\n        this._fireSelectionChanged();\r\n        this[property] = index;\r\n      }\r\n      this._updateTextarea();\r\n    },\r\n\r\n    /**\r\n     * Fires the even of selection changed\r\n     * @private\r\n     */\r\n    _fireSelectionChanged: function() {\r\n      this.fire('selection:changed');\r\n      this.canvas && this.canvas.fire('text:selection:changed', { target: this });\r\n    },\r\n\r\n    /**\r\n     * Gets style of a current selection/cursor (at the start position)\r\n     * @param {Number} [startIndex] Start index to get styles at\r\n     * @param {Number} [endIndex] End index to get styles at\r\n     * @return {Object} styles Style object at a specified (or current) index\r\n     */\r\n    getSelectionStyles: function(startIndex, endIndex) {\r\n\r\n      if (arguments.length === 2) {\r\n        var styles = [];\r\n        for (var i = startIndex; i < endIndex; i++) {\r\n          styles.push(this.getSelectionStyles(i));\r\n        }\r\n        return styles;\r\n      }\r\n\r\n      var loc = this.get2DCursorLocation(startIndex),\r\n          style = this._getStyleDeclaration(loc.lineIndex, loc.charIndex);\r\n\r\n      return style || {};\r\n    },\r\n\r\n    /**\r\n     * Sets style of a current selection\r\n     * @param {Object} [styles] Styles object\r\n     * @return {fabric.IText} thisArg\r\n     * @chainable\r\n     */\r\n    setSelectionStyles: function(styles) {\r\n      if (this.selectionStart === this.selectionEnd) {\r\n        this._extendStyles(this.selectionStart, styles);\r\n      }\r\n      else {\r\n        for (var i = this.selectionStart; i < this.selectionEnd; i++) {\r\n          this._extendStyles(i, styles);\r\n        }\r\n      }\r\n      /* not included in _extendStyles to avoid clearing cache more than once */\r\n      this._forceClearCache = true;\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _extendStyles: function(index, styles) {\r\n      var loc = this.get2DCursorLocation(index);\r\n\r\n      if (!this._getLineStyle(loc.lineIndex)) {\r\n        this._setLineStyle(loc.lineIndex, {});\r\n      }\r\n\r\n      if (!this._getStyleDeclaration(loc.lineIndex, loc.charIndex)) {\r\n        this._setStyleDeclaration(loc.lineIndex, loc.charIndex, {});\r\n      }\r\n\r\n      fabric.util.object.extend(this._getStyleDeclaration(loc.lineIndex, loc.charIndex), styles);\r\n    },\r\n\r\n    /**\r\n     * Initialize text dimensions. Render all text on given context\r\n     * or on a offscreen canvas to get the text width with measureText.\r\n     * Updates this.width and this.height with the proper values.\r\n     * Does not return dimensions.\r\n     * @param {CanvasRenderingContext2D} [ctx] Context to render on\r\n     * @private\r\n     */\r\n    _initDimensions: function(ctx) {\r\n      if (!ctx) {\r\n        this.clearContextTop();\r\n      }\r\n      this.callSuper('_initDimensions', ctx);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Boolean} noTransform\r\n     */\r\n    render: function(ctx, noTransform) {\r\n      this.clearContextTop();\r\n      this.callSuper('render', ctx, noTransform);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _render: function(ctx) {\r\n      this.callSuper('_render', ctx);\r\n      this.ctx = ctx;\r\n      // clear the cursorOffsetCache, so we ensure to calculate once per renderCursor\r\n      // the correct position but not at every cursor animation.\r\n      this.cursorOffsetCache = { };\r\n      this.renderCursorOrSelection();\r\n    },\r\n\r\n    /**\r\n     * Prepare and clean the contextTop\r\n     */\r\n    clearContextTop: function() {\r\n      if (!this.active || !this.isEditing) {\r\n        return;\r\n      }\r\n      if (this.canvas && this.canvas.contextTop) {\r\n        var ctx = this.canvas.contextTop;\r\n        ctx.save();\r\n        ctx.transform.apply(ctx, this.canvas.viewportTransform);\r\n        this.transform(ctx);\r\n        this.transformMatrix && ctx.transform.apply(ctx, this.transformMatrix);\r\n        this._clearTextArea(ctx);\r\n        ctx.restore();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Renders cursor or selection (depending on what exists)\r\n     */\r\n    renderCursorOrSelection: function() {\r\n      if (!this.active || !this.isEditing) {\r\n        return;\r\n      }\r\n      var chars = this.text.split(''),\r\n          boundaries, ctx;\r\n      if (this.canvas && this.canvas.contextTop) {\r\n        ctx = this.canvas.contextTop;\r\n        ctx.save();\r\n        ctx.transform.apply(ctx, this.canvas.viewportTransform);\r\n        this.transform(ctx);\r\n        this.transformMatrix && ctx.transform.apply(ctx, this.transformMatrix);\r\n        this._clearTextArea(ctx);\r\n      }\r\n      else {\r\n        ctx = this.ctx;\r\n        ctx.save();\r\n      }\r\n      if (this.selectionStart === this.selectionEnd) {\r\n        boundaries = this._getCursorBoundaries(chars, 'cursor');\r\n        this.renderCursor(boundaries, ctx);\r\n      }\r\n      else {\r\n        boundaries = this._getCursorBoundaries(chars, 'selection');\r\n        this.renderSelection(chars, boundaries, ctx);\r\n      }\r\n      ctx.restore();\r\n    },\r\n\r\n    _clearTextArea: function(ctx) {\r\n      // we add 4 pixel, to be sure to do not leave any pixel out\r\n      var width = this.width + 4, height = this.height + 4;\r\n      ctx.clearRect(-width / 2, -height / 2, width, height);\r\n    },\r\n    /**\r\n     * Returns 2d representation (lineIndex and charIndex) of cursor (or selection start)\r\n     * @param {Number} [selectionStart] Optional index. When not given, current selectionStart is used.\r\n     */\r\n    get2DCursorLocation: function(selectionStart) {\r\n      if (typeof selectionStart === 'undefined') {\r\n        selectionStart = this.selectionStart;\r\n      }\r\n      var len = this._textLines.length;\r\n      for (var i = 0; i < len; i++) {\r\n        if (selectionStart <= this._textLines[i].length) {\r\n          return {\r\n            lineIndex: i,\r\n            charIndex: selectionStart\r\n          };\r\n        }\r\n        selectionStart -= this._textLines[i].length + 1;\r\n      }\r\n      return {\r\n        lineIndex: i - 1,\r\n        charIndex: this._textLines[i - 1].length < selectionStart ? this._textLines[i - 1].length : selectionStart\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Returns complete style of char at the current cursor\r\n     * @param {Number} lineIndex Line index\r\n     * @param {Number} charIndex Char index\r\n     * @return {Object} Character style\r\n     */\r\n    getCurrentCharStyle: function(lineIndex, charIndex) {\r\n      var style = this._getStyleDeclaration(lineIndex, charIndex === 0 ? 0 : charIndex - 1);\r\n\r\n      return {\r\n        fontSize: style && style.fontSize || this.fontSize,\r\n        fill: style && style.fill || this.fill,\r\n        textBackgroundColor: style && style.textBackgroundColor || this.textBackgroundColor,\r\n        textDecoration: style && style.textDecoration || this.textDecoration,\r\n        fontFamily: style && style.fontFamily || this.fontFamily,\r\n        fontWeight: style && style.fontWeight || this.fontWeight,\r\n        fontStyle: style && style.fontStyle || this.fontStyle,\r\n        stroke: style && style.stroke || this.stroke,\r\n        strokeWidth: style && style.strokeWidth || this.strokeWidth\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Returns fontSize of char at the current cursor\r\n     * @param {Number} lineIndex Line index\r\n     * @param {Number} charIndex Char index\r\n     * @return {Number} Character font size\r\n     */\r\n    getCurrentCharFontSize: function(lineIndex, charIndex) {\r\n      var style = this._getStyleDeclaration(lineIndex, charIndex === 0 ? 0 : charIndex - 1);\r\n      return style && style.fontSize ? style.fontSize : this.fontSize;\r\n    },\r\n\r\n    /**\r\n     * Returns color (fill) of char at the current cursor\r\n     * @param {Number} lineIndex Line index\r\n     * @param {Number} charIndex Char index\r\n     * @return {String} Character color (fill)\r\n     */\r\n    getCurrentCharColor: function(lineIndex, charIndex) {\r\n      var style = this._getStyleDeclaration(lineIndex, charIndex === 0 ? 0 : charIndex - 1);\r\n      return style && style.fill ? style.fill : this.cursorColor;\r\n    },\r\n\r\n    /**\r\n     * Returns cursor boundaries (left, top, leftOffset, topOffset)\r\n     * @private\r\n     * @param {Array} chars Array of characters\r\n     * @param {String} typeOfBoundaries\r\n     */\r\n    _getCursorBoundaries: function(chars, typeOfBoundaries) {\r\n\r\n      // left/top are left/top of entire text box\r\n      // leftOffset/topOffset are offset from that left/top point of a text box\r\n\r\n      var left = Math.round(this._getLeftOffset()),\r\n          top = this._getTopOffset(),\r\n\r\n          offsets = this._getCursorBoundariesOffsets(\r\n                      chars, typeOfBoundaries);\r\n\r\n      return {\r\n        left: left,\r\n        top: top,\r\n        leftOffset: offsets.left + offsets.lineLeft,\r\n        topOffset: offsets.top\r\n      };\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _getCursorBoundariesOffsets: function(chars, typeOfBoundaries) {\r\n      if (this.cursorOffsetCache && 'top' in this.cursorOffsetCache) {\r\n        return this.cursorOffsetCache;\r\n      }\r\n      var lineLeftOffset = 0,\r\n          lineIndex = 0,\r\n          charIndex = 0,\r\n          topOffset = 0,\r\n          leftOffset = 0,\r\n          boundaries;\r\n\r\n      for (var i = 0; i < this.selectionStart; i++) {\r\n        if (chars[i] === '\\n') {\r\n          leftOffset = 0;\r\n          topOffset += this._getHeightOfLine(this.ctx, lineIndex);\r\n\r\n          lineIndex++;\r\n          charIndex = 0;\r\n        }\r\n        else {\r\n          leftOffset += this._getWidthOfChar(this.ctx, chars[i], lineIndex, charIndex);\r\n          charIndex++;\r\n        }\r\n\r\n        lineLeftOffset = this._getLineLeftOffset(this._getLineWidth(this.ctx, lineIndex));\r\n      }\r\n      if (typeOfBoundaries === 'cursor') {\r\n        topOffset += (1 - this._fontSizeFraction) * this._getHeightOfLine(this.ctx, lineIndex) / this.lineHeight\r\n          - this.getCurrentCharFontSize(lineIndex, charIndex) * (1 - this._fontSizeFraction);\r\n      }\r\n      if (this.charSpacing !== 0 && charIndex === this._textLines[lineIndex].length) {\r\n        leftOffset -= this._getWidthOfCharSpacing();\r\n      }\r\n      boundaries = {\r\n        top: topOffset,\r\n        left: leftOffset > 0 ? leftOffset : 0,\r\n        lineLeft: lineLeftOffset\r\n      };\r\n      this.cursorOffsetCache = boundaries;\r\n      return this.cursorOffsetCache;\r\n    },\r\n\r\n    /**\r\n     * Renders cursor\r\n     * @param {Object} boundaries\r\n     * @param {CanvasRenderingContext2D} ctx transformed context to draw on\r\n     */\r\n    renderCursor: function(boundaries, ctx) {\r\n\r\n      var cursorLocation = this.get2DCursorLocation(),\r\n          lineIndex = cursorLocation.lineIndex,\r\n          charIndex = cursorLocation.charIndex,\r\n          charHeight = this.getCurrentCharFontSize(lineIndex, charIndex),\r\n          leftOffset = (lineIndex === 0 && charIndex === 0)\r\n                    ? this._getLineLeftOffset(this._getLineWidth(ctx, lineIndex))\r\n                    : boundaries.leftOffset,\r\n          multiplier = this.scaleX * this.canvas.getZoom(),\r\n          cursorWidth = this.cursorWidth / multiplier;\r\n\r\n      ctx.fillStyle = this.getCurrentCharColor(lineIndex, charIndex);\r\n      ctx.globalAlpha = this.__isMousedown ? 1 : this._currentCursorOpacity;\r\n\r\n      ctx.fillRect(\r\n        boundaries.left + leftOffset - cursorWidth / 2,\r\n        boundaries.top + boundaries.topOffset,\r\n        cursorWidth,\r\n        charHeight);\r\n    },\r\n\r\n    /**\r\n     * Renders text selection\r\n     * @param {Array} chars Array of characters\r\n     * @param {Object} boundaries Object with left/top/leftOffset/topOffset\r\n     * @param {CanvasRenderingContext2D} ctx transformed context to draw on\r\n     */\r\n    renderSelection: function(chars, boundaries, ctx) {\r\n\r\n      ctx.fillStyle = this.selectionColor;\r\n\r\n      var start = this.get2DCursorLocation(this.selectionStart),\r\n          end = this.get2DCursorLocation(this.selectionEnd),\r\n          startLine = start.lineIndex,\r\n          endLine = end.lineIndex;\r\n      for (var i = startLine; i <= endLine; i++) {\r\n        var lineOffset = this._getLineLeftOffset(this._getLineWidth(ctx, i)) || 0,\r\n            lineHeight = this._getHeightOfLine(this.ctx, i),\r\n            realLineHeight = 0, boxWidth = 0, line = this._textLines[i];\r\n\r\n        if (i === startLine) {\r\n          for (var j = 0, len = line.length; j < len; j++) {\r\n            if (j >= start.charIndex && (i !== endLine || j < end.charIndex)) {\r\n              boxWidth += this._getWidthOfChar(ctx, line[j], i, j);\r\n            }\r\n            if (j < start.charIndex) {\r\n              lineOffset += this._getWidthOfChar(ctx, line[j], i, j);\r\n            }\r\n          }\r\n          if (j === line.length) {\r\n            boxWidth -= this._getWidthOfCharSpacing();\r\n          }\r\n        }\r\n        else if (i > startLine && i < endLine) {\r\n          boxWidth += this._getLineWidth(ctx, i) || 5;\r\n        }\r\n        else if (i === endLine) {\r\n          for (var j2 = 0, j2len = end.charIndex; j2 < j2len; j2++) {\r\n            boxWidth += this._getWidthOfChar(ctx, line[j2], i, j2);\r\n          }\r\n          if (end.charIndex === line.length) {\r\n            boxWidth -= this._getWidthOfCharSpacing();\r\n          }\r\n        }\r\n        realLineHeight = lineHeight;\r\n        if (this.lineHeight < 1 || (i === endLine && this.lineHeight > 1)) {\r\n          lineHeight /= this.lineHeight;\r\n        }\r\n        ctx.fillRect(\r\n          boundaries.left + lineOffset,\r\n          boundaries.top + boundaries.topOffset,\r\n          boxWidth > 0 ? boxWidth : 0,\r\n          lineHeight);\r\n\r\n        boundaries.topOffset += realLineHeight;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} method\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {String} line Content of the line\r\n     * @param {Number} left\r\n     * @param {Number} top\r\n     * @param {Number} lineIndex\r\n     * @param {Number} charOffset\r\n     */\r\n    _renderChars: function(method, ctx, line, left, top, lineIndex, charOffset) {\r\n\r\n      if (this.isEmptyStyles()) {\r\n        return this._renderCharsFast(method, ctx, line, left, top);\r\n      }\r\n\r\n      charOffset = charOffset || 0;\r\n\r\n      // set proper line offset\r\n      var lineHeight = this._getHeightOfLine(ctx, lineIndex),\r\n          prevStyle,\r\n          thisStyle,\r\n          charsToRender = '';\r\n\r\n      ctx.save();\r\n      top -= lineHeight / this.lineHeight * this._fontSizeFraction;\r\n      for (var i = charOffset, len = line.length + charOffset; i <= len; i++) {\r\n        prevStyle = prevStyle || this.getCurrentCharStyle(lineIndex, i);\r\n        thisStyle = this.getCurrentCharStyle(lineIndex, i + 1);\r\n\r\n        if (this._hasStyleChanged(prevStyle, thisStyle) || i === len) {\r\n          this._renderChar(method, ctx, lineIndex, i - 1, charsToRender, left, top, lineHeight);\r\n          charsToRender = '';\r\n          prevStyle = thisStyle;\r\n        }\r\n        charsToRender += line[i - charOffset];\r\n      }\r\n      ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} method\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {String} line Content of the line\r\n     * @param {Number} left Left coordinate\r\n     * @param {Number} top Top coordinate\r\n     */\r\n    _renderCharsFast: function(method, ctx, line, left, top) {\r\n\r\n      if (method === 'fillText' && this.fill) {\r\n        this.callSuper('_renderChars', method, ctx, line, left, top);\r\n      }\r\n      if (method === 'strokeText' && ((this.stroke && this.strokeWidth > 0) || this.skipFillStrokeCheck)) {\r\n        this.callSuper('_renderChars', method, ctx, line, left, top);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} method\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Number} lineIndex\r\n     * @param {Number} i\r\n     * @param {String} _char\r\n     * @param {Number} left Left coordinate\r\n     * @param {Number} top Top coordinate\r\n     * @param {Number} lineHeight Height of the line\r\n     */\r\n    _renderChar: function(method, ctx, lineIndex, i, _char, left, top, lineHeight) {\r\n      var charWidth, charHeight, shouldFill, shouldStroke,\r\n          decl = this._getStyleDeclaration(lineIndex, i),\r\n          offset, textDecoration, chars, additionalSpace, _charWidth;\r\n\r\n      if (decl) {\r\n        charHeight = this._getHeightOfChar(ctx, _char, lineIndex, i);\r\n        shouldStroke = decl.stroke;\r\n        shouldFill = decl.fill;\r\n        textDecoration = decl.textDecoration;\r\n      }\r\n      else {\r\n        charHeight = this.fontSize;\r\n      }\r\n\r\n      shouldStroke = (shouldStroke || this.stroke) && method === 'strokeText';\r\n      shouldFill = (shouldFill || this.fill) && method === 'fillText';\r\n\r\n      decl && ctx.save();\r\n\r\n      charWidth = this._applyCharStylesGetWidth(ctx, _char, lineIndex, i, decl || null);\r\n      textDecoration = textDecoration || this.textDecoration;\r\n\r\n      if (decl && decl.textBackgroundColor) {\r\n        this._removeShadow(ctx);\r\n      }\r\n      if (this.charSpacing !== 0) {\r\n        additionalSpace = this._getWidthOfCharSpacing();\r\n        chars = _char.split('');\r\n        charWidth = 0;\r\n        for (var j = 0, len = chars.length, char; j < len; j++) {\r\n          char = chars[j];\r\n          shouldFill && ctx.fillText(char, left + charWidth, top);\r\n          shouldStroke && ctx.strokeText(char, left + charWidth, top);\r\n          _charWidth = ctx.measureText(char).width + additionalSpace;\r\n          charWidth += _charWidth > 0 ? _charWidth : 0;\r\n        }\r\n      }\r\n      else {\r\n        shouldFill && ctx.fillText(_char, left, top);\r\n        shouldStroke && ctx.strokeText(_char, left, top);\r\n      }\r\n\r\n      if (textDecoration || textDecoration !== '') {\r\n        offset = this._fontSizeFraction * lineHeight / this.lineHeight;\r\n        this._renderCharDecoration(ctx, textDecoration, left, top, offset, charWidth, charHeight);\r\n      }\r\n\r\n      decl && ctx.restore();\r\n      ctx.translate(charWidth, 0);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} prevStyle\r\n     * @param {Object} thisStyle\r\n     */\r\n    _hasStyleChanged: function(prevStyle, thisStyle) {\r\n      return (prevStyle.fill !== thisStyle.fill ||\r\n              prevStyle.fontSize !== thisStyle.fontSize ||\r\n              prevStyle.textBackgroundColor !== thisStyle.textBackgroundColor ||\r\n              prevStyle.textDecoration !== thisStyle.textDecoration ||\r\n              prevStyle.fontFamily !== thisStyle.fontFamily ||\r\n              prevStyle.fontWeight !== thisStyle.fontWeight ||\r\n              prevStyle.fontStyle !== thisStyle.fontStyle ||\r\n              prevStyle.stroke !== thisStyle.stroke ||\r\n              prevStyle.strokeWidth !== thisStyle.strokeWidth\r\n      );\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderCharDecoration: function(ctx, textDecoration, left, top, offset, charWidth, charHeight) {\r\n\r\n      if (!textDecoration) {\r\n        return;\r\n      }\r\n\r\n      var decorationWeight = charHeight / 15,\r\n          positions = {\r\n            underline: top + charHeight / 10,\r\n            'line-through': top - charHeight * (this._fontSizeFraction + this._fontSizeMult - 1) + decorationWeight,\r\n            overline: top - (this._fontSizeMult - this._fontSizeFraction) * charHeight\r\n          },\r\n          decorations = ['underline', 'line-through', 'overline'], i, decoration;\r\n\r\n      for (i = 0; i < decorations.length; i++) {\r\n        decoration = decorations[i];\r\n        if (textDecoration.indexOf(decoration) > -1) {\r\n          ctx.fillRect(left, positions[decoration], charWidth , decorationWeight);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} method\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {String} line\r\n     * @param {Number} left\r\n     * @param {Number} top\r\n     * @param {Number} lineIndex\r\n     */\r\n    _renderTextLine: function(method, ctx, line, left, top, lineIndex) {\r\n      // to \"cancel\" this.fontSize subtraction in fabric.Text#_renderTextLine\r\n      // the adding 0.03 is just to align text with itext by overlap test\r\n      if (!this.isEmptyStyles()) {\r\n        top += this.fontSize * (this._fontSizeFraction + 0.03);\r\n      }\r\n      this.callSuper('_renderTextLine', method, ctx, line, left, top, lineIndex);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderTextDecoration: function(ctx) {\r\n      if (this.isEmptyStyles()) {\r\n        return this.callSuper('_renderTextDecoration', ctx);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _renderTextLinesBackground: function(ctx) {\r\n      this.callSuper('_renderTextLinesBackground', ctx);\r\n\r\n      var lineTopOffset = 0, heightOfLine,\r\n          lineWidth, lineLeftOffset,\r\n          leftOffset = this._getLeftOffset(),\r\n          topOffset = this._getTopOffset(),\r\n          line, _char, style;\r\n      ctx.save();\r\n      for (var i = 0, len = this._textLines.length; i < len; i++) {\r\n        heightOfLine = this._getHeightOfLine(ctx, i);\r\n        line = this._textLines[i];\r\n\r\n        if (line === '' || !this.styles || !this._getLineStyle(i)) {\r\n          lineTopOffset += heightOfLine;\r\n          continue;\r\n        }\r\n\r\n        lineWidth = this._getLineWidth(ctx, i);\r\n        lineLeftOffset = this._getLineLeftOffset(lineWidth);\r\n\r\n        for (var j = 0, jlen = line.length; j < jlen; j++) {\r\n          style = this._getStyleDeclaration(i, j);\r\n          if (!style || !style.textBackgroundColor) {\r\n            continue;\r\n          }\r\n          _char = line[j];\r\n\r\n          ctx.fillStyle = style.textBackgroundColor;\r\n\r\n          ctx.fillRect(\r\n            leftOffset + lineLeftOffset + this._getWidthOfCharsAt(ctx, i, j),\r\n            topOffset + lineTopOffset,\r\n            this._getWidthOfChar(ctx, _char, i, j),\r\n            heightOfLine / this.lineHeight\r\n          );\r\n        }\r\n        lineTopOffset += heightOfLine;\r\n      }\r\n      ctx.restore();\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _getCacheProp: function(_char, styleDeclaration) {\r\n      return _char +\r\n             styleDeclaration.fontSize +\r\n             styleDeclaration.fontWeight +\r\n             styleDeclaration.fontStyle;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {String} fontFamily name\r\n     * @return {Object} reference to cache\r\n     */\r\n    _getFontCache: function(fontFamily) {\r\n      if (!fabric.charWidthsCache[fontFamily]) {\r\n        fabric.charWidthsCache[fontFamily] = { };\r\n      }\r\n      return fabric.charWidthsCache[fontFamily];\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {String} _char\r\n     * @param {Number} lineIndex\r\n     * @param {Number} charIndex\r\n     * @param {Object} [decl]\r\n     */\r\n    _applyCharStylesGetWidth: function(ctx, _char, lineIndex, charIndex, decl) {\r\n      var charDecl = decl || this._getStyleDeclaration(lineIndex, charIndex),\r\n          styleDeclaration = clone(charDecl),\r\n          width, cacheProp, charWidthsCache;\r\n\r\n      this._applyFontStyles(styleDeclaration);\r\n      charWidthsCache = this._getFontCache(styleDeclaration.fontFamily);\r\n      cacheProp = this._getCacheProp(_char, styleDeclaration);\r\n\r\n      // short-circuit if no styles for this char\r\n      // global style from object is always applyed and handled by save and restore\r\n      if (!charDecl && charWidthsCache[cacheProp] && this.caching) {\r\n        return charWidthsCache[cacheProp];\r\n      }\r\n\r\n      if (typeof styleDeclaration.shadow === 'string') {\r\n        styleDeclaration.shadow = new fabric.Shadow(styleDeclaration.shadow);\r\n      }\r\n\r\n      var fill = styleDeclaration.fill || this.fill;\r\n      ctx.fillStyle = fill.toLive\r\n        ? fill.toLive(ctx, this)\r\n        : fill;\r\n\r\n      if (styleDeclaration.stroke) {\r\n        ctx.strokeStyle = (styleDeclaration.stroke && styleDeclaration.stroke.toLive)\r\n          ? styleDeclaration.stroke.toLive(ctx, this)\r\n          : styleDeclaration.stroke;\r\n      }\r\n\r\n      ctx.lineWidth = styleDeclaration.strokeWidth || this.strokeWidth;\r\n      ctx.font = this._getFontDeclaration.call(styleDeclaration);\r\n\r\n      //if we want this._setShadow.call to work with styleDeclarion\r\n      //we have to add those references\r\n      if (styleDeclaration.shadow) {\r\n        styleDeclaration.scaleX = this.scaleX;\r\n        styleDeclaration.scaleY = this.scaleY;\r\n        styleDeclaration.canvas = this.canvas;\r\n        styleDeclaration.getObjectScaling = this.getObjectScaling;\r\n        this._setShadow.call(styleDeclaration, ctx);\r\n      }\r\n\r\n      if (!this.caching || !charWidthsCache[cacheProp]) {\r\n        width = ctx.measureText(_char).width;\r\n        this.caching && (charWidthsCache[cacheProp] = width);\r\n        return width;\r\n      }\r\n\r\n      return charWidthsCache[cacheProp];\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {Object} styleDeclaration\r\n     */\r\n    _applyFontStyles: function(styleDeclaration) {\r\n      if (!styleDeclaration.fontFamily) {\r\n        styleDeclaration.fontFamily = this.fontFamily;\r\n      }\r\n      if (!styleDeclaration.fontSize) {\r\n        styleDeclaration.fontSize = this.fontSize;\r\n      }\r\n      if (!styleDeclaration.fontWeight) {\r\n        styleDeclaration.fontWeight = this.fontWeight;\r\n      }\r\n      if (!styleDeclaration.fontStyle) {\r\n        styleDeclaration.fontStyle = this.fontStyle;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @param {Number} lineIndex\r\n     * @param {Number} charIndex\r\n     * @param {Boolean} [returnCloneOrEmpty=false]\r\n     * @private\r\n     */\r\n    _getStyleDeclaration: function(lineIndex, charIndex, returnCloneOrEmpty) {\r\n      if (returnCloneOrEmpty) {\r\n        return (this.styles[lineIndex] && this.styles[lineIndex][charIndex])\r\n          ? clone(this.styles[lineIndex][charIndex])\r\n          : { };\r\n      }\r\n\r\n      return this.styles[lineIndex] && this.styles[lineIndex][charIndex] ? this.styles[lineIndex][charIndex] : null;\r\n    },\r\n\r\n    /**\r\n     * @param {Number} lineIndex\r\n     * @param {Number} charIndex\r\n     * @param {Object} style\r\n     * @private\r\n     */\r\n    _setStyleDeclaration: function(lineIndex, charIndex, style) {\r\n      this.styles[lineIndex][charIndex] = style;\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param {Number} lineIndex\r\n     * @param {Number} charIndex\r\n     * @private\r\n     */\r\n    _deleteStyleDeclaration: function(lineIndex, charIndex) {\r\n      delete this.styles[lineIndex][charIndex];\r\n    },\r\n\r\n    /**\r\n     * @param {Number} lineIndex\r\n     * @private\r\n     */\r\n    _getLineStyle: function(lineIndex) {\r\n      return this.styles[lineIndex];\r\n    },\r\n\r\n    /**\r\n     * @param {Number} lineIndex\r\n     * @param {Object} style\r\n     * @private\r\n     */\r\n    _setLineStyle: function(lineIndex, style) {\r\n      this.styles[lineIndex] = style;\r\n    },\r\n\r\n    /**\r\n     * @param {Number} lineIndex\r\n     * @private\r\n     */\r\n    _deleteLineStyle: function(lineIndex) {\r\n      delete this.styles[lineIndex];\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _getWidthOfChar: function(ctx, _char, lineIndex, charIndex) {\r\n      if (!this._isMeasuring && this.textAlign === 'justify' && this._reSpacesAndTabs.test(_char)) {\r\n        return this._getWidthOfSpace(ctx, lineIndex);\r\n      }\r\n      ctx.save();\r\n      var width = this._applyCharStylesGetWidth(ctx, _char, lineIndex, charIndex);\r\n      if (this.charSpacing !== 0) {\r\n        width += this._getWidthOfCharSpacing();\r\n      }\r\n      ctx.restore();\r\n      return width > 0 ? width : 0\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Number} lineIndex\r\n     * @param {Number} charIndex\r\n     */\r\n    _getHeightOfChar: function(ctx, lineIndex, charIndex) {\r\n      var style = this._getStyleDeclaration(lineIndex, charIndex);\r\n      return style && style.fontSize ? style.fontSize : this.fontSize;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Number} lineIndex\r\n     * @param {Number} charIndex\r\n     */\r\n    _getWidthOfCharsAt: function(ctx, lineIndex, charIndex) {\r\n      var width = 0, i, _char;\r\n      for (i = 0; i < charIndex; i++) {\r\n        _char = this._textLines[lineIndex][i];\r\n        width += this._getWidthOfChar(ctx, _char, lineIndex, i);\r\n      }\r\n      return width;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Number} lineIndex line number\r\n     * @return {Number} Line width\r\n     */\r\n    _measureLine: function(ctx, lineIndex) {\r\n      this._isMeasuring = true;\r\n      var width = this._getWidthOfCharsAt(ctx, lineIndex, this._textLines[lineIndex].length);\r\n      if (this.charSpacing !== 0) {\r\n        width -= this._getWidthOfCharSpacing();\r\n      }\r\n      this._isMeasuring = false;\r\n      return width > 0 ? width : 0;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Number} lineIndex\r\n     */\r\n    _getWidthOfSpace: function (ctx, lineIndex) {\r\n      if (this.__widthOfSpace[lineIndex]) {\r\n        return this.__widthOfSpace[lineIndex];\r\n      }\r\n      var line = this._textLines[lineIndex],\r\n          wordsWidth = this._getWidthOfWords(ctx, line, lineIndex, 0),\r\n          widthDiff = this.width - wordsWidth,\r\n          numSpaces = line.length - line.replace(this._reSpacesAndTabs, '').length,\r\n          width = Math.max(widthDiff / numSpaces, ctx.measureText(' ').width);\r\n      this.__widthOfSpace[lineIndex] = width;\r\n      return width;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {String} line\r\n     * @param {Number} lineIndex\r\n     * @param {Number} charOffset\r\n     */\r\n    _getWidthOfWords: function (ctx, line, lineIndex, charOffset) {\r\n      var width = 0;\r\n\r\n      for (var charIndex = 0; charIndex < line.length; charIndex++) {\r\n        var _char = line[charIndex];\r\n\r\n        if (!_char.match(/\\s/)) {\r\n          width += this._getWidthOfChar(ctx, _char, lineIndex, charIndex + charOffset);\r\n        }\r\n      }\r\n\r\n      return width;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _getHeightOfLine: function(ctx, lineIndex) {\r\n      if (this.__lineHeights[lineIndex]) {\r\n        return this.__lineHeights[lineIndex];\r\n      }\r\n\r\n      var line = this._textLines[lineIndex],\r\n          maxHeight = this._getHeightOfChar(ctx, lineIndex, 0);\r\n\r\n      for (var i = 1, len = line.length; i < len; i++) {\r\n        var currentCharHeight = this._getHeightOfChar(ctx, lineIndex, i);\r\n        if (currentCharHeight > maxHeight) {\r\n          maxHeight = currentCharHeight;\r\n        }\r\n      }\r\n      this.__lineHeights[lineIndex] = maxHeight * this.lineHeight * this._fontSizeMult;\r\n      return this.__lineHeights[lineIndex];\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _getTextHeight: function(ctx) {\r\n      var lineHeight, height = 0;\r\n      for (var i = 0, len = this._textLines.length; i < len; i++) {\r\n        lineHeight = this._getHeightOfLine(ctx, i);\r\n        height += (i === len - 1 ? lineHeight / this.lineHeight : lineHeight);\r\n      }\r\n      return height;\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @method toObject\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      return fabric.util.object.extend(this.callSuper('toObject', propertiesToInclude), {\r\n        styles: clone(this.styles, true)\r\n      });\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Returns fabric.IText instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.IText\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {function} [callback] invoked with new instance as argument\r\n   * @return {fabric.IText} instance of fabric.IText\r\n   */\r\n  fabric.IText.fromObject = function(object, callback) {\r\n    var iText = new fabric.IText(object.text, clone(object));\r\n    callback && callback(iText);\r\n    return iText;\r\n  };\r\n})();\r\n\r\n\r\n(function() {\r\n\r\n  var clone = fabric.util.object.clone;\r\n\r\n  fabric.util.object.extend(fabric.IText.prototype, /** @lends fabric.IText.prototype */ {\r\n\r\n    /**\r\n     * Initializes all the interactive behavior of IText\r\n     */\r\n    initBehavior: function() {\r\n      this.initAddedHandler();\r\n      this.initRemovedHandler();\r\n      this.initCursorSelectionHandlers();\r\n      this.initDoubleClickSimulation();\r\n      this.mouseMoveHandler = this.mouseMoveHandler.bind(this);\r\n    },\r\n\r\n    /**\r\n     * Initializes \"selected\" event handler\r\n     */\r\n    initSelectedHandler: function() {\r\n      this.on('selected', function() {\r\n\r\n        var _this = this;\r\n        setTimeout(function() {\r\n          _this.selected = true;\r\n        }, 100);\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Initializes \"added\" event handler\r\n     */\r\n    initAddedHandler: function() {\r\n      var _this = this;\r\n      this.on('added', function() {\r\n        var canvas = _this.canvas;\r\n        if (canvas) {\r\n          if (!canvas._hasITextHandlers) {\r\n            canvas._hasITextHandlers = true;\r\n            _this._initCanvasHandlers(canvas);\r\n          }\r\n          canvas._iTextInstances = canvas._iTextInstances || [];\r\n          canvas._iTextInstances.push(_this);\r\n        }\r\n      });\r\n    },\r\n\r\n    initRemovedHandler: function() {\r\n      var _this = this;\r\n      this.on('removed', function() {\r\n        var canvas = _this.canvas;\r\n        if (canvas) {\r\n          canvas._iTextInstances = canvas._iTextInstances || [];\r\n          fabric.util.removeFromArray(canvas._iTextInstances, _this);\r\n          if (canvas._iTextInstances.length === 0) {\r\n            canvas._hasITextHandlers = false;\r\n            _this._removeCanvasHandlers(canvas);\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * register canvas event to manage exiting on other instances\r\n     * @private\r\n     */\r\n    _initCanvasHandlers: function(canvas) {\r\n      canvas._canvasITextSelectionClearedHanlder = (function() {\r\n        fabric.IText.prototype.exitEditingOnOthers(canvas);\r\n      }).bind(this);\r\n      canvas._mouseUpITextHandler = (function() {\r\n        if (canvas._iTextInstances) {\r\n          canvas._iTextInstances.forEach(function(obj) {\r\n            obj.__isMousedown = false;\r\n          });\r\n        }\r\n      }).bind(this);\r\n      canvas.on('selection:cleared', canvas._canvasITextSelectionClearedHanlder);\r\n      canvas.on('object:selected', canvas._canvasITextSelectionClearedHanlder);\r\n      canvas.on('mouse:up', canvas._mouseUpITextHandler);\r\n    },\r\n\r\n    /**\r\n     * remove canvas event to manage exiting on other instances\r\n     * @private\r\n     */\r\n    _removeCanvasHandlers: function(canvas) {\r\n      canvas.off('selection:cleared', canvas._canvasITextSelectionClearedHanlder);\r\n      canvas.off('object:selected', canvas._canvasITextSelectionClearedHanlder);\r\n      canvas.off('mouse:up', canvas._mouseUpITextHandler);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _tick: function() {\r\n      this._currentTickState = this._animateCursor(this, 1, this.cursorDuration, '_onTickComplete');\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _animateCursor: function(obj, targetOpacity, duration, completeMethod) {\r\n\r\n      var tickState;\r\n\r\n      tickState = {\r\n        isAborted: false,\r\n        abort: function() {\r\n          this.isAborted = true;\r\n        },\r\n      };\r\n\r\n      obj.animate('_currentCursorOpacity', targetOpacity, {\r\n        duration: duration,\r\n        onComplete: function() {\r\n          if (!tickState.isAborted) {\r\n            obj[completeMethod]();\r\n          }\r\n        },\r\n        onChange: function() {\r\n          // we do not want to animate a selection, only cursor\r\n          if (obj.canvas && obj.selectionStart === obj.selectionEnd) {\r\n            obj.renderCursorOrSelection();\r\n          }\r\n        },\r\n        abort: function() {\r\n          return tickState.isAborted;\r\n        }\r\n      });\r\n      return tickState;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _onTickComplete: function() {\r\n\r\n      var _this = this;\r\n\r\n      if (this._cursorTimeout1) {\r\n        clearTimeout(this._cursorTimeout1);\r\n      }\r\n      this._cursorTimeout1 = setTimeout(function() {\r\n        _this._currentTickCompleteState = _this._animateCursor(_this, 0, this.cursorDuration / 2, '_tick');\r\n      }, 100);\r\n    },\r\n\r\n    /**\r\n     * Initializes delayed cursor\r\n     */\r\n    initDelayedCursor: function(restart) {\r\n      var _this = this,\r\n          delay = restart ? 0 : this.cursorDelay;\r\n\r\n      this.abortCursorAnimation();\r\n      this._currentCursorOpacity = 1;\r\n      this._cursorTimeout2 = setTimeout(function() {\r\n        _this._tick();\r\n      }, delay);\r\n    },\r\n\r\n    /**\r\n     * Aborts cursor animation and clears all timeouts\r\n     */\r\n    abortCursorAnimation: function() {\r\n      var shouldClear = this._currentTickState || this._currentTickCompleteState;\r\n      this._currentTickState && this._currentTickState.abort();\r\n      this._currentTickCompleteState && this._currentTickCompleteState.abort();\r\n\r\n      clearTimeout(this._cursorTimeout1);\r\n      clearTimeout(this._cursorTimeout2);\r\n\r\n      this._currentCursorOpacity = 0;\r\n      // to clear just itext area we need to transform the context\r\n      // it may not be worth it\r\n      if (shouldClear) {\r\n        this.canvas && this.canvas.clearContext(this.canvas.contextTop || this.ctx);\r\n      }\r\n\r\n    },\r\n\r\n    /**\r\n     * Selects entire text\r\n     */\r\n    selectAll: function() {\r\n      this.selectionStart = 0;\r\n      this.selectionEnd = this.text.length;\r\n      this._fireSelectionChanged();\r\n      this._updateTextarea();\r\n    },\r\n\r\n    /**\r\n     * Returns selected text\r\n     * @return {String}\r\n     */\r\n    getSelectedText: function() {\r\n      return this.text.slice(this.selectionStart, this.selectionEnd);\r\n    },\r\n\r\n    /**\r\n     * Find new selection index representing start of current word according to current selection index\r\n     * @param {Number} startFrom Surrent selection index\r\n     * @return {Number} New selection index\r\n     */\r\n    findWordBoundaryLeft: function(startFrom) {\r\n      var offset = 0, index = startFrom - 1;\r\n\r\n      // remove space before cursor first\r\n      if (this._reSpace.test(this.text.charAt(index))) {\r\n        while (this._reSpace.test(this.text.charAt(index))) {\r\n          offset++;\r\n          index--;\r\n        }\r\n      }\r\n      while (/\\S/.test(this.text.charAt(index)) && index > -1) {\r\n        offset++;\r\n        index--;\r\n      }\r\n\r\n      return startFrom - offset;\r\n    },\r\n\r\n    /**\r\n     * Find new selection index representing end of current word according to current selection index\r\n     * @param {Number} startFrom Current selection index\r\n     * @return {Number} New selection index\r\n     */\r\n    findWordBoundaryRight: function(startFrom) {\r\n      var offset = 0, index = startFrom;\r\n\r\n      // remove space after cursor first\r\n      if (this._reSpace.test(this.text.charAt(index))) {\r\n        while (this._reSpace.test(this.text.charAt(index))) {\r\n          offset++;\r\n          index++;\r\n        }\r\n      }\r\n      while (/\\S/.test(this.text.charAt(index)) && index < this.text.length) {\r\n        offset++;\r\n        index++;\r\n      }\r\n\r\n      return startFrom + offset;\r\n    },\r\n\r\n    /**\r\n     * Find new selection index representing start of current line according to current selection index\r\n     * @param {Number} startFrom Current selection index\r\n     * @return {Number} New selection index\r\n     */\r\n    findLineBoundaryLeft: function(startFrom) {\r\n      var offset = 0, index = startFrom - 1;\r\n\r\n      while (!/\\n/.test(this.text.charAt(index)) && index > -1) {\r\n        offset++;\r\n        index--;\r\n      }\r\n\r\n      return startFrom - offset;\r\n    },\r\n\r\n    /**\r\n     * Find new selection index representing end of current line according to current selection index\r\n     * @param {Number} startFrom Current selection index\r\n     * @return {Number} New selection index\r\n     */\r\n    findLineBoundaryRight: function(startFrom) {\r\n      var offset = 0, index = startFrom;\r\n\r\n      while (!/\\n/.test(this.text.charAt(index)) && index < this.text.length) {\r\n        offset++;\r\n        index++;\r\n      }\r\n\r\n      return startFrom + offset;\r\n    },\r\n\r\n    /**\r\n     * Returns number of newlines in selected text\r\n     * @return {Number} Number of newlines in selected text\r\n     */\r\n    getNumNewLinesInSelectedText: function() {\r\n      var selectedText = this.getSelectedText(),\r\n          numNewLines  = 0;\r\n\r\n      for (var i = 0, len = selectedText.length; i < len; i++) {\r\n        if (selectedText[i] === '\\n') {\r\n          numNewLines++;\r\n        }\r\n      }\r\n      return numNewLines;\r\n    },\r\n\r\n    /**\r\n     * Finds index corresponding to beginning or end of a word\r\n     * @param {Number} selectionStart Index of a character\r\n     * @param {Number} direction 1 or -1\r\n     * @return {Number} Index of the beginning or end of a word\r\n     */\r\n    searchWordBoundary: function(selectionStart, direction) {\r\n      var index     = this._reSpace.test(this.text.charAt(selectionStart)) ? selectionStart - 1 : selectionStart,\r\n          _char     = this.text.charAt(index),\r\n          reNonWord = /[ \\n\\.,;!\\?\\-]/;\r\n\r\n      while (!reNonWord.test(_char) && index > 0 && index < this.text.length) {\r\n        index += direction;\r\n        _char = this.text.charAt(index);\r\n      }\r\n      if (reNonWord.test(_char) && _char !== '\\n') {\r\n        index += direction === 1 ? 0 : 1;\r\n      }\r\n      return index;\r\n    },\r\n\r\n    /**\r\n     * Selects a word based on the index\r\n     * @param {Number} selectionStart Index of a character\r\n     */\r\n    selectWord: function(selectionStart) {\r\n      selectionStart = selectionStart || this.selectionStart;\r\n      var newSelectionStart = this.searchWordBoundary(selectionStart, -1), /* search backwards */\r\n          newSelectionEnd = this.searchWordBoundary(selectionStart, 1); /* search forward */\r\n\r\n      this.selectionStart = newSelectionStart;\r\n      this.selectionEnd = newSelectionEnd;\r\n      this._fireSelectionChanged();\r\n      this._updateTextarea();\r\n      this.renderCursorOrSelection();\r\n    },\r\n\r\n    /**\r\n     * Selects a line based on the index\r\n     * @param {Number} selectionStart Index of a character\r\n     */\r\n    selectLine: function(selectionStart) {\r\n      selectionStart = selectionStart || this.selectionStart;\r\n      var newSelectionStart = this.findLineBoundaryLeft(selectionStart),\r\n          newSelectionEnd = this.findLineBoundaryRight(selectionStart);\r\n\r\n      this.selectionStart = newSelectionStart;\r\n      this.selectionEnd = newSelectionEnd;\r\n      this._fireSelectionChanged();\r\n      this._updateTextarea();\r\n    },\r\n\r\n    /**\r\n     * Enters editing state\r\n     * @return {fabric.IText} thisArg\r\n     * @chainable\r\n     */\r\n    enterEditing: function(e) {\r\n      if (this.isEditing || !this.editable) {\r\n        return;\r\n      }\r\n\r\n      if (this.canvas) {\r\n        this.exitEditingOnOthers(this.canvas);\r\n      }\r\n\r\n      this.isEditing = true;\r\n\r\n      this.initHiddenTextarea(e);\r\n      this.hiddenTextarea.focus();\r\n      this._updateTextarea();\r\n      this._saveEditingProps();\r\n      this._setEditingProps();\r\n      this._textBeforeEdit = this.text;\r\n\r\n      this._tick();\r\n      this.fire('editing:entered');\r\n\r\n      if (!this.canvas) {\r\n        return this;\r\n      }\r\n      this.canvas.fire('text:editing:entered', { target: this });\r\n      this.initMouseMoveHandler();\r\n      this.canvas.renderAll();\r\n      return this;\r\n    },\r\n\r\n    exitEditingOnOthers: function(canvas) {\r\n      if (canvas._iTextInstances) {\r\n        canvas._iTextInstances.forEach(function(obj) {\r\n          obj.selected = false;\r\n          if (obj.isEditing) {\r\n            obj.exitEditing();\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Initializes \"mousemove\" event handler\r\n     */\r\n    initMouseMoveHandler: function() {\r\n      this.canvas.on('mouse:move', this.mouseMoveHandler);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    mouseMoveHandler: function(options) {\r\n      if (!this.__isMousedown || !this.isEditing) {\r\n        return;\r\n      }\r\n\r\n      var newSelectionStart = this.getSelectionStartFromPointer(options.e),\r\n          currentStart = this.selectionStart,\r\n          currentEnd = this.selectionEnd;\r\n      if (newSelectionStart === this.__selectionStartOnMouseDown) {\r\n        return;\r\n      }\r\n      if (newSelectionStart > this.__selectionStartOnMouseDown) {\r\n        this.selectionStart = this.__selectionStartOnMouseDown;\r\n        this.selectionEnd = newSelectionStart;\r\n      }\r\n      else {\r\n        this.selectionStart = newSelectionStart;\r\n        this.selectionEnd = this.__selectionStartOnMouseDown;\r\n      }\r\n      if (this.selectionStart !== currentStart || this.selectionEnd !== currentEnd) {\r\n        this._fireSelectionChanged();\r\n        this._updateTextarea();\r\n        this.renderCursorOrSelection();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setEditingProps: function() {\r\n      this.hoverCursor = 'text';\r\n\r\n      if (this.canvas) {\r\n        this.canvas.defaultCursor = this.canvas.moveCursor = 'text';\r\n      }\r\n\r\n      this.borderColor = this.editingBorderColor;\r\n\r\n      this.hasControls = this.selectable = false;\r\n      this.lockMovementX = this.lockMovementY = true;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _updateTextarea: function() {\r\n      if (!this.hiddenTextarea || this.inCompositionMode) {\r\n        return;\r\n      }\r\n      this.cursorOffsetCache = { };\r\n      this.hiddenTextarea.value = this.text;\r\n      this.hiddenTextarea.selectionStart = this.selectionStart;\r\n      this.hiddenTextarea.selectionEnd = this.selectionEnd;\r\n      if (this.selectionStart === this.selectionEnd) {\r\n        var style = this._calcTextareaPosition();\r\n        this.hiddenTextarea.style.left = style.left;\r\n        this.hiddenTextarea.style.top = style.top;\r\n        this.hiddenTextarea.style.fontSize = style.fontSize;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @return {Object} style contains style for hiddenTextarea\r\n     */\r\n    _calcTextareaPosition: function() {\r\n      if (!this.canvas) {\r\n        return { x: 1, y: 1 };\r\n      }\r\n      var chars = this.text.split(''),\r\n          boundaries = this._getCursorBoundaries(chars, 'cursor'),\r\n          cursorLocation = this.get2DCursorLocation(),\r\n          lineIndex = cursorLocation.lineIndex,\r\n          charIndex = cursorLocation.charIndex,\r\n          charHeight = this.getCurrentCharFontSize(lineIndex, charIndex),\r\n          leftOffset = (lineIndex === 0 && charIndex === 0)\r\n                    ? this._getLineLeftOffset(this._getLineWidth(this.ctx, lineIndex))\r\n                    : boundaries.leftOffset,\r\n          m = this.calcTransformMatrix(),\r\n          p = {\r\n            x: boundaries.left + leftOffset,\r\n            y: boundaries.top + boundaries.topOffset + charHeight\r\n          },\r\n          upperCanvas = this.canvas.upperCanvasEl,\r\n          maxWidth = upperCanvas.width - charHeight,\r\n          maxHeight = upperCanvas.height - charHeight;\r\n\r\n      p = fabric.util.transformPoint(p, m);\r\n      p = fabric.util.transformPoint(p, this.canvas.viewportTransform);\r\n\r\n      if (p.x < 0) {\r\n        p.x = 0;\r\n      }\r\n      if (p.x > maxWidth) {\r\n        p.x = maxWidth;\r\n      }\r\n      if (p.y < 0) {\r\n        p.y = 0;\r\n      }\r\n      if (p.y > maxHeight) {\r\n        p.y = maxHeight;\r\n      }\r\n\r\n      // add canvas offset on document\r\n      p.x += this.canvas._offset.left;\r\n      p.y += this.canvas._offset.top;\r\n\r\n      return { left: p.x + 'px', top: p.y + 'px', fontSize: charHeight };\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _saveEditingProps: function() {\r\n      this._savedProps = {\r\n        hasControls: this.hasControls,\r\n        borderColor: this.borderColor,\r\n        lockMovementX: this.lockMovementX,\r\n        lockMovementY: this.lockMovementY,\r\n        hoverCursor: this.hoverCursor,\r\n        defaultCursor: this.canvas && this.canvas.defaultCursor,\r\n        moveCursor: this.canvas && this.canvas.moveCursor\r\n      };\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _restoreEditingProps: function() {\r\n      if (!this._savedProps) {\r\n        return;\r\n      }\r\n\r\n      this.hoverCursor = this._savedProps.overCursor;\r\n      this.hasControls = this._savedProps.hasControls;\r\n      this.borderColor = this._savedProps.borderColor;\r\n      this.lockMovementX = this._savedProps.lockMovementX;\r\n      this.lockMovementY = this._savedProps.lockMovementY;\r\n\r\n      if (this.canvas) {\r\n        this.canvas.defaultCursor = this._savedProps.defaultCursor;\r\n        this.canvas.moveCursor = this._savedProps.moveCursor;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Exits from editing state\r\n     * @return {fabric.IText} thisArg\r\n     * @chainable\r\n     */\r\n    exitEditing: function() {\r\n      var isTextChanged = (this._textBeforeEdit !== this.text);\r\n      this.selected = false;\r\n      this.isEditing = false;\r\n      this.selectable = true;\r\n\r\n      this.selectionEnd = this.selectionStart;\r\n      this.hiddenTextarea.blur && this.hiddenTextarea.blur();\r\n      this.hiddenTextarea && this.canvas && this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea);\r\n      this.hiddenTextarea = null;\r\n\r\n      this.abortCursorAnimation();\r\n      this._restoreEditingProps();\r\n      this._currentCursorOpacity = 0;\r\n\r\n      this.fire('editing:exited');\r\n      isTextChanged && this.fire('modified');\r\n      if (this.canvas) {\r\n        this.canvas.off('mouse:move', this.mouseMoveHandler);\r\n        this.canvas.fire('text:editing:exited', { target: this });\r\n        isTextChanged && this.canvas.fire('object:modified', { target: this });\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _removeExtraneousStyles: function() {\r\n      for (var prop in this.styles) {\r\n        if (!this._textLines[prop]) {\r\n          delete this.styles[prop];\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _removeCharsFromTo: function(start, end) {\r\n      while (end !== start) {\r\n        this._removeSingleCharAndStyle(start + 1);\r\n        end--;\r\n      }\r\n      this.selectionStart = start;\r\n      this.selectionEnd = start;\r\n    },\r\n\r\n    _removeSingleCharAndStyle: function(index) {\r\n      var isBeginningOfLine = this.text[index - 1] === '\\n',\r\n          indexStyle        = isBeginningOfLine ? index : index - 1;\r\n      this.removeStyleObject(isBeginningOfLine, indexStyle);\r\n      this.text = this.text.slice(0, index - 1) +\r\n        this.text.slice(index);\r\n\r\n      this._textLines = this._splitTextIntoLines();\r\n    },\r\n\r\n    /**\r\n     * Inserts characters where cursor is (replacing selection if one exists)\r\n     * @param {String} _chars Characters to insert\r\n     * @param {Boolean} useCopiedStyle use fabric.copiedTextStyle\r\n     */\r\n    insertChars: function(_chars, useCopiedStyle) {\r\n      var style;\r\n\r\n      if (this.selectionEnd - this.selectionStart > 1) {\r\n        this._removeCharsFromTo(this.selectionStart, this.selectionEnd);\r\n      }\r\n      //short circuit for block paste\r\n      if (!useCopiedStyle && this.isEmptyStyles()) {\r\n        this.insertChar(_chars, false);\r\n        return;\r\n      }\r\n      for (var i = 0, len = _chars.length; i < len; i++) {\r\n        if (useCopiedStyle) {\r\n          style = fabric.copiedTextStyle[i];\r\n        }\r\n        this.insertChar(_chars[i], i < len - 1, style);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Inserts a character where cursor is\r\n     * @param {String} _char Characters to insert\r\n     * @param {Boolean} skipUpdate trigger rendering and updates at the end of text insert\r\n     * @param {Object} styleObject Style to be inserted for the new char\r\n     */\r\n    insertChar: function(_char, skipUpdate, styleObject) {\r\n      var isEndOfLine = this.text[this.selectionStart] === '\\n';\r\n      this.text = this.text.slice(0, this.selectionStart) +\r\n        _char + this.text.slice(this.selectionEnd);\r\n      this._textLines = this._splitTextIntoLines();\r\n      this.insertStyleObjects(_char, isEndOfLine, styleObject);\r\n      this.selectionStart += _char.length;\r\n      this.selectionEnd = this.selectionStart;\r\n      if (skipUpdate) {\r\n        return;\r\n      }\r\n      this._updateTextarea();\r\n      this.setCoords();\r\n      this._fireSelectionChanged();\r\n      this.fire('changed');\r\n      this.canvas && this.canvas.fire('text:changed', { target: this });\r\n      this.canvas && this.canvas.renderAll();\r\n    },\r\n\r\n    /**\r\n     * Inserts new style object\r\n     * @param {Number} lineIndex Index of a line\r\n     * @param {Number} charIndex Index of a char\r\n     * @param {Boolean} isEndOfLine True if it's end of line\r\n     */\r\n    insertNewlineStyleObject: function(lineIndex, charIndex, isEndOfLine) {\r\n\r\n      this.shiftLineStyles(lineIndex, +1);\r\n\r\n      if (!this.styles[lineIndex + 1]) {\r\n        this.styles[lineIndex + 1] = {};\r\n      }\r\n\r\n      var currentCharStyle = {},\r\n          newLineStyles    = {};\r\n\r\n      if (this.styles[lineIndex] && this.styles[lineIndex][charIndex - 1]) {\r\n        currentCharStyle = this.styles[lineIndex][charIndex - 1];\r\n      }\r\n\r\n      // if there's nothing after cursor,\r\n      // we clone current char style onto the next (otherwise empty) line\r\n      if (isEndOfLine) {\r\n        newLineStyles[0] = clone(currentCharStyle);\r\n        this.styles[lineIndex + 1] = newLineStyles;\r\n      }\r\n      // otherwise we clone styles of all chars\r\n      // after cursor onto the next line, from the beginning\r\n      else {\r\n        for (var index in this.styles[lineIndex]) {\r\n          if (parseInt(index, 10) >= charIndex) {\r\n            newLineStyles[parseInt(index, 10) - charIndex] = this.styles[lineIndex][index];\r\n            // remove lines from the previous line since they're on a new line now\r\n            delete this.styles[lineIndex][index];\r\n          }\r\n        }\r\n        this.styles[lineIndex + 1] = newLineStyles;\r\n      }\r\n      this._forceClearCache = true;\r\n    },\r\n\r\n    /**\r\n     * Inserts style object for a given line/char index\r\n     * @param {Number} lineIndex Index of a line\r\n     * @param {Number} charIndex Index of a char\r\n     * @param {Object} [style] Style object to insert, if given\r\n     */\r\n    insertCharStyleObject: function(lineIndex, charIndex, style) {\r\n\r\n      var currentLineStyles       = this.styles[lineIndex],\r\n          currentLineStylesCloned = clone(currentLineStyles);\r\n\r\n      if (charIndex === 0 && !style) {\r\n        charIndex = 1;\r\n      }\r\n\r\n      // shift all char styles by 1 forward\r\n      // 0,1,2,3 -> (charIndex=2) -> 0,1,3,4 -> (insert 2) -> 0,1,2,3,4\r\n      for (var index in currentLineStylesCloned) {\r\n        var numericIndex = parseInt(index, 10);\r\n\r\n        if (numericIndex >= charIndex) {\r\n          currentLineStyles[numericIndex + 1] = currentLineStylesCloned[numericIndex];\r\n\r\n          // only delete the style if there was nothing moved there\r\n          if (!currentLineStylesCloned[numericIndex - 1]) {\r\n            delete currentLineStyles[numericIndex];\r\n          }\r\n        }\r\n      }\r\n\r\n      this.styles[lineIndex][charIndex] =\r\n        style || clone(currentLineStyles[charIndex - 1]);\r\n      this._forceClearCache = true;\r\n    },\r\n\r\n    /**\r\n     * Inserts style object(s)\r\n     * @param {String} _chars Characters at the location where style is inserted\r\n     * @param {Boolean} isEndOfLine True if it's end of line\r\n     * @param {Object} [styleObject] Style to insert\r\n     */\r\n    insertStyleObjects: function(_chars, isEndOfLine, styleObject) {\r\n      // removed shortcircuit over isEmptyStyles\r\n\r\n      var cursorLocation = this.get2DCursorLocation(),\r\n          lineIndex      = cursorLocation.lineIndex,\r\n          charIndex      = cursorLocation.charIndex;\r\n\r\n      if (!this._getLineStyle(lineIndex)) {\r\n        this._setLineStyle(lineIndex, {});\r\n      }\r\n\r\n      if (_chars === '\\n') {\r\n        this.insertNewlineStyleObject(lineIndex, charIndex, isEndOfLine);\r\n      }\r\n      else {\r\n        this.insertCharStyleObject(lineIndex, charIndex, styleObject);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Shifts line styles up or down\r\n     * @param {Number} lineIndex Index of a line\r\n     * @param {Number} offset Can be -1 or +1\r\n     */\r\n    shiftLineStyles: function(lineIndex, offset) {\r\n      // shift all line styles by 1 upward\r\n      var clonedStyles = clone(this.styles);\r\n      for (var line in this.styles) {\r\n        var numericLine = parseInt(line, 10);\r\n        if (numericLine > lineIndex) {\r\n          this.styles[numericLine + offset] = clonedStyles[numericLine];\r\n          if (!clonedStyles[numericLine - offset]) {\r\n            delete this.styles[numericLine];\r\n          }\r\n        }\r\n      }\r\n      //TODO: evaluate if delete old style lines with offset -1\r\n    },\r\n\r\n    /**\r\n     * Removes style object\r\n     * @param {Boolean} isBeginningOfLine True if cursor is at the beginning of line\r\n     * @param {Number} [index] Optional index. When not given, current selectionStart is used.\r\n     */\r\n    removeStyleObject: function(isBeginningOfLine, index) {\r\n\r\n      var cursorLocation = this.get2DCursorLocation(index),\r\n          lineIndex      = cursorLocation.lineIndex,\r\n          charIndex      = cursorLocation.charIndex;\r\n\r\n      this._removeStyleObject(isBeginningOfLine, cursorLocation, lineIndex, charIndex);\r\n    },\r\n\r\n    _getTextOnPreviousLine: function(lIndex) {\r\n      return this._textLines[lIndex - 1];\r\n    },\r\n\r\n    _removeStyleObject: function(isBeginningOfLine, cursorLocation, lineIndex, charIndex) {\r\n\r\n      if (isBeginningOfLine) {\r\n        var textOnPreviousLine     = this._getTextOnPreviousLine(cursorLocation.lineIndex),\r\n            newCharIndexOnPrevLine = textOnPreviousLine ? textOnPreviousLine.length : 0;\r\n\r\n        if (!this.styles[lineIndex - 1]) {\r\n          this.styles[lineIndex - 1] = {};\r\n        }\r\n        for (charIndex in this.styles[lineIndex]) {\r\n          this.styles[lineIndex - 1][parseInt(charIndex, 10) + newCharIndexOnPrevLine]\r\n            = this.styles[lineIndex][charIndex];\r\n        }\r\n        this.shiftLineStyles(cursorLocation.lineIndex, -1);\r\n      }\r\n      else {\r\n        var currentLineStyles = this.styles[lineIndex];\r\n\r\n        if (currentLineStyles) {\r\n          delete currentLineStyles[charIndex];\r\n        }\r\n        var currentLineStylesCloned = clone(currentLineStyles);\r\n        // shift all styles by 1 backwards\r\n        for (var i in currentLineStylesCloned) {\r\n          var numericIndex = parseInt(i, 10);\r\n          if (numericIndex >= charIndex && numericIndex !== 0) {\r\n            currentLineStyles[numericIndex - 1] = currentLineStylesCloned[numericIndex];\r\n            delete currentLineStyles[numericIndex];\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Inserts new line\r\n     */\r\n    insertNewline: function() {\r\n      this.insertChars('\\n');\r\n    },\r\n\r\n    /**\r\n     * Set the selectionStart and selectionEnd according to the ne postion of cursor\r\n     * mimic the key - mouse navigation when shift is pressed.\r\n     */\r\n    setSelectionStartEndWithShift: function(start, end, newSelection) {\r\n      if (newSelection <= start) {\r\n        if (end === start) {\r\n          this._selectionDirection = 'left';\r\n        }\r\n        else if (this._selectionDirection === 'right') {\r\n          this._selectionDirection = 'left';\r\n          this.selectionEnd = start;\r\n        }\r\n        this.selectionStart = newSelection;\r\n      }\r\n      else if (newSelection > start && newSelection < end) {\r\n        if (this._selectionDirection === 'right') {\r\n          this.selectionEnd = newSelection;\r\n        }\r\n        else {\r\n          this.selectionStart = newSelection;\r\n        }\r\n      }\r\n      else {\r\n        // newSelection is > selection start and end\r\n        if (end === start) {\r\n          this._selectionDirection = 'right';\r\n        }\r\n        else if (this._selectionDirection === 'left') {\r\n          this._selectionDirection = 'right';\r\n          this.selectionStart = end;\r\n        }\r\n        this.selectionEnd = newSelection;\r\n      }\r\n    },\r\n\r\n    setSelectionInBoundaries: function() {\r\n      var length = this.text.length;\r\n      if (this.selectionStart > length) {\r\n        this.selectionStart = length;\r\n      }\r\n      else if (this.selectionStart < 0) {\r\n        this.selectionStart = 0;\r\n      }\r\n      if (this.selectionEnd > length) {\r\n        this.selectionEnd = length;\r\n      }\r\n      else if (this.selectionEnd < 0) {\r\n        this.selectionEnd = 0;\r\n      }\r\n    }\r\n  });\r\n})();\r\n\r\n\r\nfabric.util.object.extend(fabric.IText.prototype, /** @lends fabric.IText.prototype */ {\r\n  /**\r\n   * Initializes \"dbclick\" event handler\r\n   */\r\n  initDoubleClickSimulation: function() {\r\n\r\n    // for double click\r\n    this.__lastClickTime = +new Date();\r\n\r\n    // for triple click\r\n    this.__lastLastClickTime = +new Date();\r\n\r\n    this.__lastPointer = { };\r\n\r\n    this.on('mousedown', this.onMouseDown.bind(this));\r\n  },\r\n\r\n  onMouseDown: function(options) {\r\n\r\n    this.__newClickTime = +new Date();\r\n    var newPointer = this.canvas.getPointer(options.e);\r\n\r\n    if (this.isTripleClick(newPointer)) {\r\n      this.fire('tripleclick', options);\r\n      this._stopEvent(options.e);\r\n    }\r\n    else if (this.isDoubleClick(newPointer)) {\r\n      this.fire('dblclick', options);\r\n      this._stopEvent(options.e);\r\n    }\r\n\r\n    this.__lastLastClickTime = this.__lastClickTime;\r\n    this.__lastClickTime = this.__newClickTime;\r\n    this.__lastPointer = newPointer;\r\n    this.__lastIsEditing = this.isEditing;\r\n    this.__lastSelected = this.selected;\r\n  },\r\n\r\n  isDoubleClick: function(newPointer) {\r\n    return this.__newClickTime - this.__lastClickTime < 500 &&\r\n        this.__lastPointer.x === newPointer.x &&\r\n        this.__lastPointer.y === newPointer.y && this.__lastIsEditing;\r\n  },\r\n\r\n  isTripleClick: function(newPointer) {\r\n    return this.__newClickTime - this.__lastClickTime < 500 &&\r\n        this.__lastClickTime - this.__lastLastClickTime < 500 &&\r\n        this.__lastPointer.x === newPointer.x &&\r\n        this.__lastPointer.y === newPointer.y;\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _stopEvent: function(e) {\r\n    e.preventDefault && e.preventDefault();\r\n    e.stopPropagation && e.stopPropagation();\r\n  },\r\n\r\n  /**\r\n   * Initializes event handlers related to cursor or selection\r\n   */\r\n  initCursorSelectionHandlers: function() {\r\n    this.initSelectedHandler();\r\n    this.initMousedownHandler();\r\n    this.initMouseupHandler();\r\n    this.initClicks();\r\n  },\r\n\r\n  /**\r\n   * Initializes double and triple click event handlers\r\n   */\r\n  initClicks: function() {\r\n    this.on('dblclick', function(options) {\r\n      this.selectWord(this.getSelectionStartFromPointer(options.e));\r\n    });\r\n    this.on('tripleclick', function(options) {\r\n      this.selectLine(this.getSelectionStartFromPointer(options.e));\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Initializes \"mousedown\" event handler\r\n   */\r\n  initMousedownHandler: function() {\r\n    this.on('mousedown', function(options) {\r\n      if (!this.editable) {\r\n        return;\r\n      }\r\n      var pointer = this.canvas.getPointer(options.e);\r\n\r\n      this.__mousedownX = pointer.x;\r\n      this.__mousedownY = pointer.y;\r\n      this.__isMousedown = true;\r\n\r\n      if (this.selected) {\r\n        this.setCursorByClick(options.e);\r\n      }\r\n\r\n      if (this.isEditing) {\r\n        this.__selectionStartOnMouseDown = this.selectionStart;\r\n        if (this.selectionStart === this.selectionEnd) {\r\n          this.abortCursorAnimation();\r\n        }\r\n        this.renderCursorOrSelection();\r\n      }\r\n    });\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _isObjectMoved: function(e) {\r\n    var pointer = this.canvas.getPointer(e);\r\n\r\n    return this.__mousedownX !== pointer.x ||\r\n           this.__mousedownY !== pointer.y;\r\n  },\r\n\r\n  /**\r\n   * Initializes \"mouseup\" event handler\r\n   */\r\n  initMouseupHandler: function() {\r\n    this.on('mouseup', function(options) {\r\n      this.__isMousedown = false;\r\n      if (!this.editable || this._isObjectMoved(options.e)) {\r\n        return;\r\n      }\r\n\r\n      if (this.__lastSelected && !this.__corner) {\r\n        this.enterEditing(options.e);\r\n        if (this.selectionStart === this.selectionEnd) {\r\n          this.initDelayedCursor(true);\r\n        }\r\n        else {\r\n          this.renderCursorOrSelection();\r\n        }\r\n      }\r\n      this.selected = true;\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Changes cursor location in a text depending on passed pointer (x/y) object\r\n   * @param {Event} e Event object\r\n   */\r\n  setCursorByClick: function(e) {\r\n    var newSelection = this.getSelectionStartFromPointer(e),\r\n        start = this.selectionStart, end = this.selectionEnd;\r\n    if (e.shiftKey) {\r\n      this.setSelectionStartEndWithShift(start, end, newSelection);\r\n    }\r\n    else {\r\n      this.selectionStart = newSelection;\r\n      this.selectionEnd = newSelection;\r\n    }\r\n    this._fireSelectionChanged();\r\n    this._updateTextarea();\r\n  },\r\n\r\n  /**\r\n   * Returns index of a character corresponding to where an object was clicked\r\n   * @param {Event} e Event object\r\n   * @return {Number} Index of a character\r\n   */\r\n  getSelectionStartFromPointer: function(e) {\r\n    var mouseOffset = this.getLocalPointer(e),\r\n        prevWidth = 0,\r\n        width = 0,\r\n        height = 0,\r\n        charIndex = 0,\r\n        newSelectionStart,\r\n        line;\r\n\r\n    for (var i = 0, len = this._textLines.length; i < len; i++) {\r\n      line = this._textLines[i];\r\n      height += this._getHeightOfLine(this.ctx, i) * this.scaleY;\r\n\r\n      var widthOfLine = this._getLineWidth(this.ctx, i),\r\n          lineLeftOffset = this._getLineLeftOffset(widthOfLine);\r\n\r\n      width = lineLeftOffset * this.scaleX;\r\n\r\n      for (var j = 0, jlen = line.length; j < jlen; j++) {\r\n\r\n        prevWidth = width;\r\n\r\n        width += this._getWidthOfChar(this.ctx, line[j], i, this.flipX ? jlen - j : j) *\r\n                 this.scaleX;\r\n\r\n        if (height <= mouseOffset.y || width <= mouseOffset.x) {\r\n          charIndex++;\r\n          continue;\r\n        }\r\n\r\n        return this._getNewSelectionStartFromOffset(\r\n          mouseOffset, prevWidth, width, charIndex + i, jlen);\r\n      }\r\n\r\n      if (mouseOffset.y < height) {\r\n        //this happens just on end of lines.\r\n        return this._getNewSelectionStartFromOffset(\r\n          mouseOffset, prevWidth, width, charIndex + i - 1, jlen);\r\n      }\r\n    }\r\n\r\n    // clicked somewhere after all chars, so set at the end\r\n    if (typeof newSelectionStart === 'undefined') {\r\n      return this.text.length;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _getNewSelectionStartFromOffset: function(mouseOffset, prevWidth, width, index, jlen) {\r\n\r\n    var distanceBtwLastCharAndCursor = mouseOffset.x - prevWidth,\r\n        distanceBtwNextCharAndCursor = width - mouseOffset.x,\r\n        offset = distanceBtwNextCharAndCursor > distanceBtwLastCharAndCursor ? 0 : 1,\r\n        newSelectionStart = index + offset;\r\n\r\n    // if object is horizontally flipped, mirror cursor location from the end\r\n    if (this.flipX) {\r\n      newSelectionStart = jlen - newSelectionStart;\r\n    }\r\n\r\n    if (newSelectionStart > this.text.length) {\r\n      newSelectionStart = this.text.length;\r\n    }\r\n\r\n    return newSelectionStart;\r\n  }\r\n});\r\n\r\n\r\nfabric.util.object.extend(fabric.IText.prototype, /** @lends fabric.IText.prototype */ {\r\n\r\n  /**\r\n   * Initializes hidden textarea (needed to bring up keyboard in iOS)\r\n   */\r\n  initHiddenTextarea: function() {\r\n    this.hiddenTextarea = fabric.document.createElement('textarea');\r\n    this.hiddenTextarea.setAttribute('autocapitalize', 'off');\r\n    var style = this._calcTextareaPosition();\r\n    this.hiddenTextarea.style.cssText = 'position: absolute; top: ' + style.top + '; left: ' + style.left + ';'\r\n                                        + ' opacity: 0; width: 0px; height: 0px; z-index: -999;';\r\n    fabric.document.body.appendChild(this.hiddenTextarea);\r\n\r\n    fabric.util.addListener(this.hiddenTextarea, 'keydown', this.onKeyDown.bind(this));\r\n    fabric.util.addListener(this.hiddenTextarea, 'keyup', this.onKeyUp.bind(this));\r\n    fabric.util.addListener(this.hiddenTextarea, 'input', this.onInput.bind(this));\r\n    fabric.util.addListener(this.hiddenTextarea, 'copy', this.copy.bind(this));\r\n    fabric.util.addListener(this.hiddenTextarea, 'cut', this.cut.bind(this));\r\n    fabric.util.addListener(this.hiddenTextarea, 'paste', this.paste.bind(this));\r\n    fabric.util.addListener(this.hiddenTextarea, 'compositionstart', this.onCompositionStart.bind(this));\r\n    fabric.util.addListener(this.hiddenTextarea, 'compositionupdate', this.onCompositionUpdate.bind(this));\r\n    fabric.util.addListener(this.hiddenTextarea, 'compositionend', this.onCompositionEnd.bind(this));\r\n\r\n    if (!this._clickHandlerInitialized && this.canvas) {\r\n      fabric.util.addListener(this.canvas.upperCanvasEl, 'click', this.onClick.bind(this));\r\n      this._clickHandlerInitialized = true;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _keysMap: {\r\n    8:  'removeChars',\r\n    9:  'exitEditing',\r\n    27: 'exitEditing',\r\n    13: 'insertNewline',\r\n    33: 'moveCursorUp',\r\n    34: 'moveCursorDown',\r\n    35: 'moveCursorRight',\r\n    36: 'moveCursorLeft',\r\n    37: 'moveCursorLeft',\r\n    38: 'moveCursorUp',\r\n    39: 'moveCursorRight',\r\n    40: 'moveCursorDown',\r\n    46: 'forwardDelete'\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _ctrlKeysMapUp: {\r\n    67: 'copy',\r\n    88: 'cut'\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _ctrlKeysMapDown: {\r\n    65: 'selectAll'\r\n  },\r\n\r\n  onClick: function() {\r\n    // No need to trigger click event here, focus is enough to have the keyboard appear on Android\r\n    this.hiddenTextarea && this.hiddenTextarea.focus();\r\n  },\r\n\r\n  /**\r\n   * Handles keyup event\r\n   * @param {Event} e Event object\r\n   */\r\n  onKeyDown: function(e) {\r\n    if (!this.isEditing) {\r\n      return;\r\n    }\r\n    if (e.keyCode in this._keysMap) {\r\n      this[this._keysMap[e.keyCode]](e);\r\n    }\r\n    else if ((e.keyCode in this._ctrlKeysMapDown) && (e.ctrlKey || e.metaKey)) {\r\n      this[this._ctrlKeysMapDown[e.keyCode]](e);\r\n    }\r\n    else {\r\n      return;\r\n    }\r\n    e.stopImmediatePropagation();\r\n    e.preventDefault();\r\n    this.canvas && this.canvas.renderAll();\r\n  },\r\n\r\n  /**\r\n   * Handles keyup event\r\n   * We handle KeyUp because ie11 and edge have difficulties copy/pasting\r\n   * if a copy/cut event fired, keyup is dismissed\r\n   * @param {Event} e Event object\r\n   */\r\n  onKeyUp: function(e) {\r\n    if (!this.isEditing || this._copyDone) {\r\n      this._copyDone = false;\r\n      return;\r\n    }\r\n    if ((e.keyCode in this._ctrlKeysMapUp) && (e.ctrlKey || e.metaKey)) {\r\n      this[this._ctrlKeysMapUp[e.keyCode]](e);\r\n    }\r\n    else {\r\n      return;\r\n    }\r\n    e.stopImmediatePropagation();\r\n    e.preventDefault();\r\n    this.canvas && this.canvas.renderAll();\r\n  },\r\n\r\n  /**\r\n   * Handles onInput event\r\n   * @param {Event} e Event object\r\n   */\r\n  onInput: function(e) {\r\n    if (!this.isEditing || this.inCompositionMode) {\r\n      return;\r\n    }\r\n    var offset = this.selectionStart || 0,\r\n        offsetEnd = this.selectionEnd || 0,\r\n        textLength = this.text.length,\r\n        newTextLength = this.hiddenTextarea.value.length,\r\n        diff, charsToInsert, start;\r\n    if (newTextLength > textLength) {\r\n      //we added some character\r\n      start = this._selectionDirection === 'left' ? offsetEnd : offset;\r\n      diff = newTextLength - textLength;\r\n      charsToInsert = this.hiddenTextarea.value.slice(start, start + diff);\r\n    }\r\n    else {\r\n      //we selected a portion of text and then input something else.\r\n      //Internet explorer does not trigger this else\r\n      diff = newTextLength - textLength + offsetEnd - offset;\r\n      charsToInsert = this.hiddenTextarea.value.slice(offset, offset + diff);\r\n    }\r\n    this.insertChars(charsToInsert);\r\n    e.stopPropagation();\r\n  },\r\n\r\n  /**\r\n   * Composition start\r\n   */\r\n  onCompositionStart: function() {\r\n    this.inCompositionMode = true;\r\n    this.prevCompositionLength = 0;\r\n    this.compositionStart = this.selectionStart;\r\n  },\r\n\r\n  /**\r\n   * Composition end\r\n   */\r\n  onCompositionEnd: function() {\r\n    this.inCompositionMode = false;\r\n  },\r\n\r\n  /**\r\n   * Composition update\r\n   */\r\n  onCompositionUpdate: function(e) {\r\n    var data = e.data;\r\n    this.selectionStart = this.compositionStart;\r\n    this.selectionEnd = this.selectionEnd === this.selectionStart ?\r\n      this.compositionStart + this.prevCompositionLength : this.selectionEnd;\r\n    this.insertChars(data, false);\r\n    this.prevCompositionLength = data.length;\r\n  },\r\n\r\n  /**\r\n   * Forward delete\r\n   */\r\n  forwardDelete: function(e) {\r\n    if (this.selectionStart === this.selectionEnd) {\r\n      if (this.selectionStart === this.text.length) {\r\n        return;\r\n      }\r\n      this.moveCursorRight(e);\r\n    }\r\n    this.removeChars(e);\r\n  },\r\n\r\n  /**\r\n   * Copies selected text\r\n   * @param {Event} e Event object\r\n   */\r\n  copy: function(e) {\r\n    if (this.selectionStart === this.selectionEnd) {\r\n      //do not cut-copy if no selection\r\n      return;\r\n    }\r\n    var selectedText = this.getSelectedText(),\r\n        clipboardData = this._getClipboardData(e);\r\n\r\n    // Check for backward compatibility with old browsers\r\n    if (clipboardData) {\r\n      clipboardData.setData('text', selectedText);\r\n    }\r\n\r\n    fabric.copiedText = selectedText;\r\n    fabric.copiedTextStyle = fabric.util.object.clone(\r\n      this.getSelectionStyles(\r\n        this.selectionStart,\r\n        this.selectionEnd\r\n      )\r\n    );\r\n    e.stopImmediatePropagation();\r\n    e.preventDefault();\r\n    this._copyDone = true;\r\n  },\r\n\r\n  /**\r\n   * Pastes text\r\n   * @param {Event} e Event object\r\n   */\r\n  paste: function(e) {\r\n    var copiedText = null,\r\n        clipboardData = this._getClipboardData(e),\r\n        useCopiedStyle = true;\r\n\r\n    // Check for backward compatibility with old browsers\r\n    if (clipboardData) {\r\n      copiedText = clipboardData.getData('text').replace(/\\r/g, '');\r\n      if (!fabric.copiedTextStyle || fabric.copiedText !== copiedText) {\r\n        useCopiedStyle = false;\r\n      }\r\n    }\r\n    else {\r\n      copiedText = fabric.copiedText;\r\n    }\r\n\r\n    if (copiedText) {\r\n      this.insertChars(copiedText, useCopiedStyle);\r\n    }\r\n    e.stopImmediatePropagation();\r\n    e.preventDefault();\r\n  },\r\n\r\n  /**\r\n   * Cuts text\r\n   * @param {Event} e Event object\r\n   */\r\n  cut: function(e) {\r\n    if (this.selectionStart === this.selectionEnd) {\r\n      return;\r\n    }\r\n\r\n    this.copy(e);\r\n    this.removeChars(e);\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   * @param {Event} e Event object\r\n   * @return {Object} Clipboard data object\r\n   */\r\n  _getClipboardData: function(e) {\r\n    return (e && e.clipboardData) || fabric.window.clipboardData;\r\n  },\r\n\r\n  /**\r\n   * Finds the width in pixels before the cursor on the same line\r\n   * @private\r\n   * @param {Number} lineIndex\r\n   * @param {Number} charIndex\r\n   * @return {Number} widthBeforeCursor width before cursor\r\n   */\r\n  _getWidthBeforeCursor: function(lineIndex, charIndex) {\r\n    var textBeforeCursor = this._textLines[lineIndex].slice(0, charIndex),\r\n        widthOfLine = this._getLineWidth(this.ctx, lineIndex),\r\n        widthBeforeCursor = this._getLineLeftOffset(widthOfLine), _char;\r\n\r\n    for (var i = 0, len = textBeforeCursor.length; i < len; i++) {\r\n      _char = textBeforeCursor[i];\r\n      widthBeforeCursor += this._getWidthOfChar(this.ctx, _char, lineIndex, i);\r\n    }\r\n    return widthBeforeCursor;\r\n  },\r\n\r\n  /**\r\n   * Gets start offset of a selection\r\n   * @param {Event} e Event object\r\n   * @param {Boolean} isRight\r\n   * @return {Number}\r\n   */\r\n  getDownCursorOffset: function(e, isRight) {\r\n    var selectionProp = this._getSelectionForOffset(e, isRight),\r\n        cursorLocation = this.get2DCursorLocation(selectionProp),\r\n        lineIndex = cursorLocation.lineIndex;\r\n    // if on last line, down cursor goes to end of line\r\n    if (lineIndex === this._textLines.length - 1 || e.metaKey || e.keyCode === 34) {\r\n      // move to the end of a text\r\n      return this.text.length - selectionProp;\r\n    }\r\n    var charIndex = cursorLocation.charIndex,\r\n        widthBeforeCursor = this._getWidthBeforeCursor(lineIndex, charIndex),\r\n        indexOnOtherLine = this._getIndexOnLine(lineIndex + 1, widthBeforeCursor),\r\n        textAfterCursor = this._textLines[lineIndex].slice(charIndex);\r\n\r\n    return textAfterCursor.length + indexOnOtherLine + 2;\r\n  },\r\n\r\n  /**\r\n   * private\r\n   * Helps finding if the offset should be counted from Start or End\r\n   * @param {Event} e Event object\r\n   * @param {Boolean} isRight\r\n   * @return {Number}\r\n   */\r\n  _getSelectionForOffset: function(e, isRight) {\r\n    if (e.shiftKey && this.selectionStart !== this.selectionEnd && isRight) {\r\n      return this.selectionEnd;\r\n    }\r\n    else {\r\n      return this.selectionStart;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @param {Event} e Event object\r\n   * @param {Boolean} isRight\r\n   * @return {Number}\r\n   */\r\n  getUpCursorOffset: function(e, isRight) {\r\n    var selectionProp = this._getSelectionForOffset(e, isRight),\r\n        cursorLocation = this.get2DCursorLocation(selectionProp),\r\n        lineIndex = cursorLocation.lineIndex;\r\n    if (lineIndex === 0 || e.metaKey || e.keyCode === 33) {\r\n      // if on first line, up cursor goes to start of line\r\n      return -selectionProp;\r\n    }\r\n    var charIndex = cursorLocation.charIndex,\r\n        widthBeforeCursor = this._getWidthBeforeCursor(lineIndex, charIndex),\r\n        indexOnOtherLine = this._getIndexOnLine(lineIndex - 1, widthBeforeCursor),\r\n        textBeforeCursor = this._textLines[lineIndex].slice(0, charIndex);\r\n    // return a negative offset\r\n    return -this._textLines[lineIndex - 1].length + indexOnOtherLine - textBeforeCursor.length;\r\n  },\r\n\r\n  /**\r\n   * find for a given width it founds the matching character.\r\n   * @private\r\n   */\r\n  _getIndexOnLine: function(lineIndex, width) {\r\n\r\n    var widthOfLine = this._getLineWidth(this.ctx, lineIndex),\r\n        textOnLine = this._textLines[lineIndex],\r\n        lineLeftOffset = this._getLineLeftOffset(widthOfLine),\r\n        widthOfCharsOnLine = lineLeftOffset,\r\n        indexOnLine = 0,\r\n        foundMatch;\r\n\r\n    for (var j = 0, jlen = textOnLine.length; j < jlen; j++) {\r\n\r\n      var _char = textOnLine[j],\r\n          widthOfChar = this._getWidthOfChar(this.ctx, _char, lineIndex, j);\r\n\r\n      widthOfCharsOnLine += widthOfChar;\r\n\r\n      if (widthOfCharsOnLine > width) {\r\n\r\n        foundMatch = true;\r\n\r\n        var leftEdge = widthOfCharsOnLine - widthOfChar,\r\n            rightEdge = widthOfCharsOnLine,\r\n            offsetFromLeftEdge = Math.abs(leftEdge - width),\r\n            offsetFromRightEdge = Math.abs(rightEdge - width);\r\n\r\n        indexOnLine = offsetFromRightEdge < offsetFromLeftEdge ? j : (j - 1);\r\n\r\n        break;\r\n      }\r\n    }\r\n\r\n    // reached end\r\n    if (!foundMatch) {\r\n      indexOnLine = textOnLine.length - 1;\r\n    }\r\n\r\n    return indexOnLine;\r\n  },\r\n\r\n\r\n  /**\r\n   * Moves cursor down\r\n   * @param {Event} e Event object\r\n   */\r\n  moveCursorDown: function(e) {\r\n    if (this.selectionStart >= this.text.length && this.selectionEnd >= this.text.length) {\r\n      return;\r\n    }\r\n    this._moveCursorUpOrDown('Down', e);\r\n  },\r\n\r\n  /**\r\n   * Moves cursor up\r\n   * @param {Event} e Event object\r\n   */\r\n  moveCursorUp: function(e) {\r\n    if (this.selectionStart === 0 && this.selectionEnd === 0) {\r\n      return;\r\n    }\r\n    this._moveCursorUpOrDown('Up', e);\r\n  },\r\n\r\n  /**\r\n   * Moves cursor up or down, fires the events\r\n   * @param {String} direction 'Up' or 'Down'\r\n   * @param {Event} e Event object\r\n   */\r\n  _moveCursorUpOrDown: function(direction, e) {\r\n    // getUpCursorOffset\r\n    // getDownCursorOffset\r\n    var action = 'get' + direction + 'CursorOffset',\r\n        offset = this[action](e, this._selectionDirection === 'right');\r\n    if (e.shiftKey) {\r\n      this.moveCursorWithShift(offset);\r\n    }\r\n    else {\r\n      this.moveCursorWithoutShift(offset);\r\n    }\r\n    if (offset !== 0) {\r\n      this.setSelectionInBoundaries();\r\n      this.abortCursorAnimation();\r\n      this._currentCursorOpacity = 1;\r\n      this.initDelayedCursor();\r\n      this._fireSelectionChanged();\r\n      this._updateTextarea();\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Moves cursor with shift\r\n   * @param {Number} offset\r\n   */\r\n  moveCursorWithShift: function(offset) {\r\n    var newSelection = this._selectionDirection === 'left'\r\n    ? this.selectionStart + offset\r\n    : this.selectionEnd + offset;\r\n    this.setSelectionStartEndWithShift(this.selectionStart, this.selectionEnd, newSelection);\r\n    return offset !== 0;\r\n  },\r\n\r\n  /**\r\n   * Moves cursor up without shift\r\n   * @param {Number} offset\r\n   */\r\n  moveCursorWithoutShift: function(offset) {\r\n    if (offset < 0) {\r\n      this.selectionStart += offset;\r\n      this.selectionEnd = this.selectionStart;\r\n    }\r\n    else {\r\n      this.selectionEnd += offset;\r\n      this.selectionStart = this.selectionEnd;\r\n    }\r\n    return offset !== 0;\r\n  },\r\n\r\n  /**\r\n   * Moves cursor left\r\n   * @param {Event} e Event object\r\n   */\r\n  moveCursorLeft: function(e) {\r\n    if (this.selectionStart === 0 && this.selectionEnd === 0) {\r\n      return;\r\n    }\r\n    this._moveCursorLeftOrRight('Left', e);\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   * @return {Boolean} true if a change happened\r\n   */\r\n  _move: function(e, prop, direction) {\r\n    var newValue;\r\n    if (e.altKey) {\r\n      newValue = this['findWordBoundary' + direction](this[prop]);\r\n    }\r\n    else if (e.metaKey || e.keyCode === 35 ||  e.keyCode === 36 ) {\r\n      newValue = this['findLineBoundary' + direction](this[prop]);\r\n    }\r\n    else {\r\n      this[prop] += direction === 'Left' ? -1 : 1;\r\n      return true;\r\n    }\r\n    if (typeof newValue !== undefined && this[prop] !== newValue) {\r\n      this[prop] = newValue;\r\n      return true;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _moveLeft: function(e, prop) {\r\n    return this._move(e, prop, 'Left');\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _moveRight: function(e, prop) {\r\n    return this._move(e, prop, 'Right');\r\n  },\r\n\r\n  /**\r\n   * Moves cursor left without keeping selection\r\n   * @param {Event} e\r\n   */\r\n  moveCursorLeftWithoutShift: function(e) {\r\n    var change = true;\r\n    this._selectionDirection = 'left';\r\n\r\n    // only move cursor when there is no selection,\r\n    // otherwise we discard it, and leave cursor on same place\r\n    if (this.selectionEnd === this.selectionStart && this.selectionStart !== 0) {\r\n      change = this._moveLeft(e, 'selectionStart');\r\n\r\n    }\r\n    this.selectionEnd = this.selectionStart;\r\n    return change;\r\n  },\r\n\r\n  /**\r\n   * Moves cursor left while keeping selection\r\n   * @param {Event} e\r\n   */\r\n  moveCursorLeftWithShift: function(e) {\r\n    if (this._selectionDirection === 'right' && this.selectionStart !== this.selectionEnd) {\r\n      return this._moveLeft(e, 'selectionEnd');\r\n    }\r\n    else if (this.selectionStart !== 0){\r\n      this._selectionDirection = 'left';\r\n      return this._moveLeft(e, 'selectionStart');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Moves cursor right\r\n   * @param {Event} e Event object\r\n   */\r\n  moveCursorRight: function(e) {\r\n    if (this.selectionStart >= this.text.length && this.selectionEnd >= this.text.length) {\r\n      return;\r\n    }\r\n    this._moveCursorLeftOrRight('Right', e);\r\n  },\r\n\r\n  /**\r\n   * Moves cursor right or Left, fires event\r\n   * @param {String} direction 'Left', 'Right'\r\n   * @param {Event} e Event object\r\n   */\r\n  _moveCursorLeftOrRight: function(direction, e) {\r\n    var actionName = 'moveCursor' + direction + 'With';\r\n    this._currentCursorOpacity = 1;\r\n\r\n    if (e.shiftKey) {\r\n      actionName += 'Shift';\r\n    }\r\n    else {\r\n      actionName += 'outShift';\r\n    }\r\n    if (this[actionName](e)) {\r\n      this.abortCursorAnimation();\r\n      this.initDelayedCursor();\r\n      this._fireSelectionChanged();\r\n      this._updateTextarea();\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Moves cursor right while keeping selection\r\n   * @param {Event} e\r\n   */\r\n  moveCursorRightWithShift: function(e) {\r\n    if (this._selectionDirection === 'left' && this.selectionStart !== this.selectionEnd) {\r\n      return this._moveRight(e, 'selectionStart');\r\n    }\r\n    else if (this.selectionEnd !== this.text.length) {\r\n      this._selectionDirection = 'right';\r\n      return this._moveRight(e, 'selectionEnd');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Moves cursor right without keeping selection\r\n   * @param {Event} e Event object\r\n   */\r\n  moveCursorRightWithoutShift: function(e) {\r\n    var changed = true;\r\n    this._selectionDirection = 'right';\r\n\r\n    if (this.selectionStart === this.selectionEnd) {\r\n      changed = this._moveRight(e, 'selectionStart');\r\n      this.selectionEnd = this.selectionStart;\r\n    }\r\n    else {\r\n      this.selectionStart = this.selectionEnd;\r\n    }\r\n    return changed;\r\n  },\r\n\r\n  /**\r\n   * Removes characters selected by selection\r\n   * @param {Event} e Event object\r\n   */\r\n  removeChars: function(e) {\r\n    if (this.selectionStart === this.selectionEnd) {\r\n      this._removeCharsNearCursor(e);\r\n    }\r\n    else {\r\n      this._removeCharsFromTo(this.selectionStart, this.selectionEnd);\r\n    }\r\n\r\n    this.setSelectionEnd(this.selectionStart);\r\n\r\n    this._removeExtraneousStyles();\r\n\r\n    this.canvas && this.canvas.renderAll();\r\n\r\n    this.setCoords();\r\n    this.fire('changed');\r\n    this.canvas && this.canvas.fire('text:changed', { target: this });\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   * @param {Event} e Event object\r\n   */\r\n  _removeCharsNearCursor: function(e) {\r\n    if (this.selectionStart === 0) {\r\n      return;\r\n    }\r\n    if (e.metaKey) {\r\n      // remove all till the start of current line\r\n      var leftLineBoundary = this.findLineBoundaryLeft(this.selectionStart);\r\n\r\n      this._removeCharsFromTo(leftLineBoundary, this.selectionStart);\r\n      this.setSelectionStart(leftLineBoundary);\r\n    }\r\n    else if (e.altKey) {\r\n      // remove all till the start of current word\r\n      var leftWordBoundary = this.findWordBoundaryLeft(this.selectionStart);\r\n\r\n      this._removeCharsFromTo(leftWordBoundary, this.selectionStart);\r\n      this.setSelectionStart(leftWordBoundary);\r\n    }\r\n    else {\r\n      this._removeSingleCharAndStyle(this.selectionStart);\r\n      this.setSelectionStart(this.selectionStart - 1);\r\n    }\r\n  }\r\n});\r\n\r\n\r\n/* _TO_SVG_START_ */\r\n(function() {\r\n  var toFixed = fabric.util.toFixed,\r\n      NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS;\r\n\r\n  fabric.util.object.extend(fabric.IText.prototype, /** @lends fabric.IText.prototype */ {\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setSVGTextLineText: function(lineIndex, textSpans, height, textLeftOffset, textTopOffset, textBgRects) {\r\n      if (!this._getLineStyle(lineIndex)) {\r\n        fabric.Text.prototype._setSVGTextLineText.call(this,\r\n          lineIndex, textSpans, height, textLeftOffset, textTopOffset);\r\n      }\r\n      else {\r\n        this._setSVGTextLineChars(\r\n          lineIndex, textSpans, height, textLeftOffset, textBgRects);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _setSVGTextLineChars: function(lineIndex, textSpans, height, textLeftOffset, textBgRects) {\r\n\r\n      var chars = this._textLines[lineIndex],\r\n          charOffset = 0,\r\n          lineLeftOffset = this._getLineLeftOffset(this._getLineWidth(this.ctx, lineIndex)) - this.width / 2,\r\n          lineOffset = this._getSVGLineTopOffset(lineIndex),\r\n          heightOfLine = this._getHeightOfLine(this.ctx, lineIndex);\r\n\r\n      for (var i = 0, len = chars.length; i < len; i++) {\r\n        var styleDecl = this._getStyleDeclaration(lineIndex, i) || { };\r\n\r\n        textSpans.push(\r\n          this._createTextCharSpan(\r\n            chars[i], styleDecl, lineLeftOffset, lineOffset.lineTop + lineOffset.offset, charOffset));\r\n\r\n        var charWidth = this._getWidthOfChar(this.ctx, chars[i], lineIndex, i);\r\n\r\n        if (styleDecl.textBackgroundColor) {\r\n          textBgRects.push(\r\n            this._createTextCharBg(\r\n              styleDecl, lineLeftOffset, lineOffset.lineTop, heightOfLine, charWidth, charOffset));\r\n        }\r\n\r\n        charOffset += charWidth;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _getSVGLineTopOffset: function(lineIndex) {\r\n      var lineTopOffset = 0, lastHeight = 0;\r\n      for (var j = 0; j < lineIndex; j++) {\r\n        lineTopOffset += this._getHeightOfLine(this.ctx, j);\r\n      }\r\n      lastHeight = this._getHeightOfLine(this.ctx, j);\r\n      return {\r\n        lineTop: lineTopOffset,\r\n        offset: (this._fontSizeMult - this._fontSizeFraction) * lastHeight / (this.lineHeight * this._fontSizeMult)\r\n      };\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _createTextCharBg: function(styleDecl, lineLeftOffset, lineTopOffset, heightOfLine, charWidth, charOffset) {\r\n      return [\r\n        '\\t\\t<rect fill=\"', styleDecl.textBackgroundColor,\r\n        '\" x=\"', toFixed(lineLeftOffset + charOffset, NUM_FRACTION_DIGITS),\r\n        '\" y=\"', toFixed(lineTopOffset - this.height / 2, NUM_FRACTION_DIGITS),\r\n        '\" width=\"', toFixed(charWidth, NUM_FRACTION_DIGITS),\r\n        '\" height=\"', toFixed(heightOfLine / this.lineHeight, NUM_FRACTION_DIGITS),\r\n        '\"></rect>\\n'\r\n      ].join('');\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _createTextCharSpan: function(_char, styleDecl, lineLeftOffset, lineTopOffset, charOffset) {\r\n\r\n      var fillStyles = this.getSvgStyles.call(fabric.util.object.extend({\r\n        visible: true,\r\n        fill: this.fill,\r\n        stroke: this.stroke,\r\n        type: 'text',\r\n        getSvgFilter: fabric.Object.prototype.getSvgFilter\r\n      }, styleDecl));\r\n\r\n      return [\r\n        '\\t\\t\\t<tspan x=\"', toFixed(lineLeftOffset + charOffset, NUM_FRACTION_DIGITS), '\" y=\"',\r\n        toFixed(lineTopOffset - this.height / 2, NUM_FRACTION_DIGITS), '\" ',\r\n          (styleDecl.fontFamily ? 'font-family=\"' + styleDecl.fontFamily.replace(/\"/g, '\\'') + '\" ' : ''),\r\n          (styleDecl.fontSize ? 'font-size=\"' + styleDecl.fontSize + '\" ' : ''),\r\n          (styleDecl.fontStyle ? 'font-style=\"' + styleDecl.fontStyle + '\" ' : ''),\r\n          (styleDecl.fontWeight ? 'font-weight=\"' + styleDecl.fontWeight + '\" ' : ''),\r\n          (styleDecl.textDecoration ? 'text-decoration=\"' + styleDecl.textDecoration + '\" ' : ''),\r\n        'style=\"', fillStyles, '\">',\r\n        fabric.util.string.escapeXml(_char),\r\n        '</tspan>\\n'\r\n      ].join('');\r\n    }\r\n  });\r\n})();\r\n/* _TO_SVG_END_ */\r\n\r\n\r\n(function(global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = {}),\r\n      clone  = fabric.util.object.clone;\r\n\r\n  /**\r\n   * Textbox class, based on IText, allows the user to resize the text rectangle\r\n   * and wraps lines automatically. Textboxes have their Y scaling locked, the\r\n   * user can only change width. Height is adjusted automatically based on the\r\n   * wrapping of lines.\r\n   * @class fabric.Textbox\r\n   * @extends fabric.IText\r\n   * @mixes fabric.Observable\r\n   * @return {fabric.Textbox} thisArg\r\n   * @see {@link fabric.Textbox#initialize} for constructor definition\r\n   */\r\n  fabric.Textbox = fabric.util.createClass(fabric.IText, fabric.Observable, {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'textbox',\r\n\r\n    /**\r\n     * Minimum width of textbox, in pixels.\r\n     * @type Number\r\n     * @default\r\n     */\r\n    minWidth: 20,\r\n\r\n    /**\r\n     * Minimum calculated width of a textbox, in pixels.\r\n     * fixed to 2 so that an empty textbox cannot go to 0\r\n     * and is still selectable without text.\r\n     * @type Number\r\n     * @default\r\n     */\r\n    dynamicMinWidth: 2,\r\n\r\n    /**\r\n     * Cached array of text wrapping.\r\n     * @type Array\r\n     */\r\n    __cachedLines: null,\r\n\r\n    /**\r\n     * Override standard Object class values\r\n     */\r\n    lockScalingY: true,\r\n\r\n    /**\r\n     * Override standard Object class values\r\n     */\r\n    lockScalingFlip: true,\r\n\r\n    /**\r\n     * Override standard Object class values\r\n     * Textbox needs this on false\r\n     */\r\n    noScaleCache: false,\r\n\r\n    /**\r\n     * Constructor. Some scaling related property values are forced. Visibility\r\n     * of controls is also fixed; only the rotation and width controls are\r\n     * made available.\r\n     * @param {String} text Text string\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.Textbox} thisArg\r\n     */\r\n    initialize: function(text, options) {\r\n\r\n      this.callSuper('initialize', text, options);\r\n      this.setControlsVisibility(fabric.Textbox.getTextboxControlVisibility());\r\n      this.ctx = this.objectCaching ? this._cacheContext : fabric.util.createCanvasElement().getContext('2d');\r\n      // add width to this list of props that effect line wrapping.\r\n      this._dimensionAffectingProps.push('width');\r\n    },\r\n\r\n    /**\r\n     * Unlike superclass's version of this function, Textbox does not update\r\n     * its width.\r\n     * @param {CanvasRenderingContext2D} ctx Context to use for measurements\r\n     * @private\r\n     * @override\r\n     */\r\n    _initDimensions: function(ctx) {\r\n      if (this.__skipDimension) {\r\n        return;\r\n      }\r\n\r\n      if (!ctx) {\r\n        ctx = fabric.util.createCanvasElement().getContext('2d');\r\n        this._setTextStyles(ctx);\r\n        this.clearContextTop();\r\n      }\r\n\r\n      // clear dynamicMinWidth as it will be different after we re-wrap line\r\n      this.dynamicMinWidth = 0;\r\n\r\n      // wrap lines\r\n      this._textLines = this._splitTextIntoLines(ctx);\r\n      // if after wrapping, the width is smaller than dynamicMinWidth, change the width and re-wrap\r\n      if (this.dynamicMinWidth > this.width) {\r\n        this._set('width', this.dynamicMinWidth);\r\n      }\r\n\r\n      // clear cache and re-calculate height\r\n      this._clearCache();\r\n      this.height = this._getTextHeight(ctx);\r\n    },\r\n\r\n    /**\r\n     * Generate an object that translates the style object so that it is\r\n     * broken up by visual lines (new lines and automatic wrapping).\r\n     * The original text styles object is broken up by actual lines (new lines only),\r\n     * which is only sufficient for Text / IText\r\n     * @private\r\n     */\r\n    _generateStyleMap: function() {\r\n      var realLineCount     = 0,\r\n          realLineCharCount = 0,\r\n          charCount         = 0,\r\n          map               = {};\r\n\r\n      for (var i = 0; i < this._textLines.length; i++) {\r\n        if (this.text[charCount] === '\\n' && i > 0) {\r\n          realLineCharCount = 0;\r\n          charCount++;\r\n          realLineCount++;\r\n        }\r\n        else if (this.text[charCount] === ' ' && i > 0) {\r\n          // this case deals with space's that are removed from end of lines when wrapping\r\n          realLineCharCount++;\r\n          charCount++;\r\n        }\r\n\r\n        map[i] = { line: realLineCount, offset: realLineCharCount };\r\n\r\n        charCount += this._textLines[i].length;\r\n        realLineCharCount += this._textLines[i].length;\r\n      }\r\n\r\n      return map;\r\n    },\r\n\r\n    /**\r\n     * @param {Number} lineIndex\r\n     * @param {Number} charIndex\r\n     * @param {Boolean} [returnCloneOrEmpty=false]\r\n     * @private\r\n     */\r\n    _getStyleDeclaration: function(lineIndex, charIndex, returnCloneOrEmpty) {\r\n      if (this._styleMap) {\r\n        var map = this._styleMap[lineIndex];\r\n        if (!map) {\r\n          return returnCloneOrEmpty ? { } : null;\r\n        }\r\n        lineIndex = map.line;\r\n        charIndex = map.offset + charIndex;\r\n      }\r\n      return this.callSuper('_getStyleDeclaration', lineIndex, charIndex, returnCloneOrEmpty);\r\n    },\r\n\r\n    /**\r\n     * @param {Number} lineIndex\r\n     * @param {Number} charIndex\r\n     * @param {Object} style\r\n     * @private\r\n     */\r\n    _setStyleDeclaration: function(lineIndex, charIndex, style) {\r\n      var map = this._styleMap[lineIndex];\r\n      lineIndex = map.line;\r\n      charIndex = map.offset + charIndex;\r\n\r\n      this.styles[lineIndex][charIndex] = style;\r\n    },\r\n\r\n    /**\r\n     * @param {Number} lineIndex\r\n     * @param {Number} charIndex\r\n     * @private\r\n     */\r\n    _deleteStyleDeclaration: function(lineIndex, charIndex) {\r\n      var map = this._styleMap[lineIndex];\r\n      lineIndex = map.line;\r\n      charIndex = map.offset + charIndex;\r\n\r\n      delete this.styles[lineIndex][charIndex];\r\n    },\r\n\r\n    /**\r\n     * @param {Number} lineIndex\r\n     * @private\r\n     */\r\n    _getLineStyle: function(lineIndex) {\r\n      var map = this._styleMap[lineIndex];\r\n      return this.styles[map.line];\r\n    },\r\n\r\n    /**\r\n     * @param {Number} lineIndex\r\n     * @param {Object} style\r\n     * @private\r\n     */\r\n    _setLineStyle: function(lineIndex, style) {\r\n      var map = this._styleMap[lineIndex];\r\n      this.styles[map.line] = style;\r\n    },\r\n\r\n    /**\r\n     * @param {Number} lineIndex\r\n     * @private\r\n     */\r\n    _deleteLineStyle: function(lineIndex) {\r\n      var map = this._styleMap[lineIndex];\r\n      delete this.styles[map.line];\r\n    },\r\n\r\n    /**\r\n     * Wraps text using the 'width' property of Textbox. First this function\r\n     * splits text on newlines, so we preserve newlines entered by the user.\r\n     * Then it wraps each line using the width of the Textbox by calling\r\n     * _wrapLine().\r\n     * @param {CanvasRenderingContext2D} ctx Context to use for measurements\r\n     * @param {String} text The string of text that is split into lines\r\n     * @returns {Array} Array of lines\r\n     */\r\n    _wrapText: function(ctx, text) {\r\n      var lines = text.split(this._reNewline), wrapped = [], i;\r\n\r\n      for (i = 0; i < lines.length; i++) {\r\n        wrapped = wrapped.concat(this._wrapLine(ctx, lines[i], i));\r\n      }\r\n\r\n      return wrapped;\r\n    },\r\n\r\n    /**\r\n     * Helper function to measure a string of text, given its lineIndex and charIndex offset\r\n     *\r\n     * @param {CanvasRenderingContext2D} ctx\r\n     * @param {String} text\r\n     * @param {number} lineIndex\r\n     * @param {number} charOffset\r\n     * @returns {number}\r\n     * @private\r\n     */\r\n    _measureText: function(ctx, text, lineIndex, charOffset) {\r\n      var width = 0;\r\n      charOffset = charOffset || 0;\r\n      for (var i = 0, len = text.length; i < len; i++) {\r\n        width += this._getWidthOfChar(ctx, text[i], lineIndex, i + charOffset);\r\n      }\r\n      return width;\r\n    },\r\n\r\n    /**\r\n     * Wraps a line of text using the width of the Textbox and a context.\r\n     * @param {CanvasRenderingContext2D} ctx Context to use for measurements\r\n     * @param {String} text The string of text to split into lines\r\n     * @param {Number} lineIndex\r\n     * @returns {Array} Array of line(s) into which the given text is wrapped\r\n     * to.\r\n     */\r\n    _wrapLine: function(ctx, text, lineIndex) {\r\n      var lineWidth        = 0,\r\n          lines            = [],\r\n          line             = '',\r\n          words            = text.split(' '),\r\n          word             = '',\r\n          offset           = 0,\r\n          infix            = ' ',\r\n          wordWidth        = 0,\r\n          infixWidth       = 0,\r\n          largestWordWidth = 0,\r\n          lineJustStarted = true,\r\n          additionalSpace = this._getWidthOfCharSpacing();\r\n\r\n      for (var i = 0; i < words.length; i++) {\r\n        word = words[i];\r\n        wordWidth = this._measureText(ctx, word, lineIndex, offset);\r\n\r\n        offset += word.length;\r\n\r\n        lineWidth += infixWidth + wordWidth - additionalSpace;\r\n\r\n        if (lineWidth >= this.width && !lineJustStarted) {\r\n          lines.push(line);\r\n          line = '';\r\n          lineWidth = wordWidth;\r\n          lineJustStarted = true;\r\n        }\r\n        else {\r\n          lineWidth += additionalSpace;\r\n        }\r\n\r\n        if (!lineJustStarted) {\r\n          line += infix;\r\n        }\r\n        line += word;\r\n\r\n        infixWidth = this._measureText(ctx, infix, lineIndex, offset);\r\n        offset++;\r\n        lineJustStarted = false;\r\n        // keep track of largest word\r\n        if (wordWidth > largestWordWidth) {\r\n          largestWordWidth = wordWidth;\r\n        }\r\n      }\r\n\r\n      i && lines.push(line);\r\n\r\n      if (largestWordWidth > this.dynamicMinWidth) {\r\n        this.dynamicMinWidth = largestWordWidth - additionalSpace;\r\n      }\r\n\r\n      return lines;\r\n    },\r\n    /**\r\n     * Gets lines of text to render in the Textbox. This function calculates\r\n     * text wrapping on the fly everytime it is called.\r\n     * @returns {Array} Array of lines in the Textbox.\r\n     * @override\r\n     */\r\n    _splitTextIntoLines: function(ctx) {\r\n      ctx = ctx || this.ctx;\r\n      var originalAlign = this.textAlign;\r\n      ctx.save();\r\n      this._setTextStyles(ctx);\r\n      this.textAlign = 'left';\r\n      var lines = this._wrapText(ctx, this.text);\r\n      this.textAlign = originalAlign;\r\n      ctx.restore();\r\n      this._textLines = lines;\r\n      this._styleMap = this._generateStyleMap();\r\n      return lines;\r\n    },\r\n\r\n    /**\r\n     * When part of a group, we don't want the Textbox's scale to increase if\r\n     * the group's increases. That's why we reduce the scale of the Textbox by\r\n     * the amount that the group's increases. This is to maintain the effective\r\n     * scale of the Textbox at 1, so that font-size values make sense. Otherwise\r\n     * the same font-size value would result in different actual size depending\r\n     * on the value of the scale.\r\n     * @param {String} key\r\n     * @param {*} value\r\n     */\r\n    setOnGroup: function(key, value) {\r\n      if (key === 'scaleX') {\r\n        this.set('scaleX', Math.abs(1 / value));\r\n        this.set('width', (this.get('width') * value) /\r\n          (typeof this.__oldScaleX === 'undefined' ? 1 : this.__oldScaleX));\r\n        this.__oldScaleX = value;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns 2d representation (lineIndex and charIndex) of cursor (or selection start).\r\n     * Overrides the superclass function to take into account text wrapping.\r\n     *\r\n     * @param {Number} [selectionStart] Optional index. When not given, current selectionStart is used.\r\n     */\r\n    get2DCursorLocation: function(selectionStart) {\r\n      if (typeof selectionStart === 'undefined') {\r\n        selectionStart = this.selectionStart;\r\n      }\r\n\r\n      var numLines = this._textLines.length,\r\n          removed  = 0;\r\n\r\n      for (var i = 0; i < numLines; i++) {\r\n        var line    = this._textLines[i],\r\n            lineLen = line.length;\r\n\r\n        if (selectionStart <= removed + lineLen) {\r\n          return {\r\n            lineIndex: i,\r\n            charIndex: selectionStart - removed\r\n          };\r\n        }\r\n\r\n        removed += lineLen;\r\n\r\n        if (this.text[removed] === '\\n' || this.text[removed] === ' ') {\r\n          removed++;\r\n        }\r\n      }\r\n\r\n      return {\r\n        lineIndex: numLines - 1,\r\n        charIndex: this._textLines[numLines - 1].length\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Overrides superclass function and uses text wrapping data to get cursor\r\n     * boundary offsets instead of the array of chars.\r\n     * @param {Array} chars Unused\r\n     * @param {String} typeOfBoundaries Can be 'cursor' or 'selection'\r\n     * @returns {Object} Object with 'top', 'left', and 'lineLeft' properties set.\r\n     */\r\n    _getCursorBoundariesOffsets: function(chars, typeOfBoundaries) {\r\n      var topOffset      = 0,\r\n          leftOffset     = 0,\r\n          cursorLocation = this.get2DCursorLocation(),\r\n          lineChars      = this._textLines[cursorLocation.lineIndex].split(''),\r\n          lineLeftOffset = this._getLineLeftOffset(this._getLineWidth(this.ctx, cursorLocation.lineIndex));\r\n\r\n      for (var i = 0; i < cursorLocation.charIndex; i++) {\r\n        leftOffset += this._getWidthOfChar(this.ctx, lineChars[i], cursorLocation.lineIndex, i);\r\n      }\r\n\r\n      for (i = 0; i < cursorLocation.lineIndex; i++) {\r\n        topOffset += this._getHeightOfLine(this.ctx, i);\r\n      }\r\n\r\n      if (typeOfBoundaries === 'cursor') {\r\n        topOffset += (1 - this._fontSizeFraction) * this._getHeightOfLine(this.ctx, cursorLocation.lineIndex)\r\n          / this.lineHeight - this.getCurrentCharFontSize(cursorLocation.lineIndex, cursorLocation.charIndex)\r\n          * (1 - this._fontSizeFraction);\r\n      }\r\n\r\n      return {\r\n        top: topOffset,\r\n        left: leftOffset,\r\n        lineLeft: lineLeftOffset\r\n      };\r\n    },\r\n\r\n    getMinWidth: function() {\r\n      return Math.max(this.minWidth, this.dynamicMinWidth);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @method toObject\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toObject: function(propertiesToInclude) {\r\n      return this.callSuper('toObject', ['minWidth'].concat(propertiesToInclude));\r\n    }\r\n  });\r\n  /**\r\n   * Returns fabric.Textbox instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Textbox\r\n   * @param {Object} object Object to create an instance from\r\n   * @param {Function} [callback] Callback to invoke when an fabric.Textbox instance is created\r\n   * @return {fabric.Textbox} instance of fabric.Textbox\r\n   */\r\n  fabric.Textbox.fromObject = function(object, callback) {\r\n    var textbox = new fabric.Textbox(object.text, clone(object));\r\n    callback && callback(textbox);\r\n    return textbox;\r\n  };\r\n  /**\r\n   * Returns the default controls visibility required for Textboxes.\r\n   * @returns {Object}\r\n   */\r\n  fabric.Textbox.getTextboxControlVisibility = function() {\r\n    return {\r\n      tl: false,\r\n      tr: false,\r\n      br: false,\r\n      bl: false,\r\n      ml: true,\r\n      mt: false,\r\n      mr: true,\r\n      mb: false,\r\n      mtr: true\r\n    };\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n\r\n(function() {\r\n\r\n  /**\r\n   * Override _setObjectScale and add Textbox specific resizing behavior. Resizing\r\n   * a Textbox doesn't scale text, it only changes width and makes text wrap automatically.\r\n   */\r\n  var setObjectScaleOverridden = fabric.Canvas.prototype._setObjectScale;\r\n\r\n  fabric.Canvas.prototype._setObjectScale = function(localMouse, transform,\r\n                                                     lockScalingX, lockScalingY, by, lockScalingFlip, _dim) {\r\n\r\n    var t = transform.target;\r\n    if (t instanceof fabric.Textbox) {\r\n      var w = t.width * ((localMouse.x / transform.scaleX) / (t.width + t.strokeWidth));\r\n      if (w >= t.getMinWidth()) {\r\n        t.set('width', w);\r\n        return true;\r\n      }\r\n    }\r\n    else {\r\n      return setObjectScaleOverridden.call(fabric.Canvas.prototype, localMouse, transform,\r\n        lockScalingX, lockScalingY, by, lockScalingFlip, _dim);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Sets controls of this group to the Textbox's special configuration if\r\n   * one is present in the group. Deletes _controlsVisibility otherwise, so that\r\n   * it gets initialized to default value at runtime.\r\n   */\r\n  fabric.Group.prototype._refreshControlsVisibility = function() {\r\n    if (typeof fabric.Textbox === 'undefined') {\r\n      return;\r\n    }\r\n    for (var i = this._objects.length; i--;) {\r\n      if (this._objects[i] instanceof fabric.Textbox) {\r\n        this.setControlsVisibility(fabric.Textbox.getTextboxControlVisibility());\r\n        return;\r\n      }\r\n    }\r\n  };\r\n\r\n  var clone = fabric.util.object.clone;\r\n\r\n  fabric.util.object.extend(fabric.Textbox.prototype, /** @lends fabric.IText.prototype */ {\r\n    /**\r\n     * @private\r\n     */\r\n    _removeExtraneousStyles: function() {\r\n      for (var prop in this._styleMap) {\r\n        if (!this._textLines[prop]) {\r\n          delete this.styles[this._styleMap[prop].line];\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Inserts style object for a given line/char index\r\n     * @param {Number} lineIndex Index of a line\r\n     * @param {Number} charIndex Index of a char\r\n     * @param {Object} [style] Style object to insert, if given\r\n     */\r\n    insertCharStyleObject: function(lineIndex, charIndex, style) {\r\n      // adjust lineIndex and charIndex\r\n      var map = this._styleMap[lineIndex];\r\n      lineIndex = map.line;\r\n      charIndex = map.offset + charIndex;\r\n\r\n      fabric.IText.prototype.insertCharStyleObject.apply(this, [lineIndex, charIndex, style]);\r\n    },\r\n\r\n    /**\r\n     * Inserts new style object\r\n     * @param {Number} lineIndex Index of a line\r\n     * @param {Number} charIndex Index of a char\r\n     * @param {Boolean} isEndOfLine True if it's end of line\r\n     */\r\n    insertNewlineStyleObject: function(lineIndex, charIndex, isEndOfLine) {\r\n      // adjust lineIndex and charIndex\r\n      var map = this._styleMap[lineIndex];\r\n      lineIndex = map.line;\r\n      charIndex = map.offset + charIndex;\r\n\r\n      fabric.IText.prototype.insertNewlineStyleObject.apply(this, [lineIndex, charIndex, isEndOfLine]);\r\n    },\r\n\r\n    /**\r\n     * Shifts line styles up or down. This function is slightly different than the one in\r\n     * itext_behaviour as it takes into account the styleMap.\r\n     *\r\n     * @param {Number} lineIndex Index of a line\r\n     * @param {Number} offset Can be -1 or +1\r\n     */\r\n    shiftLineStyles: function(lineIndex, offset) {\r\n      // shift all line styles by 1 upward\r\n      var clonedStyles = clone(this.styles),\r\n          map          = this._styleMap[lineIndex];\r\n\r\n      // adjust line index\r\n      lineIndex = map.line;\r\n\r\n      for (var line in this.styles) {\r\n        var numericLine = parseInt(line, 10);\r\n\r\n        if (numericLine > lineIndex) {\r\n          this.styles[numericLine + offset] = clonedStyles[numericLine];\r\n\r\n          if (!clonedStyles[numericLine - offset]) {\r\n            delete this.styles[numericLine];\r\n          }\r\n        }\r\n      }\r\n      //TODO: evaluate if delete old style lines with offset -1\r\n    },\r\n\r\n    /**\r\n     * Figure out programatically the text on previous actual line (actual = separated by \\n);\r\n     *\r\n     * @param {Number} lIndex\r\n     * @returns {String}\r\n     * @private\r\n     */\r\n    _getTextOnPreviousLine: function(lIndex) {\r\n      var textOnPreviousLine = this._textLines[lIndex - 1];\r\n\r\n      while (this._styleMap[lIndex - 2] && this._styleMap[lIndex - 2].line === this._styleMap[lIndex - 1].line) {\r\n        textOnPreviousLine = this._textLines[lIndex - 2] + textOnPreviousLine;\r\n\r\n        lIndex--;\r\n      }\r\n\r\n      return textOnPreviousLine;\r\n    },\r\n\r\n    /**\r\n     * Removes style object\r\n     * @param {Boolean} isBeginningOfLine True if cursor is at the beginning of line\r\n     * @param {Number} [index] Optional index. When not given, current selectionStart is used.\r\n     */\r\n    removeStyleObject: function(isBeginningOfLine, index) {\r\n\r\n      var cursorLocation = this.get2DCursorLocation(index),\r\n          map            = this._styleMap[cursorLocation.lineIndex],\r\n          lineIndex      = map.line,\r\n          charIndex      = map.offset + cursorLocation.charIndex;\r\n      this._removeStyleObject(isBeginningOfLine, cursorLocation, lineIndex, charIndex);\r\n    }\r\n  });\r\n})();\r\n\r\n\r\n(function() {\r\n  var override = fabric.IText.prototype._getNewSelectionStartFromOffset;\r\n  /**\r\n   * Overrides the IText implementation and adjusts character index as there is not always a linebreak\r\n   *\r\n   * @param {Number} mouseOffset\r\n   * @param {Number} prevWidth\r\n   * @param {Number} width\r\n   * @param {Number} index\r\n   * @param {Number} jlen\r\n   * @returns {Number}\r\n   */\r\n  fabric.IText.prototype._getNewSelectionStartFromOffset = function(mouseOffset, prevWidth, width, index, jlen) {\r\n    index = override.call(this, mouseOffset, prevWidth, width, index, jlen);\r\n\r\n    // the index passed into the function is padded by the amount of lines from _textLines (to account for \\n)\r\n    // we need to remove this padding, and pad it by actual lines, and / or spaces that are meant to be there\r\n    var tmp     = 0,\r\n        removed = 0;\r\n\r\n    // account for removed characters\r\n    for (var i = 0; i < this._textLines.length; i++) {\r\n      tmp += this._textLines[i].length;\r\n\r\n      if (tmp + removed >= index) {\r\n        break;\r\n      }\r\n\r\n      if (this.text[tmp + removed] === '\\n' || this.text[tmp + removed] === ' ') {\r\n        removed++;\r\n      }\r\n    }\r\n\r\n    return index - i + removed;\r\n  };\r\n})();\r\n\r\n\r\n(function() {\r\n\r\n  if (typeof document !== 'undefined' && typeof window !== 'undefined') {\r\n    return;\r\n  }\r\n\r\n  var DOMParser = require('xmldom').DOMParser,\r\n      URL = require('url'),\r\n      HTTP = require('http'),\r\n      HTTPS = require('https'),\r\n\r\n      Canvas = require('canvas'),\r\n      Image = require('canvas').Image;\r\n\r\n  /** @private */\r\n  function request(url, encoding, callback) {\r\n    var oURL = URL.parse(url);\r\n\r\n    // detect if http or https is used\r\n    if ( !oURL.port ) {\r\n      oURL.port = ( oURL.protocol.indexOf('https:') === 0 ) ? 443 : 80;\r\n    }\r\n\r\n    // assign request handler based on protocol\r\n    var reqHandler = (oURL.protocol.indexOf('https:') === 0 ) ? HTTPS : HTTP,\r\n        req = reqHandler.request({\r\n          hostname: oURL.hostname,\r\n          port: oURL.port,\r\n          path: oURL.path,\r\n          method: 'GET'\r\n        }, function(response) {\r\n          var body = '';\r\n          if (encoding) {\r\n            response.setEncoding(encoding);\r\n          }\r\n          response.on('end', function () {\r\n            callback(body);\r\n          });\r\n          response.on('data', function (chunk) {\r\n            if (response.statusCode === 200) {\r\n              body += chunk;\r\n            }\r\n          });\r\n        });\r\n\r\n    req.on('error', function(err) {\r\n      if (err.errno === process.ECONNREFUSED) {\r\n        fabric.log('ECONNREFUSED: connection refused to ' + oURL.hostname + ':' + oURL.port);\r\n      }\r\n      else {\r\n        fabric.log(err.message);\r\n      }\r\n      callback(null);\r\n    });\r\n\r\n    req.end();\r\n  }\r\n\r\n  /** @private */\r\n  function requestFs(path, callback) {\r\n    var fs = require('fs');\r\n    fs.readFile(path, function (err, data) {\r\n      if (err) {\r\n        fabric.log(err);\r\n        throw err;\r\n      }\r\n      else {\r\n        callback(data);\r\n      }\r\n    });\r\n  }\r\n\r\n  fabric.util.loadImage = function(url, callback, context) {\r\n    function createImageAndCallBack(data) {\r\n      if (data) {\r\n        img.src = new Buffer(data, 'binary');\r\n        // preserving original url, which seems to be lost in node-canvas\r\n        img._src = url;\r\n        callback && callback.call(context, img);\r\n      }\r\n      else {\r\n        img = null;\r\n        callback && callback.call(context, null, true);\r\n      }\r\n    }\r\n    var img = new Image();\r\n    if (url && (url instanceof Buffer || url.indexOf('data') === 0)) {\r\n      img.src = img._src = url;\r\n      callback && callback.call(context, img);\r\n    }\r\n    else if (url && url.indexOf('http') !== 0) {\r\n      requestFs(url, createImageAndCallBack);\r\n    }\r\n    else if (url) {\r\n      request(url, 'binary', createImageAndCallBack);\r\n    }\r\n    else {\r\n      callback && callback.call(context, url);\r\n    }\r\n  };\r\n\r\n  fabric.loadSVGFromURL = function(url, callback, reviver) {\r\n    url = url.replace(/^\\n\\s*/, '').replace(/\\?.*$/, '').trim();\r\n    if (url.indexOf('http') !== 0) {\r\n      requestFs(url, function(body) {\r\n        fabric.loadSVGFromString(body.toString(), callback, reviver);\r\n      });\r\n    }\r\n    else {\r\n      request(url, '', function(body) {\r\n        fabric.loadSVGFromString(body, callback, reviver);\r\n      });\r\n    }\r\n  };\r\n\r\n  fabric.loadSVGFromString = function(string, callback, reviver) {\r\n    var doc = new DOMParser().parseFromString(string);\r\n    fabric.parseSVGDocument(doc.documentElement, function(results, options) {\r\n      callback && callback(results, options);\r\n    }, reviver);\r\n  };\r\n\r\n  fabric.util.getScript = function(url, callback) {\r\n    request(url, '', function(body) {\r\n      // eslint-disable-next-line no-eval\r\n      eval(body);\r\n      callback && callback();\r\n    });\r\n  };\r\n\r\n  // fabric.util.createCanvasElement = function(_, width, height) {\r\n  //   return new Canvas(width, height);\r\n  // }\r\n\r\n  /**\r\n   * Only available when running fabric on node.js\r\n   * @param {Number} width Canvas width\r\n   * @param {Number} height Canvas height\r\n   * @param {Object} [options] Options to pass to FabricCanvas.\r\n   * @param {Object} [nodeCanvasOptions] Options to pass to NodeCanvas.\r\n   * @return {Object} wrapped canvas instance\r\n   */\r\n  fabric.createCanvasForNode = function(width, height, options, nodeCanvasOptions) {\r\n    nodeCanvasOptions = nodeCanvasOptions || options;\r\n\r\n    var canvasEl = fabric.document.createElement('canvas'),\r\n        nodeCanvas = new Canvas(width || 600, height || 600, nodeCanvasOptions),\r\n        nodeCacheCanvas = new Canvas(width || 600, height || 600, nodeCanvasOptions);\r\n\r\n    // jsdom doesn't create style on canvas element, so here be temp. workaround\r\n    canvasEl.style = { };\r\n\r\n    canvasEl.width = nodeCanvas.width;\r\n    canvasEl.height = nodeCanvas.height;\r\n    options = options || { };\r\n    options.nodeCanvas = nodeCanvas;\r\n    options.nodeCacheCanvas = nodeCacheCanvas;\r\n    var FabricCanvas = fabric.Canvas || fabric.StaticCanvas,\r\n        fabricCanvas = new FabricCanvas(canvasEl, options);\r\n    fabricCanvas.nodeCanvas = nodeCanvas;\r\n    fabricCanvas.nodeCacheCanvas = nodeCacheCanvas;\r\n    fabricCanvas.contextContainer = nodeCanvas.getContext('2d');\r\n    fabricCanvas.contextCache = nodeCacheCanvas.getContext('2d');\r\n    fabricCanvas.Font = Canvas.Font;\r\n    return fabricCanvas;\r\n  };\r\n\r\n  var originaInitStatic = fabric.StaticCanvas.prototype._initStatic;\r\n  fabric.StaticCanvas.prototype._initStatic = function(el, options) {\r\n    el = el || fabric.document.createElement('canvas');\r\n    this.nodeCanvas = new Canvas(el.width, el.height);\r\n    this.nodeCacheCanvas = new Canvas(el.width, el.height);\r\n    originaInitStatic.call(this, el, options);\r\n    this.contextContainer = this.nodeCanvas.getContext('2d');\r\n    this.contextCache = this.nodeCacheCanvas.getContext('2d');\r\n    this.Font = Canvas.Font;\r\n  }\r\n\r\n  /** @ignore */\r\n  fabric.StaticCanvas.prototype.createPNGStream = function() {\r\n    return this.nodeCanvas.createPNGStream();\r\n  };\r\n\r\n  fabric.StaticCanvas.prototype.createJPEGStream = function(opts) {\r\n    return this.nodeCanvas.createJPEGStream(opts);\r\n  };\r\n\r\n  fabric.StaticCanvas.prototype._initRetinaScaling = function() {\r\n    if (!this._isRetinaScaling()) {\r\n      return;\r\n    }\r\n\r\n    this.lowerCanvasEl.setAttribute('width', this.width * fabric.devicePixelRatio);\r\n    this.lowerCanvasEl.setAttribute('height', this.height * fabric.devicePixelRatio);\r\n    this.nodeCanvas.width = this.width * fabric.devicePixelRatio;\r\n    this.nodeCanvas.height = this.height * fabric.devicePixelRatio;\r\n    this.contextContainer.scale(fabric.devicePixelRatio, fabric.devicePixelRatio);\r\n    return this;\r\n  };\r\n  if (fabric.Canvas) {\r\n    fabric.Canvas.prototype._initRetinaScaling = fabric.StaticCanvas.prototype._initRetinaScaling;\r\n  }\r\n\r\n  var origSetBackstoreDimension = fabric.StaticCanvas.prototype._setBackstoreDimension;\r\n  fabric.StaticCanvas.prototype._setBackstoreDimension = function(prop, value) {\r\n    origSetBackstoreDimension.call(this, prop, value);\r\n    this.nodeCanvas[prop] = value;\r\n    return this;\r\n  };\r\n  if (fabric.Canvas) {\r\n    fabric.Canvas.prototype._setBackstoreDimension = fabric.StaticCanvas.prototype._setBackstoreDimension;\r\n  }\r\n\r\n})();\r\n\r\n\r\nDrawerJs = {\r\n\r\n  /**\r\n   * All available tool options\r\n   * @memberof DrawerJs\r\n   * @namespace options\r\n   */\r\n\r\n\r\n  /**\r\n   * Global namespace for all DrawerJs plugins.\r\n   *\r\n   * @memberof DrawerJs\r\n   * @namespace DrawerJs.plugins\r\n   */\r\n  plugins: {},\r\n\r\n  /**\r\n   * Global namespace for all DrawerJs utility functions.\r\n   *\r\n   * @memberof DrawerJs\r\n   * @namespace DrawerJs.util\r\n   */\r\n  util: {},\r\n\r\n  /**\r\n   * Global namespace for all DrawerJs utility plugins.\r\n   *\r\n   * @memberof DrawerJs\r\n   * @namespace DrawerJs.utilPlugins\r\n   */\r\n  utilPlugins: {},\r\n\r\n  /**\r\n   * All drawer brush classes.\r\n   *\r\n   * @memberof DrawerJs\r\n   * @namespace DrawerJs.brushes\r\n   */\r\n  brushes: {}\r\n};\r\n\r\nDrawerJs.texts = {\r\n  'Add Drawer': 'Add Drawer',\r\n  'Insert Drawer': 'Insert Drawer',\r\n  'Insert': 'Insert',\r\n  'Free drawing mode': 'Free drawing mode',\r\n  'SimpleWhiteEraser': 'SimpleWhiteEraser',\r\n  'Eraser': 'Eraser',\r\n  'Delete this canvas': 'Delete this canvas',\r\n  'Are you sure want to delete this canvas?': 'Are you sure want to delete this canvas?',\r\n\r\n  // canvas properties popup\r\n  'Size (px)': 'Size (px)',\r\n  'Position': 'Position',\r\n  'Inline': 'Inline',\r\n  'Left': 'Left',\r\n  'Center': 'Center',\r\n  'Right': 'Right',\r\n  'Floating': 'Floating',\r\n  'Canvas properties': 'Canvas properties',\r\n  'Background': 'Background',\r\n  'transparent': 'transparent',\r\n  'Cancel': 'Cancel',\r\n  'Save': 'Save',\r\n\r\n  // Fullscreen plugin\r\n  'Enter fullscreen mode': 'Enter fullscreen mode',\r\n  'Exit fullscreen mode': 'Exit fullscreen mode',\r\n\r\n  // shape context menu plugin\r\n  'Bring forward': 'Bring forward',\r\n  'Send backwards': 'Send backwards',\r\n  'Bring to front': 'Bring to front',\r\n  'Send to back': 'Send to back',\r\n  'Duplicate': 'Duplicate',\r\n  'Remove': 'Remove',\r\n\r\n  // brush size plugin\r\n  'Size:': 'Size:',\r\n\r\n  // colorpicker plugin\r\n  'Fill:': 'Fill:',\r\n  'Transparent': 'Transparent',\r\n\r\n  // shape border plugin\r\n  'Border:': 'Border:',\r\n  'None': 'None',\r\n\r\n  // arrow plugin\r\n  'Draw an arrow': 'Draw an arrow',\r\n  'Draw a two-sided arrow': 'Draw a two-sided arrow',\r\n  'Lines and arrows': 'Lines and arrows',\r\n\r\n  // circle plugin\r\n  'Draw a circle': 'Draw a circle',\r\n\r\n  // line plugin\r\n  'Draw a line': 'Draw a line',\r\n\r\n  // rectangle plugin\r\n  'Draw a rectangle': 'Draw a rectangle',\r\n\r\n  // triangle plugin\r\n  'Draw a triangle': 'Draw a triangle',\r\n\r\n  // polygon plugin\r\n  'Draw a Polygon': 'Draw a Polygon',\r\n  'Stop drawing a polygon': 'Stop drawing a polygon (esc)',\r\n  'Click to start a new line': 'Click to start a new line',\r\n\r\n  // text plugin\r\n  'Draw a text': 'Draw a text',\r\n  'Click to place a text': 'Click to place a text',\r\n  'Font:': 'Font:',\r\n\r\n  // movable floating mode plugin\r\n  'Move canvas': 'Move canvas',\r\n\r\n  // base shape\r\n  'Click to start drawing a ': 'Click to start drawing a '\r\n};\r\n\r\n(function (namespace, util) {\r\n\r\n  'use strict';\r\n\r\n  var getPointer = fabric.util.getPointer,\r\n    degreesToRadians = fabric.util.degreesToRadians,\r\n    radiansToDegrees = fabric.util.radiansToDegrees,\r\n    atan2 = Math.atan2,\r\n    abs = Math.abs;\r\n\r\n  /**\r\n   * Fabricjs canvas class with customizations to allow\r\n   * eraser paths, fixed rotations etc.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs\r\n   */\r\n  namespace.Canvas = fabric.util.createClass(fabric.Canvas, /** @lends fabric.Canvas.prototype */ {\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {HTMLElement | String} el &lt;canvas> element to initialize instance on\r\n     * @param {Object} [options] Options object\r\n     * @return {Object} thisArg\r\n     */\r\n    initialize: function (el, options) {\r\n      options = options ? options : {};\r\n      this.preserveObjectStacking = true;\r\n\r\n      this.callSuper('initialize', el, options);\r\n    },\r\n\r\n\r\n    disableSelection: function () {\r\n      var obj = null;\r\n      var objects = this.getObjects();\r\n      this.deactivateAll();\r\n\r\n      for (var i = 0; i < objects.length; i++) {\r\n        obj = objects[i];\r\n        if (obj.__evented === undefined) {\r\n          obj.__evented = obj.get('evented');\r\n          obj.set('evented', false);\r\n        }\r\n\r\n        if (obj.__selectable === undefined) {\r\n          obj.__selectable = obj.get('selectable');\r\n          obj.set('selectable', false);\r\n        }\r\n      }\r\n    },\r\n\r\n    restoreSelection: function () {\r\n      var obj = null;\r\n      var objects = this.getObjects();\r\n\r\n      for (var i = 0; i < objects.length; i++) {\r\n        obj = objects[i];\r\n\r\n        if (obj.__evented !== undefined) {\r\n          obj.set('evented', obj.__evented);\r\n          delete obj.__evented;\r\n        }\r\n\r\n        if (obj.__selectable !== undefined) {\r\n          obj.set('selectable', obj.__selectable);\r\n          delete obj.__selectable;\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     * @param {Array} objectsToRender\r\n     */\r\n    _renderObjects: function (ctx, objectsToRender) {\r\n      var i, length, obj;\r\n\r\n      var tempCanvas = util.getTemporaryCanvas(this);\r\n      var tempContext = tempCanvas.getContext('2d');\r\n      tempContext.clearRect(0, 0, this.width, this.height);\r\n\r\n      this.eraserPaths = [];\r\n\r\n      for (i = 0, length = objectsToRender.length; i < length; ++i) {\r\n          obj = objectsToRender[i];\r\n\r\n          // we do not render eraser paths\r\n          if (obj instanceof fabric.EraserPath)\r\n              continue;\r\n\r\n          // obj.render(tempContext);\r\n          obj.render(ctx);\r\n      }\r\n\r\n        // ctx.drawImage(tempCanvas, 0, 0);\r\n        // tempContext.clearRect(0, 0, this.width, this.height);\r\n\r\n    },\r\n\r\n\r\n    _applyEraserPath: function (pathObject, ctx) {\r\n      pathObject.visible = true;\r\n      pathObject.globalCompositeOperation = 'destination-out';\r\n      pathObject.render(ctx);\r\n      pathObject.visible = false;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _findNewLowerIndex: function (object, idx, intersecting) {\r\n      var newIdx;\r\n\r\n      if (intersecting) {\r\n        newIdx = idx;\r\n\r\n        // traverse down the stack looking for the nearest intersecting object\r\n        for (var i = idx - 1; i >= 0; --i) {\r\n\r\n          if (this._objects[i] instanceof fabric.EraserPath) {\r\n            continue;\r\n          }\r\n\r\n          var isIntersecting = object.intersectsWithObject(this._objects[i]) ||\r\n            object.isContainedWithinObject(this._objects[i]) ||\r\n            this._objects[i].isContainedWithinObject(object);\r\n\r\n          if (isIntersecting) {\r\n            newIdx = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        newIdx = idx - 1;\r\n      }\r\n\r\n      return newIdx;\r\n    },\r\n    /**\r\n     * @private\r\n     */\r\n    _findNewUpperIndex: function (object, idx, intersecting) {\r\n      var newIdx;\r\n\r\n      if (intersecting) {\r\n        newIdx = idx;\r\n\r\n        // traverse up the stack looking for the nearest intersecting object\r\n        for (var i = idx + 1; i < this._objects.length; ++i) {\r\n\r\n          if (this._objects[i] instanceof fabric.EraserPath) {\r\n            continue;\r\n          }\r\n\r\n          var isIntersecting = object.intersectsWithObject(this._objects[i]) ||\r\n            object.isContainedWithinObject(this._objects[i]) ||\r\n            this._objects[i].isContainedWithinObject(object);\r\n\r\n          if (isIntersecting) {\r\n            newIdx = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        newIdx = idx + 1;\r\n      }\r\n\r\n      return newIdx;\r\n    },\r\n\r\n    /**\r\n     * This override is needed to properly call object.set() method\r\n     * instead of simple assigment.\r\n     *\r\n     * @private\r\n     * @param {Number} x pointer's x coordinate\r\n     * @param {Number} y pointer's y coordinate\r\n     *\r\n     * @return {boolean} always returns true, except case when _currentTransform.get('lockRotation') returns true\r\n     */\r\n    _rotateObject: function (x, y) {\r\n      var t = this._currentTransform;\r\n\r\n      if (t.target.get('lockRotation')) {\r\n        return;\r\n      }\r\n\r\n      var lastAngle = atan2(t.ey - t.top, t.ex - t.left),\r\n        curAngle = atan2(y - t.top, x - t.left),\r\n        angle = radiansToDegrees(curAngle - lastAngle + t.theta);\r\n\r\n      // normalize angle to positive value\r\n      if (angle < 0) {\r\n        angle = 360 + angle;\r\n      }\r\n\r\n      t.target.set('angle', angle % 360);\r\n      return true;\r\n    }\r\n  });\r\n})(DrawerJs, DrawerJs.util);\r\n(function ($, utilNamespace) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Contains url to a folder of drawer files.\r\n   *\r\n   * @type {null|string}\r\n   * @private\r\n   */\r\n  var _drawerFolderUrl = null;\r\n\r\n  utilNamespace.setDrawerFolderUrl = function (url) {\r\n    _drawerFolderUrl = url.replace(/\\/*$/g, '') + '/';\r\n  };\r\n\r\n  /**\r\n   * This function finds an url from which drawer file was loaded\r\n   *\r\n   * @function\r\n   * @memberof DrawerJs.util\r\n   * @returns {*}\r\n   */\r\n  utilNamespace.getDrawerFolderUrl = function () {\r\n    if (_drawerFolderUrl) {\r\n      return _drawerFolderUrl;\r\n    }\r\n\r\n    // try to find a folder from which this script is included\r\n    var scripts = document.getElementsByTagName(\"script\");\r\n    var drawerJsFilenamePattern = /dist\\/(drawer.+\\.js)+$/;\r\n\r\n    for (var i = 0; i < scripts.length; i++) {\r\n      var s = scripts.item(i);\r\n\r\n      if (s.src) {\r\n        var match = s.src.match(drawerJsFilenamePattern);\r\n        if (match) {\r\n          var pathToDrawerFolder = s.src.replace(match[1], '');\r\n          return pathToDrawerFolder;\r\n        }\r\n      }\r\n    }\r\n\r\n    return '';\r\n  };\r\n\r\n  /**\r\n   * Removes all click events with specified namespace bound to element.\r\n   *\r\n   * @param {jQuery} element\r\n   * @param {String} namespace\r\n   */\r\n  utilNamespace.unbindClick = function (element, namespace) {\r\n    var ns = namespace + 'drawerBindClick';\r\n\r\n    $(element).off('click.' + ns);\r\n    $(element).off('touchstart.' + ns);\r\n    $(element).off('touchend.' + ns);\r\n  };\r\n\r\n  utilNamespace.bindClick = function (element, namespace, handler) {\r\n    var ns = namespace + 'drawerBindClick';\r\n\r\n    $(element).on('click.' + ns, function (event) {\r\n      var elem = this;\r\n      var result = null;\r\n\r\n      if (elem.__lastClickTime) {\r\n        var lastClickDiff = Date.now() - elem.__lastClickTime;\r\n        if (lastClickDiff > 500) {\r\n          try {\r\n            result = handler.apply(elem, [event]);\r\n          } catch(err){\r\n              var errorName = 'Catched error - ' + 'click.' + ns;\r\n              console.groupCollapsed(errorName);\r\n              console.log('%c[' + 'Event name' + ']', 'color: green', 'click.' + ns);\r\n              console.log('%c[' + 'Element' + ']', 'color: green', element);\r\n              console.error(err);\r\n              console.groupEnd(errorName);\r\n          }\r\n\r\n          if (result === false) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            return false;\r\n          }\r\n        } else {\r\n          // seems that we have already triggered this click on touchend event\r\n        }\r\n      } else {\r\n        try {\r\n          result = handler.apply(elem, [event]);\r\n        } catch (err) {\r\n          var errorName = 'Catched error - ' + 'click.' + ns;\r\n          console.groupCollapsed(errorName);\r\n          console.log('%c[' + 'Event name' + ']', 'color: green', 'click.' + ns);\r\n          console.log('%c[' + 'Element' + ']', 'color: green', element);\r\n          console.error(err);\r\n          console.groupEnd(errorName);\r\n        }\r\n\r\n        if (result === false) {\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n          return false;\r\n        }\r\n      }\r\n    });\r\n    $(element).on('touchstart.' + ns, function (event) {\r\n      var elem = this;\r\n\r\n      elem.__drawerTouchStartEvent = event;\r\n\r\n      // disable click entirely since we do everything with touch events\r\n      $(element).off('click.' + ns);\r\n    });\r\n    $(element).on('touchend.' + ns, function (event) {\r\n      var elem = this,\r\n          result;\r\n\r\n      if (elem.__drawerTouchStartEvent) {\r\n        var tsDiff = Math.abs(\r\n          elem.__drawerTouchStartEvent.timeStamp - event.timeStamp\r\n        );\r\n\r\n        if (tsDiff < 300) {\r\n          elem.__lastClickTime = Date.now();\r\n          try {\r\n            result = handler.apply(elem, [event]);\r\n          } catch (err) {\r\n            var errorName = 'Catched error - ' + 'touchend.' + ns;\r\n            console.groupCollapsed(errorName);\r\n            console.log('%c[' + 'Event name' + ']', 'color: green', 'touchend.' + ns);\r\n            console.log('%c[' + 'Element' + ']', 'color: green', elem);\r\n            console.error(err);\r\n            console.groupEnd(errorName);\r\n          }\r\n          if (result === false) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            return false;\r\n          }\r\n        }\r\n        delete elem.__drawerTouchStartEvent;\r\n      }\r\n    });\r\n  };\r\n\r\n  utilNamespace.bindDoubleTap = function (element, namespace,\r\n                                          handler) {\r\n    var timeWindow = 500;\r\n    var positionWindow = 20;\r\n\r\n    $(element).on('touchend.' + namespace, function (event) {\r\n      var eventElem = this,\r\n          eventPos;\r\n      if (eventElem.__touchEndTime) {\r\n        var diff = Date.now() - eventElem.__touchEndTime;\r\n        eventPos = utilNamespace.getEventPosition(event);\r\n        var xDiff = Math.abs(eventElem.__touchEndX - eventPos.left);\r\n        var yDiff = Math.abs(eventElem.__touchEndY - eventPos.top);\r\n        var result;\r\n\r\n        if (diff < timeWindow &&\r\n          xDiff < positionWindow &&\r\n          yDiff < positionWindow) {\r\n\r\n          delete eventElem.__touchEndTime;\r\n          delete eventElem.__touchEndX;\r\n          delete eventElem.__touchEndY;\r\n          try {\r\n            result = handler.apply(eventElem, [event]);\r\n          } catch (err) {\r\n            var errorName = 'Catched error - ' + 'touchend(doubleTap).' + namespace;\r\n            console.groupCollapsed(errorName);\r\n            console.log('%c[' + 'Event name' + ']', 'color: green', 'touchend(doubleTap).' + namespace);\r\n            console.log('%c[' + 'Element' + ']', 'color: green', eventElem);\r\n            console.error(err);\r\n            console.groupEnd(errorName);\r\n          }\r\n          if (result === false) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            return false;\r\n          }\r\n        } else {\r\n          delete eventElem.__touchEndTime;\r\n          delete eventElem.__touchEndX;\r\n          delete eventElem.__touchEndY;\r\n        }\r\n      } else {\r\n        eventElem.__touchEndTime = Date.now();\r\n        eventPos = utilNamespace.getEventPosition(event);\r\n        eventElem.__touchEndX = eventPos.left;\r\n        eventElem.__touchEndY = eventPos.top;\r\n        utilNamespace.setTimeout(function () {\r\n          delete eventElem.__touchEndTime;\r\n          delete eventElem.__touchEndX;\r\n          delete eventElem.__touchEndY;\r\n        }, timeWindow);\r\n      }\r\n    });\r\n  };\r\n\r\n  utilNamespace.bindLongPress = function (element, namespace,\r\n                                          handler) {\r\n    var logTag = 'drawerBindLongPress';\r\n    var ns = namespace + logTag;\r\n\r\n    $(element).on('touchstart.' + ns, function (event) {\r\n      var elem = this;\r\n\r\n      elem.__touchStartTime = Date.now();\r\n      var eventPos = utilNamespace.getEventPosition(event);\r\n      elem.__touchStartX = eventPos.left;\r\n      elem.__touchStartY = eventPos.top;\r\n\r\n      if (elem.__longPressCheckTimeout) {\r\n        clearTimeout(elem.__longPressCheckTimeout);\r\n      }\r\n\r\n      var cleanHandlers = function () {\r\n\r\n        delete elem.__touchStartTime;\r\n        delete elem.__touchStartX;\r\n        delete elem.__touchStartY;\r\n\r\n        $(elem).off('touchmove.' + ns);\r\n        $(elem).off('touchend.' + ns);\r\n      };\r\n\r\n      $(elem).on('touchmove.' + ns, function (moveEvent) {\r\n        var eventPos = utilNamespace.getEventPosition(moveEvent);\r\n        if (elem.__touchStartTime) {\r\n          var xDiff = Math.abs(\r\n            elem.__touchStartX - eventPos.left\r\n          );\r\n          var yDiff = Math.abs(\r\n            elem.__touchStartY - eventPos.top\r\n          );\r\n\r\n          if (xDiff > 10 || yDiff > 10) {\r\n            cleanHandlers();\r\n          }\r\n        }\r\n      });\r\n\r\n      $(elem).on('touchend.' + ns, function (endEvent) {\r\n        cleanHandlers();\r\n      });\r\n\r\n      elem.__longPressCheckTimeout = setTimeout(function () {\r\n        if (elem.__touchStartTime) {\r\n          cleanHandlers();\r\n          try {\r\n            var result = handler.apply(elem, [event]);\r\n          } catch (err) {\r\n            var errorName = 'Catched error - ' + 'touchstart(bindLongPress).' + ns;\r\n            console.groupCollapsed(errorName);\r\n            console.log('%c[' + 'Event name' + ']', 'color: green', 'touchstart(bindLongPress).' + ns);\r\n            console.log('%c[' + 'Element' + ']', 'color: green', elem);\r\n            console.error(err);\r\n            console.groupEnd(errorName);\r\n          }\r\n        }\r\n      }, 1000);\r\n\r\n      return true;\r\n    });\r\n  };\r\n\r\n  utilNamespace.unbindLongPress = function (element, namespace) {\r\n    var logTag = 'drawerBindLongPress';\r\n    var ns = namespace + logTag;\r\n\r\n    $(element).off('touchstart.' + ns);\r\n    $(element).off('touchmove.' + ns);\r\n    $(element).off('touchend.' + ns);\r\n  };\r\n\r\n  utilNamespace.mouseDown = function (namespace) {\r\n    return 'mousedown.' + namespace + this.id +\r\n      ' touchstart.' + namespace + this.id;\r\n  };\r\n\r\n  utilNamespace.mouseMove = function (namespace) {\r\n    return 'mousemove.' + namespace + this.id +\r\n      ' touchmove.' + namespace + this.id;\r\n  };\r\n\r\n  utilNamespace.mouseUp = function (namespace) {\r\n    return 'mouseup.' + namespace + this.id +\r\n      ' touchend.' + namespace + this.id;\r\n  };\r\n\r\n  utilNamespace.getTransitionDuration = function (el, with_delay) {\r\n    var style = window.getComputedStyle(el),\r\n      duration = style.webkitTransitionDuration,\r\n      delay = style.webkitTransitionDelay;\r\n\r\n    // fix miliseconds vs seconds\r\n    duration = (duration.indexOf(\"ms\") > -1) ?\r\n      parseFloat(duration) : parseFloat(duration) * 1000;\r\n    delay = (delay.indexOf(\"ms\") > -1) ?\r\n      parseFloat(delay) : parseFloat(delay) * 1000;\r\n\r\n    if (with_delay) return (duration + delay);\r\n\r\n    else return duration;\r\n  };\r\n\r\n  utilNamespace.getEventPosition = function (event, touchIndex) {\r\n    var result = {};\r\n    var searchTouchEvent = function (innerEvent, fromInner) {\r\n      var touchEvent;\r\n      if (innerEvent) {\r\n        var isTouch = innerEvent.type.indexOf('touch') > -1,\r\n            haveTouches = isTouch && innerEvent.touches && innerEvent.touches.length,\r\n            eventCoordsAreValid = utilNamespace.eventCoordsAreValid(innerEvent),\r\n            getFromTouch = isTouch && haveTouches && !eventCoordsAreValid;\r\n\r\n        touchEvent = getFromTouch ? innerEvent : (!fromInner && searchTouchEvent(innerEvent.originalEvent, true));\r\n      }\r\n      return touchEvent;\r\n    };\r\n    if (event) {\r\n      touchIndex = touchIndex || 0;\r\n      var touchEvent =  searchTouchEvent(event),\r\n          touchCoordsAreValid = touchEvent && utilNamespace.eventCoordsAreValid(touchEvent.touches[touchIndex]),\r\n          eventCoordsAreValid = utilNamespace.eventCoordsAreValid(event),\r\n          originalEventCoordsAreValid = event && event.originalEvent && utilNamespace.eventCoordsAreValid(event.originalEvent);\r\n\r\n      var coordsHolder = (touchCoordsAreValid && touchEvent.touches[touchIndex]) || (eventCoordsAreValid && event) || (originalEventCoordsAreValid && event.originalEvent);\r\n      if (coordsHolder) {\r\n        result = {\r\n          left: coordsHolder.pageX,\r\n          top: coordsHolder.pageY\r\n        };\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  utilNamespace.eventCoordsAreValid = function (event) {\r\n    var isValid;\r\n    if (event) {\r\n      var areNotZero = event.pageX !== 0 && event.pageY !== 0,\r\n          areNumbers = typeof event.pageX === 'number' && typeof event.pageY === 'number',\r\n          areNotNan = areNumbers && isFinite(event.pageX) && isFinite(event.pageY);\r\n      isValid = areNotZero && areNumbers && areNotNan;\r\n    }\r\n    return isValid;\r\n  };\r\n\r\n  utilNamespace.isShape = function (fabricObject) {\r\n    var isShape = false;\r\n\r\n    if (fabricObject.type &&\r\n      (fabricObject.type == 'line' ||\r\n      fabricObject.type == 'arrow')) {\r\n      isShape = false;\r\n    }\r\n    else if (fabricObject.path) { // free drawing shape\r\n      isShape = false;\r\n    } else {\r\n      isShape = true;\r\n    }\r\n\r\n    return isShape;\r\n  };\r\n\r\n\r\n  utilNamespace.__temporaryCanvas = null;\r\n  utilNamespace.__latestValidCanvasWidth = null;\r\n  utilNamespace.__latestValidCanvasHeight = null;\r\n  utilNamespace.getTemporaryCanvas = function (originalCanvas) {\r\n    if (!utilNamespace.__temporaryCanvas) {\r\n      utilNamespace.__temporaryCanvas = document.createElement('canvas');\r\n    }\r\n\r\n    var canvasWidth = originalCanvas.width,\r\n        canvasHeight = originalCanvas.height,\r\n        resultCanvasWidth = canvasWidth || utilNamespace.__latestValidCanvasWidth || 1,\r\n        resultCanvasHeight = canvasHeight || utilNamespace.__latestValidCanvasHeight || 1;\r\n\r\n    utilNamespace.__temporaryCanvas.setAttribute('width', resultCanvasWidth);\r\n    utilNamespace.__temporaryCanvas.setAttribute('height', resultCanvasHeight);\r\n\r\n    utilNamespace.__latestValidCanvasWidth = resultCanvasWidth;\r\n    utilNamespace.__latestValidCanvasHeight = resultCanvasHeight;\r\n\r\n    return utilNamespace.__temporaryCanvas;\r\n  };\r\n\r\n  utilNamespace.LastCoordsQueue = function () {\r\n    this.coordsQueue = [];\r\n    this.length = 10;\r\n\r\n    this.pushCoords = function (x, y) {\r\n      if (this.coordsQueue.length > this.length) {\r\n        this.coordsQueue =\r\n          this.coordsQueue.slice(this.coordsQueue.length - this.length);\r\n      }\r\n\r\n      this.coordsQueue.push({x: x, y: y});\r\n    };\r\n\r\n    this.getInterpolatedValues = function () {\r\n      if (this.coordsQueue.length === 0) {\r\n        return [];\r\n      }\r\n\r\n      if (this.coordsQueue.length === 1) {\r\n        return [{x: this.coordsQueue[0].x, y: this.coordsQueue[0].y}];\r\n      }\r\n\r\n      var interpolatedCoords = [];\r\n\r\n      var prevX = this.coordsQueue[this.coordsQueue.length - 2].x;\r\n      var prevY = this.coordsQueue[this.coordsQueue.length - 2].y;\r\n\r\n      var currX = this.coordsQueue[this.coordsQueue.length - 1].x;\r\n      var currY = this.coordsQueue[this.coordsQueue.length - 1].y;\r\n\r\n      var xDiff = currX - prevX;\r\n      var yDiff = currY - prevY;\r\n\r\n      var xDiffAbs = Math.abs(xDiff);\r\n      var yDiffAbs = Math.abs(yDiff);\r\n\r\n      var iterations = xDiffAbs > yDiffAbs ? xDiffAbs : yDiffAbs;\r\n\r\n      for (var ii = 0; ii < iterations; ii++) {\r\n        interpolatedCoords.push({\r\n          x: prevX + ((xDiff / iterations) * ii),\r\n          y: prevY + ((yDiff / iterations) * ii)\r\n        });\r\n      }\r\n\r\n      return interpolatedCoords;\r\n    };\r\n  };\r\n\r\n  /**\r\n   * Add css rule to sheet\r\n   * @param {Node} sheet - sheet element\r\n   * @param {String} selector - selector for css rule\r\n   * @param {String} rules - text of css rules\r\n   * @param {Number} [index] - index of rule\r\n   */\r\n  utilNamespace.addCSSRule = function addCSSRule(sheet, selector, rules, index) {\r\n    if (sheet) {\r\n      if (\"insertRule\" in sheet) {\r\n        sheet.insertRule(selector + \"{\" + rules + \"}\", index);\r\n      } else {\r\n        if (\"addRule\" in sheet) {\r\n          sheet.addRule(selector, rules, index);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Add css rule to style sheet\r\n   * @param {String} styleSelector - selector for css rule\r\n   * @param {String} styleRule - text of css rules\r\n   * @param {jQuery|String|Node} styleSheet - stylesheet element\r\n   * @param {Boolean} [createElement] - create stylesheet element if cant find matched\r\n   * @param {Boolean} [force] - need to insert css rules even if there no stylesheet element\r\n   */\r\n  utilNamespace.addStyleToStyleSheet = function (styleSelector, styleRule, styleSheet, createElement, force) {\r\n    var isJqueryEl = styleSheet && styleSheet instanceof jQuery && styleSheet.length,\r\n        isSelector = typeof styleSheet === 'string' && $(styleSheet).length && $(styleSheet),\r\n        isNode = styleSheet instanceof Node && $(styleSheet).length && $(styleSheet),\r\n        $styleSheet = isJqueryEl || isSelector || isNode;\r\n    if ($styleSheet) {\r\n      utilNamespace.addCSSRule($styleSheet[0].sheet, styleSelector, styleRule);\r\n    } else {\r\n      if (createElement) {\r\n        var head = document.head || document.getElementsByTagName('head')[0],\r\n            style = document.createElement('style');\r\n\r\n        style.type = 'text/css';\r\n        style.id = styleSheet;\r\n        head.appendChild(style);\r\n        utilNamespace.addCSSRule(style.sheet, styleSelector, styleRule);\r\n      } else {\r\n        if (force) {\r\n          var css = styleSelector + '{' + styleRule + '}';\r\n          utilNamespace.addStyle(css);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  utilNamespace.addStyle = function (css) {\r\n    var head = document.head || document.getElementsByTagName('head')[0],\r\n      style = document.createElement('style');\r\n\r\n    style.type = 'text/css';\r\n    if (style.styleSheet) {\r\n      style.styleSheet.cssText = css;\r\n    } else {\r\n      style.appendChild(document.createTextNode(css));\r\n    }\r\n\r\n    head.appendChild(style);\r\n  };\r\n\r\n\r\n  utilNamespace.isString = function (str) {\r\n      return typeof(str) == 'string' || str instanceof String;\r\n  };\r\n\r\n  utilNamespace.getScrollTopFromElement = function ($element) {\r\n    var $currElement = $element,\r\n        result = {\r\n          left: 0,\r\n          top: 0\r\n        },\r\n        needToContinue = true;\r\n    while (needToContinue) {\r\n      needToContinue = $currElement && $currElement.length && !$currElement.is('body');\r\n      var currScrollTop = $currElement.scrollTop(), currScrollLeft = $currElement.scrollLeft();\r\n      result.top += currScrollTop;\r\n      result.left += currScrollLeft;\r\n      $currElement = $currElement.parent();\r\n    }\r\n    return result;\r\n  };\r\n\r\n\r\n  /**\r\n   * Debounce function\r\n   * @param {Function} func\r\n   * @param {Number} [wait]\r\n   * @param {Boolean} [immediate]\r\n   * @returns {Function}\r\n   */\r\n  utilNamespace.debounce = function (func, wait, immediate) {\r\n    wait = wait || 0;\r\n    var timeout;\r\n    return function () {\r\n      var context = this, args = arguments;\r\n      var later = function () {\r\n        timeout = null;\r\n        if (!immediate) func.apply(context, args);\r\n      };\r\n      var callNow = immediate && !timeout;\r\n      clearTimeout(timeout);\r\n      timeout = utilNamespace.setTimeout(later, wait);\r\n      if (callNow) func.apply(context, args);\r\n    };\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param src\r\n   * @param {Node} [imageEl]\r\n   * @param {Object} [data]\r\n   * @returns {Promise}\r\n   */\r\n  utilNamespace.loadImage = function (src, imageEl, data, ignoreCrossOrigin) {\r\n    data = data || {};\r\n    var img = imageEl || new Image();\r\n    img.style.opacity = 0;\r\n\r\n    return new Promise(function (resolve) {\r\n      if (img.src === src) {\r\n        // If image source hasn't changed resolve immediately\r\n        resolve(img, data);\r\n      } else {\r\n        img.removeAttribute('crossOrigin');\r\n        if (!ignoreCrossOrigin && src.match(/^https?:\\/\\/|^\\/\\//)) {\r\n          img.setAttribute('crossOrigin', 'anonymous');\r\n        }\r\n        img.onload = function () {\r\n          utilNamespace.setTimeout(function () {\r\n            resolve(img, data);\r\n          }, 1);\r\n        };\r\n        img.src = src;\r\n      }\r\n    });\r\n  };\r\n\r\n  utilNamespace.checkBrowser = function (browser) {\r\n    var ua = navigator.userAgent.toLowerCase();\r\n    var match = /(opr)[\\/]([\\w.]+)/.exec( ua ) ||\r\n        /(chrome)[ \\/]([\\w.]+)/.exec( ua ) ||\r\n        /(webkit)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(ua) ||\r\n        /(webkit)[ \\/]([\\w.]+)/.exec( ua ) ||\r\n        /(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec( ua ) ||\r\n        /(msie) ([\\w.]+)/.exec( ua ) ||\r\n        ua.indexOf(\"trident\") >= 0 && /(rv)(?::| )([\\w.]+)/.exec( ua ) ||\r\n        ua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec( ua ) ||\r\n        [];\r\n\r\n    if (browser == 'safari') return (typeof match[3] != 'undefined') ? match[3] == 'safari' : false;\r\n    if (browser == 'version') return match[2];\r\n    if (browser == 'webkit') return (match[1] == 'chrome' || match[1] == 'opr' || match[1] == 'webkit');\r\n    if (match[1] == 'rv') return browser == 'msie';\r\n    if (match[1] == 'opr') return browser == 'webkit';\r\n\r\n    return browser == match[1];\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param {jQuery} $element\r\n   */\r\n  utilNamespace.getScrollOffset = function ($element) {\r\n    var result = {},\r\n        needContinue = true,\r\n        currElement = $element,\r\n        offsetX = 0,\r\n        offsetY = 0;\r\n    if ($element && $element.length) {\r\n      while (needContinue) {\r\n        currElement = currElement.parent();\r\n        needContinue = currElement && currElement.length && !currElement.is('body');\r\n        offsetX += currElement.scrollLeft();\r\n        offsetY += currElement.scrollTop();\r\n      }\r\n    }\r\n    result.left = offsetX;\r\n    result.top = offsetY;\r\n    return result;\r\n  };\r\n\r\n\r\n  /**\r\n   * Custom setTimeout function with advanced error handling\r\n   @param {String|Function} func\r\n   @param {number} [delay]\r\n   @param {...*} [arguments]\r\n   @return {number}\r\n   */\r\n  utilNamespace.setTimeout = function (func, delay, args) {\r\n    var funcWrapper,\r\n        timer,\r\n        tempError = new Error('Parent stack'),\r\n        stack = tempError.stack;\r\n    funcWrapper = function advancedSetTimeout() {\r\n      try {\r\n        func.apply(window, arguments);\r\n      } catch (err) {\r\n        var errorName = 'Catched error - ' + 'setTimeout';\r\n        console.groupCollapsed(errorName);\r\n        console.log('%c[' + 'Parent stack' + ']', 'color: green', stack);\r\n        console.log('%c[' + 'Error stack' + ']', 'color: green', err.stack);\r\n        console.error(err);\r\n        console.groupEnd(errorName);\r\n      }\r\n    };\r\n    timer = window.setTimeout(funcWrapper, delay, args);\r\n    return timer;\r\n  };\r\n\r\n  /**\r\n   * Mousewheel handler across browser from developer.mozilla.org\r\n   */\r\n  (function () {\r\n    var prefix = \"\",\r\n        _addEventListener,\r\n        support,\r\n        addWheelListener;\r\n\r\n    // detect event model\r\n    if (window.addEventListener) {\r\n      _addEventListener = \"addEventListener\";\r\n    } else {\r\n      _addEventListener = \"attachEvent\";\r\n      prefix = \"on\";\r\n    }\r\n\r\n    // detect available wheel event\r\n    var support_modern = \"onwheel\" in document.createElement(\"div\") && \"wheel\", // Modern browsers support \"wheel\"\r\n        support_WebkitIe = document.onmousewheel !== undefined && \"mousewheel\",// Webkit and IE support at least \"mousewheel\"\r\n        support_remaining = \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\r\n\r\n    support = support_modern || support_WebkitIe || support_remaining;\r\n\r\n    var eventHandlerForOldBrowsers = function (originalEvent) {\r\n          originalEvent = originalEvent || window.event;\r\n\r\n          // create a normalized event object\r\n          var event = {\r\n            // keep a ref to the original event object\r\n            originalEvent: originalEvent,\r\n            target: originalEvent.target || originalEvent.srcElement,\r\n            type: \"wheel\",\r\n            deltaMode: originalEvent.type == \"MozMousePixelScroll\" ? 0 : 1,\r\n            deltaX: 0,\r\n            deltaY: 0,\r\n            deltaZ: 0,\r\n            preventDefault: function () {\r\n              if (originalEvent.preventDefault) {\r\n                originalEvent.preventDefault();\r\n              } else {\r\n                originalEvent.returnValue = false;\r\n              }\r\n            }\r\n          };\r\n\r\n          // calculate deltaY (and deltaX) according to the event\r\n          if (support == \"mousewheel\") {\r\n            event.deltaY = -1 / 40 * originalEvent.wheelDelta;\r\n            // Webkit also support wheelDeltaX\r\n            if (originalEvent.wheelDeltaX) {\r\n              event.deltaX = -1 / 40 * originalEvent.wheelDeltaX;\r\n            }\r\n          } else {\r\n            event.deltaY = originalEvent.deltaY || originalEvent.detail;\r\n          }\r\n\r\n          // it's time to fire the callback\r\n          return callback(event);\r\n\r\n        },\r\n        _addWheelListener = function (elem, eventName, callback, useCapture) {\r\n          var eventNameFull = prefix + eventName,\r\n              eventHandler;\r\n\r\n          eventHandler = support == \"wheel\" ? callback : eventHandlerForOldBrowsers;\r\n\r\n          elem[_addEventListener](eventNameFull, eventHandler, useCapture || false);\r\n        };\r\n\r\n    /**\r\n     *\r\n     * @param elem\r\n     * @param {Function} callback\r\n     * @param {Boolean} useCapture\r\n     */\r\n    utilNamespace.addWheelListener = function (elem, callback, useCapture) {\r\n      _addWheelListener(elem, support, callback, useCapture);\r\n\r\n      // handle MozMousePixelScroll in older Firefox\r\n      if (support == \"DOMMouseScroll\") {\r\n        _addWheelListener(elem, \"MozMousePixelScroll\", callback, useCapture);\r\n      }\r\n    };\r\n\r\n    utilNamespace.requestAnimationFrame = window.requestAnimationFrame.bind(window) ||\r\n        window.mozRequestAnimationFrame.bind(window) ||\r\n        window.webkitRequestAnimationFrame.bind(window)  ||\r\n        window.msRequestAnimationFrame.bind(window)  ||\r\n        function (f) {\r\n          f();\r\n        };\r\n\r\n    utilNamespace.cancelAnimationFrame = window.cancelAnimationFrame.bind(window) ||\r\n        window.mozCancelAnimationFrame.bind(window) ||\r\n        function () {};\r\n  }());\r\n\r\n}(jQuery, DrawerJs.util));\r\n(function () {\r\n  /**\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer - instance of drawer\r\n   * @memberOf DrawerJs\r\n   * @constructor\r\n   */\r\n    var DrawerApi = function(drawer) {\r\n        if (!drawer) {\r\n            throw new Error('DrawerApi(): no drawer is provided!');\r\n        }\r\n        this.drawer = drawer;\r\n    };\r\n\r\n    DrawerApi.prototype.drawer = null;\r\n\r\n    // Drawer core API\r\n    ////////////////////////////////////////////////////////////////////////\r\n\r\n    /**\r\n     * Starts editing mode.\r\n     * If already in this mode - do nothing.\r\n     */\r\n    DrawerApi.prototype.checkIsActive = function () {\r\n        if (this.drawer.mode != this.drawer.MODE_ACTIVE) {\r\n            throw new Error(\"Drawer is not active!\");\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Starts editing mode.\r\n     * If already in this mode - do nothing.\r\n     */\r\n    DrawerApi.prototype.startEditing = function () {\r\n        this.drawer._startEditing();\r\n    };\r\n\r\n    /**\r\n     * Stops editing.\r\n     * If already stopped, ie. in INACTIVE_MODE - do nothing.\r\n     */\r\n    DrawerApi.prototype.stopEditing = function () {\r\n        this.drawer._stopEditing();\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * Get serialized in JSON string canvas data.\r\n     * @returns [String]\r\n     */\r\n    DrawerApi.prototype.getCanvasAsJSON = function () {\r\n        this.drawer.api.checkIsActive();\r\n        return this.drawer.getSerializedCanvas();\r\n    };\r\n\r\n\r\n    /**\r\n     * Save canvas.\r\n     * Syncs drawer canvas data with storages, defined in options\r\n     */\r\n    DrawerApi.prototype.saveCanvas = function () {\r\n        this.drawer.api.checkIsActive();\r\n        this.drawer.syncCanvasData();\r\n    };\r\n\r\n\r\n    /**\r\n     * Load canvas.\r\n     * Loads canvas\r\n     */\r\n    DrawerApi.prototype.loadCanvasFromData = function (data) {\r\n        this.drawer.loadCanvas(data);\r\n    };\r\n\r\n\r\n\r\n /**\r\n   * Returns data-url with image encoded to base64.\r\n   *\r\n   * @see Drawer.Storage.js getImageData() for details\r\n   * @returns {String} image data encoded in base64/png.\r\n   */\r\n   DrawerApi.prototype.getCanvasAsImage = function () {\r\n        return this.drawer.getImageData();\r\n   };\r\n\r\n\r\n    /**\r\n     * Save canvas as image in storages, as defined in config\r\n     */\r\n    DrawerApi.prototype.saveCanvasImage = function () {\r\n        this.drawer.api.checkIsActive();\r\n        this.drawer.syncImageData();\r\n    };\r\n\r\n  /**\r\n   * List of all available options for each mode of each toolbar\r\n   * @typedef {Object} sizesOfDrawer\r\n   * @memberOf DrawerJs.DrawerApi\r\n   * @property {Number} width - width of Drawer\r\n   * @property {Number} height - height of drawer\r\n   * @property {Number} scrollTop - \"Top\" position including scrollTop value of parent elements\r\n   * @property {Number} scrollLeft - \"Left\" position including scrollLeft value of parent elements\r\n   * @property {Number} top - Absolute value of \"top\" position\r\n   * @property {Number} left - Absolute value of \"left\" position\r\n   */\r\n\r\n\r\n  /**\r\n     * Get sizes of drawer\r\n     * @returns {DrawerJs.DrawerApi.sizesOfDrawer}\r\n     */\r\n    DrawerApi.prototype.getSize = function () {\r\n      var sizes = this.drawer.getSize();\r\n      return sizes;\r\n    };\r\n\r\n  /**\r\n     * Sets drawer size.\r\n     */\r\n    DrawerApi.prototype.setSize = function (width, height) {\r\n        this.drawer.setSize(width, height);\r\n    };\r\n\r\n    /**\r\n     * Set active color\r\n     * @param {String} color - New color value (HEX)\r\n     */\r\n    DrawerApi.prototype.setActiveColor = function (color) {\r\n      this.drawer.setActiveColor(color);\r\n    };\r\n\r\n  /**@\r\n   * Create text object\r\n   * @param {Number} [positionX=0] - left offset of new text object\r\n   * @param {Number} [positionY=0] - top offset of new text object\r\n   * @param {String} [text=\"Text\"] - text of new object\r\n   * @param {Object} [styles] - styles for new text object\r\n   */\r\n  DrawerApi.prototype.createText = function (positionX, positionY, text, styles) {\r\n    this.drawer._pluginsInstances.Text.addShape(positionX, positionY, text, styles);\r\n  };\r\n\r\n\r\n    /**\r\n     * Update current options.\r\n     * If optionsToUpdate has plugins key, plugins will be reloaded\r\n     *\r\n     * @param  {Object} optionsToUpdate options object\r\n     */\r\n    DrawerApi.prototype.updateOptions = function (optionsToUpdate) {\r\n        this.drawer.updateOptions(optionsToUpdate);\r\n    };\r\n\r\n\r\n    /**\r\n     * Update current options.\r\n     * All plugins will be reloaded\r\n     *\r\n     * @param  {Object} optionsToUpdate options object\r\n     */\r\n    DrawerApi.prototype.setOptions = function (newOptions) {\r\n        this.drawer.setOptions(newOptions);\r\n    };\r\n\r\n\r\n    /**\r\n     * Load plugin by name.\r\n     * Name must exists in DrawerJs namespace.\r\n     * If plugin is already loaded, error will be thrown\r\n     *\r\n     * @param  {String} pluginName plugin name\r\n     */\r\n    DrawerApi.prototype.loadPlugin = function (pluginName) {\r\n        this.drawer.loadPlugin(pluginName);\r\n    };\r\n\r\n\r\n    /**\r\n     * Unload plugin by name.\r\n     * If plugin is not loaded, nothing happens.\r\n     *\r\n     * @param  {String} pluginName plugin name\r\n     */\r\n    DrawerApi.prototype.unloadPlugin = function (pluginName) {\r\n        this.drawer.unloadPlugin(pluginName);\r\n    };\r\n\r\n\r\n\r\n    DrawerJs.DrawerApi = DrawerApi;\r\n})(DrawerJs);\r\n\r\n(function(DrawerApi) {\r\n    /**\r\n     * Checks if obj is set and is fabric.Object\r\n     *\r\n     * @param  {} obj [description]\r\n     * @throw {Error}  if obj is falsie or object is not fabric.Object\r\n     */\r\n    DrawerApi.prototype._checkObject = function(obj) {\r\n        if (!obj) {\r\n            throw new Error('[Drawer API]  no object provided!');\r\n        }\r\n        if (!(obj instanceof fabric.Object)) {\r\n            throw new Error(\"[Drawer API]  object type is not 'fabric.Object!'\");\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Returns currently active object.\r\n     * @return {fabric.Object}   currently active object\r\n     */\r\n    DrawerApi.prototype.getSelectedObject = function() {\r\n        return this.drawer.fCanvas.getActiveObject();\r\n    };\r\n\r\n\r\n    /**\r\n     * Bring object closer to front in objects stack.\r\n     *\r\n     * @param  {fabric.Object} fabricItem   object to reposition\r\n     * @return {fabric.Object} returns   same object\r\n     */\r\n    DrawerApi.prototype.bringObjectForward = function(fabricItem) {\r\n        this._checkObject(fabricItem);\r\n\r\n        this.drawer.fCanvas.bringForward(fabricItem, true);\r\n        this.drawer.syncCanvasData();\r\n        return fabricItem;\r\n    };\r\n\r\n\r\n    /**\r\n     * Bring object closer to bottom in objects stack.\r\n     *\r\n     * @param  {fabric.Object} fabricItem   object to reposition\r\n     * @return {fabric.Object} returns   same object\r\n     */\r\n    DrawerApi.prototype.sendObjectBackwards = function(fabricItem) {\r\n        this._checkObject(fabricItem);\r\n        this.drawer.fCanvas.sendBackwards(fabricItem, true);\r\n        this.drawer.syncCanvasData();\r\n        return fabricItem;\r\n    };\r\n\r\n\r\n    /**\r\n     * Move object the top object in stack.\r\n     *\r\n     * @param  {fabric.Object} fabricItem   object to reposition\r\n     * @return {fabric.Object}   returns same object\r\n     */\r\n    DrawerApi.prototype.bringObjectToFront = function(fabricItem) {\r\n        this._checkObject(fabricItem);\r\n\r\n        this.drawer.fCanvas.bringToFront(fabricItem, true);\r\n        this.drawer.syncCanvasData();\r\n        return fabricItem;\r\n    };\r\n\r\n\r\n    /**\r\n     * Move object the bottom object in stack.\r\n     *\r\n     * @param  {fabric.Object} fabricItem   object to reposition\r\n     * @return {fabric.Object}   returns same object\r\n     */\r\n    DrawerApi.prototype.sendObjectToBack = function(fabricItem) {\r\n        this._checkObject(fabricItem);\r\n\r\n        this.drawer.fCanvas.sendToBack(fabricItem);\r\n        this.drawer.syncCanvasData();\r\n        return fabricItem;\r\n    };\r\n\r\n    /**\r\n     * Remove object from canvas.\r\n     *\r\n     * @param  {fabric.Object} fabricItem  object to reposition\r\n     */\r\n    DrawerApi.prototype.removeObject = function(fabricItem) {\r\n        this._checkObject(fabricItem);\r\n\r\n        fabricItem.remove();\r\n        this.drawer.fCanvas.renderAll();\r\n    };\r\n\r\n\r\n  /**\r\n   * Duplicate given object.\r\n   * If object is not 'async' - it will be returned.\r\n   * If 'callback' is provided - it will be called after cloning,\r\n   *  with cloned object as argument\r\n   *\r\n   * @param  {fabric.Object}  fabricItem  object to be cloned\r\n   * @param  {Function}       callback    will be called after cloning with cloned object as argument\r\n   * @return {fabric.Object}              cloned object, if objject is not 'async'\r\n   */\r\n    DrawerApi.prototype.duplicateObject = function(fabricItem, callback) {\r\n        this._checkObject(fabricItem);\r\n\r\n        var _this = this;\r\n        var onCloned = function (clonedObj) {\r\n            if (!clonedObj) {\r\n                throw new Error(\"[Drawer API] duplicateObject() : Clone failed! Clone source: \" + fabricItem.toString());\r\n            }\r\n\r\n            clonedObj.set('left', fabricItem.get('left') + 20);\r\n            clonedObj.set('top', fabricItem.get('top') + 20);\r\n            _this.drawer.fCanvas.add(clonedObj);\r\n            _this.drawer.fCanvas.renderAll();\r\n\r\n            // call callback with new object\r\n            if (callback) {\r\n                callback(clonedObj);\r\n            }\r\n            return clonedObj;\r\n        };\r\n\r\n        // sync and async objects cloning is different\r\n        if(fabricItem.async) {\r\n            // call clone with callback\r\n            fabricItem.clone(onCloned);\r\n        } else {\r\n            // direct call function\r\n            return onCloned(fabricItem.clone());\r\n        }\r\n    };\r\n\r\n})(DrawerJs.DrawerApi);\r\n\r\n(function ($, namespace, pluginsNamespace, util, texts) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Canvas editable element.\r\n   *\r\n   * @param redactorInstance {Object|null} Redactor's instance.\r\n   *                         Could be null for standalone version.\r\n   *\r\n   * @param options {Object} Object with configuration parameters.\r\n   *\r\n   * @param {String} options.borderCss\r\n   * Canvas border css styles.\r\n   * <br><br>\r\n   * Example:\r\n   * <code>1px dashed rgb(195, 194, 194)</code>\r\n   *\r\n   * @param {String} options.borderCssEditMode\r\n   * Canvas border css styles which will be applied when in edit mode.\r\n   * <br><br>\r\n   * Example:\r\n   * <code>1px dashed rgb(195, 194, 194)</code>\r\n   *\r\n   * @param {String} options.backgroundCss\r\n   * Canvas background css style which will be applied to canvas container.\r\n   * <br><br>\r\n   * Example:\r\n   * <code>\r\n   *   url(/redactor.plugin.drawer/dist/assets/transparent.png) repeat\r\n   * </code>\r\n   *\r\n   * @param {String} options.defaultImageUrl\r\n   * Image url that will be drawn on canvas when it's just created and\r\n   * nothing has been drawn on it.\r\n   *\r\n   * @param {number} options.toolbarSize=35\r\n   * Specifies drawer's toolbar buttons size in px.\r\n   *\r\n   * @param {number} options.toolbarSizeTouch=43\r\n   * Specifies drawer's toolbar buttons size in px when running on touch device.\r\n   *\r\n   * @param {Object} options.toolbars - Configuration for each toolbar.\r\n   * Each toolbar have next configuration object:\r\n   * <code><pre>\r\n   *   {\r\n   *\r\n   *      // All of {@link DrawerToolbar.defaultSetOfOptions}\r\n   *      hidden: false,\r\n   *      position: 'top',\r\n   *      positionType: 'outside',\r\n   *      compactType: 'scrollable',\r\n   *      toggleVisibilityButton: false,\r\n   *      customAnchorSelector: '#custom-toolbar-here',\r\n   *\r\n   *      fullscreenMode: {\r\n   *          // All of {@link DrawerToolbar.defaultSetOfOptions}\r\n   *          hidden: false,\r\n   *          position: 'top',\r\n   *          positionType: 'outside',\r\n   *          compactType: 'scrollable',\r\n   *          toggleVisibilityButton: false,\r\n   *          customAnchorSelector: '#custom-toolbar-here',\r\n   *      }\r\n   *   }\r\n   * </pre></code>\r\n   *\r\n   * @param {Boolean} options.toolbars.popupButtonAlwaysVisible=true - Always display popup button(If any toolbar uses it)\r\n   *\r\n   * @param {DrawerToolbar.defaultToolbarOptions} options.toolbars.drawingTools - Configuration of \"Drawing tools\" toolbar\r\n   *\r\n   * @param {DrawerToolbar.defaultToolbarOptions} options.toolbars.toolOptions - Configuration of \"Tool options\" toolbar\r\n   *\r\n   * @param {DrawerToolbar.defaultToolbarOptions} options.toolbars.settings - Configuration of \"Drawer settings\" toolbar\r\n   *\r\n   * @param {Object} options.tooltipCss\r\n   * Allows css customizations of buttons tooltips. Could be any valid css\r\n   * object that will be passed directly to jQuery.css method.\r\n   * <br><br>\r\n   * Example:\r\n   * <code><pre>\r\n   *   {\r\n   *    background: 'green',\r\n   *    color: 'red'\r\n   *   }\r\n   * </pre></code>\r\n   *\r\n   * @param {String} options.activeColor=#19A6FD\r\n   * Specifies default active color for drawer(the one that will be selected on\r\n   * initialization).\r\n   *\r\n   * @param {String} options.align  left|right|center|inline|floating\r\n   * Specifies drawer align.\r\n   * Drawer can be moved via MovableFloatingMode only if align is 'floating'\r\n   * <br><br>\r\n   *\r\n   * @param {Boolean} options.transparentBackground\r\n   * Specifies if drawer canvas has transparent background.\r\n   * <br><br>\r\n   *\r\n   * @param {String} options.texts\r\n   * Object containing strings with translations/texts to use.\r\n   * <br>\r\n   * String keys could be found in Localization_en.js file.\r\n   * <br><br>\r\n   * Example:\r\n   * <code><pre>\r\n   *   {\r\n   *    'Free drawing mode': 'Pencil',\r\n   *   }\r\n   * </pre></code>\r\n   *\r\n   * @param {Array} options.plugins\r\n   * List of plugin names that drawer will use. Please see a full list here:\r\n   * {@link DrawerJs.plugins}\r\n   *\r\n   * Example:\r\n   * <code><pre>\r\n     * plugins: [\r\n   *  // Drawing tools\r\n   *  'Pencil',\r\n   *  'Eraser',\r\n   *  'Text',\r\n   *  'Line',\r\n   *  'ArrowOneSide',\r\n   *  'ArrowTwoSide',\r\n   *  'Triangle',\r\n   *  'Rectangle',\r\n   *  'Circle',\r\n   *\r\n   *  // Drawing options\r\n   *  'ColorpickerRedactor',\r\n   *  'BrushSize',\r\n   *  'Resize'\r\n   * ],\r\n   * </pre></code>\r\n   *\r\n   * @param {Object} options.pluginsConfig\r\n   * Each Drawer plugin could have its own configuration and could be\r\n   * configured by this section.\r\n   * <br><br>\r\n   *\r\n   * This is the object which keys are plugin names and values are objects\r\n   * with plugin configuration fields.\r\n   * <br><br>\r\n   *\r\n   * Plugins names and documentation about each plugin could be found here:\r\n   * {@link DrawerJs.plugins}.\r\n   * Look at plugin's constructor `<code>options</code>` argument.\r\n   * <br><br>\r\n   *\r\n   * For example we would like to configure\r\n   * {@link DrawerJs.plugins.Text} and {@link DrawerJs.plugins.Eraser}\r\n   * plugins:\r\n   * <code><pre class=\"prettyprint\">\r\n   * pluginsConfig: {\r\n   *   \"Text\": {\r\n   *     \"fonts\": {\r\n   *       \"Georgia\": 'Georgia, serif',\r\n   *       \"Palatino\": \"'Palatino Linotype', Palatino, serif\"\r\n   *     },\r\n   *     \"defaultFont\": 'Georgia'\r\n   *   },\r\n   *   \"Eraser\": {\r\n   *     \"cursorUrl\": \"url(assets/eraser_cursor.cur), default\"\r\n   *   }\r\n   * }\r\n   * </code></pre>\r\n   *\r\n   * @param {Object} options.defaultActivePlugin\r\n   * Activates default tool, if options.defaultActivePlugin is set;\r\n   * MUST contain keys:\r\n   * name - name of plugin\r\n   * mode - one of : ['always', 'onNew', 'lastUsed']\r\n   * Depending on options.defaultActivePlugin.mode :\r\n   * 'always'   - same plugin will be always actived\r\n   * 'onNew'    - default plugin is actiavted, only if canvas is empty\r\n   * 'lastUsed' - on first drawer run plugin options.defaultActivePlugin.name, on consecutive - last used tool\r\n   *\r\n   * @param {Object} options.canvasProperties\r\n   * Specifies fabricjs options that will be passed directly to fabricjs\r\n   * canvas instance on creation.\r\n   *\r\n   * @param {String} options.canvasProperties.selectionColor\r\n   * Specifies color of selection rectangle.\r\n   *\r\n   *\r\n   * @param {number[]} options.canvasProperties.selectionDashArray\r\n   * What it allows us to do is make selection lines dashed.\r\n   * <br><br>\r\n   *\r\n   * The way to define dash pattern is by specifying intervals via an array.\r\n   * <br><br>\r\n   * So to create a pattern where there's one long dash followed by one short\r\n   * dash, we could use something like <code>[10, 5]</code>\r\n   * as \"selectionDashArray\".\r\n   * <br>\r\n   *\r\n   * This will draw a line that's 10px long, then skip 5px, draw 10px line\r\n   * again, and so on.<br>\r\n   * If we were to use <code>[2, 4, 6]</code> array, the pattern would be\r\n   * created by drawing 2px line, then skipping 4px, then drawing 6px line,\r\n   * then skipping 2px, then drawing 4px line, then skipping 6px, and so on.\r\n   * You get the point.\r\n   *\r\n   *\r\n   * @param {number} options.canvasProperties.selectionLineWidth\r\n   * Specifies selection line width in pixels.\r\n   *\r\n   *\r\n   * @param {String} options.canvasProperties.selectionBorderColor\r\n   * Specifies selection line color.\r\n   *\r\n   *\r\n   * @param {Object} options.objectControls\r\n   * Specifies the appearance of selected object controls.\r\n   *\r\n   *\r\n   * @param {String} options.objectControls.borderColor\r\n   * Specifies selected object border color.\r\n   *\r\n   *\r\n   * @param {float} options.objectControls.borderOpacityWhenMoving\r\n   * Specifies border opacity when object is selected and in moving process.\r\n   *\r\n   *\r\n   * @param {String} options.objectControls.cornerColor\r\n   * Specified color of control corners for resizing/rotating.\r\n   *\r\n   *\r\n   * @param {number} options.objectControls.cornerSize\r\n   * Specifies size of corners for resizing/rotating.\r\n   *\r\n   *\r\n   * @param {boolean} options.objectControls.hasBorders\r\n   * Toggles visibility of selected object border.\r\n   *\r\n   * @param {Object} options.objectControlsTouch\r\n   * The same as <code>objectControls</code> but will be used\r\n   * when touch device is detected.\r\n   *\r\n   * @param {Function} options.detectTouch\r\n   * A custom function that will be used by drawer to determine whether it is\r\n   * running on touch device or not.\r\n   * <br><br>\r\n   *\r\n   * This function must return <code>true</code> or <code>false</code>.\r\n   * <br><br>\r\n   *\r\n   * <code>true</code> means that touch device is detected and drawer should\r\n   * adjust its toolbar sized, add touch events etc.\r\n   * <br><br>\r\n   *\r\n   * Note that if this function is not specified, drawer will use its own\r\n   * detection mechanism.\r\n   * <br><br>\r\n   *\r\n   * To disable any detection simply set this parameter to such function:\r\n   * <code><pre>function() { return false; }</pre></code>\r\n   *\r\n   *\r\n   * @param {Object} options.contentConfig\r\n   * Specifies data-management configuration and controls where canvas element\r\n   * will store its information.\r\n   *\r\n   *\r\n   * @param {number} options.contentConfig.saveAfterInactiveSec\r\n   * Specifies number of seconds to wait after user interaction.\r\n   * If nothing happens in that time - canvas will be saved.\r\n   * Any interaction resets the timer.\r\n   *\r\n   * @param {boolean} options.contentConfig.saveInHtml\r\n   * Controls whether a drawer will save its content to underlying\r\n   * image element.\r\n   * <br><br>\r\n   *\r\n   * If <code>true</code>, canvas objects data will be serialized to JSON and\r\n   * appended to image's <code>data-canvas-serialized</code> attribute.\r\n   * <br><br>\r\n   *\r\n   * Note that JSON could be huge on canvases with a lot of objects and\r\n   * freedrawings.\r\n   *\r\n   *\r\n   * @param {String|jQuery} options.contentConfig.imagesContainer\r\n   * Specifies external data container for canvas images data.\r\n   * <br><br>\r\n   *\r\n   * Canvas will serialize itself into base64 encoded png image and\r\n   * store it as json-encoded text to that container.\r\n   * <br><br>\r\n   *\r\n   * This could be used for storing rendered images separately from content.\r\n   * <br><br>\r\n   *\r\n   * JSON example:\r\n   * <code><pre>\r\n   * {\r\n   *    'canvas_id': 'base64/png .....'\r\n   * }\r\n   * </pre></code>\r\n   *\r\n   *\r\n   * @param {String|jQuery} options.contentConfig.canvasDataContainer\r\n   * Specifies external data container for canvas data.\r\n   * <br><br>\r\n   *\r\n   * Canvas will serialize itself into json object containing all the vector\r\n   * objects on canvas and its parameters like angle, color etc.\r\n   * <br><br>\r\n   *\r\n   * This could be used for storing canvas vector data separately from content.\r\n   * <br><br>\r\n   *\r\n   * JSON example:\r\n   * <code><pre>\r\n   * {\r\n   *    'canvas_id': {\r\n   *        'objects': []\r\n   *    }\r\n   * }\r\n   * </pre></code>\r\n   *\r\n   * @param {Function} options.contentConfig.loadCanvasData\r\n   * Specifies a function that will be called when editable canvas needs to\r\n   * load its fabricjs data.\r\n   * <br><br>\r\n   * <code>function(canvasId)</code>\r\n   *\r\n   * @param {Function} options.contentConfig.saveCanvasData\r\n   * Specifies a function that will be called when editable canvas needs to\r\n   * store its fabricjs data.\r\n   * <br><br>\r\n   * <code>function(canvasId, canvasData)</code>\r\n   *\r\n   * @param {Function} options.contentConfig.loadImageData\r\n   * Specifies a function that will be called when editable canvas needs to\r\n   * load base64/png image data data.\r\n   * <br><br>\r\n   * <code>function(canvasId)</code>\r\n   *\r\n   * @param {Function} options.contentConfig.saveImageData\r\n   * Specifies a function that will be called when editable canvas needs to\r\n   * save base64/png image data data.\r\n   * <br><br>\r\n   * <code>function(canvasId, imageData)</code>\r\n   *\r\n   * @param {string} options.basePath\r\n   * Base web url from which all needed drawer files (assets basically)\r\n   * will be loaded. If null, drawer will try to determine it by itself by\r\n   * parsing it's script 'src' tag.\r\n   *\r\n   * @param width {number}   Width in px\r\n   * @param height {number}  Height in px\r\n   *\r\n   * @memberof DrawerJs\r\n   * @constructor\r\n   */\r\n  var Drawer = function DrawerConstructor(redactorInstance, options,\r\n                                          width, height) {\r\n    var _this = this;\r\n    this.mode = this.MODE_INACTIVE;\r\n    this.redactorInstance = redactorInstance;\r\n    this.id = Math.random().toString().replace('0.', '');\r\n    this.width = width || 0;\r\n    this.height = height || 0;\r\n\r\n    /**\r\n     * Use jQuery's event system to dispatch events\r\n     * @type {jQuery}\r\n     * @private\r\n     */\r\n\r\n    this._eventEmitter = $({});\r\n\r\n    this.api = new namespace.DrawerApi(this);\r\n\r\n    this.setOptions(options);\r\n\r\n\r\n    /**\r\n     * Image element for previewing canvas.\r\n     * @type {jQuery}\r\n     */\r\n    this.$imageElement = null;\r\n\r\n    /**\r\n     * Container for all editing controls.\r\n     * @type {jQuery}\r\n     */\r\n    this.$canvasEditContainer = null;\r\n\r\n    /**\r\n     * Aligment css riles for this canvas.\r\n     * Those rules will be applied to image when edit mode is off,\r\n     * and to canvas edit box when edit mode is on.\r\n     * @type {{}}\r\n     */\r\n    this.aligmentCss = {};\r\n\r\n    // toolbars manager\r\n    this.toolbars = new DrawerToolbarManager(this);\r\n    // this.loadPlugins();\r\n\r\n    if (_this.options.detectTouch) {\r\n      if (_this.options.detectTouch.constructor.name !== 'Function') {\r\n        throw new Error('detectTouch should be a function which will be ' +\r\n        'called when Drawer needs to determine whether it is working ' +\r\n        'on touch device');\r\n      }\r\n\r\n      _this.touchDevice = _this.options.detectTouch(_this);\r\n    } else {\r\n      _this.touchDevice = /(iPhone|iPod|iPad|BlackBerry|Android)/\r\n        .test(navigator.userAgent);\r\n\r\n      $('body').on('touchstart.DrawerTouchCheck', function () {\r\n        _this.touchDevice = true;\r\n        $('body').off('touchstart.DrawerTouchCheck');\r\n        _this.log('touch', 'Found touch screen');\r\n      });\r\n    }\r\n\r\n    _this.$canvasDataContainer = null;\r\n    if (_this.options.contentConfig.canvasDataContainer) {\r\n      _this.$canvasDataContainer =\r\n        $(_this.options.contentConfig.canvasDataContainer);\r\n\r\n      if (_this.$canvasDataContainer.length < 1) {\r\n        _this.$canvasDataContainer = null;\r\n        throw new Error('contentConfig.canvasDataContainer provided but ' +\r\n        'not found in DOM: ' +\r\n        _this.options.contentConfig.canvasDataContainer);\r\n      }\r\n    }\r\n\r\n    _this.$imagesContainer = null;\r\n    if (_this.options.contentConfig.imagesContainer) {\r\n      _this.$imagesContainer =\r\n        $(_this.options.contentConfig.imagesContainer);\r\n\r\n      if (_this.$imagesContainer.length < 1) {\r\n        _this.$imagesContainer = null;\r\n        throw new Error('contentConfig.imagesContainer provided but ' +\r\n        'not found in DOM: ' +\r\n        _this.options.contentConfig.imagesContainer);\r\n      }\r\n    }\r\n\r\n    var inlineStyles = '' +\r\n      '.editable-canvas-not-edited {' +\r\n        'background: url(' + this.options.defaultImageUrl + ') no-repeat !important;' +\r\n        'background-size: contain !important;' +\r\n      '}';\r\n\r\n    util.addStyle(inlineStyles);\r\n\r\n    return this;\r\n  };\r\n\r\n\r\n  Drawer.prototype.api = {};\r\n\r\n  Drawer.prototype.MODE_PREPARING = 'mode:preparing';\r\n  Drawer.prototype.MODE_ACTIVE = 'mode:active';\r\n  Drawer.prototype.MODE_INACTIVE = 'mode:inactive';\r\n\r\n\r\n\r\n  /**\r\n   * Sets new  drawer options. Reloads plugins.\r\n   * @param {Object} options\r\n   */\r\n  Drawer.prototype.setOptions = function(options) {\r\n      this.options = $.extend(true, this.defaultOptions || {}, options || {});\r\n\r\n      this.onOptionsUpdated(true);\r\n  };\r\n\r\n  /**\r\n   * Get config of plugin\r\n   * @param {String} name - name of plugin\r\n   * @returns {Object} - config of plugin\r\n   */\r\n  Drawer.prototype.getPluginConfig = function(name) {\r\n    var result = {},\r\n        nameIsValid = name && typeof name === 'string' && name.length,\r\n        pluginConfig = nameIsValid && this.options.pluginsConfig[name],\r\n        textPluginConfig = nameIsValid && this.options.pluginsConfig.Text && this.options.pluginsConfig.Text[name];\r\n\r\n    if (pluginConfig) {\r\n      result = $.extend(true, result, pluginConfig);\r\n    }\r\n    if (textPluginConfig) {\r\n      result = $.extend(true, result, textPluginConfig);\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Update current options.\r\n   * If optionsToUpdate has plugins key, plugins will be reloaded\r\n   *\r\n   * @param  {Object} optionsToUpdate options object\r\n   */\r\n  Drawer.prototype.updateOptions = function(optionsToUpdate) {\r\n      optionsToUpdate = optionsToUpdate || {};\r\n      this.options = $.extend(true, this.options, optionsToUpdate);\r\n\r\n      var doReloadPlugins = false;\r\n      if (optionsToUpdate.plugins) {\r\n          // replace old plugin list with new, not extend\r\n          this.options.plugins = optionsToUpdate.plugins;\r\n          doReloadPlugins = true;\r\n      }\r\n\r\n      this.onOptionsUpdated(doReloadPlugins);\r\n  };\r\n\r\n\r\n\r\n\r\n  Drawer.prototype.onOptionsUpdated = function(reloadPlugins) {\r\n      if(this.options.basePath) {\r\n          util.setDrawerFolderUrl(this.options.basePath);\r\n       }\r\n\r\n      // hotfix for paths containing drawer folder\r\n      this.options.canvasProperties.rotationCursor = 'url(' + util.getDrawerFolderUrl() + 'assets/cursor-fa-rotate-right.cur), default';\r\n\r\n      if (!this.activeColor) {\r\n          this.activeColor = this.options.activeColor || this.defaultOptions.activeColor;\r\n      }\r\n    if (this.activeOpacity === undefined) {\r\n      this.activeOpacity = this.options.activeOpacity || this.defaultOptions.activeOpacity;\r\n    }\r\n\r\n      if (reloadPlugins) {\r\n        this.loadPlugins();\r\n        if (this.toolbars) {\r\n          this.toolbars.resetAllToolbars();\r\n        }\r\n      }\r\n  };\r\n\r\n  /**\r\n   * Unloads all plugins,\r\n   */\r\n  Drawer.prototype.unloadPlugins = function() {\r\n      for (var key in this._pluginsInstances) {\r\n        this.unloadPlugin(key);\r\n      }\r\n  };\r\n\r\n\r\n  /**\r\n   * Unload plugin by name.\r\n   */\r\n  Drawer.prototype.unloadPlugin = function(pluginName) {\r\n    if (this._pluginsInstances.hasOwnProperty(pluginName)) {\r\n        var tool = this._pluginsInstances[pluginName];\r\n        if (tool.removeTool) {\r\n            tool.removeTool(true);\r\n        }\r\n      delete this._pluginsInstances[pluginName];\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Load plugin\r\n   * @param {String} pluginName - name of plugin to load\r\n   */\r\n  Drawer.prototype.loadPlugin = function (pluginName) {\r\n    if (!pluginName || !pluginsNamespace[pluginName]) {\r\n      this.error('Drawer: Load plugin error - ' + pluginName + '. No such plugin.');\r\n      return;\r\n    }\r\n\r\n    var alreadyInitialized = this._pluginsInstances[pluginName],\r\n        isCorePlugin = this.options.corePlugins && this.options.corePlugins.indexOf(pluginName) !== -1;\r\n    if (alreadyInitialized) {\r\n      if (!isCorePlugin) {\r\n        this.error('Drawer: Load plugin error - ' + pluginName + '. Plugin should not be specified multiple times.');\r\n      }\r\n      return;\r\n    }\r\n\r\n    try {\r\n      var pluginConfig = {};\r\n      if (this.options.pluginsConfig[pluginName]) {\r\n        pluginConfig = this.options.pluginsConfig[pluginName];\r\n      }\r\n      var plugin = new pluginsNamespace[pluginName](this, pluginConfig);\r\n      this._pluginsInstances[pluginName] = plugin;\r\n    } catch (err) {\r\n      this.error('Drawer: Load plugin error - ' + pluginName + '.');\r\n      this.error(err);\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Create plugins instances, according to options.plugins list\r\n   */\r\n  Drawer.prototype.loadPlugins = function() {\r\n    if (!this._pluginsInstances) {\r\n      this._pluginsInstances = {};\r\n    } else {\r\n      this.unloadPlugins();\r\n    }\r\n\r\n    if (this.options.corePlugins) {\r\n      for (var j = 0; j < this.options.corePlugins.length; j++) {\r\n        this.loadPlugin(this.options.corePlugins[j]);\r\n      }\r\n    }\r\n    if (this.options.plugins) {\r\n      for (var i = 0; i < this.options.plugins.length; i++) {\r\n        this.loadPlugin(this.options.plugins[i]);\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  Drawer.prototype.log = function (tag, msg) {\r\n    if (this.options.debug) {\r\n      console.log('%c[' + tag + ']', 'color: green', msg);\r\n    }\r\n  };\r\n\r\n  Drawer.prototype.error = function (msg) {\r\n    if (this.options.debug) {\r\n      console.error(msg);\r\n    }\r\n  };\r\n\r\n  Drawer.prototype.clickEvent = function (namespace) {\r\n    return 'click.' + namespace + ' touchend.' + namespace;\r\n  };\r\n\r\n\r\n  /**\r\n   * Returns html string that should be appended to DOM and will represent\r\n   * editable canvas.\r\n   *\r\n   * @returns {String}\r\n   */\r\n  Drawer.prototype.getHtml = function () {\r\n    var img = $('<img>')\r\n      .css({\r\n        'display': 'inline-block',\r\n        'width': this.width ||  this.options.defaultWidth,\r\n        'height': this.height || this.options.defaultHeight,\r\n        'background': this.options.backgroundCss\r\n      })\r\n      .addClass('editable-canvas-image')\r\n      .addClass('editable-canvas-not-edited')\r\n      .attr('id', 'canvas_image_' + this.id)\r\n      .attr('data-redactor-drawer-enabled', true)\r\n      .attr('src', '');\r\n\r\n    if (this.options.borderCss) {\r\n      img.css('border', this.options.borderCss);\r\n    }\r\n\r\n    return $(img)[0].outerHTML;\r\n  };\r\n\r\n  /**\r\n   * This method should be called every time display properties of canvas\r\n   * change to properly restore them after sync/load.\r\n   */\r\n  Drawer.prototype.updateAligmentCss = function () {\r\n    this.aligmentCss = this.getAligmentCssFor(this.$imageElement);\r\n  };\r\n\r\n  Drawer.prototype.getAligmentCssFor = function (element) {\r\n    var styles = window.getComputedStyle(element[0]),\r\n        aligmentCss = {\r\n      'display': styles.display,\r\n      'float': styles.float,\r\n      'margin-left': styles.marginLeft,\r\n      'margin-right': styles.marginRight,\r\n      'position': styles.position,\r\n      'left': styles.left,\r\n      'top': styles.top\r\n    };\r\n\r\n    if (element.attr('data-margin-left')) {\r\n      aligmentCss['margin-left'] = element.attr('data-margin-left');\r\n    }\r\n\r\n    if (element.attr('data-margin-right')) {\r\n      aligmentCss['margin-right'] = element.attr('data-margin-right');\r\n    }\r\n\r\n    return aligmentCss;\r\n  };\r\n\r\n  Drawer.prototype.setAligmentCssFor = function (element, css) {\r\n    if (element.css('display') == 'none') {\r\n      delete css.display;\r\n    }\r\n\r\n    element.css(css);\r\n\r\n    if (css['margin-left'] && css['margin-left'] == 'auto') {\r\n      element.css('margin-left', 'auto');\r\n      element.attr('data-margin-left', 'auto');\r\n    }\r\n\r\n    if (css['margin-right'] && css['margin-right'] == 'auto') {\r\n      element.css('margin-right', 'auto');\r\n      element.attr('data-margin-right', 'auto');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Should be called after inserting this element to DOM\r\n   * to setup necessary event handlers etc.\r\n   */\r\n  Drawer.prototype.onInsert = function () {\r\n    var _this = this;\r\n\r\n    $(document).off(this.clickEvent('DrawerStop' + this.id));\r\n\r\n    // If we have no image element here - this is the first run\r\n    var firstRun = !this.$imageElement;\r\n\r\n    this.$imageElement = $(document.getElementById('canvas_image_' + this.id));\r\n\r\n    if (firstRun) {\r\n      if (this.options.align) {\r\n         this.aligmentCss = this._generateAlignCss(this.options.align);\r\n      } else {\r\n        this.aligmentCss = this.getAligmentCssFor(this.$imageElement);\r\n      }\r\n\r\n      this.width = this.$imageElement.outerWidth();\r\n      this.height = this.$imageElement.outerHeight();\r\n      this.$imageElement.removeClass('edit-mode');\r\n    }\r\n\r\n    if (this.$imageElement.attr('src').length < 1 &&\r\n      !this.$imageElement.hasClass('editable-canvas-not-edited')) {\r\n      this.$imageElement.attr('src', this.getImageData());\r\n      this.$imageElement.removeClass('editable-canvas-not-edited');\r\n    }\r\n\r\n    //this.setSize(this.width, this.height);\r\n    this.setAligmentCssFor(this.$imageElement, this.aligmentCss);\r\n\r\n    // since this function can be called multiple times in a row\r\n    // (it's called every time something in redactor changes)\r\n    // we should clear previously set handlers.\r\n    if (this.options.editOnClick) {\r\n      this.$imageElement.off();\r\n      util.bindClick(this.$imageElement, 'Drawer', function (event) {\r\n        _this._startEditing();\r\n      });\r\n    } else {\r\n      this.$imageElement.off(_this.clickEvent('Drawer'));\r\n      this.$imageElement.on(_this.clickEvent('Drawer'), function () {\r\n        _this.drawCanvasControls();\r\n      });\r\n    }\r\n\r\n    // set global click handler\r\n    util.bindClick($(document), 'Drawer', this._globalClickHandler.bind(this));\r\n\r\n    // call onOptionsChange on EVENT_OPTIONS_CHANGED\r\n    this.on(this.EVENT_OPTIONS_CHANGED, this.onOptionsChange.bind(this));\r\n    // call onOptionsChange on EVENT_CANVAS_READY, for initial setup\r\n    this.on(this.EVENT_CANVAS_READY, this.onOptionsChange.bind(this));\r\n  };\r\n\r\n\r\n  /**\r\n   * Intercept all click events and check their targets.\r\n   * if target is inside canvas edit box - do nothing.\r\n   * otherwise - trigger 'stopEditing' method.\r\n   *\r\n   * @param  {Event} event click\r\n   */\r\n  Drawer.prototype._globalClickHandler = function(event) {\r\n      var parentDrawerBox = $(event.target).parents('#redactor-drawer-box');\r\n\r\n      if (parentDrawerBox.length > 0) {\r\n        if (parentDrawerBox.attr('data-canvas-id') != this.id) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n\r\n      if (event.target.id == 'canvas_image_' + this.id) {\r\n        return false;\r\n      }\r\n\r\n      if (event.target.id == 'redactor-image-editter' &&\r\n        $(event.target).attr('data-canvas-id') == this.id) {\r\n        return false;\r\n      }\r\n\r\n      if ($(event.target).parents('#redactor-modal').length > 0) {\r\n        return false;\r\n      }\r\n\r\n      if (this.$canvasEditContainer) {\r\n        // ignore outside mouse-up while resizing\r\n        var needToStop = this.options.exitOnOutsideClick &&\r\n            !this.resizingNow &&\r\n            !this.croppingNow &&\r\n            !this.movingNow &&\r\n            !this.fullscreenMode &&\r\n            !this.drawingInProgress &&\r\n            !this.isBrushDrawing;\r\n        if (needToStop) {\r\n          this._stopEditing();\r\n        }\r\n      }\r\n  };\r\n\r\n  /**\r\n   * Activates on the 'onclick' handler\r\n   * to draw controls ('Edit in drawer button') over image.\r\n   *\r\n   * Redactor automatically places 'onclick' handler on image when it is appended,\r\n   * so it will fire first and it will place image edit html\r\n   * over image ('Edit' at the center).\r\n   * That handler is Redactor.image.loadEditableControls(imageElement);\r\n   *\r\n   * Our handler will file later with that edit html appended, so all we need is\r\n   * to correct button's title and to change 'onclick' handler of edit-box\r\n   * to ours.\r\n   */\r\n  Drawer.prototype.drawCanvasControls = function () {\r\n    var _this = this;\r\n    // use default image module to generate markup\r\n    //this.redactorInstance.image.loadEditableControls(this.imageElement);\r\n\r\n    // enable click handlers\r\n    var $editter = $('#redactor-image-editter');\r\n    $editter.attr('data-canvas-id', this.id);\r\n    $editter.text('Edit in Drawer');\r\n    // position correction\r\n    $editter.css('margin-left', '-' + $editter.innerWidth() / 2 + 'px');\r\n    $editter.off('click');\r\n\r\n    $editter.on('click', function () {\r\n      _this._startEditing();\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Turns on edit mode.\r\n   *\r\n   * Hides image element, appends fabricjs canvas element after image,\r\n   * adds toolbars for drawing etc.\r\n   *\r\n   * @private\r\n   */\r\n  Drawer.prototype._startEditing = function () {\r\n    this.log('canvasEditMode', 'startEditing()');\r\n    var _this = this;\r\n    if (this.mode != this.MODE_INACTIVE) {\r\n      this.log('Drawer.startEditing(): already in active mode');\r\n      return;\r\n    }\r\n    this.mode = this.MODE_PREPARING;\r\n\r\n    // since we are working inside redactor's editing area which has\r\n    // contenteditable=true, every our click to canvas/image/canvas edit\r\n    // controls etc will be propagated to redactor's editbox and keyboard\r\n    // will be shown on touch devices.\r\n    // To prevent that we need to set contenteditable=false every time canvas\r\n    // goes into editing mode.\r\n    if (_this.redactorInstance) {\r\n      _this.redactorInstance.$editor.attr('contenteditable', 'false');\r\n    }\r\n\r\n    _this._previousFocusedElement = document.activeElement;\r\n    $(document.activeElement).blur();\r\n\r\n    // user can resize image so we need to update our w/h.\r\n    this.width = this.$imageElement.outerWidth();\r\n    this.height = this.$imageElement.outerHeight();\r\n\r\n    this.$imageElement.addClass('edit-mode');\r\n    this.$imageElement.removeClass('editable-canvas-not-edited');\r\n\r\n    var $canvas = $('<canvas width=\"' + this.width + '\"' +\r\n    ' height=\"' + this.height + '\" />');\r\n\r\n    this.$canvasEditContainer = $('<span id=\"redactor-drawer-box\" ' +\r\n    'data-canvas-id=\"' + this.id + '\" tabindex=\"0\"></span>');\r\n    this.$canvasEditContainer = $('<span></span>');\r\n    this.$canvasEditContainer.attr('id', 'redactor-drawer-box');\r\n    this.$canvasEditContainer.attr('data-canvas-id', this.id);\r\n    this.$canvasEditContainer.attr({\r\n      'id':'redactor-drawer-box',\r\n      'class': 'drawer-instance-container',\r\n      'data-canvas-id': this.id,\r\n      'tabindex': '0'\r\n    });\r\n\r\n    if (this.options.borderCss) {\r\n      this.$canvasEditContainer.css('border', this.options.borderCssEditMode);\r\n    }\r\n\r\n    if (this.touchDevice) {\r\n      this.$canvasEditContainer.addClass('touch');\r\n    }\r\n    this.$canvasEditContainer.css({\r\n      'position': 'absolute'\r\n    });\r\n\r\n    this.aligmentCss = this.getAligmentCssFor(this.$imageElement);\r\n\r\n    this.$canvasEditContainer.append($canvas);\r\n\r\n    $('body').append(this.$canvasEditContainer);\r\n    this.adjustEditContainer();\r\n    $(window).on('resize.drawer' + this.id, function () {\r\n      _this.adjustEditContainer(false, true);\r\n    });\r\n\r\n    if (this.redactorInstance) {\r\n      this.redactorInstance.image.hideResize();\r\n    }\r\n\r\n    // get serialized canvas\r\n    var serializedCanvas = this.getCanvasData();\r\n\r\n    // create fabricJs canvas\r\n    this.fCanvas = new namespace.Canvas($canvas.get(0));\r\n    this.fCanvas.selection = false; // [DRW-74] Prevent selecting multiple objects\r\n\r\n    if (this.options && this.options.canvasProperties) {\r\n      $.each(this.options.canvasProperties, function (k, v) {\r\n        _this.fCanvas[k] = v;\r\n      });\r\n    }\r\n\r\n    this.$canvasEditContainer\r\n      .css('background', this.$imageElement.css('background'));\r\n\r\n    this.loadCanvas(serializedCanvas);\r\n  };\r\n\r\n\r\n  /**\r\n   * Turns off edit mode.\r\n   *\r\n   * Serializes all objects painted on canvas to base64 and sets it as\r\n   * this.imageElement 'src' attribute.\r\n   *\r\n   * Serializes all objects painted on canvas to json and sets it as\r\n   * this.imageElement 'data-canvas-serialized' attribute, so all canvas objects\r\n   * could be restored for editing later.\r\n   *\r\n   * @private\r\n   */\r\n  Drawer.prototype._stopEditing = function () {\r\n    this.log('canvasEditMode', '_stopEditing()');\r\n    if (this.mode == this.MODE_INACTIVE) {\r\n      this.log('canvasEditMode', '_stopEditing(): already stopped, mode is INACTIVE');\r\n      return;\r\n    }\r\n\r\n    // see startEditingMethod for the reason of making redactor uneditable\r\n    if (this.redactorInstance) {\r\n      this.redactorInstance.$editor.attr('contenteditable', 'true');\r\n    }\r\n\r\n    // deactivate all tools\r\n    this.trigger(this.EVENT_DO_DEACTIVATE_ALL_TOOLS);\r\n\r\n    // torn off any selection on objects\r\n    if (this.fCanvas) {\r\n      this.fCanvas.deactivateAll();\r\n    }\r\n\r\n    // image should show what has been painted on canvas\r\n    this.$imageElement.attr('src', this.getImageData());\r\n    this.$imageElement.removeClass('edit-mode');\r\n    this.$imageElement.removeClass('editable-canvas-not-edited');\r\n\r\n    this.syncCanvasData();\r\n\r\n    this.$imageElement.show();\r\n\r\n    if (this.$canvasEditContainer) {\r\n      this.$canvasEditContainer.remove();\r\n      this.$canvasEditContainer = null;\r\n    }\r\n\r\n    $(window).off('resize.drawer' + this.id);\r\n\r\n    this.trigger(this.EVENT_EDIT_STOP);\r\n    this.mode = this.MODE_INACTIVE;\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param {String} newColor\r\n   */\r\n  Drawer.prototype.setActiveColor = function (newColor) {\r\n    var currActiveObject = this.fCanvas.getActiveObject(),\r\n        currActiveTool = this.activeDrawingTool,\r\n        colorPluginInstance = this._pluginsInstances.Color,\r\n        colorPickerControl = colorPluginInstance && colorPluginInstance.colorControl;\r\n\r\n\r\n    this.activeColor = newColor;\r\n    this.options.activeColor = newColor;\r\n    if (!currActiveObject && colorPickerControl) {\r\n      colorPickerControl.setColor(newColor);\r\n    }\r\n    if (currActiveTool) {\r\n      currActiveTool.brush = null;\r\n      currActiveTool._activateTool();\r\n    }\r\n    this.trigger(this.EVENT_CANVAS_MODIFIED);\r\n  };\r\n\r\n\r\n  /**\r\n   * Changes active editor color.\r\n   * When called without attributes re-sets previously saved color to canvas.\r\n   *\r\n   * @param {String|null} [newColor]\r\n   * @param {Number|null} [newOpacity] - New opacity value\r\n   */\r\n  Drawer.prototype.setColor = function (newColor, newOpacity) {\r\n    if (newColor) {\r\n      this.activeColor = newColor;\r\n    }\r\n    if (newOpacity !== undefined) {\r\n      this.activeOpacity = newOpacity;\r\n    }\r\n\r\n    if (!this.fCanvas) {\r\n      return;\r\n    }\r\n\r\n    var activeObject = this.fCanvas.getActiveObject();\r\n    this.setOpacity(this.activeOpacity, true);\r\n    if (activeObject) {\r\n      var isLineType =  activeObject.type === 'line' || activeObject.type === 'arrow',\r\n          havePath = activeObject.path;\r\n      if (isLineType) {\r\n        activeObject.set('stroke', this.activeColor);\r\n      } else {\r\n        if (havePath) {\r\n          activeObject.set('stroke', this.activeColor);\r\n        } else {\r\n          activeObject.set('fill', this.activeColor);\r\n        }\r\n      }\r\n      this.fCanvas.renderAll();\r\n    }\r\n    this.fCanvas.freeDrawingBrush.color = this.activeColor;\r\n    this.fCanvas.freeDrawingBrush.fill = this.activeColor;\r\n    this.trigger(this.EVENT_CANVAS_MODIFIED);\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param value\r\n   * @param withoutProcessing\r\n   */\r\n  Drawer.prototype.setOpacity = function (value, withoutProcessing) {\r\n    value = value!== undefined ? value : this.activeOpacity;\r\n    this.activeOpacity = value;\r\n    var activeObject = this.fCanvas.getActiveObject();\r\n    if (activeObject) {\r\n      activeObject.set('opacity', value);\r\n    }\r\n    this.fCanvas.freeDrawingBrush.opacity = value;\r\n    if (!withoutProcessing) {\r\n      this.fCanvas.renderAll();\r\n      this.trigger(this.EVENT_CANVAS_MODIFIED);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Changes brush size in free drawing mode.\r\n   *\r\n   * @param {int|null} [newBrushSize]\r\n   */\r\n  Drawer.prototype.setBrushSize = function (newBrushSize) {\r\n    if (this.fCanvas) {\r\n      this.fCanvas.freeDrawingBrush.width = newBrushSize;\r\n    }\r\n\r\n    this.trigger(this.EVENT_BRUSH_SIZE_CHANGED);\r\n  };\r\n\r\n  /**\r\n   * Returns size of currently selected tool brush.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  Drawer.prototype.getBrushSize = function () {\r\n    var size = 0;\r\n\r\n    if (this.fCanvas) {\r\n      size = this.fCanvas.freeDrawingBrush.width;\r\n    }\r\n\r\n    return size;\r\n  };\r\n\r\n  Drawer.prototype.setBrush = function (newBrush) {\r\n    this.fCanvas.freeDrawingBrush = newBrush;\r\n    this.trigger(this.EVENT_BRUSH_CHANGED);\r\n  };\r\n\r\n  Drawer.prototype.getBrush = function () {\r\n    return this.fCanvas ? this.fCanvas.freeDrawingBrush : null;\r\n  };\r\n\r\n  /**\r\n   * Get current sizes of Drawer\r\n   * @returns {DrawerJs.DrawerApi.sizesOfDrawer}\r\n   */\r\n  Drawer.prototype.getSize = function () {\r\n    var result = {},\r\n        $container = this.$canvasEditContainer,\r\n        containerSizes = $container && $container.get(0).getBoundingClientRect(),\r\n        scrollSizes = $container && util.getScrollOffset($container);\r\n\r\n    result.top = containerSizes ? containerSizes.top : null;\r\n    result.left = containerSizes ? containerSizes.left : null;\r\n\r\n    result.scrollTop = scrollSizes ? scrollSizes.top : null;\r\n    result.scrollLeft = scrollSizes ? scrollSizes.left : null;\r\n\r\n    result.width = this.width;\r\n    result.height = this.height;\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Changes canvas size.\r\n   *\r\n   * @param {number} width\r\n   * @param {number} height\r\n   */\r\n  Drawer.prototype.setSize = function (width, height) {\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    if (this.fCanvas) {\r\n      this.fCanvas.setWidth(this.width);\r\n      this.fCanvas.setHeight(this.height);\r\n    }\r\n\r\n    this.$imageElement.css('width', this.width);\r\n    this.$imageElement.css('height', this.height);\r\n\r\n    if (this.$canvasEditContainer) {\r\n      this.$canvasEditContainer.css('width', this.width);\r\n      this.$canvasEditContainer.css('height', this.height);\r\n    }\r\n\r\n    this.adjustEditContainer(false, true);\r\n  };\r\n\r\n\r\n  /**\r\n   * Generates css for given align.\r\n   * @param  {String} alignMode left|right|center|inline|floating\r\n   * @return {Object} object with css properties\r\n   */\r\n  Drawer.prototype._generateAlignCss = function (alignMode) {\r\n    var aligmentCss = {};\r\n\r\n    switch (alignMode) {\r\n     case 'floating' :\r\n      aligmentCss['position'] = 'absolute';\r\n      aligmentCss['display'] = 'block';\r\n      aligmentCss['float'] = 'none';\r\n      aligmentCss['left'] = '0px';\r\n      aligmentCss['top'] = '0px';\r\n     break;\r\n\r\n     case 'center' :\r\n      aligmentCss['float'] = 'none';\r\n      aligmentCss['margin-left'] = 'auto';\r\n      aligmentCss['margin-right'] = 'auto';\r\n      aligmentCss['display'] = 'block';\r\n      aligmentCss['position'] = 'static';\r\n     break;\r\n\r\n     case 'left' :\r\n     case 'right' :\r\n      aligmentCss['display'] = 'block';\r\n      aligmentCss['float'] = alignMode;\r\n      aligmentCss['position'] = 'static';\r\n     break;\r\n\r\n     case 'inline' :\r\n      aligmentCss['float'] = 'none';\r\n      aligmentCss['display'] = 'inline-block';\r\n      aligmentCss['position'] = 'static';\r\n     break;\r\n\r\n     default:\r\n      aligmentCss['float'] = 'none';\r\n      aligmentCss['display'] = 'inline-block';\r\n      aligmentCss['position'] = 'static';\r\n    }\r\n\r\n    return aligmentCss;\r\n  };\r\n\r\n  /**\r\n   * Changes canvas aligment.\r\n   *\r\n   * @param {String} align left|right|center|inline|floating\r\n   */\r\n  Drawer.prototype.setAlign = function (align) {\r\n    var newAligmentCss = this._generateAlignCss(align);\r\n\r\n    this.setAligmentCssFor(this.$imageElement, newAligmentCss);\r\n    this.aligmentCss = this.getAligmentCssFor(this.$imageElement);\r\n\r\n    this.adjustEditContainer();\r\n\r\n    this.trigger(this.EVENT_CANVAS_MODIFIED);\r\n  };\r\n\r\n  /**\r\n   * Returns current aligment setting for canvas.\r\n   *\r\n   * @returns {string} align left|right|center|inline|floating\r\n   */\r\n  Drawer.prototype.getAlign = function () {\r\n    var currentAlign = 'inline';\r\n\r\n    if (this.aligmentCss['position'] == 'absolute') {\r\n      currentAlign = 'floating';\r\n    }\r\n    else if (this.aligmentCss['float'] == 'left') {\r\n      currentAlign = 'left';\r\n    } else if (this.aligmentCss['float'] == 'right') {\r\n      currentAlign = 'right';\r\n    } else if (this.aligmentCss['display'] == 'block' &&\r\n      this.aligmentCss['margin-left'] == 'auto') {\r\n      currentAlign = 'center';\r\n    }\r\n\r\n    return currentAlign;\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param {Boolean} [withAnimation]\r\n   * @param {Boolean} [doNotUseDelay] - in some conditions need to use delay to prevent animation\r\n   * @returns {boolean}\r\n   */\r\n  Drawer.prototype.adjustEditContainer = function (withAnimation, doNotUseDelay) {\r\n    var self = this,\r\n        drawerHaveAnimatedClass = this.$canvasEditContainer.hasClass('animated');\r\n    if (!this.$canvasEditContainer) {\r\n      return false;\r\n    }\r\n\r\n    var imageOffset = this.$imageElement.offset();\r\n    if (!withAnimation) {\r\n      this.$canvasEditContainer.removeClass('animated');\r\n    }\r\n    this.$canvasEditContainer.css({\r\n      top: imageOffset.top,\r\n      left: imageOffset.left\r\n    });\r\n    if (!withAnimation) {\r\n      if (doNotUseDelay) {\r\n        self.$canvasEditContainer.toggleClass('animated', !!drawerHaveAnimatedClass);\r\n      } else {\r\n        util.setTimeout(function(){\r\n          if (self.$canvasEditContainer && self.$canvasEditContainer.length) {\r\n            self.$canvasEditContainer.toggleClass('animated', !!drawerHaveAnimatedClass);\r\n          }\r\n        },0);\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Removes itself from redactor entirely.\r\n   */\r\n  Drawer.prototype.destroy = function () {\r\n    this.trigger(this.EVENT_DESTROY);\r\n    this._stopEditing();\r\n    this.$imageElement.remove();\r\n    this.syncCanvasData(true);\r\n    this.syncImageData(true);\r\n  };\r\n\r\n\r\n /**\r\n  * Activates default tool, if options.defaultActivePlugin is set;\r\n  * Name of plugin is taken from options.defaultActivePlugin.name;\r\n  * Depending on options.defaultActivePlugin.mode :\r\n  * 'always'   - same plugin will be always activated\r\n  * 'onNew'    - default plugin is activated, only if canvas is empty\r\n  * 'lastUsed' - on first drawer run plugin options.defaultActivePlugin.name, on consecutive - last used tool\r\n  */\r\n Drawer.prototype.activateDefaultPlugin = function () {\r\n  // see, if we need to activate default tool\r\n  if (!this.options.defaultActivePlugin) {\r\n    return;\r\n  }\r\n\r\n  var pluginName = this.options.defaultActivePlugin.name;\r\n  var pluginMode = this.options.defaultActivePlugin.mode;\r\n\r\n  // mode 'always' and 'lastUsed' go always; onNew - only if canvas is empty\r\n  if ((pluginMode == 'always') || (pluginMode  == 'lastUsed') ||\r\n      (pluginMode == 'onNew' && (this.fCanvas.getObjects().length === 0))) {\r\n\r\n      this.log('defaultActivePlugin', pluginMode+'/'+pluginName);\r\n\r\n    // if pluginMode is 'lastUsed' and we have already used tool - use it again\r\n    if (this.lastUsedPluginName && pluginMode  == 'lastUsed'){\r\n      pluginName = this.lastUsedPluginName;\r\n    }\r\n\r\n    // if plugin 'pluginName' exists, activate it\r\n    var defaultTool = this._pluginsInstances[pluginName];\r\n    if (defaultTool) {\r\n      this.trigger(this.EVENT_DO_ACTIVATE_TOOL, [defaultTool]);\r\n    } else {\r\n      this.log('WARNING', \"options['defaultActivePlugin']['name'] is '\" + pluginName + \"', but no such plugin found.\");\r\n    }\r\n  }\r\n\r\n };\r\n\r\n  /**\r\n   * This method will be triggered every time something on canvas change\r\n   * to perform synchronization work, trigger events etc.\r\n   *\r\n   * @param {Boolean} ignoreOptions Some options like saveAfterInactiveSec\r\n   * could modify this method behavior to postpone modify event for later\r\n   * for better performance. This param allows to ignore any options when\r\n   * {true} is passed.\r\n   */\r\n  Drawer.prototype.onCanvasModified = function (ignoreOptions) {\r\n    var _this = this;\r\n\r\n    if (ignoreOptions === undefined &&\r\n      this.options.contentConfig.saveAfterInactiveSec) {\r\n\r\n      if (this.__activityTimer !== undefined) {\r\n        _this.log('saveAfterInactiveSec', 'Cleaning previous timeout');\r\n        clearTimeout(this.__activityTimer);\r\n      }\r\n\r\n      _this.log('saveAfterInactiveSec', 'Setting up a timeout');\r\n      this.__activityTimer = util.setTimeout(function () {\r\n        _this.log('saveAfterInactiveSec',\r\n          'Timeout happened, triggering onCanvasModified');\r\n        _this.onCanvasModified(true);\r\n      }, this.options.contentConfig.saveAfterInactiveSec * 1000);\r\n\r\n      return false;\r\n    }\r\n\r\n    if (!this.redactorInstance) {\r\n      // when working inside redactor, RedactorPlugin.js will do this for us\r\n      // because one redactor instance could contain multiple Drawers and\r\n      // it's RedactorPlugin's responsibility to synchronize all canvases\r\n      // at same time\r\n      this.beforeSync();\r\n    }\r\n\r\n    this.syncCanvasData();\r\n    this.syncImageData();\r\n\r\n    this.trigger(this.EVENT_CANVAS_MODIFIED);\r\n\r\n    if (!this.redactorInstance) {\r\n      this.afterSync();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Fabric.js allows objects controls configuration to be applied only\r\n   * on instances of objects, but drawer provides global configuration\r\n   * in 'objectControls' section.\r\n   *\r\n   * This method applies that config to specified object with respect to\r\n   * touch/desktop config sections.\r\n   *\r\n   * @private\r\n   */\r\n  Drawer.prototype._updateObjectsControls = function (fObject) {\r\n    var objProps = this.options.objectControls;\r\n\r\n    if (this.touchDevice && this.options.objectControlsTouch) {\r\n      objProps = this.options.objectControlsTouch;\r\n    }\r\n\r\n    if (objProps) {\r\n      for (var propertyName in objProps) {\r\n        if (objProps.hasOwnProperty(propertyName)) {\r\n          fObject.set(propertyName, objProps[propertyName]);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  Drawer.prototype.getPluginInstance = function (pluginName) {\r\n    if (!this._pluginsInstances[pluginName]) {\r\n      throw new Error('Plugin not exists: ' + pluginName);\r\n    } else {\r\n      return this._pluginsInstances[pluginName];\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Is called on EVENT_OPTIONS_CHANGED.\r\n   * - changes background transparency\r\n   */\r\n  Drawer.prototype.onOptionsChange = function () {\r\n    if (this.options.transparentBackground) {\r\n      this.$imageElement.css('background', 'transparent');\r\n      this.$canvasEditContainer.css('background', 'transparent');\r\n    } else {\r\n      this.$imageElement.css('background', 'white');\r\n      this.$canvasEditContainer.css('background', 'white');\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Returns translated text string from default vocabulary of from\r\n   * specified 'texts' config.\r\n   *\r\n   * If string not found console.warn will be used and provided textString\r\n   * will be returned.\r\n   *\r\n   * @param textString\r\n   */\r\n  Drawer.prototype.t = function (textString) {\r\n    if (this.options.texts[textString]) {\r\n      return this.options.texts[textString];\r\n    } else {\r\n      // console.warn('String not found in texts:' + textString);\r\n      return textString;\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Shows error message to user.\r\n   *\r\n   * @param {String} err\r\n   */\r\n  Drawer.prototype.showError = function(err) {\r\n    // @todo: replace alert!\r\n    alert(err);\r\n  };\r\n\r\n  /**\r\n   * Returns x coord of drawer left-top\r\n   *\r\n   * @return {Number} left\r\n   */\r\n  Drawer.prototype.left = function() {\r\n    return this.$canvasEditContainer.css('left').replace('px', '') | 0;\r\n  };\r\n\r\n  /**\r\n   * Returns y coord of drawer left-top\r\n   *\r\n   * @return {Number} left\r\n   */\r\n  Drawer.prototype.top = function() {\r\n    return this.$canvasEditContainer.css('top').replace('px', '') | 0;\r\n  };\r\n\r\n  Drawer.prototype.setTemporaryStyles = function(styles) {\r\n      styles = styles || false;\r\n      var stylesAreValid = !!styles,\r\n          temporaryStyles = stylesAreValid ? $.extend(true, {}, this.fCanvas._temporaryStyles || {}, styles || {}) : false;\r\n      for (var styleName in styles) {\r\n        if (styles[styleName] === undefined) {\r\n          delete temporaryStyles[styleName];\r\n        }\r\n      }\r\n      if (temporaryStyles) {\r\n        this.fCanvas._temporaryStyles = temporaryStyles;\r\n        this.fCanvas.copiedTextStyle = {\r\n          0: temporaryStyles\r\n        };\r\n        fabric.copiedTextStyle = {\r\n          0: temporaryStyles\r\n        };\r\n      } else {\r\n        this.fCanvas._temporaryStyles = temporaryStyles;\r\n        this.fCanvas.copiedTextStyle = temporaryStyles;\r\n        fabric.copiedTextStyle = temporaryStyles;\r\n      }\r\n  };\r\n\r\n  /**\r\n   * Get position relative to canvas from event\r\n   * @param {Event} event\r\n   * @param {Boolean} [considerZoom] @todo\r\n   * @returns {Object}\r\n   */\r\n  Drawer.prototype.getRelativeEventPosition = function(event, considerZoom) {\r\n    var result = {},\r\n        absolutePosition = util.getEventPosition(event),\r\n        scrollOffset = util.getScrollOffset(this.$canvasEditContainer),\r\n        canvasContainer = this.$canvasEditContainer.get(0),\r\n        canvasContainerSizes = canvasContainer.getBoundingClientRect();\r\n\r\n    result.top = absolutePosition.top - canvasContainerSizes.top - scrollOffset.top;\r\n    result.left = absolutePosition.left - canvasContainerSizes.left - scrollOffset.left;\r\n    result.scaledTop = result.top;\r\n    result.scaledLeft = result.left;\r\n\r\n\r\n    // console.info('pos', result.left, result.scaledLeft, result.top, result.scaledTop);\r\n    return result;\r\n  };\r\n\r\n  namespace.Drawer = Drawer;\r\n}(jQuery, DrawerJs, DrawerJs.plugins, DrawerJs.util, DrawerJs.texts));\r\n\r\n(function (Drawer, util, texts) {\r\n    Drawer.prototype.defaultOptions =  {\r\n      captionText: 'Drawer',\r\n      defaultWidth : '100%',\r\n      defaultHeight : '500px',\r\n\r\n      enableImageCrop: true,\r\n\r\n      // TODO: should be fixed or removed\r\n      editOnClick: true,\r\n\r\n      exitOnOutsideClick: true,\r\n\r\n      // default color for drawing/shapes\r\n      activeColor: '#E80F07',\r\n      activeOpacity: 1,\r\n\r\n      // toolbar size in px\r\n      toolbarSize: 35,\r\n      toolbarSizeTouch: 45,\r\n\r\n      // toolbars config\r\n      // @todo: move it toolbars files?\r\n      toolbars : {\r\n        popupButtonAlwaysVisible: true,\r\n        // drawing tools toolbar config\r\n        drawingTools : {\r\n            position : 'top'         // one of [left, right, top, bottom]\r\n        },\r\n\r\n        // active tool options toolbar config\r\n        toolOptions : {\r\n            position : 'bottom'      // one of [left, right, top, bottom]\r\n        },\r\n\r\n        // drawer main toolbar config\r\n        settings  : {\r\n            position : 'right'       // one of [left, right, top, bottom]\r\n        },\r\n      },\r\n\r\n      tooltipCss: {\r\n        background: 'black',\r\n        color: 'white'\r\n      },\r\n\r\n      // properties that will be applied to fabricjs canvas on creation\r\n      canvasProperties: {\r\n        selectionColor: 'rgba(255, 255, 255, 0.3)',\r\n        selectionDashArray: [3, 8],\r\n        selectionLineWidth: 1,\r\n        selectionBorderColor: '#5f5f5f'\r\n      },\r\n\r\n      // properties that will be applied to every created object\r\n      objectControls: {\r\n        borderColor: 'rgba(102,153,255,0.75)',\r\n        borderOpacityWhenMoving: 0.4,\r\n        cornerColor: 'rgba(102,153,255,0.5)',\r\n        cornerSize: 12,\r\n        hasBorders: true\r\n      },\r\n\r\n      objectControlsTouch: {\r\n        borderColor: 'rgba(102,153,255,0.75)',\r\n        borderOpacityWhenMoving: 0.4,\r\n        cornerColor: 'rgba(102,153,255,0.5)',\r\n        cornerSize: 20,\r\n        hasBorders: true\r\n      },\r\n\r\n      contentConfig: {\r\n        saveAfterInactiveSec: null,\r\n        saveInHtml: true,\r\n        canvasDataContainer: null,\r\n        imagesContainer: null,\r\n\r\n        loadCanvasData: null,\r\n        saveCanvasData: null,\r\n\r\n        loadImageData: null,\r\n        saveImageData: null\r\n      },\r\n\r\n      backgroundCss: 'white',\r\n      borderCss: '1px dashed rgb(195, 194, 194)',\r\n      borderCssEditMode: '1px dashed rgb(195, 194, 194)',\r\n\r\n      defaultImageUrl: 'images/drawer.jpg',\r\n\r\n      plugins: [],\r\n      pluginsConfig: {},\r\n      corePlugins: ['Zoom'],\r\n\r\n      texts: texts,\r\n\r\n      basePath: null,\r\n\r\n      debug: false\r\n    };\r\n\r\n})(DrawerJs.Drawer, DrawerJs.util, DrawerJs.texts);\r\n\r\n(function (Drawer) {\r\n  /**\r\n   * This event is triggered every time user clicks on canvas to edit it.\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_EDIT_START = 'editStart';\r\n  /**\r\n   * This event is triggered every time user stops editing canvas.\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_EDIT_STOP = 'editStop';\r\n  /**\r\n   * This event is triggered when canvas is deserialized\r\n   * from image's attributes.\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_LOADED_FROM_JSON = 'loadedFromJson';\r\n  /**\r\n   * This event is triggered when canvas is deserialized, and is ready to work.\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_CANVAS_READY = 'ready';\r\n  /**\r\n   * This event is triggered after canvas resizing starts\r\n   * from image's attributes.\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_CANVAS_START_RESIZE = 'canvas:resize:start';\r\n\r\n  /**\r\n   * This event is triggered after canvas resizing starts\r\n   * from image's attributes.\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_BEFORE_RENDER = 'before:render';\r\n\r\n\r\n  /**\r\n   * This event is triggered after canvas resizing starts\r\n   * from image's attributes.\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_AFTER_RENDER = 'after:render';\r\n  /**\r\n   * This event is triggered in process of canvas resize\r\n   * from image's attributes.\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_CANVAS_RESIZING = 'canvas:resize:resizing';\r\n  /**\r\n   * This event is triggered after canvas resize stopped\r\n   * from image's attributes.\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_CANVAS_STOP_RESIZE = 'canvas:resize:stop';\r\n  /**\r\n   * This event is triggered every time user changes a brush size.\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_BRUSH_SIZE_CHANGED = 'brushSizeChanged';\r\n  /**\r\n   * This event is triggered every time user selects a tool that changes\r\n   * free drawing brush.\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_BRUSH_CHANGED = 'brushChanged';\r\n\r\n  /**\r\n   * Triggering this event will cause tool based on BaseTool to activate\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_DO_ACTIVATE_TOOL = 'activateTool';\r\n  /**\r\n   * Triggering this event will cause tool based on BaseTool to deactivate\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_DO_DEACTIVATE_TOOL = 'deactivateTool';\r\n  /**\r\n   * Triggering this event will cause to all tools based on BaseTool to deactivate.\r\n   * This event is part of lifecycle of EVENT_DO_ACTIVATE_TOOL,\r\n   * and is triggered every time after tool reacts on EVENT_DO_ACTIVATE_TOOL\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_DO_DEACTIVATE_ALL_TOOLS = 'deactivateAllTools';\r\n\r\n  /**\r\n   * Event emitted, when options have changed.\r\n   * In most cases - if user opened used 'CanvasProperties' plugin.\r\n   * @type {String}\r\n   */\r\n  Drawer.prototype.EVENT_OPTIONS_CHANGED = 'options.changed';\r\n  /**\r\n   * This event is triggered when user removes canvas from page.\r\n   * @type {string}\r\n   */\r\n  Drawer.prototype.EVENT_DESTROY = 'destroy';\r\n\r\n\r\n  Drawer.prototype.EVENT_TOOL_ACTIVATED = 'toolActivated';\r\n\r\n  Drawer.prototype.EVENT_TOOL_DEACTIVATED = 'toolDeactivated';\r\n\r\n  Drawer.prototype.EVENT_TOOLS_TOOLBAR_CREATED = 'toolsToolbarCreated';\r\n\r\n  /**\r\n   * This event is triggered when options toolbar is created and provides a way\r\n   * to add buttons to it.\r\n   * The second argument for this event is {DrawerToolbar} and can be used\r\n   * to manipulate with t.\r\n   *\r\n   * @type {string}\r\n   */\r\n\r\n  Drawer.prototype.BEFORE_CREATE_TOOLBARS ='beforeCreateToolbars';\r\n\r\n  Drawer.prototype.AFTER_CREATE_TOOLBARS ='afterCreateToolbars';\r\n\r\n  Drawer.prototype.EVENT_OPTIONS_TOOLBAR_CREATED ='optionsToolbarCreated';\r\n\r\n  Drawer.prototype.EVENT_CONFIG_TOOLBAR_CREATED = 'configToolbarCreated';\r\n\r\n  Drawer.prototype.EVENT_IMAGECROP_TOOLBAR_CREATED = 'imageCropToolbarCreated';\r\n\r\n  Drawer.prototype.EVENT_FLOATING_TOOLBAR_CREATED = 'floatingToolbarCreated';\r\n\r\n  Drawer.prototype.EVENT_MINIMIZED_TOOLBAR_CREATED = 'minimizedToolbarCreated';\r\n\r\n  Drawer.prototype.EVENT_TOOLBAR_DESTROYED = 'toolbarDestroyed';\r\n\r\n  Drawer.prototype.EVENT_TOOLBAR_CHANGE_STATE = 'toolbarChangeState';\r\n\r\n  Drawer.prototype.EVENT_TOOLBAR_CLEAR_STATE = 'toolbarClearState';\r\n\r\n  Drawer.prototype.EVENT_TOOLBAR_STATE_HIDDEN_OFF = 'toolbarShow';\r\n\r\n  Drawer.prototype.EVENT_TOOLBAR_STATE_HIDDEN_ON = 'toolbarHide';\r\n\r\n  Drawer.prototype.EVENT_TOOLBAR_STATE_OVERLAY_ON = 'toolbarOverlayShow';\r\n\r\n  Drawer.prototype.EVENT_TOOLBAR_STATE_OVERLAY_OFF = 'toolbarOverlayHide';\r\n\r\n  Drawer.prototype.EVENT_TOOLBAR_STATE_DISABLED_ON = 'toolbarDisableOn';\r\n\r\n  Drawer.prototype.EVENT_TOOLBAR_STATE_DISABLED_OFF = 'toolbarDisableOff';\r\n\r\n  Drawer.prototype.EVENT_RESTORE_DEFAULT_ZOOM = 'restoreDefaultZoom';\r\n\r\n  Drawer.prototype.EVENT_CONTEXTMENU = 'contextmenu';\r\n\r\n  Drawer.prototype.EVENT_KEYDOWN = 'keydown';\r\n\r\n  Drawer.prototype.EVENT_BEFORE_SHAPE_ADD = 'beforeShapeAdd';\r\n\r\n  Drawer.prototype.EVENT_AFTER_SHAPE_ADD = 'afterShapeAdd';\r\n\r\n  Drawer.prototype.EVENT_ZOOM_SET = 'EVENT_ZOOM_SET';\r\n\r\n  Drawer.prototype.EVENT_ZOOM_UNSET = 'EVENT_ZOOM_UNSET';\r\n\r\n  Drawer.prototype.EVENT_ZOOM_UPPER_SET = 'EVENT_ZOOM_UPPER_SET';\r\n\r\n  Drawer.prototype.EVENT_ZOOM_UPPER_UNSET = 'EVENT_ZOOM_UPPER_UNSET';\r\n\r\n  Drawer.prototype.EVENT_ZOOM_UPPER_RESTORE = 'EVENT_ZOOM_UPPER_RESTORE';\r\n\r\n  Drawer.prototype.EVENT_ZOOM_RESTORE = 'EVENT_ZOOM_RESTORE';\r\n\r\n\r\n  Drawer.prototype.EVENT_ZOOM_CHANGE = 'zoomChange';\r\n\r\n  Drawer.prototype.EVENT_CANVAS_MODIFIED = 'canvasModified';\r\n\r\n  Drawer.prototype.EVENT_OBJECT_ADDED = 'objectAdded';\r\n\r\n  Drawer.prototype.EVENT_OBJECT_SELECTED = 'objectSelected';\r\n\r\n  Drawer.prototype.EVENT_OBJECT_MOVING = 'objectMoving';\r\n\r\n  Drawer.prototype.EVENT_SELECTION_CLEARED = 'selectionCleared';\r\n\r\n  Drawer.prototype.EVENT_TEXT_SELECTION_CHANGED = 'textSelectionChanged';\r\n\r\n  Drawer.prototype.EVENT_TEXT_EDITING_ENTERED = 'textEditingEntered';\r\n\r\n  Drawer.prototype.EVENT_TEXT_EDITING_EXITED = 'textEditingExited';\r\n\r\n  Drawer.prototype.EVENT_TEXT_STYLES_CHANGED = 'textStylesChanged';\r\n\r\n  Drawer.prototype.EVENT_TEXT_GET_STYLES = 'textGetStyles';\r\n\r\n  Drawer.prototype.EVENT_OVERCANVAS_POPUP_SHOW = 'overcanvasPopupShow';\r\n\r\n  Drawer.prototype.EVENT_OVERCANVAS_POPUP_HIDE = 'overcanvasPopupHide';\r\n\r\n  Drawer.prototype.EVENT_OVERCANVAS_BUTTON_SHOW = 'overcanvasButtonShow';\r\n\r\n  Drawer.prototype.EVENT_OVERCANVAS_BUTTON_HIDE = 'overcanvasButtonHide';\r\n\r\n  Drawer.prototype.EVENT_IMAGE_CROP = 'initImageCrop';\r\n\r\n  Drawer.prototype.EVENT_RESIZER_HIDE = 'resizerHide';\r\n\r\n  Drawer.prototype.EVENT_RESIZER_SHOW = 'resizerShow';\r\n\r\n  Drawer.prototype.EVENT_CREATE_TOOLTIP = 'createTooltip';\r\n\r\n  Drawer.prototype.EVENT_HIDE_TOOLTIPS = 'hideTooltips';\r\n\r\n  Drawer.prototype.EVENT_DESTROY_TOOLTIPS = 'destroyTooltips';\r\n\r\n  /**\r\n   * Remove event listeners by event name and(or) callback\r\n   *\r\n   * @param eventName\r\n   * @param callback\r\n   * @returns {*}\r\n   */\r\n  Drawer.prototype.off = function (eventName, callback) {\r\n    return this._eventEmitter.off(eventName, callback);\r\n  };\r\n\r\n  /**\r\n   * Add event listener to canvas element events.\r\n   *\r\n   * @param eventName\r\n   * @param callback\r\n   */\r\n  Drawer.prototype.on = function (eventName, callback) {\r\n    return this._eventEmitter.on(eventName, callback);\r\n  };\r\n\r\n  /**\r\n   * Trigger any canvas event.\r\n   *\r\n   * @param eventName\r\n   * @param [args]\r\n   * @returns {*}\r\n   */\r\n  Drawer.prototype.trigger = function (eventName, args) {\r\n    var eventResult,\r\n        needToLogErors = !this.insideEvent;\r\n    try {\r\n      this.insideEvent = true;\r\n      eventResult = this._eventEmitter.trigger(eventName, args);\r\n    } catch(err) {\r\n      if (this.options.debug) {\r\n        var errorName = 'Catched error - ' + eventName;\r\n        console.groupCollapsed(errorName);\r\n        this.log('Event name',eventName);\r\n        this.log('Arguments', args);\r\n        this.error(err);\r\n        console.groupEnd(errorName);\r\n      }\r\n    }\r\n    if (needToLogErors) {\r\n      this.insideEvent = false;\r\n    }\r\n    return eventResult;\r\n  };\r\n})(DrawerJs.Drawer);\r\n(function  (Drawer, util) {\r\n\r\n  /**\r\n   * Returns canvas data(information about all objects presented on canvas).\r\n   *\r\n   * The order of sources is following:\r\n   * - fabricjs canvas instance(if available) toJSON method.\r\n   * - options.contentConfig.loadCanvasData(if available)\r\n   * - options.contentCOnfig.canvasDataContainer(if available)\r\n   * - data-canvas-serialized attribute\r\n   *   (if options.contentConfig.saveToHtml=true)\r\n   *\r\n   * @return {Object} serialized canvas data\r\n   */\r\n  Drawer.prototype.getCanvasData = function () {\r\n    var serializedCanvas = null;\r\n\r\n    if (this.fCanvas) {\r\n      serializedCanvas = this.fCanvas.toJSON();\r\n    } else if (this.options.contentConfig.loadCanvasData) {\r\n      serializedCanvas = this.options.contentConfig.loadCanvasData(this.id);\r\n    } else if (this.$canvasDataContainer) {\r\n      var canvasDataText = this.$canvasDataContainer.text();\r\n      if (canvasDataText) {\r\n        serializedCanvas = JSON.parse(canvasDataText)[this.id];\r\n      }\r\n    }\r\n    else {\r\n      var attr = this.$imageElement.attr('data-canvas-serialized');\r\n      if (attr) {\r\n        serializedCanvas = JSON.parse(attr);\r\n      }\r\n    }\r\n\r\n    return serializedCanvas;\r\n  };\r\n\r\n\r\n  /**\r\n   * Returns data-url with image encoded to base64\r\n   *\r\n   * Firstly this method will try to get image data from fabric canvas instance.\r\n   * If that is not available (for example when in edit mode)\r\n   * it will check options for loadImageData function. If it is specified,\r\n   * it will be invoked with this.id argument.\r\n   *\r\n   * If options.contentConfig.loadImageData is not set,\r\n   * options.contentConfig.imagesContainer will be checked for data.\r\n   *\r\n   * @returns {String} image data encoded in base64/png.\r\n   */\r\n  Drawer.prototype.getImageData = function () {\r\n    if (this.fCanvas) {\r\n      this.imageData = this.fCanvas.toDataURL();\r\n    } else if (this.options.contentConfig.loadImageData) {\r\n      this.imageData = this.options.contentConfig.loadImageData(this.id);\r\n      if (this.imageData[0] == '\"' &&\r\n        this.imageData[this.imageData.length - 1] == '\"') {\r\n        this.imageData = this.imageData.substr(1, this.imageData.length - 2);\r\n      }\r\n    } else if (this.$imagesContainer) {\r\n      var imagesDataText = this.$imagesContainer.text();\r\n      if (imagesDataText) {\r\n        var imagesData = JSON.parse(imagesDataText);\r\n        this.imageData = imagesData[this.id];\r\n      }\r\n    }\r\n\r\n    return this.imageData;\r\n  };\r\n\r\n\r\n\r\n\r\n  /**\r\n   * Loads canvas from serialized data.\r\n   * Triggers EVENT_LOADED_FROM_JSON on complete.\r\n   */\r\n  Drawer.prototype.loadCanvas = function (serializedCanvas) {\r\n    var _this = this;\r\n    if (serializedCanvas) {\r\n      this.fCanvas.loadFromJSON(serializedCanvas, function() {\r\n        // now when we load everything we should adjust object's properties\r\n        // for selection controls based on our config\r\n        var allObjects = _this.fCanvas.getObjects();\r\n        for (var o in allObjects) {\r\n          _this._updateObjectsControls(allObjects[o]);\r\n        }\r\n\r\n        // set mode to ACTIVE and trigger event\r\n        _this.mode = _this.MODE_ACTIVE;\r\n        _this.trigger(_this.EVENT_LOADED_FROM_JSON);\r\n\r\n        _this.fCanvas.renderAll();\r\n        _this.onCanvasLoaded();\r\n      });\r\n    } else {\r\n      // yes, we have not set all listeners, and better place for this\r\n      // is in the end of startEditing(), but it does not affect anything,\r\n      // so I let it here\r\n      _this.mode = this.MODE_ACTIVE;\r\n      _this.onCanvasLoaded();\r\n    }\r\n  };\r\n\r\n\r\n  Drawer.prototype.onCanvasLoaded = function () {\r\n    var _this = this;\r\n    // subscribe to events only after deserialization to avoid triggering\r\n    // for all objects while loading\r\n    this.fCanvas.on('object:added', function (fEvent) {\r\n      _this._updateObjectsControls(fEvent.target);\r\n      _this.trigger(_this.EVENT_OBJECT_ADDED, fEvent);\r\n      _this.onCanvasModified();\r\n    });\r\n    this.fCanvas.on('object:moving', function (fEvent) {\r\n      _this.trigger(_this.EVENT_OBJECT_MOVING, fEvent);\r\n    });\r\n    this.fCanvas.on('object:modified', function () {\r\n      _this.onCanvasModified();\r\n    });\r\n    this.fCanvas.on('before:render', function (fEvent) {\r\n      _this.trigger(_this.EVENT_BEFORE_RENDER, fEvent);\r\n    });\r\n    this.fCanvas.on('after:render', function (fEvent) {\r\n      _this.trigger(_this.EVENT_AFTER_RENDER, fEvent);\r\n    });\r\n    this.fCanvas.on('canvas:zoom:lower:set', function (fEvent) {\r\n      _this.trigger(_this.EVENT_ZOOM_SET, fEvent);\r\n    });\r\n    this.fCanvas.on('canvas:zoom:lower:restore', function (fEvent) {\r\n      _this.trigger(_this.EVENT_ZOOM_RESTORE, fEvent);\r\n    });\r\n    this.fCanvas.on('canvas:zoom:upper:set', function (fEvent) {\r\n      _this.trigger(_this.EVENT_ZOOM_UPPER_SET, fEvent);\r\n    });\r\n    this.fCanvas.on('canvas:zoom:upper:restore', function (fEvent) {\r\n      _this.trigger(_this.EVENT_ZOOM_UPPER_RESTORE, fEvent);\r\n    });\r\n    this.fCanvas.on('pencil:move:before', function (fEvent) {\r\n      _this.trigger(_this.EVENT_ZOOM_UPPER_SET, fEvent);\r\n    });\r\n    this.fCanvas.on('pencil:move:after', function (fEvent) {\r\n      _this.trigger(_this.EVENT_ZOOM_UPPER_RESTORE, fEvent);\r\n    });\r\n\r\n\r\n    this.fCanvas.on('object:removed', function () {\r\n      _this.onCanvasModified();\r\n    });\r\n    this.fCanvas.on('object:selected', function (fEvent) {\r\n      _this.trigger(_this.EVENT_OBJECT_SELECTED, fEvent);\r\n    });\r\n    this.fCanvas.on('selection:cleared', function (fEvent) {\r\n      _this.trigger(_this.EVENT_SELECTION_CLEARED, fEvent);\r\n    });\r\n    this.fCanvas.on('text:selection:changed', function (fEvent) {\r\n      _this.trigger(_this.EVENT_TEXT_SELECTION_CHANGED, fEvent);\r\n    });\r\n    this.fCanvas.on('text:editing:entered', function (fEvent) {\r\n      _this.trigger(_this.EVENT_TEXT_EDITING_ENTERED, fEvent);\r\n    });\r\n    this.fCanvas.on('text:editing:exited', function (fEvent) {\r\n      _this.trigger(_this.EVENT_TEXT_EDITING_EXITED, fEvent);\r\n    });\r\n\r\n    // restore brush and color settings\r\n    this.setColor();\r\n    // this.setBrushSize();\r\n\r\n    // create all toolbars. Toolbars must be created after fCanvas is initialized.\r\n    this.toolbars.createAllToolbars();\r\n\r\n    // give upper-canvas some id to properly handle clicks inside it\r\n    $(this.fCanvas.upperCanvasEl).attr('data-id', 1);\r\n\r\n    this.setSize(this.width, this.height);\r\n\r\n    this.$canvasEditContainer.on('contextmenu', function (event) {\r\n      // disable context menu in drawer for any other plugins, but trigger an\r\n      // event for all drawer-plugins to handle\r\n      _this.trigger(_this.EVENT_CONTEXTMENU, [event]);\r\n      return false;\r\n    });\r\n\r\n    util.bindLongPress(this.$canvasEditContainer, 'canvasEdit',\r\n        function (event) {\r\n          _this.trigger(_this.EVENT_CONTEXTMENU, [event]);\r\n        });\r\n\r\n    this.trigger(this.EVENT_EDIT_START);\r\n\r\n    this.$canvasEditContainer.on('keydown', '.canvas-container', function (event) {\r\n      _this.trigger(_this.EVENT_KEYDOWN, event);\r\n\r\n      var isDelKey = event.which == 8,\r\n          isBackspaceKey = event.which == 46,\r\n          removeKeyTriggered = isDelKey || isBackspaceKey,\r\n          needToDeleteActiveObj = removeKeyTriggered;\r\n\r\n      if (needToDeleteActiveObj) {\r\n        _this.fCanvas.renderOnAddRemove = false;\r\n        var activeObject = _this.fCanvas.getActiveObject();\r\n        if (activeObject) {\r\n          activeObject.remove();\r\n\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }\r\n\r\n        var activeGroup = _this.fCanvas.getActiveGroup();\r\n        if (activeGroup) {\r\n          activeGroup.getObjects().map(function (canvasObject) {\r\n            canvasObject.remove();\r\n          });\r\n\r\n          _this.fCanvas.discardActiveGroup();\r\n\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }\r\n\r\n        _this.fCanvas.renderAll();\r\n        _this.fCanvas.renderOnAddRemove = true;\r\n\r\n        return false;\r\n      }\r\n    });\r\n\r\n    this.trigger(this.EVENT_CANVAS_READY);\r\n  };\r\n\r\n  Drawer.prototype.getSerializedCanvas = function () {\r\n    var serializedCanvas = this.fCanvas.toJSON();\r\n    var serializedCanvasStr = JSON.stringify(serializedCanvas, null, 2);\r\n    return serializedCanvasStr;\r\n  };\r\n\r\n\r\n  Drawer.prototype.beforeSync = function () {\r\n    // we do not want redactor to see image's data in its tag since it could be\r\n    // huge.\r\n    if (this.options.contentConfig && !this.options.contentConfig.saveInHtml) {\r\n      this.$imageElement.attr('src', '');\r\n    }\r\n\r\n    if (this.fCanvas) {\r\n      this.beforeSyncActiveObject = this.fCanvas.getActiveObject();\r\n      this.beforeSyncActiveGroup = this.fCanvas.getActiveGroup();\r\n      this.fCanvas.deactivateAll();\r\n    }\r\n  };\r\n\r\n  Drawer.prototype.afterSync = function () {\r\n    if (this.beforeSyncActiveObject) {\r\n      this.fCanvas.setActiveObject(this.beforeSyncActiveObject);\r\n      delete this.beforeSyncActiveObject;\r\n    }\r\n\r\n    if (this.beforeSyncActiveGroup) {\r\n      this.fCanvas.setActiveGroup(this.beforeSyncActiveGroup);\r\n      delete this.beforeSyncActiveGroup;\r\n    }\r\n\r\n    if (this.options.contentConfig && !this.options.contentConfig.saveInHtml) {\r\n      this.$imageElement.attr('src', this.getImageData());\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Synchronizes canvas data with storages specified in options.contentConfig.\r\n   *\r\n   * @param deleteItself\r\n   */\r\n  Drawer.prototype.syncCanvasData = function (deleteItself) {\r\n    var _this = this;\r\n\r\n    if (!_this.fCanvas) {\r\n      return;\r\n    }\r\n\r\n    var serializedCanvasStr = this.getSerializedCanvas();\r\n\r\n    if (_this.$canvasDataContainer) {\r\n      var existingDataText = _this.$canvasDataContainer.text();\r\n      var existingData = {};\r\n      if (existingDataText.length > 0) {\r\n        existingData = JSON.parse(existingDataText);\r\n      }\r\n\r\n      if (!deleteItself) {\r\n        if (_this.fCanvas) {\r\n          existingData[_this.id] = serializedCanvasStr;\r\n        }\r\n      } else {\r\n        delete existingData[_this.id];\r\n      }\r\n\r\n      _this.$canvasDataContainer.text(JSON.stringify(existingData, null, 2));\r\n\r\n      _this.log('sync', 'sync with data container done.');\r\n    }\r\n\r\n    if (this.options.contentConfig.saveCanvasData) {\r\n      this.options.contentConfig.saveCanvasData(this.id, serializedCanvasStr);\r\n    }\r\n\r\n    if (this.options.contentConfig.saveInHtml) {\r\n      this.$imageElement.attr('data-canvas-serialized', serializedCanvasStr);\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Synchronizes image data(base64/png) string with storages defined in\r\n   * options.contentConfig.\r\n   *\r\n   * @param deleteItself\r\n   */\r\n  Drawer.prototype.syncImageData = function (deleteItself) {\r\n    var _this = this;\r\n\r\n    var imageData = _this.getImageData();\r\n\r\n    if (_this.$imagesContainer) {\r\n\r\n      var existingDataText = _this.$imagesContainer.text();\r\n      var existingData = {};\r\n      if (existingDataText.length > 0) {\r\n        existingData = JSON.parse(existingDataText);\r\n      }\r\n\r\n      if (!deleteItself) {\r\n        existingData[_this.id] = imageData;\r\n      } else {\r\n        delete existingData[_this.id];\r\n      }\r\n\r\n      _this.$imagesContainer.text(JSON.stringify(existingData, null, 2));\r\n\r\n      _this.log('sync', 'sync with images container done.');\r\n    }\r\n\r\n    if (_this.options.contentConfig.saveImageData) {\r\n      _this.options.contentConfig.saveImageData(this.id, imageData);\r\n    }\r\n  };\r\n\r\n\r\n})(DrawerJs.Drawer, DrawerJs.util);\r\n(function (global) {\r\n    'use strict';\r\n\r\n    var fabric = global.fabric || (global.fabric = {}),\r\n        extend = fabric.util.object.extend;\r\n\r\n\r\n    /**\r\n     *\r\n     * @param {Object[]} eraserPathsData\r\n     * @constructor\r\n     */\r\n    fabric.ErasableMixin = function(objData) {\r\n        // clear eraserPaths. Do this, because inside fabric.Object.initialize()\r\n        // options properties were merged into 'this', and this.eraserPaths is copy of objData.eraserPaths\r\n        this.eraserPaths = [];\r\n        if (objData) {\r\n            // create eraserPaths from eraserPathsData\r\n            this.eraserPaths = this._createEraserPaths(objData.eraserPaths);\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Initialization of object instance.\r\n     * Resets this.eraserPaths, then instantiates array of eraserPaths in it,\r\n     * data taken from objData.eraserPaths\r\n     *\r\n     * @param {Object} objData\r\n     */\r\n    fabric.ErasableMixin.prototype.initialize = function(objData) {\r\n        // add eraserPaths property to object instance\r\n        this.eraserPaths = [];\r\n\r\n        // TODO: do we need this??\r\n        if (objData) {\r\n            this.eraserPaths = fabric.ErasableMixin.prototype._createEraserPaths.call(this, objData.eraserPaths);\r\n            // this.eraserPaths = this._createEraserPaths(objData.eraserPaths);\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Fills this.eraserPaths with paths, created from objData.eraserPaths\r\n     *\r\n     * @param {Object[]} eraserPathsData\r\n     * @private\r\n     */\r\n    fabric.ErasableMixin.prototype._createEraserPaths = function(eraserPathsData) {\r\n        var eraserPaths = [];\r\n        // fill this.eraserPaths with EraserPath objects, created from objData.eraserPaths\r\n        if (eraserPathsData) {\r\n            eraserPathsData.map(function (p) {\r\n                fabric.EraserPath.fromObject(p, function (createdPath) {\r\n                    eraserPaths.push(createdPath);\r\n                });\r\n            });\r\n        }\r\n        return eraserPaths;\r\n    };\r\n\r\n\r\n    /**\r\n     *\r\n     * @param ctx\r\n     */\r\n    fabric.ErasableMixin.prototype.render = function ErasableMixinRender (ctx, mainObjectRenderer) {\r\n        // get temp canvas\r\n        var tempCanvas = DrawerJs.util.getTemporaryCanvas(this.canvas);\r\n        var tempContext = tempCanvas.getContext('2d');\r\n\r\n        // clear rect with size as working canvas\r\n        var width = this.canvas.width;\r\n        var height = this.canvas.height;\r\n        tempContext.clearRect(0, 0, width, height);\r\n\r\n        // render object in tempContext, (Object._render() will be called)\r\n        mainObjectRenderer(tempContext);\r\n\r\n        // now render erasers on top of object\r\n        for (var i = 0; i < this.eraserPaths.length; i++) {\r\n            this.eraserPaths[i].globalCompositeOperation = 'destination-out';\r\n            this.eraserPaths[i].render(tempContext);\r\n        }\r\n\r\n        // render tempCanvas on working one\r\n        ctx.drawImage(tempCanvas, 0, 0);\r\n    };\r\n\r\n\r\n    /**\r\n     * Add eraser path to object.\r\n     * Sets neccessary path properties;\r\n     * Sets path angle same as object's,\r\n     * to keep path points in same place - rotates them back individually\r\n     *\r\n     * @param {fabric.Path} path\r\n     * @param {Function} callback\r\n     */\r\n    fabric.ErasableMixin.prototype.addEraserPath = function (srcPath, callback) {\r\n        var self = this;\r\n        // clone path, modify clone and add it\r\n        srcPath.clone(function (clonedPath) {\r\n            // eraser path must be non-interactive\r\n            clonedPath.set('stroke', 'blue');\r\n            clonedPath.selectable = false;\r\n            clonedPath.evented = false;\r\n\r\n            var thisCenter = self.getCenterPoint();\r\n            var pathCenter = clonedPath.getCenterPoint();\r\n\r\n            // eraser path offset to object\r\n            clonedPath.polygonOffsetX = pathCenter.x - thisCenter.x;\r\n            clonedPath.polygonOffsetY = pathCenter.y - thisCenter.y;\r\n\r\n            // set path angle same, as angle of object\r\n            var a = self.angle;\r\n            clonedPath.set({angle : a});\r\n\r\n            // to keep path points in same place - rotate them by -a\r\n            for (var i = 0; i < clonedPath.path.length; i++) {\r\n                fabric.ErasableMixin.prototype._rotatePathPoints(clonedPath.path[i], thisCenter, -a);\r\n            }\r\n\r\n            // call to make path be in correct position with object\r\n            fabric.ErasableMixin.prototype._updatePathPosition.call(self, clonedPath);\r\n\r\n            // now add modified clonedPath to list of eraser paths\r\n            self.eraserPaths.push(clonedPath);\r\n\r\n            // call callback\r\n            if (callback) {\r\n                callback(this);\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    /**\r\n     * Override default _set().\r\n     * Updates eraser paths' position, angle and scale,\r\n     * to be consistent with changes in object.\r\n     *\r\n     * @param key\r\n     * @param value\r\n     * @private\r\n     */\r\n    fabric.ErasableMixin.prototype._updateEPathsOnSet = function (key, value) {\r\n        if (!this.eraserPaths)\r\n            return;\r\n\r\n        var thisCenter = this.getCenterPoint();\r\n\r\n        for (var p = 0; p < this.eraserPaths.length; p++) {\r\n            var ePath = this.eraserPaths[p];\r\n\r\n            if (!(ePath instanceof fabric.EraserPath)) {\r\n                continue;\r\n            }\r\n\r\n            var ePathScaleX = ePath.scaleX, ePathScaleY = ePath.scaleY;\r\n            var coeff;\r\n\r\n            // if object's scaleX has changed - update each ePath individual scaleX\r\n            if (key == 'scaleX') {\r\n                coeff = value / this.scaleX;\r\n                ePathScaleX = ePathScaleX * coeff;\r\n                ePath.set('scaleX', ePathScaleX);\r\n            }\r\n\r\n            // if object's scaleY has changed - update each ePath individual scaleY\r\n            if (key == 'scaleY') {\r\n                coeff = value / this.scaleY;\r\n                ePathScaleY = ePathScaleY * coeff;\r\n                ePath.set('scaleY', ePathScaleY);\r\n            }\r\n\r\n            // eraser's angle is always same as object's\r\n            if (key == 'angle') {\r\n                ePath.set('angle', this.angle);\r\n            }\r\n\r\n            fabric.ErasableMixin.prototype._updatePathPosition.call(this, ePath);\r\n        }\r\n    };\r\n\r\n\r\n    fabric.ErasableMixin.prototype._updatePathPosition = function(ePath) {\r\n        var thisCenter = this.getCenterPoint();\r\n        var ePathScaleX = ePath.scaleX, ePathScaleY = ePath.scaleY;\r\n\r\n        // global ePath origin coord = object center coord +  scaled ePath offset\r\n        var globalOffsetPointX = thisCenter.x + (ePath.polygonOffsetX * ePathScaleX);\r\n        var globalOffsetPointY = thisCenter.y + (ePath.polygonOffsetY * ePathScaleY);\r\n\r\n        // calc ePath origin offset, respecting rotation\r\n        var rotatedPoint = fabric.util.rotatePoint(\r\n            new fabric.Point(globalOffsetPointX, globalOffsetPointY),\r\n            thisCenter,\r\n            fabric.util.degreesToRadians(ePath.angle)\r\n        );\r\n\r\n        ePath.set('left', rotatedPoint.x);\r\n        ePath.set('top', rotatedPoint.y);\r\n    };\r\n\r\n   /**\r\n     * Rotate all points in path around 'rotationOrigin' by 'angle'\r\n     * Iterates through 'data', and makes changes in-place\r\n     *\r\n     * @param  array data  array with path commands and coords, and coords WILL BE CHANGED\r\n     * @param  fabric.Point rotationOrigin\r\n     * @param  number angle angle in degrees\r\n     *\r\n     * @return array\r\n     */\r\n    fabric.ErasableMixin.prototype._rotatePathPoints = function(data, rotationOrigin, angle) {\r\n        var point, rotatedPoint;\r\n        var angleRad = fabric.util.degreesToRadians(angle);\r\n        var l = data.length;\r\n        for (var i = 0; i < l; i++) {\r\n            // skip non-numeric\r\n            if (typeof data[i] != 'number')\r\n                continue;\r\n\r\n            // if data[i] is number, then it and next number are coords of point in path:\r\n            // data[i] -> x, data[i + 1] -> y\r\n            point = new fabric.Point(data[i], data[i + 1]);\r\n\r\n            // rotate point around rotationOrigin\r\n            rotatedPoint = fabric.util.rotatePoint(point, rotationOrigin, angleRad);\r\n\r\n            // write rotatedPoint coords back in data[]\r\n            data[i] = rotatedPoint.x;\r\n            data[i + 1] = rotatedPoint.y;\r\n\r\n            // jump to next pair\r\n            i++;\r\n        }\r\n\r\n        return data;\r\n    };\r\n\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    fabric.ErasableMixin.prototype.toObject = function () {\r\n        var o =  { eraserPaths : this.eraserPaths.map(function (p) {\r\n            return p.toObject();\r\n        })\r\n        };\r\n        return o;\r\n    };\r\n\r\n\r\n    /**\r\n     * Returns fabric.ErasableObject instance from an object representation\r\n     *\r\n     * @static\r\n     * @memberOf fabric.Polygon\r\n     * @param {Object} objectData Object to create an instance from\r\n     * @return {fabric.ErasableObject} Instance of fabric.ErasableObject\r\n     */\r\n    fabric.ErasableMixin.prototype.fromObject = function (objectData) {\r\n        this.eraserPaths = fabric.ErasableMixin.prototype._createEraserPaths(objectData.eraserPaths);\r\n        return this;\r\n    };\r\n\r\n\r\n    /**\r\n     * @param {fabric.Object} obj\r\n     */\r\n    fabric.makeObjectErasable = function(obj) {\r\n        var mixin = new fabric.ErasableMixin();\r\n\r\n        // will be used in Eraser to determine, which objects are erasable\r\n        obj.prototype.isErasable = true;\r\n\r\n        var objInitialize = obj.prototype.initialize;\r\n        obj.prototype.initialize = function() {\r\n            // first call object initialize() with arguments\r\n            objInitialize.apply(this, arguments);\r\n            // then call mixin initialize()\r\n            mixin.initialize.apply(this, arguments);\r\n        };\r\n\r\n        obj.prototype.addEraserPath = function(path) {\r\n            mixin.addEraserPath.call(this, path);\r\n        };\r\n\r\n        var oldRender = obj.prototype.render;\r\n        obj.prototype.render = function(ctx) {\r\n            mixin.render.call(this, ctx, oldRender.bind(this));   // then render eraser paths\r\n        };\r\n\r\n        var oldSet = obj.prototype._set;\r\n        obj.prototype._set = function(key, value) {\r\n            mixin._updateEPathsOnSet.call(this, key, value);   // first update eraserPaths\r\n            oldSet.call(this, key, value);  // then call original _set() of object\r\n        };\r\n\r\n\r\n        // fromObject - special case. It is part of obj, not its prototype\r\n        var oldFromObject = obj.fromObject;\r\n          obj.fromObject = function(objData, callback) {\r\n            if (this.async) {\r\n                // first call fromObject() of object\r\n                oldFromObject.call(this, objData,\r\n                    function(createdObject){\r\n                        // then call ErasableMixin.fromObject to instantiate eraserPath\r\n                        var objWithErasers = mixin.fromObject.call(createdObject, objData);\r\n                        if(callback) {\r\n                          callback(objWithErasers);\r\n                        }\r\n                    });\r\n            } else {\r\n                // first call fromObject() of object\r\n                var createdObject = oldFromObject.call(this, objData);\r\n                // then call ErasableMixin.fromObject to instantiate eraserPath\r\n                var objWithErasers = mixin.fromObject.call(createdObject, objData);\r\n\r\n                return objWithErasers;\r\n            }\r\n        };\r\n\r\n\r\n        var oldToObject = obj.prototype.toObject;\r\n        obj.prototype.toObject = function() {\r\n            // first call oldToObject () of object\r\n            var objData = oldToObject.call(this);\r\n            // then extend result with\r\n            extend(objData, mixin.toObject.call(this));\r\n\r\n            return objData;\r\n        };\r\n    };\r\n\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n(function (global) {\r\n\r\n    'use strict';\r\n\r\n    var fabric = global.fabric || (global.fabric = {}),\r\n        extend = fabric.util.object.extend;\r\n\r\n    fabric.ErasableObject = fabric.util.createClass(fabric.Object, {\r\n        /**\r\n         * Type of an object\r\n         * @type String\r\n         * @default\r\n         */\r\n        type: 'erasableObject',\r\n\r\n        /**\r\n         * Constructor\r\n         * @param {Object} objData object\r\n         * @return {fabric.ErasableObject}\r\n         */\r\n        initialize: function (objData) {\r\n            objData = objData || {};\r\n\r\n            // call super[fabric.Object].initialize()\r\n            this.callSuper('initialize', objData);\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * Creates fabric object from data.\r\n     *\r\n     * @param objData\r\n     * @param {function} callback\r\n     * @return {fabric.ErasableObject} Instance of fabric.ErasableObject\r\n     */\r\n    fabric.ErasableObject.fromObject = function (objData) {\r\n        return new fabric.ErasableObject(objData);\r\n    };\r\n\r\n    // make our object erasable via ErasableMixin.\r\n    fabric.makeObjectErasable(fabric.ErasableObject);\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n(function (global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = {}),\r\n    extend = fabric.util.object.extend,\r\n    min = fabric.util.array.min,\r\n    max = fabric.util.array.max,\r\n    toFixed = fabric.util.toFixed;\r\n\r\n  fabric.SegmentablePolygon = fabric.util.createClass(fabric.ErasableObject, {\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'segmentablePolygon',\r\n\r\n    /**\r\n     * Points array\r\n     * @type Array[]\r\n     * @default\r\n     */\r\n    points: null,\r\n\r\n    /**\r\n     * Minimum X from points values, necessary to offset points\r\n     * @type Number\r\n     * @default\r\n     */\r\n    minX: 0,\r\n\r\n    /**\r\n     * Minimum Y from points values, necessary to offset points\r\n     * @type Number\r\n     * @default\r\n     */\r\n    minY: 0,\r\n\r\n    /**\r\n     * List of options to show when object is selected\r\n     * @type {String[]}\r\n     */\r\n    objectOptionsList : ['color', 'border', 'opacity'],\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Array} points Array of points\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.Polygon} thisArg\r\n     */\r\n    initialize: function (points, options) {\r\n      var _this = this;\r\n\r\n      this.points = points;\r\n      if (points === undefined) {\r\n        console.error('Points should be array.');\r\n      }\r\n      options = options || {};\r\n\r\n      // call super[ErasableObject].initialize()\r\n      this.callSuper('initialize', options);\r\n\r\n      this._calcDimensions();\r\n      if (!('top' in options)) {\r\n        this.top = this.minY;\r\n      }\r\n      if (!('left' in options)) {\r\n        this.left = this.minX;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _calcDimensions: function () {\r\n      var minX = null;\r\n      var minY = null;\r\n      var maxX = null;\r\n      var maxY = null;\r\n\r\n      for (var i = 0; i < this.points.length; i++) {\r\n        var _minX = min(this.points[i], 'x');\r\n        if (minX === null || _minX < minX) {\r\n          minX = _minX;\r\n        }\r\n\r\n        var _minY = min(this.points[i], 'y');\r\n        if (minY === null || _minY < minY) {\r\n          minY = _minY;\r\n        }\r\n\r\n        var _maxX = max(this.points[i], 'x');\r\n        if (maxX === null || _maxX > maxX) {\r\n          maxX = _maxX;\r\n        }\r\n\r\n        var _maxY = max(this.points[i], 'y');\r\n        if (maxY === null || _maxY > maxY) {\r\n          maxY = _maxY;\r\n        }\r\n      }\r\n\r\n      this.width = (maxX - minX) || 1;\r\n      this.height = (maxY - minY) || 1;\r\n\r\n      this.minX = minX;\r\n      this.minY = minY;\r\n    },\r\n\r\n    _fixPoints: function () {\r\n      this._calcDimensions();\r\n\r\n      if (this.minX != (this.width / 2) * -1 || this.minY != (this.height / 2) * -1) {\r\n        this.points.forEach(function (pointSegment) {\r\n          pointSegment.forEach(function (p) {\r\n            p.x -= (this.minX + this.width / 2);\r\n            p.y -= (this.minY + this.height / 2);\r\n          }, this);\r\n        }, this);\r\n      }\r\n    },\r\n\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _applyPointOffset: function () {\r\n      // change points to offset polygon into a bounding box\r\n      // executed one time\r\n      this.points.forEach(function (pointSegment) {\r\n        pointSegment.forEach(function (p) {\r\n          p.x -= (this.minX + this.width / 2);\r\n          p.y -= (this.minY + this.height / 2);\r\n        }, this);\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function (propertiesToInclude) {\r\n      return extend(this.callSuper('toObject', propertiesToInclude), {\r\n        points: this.points.concat(),\r\n        type: this.type\r\n      });\r\n    },\r\n\r\n    render: function (ctx, noTransform) {\r\n      // fix some stroke issue, save old stroke\r\n      if (this.points[0].length == 2) {\r\n        this.oldStroke = this.stroke;\r\n        this.oldStrokeDashArray = this.strokeDashArray;\r\n        this.oldStrokeWidth = this.strokeWidth;\r\n\r\n        this.stroke = this.fill;\r\n        this.strokeWidth = 3;\r\n        this.strokeDashArray = [];\r\n      }\r\n\r\n      // call super[ErasableObject].render\r\n      this.callSuper('render', ctx, noTransform);\r\n\r\n      // fix some stroke issue again, restore old stroke\r\n      if (this.points[0].length == 2) {\r\n        this.stroke = this.oldStroke;\r\n        this.strokeDashArray = this.oldStrokeDashArray;\r\n        this.strokeWidth = this.oldStrokeWidth;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _render: function (ctx) {\r\n      this.commonRender(ctx);\r\n      this._renderFill(ctx);\r\n      if (this.stroke || this.strokeDashArray) {\r\n        ctx.closePath();\r\n        this._renderStroke(ctx);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    commonRender: function (ctx) {\r\n      var point;\r\n      ctx.beginPath();\r\n\r\n      if (this._applyPointOffset) {\r\n        if (!(this.group && this.group.type === 'path-group')) {\r\n          this._applyPointOffset();\r\n        }\r\n        this._applyPointOffset = null;\r\n      }\r\n\r\n      var firstSegment = this.points[0];\r\n\r\n      // when we have only one point we should draw a small cirlce\r\n      // so user could see it\r\n      if(firstSegment.length == 1){\r\n        var radius = 2;\r\n        ctx.arc(firstSegment[0].x, firstSegment[0].y,\r\n          radius, 0, 2 * Math.PI, false\r\n        );\r\n      }\r\n\r\n      ctx.moveTo(firstSegment[0].x, firstSegment[0].y);\r\n      for (var i = 0, len = firstSegment.length; i < len; i++) {\r\n        point = firstSegment[i];\r\n        ctx.lineTo(point.x, point.y);\r\n      }\r\n\r\n      ctx.closePath();\r\n\r\n      if (this.points.length > 1) {\r\n        for (var s = 1; s < this.points.length; s++) {\r\n          var segmentPoints = this.points[s];\r\n          ctx.moveTo(segmentPoints[0].x, segmentPoints[0].y);\r\n\r\n          for (var sp = 0; sp < segmentPoints.length; sp++) {\r\n            ctx.lineTo(segmentPoints[sp].x, segmentPoints[sp].y);\r\n          }\r\n\r\n        }\r\n      }\r\n    },\r\n\r\n\r\n    /**\r\n     * Returns complexity of an instance\r\n     * @return {Number} complexity of this instance\r\n     */\r\n    complexity: function () {\r\n      var sum = 0;\r\n      for (var i = 0; i < this.points.length; i++) {\r\n        sum += this.points[i].length;\r\n      }\r\n      return sum;\r\n    }\r\n\r\n  });\r\n\r\n  /**\r\n   * Returns fabric.Polygon instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Polygon\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Polygon} Instance of fabric.Polygon\r\n   */\r\n  fabric.SegmentablePolygon.fromObject = function (object) {\r\n    return new fabric.SegmentablePolygon(object.points, object, true);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n    (function (global) {\r\n\r\n    'use strict';\r\n\r\n    var fabric = global.fabric || (global.fabric = {}),\r\n        extend = fabric.util.object.extend;\r\n\r\n    /**\r\n     * @class\r\n     * @extends fabric.IText\r\n     */\r\n    fabric.PText = fabric.util.createClass(fabric.IText, {\r\n        type: 'PText',\r\n\r\n        _defaultOptions : {\r\n            editIconMode    : true,\r\n        },\r\n\r\n        /**\r\n         * List of options to show when object is selected\r\n         * @type {Array}\r\n         */\r\n        objectOptionsList : [\r\n          'color',\r\n          'border',\r\n          'opacity',\r\n\r\n          'TextLineHeight',\r\n          'TextAlign'\r\n        ],\r\n\r\n        /**\r\n         * Initializes object.\r\n         * @param  {String} text\r\n         * @param  {Object} options\r\n         * @param  {boolean} options.editIconMode edit icon size, in pixels\r\n         * @param  {number|String} options.editIconSize edit icon size, in pixels or strings:  small, medium, large\r\n         */\r\n        initialize: function (text, options) {\r\n            this.callSuper('initialize', text, options);\r\n\r\n            this.options =  $.extend(true, this._defaultOptions || {}, options || {});\r\n\r\n            // create icon\r\n            var iconPath = DrawerJs.util.getDrawerFolderUrl() + 'assets/pencil-square-o.32.png';\r\n\r\n            // initialize control\r\n          if (this.options.editIconMode) {\r\n            this.startEditControl = new ObjectFloatingControl(this, iconPath, this._iconClickHandler.bind(this), this.options);\r\n          }\r\n        },\r\n      /**\r\n       * Copied from fabric js - add support of useCopiedStyles\r\n       * Handles onInput event\r\n       * @param {Event} e Event object\r\n       */\r\n      onInput: function(e) {\r\n        if (!this.isEditing || this.inCompositionMode) {\r\n          return;\r\n        }\r\n        var offset = this.selectionStart || 0,\r\n            offsetEnd = this.selectionEnd || 0,\r\n            textLength = this.text.length,\r\n            newTextLength = this.hiddenTextarea.value.length,\r\n            diff, charsToInsert, start;\r\n        if (newTextLength > textLength) {\r\n          //we added some character\r\n          start = this._selectionDirection === 'left' ? offsetEnd : offset;\r\n          diff = newTextLength - textLength;\r\n          charsToInsert = this.hiddenTextarea.value.slice(start, start + diff);\r\n        }\r\n        else {\r\n          //we selected a portion of text and then input something else.\r\n          //Internet explorer does not trigger this else\r\n          diff = newTextLength - textLength + offsetEnd - offset;\r\n          charsToInsert = this.hiddenTextarea.value.slice(offset, offset + diff);\r\n        }\r\n        var emptySelection = this.selectionStart === this.selectionEnd,\r\n            useCopiedStyles = emptySelection && this.canvas.copiedTextStyle;\r\n        this.insertChars(charsToInsert, useCopiedStyles);\r\n        e.stopPropagation();\r\n      },\r\n\r\n      renderCursorOrSelection: function (ctx) {\r\n        this.canvas.fire('canvas:zoom:upper:set');\r\n        this.callSuper('renderCursorOrSelection', ctx);\r\n        this.canvas.fire('canvas:zoom:upper:restore');\r\n\r\n      },\r\n\r\n\r\n        /**\r\n         * Overriding IText mouseup handler.\r\n         * This version do not trigger editing mode on second click.\r\n         * This functionality is inside _iconClickHandler\r\n         */\r\n        initMouseupHandler: function() {\r\n            this.on('mouseup', function(evt) {\r\n                if (this.options.editIconMode) {\r\n                    this.onMouseUpHandler(evt);\r\n                } else {\r\n                    this.onMouseUpSuperHandler(evt);\r\n                }\r\n            });\r\n        },\r\n\r\n\r\n        onMouseUpHandler : function (evt) {\r\n            this.__isMousedown = false;\r\n            if (!this.editable || (this._isObjectMoved && this._isObjectMoved(evt.e))) {\r\n              return;\r\n            }\r\n\r\n            this.selected = true;\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @see fabric.js Text.onMouseUpSuperHandler\r\n         * @param  {fabric.Event} evt\r\n         */\r\n        onMouseUpSuperHandler : function(evt) {\r\n            this.__isMousedown = false;\r\n            if (!this.editable || (this._isObjectMoved && this._isObjectMoved(evt.e))) {\r\n                return;\r\n            }\r\n\r\n            if (this.__lastSelected && !this.__corner) {\r\n                this.enterEditing(evt.e);\r\n                if (this.selectionStart === this.selectionEnd) {\r\n                    this.initDelayedCursor(true);\r\n                }\r\n                else {\r\n                    this.renderCursorOrSelection();\r\n                }\r\n            }\r\n\r\n            this.selected = true;\r\n        },\r\n\r\n\r\n        /**\r\n         * Checks, if click on canvas is inside icon rect.\r\n         * If yes - launches editing mode\r\n         *\r\n         * @param  {fabric.Event} evt\r\n         */\r\n        _iconClickHandler : function(evt) {\r\n            //  select current object again, it is required for proper UI work\r\n            this.canvas.setActiveObject(this);\r\n\r\n            // enter editing and do stuff. Code is copied from IText.initMouseupHandler\r\n            this.enterEditing(evt.e);\r\n            if (this.selectionStart === this.selectionEnd) {\r\n                this.initDelayedCursor(true);\r\n            }\r\n            else {\r\n                this.renderCursorOrSelection();\r\n            }\r\n        },\r\n      /**\r\n       * Collect all styles which affects text\r\n       *\r\n       * @param  {fabric.Object} [obj] - text object\r\n       * @returns {object} - styles object\r\n       */\r\n        getObjStyles: function (obj) {\r\n          obj = obj || this;\r\n          var styles = {\r\n            fontSize: obj.fontSize,\r\n            fill: obj.fill,\r\n            textBackgroundColor: obj.textBackgroundColor,\r\n            textDecoration: obj.textDecoration,\r\n            fontFamily: obj.fontFamily,\r\n            fontWeight: obj.fontWeight,\r\n            fontStyle: obj.fontStyle,\r\n            lineHeight: obj.lineHeight,\r\n            stroke: obj.stroke,\r\n            strokeWidth: obj.strokeWidth\r\n          };\r\n          return styles;\r\n        },\r\n\r\n\r\n        /**\r\n         * Draws text and edit icon\r\n         * @param  {Context2D} ctx\r\n         */\r\n        render : function (ctx) {\r\n          this.callSuper('render', ctx);\r\n        },\r\n\r\n\r\n        toObject: function (propertiesToInclude) {\r\n            return extend(this.callSuper('toObject', propertiesToInclude));\r\n        }\r\n\r\n    });\r\n\r\n\r\n    /**\r\n     * Creates fabric object from data.\r\n     * Is sync, so simply returns new object.\r\n     *\r\n     * @param objData\r\n     * @param {function} callback\r\n     */\r\n    fabric.PText.fromObject = function (objData) {\r\n        return new fabric.PText(objData.text, objData);\r\n    };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n(function (global) {\r\n\r\n    'use strict';\r\n\r\n    var fabric = global.fabric || (global.fabric = {}),\r\n        extend = fabric.util.object.extend;\r\n\r\n    /**\r\n     * @class\r\n     * @extends fabric.Image\r\n     */\r\n    fabric.ErasableText = fabric.util.createClass(fabric.PText, {\r\n        type: 'ErasableText',\r\n        isErasable : true,\r\n\r\n        /**\r\n         */\r\n        initialize: function (text, options) {\r\n            this.callSuper('initialize', text, options);\r\n        },\r\n    });\r\n\r\n\r\n    /**\r\n     * Creates fabric object from data.\r\n     * Is async, so always use callback param.\r\n     *\r\n     * @param objData\r\n     * @param {function} callback\r\n     */\r\n    fabric.ErasableText.fromObject = function (objData/*, callback*/) {\r\n        return new fabric.ErasableText(objData.text, objData);\r\n    };\r\n\r\n    // important! set 'ErasableText.async'\r\n    // It is already set for the prototype, but if do not set here - it WILL CRASH on image load from object;\r\n    // idiotic stuff...\r\n    // fabric.ErasableText.async = true;\r\n\r\n    // make our object erasable via ErasableMixin.\r\n    fabric.makeObjectErasable(fabric.ErasableText);\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n(function (global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = {}),\r\n    extend = fabric.util.object.extend;\r\n\r\n\r\n  fabric.Arrow = fabric.util.createClass(fabric.Line, {\r\n\r\n    type: 'arrow',\r\n\r\n    objectCaching : false,\r\n\r\n    /**\r\n     * List of options to show when object is selected\r\n     * @type {String[]}\r\n     */\r\n    objectOptionsList : ['border', 'opacity', 'lineWidth', 'strokeWidth'],\r\n\r\n\r\n    initialize: function (points, options) {\r\n      this.callSuper('initialize', points, options);\r\n      if (options) {\r\n        this.set('oneSided', options.oneSided);\r\n      }\r\n    },\r\n\r\n\r\n    // _getNonTransformedDimensions :function(argument) {\r\n    //     var strokeWidth = this.strokeWidth,\r\n    //     w = this.width + strokeWidth + 30,\r\n    //     h = this.height + strokeWidth + 30;\r\n\r\n    //     return { x: w, y: h };\r\n    // },\r\n\r\n    _render: function (ctx, noTransform) {\r\n      if (\r\n        (this.width < 20 && this.height < 20) ||\r\n        (this.scaleX < 0.3 && this.scaleY < 0.3)\r\n      ) {\r\n        this.set('padding', 20);\r\n      } else {\r\n        this.set('padding', 10);\r\n      }\r\n\r\n      this.canvas.calcOffset();\r\n\r\n      this.callSuper('_render', ctx, noTransform);\r\n      var points = this.callSuper('calcLinePoints');\r\n\r\n      var angle = this._calcArrowAngle(points.x1, points.y1, points.x2, points.y2);\r\n\r\n      if (!this.oneSided) {\r\n        this._drawArrow(ctx, {x: points.x1, y: points.y1}, angle + 90);\r\n      }\r\n      this._drawArrow(ctx, {x: points.x2, y: points.y2}, angle - 90);\r\n    },\r\n\r\n    _drawArrow: function (ctx, point, angle) {\r\n      var arrowSize = 0.5;\r\n\r\n      if(this.get('strokeWidth') > 1){\r\n        arrowSize = arrowSize * (this.get('strokeWidth') / 2);\r\n      }\r\n\r\n      var arrowPointOffsetX = 10;\r\n      var arrowPointOffsetY = 20;\r\n\r\n      var frontCenterPoint = {\r\n        x: point.x,\r\n        y: point.y + (arrowPointOffsetX * arrowSize)\r\n      };\r\n      var leftPoint = {\r\n        x: point.x - (arrowPointOffsetX * arrowSize),\r\n        y: point.y - (arrowPointOffsetY * arrowSize)\r\n      };\r\n      var backCenterPoint = {\r\n        x: point.x,\r\n        y: point.y - (arrowPointOffsetX * arrowSize)\r\n      };\r\n      var rightPoint = {\r\n        x: point.x + (arrowPointOffsetX * arrowSize),\r\n        y: point.y - (arrowPointOffsetY * arrowSize)\r\n      };\r\n\r\n      ctx.save();\r\n\r\n      ctx.translate(point.x, point.y);\r\n      ctx.rotate(angle * Math.PI / 180);\r\n      ctx.translate(point.x * -1, point.y * -1);\r\n\r\n      ctx.beginPath();\r\n      ctx.moveTo(frontCenterPoint.x, frontCenterPoint.y);\r\n      ctx.lineTo(leftPoint.x, leftPoint.y);\r\n      ctx.lineTo(backCenterPoint.x, backCenterPoint.y);\r\n      ctx.lineTo(rightPoint.x, rightPoint.y);\r\n      ctx.fillStyle = this.stroke;\r\n      ctx.fill();\r\n\r\n      ctx.restore();\r\n    },\r\n\r\n    _calcArrowAngle: function (x1, y1, x2, y2) {\r\n      var angle = 0,\r\n        x, y;\r\n\r\n      x = (x2 - x1);\r\n      y = (y2 - y1);\r\n\r\n      if (x === 0) {\r\n        angle = (y === 0) ? 0 :\r\n          (y > 0) ? Math.PI / 2 : Math.PI * 3 / 2;\r\n      }\r\n      else if (y === 0) {\r\n        angle = (x > 0) ? 0 : Math.PI;\r\n      }\r\n      else {\r\n        angle = (x < 0) ? Math.atan(y / x) + Math.PI :\r\n          (y < 0) ? Math.atan(y / x) + (2 * Math.PI) : Math.atan(y / x);\r\n      }\r\n\r\n      return (angle * 180 / Math.PI);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     */\r\n    toObject: function (propertiesToInclude) {\r\n      if (!propertiesToInclude) {\r\n        propertiesToInclude = [];\r\n      }\r\n\r\n      propertiesToInclude.push('oneSided', 'padding');\r\n\r\n      return fabric.util.object.extend(\r\n        this.callSuper('toObject', propertiesToInclude),\r\n        this.calcLinePoints()\r\n      );\r\n    }\r\n  });\r\n\r\n\r\n  /**\r\n   * Returns fabric.Arrow instance from an object representation\r\n   */\r\n  fabric.Arrow.fromObject = function (object) {\r\n    var points = [object.x1, object.y1, object.x2, object.y2];\r\n    return new fabric.Arrow(points, object);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\nif (!this.DrawerJs) {\r\n  this.DrawerJs = {};\r\n}\r\n\r\nthis.DrawerJs.clipping = {};\r\n\r\n(function (namespace) {\r\n  \"use strict\";\r\n\r\n  namespace.runClippingOperation = function (params) {\r\n    var firstShape = params.firstShape;\r\n    var secondShape = params.secondShape;\r\n\r\n    var polyPoints = prepareForClipper(\r\n      firstShape.width, firstShape.currentWidth,\r\n      firstShape.height, firstShape.currentHeight,\r\n      firstShape.center, firstShape.angleInRadians, firstShape.points);\r\n\r\n    // TODO: another shape angle and scaling needed\r\n    var anotherShapePointsGlobal =\r\n      localToGlobal(secondShape.center, secondShape.points);\r\n\r\n    var solution = processShape(params.cmd, polyPoints,\r\n      uppercaseCoords(anotherShapePointsGlobal));\r\n\r\n    if (secondShape.centersQueue) {\r\n      for (var i = 0; i < secondShape.centersQueue.length; i++) {\r\n\r\n        anotherShapePointsGlobal = localToGlobal(\r\n          secondShape.centersQueue[i], secondShape.points\r\n        );\r\n\r\n        solution = processShape(\r\n          params.cmd, solution, uppercaseCoords(anotherShapePointsGlobal)\r\n        );\r\n      }\r\n    }\r\n\r\n    solution = ClipperLib.JS.Lighten(solution, 0.1);\r\n\r\n    var result = null;\r\n\r\n    if (solution.length > 0) {\r\n      result = restoreAfterClipper(\r\n        firstShape.currentWidth, firstShape.width,\r\n        firstShape.currentHeight, firstShape.height,\r\n        firstShape.center, firstShape.angleInRadians * -1, solution);\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n\r\n  var processShape = function (cmd, firstShapePoints, secondShapePoints) {\r\n    var solution = new ClipperLib.Paths();\r\n    var c = new ClipperLib.Clipper();\r\n\r\n    c.AddPaths(firstShapePoints,\r\n      ClipperLib.PolyType.ptSubject, true\r\n    );\r\n\r\n    c.AddPaths(secondShapePoints,\r\n      ClipperLib.PolyType.ptClip, true\r\n    );\r\n    c.Execute(cmd, solution);\r\n\r\n    return solution;\r\n  };\r\n\r\n  var localToGlobal = function (center, pointsSegments) {\r\n    var result = [];\r\n    for (var s = 0; s < pointsSegments.length; s++) {\r\n      var segmentResult = [];\r\n      for (var p = 0; p < pointsSegments[s].length; p++) {\r\n        segmentResult.push({\r\n          x: center.x + pointsSegments[s][p].x,\r\n          y: center.y + pointsSegments[s][p].y\r\n        });\r\n      }\r\n      result.push(segmentResult);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  var globalToLocal = function (center, pointsSegments) {\r\n    var result = [];\r\n    for (var s = 0; s < pointsSegments.length; s++) {\r\n      var segmentResult = [];\r\n      for (var p = 0; p < pointsSegments[s].length; p++) {\r\n        segmentResult.push({\r\n          x: pointsSegments[s][p].x - center.x,\r\n          y: pointsSegments[s][p].y - center.y\r\n        });\r\n      }\r\n      result.push(segmentResult);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  var rotatePoints = function (pointsSegments, center, angle) {\r\n    var result = [];\r\n    for (var s = 0; s < pointsSegments.length; s++) {\r\n      var segmentResult = [];\r\n      for (var p = 0; p < pointsSegments[s].length; p++) {\r\n        var point = new fabric.Point(pointsSegments[s][p].x,\r\n          pointsSegments[s][p].y\r\n        );\r\n        var rotatedPoint = fabric.util.rotatePoint(point, center, angle);\r\n        segmentResult.push({\r\n          x: rotatedPoint.x,\r\n          y: rotatedPoint.y\r\n        });\r\n      }\r\n      result.push(segmentResult);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  var uppercaseCoords = function (pointsSegments) {\r\n    var result = [];\r\n    for (var s = 0; s < pointsSegments.length; s++) {\r\n      var segmentResult = [];\r\n      for (var p = 0; p < pointsSegments[s].length; p++) {\r\n        segmentResult.push({\r\n          X: pointsSegments[s][p].x,\r\n          Y: pointsSegments[s][p].y\r\n        });\r\n      }\r\n      result.push(segmentResult);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  var lowercaseCoords = function (pointsSegments) {\r\n    var result = [];\r\n    for (var s = 0; s < pointsSegments.length; s++) {\r\n      var segmentResult = [];\r\n      for (var p = 0; p < pointsSegments[s].length; p++) {\r\n        segmentResult.push({\r\n          x: pointsSegments[s][p].X,\r\n          y: pointsSegments[s][p].Y\r\n        });\r\n      }\r\n      result.push(segmentResult);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  var scaleCoords = function (originalWidth, scaledWidth,\r\n                              originalHeight, scaledHeight, pointsSegments) {\r\n    var result = [];\r\n    for (var s = 0; s < pointsSegments.length; s++) {\r\n      var segmentResult = [];\r\n      for (var p = 0; p < pointsSegments[s].length; p++) {\r\n        var x = pointsSegments[s][p].x;\r\n        var y = pointsSegments[s][p].y;\r\n\r\n        var originalWidthPercent = x * 100 / originalWidth;\r\n        var newX = originalWidthPercent * scaledWidth / 100;\r\n\r\n        var originalHeightPercent = y * 100 / originalHeight;\r\n        var newY = originalHeightPercent * scaledHeight / 100;\r\n\r\n        segmentResult.push({\r\n          x: newX,\r\n          y: newY\r\n        });\r\n      }\r\n      result.push(segmentResult);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  var prepareForClipper = function (originalWidth, scaledWidth,\r\n                                    originalHeight, scaledHeight,\r\n                                    centerPoint, rotationAngleInRadians,\r\n                                    pointsSegments) {\r\n    var result = [];\r\n    var sin = Math.sin(rotationAngleInRadians),\r\n      cos = Math.cos(rotationAngleInRadians);\r\n\r\n    for (var s = 0; s < pointsSegments.length; s++) {\r\n      var segmentResult = [];\r\n      for (var p = 0; p < pointsSegments[s].length; p++) {\r\n        var x = pointsSegments[s][p].x;\r\n        var y = pointsSegments[s][p].y;\r\n\r\n        // --- scale ---\r\n        var originalWidthPercent = x * 100 / originalWidth;\r\n        var newX = originalWidthPercent * scaledWidth / 100;\r\n\r\n        var originalHeightPercent = y * 100 / originalHeight;\r\n        var newY = originalHeightPercent * scaledHeight / 100;\r\n        // --- /scale ---\r\n\r\n        // ---- local to global ----\r\n        newX = centerPoint.x + newX;\r\n        newY = centerPoint.y + newY;\r\n        // ---- /local to global ----\r\n\r\n\r\n        // ---- rotation angle ----\r\n        // we could not use fabric point here because it's needed to be constructed\r\n        // with memory allocation but that is bad idea for large data processing\r\n        newX -= centerPoint.x;\r\n        newY -= centerPoint.y;\r\n\r\n        var rx = newX * cos - newY * sin,\r\n          ry = newX * sin + newY * cos;\r\n\r\n        newX = rx += centerPoint.x;\r\n        newY = ry += centerPoint.y;\r\n        // ---- /rotation angle ----\r\n\r\n        segmentResult.push({\r\n          X: newX,\r\n          Y: newY\r\n        });\r\n      }\r\n      result.push(segmentResult);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  var restoreAfterClipper = function (originalWidth, scaledWidth,\r\n                                      originalHeight, scaledHeight,\r\n                                      centerPoint, rotationAngleInRadians,\r\n                                      pointsSegments) {\r\n    var result = [];\r\n    var sin = Math.sin(rotationAngleInRadians),\r\n      cos = Math.cos(rotationAngleInRadians);\r\n\r\n    for (var s = 0; s < pointsSegments.length; s++) {\r\n      var segmentResult = [];\r\n      for (var p = 0; p < pointsSegments[s].length; p++) {\r\n        var x = pointsSegments[s][p].X;\r\n        var y = pointsSegments[s][p].Y;\r\n\r\n        // ---- rotation angle ----\r\n        // we could not use fabric point here because it's needed to be constructed\r\n        // with memory allocation but that is bad idea for large data processing\r\n        x -= centerPoint.x;\r\n        y -= centerPoint.y;\r\n\r\n        var rx = x * cos - y * sin,\r\n          ry = x * sin + y * cos;\r\n\r\n        x = rx += centerPoint.x;\r\n        y = ry += centerPoint.y;\r\n        // ---- /rotation angle ----\r\n\r\n        // ---- local to global ----\r\n        x = x - centerPoint.x;\r\n        y = y - centerPoint.y;\r\n        // ---- /local to global ----\r\n\r\n        // --- scale ---\r\n        var originalWidthPercent = x * 100 / originalWidth;\r\n        x = originalWidthPercent * scaledWidth / 100;\r\n\r\n        var originalHeightPercent = y * 100 / originalHeight;\r\n        y = originalHeightPercent * scaledHeight / 100;\r\n        // --- /scale ---\r\n\r\n        segmentResult.push({\r\n          x: x,\r\n          y: y\r\n        });\r\n      }\r\n      result.push(segmentResult);\r\n    }\r\n    return result;\r\n  };\r\n\r\n})(DrawerJs.clipping);\r\n(function (global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = {});\r\n\r\n  fabric.ErasableArrow = fabric.util.createClass(fabric.Arrow, {\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'ErasableArrow',\r\n    originX: 'center',\r\n    originY: 'center',\r\n\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Array} points Array of points\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.ErasableArrow}\r\n     */\r\n    initialize: function (points, options) {\r\n      options = options || {};\r\n      this.callSuper('initialize', points, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} Objectr representation of an instance\r\n     */\r\n    toObject: function (propertiesToInclude) {\r\n      return this.callSuper('toObject', propertiesToInclude);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _render: function (ctx) {\r\n        this.callSuper('_render', ctx);\r\n    }\r\n\r\n  });\r\n\r\n  /**\r\n   * Returns fabric.Polygon instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Polygon\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Polygon} Instance of fabric.Polygon\r\n   */\r\n  fabric.ErasableArrow.fromObject = function (object) {\r\n      // form 'points' array, for first parameter in fabric.ErasableArrow c-tor\r\n      var points = [object.x1, object.y1, object.x2, object.y2];\r\n      return new fabric.ErasableArrow(points, object);\r\n  };\r\n\r\n\r\n  // make our object erasable via ErasableMixin.\r\n  fabric.makeObjectErasable(fabric.ErasableArrow);\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n(function (global) {\r\n\r\n    'use strict';\r\n\r\n    var fabric = global.fabric || (global.fabric = {}),\r\n        extend = fabric.util.object.extend;\r\n\r\n    /**\r\n     * @class\r\n     * @extends fabric.Image\r\n     */\r\n    fabric.ErasableImage = fabric.util.createClass(fabric.Image, {\r\n        type: 'ErasableImage',\r\n        async: true,\r\n\r\n        /**\r\n         * List of options to show when object is selected\r\n         * @type {String[]}\r\n         */\r\n        objectOptionsList : ['opacity', 'border'],\r\n\r\n        /**\r\n         * Initializes ErasableImage with fabric.Image\r\n         *\r\n         * @param {fabric.Image} fabricImage\r\n         * @param options\r\n         */\r\n        initialize: function (fabricImage, options) {\r\n            var _this = this;\r\n            options = options || {};\r\n\r\n            // set width and height\r\n            this.width = options.width || 10;\r\n            this.height = options.height || 10;\r\n\r\n            this.callSuper('initialize', fabricImage, options);\r\n        },\r\n\r\n        _render: function (ctx) {\r\n            this.callSuper('_render', ctx);\r\n        },\r\n\r\n        _set: function (key, value) {\r\n            this.callSuper('_set', key, value);\r\n        },\r\n\r\n        toObject: function (propertiesToInclude) {\r\n            return extend(this.callSuper('toObject', propertiesToInclude), {\r\n                width: this.width,\r\n                height: this.height\r\n            });\r\n        }\r\n\r\n    });\r\n\r\n\r\n    /**\r\n     * Creates fabric object from data.\r\n     * Is async, so always use callback param.\r\n     *\r\n     * @param objData\r\n     * @param {function} callback\r\n     */\r\n    fabric.ErasableImage.fromObject = function (objData, callback) {\r\n        fabric.util.loadImage(objData.src, function(createdImage) {\r\n            var erasableImage = new fabric.ErasableImage(createdImage, objData);\r\n            // call callback with instance of our erasableImage\r\n            if (callback)\r\n                callback(erasableImage);\r\n        });\r\n    };\r\n\r\n    // important! set 'ErasableImage.async'\r\n    // It is already set for the prototype, but if do not set here - it WILL CRASH on image load from object;\r\n    // idiotic stuff...\r\n    fabric.ErasableImage.async = true;\r\n\r\n    // make our object erasable via ErasableMixin.\r\n    fabric.makeObjectErasable(fabric.ErasableImage);\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n(function (global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = {});\r\n\r\n  fabric.ErasableLine = fabric.util.createClass(fabric.Line, {\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'ErasableLine',\r\n    originX: 'center',\r\n    originY: 'center',\r\n\r\n    /**\r\n     * List of options to show when object is selected\r\n     * @type {String[]}\r\n     */\r\n    objectOptionsList : ['border', 'opacity', 'lineWidth', 'strokeWidth'],\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Array} points Array of points\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.ErasableLine}\r\n     */\r\n    initialize: function (points, options) {\r\n      options = options || {};\r\n      this.callSuper('initialize', points, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} Objectr representation of an instance\r\n     */\r\n    toObject: function (propertiesToInclude) {\r\n      return this.callSuper('toObject', propertiesToInclude);\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _render: function (ctx) {\r\n        this.callSuper('_render', ctx);\r\n    }\r\n\r\n  });\r\n\r\n  /**\r\n   * Returns fabric.Polygon instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Polygon\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Polygon} Instance of fabric.Polygon\r\n   */\r\n  fabric.ErasableLine.fromObject = function (object) {\r\n      // form 'points' array, for first parameter in fabric.ErasableLine c-tor\r\n      var points = [object.x1, object.y1, object.x2, object.y2];\r\n      return new fabric.ErasableLine(points, object);\r\n  };\r\n\r\n\r\n  // make our object erasable via ErasableMixin.\r\n  fabric.makeObjectErasable(fabric.ErasableLine);\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n(function(global) {\r\n\r\n    'use strict';\r\n\r\n    var fabric = global.fabric || (global.fabric = {}),\r\n        extend = fabric.util.object.extend;\r\n\r\n    fabric.ErasablePath = fabric.util.createClass(fabric.Path, {\r\n\r\n        type: 'ErasablePath',\r\n\r\n        objectCaching : false,\r\n        evented : false,\r\n        selectable : false,\r\n\r\n\r\n        initialize: function(pathData, options) {\r\n            options = options || {};\r\n            this.callSuper('initialize', pathData, options);\r\n        },\r\n\r\n\r\n        _render: function(ctx) {\r\n            this.callSuper('_render', ctx);\r\n        },\r\n\r\n\r\n        toObject: function(propertiesToInclude) {\r\n            return this.callSuper('toObject', propertiesToInclude);\r\n        }\r\n\r\n    });\r\n\r\n    /**\r\n     * Creates object from  serialized data\r\n     * @param  {Object} object\r\n     * @return {ErasablePath}\r\n     */\r\n    fabric.ErasablePath.fromObject = function(data) {\r\n        // @todo: maybe use code from fabric.Path.fromObject\r\n        return new fabric.ErasablePath(data.path, data);\r\n    };\r\n\r\n\r\n    fabric.ErasablePath.async = false;\r\n\r\n    // make our object erasable via ErasableMixin.\r\n    fabric.makeObjectErasable(fabric.ErasablePath);\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n(function(global) {\r\n    'use strict';\r\n\r\n    var fabric = global.fabric || (global.fabric = {});\r\n\r\n    fabric.ErasablePencilBrush = fabric.util.createClass(fabric.PencilBrush, {\r\n\r\n        type: 'ErasablePencilBrush',\r\n\r\n        /**\r\n         * List of tool options to show when object is selected\r\n         * @type {String[]}\r\n         */\r\n        objectOptionsList : ['color', 'opacity', 'brush'],\r\n\r\n\r\n      /**\r\n       * Overriding fabric.PencilBrush.onMouseMove\r\n       * Method code is exactly copy of fabric.PencilBrush.onMouseMove,\r\n       * only change is trigger events\r\n       *\r\n       * @param {Object} pointer - object with \"x\" and \"y\" values\r\n       * @see {fabric.PencilBrush.onMouseMove}\r\n       */\r\n      onMouseMove: function(pointer) {\r\n        this._captureDrawingPath(pointer);\r\n        // redraw curve\r\n        // clear top canvas\r\n\r\n        this.canvas.clearContext(this.canvas.contextTop);\r\n        // this.canvas.fire('pencil:move:before');\r\n        this._render();\r\n        // this.canvas.fire('pencil:move:after');\r\n        this.canvas.renderAll();\r\n      },\r\n\r\n      /**\r\n       * Overriding fabric.PencilBrush._render\r\n       * Method code is exactly copy of fabric.PencilBrush._render,\r\n       * only change is trigger events\r\n       *\r\n       * @see {fabric.PencilBrush._render}\r\n       * @private\r\n       */\r\n      _render: function () {\r\n        this.canvas.fire('pencil:move:before');\r\n        this.callSuper('_render');\r\n        this.canvas.fire('pencil:move:after');\r\n      },\r\n\r\n        initialize: function(canvas, options) {\r\n            options = options || {};\r\n            // parent c-tor has no options argument, so adding them here\r\n            this.options = options;\r\n            // call parent c-tor\r\n            this.callSuper('initialize', canvas);\r\n        },\r\n\r\n\r\n        /**\r\n         * Overriding fabric.PencilBrush.createPath\r\n         * Method code is exactly copy of fabric.PencilBrush.createPath,\r\n         * only change is creating fabric.ErasablePath instead of fabric.Path\r\n         *\r\n         * Creates fabric.ErasablePath object to add on canvas\r\n         * @param {String} pathData Path data\r\n         * @return {fabric.Path} Path to add on canvas\r\n         * @see {fabric.PencilBrush.createPath}\r\n         */\r\n        createPath: function(pathData) {\r\n            var path = new fabric.ErasablePath(pathData, {\r\n                fill: null,\r\n                stroke: this.color,\r\n                opacity: this.opacity,\r\n                strokeWidth: this.width,\r\n                strokeLineCap: this.strokeLineCap,\r\n                strokeLineJoin: this.strokeLineJoin,\r\n                strokeDashArray: this.strokeDashArray,\r\n                originX: 'center',\r\n                originY: 'center'\r\n            });\r\n\r\n            if (this.shadow) {\r\n                this.shadow.affectStroke = true;\r\n                path.setShadow(this.shadow);\r\n            }\r\n\r\n            return path;\r\n        }\r\n\r\n    });\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n\r\n(function (global, Util) {\r\n\r\n    'use strict';\r\n\r\n    var fabric = global.fabric || (global.fabric = {}),\r\n        extend = fabric.util.object.extend;\r\n\r\n\r\n    var ObjectFloatingControl = function(obj, iconPath, callback, options) {\r\n        // set object\r\n        if (!obj || !(obj instanceof fabric.Object)) {\r\n            throw new Error('[ObjectFloatingControl()]  invalid param : obj');\r\n        }\r\n        this.obj = obj;\r\n\r\n        // set iconPath\r\n        if (!iconPath || !Util.isString(iconPath)) {\r\n            throw new Error('[ObjectFloatingControl()]  invalid param : iconPath');\r\n        }\r\n        this.iconPath = iconPath;\r\n\r\n        // set iconClickHandler\r\n        if (!callback || !(callback instanceof Function)) {\r\n            throw new Error('[ObjectFloatingControl()]  invalid param : callback');\r\n        }\r\n        this.callback = callback;\r\n\r\n        // set options\r\n        this.options = $.extend(true, {}, this._defaultOptions || {}, options || {});\r\n\r\n        // by default control is enabled\r\n        this.enabled = this.options.enabled;\r\n\r\n        // load icon\r\n        fabric.Image.fromURL(iconPath, this._onIconReady.bind(this));\r\n\r\n        // set handlers on object added to / removed from canvas\r\n        this.obj.on('added', this._onAdded.bind(this));\r\n        this.obj.on('removed', this._onRemoved.bind(this));\r\n    };\r\n\r\n\r\n    ObjectFloatingControl.prototype.SMALL_ICON  = 'small';\r\n    ObjectFloatingControl.prototype.MEDIUM_ICON = 'medium';\r\n    ObjectFloatingControl.prototype.LARGE_ICON  = 'large';\r\n\r\n    ObjectFloatingControl.prototype.LEFT_TOP  = 'left-top';\r\n    ObjectFloatingControl.prototype.LEFT_BOTTOM  = 'left-bottom';\r\n    ObjectFloatingControl.prototype.RIGHT_TOP  = 'right-top';\r\n    ObjectFloatingControl.prototype.RIGHT_BOTTOM  = 'right-bottom';\r\n\r\n    ObjectFloatingControl.prototype._defaultOptions = {\r\n        defaulIconSize : 32,\r\n        symbolicIconSizes : {\r\n            'small'  : 16,\r\n            'medium' : 32,\r\n            'large'  : 48\r\n        },\r\n        enabled : true\r\n    };\r\n\r\n\r\n    ObjectFloatingControl.prototype.remove = function() {\r\n        this._onRemoved();\r\n    };\r\n\r\n\r\n    ObjectFloatingControl.prototype.enable = function() {\r\n        this.enabled = true;\r\n    };\r\n\r\n\r\n    ObjectFloatingControl.prototype.disable = function() {\r\n        this.enabled = false;\r\n    };\r\n\r\n    /**\r\n     * After object was added to canvas - add our click handler on canvas\r\n     * @param  {fabric.Event} evt\r\n     */\r\n    ObjectFloatingControl.prototype._onAdded = function(evt) {\r\n        // object now has canvas property set\r\n        this.canvas = this.obj.canvas;\r\n\r\n        // set click handlers\r\n        this._iconClickHandlerBinded = this._iconClickHandler.bind(this);\r\n        this.canvas.on('mouse:up', this._iconClickHandlerBinded);\r\n        this.canvas.on('touchend', this._iconClickHandlerBinded);\r\n\r\n        // set after:render handler\r\n        this._bindedAfterRender = this._onAfterRender.bind(this);\r\n        this.canvas.on('after:render', this._bindedAfterRender);\r\n    };\r\n\r\n\r\n    /**\r\n     * After object was removed from canvas - remove our click handler on canvas\r\n     * @param  {fabric.Event} evt\r\n     */\r\n    ObjectFloatingControl.prototype._onRemoved = function(evt) {\r\n        this.canvas.off('mouse:up', this._iconClickHandlerBinded);\r\n        this.canvas.off('touchend', this._iconClickHandlerBinded);\r\n        this.canvas.off('after:render', this._bindedAfterRender);\r\n    };\r\n\r\n\r\n    /**\r\n     * When image is loaded - save it as this.icon,\r\n     * and calc it dimensions;\r\n     *\r\n     * @param  {fabric.Image} image\r\n     */\r\n    ObjectFloatingControl.prototype._onIconReady = function(image) {\r\n        var originalSize = this.options.iconSize || this.options.defaulIconSize,\r\n            sizeFromOptions = this.options.editIconSize,\r\n            neededSizeAsSymbolic = typeof sizeFromOptions === 'string' && this.options.symbolicIconSizes[sizeFromOptions],\r\n            neededSize = neededSizeAsSymbolic || sizeFromOptions || this.options.defaulIconSize,\r\n            iconScale = neededSize / originalSize;\r\n\r\n        this.icon = image;\r\n        this.iconSize = originalSize;\r\n        this.iconScale = iconScale;\r\n\r\n        // calc the best looking offset\r\n        this.icon.offsetFromLeft = this.options.defaulIconSize * 0.66;\r\n        this.icon.offsetFromTop  = -this.iconSize * 0.66;\r\n\r\n        this.icon.set({\r\n          scaleX: iconScale,\r\n          scaleY: iconScale,\r\n          originX : 'center',\r\n          originY : 'center',\r\n          opacity: 1});\r\n    };\r\n\r\n\r\n    /**\r\n     * If click on canvas is inside icon rect - launches iconClickHandler.\r\n     *\r\n     * @param  {fabric.Event} evt\r\n     */\r\n    ObjectFloatingControl.prototype._iconClickHandler = function(evt) {\r\n        // checking for this.canvas to be sure, kinda hacky\r\n        // checking for this.icon, as event can be fired, when icon is not ready yet\r\n        if (!this.enabled || !this.canvas || !this.icon) {\r\n            return;\r\n        }\r\n\r\n        var x, y;\r\n\r\n        var evtCoords = this.canvas.getPointer(evt.e);\r\n\r\n        if (evtCoords) {\r\n          x = evtCoords.x;\r\n          y = evtCoords.y;\r\n        } else {\r\n          // if no offsetX provided (case of touch events)\r\n          if (evt.e.offsetX === undefined) {\r\n            var drawerLeft = drawer.left();\r\n            var drawerTop = drawer.top();\r\n\r\n            // in case of touch event - we have no offestX, offsetY\r\n            x = evt.e.pageX - drawerLeft;\r\n            y = evt.e.pageY - drawerTop;\r\n            console.log('x : ', evt.e.pageX, '-', drawerLeft, '=', x);\r\n            console.log('y : ', evt.e.pageY, '-', drawerTop,  '=', y);\r\n          } else {\r\n            x = evt.e.offsetX;\r\n            y = evt.e.offsetY;\r\n          }\r\n        }\r\n\r\n        if (this._coordInsideIcon(x, y)) {\r\n            this.callback(evt, this);\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Returns true, if coord is inside icon rect\r\n     *\r\n     * @param  {number} x\r\n     * @param  {number} y\r\n     * @return {Boolean}\r\n     */\r\n    ObjectFloatingControl.prototype._coordInsideIcon = function (x, y) {\r\n      var rect = (this.icon.width * this.icon.scaleX) / 2,\r\n          coords = this._calcIconCoords(),\r\n          insideX = (x > coords.x - rect) && (x < coords.x + rect),\r\n          insideY = (y > coords.y - rect)  && (y < coords.y + rect),\r\n          inside = insideX && insideY;\r\n\r\n      return inside;\r\n    };\r\n\r\n\r\n    ObjectFloatingControl.prototype._onAfterRender = function (evt) {\r\n      this.canvas.fire('canvas:zoom:lower:set');\r\n      this._drawIcon();\r\n      this.canvas.fire('canvas:zoom:lower:restore');\r\n    };\r\n\r\n    /**\r\n     * Draws edit icon, if object is selected.\r\n     *\r\n     * @param  {context2D} ctx\r\n     */\r\n    ObjectFloatingControl.prototype._drawIcon = function () {\r\n        if (this.enabled && this.icon && this.obj.active) {\r\n            var coords = this._calcIconCoords();\r\n\r\n            this.icon.left = coords.x;\r\n            this.icon.top = coords.y;\r\n            this.icon.render(this.canvas.getContext());\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Calc icon coords based on object coords.\r\n     * @return {Object} coords {x, y}\r\n     */\r\n    ObjectFloatingControl.prototype._calcIconCoords = function() {\r\n        var realTopLeft = this.obj.getPointByOrigin('left', 'top');\r\n\r\n        var xOffsetLocal = this.icon.offsetFromLeft * this.obj.scaleX;\r\n        var yOffsetLocal = this.icon.offsetFromTop;\r\n\r\n        var a = fabric.util.degreesToRadians(this.obj.angle);\r\n        var xOffset = xOffsetLocal * Math.cos(a) - yOffsetLocal * Math.sin(a);\r\n        var yOffset = xOffsetLocal * Math.sin(a) + yOffsetLocal * Math.cos(a);\r\n\r\n        return {x: realTopLeft.x + xOffset, y : realTopLeft.y + yOffset};\r\n    };\r\n\r\n    global.ObjectFloatingControl = ObjectFloatingControl;\r\n\r\n})(typeof exports !== 'undefined' ? exports : this,  DrawerJs.util);\r\n\r\n(function (global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = {}),\r\n    extend = fabric.util.object.extend,\r\n    min = fabric.util.array.min,\r\n    max = fabric.util.array.max,\r\n    toFixed = fabric.util.toFixed;\r\n\r\n  fabric.SegmentableLine = fabric.util.createClass(fabric.Object, {\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'SegmentableLine',\r\n\r\n    /**\r\n     * List of options to show when object is selected\r\n     * @type {String[]}\r\n     */\r\n    objectOptionsList : ['border', 'opacity', 'lineWidth', 'strokeWidth'],\r\n\r\n    /**\r\n     * Points array\r\n     * @type Array[]\r\n     * @default\r\n     */\r\n    points: null,\r\n\r\n    /**\r\n     * Minimum X from points values, necessary to offset points\r\n     * @type Number\r\n     * @default\r\n     */\r\n    minX: 0,\r\n\r\n    /**\r\n     * Minimum Y from points values, necessary to offset points\r\n     * @type Number\r\n     * @default\r\n     */\r\n    minY: 0,\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {Array} points Array of points\r\n     * @param {Object} [options] Options object\r\n     * @return {fabric.Polygon} thisArg\r\n     */\r\n    initialize: function (points, options) {\r\n      options = options || {};\r\n      this.points = points;\r\n      this.callSuper('initialize', options);\r\n      this._calcDimensions();\r\n      if (!('top' in options)) {\r\n        this.top = this.minY;\r\n      }\r\n      if (!('left' in options)) {\r\n        this.left = this.minX;\r\n      }\r\n    },\r\n    /**\r\n     * @private\r\n     */\r\n    _calcDimensions: function () {\r\n\r\n      var points = this.points;\r\n\r\n      var minX = null;\r\n      var minY = null;\r\n      var maxX = null;\r\n      var maxY = null;\r\n\r\n      for (var i = 0; i < this.points.length; i++) {\r\n        var _minX = min(this.points[i], 'x');\r\n        if (minX === null || _minX < minX) {\r\n          minX = _minX;\r\n        }\r\n\r\n        var _minY = min(this.points[i], 'y');\r\n        if (minY === null || _minY < minY) {\r\n          minY = _minY;\r\n        }\r\n\r\n        var _maxX = max(this.points[i], 'x');\r\n        if (maxX === null || _maxX > maxX) {\r\n          maxX = _maxX;\r\n        }\r\n\r\n        var _maxY = max(this.points[i], 'y');\r\n        if (maxY === null || _maxY > maxY) {\r\n          maxY = _maxY;\r\n        }\r\n      }\r\n\r\n      this.width = (maxX - minX) || 1;\r\n      this.height = (maxY - minY) || 1;\r\n\r\n      this.minX = minX;\r\n      this.minY = minY;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _applyPointOffset: function () {\r\n      // change points to offset polygon into a bounding box\r\n      // executed one time\r\n      this.points.forEach(function (pointSegment) {\r\n        pointSegment.forEach(function (p) {\r\n          p.x -= (this.minX + this.width / 2);\r\n          p.y -= (this.minY + this.height / 2);\r\n        }, this);\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} Object representation of an instance\r\n     */\r\n    toObject: function (propertiesToInclude) {\r\n      return extend(this.callSuper('toObject', propertiesToInclude), {\r\n        points: this.points.concat(),\r\n        type: this.type\r\n      });\r\n    },\r\n\r\n    /* _TO_SVG_START_ */\r\n    /**\r\n     * Returns svg representation of an instance\r\n     * @param {Function} [reviver] Method for further parsing of svg representation.\r\n     * @return {String} svg representation of an instance\r\n     */\r\n    toSVG: function (reviver) {\r\n      var points = [],\r\n        markup = this._createBaseSVGMarkup();\r\n\r\n      for (var i = 0, len = this.points.length; i < len; i++) {\r\n        points.push(toFixed(this.points[i].x, 2), ',', toFixed(this.points[i].y, 2), ' ');\r\n      }\r\n\r\n      markup.push(\r\n        '<', this.type, ' ',\r\n        'points=\"', points.join(''),\r\n        '\" style=\"', this.getSvgStyles(),\r\n        '\" transform=\"', this.getSvgTransform(),\r\n        ' ', this.getSvgTransformMatrix(),\r\n        '\"/>\\n'\r\n      );\r\n\r\n      return reviver ? reviver(markup.join('')) : markup.join('');\r\n    },\r\n    /* _TO_SVG_END_ */\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    _render: function (ctx) {\r\n      this.commonRender(ctx);\r\n      this._renderFill(ctx);\r\n      if (this.stroke || this.strokeDashArray) {\r\n        //ctx.closePath();\r\n        this._renderStroke(ctx);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     * @param {CanvasRenderingContext2D} ctx Context to render on\r\n     */\r\n    commonRender: function (ctx) {\r\n      var point;\r\n      ctx.beginPath();\r\n\r\n      if (this._applyPointOffset) {\r\n        if (!(this.group && this.group.type === 'path-group')) {\r\n          this._applyPointOffset();\r\n        }\r\n        this._applyPointOffset = null;\r\n      }\r\n\r\n      var firstSegment = this.points[0];\r\n\r\n      ctx.moveTo(firstSegment[0].x, firstSegment[0].y);\r\n      for (var i = 0, len = firstSegment.length; i < len; i++) {\r\n        point = firstSegment[i];\r\n        ctx.lineTo(point.x, point.y);\r\n      }\r\n\r\n      //ctx.closePath();\r\n\r\n      if (this.points.length > 1) {\r\n        for (var s = 1; s < this.points.length; s++) {\r\n          var segmentPoints = this.points[s];\r\n          ctx.moveTo(segmentPoints[0].x, segmentPoints[0].y);\r\n\r\n          for (var sp = 0; sp < segmentPoints.length; sp++) {\r\n            ctx.lineTo(segmentPoints[sp].x, segmentPoints[sp].y);\r\n          }\r\n\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns complexity of an instance\r\n     * @return {Number} complexity of this instance\r\n     */\r\n    complexity: function () {\r\n      return this.points.length;\r\n    }\r\n\r\n  });\r\n\r\n  /**\r\n   * Returns fabric.Polygon instance from an object representation\r\n   * @static\r\n   * @memberOf fabric.Polygon\r\n   * @param {Object} object Object to create an instance from\r\n   * @return {fabric.Polygon} Instance of fabric.Polygon\r\n   */\r\n  fabric.SegmentableLine.fromObject = function (object) {\r\n    return new fabric.SegmentableLine(object.points, object, true);\r\n  };\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n(function (global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = {}),\r\n    extend = fabric.util.object.extend,\r\n    min = fabric.util.array.min,\r\n    max = fabric.util.array.max,\r\n    toFixed = fabric.util.toFixed;\r\n\r\n  fabric.PCircle = fabric.util.createClass(fabric.SegmentablePolygon, {\r\n\r\n    radius: 0,\r\n    type: 'PCircle',\r\n    initialize: function (options) {\r\n      var _this = this;\r\n      options = options || {};\r\n      this.radius = options.radius || 0;\r\n\r\n      var points = this.makeCircle(this.radius);\r\n\r\n      this.width = this.radius * 2;\r\n      this.height = this.radius * 2;\r\n\r\n      this.callSuper('initialize', points, options);\r\n    },\r\n    makeCircle: function (radius) {\r\n      var points = [];\r\n\r\n      var centerX = 0;\r\n      var centerY = 0;\r\n\r\n      for (var degree = 0; degree < 360; degree++) {\r\n        var radians = degree * Math.PI / 180;\r\n        var x = centerX + radius * Math.cos(radians);\r\n        var y = centerY + radius * Math.sin(radians);\r\n        points.push({x: x, y: y});\r\n      }\r\n\r\n      return [points];\r\n    },\r\n    _render: function (ctx) {\r\n      this.callSuper('_render', ctx);\r\n    },\r\n    _set: function (key, value) {\r\n      if (key === 'radius') {\r\n        this.points = this.makeCircle(value);\r\n        this.width = value * 2;\r\n        this.height = value * 2;\r\n        this.callSuper('_set', 'points', this.points);\r\n      }\r\n\r\n      this.callSuper('_set', key, value);\r\n    },\r\n    isPointInside: function (x, y) {\r\n      var center = this.getCenterPoint();\r\n      return Math.sqrt(\r\n          (x - center.x) * (x - center.x) + (y - center.y) * (y - center.y)\r\n        ) < this.radius;\r\n    },\r\n    getPerimeterPoints: function (deltaX, deltaY, useEntireCircle) {\r\n      var result;\r\n      var sectorAngleOffset = 0,\r\n          sectorAngle = 360;\r\n\r\n      var deltaIsValid = typeof deltaX == 'number' && typeof deltaY == 'number',\r\n          getPointsFromSector = deltaIsValid && !useEntireCircle;\r\n      if (getPointsFromSector) {\r\n        // Check if eraser tool position is changed\r\n        if (deltaX || deltaY) {\r\n          sectorAngle = deltaX !== 0 && deltaY !== 0 ? 90 : 180;\r\n          if (deltaY < 0) {\r\n            sectorAngleOffset = 180;\r\n            if (deltaX > 0) {\r\n              sectorAngleOffset = 270;\r\n            }\r\n          } else {\r\n            if (deltaX < 0) {\r\n              sectorAngleOffset = 90;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      result = this.getSectorPoints(sectorAngleOffset, sectorAngle);\r\n      return result;\r\n    },\r\n    getSectorPoints: function (sectorAngleOffset, sectorAngle) {\r\n      var result = [],\r\n          sizeOfStepInDeg = 15,\r\n          randomDiff = Math.round(Math.random() * sizeOfStepInDeg / 2),\r\n          endPoint = sectorAngleOffset + sectorAngle + sizeOfStepInDeg - randomDiff,\r\n          currPointAngle = sectorAngleOffset - randomDiff;\r\n\r\n      for (currPointAngle; currPointAngle <= endPoint; currPointAngle += sizeOfStepInDeg) {\r\n        var currPointCoords = {},\r\n            currPointAngleRad = fabric.util.degreesToRadians(currPointAngle % 360),\r\n            pointOffsetX = (this.radius * Math.cos(currPointAngleRad)),\r\n            pointOffsetY = (this.radius * Math.sin(currPointAngleRad));\r\n\r\n        currPointCoords.x = this.left  + Math.round(pointOffsetX);\r\n        currPointCoords.y = this.top + Math.round(pointOffsetY);\r\n        result.push(currPointCoords);\r\n      }\r\n      return result;\r\n    },\r\n    toObject: function (propertiesToInclude) {\r\n      return extend(this.callSuper('toObject', propertiesToInclude), {\r\n        radius: this.radius\r\n      });\r\n    }\r\n  });\r\n\r\n  fabric.PCircle.fromObject = function (object) {\r\n    return new fabric.PCircle(object, true);\r\n  };\r\n\r\n  fabric.PCircle.async = false;\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n(function (global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = {}),\r\n    extend = fabric.util.object.extend,\r\n    min = fabric.util.array.min,\r\n    max = fabric.util.array.max,\r\n    toFixed = fabric.util.toFixed;\r\n\r\n  fabric.PRect = fabric.util.createClass(fabric.SegmentablePolygon, {\r\n    type: 'PRect',\r\n    initialize: function (options) {\r\n      var _this = this;\r\n      options = options || {};\r\n\r\n      this.width = options.width || 10;\r\n      this.height = options.height || 10;\r\n\r\n      var points = this.makeRect(this.width, this.height);\r\n\r\n      this.callSuper('initialize', points, options);\r\n    },\r\n    makeRect: function (width, height) {\r\n      var halfWidth = width / 2;\r\n      var halfHeight = height / 2;\r\n\r\n      var points = [\r\n        {x: halfWidth * -1, y: halfHeight * -1},\r\n        {x: halfWidth, y: halfHeight * -1},\r\n        {x: halfWidth, y: halfHeight},\r\n        {x: halfWidth * -1, y: halfHeight}\r\n      ];\r\n\r\n      return [points];\r\n    },\r\n    _render: function (ctx) {\r\n      this.callSuper('_render', ctx);\r\n    },\r\n    _set: function (key, value) {\r\n      var dimensionsChanged = false;\r\n      if (key === 'width') {\r\n        this.width = value;\r\n        dimensionsChanged = true;\r\n      }\r\n      if (key === 'height') {\r\n        this.height = value;\r\n        dimensionsChanged = true;\r\n      }\r\n      if (dimensionsChanged) {\r\n        this.points = this.makeRect(this.width, this.height);\r\n        this.callSuper('_set', 'points', this.points);\r\n      }\r\n\r\n      this.callSuper('_set', key, value);\r\n    },\r\n    toObject: function (propertiesToInclude) {\r\n      return extend(this.callSuper('toObject', propertiesToInclude), {\r\n        width: this.width,\r\n        height: this.height\r\n      });\r\n    }\r\n  });\r\n\r\n\r\n  fabric.PRect.fromObject = function (object) {\r\n    return new fabric.PRect(object, true);\r\n  };\r\n\r\n  fabric.PRect.async = false;\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n(function (global) {\r\n\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = {}),\r\n    extend = fabric.util.object.extend,\r\n    min = fabric.util.array.min,\r\n    max = fabric.util.array.max,\r\n    toFixed = fabric.util.toFixed;\r\n\r\n  fabric.PTriangle = fabric.util.createClass(fabric.SegmentablePolygon, {\r\n    type: 'PTriangle',\r\n    initialize: function (options) {\r\n      var _this = this;\r\n      options = options || {};\r\n\r\n      this.width = options.width || 10;\r\n      this.height = options.height || 10;\r\n\r\n      var points = this.makeTriangle(this.width, this.height);\r\n\r\n      this.callSuper('initialize', points, options);\r\n    },\r\n    makeTriangle: function (width, height) {\r\n      var halfWidth = width / 2;\r\n      var halfHeight = height / 2;\r\n\r\n      var points = [\r\n        {x: halfWidth * -1, y: halfHeight},\r\n        {x: 0, y: halfHeight * -1},\r\n        {x: halfWidth, y: halfHeight}\r\n      ];\r\n\r\n      return [points];\r\n    },\r\n    _render: function (ctx) {\r\n      this.callSuper('_render', ctx);\r\n    },\r\n    _set: function (key, value) {\r\n      var dimensionsChanged = false;\r\n      if (key === 'width') {\r\n        this.width = value;\r\n        dimensionsChanged = true;\r\n      }\r\n      if (key === 'height') {\r\n        this.height = value;\r\n        dimensionsChanged = true;\r\n      }\r\n      if (dimensionsChanged) {\r\n        this.points = this.makeTriangle(this.width, this.height);\r\n        this.callSuper('_set', 'points', this.points);\r\n      }\r\n\r\n      this.callSuper('_set', key, value);\r\n    },\r\n    toObject: function (propertiesToInclude) {\r\n      return extend(this.callSuper('toObject', propertiesToInclude), {\r\n        width: this.width,\r\n        height: this.height\r\n      });\r\n    }\r\n  });\r\n\r\n\r\n  fabric.PTriangle.fromObject = function (object) {\r\n    return new fabric.PTriangle(object, true);\r\n  };\r\n\r\n  fabric.PTriangle.async = false;\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\nvar emptyFunc = function() {};\r\n\r\n/**\r\n * Default configuration object of toolbar\r\n * @typedef {DrawerToolbar.defaultSetOfOptions} defaultToolbarOptions\r\n * @memberOf DrawerToolbar\r\n * @property {DrawerToolbar.defaultSetOfOptions} fullscreenMode - Options for fullscreen mode. Able to use same\r\n * options as for normal mode. Undefined options will be inherited from normal mode\r\n */\r\n\r\n/**\r\n * Configuration object of button.\r\n * @typedef {Object} DrawerToolbar.buttonConfig\r\n * @property {String} [additionalClass] add specified class to button's <li> element.\r\n * @property {String} [iconClass] add specified class to button's <i> element.\r\n * @property {String} [tooltipText] Tooltip text that will be shown on mouse over.\r\n * @property {Number} [buttonOrder=10] Order priority of button. Button with min order value will be first.\r\n * @property {Boolean} [isSubMenu=false] Button is submenu of other button\r\n * @property {Function} [clickHandler] function that will be invoked when user clicks on this button.\r\n * @property {Object} [group]  Group object with group class name and tooltip text\r\n * @property {String} [group.name]  Group unique id\r\n * @property {String} [group.tooltip]  A tooltip text that will be shown on mouse over\r\n */\r\n\r\n/**\r\n * Toolbar with tools like brush/rectangle/text etc.\r\n * @param {DrawerJs.Drawer} drawerInstance - Drawer instance\r\n * @param {DrawerToolbar.defaultSetOfOptions} [options] Configuration object\r\n * @constructor DrawerToolbar\r\n */\r\nvar DrawerToolbar = function (drawerInstance, options) {\r\n  if (!drawerInstance) {\r\n    throw new Error(\"DrawerToolbar c-tor : drawerInstance is not set!\");\r\n  }\r\n  this.drawerInstance = drawerInstance;\r\n  this.buttonsGroups = {};\r\n\r\n  this._setupOptions(options);\r\n  this._setupElement();\r\n  this._attachEventHandlers();\r\n  this._attachDrawerEventHandlers();\r\n  this._initCompactType();\r\n};\r\n\r\nDrawerToolbar.prototype.MULTILINE = 'multiline';\r\nDrawerToolbar.prototype.SCROLLABLE = 'scrollable';\r\nDrawerToolbar.prototype.POPUP = 'popup';\r\n\r\nDrawerToolbar.prototype.POSITION_TYPE_OUTSIDE = 'outside';\r\nDrawerToolbar.prototype.POSITION_TYPE_INSIDE = 'inside';\r\n\r\n/**\r\n * Toolbar position - one of [left, top, right, bottom, custom]\r\n * @type {string}\r\n */\r\nDrawerToolbar.prototype.position = 'top';\r\n// button groups\r\nDrawerToolbar.prototype.buttonsGroups = {};\r\nDrawerToolbar.prototype.buttons = [];\r\n\r\nDrawerToolbar.prototype._defaultOptions = {\r\n    compactType : DrawerToolbar.prototype.MULTILINE,\r\n    positionType: DrawerToolbar.prototype.POSITION_TYPE_OUTSIDE,\r\n    buttonWidth : 32,\r\n    buttonHeight : 35\r\n};\r\n\r\n/**\r\n * Default values of button config\r\n * @type {DrawerToolbar.buttonConfig}\r\n * @private\r\n */\r\nDrawerToolbar.prototype._defaultButtonConfig = {\r\n  additionalClass: '',\r\n  iconClass: '',\r\n  tooltipText: '',\r\n  buttonOrder: 10,\r\n  isSubMenu: false,\r\n  group: {\r\n    name: '',\r\n    tooltip: ''\r\n  },\r\n  clickHandler: emptyFunc\r\n};\r\n\r\n/**\r\n * Setup options\r\n * @param {Object} [options] - Configuration object\r\n * @private\r\n */\r\nDrawerToolbar.prototype._setupOptions = function (options) {\r\n  this.options = $.extend(true, {}, this._defaultOptions || {}, options || {});\r\n};\r\n\r\n/**\r\n * Create/setup toolbar element\r\n * @private\r\n */\r\nDrawerToolbar.prototype._setupElement = function () {\r\n  var toolbarHtml = this._generateTemplate(),\r\n      $toolbar = $(toolbarHtml);\r\n  this.$toolbar = $toolbar;\r\n  this.$toolbarContentHolder = this.$toolbar.find('.toolbar-content-wrapper');\r\n};\r\n\r\n/**\r\n * Get html of toolbar element\r\n * @returns {String}\r\n * @private\r\n */\r\nDrawerToolbar.prototype._generateTemplate = function () {\r\n  var html,\r\n      wrapperClasses = 'editable-canvas-toolbar ' +\r\n          (this.options.toolbarClass || '') +\r\n          (this.options.hidden ? ' hidden ' : '');\r\n\r\n  html = '' +\r\n      '<ul class=\"' + wrapperClasses + '\" ' +\r\n        'contenteditable=\"false\"' +\r\n        // 'tabindex=\"-1\"' +\r\n      '>' +\r\n          '<ul class=\"toolbar-content-wrapper\"></ul>' +\r\n      '</ul>';\r\n  return html;\r\n};\r\n\r\n/**\r\n * Setup events\r\n * @private\r\n */\r\nDrawerToolbar.prototype._attachEventHandlers = function () {\r\n\r\n};\r\n\r\n/**\r\n * Setup drawer events\r\n * @private\r\n */\r\nDrawerToolbar.prototype._attachDrawerEventHandlers = function () {\r\n  var self = this;\r\n  // always hide group dropdown when any tool activates\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_DO_ACTIVATE_TOOL, function () {\r\n    // self.$toolbar.find('ul.group-items-container').addClass('hidden');\r\n    // @todo: hide all open sub-menus\r\n    self.hideActiveSubmenu();\r\n  });\r\n};\r\n\r\n/**\r\n * Process \"compactType\" option\r\n * @private\r\n */\r\nDrawerToolbar.prototype._initCompactType = function () {\r\n  switch (true) {\r\n    case (this.options.compactType === DrawerToolbar.prototype.SCROLLABLE):\r\n      this._initCompactType_scrollable();\r\n      break;\r\n    case (this.options.compactType === DrawerToolbar.prototype.MULTILINE):\r\n      this._initCompactType_multiline();\r\n      break;\r\n    case (this.options.compactType === DrawerToolbar.prototype.POPUP):\r\n      this._initCompactType_popup();\r\n      break;\r\n    default:\r\n      this._initCompactType_multiline();\r\n      break;\r\n  }\r\n};\r\n\r\n/**\r\n * Init 'scrollable' compact type\r\n * @private\r\n */\r\nDrawerToolbar.prototype._initCompactType_scrollable = function () {\r\n  this.isScrollable = true;\r\n  this.scrollModeActive = false;\r\n  this.currentScrollOffset = 0;\r\n\r\n  this.$toolbar.addClass('toolbar-scrollable');\r\n  this._addScrollButtons();\r\n\r\n  // look, if show scroll UI on drawer resize and edit start\r\n\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_CANVAS_START_RESIZE, this._onCanvasResizeStart.bind(this));\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_CANVAS_RESIZING, this._onCanvasResizing.bind(this));\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_CANVAS_STOP_RESIZE, this._onCanvasResizeFinish.bind(this));\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_EDIT_START, this.checkScroll.bind(this));\r\n\r\n  // handle scrolling by swipe\r\n  this.$toolbar.on('mousedown.toolbar touchstart.toolbar', this.onTouchStart.bind(this));\r\n};\r\n\r\n/**\r\n * Init 'multiline' compact type\r\n * @private\r\n */\r\nDrawerToolbar.prototype._initCompactType_multiline = function () {\r\n  this.$toolbar.addClass('toolbar-multiline');\r\n};\r\n\r\n/**\r\n * Init 'popup' compact type\r\n * @private\r\n */\r\nDrawerToolbar.prototype._initCompactType_popup = function () {\r\n  this._initCompactType_multiline();\r\n};\r\n\r\n\r\n/**\r\n * Removes toolbar element.\r\n * @fires DrawerJs.Drawer.EVENT_TOOLBAR_DESTROYED\r\n */\r\nDrawerToolbar.prototype.remove = function () {\r\n    this.$toolbar.remove();\r\n    this.buttonsGroups = {};\r\n    this.drawerInstance.trigger(this.drawerInstance.EVENT_TOOLBAR_DESTROYED, [this]);\r\n};\r\n\r\n\r\n/**\r\n * Adds control to toolbar.\r\n * @param {jQuery|HTMLElement} control\r\n * @param buttonOrder\r\n */\r\nDrawerToolbar.prototype.addControl = function (control, buttonOrder) {\r\n  buttonOrder = buttonOrder !== undefined ? buttonOrder : this._defaultButtonConfig.buttonOrder;\r\n  var orderString = this._getOrderString(buttonOrder),\r\n      currStyleAttr = control.attr('style');\r\n  control.attr('style', (currStyleAttr || '') + ';' + orderString);\r\n  this.$toolbarContentHolder.append(control);\r\n};\r\n\r\n\r\n/**\r\n * Add a button to this toolbar.\r\n * @param {DrawerToolbar.buttonConfig} options Button configuration object\r\n */\r\nDrawerToolbar.prototype.addButton = function (options) {\r\n  options = this._validateButtonConfig(options);\r\n  var $button = this.createButton(options);\r\n\r\n  this.buttons.push($button);\r\n\r\n  // add button and create tooltip\r\n  this.$toolbarContentHolder.append($button);\r\n\r\n  // toolbar grew bigger, so call check for scroll\r\n  this.checkScroll();\r\n\r\n  return $button;\r\n};\r\n\r\n/**\r\n * Add a button to this toolbar. Button will be appended to group.\r\n * Group is a one button which will show dropdown with its buttons on click.\r\n *\r\n * @param {DrawerToolbar.buttonConfig} options Button configuration object\r\n */\r\nDrawerToolbar.prototype.addButtonToGroup = function (options) {\r\n  options = this._validateButtonConfig(options);\r\n  var $groupContainer = this.buttonsGroups[options.group.name],\r\n      groupElementIsExist = $groupContainer && $groupContainer.length,\r\n      needToCreateGroup = !groupElementIsExist;\r\n\r\n  // create group. if no group exists\r\n  if (needToCreateGroup) {\r\n    this._createAndAppendGroup(options.group, options.iconClass,options.buttonOrder);\r\n    $groupContainer = this.buttonsGroups[options.group.name];\r\n  }\r\n\r\n  // create button\r\n  options.isSubMenu = true;\r\n  var $button = this.createButton(options);\r\n\r\n  // and append to toolbar\r\n  $groupContainer.$submenuWrapper.buttons.push($button);\r\n  $groupContainer.find('.group-items-container').append($button);\r\n\r\n  return $button;\r\n};\r\n\r\n/**\r\n * Check values of button config object\r\n * @param {DrawerToolbar.buttonConfig} options - button configuration\r\n * @returns {DrawerToolbar.buttonConfig}\r\n */\r\nDrawerToolbar.prototype._validateButtonConfig = function (options) {\r\n  options = options || {};\r\n  var defaultConf = $.extend(true, {}, this._defaultButtonConfig),\r\n      result = $.extend(true, {}, defaultConf, options);\r\n\r\n  result.buttonOrder = typeof result.buttonOrder === 'number' ? result.buttonOrder : defaultConf.buttonOrder;\r\n  result.isSubMenu = result.isSubMenu !== undefined ? result.isSubMenu : defaultConf.isSubMenu;\r\n  result.clickHandler = typeof result.clickHandler === 'function' ? result.clickHandler : defaultConf.clickHandler;\r\n  return result;\r\n};\r\n\r\nDrawerToolbar.prototype._getOrderString = function (orderValue) {\r\n  var orderString = '' +\r\n      '-webkit-order:' + orderValue + ';' +\r\n      '-ms-flex-order:' + orderValue + ';' +\r\n      'order:' + orderValue + ';';\r\n  return orderString;\r\n};\r\n\r\n/**\r\n * Creates jQuery object with button element markup.\r\n *\r\n * @param {DrawerToolbar.buttonConfig} options - button configuration\r\n * @returns {jQuery}\r\n */\r\nDrawerToolbar.prototype.createButton = function (options) {\r\n  var orderString = this._getOrderString(options.buttonOrder),\r\n      styleString = 'style=\"' + orderString + '\"';\r\n  // button html\r\n  var $button,\r\n      submenuClass = options.isSubMenu ? ' submenu-child ' : ' ',\r\n      classString = 'toolbar-button ' + options.additionalClass + submenuClass,\r\n      buttonHtml = '' +\r\n    '<li ' +\r\n          'class=\"' + classString + '\"' +\r\n          'data-tooltip-class=\"'+options.additionalClass+'\"' +\r\n        styleString +\r\n    '>' +\r\n      '<a href=\"#\" ' +\r\n          'class=\"toolbar-button-icon ' + submenuClass + '\"' +\r\n        'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n        'data-editable-canvas-cssrules=\"line-height,font-size:($v / 2.5)\" tabindex=\"-1\"' +\r\n      '>' +\r\n          '<i class=\"fa ' + options.iconClass + ' ' + submenuClass + '\"></i>' +\r\n      '</a>' +\r\n    '</li>';\r\n  $button = $(buttonHtml);\r\n\r\n  var tooltipOptions = {\r\n    additionalClass: options.additionalClass,\r\n    text: options.tooltipText,\r\n    position: 'bottom'\r\n  };\r\n  $button.tooltip = this.drawerInstance.trigger(this.drawerInstance.EVENT_CREATE_TOOLTIP, [$button.find('a'), tooltipOptions]);\r\n\r\n  // prevent default behavior on link click\r\n  var $link = $button.find('a');\r\n  $link.on('click', function (e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  });\r\n\r\n  // set click handler\r\n  DrawerJs.util.bindClick($link, 'editable-canvas-toolbar-button', options.clickHandler);\r\n  return $button;\r\n};\r\n\r\n\r\n/**\r\n * Remove button and attached handlers\r\n * @param {jQuery} $button - Button element\r\n */\r\nDrawerToolbar.prototype.removeButton = function ($button) {\r\n  if (!$button) {\r\n    console.warn(\"DrawerToolbar.removeButton() : no $button is provided!\");\r\n    return;\r\n  }\r\n  // unbind click handler\r\n  DrawerJs.util.unbindClick($button.find('a'), 'editable-canvas-toolbar-button');\r\n  // remove element\r\n  $button.remove();\r\n\r\n};\r\n\r\n/**\r\n * Creates group button with empty list of tools, and appends it to toolbar\r\n *\r\n * @param {Object} group - group data object\r\n * @param {string} group.name - name of group\r\n * @param {string} iconClass  - css icon class of group button\r\n * @param {Number} buttonOrder  - button order value\r\n * @private\r\n */\r\nDrawerToolbar.prototype._createAndAppendGroup = function(group, iconClass, buttonOrder) {\r\n  // group container html\r\n  var orderString = this._getOrderString(buttonOrder),\r\n      styleString = 'style=\"' + orderString + '\"';\r\n  var $groupContainer = $(\r\n      '<li class=\"toolbar-button btn-group group-' + group.name + '\"' +\r\n          'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n          'data-editable-canvas-cssrules=\"width,height\"' +\r\n          styleString +\r\n      '>' +\r\n          '<a href=\"#\" ' +\r\n              'class=\"toolbar-button-icon\"'+\r\n              'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n              'data-editable-canvas-cssrules=\"line-height,font-size:($v / 2.5)\" ' +\r\n              'tabindex=\"-1\"' +\r\n          '>' +\r\n              '<i class=\"fa ' + iconClass + '\"></i>' +\r\n        '</a>' +\r\n        '<div class=\"submenu-wrapper\">' +\r\n            '<ul class=\"group-items-container submenu-child toolbar-dropdown-block\">' +\r\n            '</ul>' +\r\n        '</div>' +\r\n      '</li>');\r\n\r\n  $groupContainer.$submenuWrapper = $groupContainer.find('.submenu-wrapper');\r\n  $groupContainer.$submenuWrapper.buttons = [];\r\n\r\n  // add group container to toolbar\r\n  this.$toolbarContentHolder.append($groupContainer);\r\n  this.buttonsGroups[group.name] = $groupContainer;\r\n\r\n  // prevent default action on link click - moving to anchor\r\n  $groupContainer.find('a').on('click',  function(e) {\r\n      e.preventDefault();\r\n  });\r\n  // react on click\r\n  $groupContainer.on('click', this.onGroupButtonClick.bind(this, $groupContainer));\r\n\r\n  // create tooltip to group\r\n\r\n  var tooltipOptions = {\r\n    additionalClass: group.name,\r\n    text: group.tooltip,\r\n    position: 'bottom'\r\n  };\r\n  this.drawerInstance.trigger(this.drawerInstance.EVENT_CREATE_TOOLTIP, [$groupContainer.children('a'), tooltipOptions]);\r\n};\r\n\r\n/**\r\n * Set active button\r\n * @param {String} buttonClassName\r\n */\r\nDrawerToolbar.prototype.setActiveButton = function (buttonClassName) {\r\n  var $button = this.$toolbar.find('.toolbar-button.' + buttonClassName),\r\n      $buttonIcon = $button.find('.toolbar-button-icon');\r\n  $buttonIcon.addClass('active');\r\n};\r\n\r\n/**\r\n * Remove active state for all buttons\r\n */\r\nDrawerToolbar.prototype.clearActiveButton = function () {\r\n  var $activeButton = this.$toolbar.find('.toolbar-button .toolbar-button-icon.active');\r\n  $activeButton.removeClass('active');\r\n};\r\n\r\n\r\n/**\r\n * React on group button click\r\n * @param {jQuery} $groupButtton - Group container\r\n * @param {Event} evt\r\n * @private\r\n */\r\nDrawerToolbar.prototype.onGroupButtonClick = function($groupButtton, evt) {\r\n  // copy submenu, including handlers\r\n  this.activeSubmenu = $groupButtton.$submenuWrapper.clone(true);\r\n  // var $submenu = $submenuSrc.clone(true);\r\n\r\n  // position our submenu below button\r\n  var $btn = $(evt.currentTarget);\r\n\r\n  // button position relative to toolbar placeholder =\r\n  // button position relative to toolbarContentWrapper - toolbarOffset +\r\n  // toolbar padding\r\n  if (this.isHorizontal()) {\r\n      var paddingLeft = parseInt(this.$toolbar.css('padding-left'));\r\n      var left = $btn.position().left - this.currentScrollOffset + paddingLeft;\r\n      this.activeSubmenu.css('left', left + 'px');\r\n  } else {\r\n      var paddingTop = parseInt(this.$toolbar.css('padding-top'));\r\n      var top = $btn.position().top - this.currentScrollOffset + paddingTop;\r\n      this.activeSubmenu.css('top', top + 'px');\r\n  }\r\n\r\n  // append to toolbar before positioning, so this.activeSubmenu has width and height for further calculations\r\n  this.$toolbar.parent().append(this.activeSubmenu);\r\n\r\n  // offset of submenu relative to toolbar placeholder\r\n  var submenuOffset = 0;\r\n  switch (this.position) {\r\n    case 'custom' :\r\n    case 'top' :\r\n    // position submenu below of the toolbar\r\n        submenuOffset = this.$toolbar[0].offsetTop + this.$toolbar.height();\r\n        this.activeSubmenu.css('top', submenuOffset + 'px');\r\n    break;\r\n    case 'left' :\r\n    // position submenu to the right of toolbar\r\n        submenuOffset = this.$toolbar[0].offsetLeft + this.$toolbar.width();\r\n        this.activeSubmenu.css('left', submenuOffset + 'px');\r\n    break;\r\n    case 'right' :\r\n    // position submenu to the left of toolbar\r\n        submenuOffset = this.$toolbar[0].offsetLeft - this.$toolbar.width();\r\n        this.activeSubmenu.css('left', submenuOffset + 'px');\r\n    break;\r\n    case 'bottom' :\r\n    // position submenu above of toolbar\r\n        submenuOffset = this.$toolbar[0].offsetTop - this.activeSubmenu.height();\r\n        this.activeSubmenu.css('top', submenuOffset + 'px');\r\n    break;\r\n  }\r\n\r\n  $('body').on('mousedown.submenu', this.onSubmenuMouseDown.bind(this));\r\n\r\n};\r\n\r\n/**\r\n * React on submenu click\r\n * @param {Event} evt\r\n * @private\r\n */\r\nDrawerToolbar.prototype.onSubmenuMouseDown = function(evt) {\r\n    if (!this.activeSubmenu)\r\n        return;\r\n    if (evt.target == this.activeSubmenu || $(evt.target).hasClass('submenu-child') )\r\n        return;\r\n\r\n    this.hideActiveSubmenu();\r\n};\r\n\r\n/**\r\n * Hide active submenu\r\n */\r\nDrawerToolbar.prototype.hideActiveSubmenu = function() {\r\n    if (this.activeSubmenu) {\r\n        // hide all tooltips\r\n        this.drawerInstance.trigger(this.drawerInstance.EVENT_HIDE_TOOLTIPS);\r\n\r\n        this.activeSubmenu.remove();\r\n        this.activeSubmenu = null;\r\n        $('body').off('mousedown.submenu');\r\n\r\n    }\r\n};\r\n\r\n// DrawerToolbar.prototype.onGroupButtonClick = function(evt, button) {\r\n\r\n// };\r\n\r\n/**\r\n * Makes tool button with css class buttonClass as active.\r\n * This is achieved by making group button copy of the tool button.\r\n *\r\n * @param groupName\r\n * @param buttonClass\r\n * @private\r\n */\r\nDrawerToolbar.prototype._setGroupButtonActive = function (groupName, buttonClass) {\r\n  // find group and button\r\n  var $groupContainer = this.buttonsGroups[groupName];\r\n  var $button = this.$toolbar.find('.' + buttonClass);\r\n\r\n  // set $groupContainer css class same as $button class\r\n  $groupContainer.attr('class', $button.attr('class'));\r\n  $groupContainer.addClass('btn-group');\r\n\r\n  var groupButton = $groupContainer.children('a');\r\n  // make $button.a active\r\n  groupButton.addClass('active');\r\n  // copy $button.a html to $groupContainer.a\r\n  groupButton.html($button.children('a').html());\r\n};\r\n\r\n\r\n/**\r\n * Setup/add scroll buttons\r\n * @private\r\n */\r\nDrawerToolbar.prototype._addScrollButtons = function() {\r\n  // aux function\r\n  var _getBtnHtml = function(btnClass) {\r\n    return '<li class=\"toolbar-button ' + btnClass + '\">' +\r\n                '<a href=\"#\" ' +\r\n                  'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n                  'data-editable-canvas-cssrules=\"line-height,font-size:($v / 2.5)\" tabindex=\"-1\"' +\r\n                '>' +\r\n                   '<i class=\"fa\"></i>' +\r\n               '</a>' +\r\n            '</li>';\r\n  };\r\n\r\n  // buttons html\r\n  this.$scrollToBeginBtn = $(_getBtnHtml('scroll-to-begin-btn'));\r\n  this.$scrollToEndBtn   = $(_getBtnHtml('scroll-to-end-btn'));\r\n\r\n  // prevent default behavior on link click\r\n  var $linkToBegin = this.$scrollToBeginBtn.find('a');\r\n  var $linkToEnd = this.$scrollToEndBtn.find('a');\r\n  $linkToBegin.on('click', function (e) {\r\n      e.preventDefault();\r\n      // e.stopPropagation();\r\n  });\r\n  $linkToEnd.on('click', function (e) {\r\n      e.preventDefault();\r\n      // e.stopPropagation();\r\n  });\r\n\r\n  // set click handlers\r\n  DrawerJs.util.bindClick($linkToBegin, 'scroll-to-begin-btn', this.onScrollToBegin.bind(this));\r\n  DrawerJs.util.bindClick($linkToEnd, 'scroll-to-end-btn', this.onScrollToEnd.bind(this));\r\n\r\n  // scroll buttons are added direct;y to toolbar,\r\n  // unlike common buttons, which are added to $toolbarContentHolder\r\n  this.$toolbar.append(this.$scrollToBeginBtn);\r\n  this.$toolbar.append(this.$scrollToEndBtn);\r\n};\r\n\r\n\r\n/**\r\n * React on touch start\r\n * @param {Event} evt\r\n * @private\r\n */\r\nDrawerToolbar.prototype.onTouchStart = function(evt) {\r\n    if (!this.scrollModeActive)\r\n        return;\r\n\r\n    this.mouseDown = true;\r\n\r\n    // handling touch events\r\n    var e = (evt.type == 'touchstart') ?  evt.originalEvent.touches[0] : evt;\r\n    // get coord we are interested in\r\n    var curCoord = this.isHorizontal() ? e.pageX : e.pageY;\r\n\r\n    // touch start coord plus existing offset\r\n    this.touchStartCoord = curCoord + this.currentScrollOffset;\r\n\r\n    console.log('TOUCH START', this.touchStartCoord, evt);\r\n\r\n    $('body').on('mouseup.toolbar touchend.toolbar', this.onTouchEnd.bind(this));\r\n\r\n    this.$toolbar.on('mousemove.toolbar touchmove.toolbar', this.onTouchMove.bind(this));\r\n};\r\n\r\n/**\r\n * React on touch end\r\n * @param {Event} evt\r\n * @private\r\n */\r\nDrawerToolbar.prototype.onTouchEnd = function(evt) {\r\n    console.log('TOUCH END', evt);\r\n    this.mouseDown = false;\r\n    $('body').off('mousemove.toolbar touchmove.toolbar');\r\n    $('body').off('mouseup.toolbar touchend.toolbar');\r\n};\r\n\r\n/**\r\n * React on touch move\r\n * @param {Event} evt\r\n * @private\r\n */\r\nDrawerToolbar.prototype.onTouchMove = function(evt) {\r\n  if (this.mouseDown) {\r\n    var eventTarget = evt.target,\r\n        $eventTarget = $(eventTarget),\r\n        isInput = $eventTarget.is('input'),\r\n        isColorIndicator = $eventTarget.is('.color-indicator'),\r\n        processEvent = !isInput && !isColorIndicator;\r\n\r\n    if (processEvent) {\r\n      // prevent default action - copying of toolbar content\r\n      evt.preventDefault();\r\n\r\n      // handling touch events\r\n      var e = (evt.type === 'touchmove') ?  evt.originalEvent.touches[0] : evt;\r\n\r\n      // get coord we are interested in\r\n      var curCoord = this.isHorizontal() ? e.pageX : e.pageY;\r\n\r\n      var delta = this.touchStartCoord - curCoord;\r\n      console.log('TOUCH MOVE', curCoord, delta);\r\n\r\n      this.scrollTo(delta);\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * React on canvas resize start\r\n * @private\r\n */\r\nDrawerToolbar.prototype._onCanvasResizeStart = function() {\r\n  this.checkScroll();\r\n};\r\n\r\n/**\r\n * React on canvas resizing\r\n * @private\r\n */\r\nDrawerToolbar.prototype._onCanvasResizing = function() {\r\n  this.checkScroll();\r\n};\r\n\r\n/**\r\n * React on canvas resize finish\r\n * @private\r\n */\r\nDrawerToolbar.prototype._onCanvasResizeFinish = function() {\r\n  this.checkScroll();\r\n};\r\n\r\n/**\r\n *  Compares sizes of toolbar and its placeholder,\r\n *  if toolbar is bigger - shows scroll\r\n */\r\nDrawerToolbar.prototype.checkScroll = function() {\r\n    var toolbarContentHolder = this.$toolbarContentHolder.get(0),\r\n        contentSize = this.isHorizontal() ? toolbarContentHolder.scrollWidth : toolbarContentHolder.scrollHeight;\r\n\r\n    var toolbarSize = this.isHorizontal() ? this.$toolbar.width()\r\n                                          : this.$toolbar.height();\r\n\r\n    if (contentSize > toolbarSize) {\r\n        this.scrollModeActive = true;\r\n        this.$toolbar.addClass('show-scroll');\r\n    } else {\r\n        this.scrollModeActive = false;\r\n        this.$toolbar.removeClass('show-scroll');\r\n        this.scrollTo(0);\r\n    }\r\n};\r\n\r\n\r\nDrawerToolbar.prototype._getCurrOffsetProps = function () {\r\n  var result = {},\r\n      $element,\r\n      isHorizontal = this.isHorizontal(),\r\n      currentScrollOffset = this.currentScrollOffset,\r\n      $contentWrapper = this.$toolbar.find('.toolbar-content-wrapper'),\r\n      contentWrapperSizes = $contentWrapper.get(0).getBoundingClientRect(),\r\n      $elementsToCheck = $contentWrapper.children(),\r\n      minOffset,\r\n      relativeOffset;\r\n\r\n  $elementsToCheck.each(function (i, currElement) {\r\n    var $currElement = $(currElement),\r\n        currElSizes = currElement.getBoundingClientRect(),\r\n        currElOffsetAbsolute = isHorizontal ? currElSizes.left - contentWrapperSizes.left : currElSizes.top - contentWrapperSizes.top,\r\n        currElOffset = Math.abs(currElOffsetAbsolute - currentScrollOffset),\r\n        currElIsVisible = $currElement.is(':visible'),\r\n        currElIsCloser = minOffset > currElOffset,\r\n        currElIsMatched = currElIsVisible && (minOffset === undefined || currElIsCloser);\r\n\r\n    if (currElIsMatched) {\r\n      minOffset = currElOffset;\r\n\r\n      result.relativeOffset = currElOffsetAbsolute - currentScrollOffset;\r\n      result.$element = $currElement;\r\n      result.sizes = currElSizes;\r\n    }\r\n  });\r\n  return result;\r\n};\r\n\r\nDrawerToolbar.prototype._getOffsetStep_Custom = function (toBegin) {\r\n  var result = 0,\r\n      isHorizontal = this.isHorizontal(),\r\n      toolbarSize = isHorizontal ? this.$toolbar.width() : this.$toolbar.height(),\r\n      buttonSize = isHorizontal ? this.options.buttonWidth : this.options.buttonHeight,\r\n      maxOffsetVal = toolbarSize - buttonSize*2;\r\n\r\n  var offsetProps = this._getCurrOffsetProps(),\r\n      $currentStartOffsetEl = offsetProps.$element,\r\n      needMoreOffset = true,\r\n      $el,\r\n      $nextEl,\r\n      prevSizes,\r\n      currSizes,\r\n      delta;\r\n\r\n  result = offsetProps.relativeOffset;\r\n\r\n\r\n\r\n    var startElSizes = $currentStartOffsetEl.get(0).getBoundingClientRect();\r\n    $el = $currentStartOffsetEl;\r\n\r\n    while (needMoreOffset) {\r\n      $nextEl = toBegin ? $el.prev() : $el.next();\r\n      if ($nextEl.length && (Math.abs(result) < maxOffsetVal)) {\r\n        var isVisible = $nextEl.is(':visible');\r\n        if (isVisible) {\r\n          currSizes = $nextEl.get(0).getBoundingClientRect();\r\n          delta = isHorizontal ? currSizes.left - startElSizes.left :currSizes.top - startElSizes.top;\r\n\r\n          if (delta > 0) {\r\n            delta += 3;\r\n          } else {\r\n            delta -= 3;\r\n          }\r\n          result += delta;\r\n          needMoreOffset = false;\r\n        }\r\n      } else {\r\n        needMoreOffset = false;\r\n      }\r\n      $el = $nextEl;\r\n    }\r\n  // result += buttonSize;\r\n  return result;\r\n};\r\n\r\nDrawerToolbar.prototype._getOffsetStep_Buttons = function() {\r\n  var offset,\r\n      toolbarLength = this.isHorizontal() ? this.$toolbar.width() : this.$toolbar.height(),\r\n      btnLength     = this.isHorizontal() ? this.options.buttonWidth : this.options.buttonHeight,\r\n      buttonsPerToolbar = Math.ceil(toolbarLength / btnLength),\r\n      buttonsToScroll = Math.max(buttonsPerToolbar - 1, 1);\r\n  offset = buttonsToScroll * btnLength;\r\n  return offset;\r\n};\r\n\r\n/**\r\n * Do scroll to begin\r\n */\r\nDrawerToolbar.prototype.onScrollToBegin = function () {\r\n  var offset,\r\n      offsetDelta;\r\n  if (this.customScrollMode) {\r\n    offset = this._getOffsetStep_Custom(true);\r\n  } else {\r\n    offsetDelta = this._getOffsetStep_Buttons();\r\n    offset = -offsetDelta;\r\n  }\r\n  this.scrollToolbarBy(offset);\r\n};\r\n\r\n/**\r\n * Do scroll to end\r\n */\r\nDrawerToolbar.prototype.onScrollToEnd = function() {\r\n  var offset,\r\n      offsetDelta;\r\n  if (this.customScrollMode) {\r\n    offset = this._getOffsetStep_Custom();\r\n  } else {\r\n    offsetDelta = this._getOffsetStep_Buttons();\r\n    offset = offsetDelta;\r\n  }\r\n  this.scrollToolbarBy(offset);\r\n};\r\n\r\n\r\n/**\r\n * Scrolls toolbar  by offset in directions - to the end(offset>0)/ to the beginning (offset<0).\r\n * If offset is to big, it is set to max possible.\r\n * @param offset\r\n */\r\nDrawerToolbar.prototype.scrollToolbarBy = function (offset) {\r\n  var newOffset = this.currentScrollOffset + parseInt(offset),\r\n      toolbarEl = this.$toolbar.get(0),\r\n      isHorizontal = this.isHorizontal(),\r\n      toolbarSize = isHorizontal ? this.$toolbar.width() : this.$toolbar.height(),\r\n      toolbarContentSize = isHorizontal ? toolbarEl.scrollWidth : toolbarEl.scrollHeight,\r\n      btnSize = isHorizontal ? this.options.buttonWidth : this.options.buttonHeight,\r\n      maxOffset = toolbarContentSize - btnSize;\r\n\r\n  newOffset = Math.min(newOffset, maxOffset); // see, if offset not exceeds maximum\r\n  newOffset = Math.max(newOffset, 0); // no negative offset check\r\n  // scroll it\r\n  this.scrollTo(newOffset);\r\n};\r\n\r\n/**\r\n * Toggle toolbar visibility\r\n * @param {Boolean} [saveCurrentState]\r\n * @param {Boolean} [useSaved]\r\n */\r\nDrawerToolbar.prototype.toggleToolbarVisibility = function (saveCurrentState, useSaved) {\r\n  var currentState = !this.$toolbar.hasClass('hidden'),\r\n      showToolbar = useSaved ? this.visibilityState : currentState;\r\n\r\n  if (showToolbar) {\r\n    this.showToolbar(saveCurrentState);\r\n  } else {\r\n    this.hideToolbar(saveCurrentState);\r\n  }\r\n};\r\n\r\n/**\r\n * Hide toolbar\r\n * @param {Boolean} [saveCurrentState]\r\n */\r\nDrawerToolbar.prototype.hideToolbar = function (saveCurrentState) {\r\n  if (saveCurrentState) {\r\n    this.visibilityState = !this.$toolbar.hasClass('hidden');\r\n  }\r\n  this.invisible = true;\r\n  this.$toolbar.addClass('hidden');\r\n};\r\n\r\n/**\r\n * Show toolbar\r\n * @param {Boolean} [saveCurrentState]\r\n */\r\nDrawerToolbar.prototype.showToolbar = function (saveCurrentState) {\r\n  if (saveCurrentState) {\r\n    this.visibilityState = !this.$toolbar.hasClass('hidden');\r\n  }\r\n  this.invisible = false;\r\n  this.$toolbar.removeClass('hidden');\r\n};\r\n\r\n\r\n/**\r\n * Scroll toolbar to the offset.\r\n * @param  {Number} newOffset\r\n */\r\nDrawerToolbar.prototype.scrollTo = function (newOffset) {\r\n    this.currentScrollOffset = parseInt(newOffset);\r\n    if (this.isHorizontal()) {\r\n        this.$toolbarContentHolder.css('left', '-' + this.currentScrollOffset + 'px');\r\n    } else {\r\n        this.$toolbarContentHolder.css('top', '-' + this.currentScrollOffset + 'px');\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Returns one of [horizontal, vertical]\r\n * @return {String} toolbar orientation\r\n */\r\nDrawerToolbar.prototype.getToolbarOrientation = function () {\r\n  return this.$toolbar.hasClass('toolbar-vertical') ? 'vertical' : 'horizontal';\r\n};\r\n\r\n\r\n/**\r\n * @return {Boolean}\r\n */\r\nDrawerToolbar.prototype.isHorizontal = function () {\r\n  return (this.getToolbarOrientation() ===  'horizontal');\r\n};\r\n\r\n\r\n/**\r\n * height of toolbar\r\n * @return {Number}\r\n */\r\nDrawerToolbar.prototype.height = function () {\r\n  return this.$toolbar.height();\r\n};\r\n\r\n\r\n/**\r\n * Width of toolbar\r\n * @return {Number}\r\n */\r\nDrawerToolbar.prototype.width = function () {\r\n  return this.$toolbar.width();\r\n};\r\n\r\n\r\n\r\nvar DrawerToolbarManager = function (drawer) {\r\n  this.drawerInstance = drawer;\r\n  if (!drawer) {\r\n    throw new Error(\"DrawerToolbarManager : drawer must be provided!\");\r\n  }\r\n  this.toolbars = {};\r\n  this.toolbarPlaceholders = {};\r\n  this.TooltipManager = new DrawerJs.utilPlugins.TooltipManager(this.drawerInstance);\r\n};\r\n\r\n\r\n/**\r\n * Appends toolbar to specified location.\r\n *\r\n * @param {DrawerToolbar} toolbar - toolbar to append\r\n * @param {DrawerToolbar.defaultSetOfOptions} [options] - options of toolbar\r\n */\r\nDrawerToolbarManager.prototype.addToolbar = function (toolbar, options) {\r\n  options = options || {};\r\n  var customPosition = (options.position == ToolbarPlaceholder.prototype.CUSTOM_POSITION),\r\n      posKey = customPosition ? options.customAnchorSelector : options.position,\r\n      isCustomPositionType = posKey === ToolbarPlaceholder.prototype.POPUP_POSITION || posKey === ToolbarPlaceholder.prototype.OVER_CANVAS_POSITION,\r\n      posTypeKey = isCustomPositionType ? ToolbarPlaceholder.prototype.POSITION_TYPE_CUSTOM : options.positionType || ToolbarPlaceholder.prototype.POSITION_TYPE_OUTSIDE,\r\n      placeHolderByType = this.toolbarPlaceholders[posTypeKey] && this.toolbarPlaceholders[posTypeKey][posKey],\r\n      placeholderByKey = this.toolbarPlaceholders[posKey],\r\n      placeholder = placeHolderByType || placeholderByKey;\r\n  if (placeholder) {\r\n    placeholder.addToolbar(toolbar);\r\n  } else {\r\n    if (!customPosition) {\r\n      var messageText = \"DrawerToolbarManager.addToolbar() : no placeholder exists with name '\",\r\n          variablesText = posTypeKey + \" \" + posKey + \" \" + options.customAnchorSelector + \"'\";\r\n      this.drawerInstance.error(messageText + variablesText);\r\n    }\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Setup/create all toolbars\r\n */\r\nDrawerToolbarManager.prototype.createAllToolbars = function () {\r\n  var _this = this;\r\n\r\n  this.drawerInstance.trigger(this.drawerInstance.BEFORE_CREATE_TOOLBARS, [this]);\r\n\r\n  // create wrapper for toolbar\r\n  this._createHelperElements();\r\n\r\n  // create placeholders for toolbars\r\n\r\n  this._createToolbarsPlaceholders();\r\n\r\n  var toolbarsOptions = this.drawerInstance.options.toolbars,\r\n      isFullscreen = this.drawerInstance.$canvasEditContainer.hasClass('fullscreen');\r\n\r\n  var toolOptions_conf,\r\n      drawingTools_conf,\r\n      settingsToolbar_conf,\r\n      overCanvasToolbar_conf = toolbarsOptions.overCanvas;\r\n\r\n  if (!isFullscreen) {\r\n    toolOptions_conf = toolbarsOptions.toolOptions;\r\n    drawingTools_conf = toolbarsOptions.drawingTools;\r\n    settingsToolbar_conf = toolbarsOptions.settings;\r\n  } else {\r\n    var overridedValues = {\r\n      positionType: ToolbarPlaceholder.prototype.POSITION_TYPE_INSIDE\r\n    };\r\n    toolOptions_conf = $.extend(true,\r\n        {},\r\n        toolbarsOptions.toolOptions,\r\n        toolbarsOptions.toolOptions.fullscreenMode || {},\r\n        overridedValues);\r\n    drawingTools_conf = $.extend(true,\r\n        {},\r\n        toolbarsOptions.drawingTools,\r\n        toolbarsOptions.drawingTools.fullscreenMode || {},\r\n        overridedValues);\r\n    settingsToolbar_conf = $.extend(true,\r\n        {},\r\n        toolbarsOptions.settings,\r\n        toolbarsOptions.settings.fullscreenMode || {},\r\n        overridedValues);\r\n  }\r\n\r\n  // order of toolbox creation MATTERS\r\n  // OptionsToolbar must be created first, because in createToolsToolbar() we can activate default tool,\r\n  // which will trigger updates in BrushSize and BrushColor tools.\r\n  this.toolOptionsToolbar = new ToolOptionsToolbar(this.drawerInstance, toolOptions_conf);\r\n  var toolOptionsToolbarOptions = {\r\n    position: toolOptions_conf.position,\r\n    positionType: toolOptions_conf.positionType,\r\n    customAnchorSelector: toolOptions_conf.customAnchorSelector\r\n  };\r\n  if (toolOptions_conf.compactType === DrawerToolbar.prototype.POPUP) {\r\n    toolOptionsToolbarOptions.position = ToolbarPlaceholder.prototype.POPUP_POSITION;\r\n    toolOptionsToolbarOptions.positionType = ToolbarPlaceholder.prototype.POSITION_TYPE_CUSTOM;\r\n  }\r\n  this.addToolbar(this.toolOptionsToolbar, toolOptionsToolbarOptions);\r\n\r\n\r\n  // drawer tools\r\n  this.drawingToolsToolbar = new DrawingToolsToolbar(this.drawerInstance, drawingTools_conf);\r\n\r\n  var drawingToolsToolbarOptions = {\r\n    position: drawingTools_conf.position,\r\n    positionType: drawingTools_conf.positionType,\r\n    customAnchorSelector: drawingTools_conf.customAnchorSelector\r\n  };\r\n  this.addToolbar(this.drawingToolsToolbar, drawingToolsToolbarOptions);\r\n\r\n  // toolbar with close, move, options buttons\r\n  this.settingsToolbar = new SettingsToolbar(this.drawerInstance, settingsToolbar_conf);\r\n  var settingsToolbarOptions = {\r\n    position: settingsToolbar_conf.position,\r\n    positionType: settingsToolbar_conf.positionType,\r\n    customAnchorSelector: settingsToolbar_conf.customAnchorSelector\r\n  };\r\n  this.addToolbar(this.settingsToolbar, settingsToolbarOptions);\r\n\r\n  // Over canvas toolbar\r\n  this.overCanvasToolbar = new OverCanvasToolbar(this.drawerInstance, overCanvasToolbar_conf);\r\n  var overCanvasToolbarOptions = {\r\n    position: ToolbarPlaceholder.prototype.OVER_CANVAS_POSITION,\r\n    positionType: ToolbarPlaceholder.prototype.POSITION_TYPE_CUSTOM\r\n  };\r\n  this.addToolbar(this.overCanvasToolbar, overCanvasToolbarOptions);\r\n\r\n  // Over canvas toolbar\r\n  this.cropImageToolbar = new CropImageToolbar(this.drawerInstance, overCanvasToolbar_conf);\r\n  var cropImageToolbarOptions = {\r\n    position: ToolbarPlaceholder.prototype.TOP_POSITION,\r\n    positionType: ToolbarPlaceholder.prototype.POSITION_TYPE_INSIDE\r\n  };\r\n\r\n  this.addToolbar(this.cropImageToolbar, cropImageToolbarOptions);\r\n\r\n  // Minimized toolbar\r\n  this.minimizedToolbar = new MinimizedToolbar(this.drawerInstance);\r\n  var minimizedToolbarOptions = {\r\n    position: ToolbarPlaceholder.prototype.TOP_POSITION,\r\n    positionType: ToolbarPlaceholder.prototype.POSITION_TYPE_INSIDE\r\n  };\r\n  this.addToolbar(this.minimizedToolbar, minimizedToolbarOptions);\r\n\r\n  // @todo: move to other place\r\n  this.setToolbarButtonsSize();\r\n\r\n  // remove all toolbars on exit\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_EDIT_STOP, function () {\r\n    _this.destroyAllToolbars();\r\n  });\r\n\r\n  this.drawerInstance.trigger(this.drawerInstance.AFTER_CREATE_TOOLBARS, [this]);\r\n};\r\n\r\n\r\n/**\r\n * Creates placeholders for toolbars.\r\n * All placeholders are inside this.toolbarPlaceholders.\r\n * Default keys are : left, right, top, bottom\r\n * Custom anchor toolbars placeholders are stored as this.toolbarPlaceholders[customAnchorSelector]\r\n * If no anchor element found by selector - 'top' placeholder is used instead\r\n *\r\n * @private\r\n */\r\nDrawerToolbarManager.prototype._createToolbarsPlaceholders = function() {\r\n  // create placeholders elements\r\n  this.toolbarPlaceholders['outside'] = {};\r\n  this.toolbarPlaceholders['inside'] = {};\r\n  this.toolbarPlaceholders['custom'] = {};\r\n\r\n  this.toolbarPlaceholders['outside']['top'] = new ToolbarPlaceholder(this.drawerInstance, ToolbarPlaceholder.prototype.TOP_POSITION, ToolbarPlaceholder.prototype.POSITION_TYPE_OUTSIDE);\r\n  this.toolbarPlaceholders['outside']['left'] = new ToolbarPlaceholder(this.drawerInstance, ToolbarPlaceholder.prototype.LEFT_POSITION, ToolbarPlaceholder.prototype.POSITION_TYPE_OUTSIDE);\r\n  this.toolbarPlaceholders['outside']['right'] = new ToolbarPlaceholder(this.drawerInstance, ToolbarPlaceholder.prototype.RIGHT_POSITION, ToolbarPlaceholder.prototype.POSITION_TYPE_OUTSIDE);\r\n  this.toolbarPlaceholders['outside']['bottom'] = new ToolbarPlaceholder(this.drawerInstance, ToolbarPlaceholder.prototype.BOTTOM_POSITION, ToolbarPlaceholder.prototype.POSITION_TYPE_OUTSIDE);\r\n\r\n  this.toolbarPlaceholders['inside']['top'] = new ToolbarPlaceholder(this.drawerInstance, ToolbarPlaceholder.prototype.TOP_POSITION, ToolbarPlaceholder.prototype.POSITION_TYPE_INSIDE);\r\n  this.toolbarPlaceholders['inside']['left'] = new ToolbarPlaceholder(this.drawerInstance, ToolbarPlaceholder.prototype.LEFT_POSITION, ToolbarPlaceholder.prototype.POSITION_TYPE_INSIDE);\r\n  this.toolbarPlaceholders['inside']['right'] = new ToolbarPlaceholder(this.drawerInstance, ToolbarPlaceholder.prototype.RIGHT_POSITION, ToolbarPlaceholder.prototype.POSITION_TYPE_INSIDE);\r\n  this.toolbarPlaceholders['inside']['bottom'] = new ToolbarPlaceholder(this.drawerInstance, ToolbarPlaceholder.prototype.BOTTOM_POSITION, ToolbarPlaceholder.prototype.POSITION_TYPE_INSIDE);\r\n\r\n  this.toolbarPlaceholders['custom']['canvas'] = new ToolbarPlaceholder(this.drawerInstance, ToolbarPlaceholder.prototype.OVER_CANVAS_POSITION, ToolbarPlaceholder.prototype.POSITION_TYPE_CUSTOM);\r\n  this.toolbarPlaceholders['custom']['popup'] = new ToolbarPlaceholder(this.drawerInstance, ToolbarPlaceholder.prototype.POPUP_POSITION, ToolbarPlaceholder.prototype.POSITION_TYPE_CUSTOM);\r\n  this.toolbarPlaceholders['custom']['minimized'] = new ToolbarPlaceholder(this.drawerInstance, ToolbarPlaceholder.prototype.TOP_POSITION, ToolbarPlaceholder.prototype.POSITION_TYPE_INSIDE);\r\n\r\n  // @todo: remake this!\r\n  var toolbarNames = ['drawingTools', 'toolOptions', 'settings'];\r\n\r\n  // look for all toolbars options and see, if there are custom positions, to create placeholder\r\n  for (var i = 0; i < toolbarNames.length; i++) {\r\n    var toolbarConf = this.drawerInstance.options.toolbars[toolbarNames[i]];\r\n    if (toolbarConf && (toolbarConf.position == ToolbarPlaceholder.prototype.CUSTOM_POSITION) && (toolbarConf.customAnchorSelector)) {\r\n        var anchorSelector = toolbarConf.customAnchorSelector;\r\n        this.toolbarPlaceholders[anchorSelector] = new ToolbarPlaceholder(this.drawerInstance, ToolbarPlaceholder.prototype.CUSTOM_POSITION, null, anchorSelector);\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Remove helper elements such as toolbars wrapper, etc.\r\n * @private\r\n */\r\nDrawerToolbarManager.prototype._removeHelperElements = function() {\r\n  if (this.drawerInstance.$toolbarsWrapper && this.drawerInstance.$toolbarsWrapper.length) {\r\n    this.drawerInstance.$toolbarsWrapper.remove();\r\n  }\r\n  var $toolbarsWrapper = this.drawerInstance.$canvasEditContainer.find('.toolbars-wrapper');\r\n  if ($toolbarsWrapper && $toolbarsWrapper.length) {\r\n    $toolbarsWrapper.remove();\r\n  }\r\n  this.drawerInstance.$toolbarsWrapper = undefined;\r\n};\r\n\r\n/**\r\n * Create helper elements such as toolbars wrapper, etc.\r\n * @private\r\n */\r\nDrawerToolbarManager.prototype._createHelperElements = function() {\r\n  this._removeHelperElements();\r\n  var toolbarsWrapperHtml = '<div class=\"toolbars-wrapper\"></div>';\r\n\r\n  var $toolbarsWrapper = $(toolbarsWrapperHtml),\r\n      container = this.drawerInstance.$canvasEditContainer;\r\n\r\n  container.append($toolbarsWrapper);\r\n\r\n  this.drawerInstance.$toolbarsWrapper = $toolbarsWrapper;\r\n};\r\n\r\n/**\r\n * Removes all toolbars.\r\n */\r\nDrawerToolbarManager.prototype.destroyAllToolbars = function () {\r\n    this.settingsToolbar.remove();\r\n    this.drawingToolsToolbar.remove();\r\n    this.toolOptionsToolbar.remove();\r\n};\r\n\r\n\r\n/**\r\n * Removes and then re-creates all toolbars.\r\n */\r\nDrawerToolbarManager.prototype.resetAllToolbars = function() {\r\n  this.destroyAllToolbars();\r\n  this.createAllToolbars();\r\n};\r\n\r\n\r\n/**\r\n * This method allows dynamical size adjustment of elements.\r\n * Elements which needs to be resized should have two attributes:\r\n *\r\n * data-editable-canvas-sizeable=\"someNamespace\",\r\n * where someNamespace is unique id for the group of elements tht will be\r\n * resized together.\r\n *\r\n * data-editable-canvas-cssrules=width,height,font-size:($v / 2.5)\r\n * which provides a list of css rules on which a new size will be applied.\r\n * If resulting size needs to be modififed in some way, the one could\r\n * specify a function like in font-size.\r\n *\r\n * @param {String} namespace\r\n * @param {String} newSize\r\n * @private\r\n */\r\nDrawerToolbarManager.prototype._adjustElementsSize = function (namespace, newSize) {\r\n  var elementsToResize =\r\n    $('[data-editable-canvas-sizeable=' + namespace + ']');\r\n\r\n  for (var i = 0; i < elementsToResize.length; i++) {\r\n    var elem = elementsToResize[i];\r\n\r\n    var attributesToChange = $(elem).attr('data-editable-canvas-cssrules');\r\n    // if no attributes to change - skip\r\n    if (!attributesToChange)\r\n      continue;\r\n\r\n    var attributesToChangeArr = attributesToChange.split(',');\r\n\r\n    for (var a = 0; a < attributesToChangeArr.length; a++) {\r\n      var attrName = attributesToChangeArr[a];\r\n      var attrVal = newSize;\r\n\r\n      if (attrName[0] == '-') {\r\n        attrName = attrName.substr(1);\r\n        attrVal = '-' + newSize;\r\n      }\r\n\r\n      var matches = attrName.match(/:\\((.+)\\)/);\r\n      if (matches) {\r\n        attrName = attrName.replace(matches[0], '');\r\n        var expression = matches[1];\r\n        expression = expression.replace('$v', attrVal);\r\n        var result = new Function(\"return \" + expression)();\r\n        attrVal = result;\r\n      }\r\n\r\n      $(elem).css(attrName, attrVal + 'px');\r\n    }\r\n  }\r\n};\r\n\r\n\r\n\r\n/**\r\n * Sets the size of buttons on all toolbars.\r\n *\r\n * @param [size] width and height in px\r\n */\r\nDrawerToolbarManager.prototype.setToolbarButtonsSize = function (size) {\r\n  if (size) {\r\n    if (this.touchDevice) {\r\n      this.drawerInstance.options.toolbarSizeTouch = size;\r\n    } else {\r\n      this.drawerInstance.options.toolbarSize = size;\r\n    }\r\n  } else {\r\n    if (this.touchDevice) {\r\n      size = this.drawerInstance.options.toolbarSizeTouch;\r\n    } else {\r\n      size = this.drawerInstance.options.toolbarSize;\r\n    }\r\n  }\r\n\r\n  this._adjustElementsSize('toolbar-button', size);\r\n};\r\n\r\nvar ToolbarPlaceholder = function(drawerInstance, position, positionType, customAnchorSelector) {\r\n  this.drawerInstance = drawerInstance;\r\n  if (!drawerInstance) {\r\n    throw new Error(\"ToolbarPlaceholder: drawerInstance is not provided!\");\r\n  }\r\n\r\n  this._setupOptions(position, positionType, customAnchorSelector);\r\n\r\n\r\n  // Create element\r\n  this._setupElement();\r\n  this._attachEventHandlers();\r\n  this._attachDrawerEventHandlers();\r\n};\r\n\r\n// positions of placeholder\r\nToolbarPlaceholder.prototype.TOP_POSITION = 'top';\r\nToolbarPlaceholder.prototype.BOTTOM_POSITION = 'bottom';\r\nToolbarPlaceholder.prototype.LEFT_POSITION = 'left';\r\nToolbarPlaceholder.prototype.RIGHT_POSITION = 'right';\r\nToolbarPlaceholder.prototype.OVER_CANVAS_POSITION = 'canvas';\r\nToolbarPlaceholder.prototype.POPUP_POSITION = 'popup';\r\n\r\nToolbarPlaceholder.prototype.POSITION_TYPE_OUTSIDE = 'outside';\r\nToolbarPlaceholder.prototype.POSITION_TYPE_INSIDE = 'inside';\r\nToolbarPlaceholder.prototype.POSITION_TYPE_CUSTOM = 'custom';\r\n\r\nToolbarPlaceholder.prototype.CUSTOM_POSITION = 'custom';\r\n\r\n// orientations of placeholder\r\nToolbarPlaceholder.prototype.HORIZONTAL_ORIENTATION = 'horizontal';\r\nToolbarPlaceholder.prototype.VERTICAL_ORIENTATION = 'vertical';\r\n\r\n// States of placeholder\r\nToolbarPlaceholder.prototype.STATE_HIDDEN = 'hidden';\r\nToolbarPlaceholder.prototype.STATE_OVERLAY = 'overlay';\r\nToolbarPlaceholder.prototype.STATE_DISABLED = 'disabled';\r\n\r\n\r\n// placeholder html\r\nToolbarPlaceholder.prototype._html_default =  '' +\r\n    '<ul class=\"noselect toolbar-placeholder\" contenteditable=false>' +\r\n      '<li class=\"toolbar-placeholder-overlay\"></li>' +\r\n    '</ul>';\r\n\r\nToolbarPlaceholder.prototype._html_popup =  '' +\r\n    '<div class=\"noselect toolbar-placeholder hidden\" contenteditable=false>' +\r\n      '<div class=\"close-btn\">' +\r\n        '<span class=\"fa fa-close\"></span>' +\r\n      '</div>' +\r\n      '<div class=\"overlay\"></div>' +\r\n    '</div>';\r\n\r\n/**@\r\n * Save and process options\r\n * @param {String} position one of predefined positions - look at ToolbarPlaceholder.prototype.*_POSITION\r\n * @param {String} [positionType] one of predefined types - look at ToolbarPlaceholder.prototype.POSITION_TYPE_*\r\n * @param {String} [customAnchorSelector]\r\n * @private\r\n */\r\nToolbarPlaceholder.prototype._setupOptions = function (position, positionType, customAnchorSelector) {\r\n  if (position === this.POPUP_POSITION) {\r\n    var $popupWrapper = this.drawerInstance.$popupWrapper,\r\n        $popupContent = $popupWrapper && $popupWrapper.find('.popup-content');\r\n    if ($popupContent && $popupContent.length) {\r\n      position = this.CUSTOM_POSITION;\r\n      this.$customAnchor = $popupContent;\r\n    }\r\n  }\r\n\r\n  this.position = position;\r\n  this.positionType = positionType;\r\n  this.customAnchorSelector = customAnchorSelector;\r\n};\r\n\r\n\r\n/**\r\n * Setup event handlers\r\n * @private\r\n */\r\nToolbarPlaceholder.prototype._attachEventHandlers = function () {\r\n\r\n};\r\n\r\n/**\r\n * Setup event handlers for Drawer\r\n * @private\r\n */\r\nToolbarPlaceholder.prototype._attachDrawerEventHandlers = function () {\r\n  // remove on edit stop\r\n  var self = this;\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_EDIT_STOP, function() {\r\n    self.$element.remove();\r\n  });\r\n\r\n  var checkElements = function ($elements) {\r\n    var excludeElements = $elements && $elements.length ? $elements : $(),\r\n        isParent,\r\n        isChild,\r\n        excludeElementsMatched;\r\n\r\n    excludeElements.each(function (i, element) {\r\n      var $currEl = $(element);\r\n      if (!excludeElementsMatched) {\r\n        isParent = self.$element.find($currEl).length;\r\n        isChild = self.$element.closest($currEl).length;\r\n        excludeElementsMatched = isParent || isChild;\r\n      }\r\n    });\r\n\r\n    return excludeElementsMatched;\r\n  };\r\n\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_TOOLBAR_CHANGE_STATE, function(fEvent, data) {\r\n    var dataForChange = $.extend(true, {}, data || {});\r\n    self.changeState(dataForChange);\r\n  });\r\n\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_TOOLBAR_CLEAR_STATE, function(fEvent, data) {\r\n    var excludeElements = data && data.excludeElements,\r\n        isParent = self.$element.find(excludeElements).length,\r\n        isChild = self.$element.closest(excludeElements).length,\r\n        customPosition = self.position === self.POSITION_TYPE_CUSTOM,\r\n        excludeElementsMatched = isParent || isChild;\r\n    if (!excludeElementsMatched && !customPosition) {\r\n      self.turnOffOverlay();\r\n      self.turnOffDisabled();\r\n      self._showPlaceholder();\r\n    }\r\n  });\r\n\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_TOOLBAR_STATE_HIDDEN_OFF, function(fEvent, data) {\r\n    var dataForChange = $.extend(true, {}, data || {});\r\n    dataForChange.state = 'hidden';\r\n    dataForChange.turnOn = false;\r\n    self.changeState(dataForChange);\r\n  });\r\n\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_TOOLBAR_STATE_HIDDEN_ON, function(fEvent, data) {\r\n    var dataForChange = $.extend(true, {}, data || {});\r\n    dataForChange.state = 'hidden';\r\n    dataForChange.turnOn = true;\r\n    self.changeState(dataForChange);\r\n  });\r\n\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_TOOLBAR_STATE_OVERLAY_ON, function(fEvent, data) {\r\n    var dataForChange = $.extend(true, {}, data || {});\r\n    dataForChange.state = 'overlay';\r\n    dataForChange.turnOn = true;\r\n    self.changeState(dataForChange);\r\n  });\r\n\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_TOOLBAR_STATE_OVERLAY_OFF, function(fEvent, data) {\r\n    var dataForChange = $.extend(true, {}, data || {});\r\n    dataForChange.state = 'overlay';\r\n    dataForChange.turnOn = false;\r\n    self.changeState(dataForChange);\r\n  });\r\n\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_TOOLBAR_STATE_DISABLED_ON, function(fEvent, data) {\r\n    var dataForChange = $.extend(true, {}, data || {});\r\n    dataForChange.state = 'disabled';\r\n    dataForChange.turnOn = true;\r\n    self.changeState(dataForChange);\r\n  });\r\n\r\n  this.drawerInstance.on(this.drawerInstance.EVENT_TOOLBAR_STATE_DISABLED_OFF, function(fEvent, data) {\r\n    var dataForChange = $.extend(true, {}, data || {});\r\n    dataForChange.state = 'disabled';\r\n    dataForChange.turnOn = false;\r\n    self.changeState(dataForChange);\r\n  });\r\n};\r\n\r\n/**\r\n * Sets placeholder positioning.\r\n *\r\n * @param {String} [position] - one of predefined positions - look at ToolbarPlaceholder.prototype.*_POSITION\r\n * @param {String} [positionType] one of predefined types - look at ToolbarPlaceholder.prototype.POSITION_TYPE_*\r\n * @param {String} [customAnchorSelector]\r\n * @private\r\n */\r\nToolbarPlaceholder.prototype._setPosition = function(position, positionType, customAnchorSelector) {\r\n  position = position || this.position;\r\n  positionType = positionType || this.positionType;\r\n  customAnchorSelector = customAnchorSelector || this.customAnchorSelector;\r\n\r\n  this.position = position;\r\n  if (position == this.CUSTOM_POSITION) {\r\n      this.customAnchorSelector = customAnchorSelector;\r\n\r\n\r\n      var anchorFromElement = $(window.document).find(this.$customAnchor),\r\n          anchorFromSelector = $(window.document).find(customAnchorSelector),\r\n          $anchor = anchorFromElement.length ? anchorFromElement : (anchorFromSelector.length ? anchorFromSelector : false);\r\n      if ($anchor) {\r\n        // @todo - why this limitation?\r\n        // at the moment - only horizontal position for custom anchors\r\n        this.orientation = this.HORIZONTAL_ORIENTATION;\r\n\r\n        // wrap anchor in jQuery\r\n        this.$customAnchor = $anchor;\r\n        this.$customAnchor.append(this.$element);\r\n      } else {\r\n        this.drawerInstance.error(\"ToolbarPlaceholder : no anchor element found for custom toolbar by selector '\" + customAnchorSelector + \"'\");\r\n\r\n        // custom placeholder will be existing top placeholder\r\n        this.position = this.TOP_POSITION;\r\n      }\r\n  } else {\r\n\r\n    switch (position) {\r\n      case this.TOP_POSITION :\r\n        this.$element.addClass('toolbar-placeholder-top');\r\n        this.orientation = this.HORIZONTAL_ORIENTATION;\r\n      break;\r\n      case this.BOTTOM_POSITION :\r\n        this.$element.addClass('toolbar-placeholder-bottom');\r\n        this.orientation = this.HORIZONTAL_ORIENTATION;\r\n      break;\r\n      case this.LEFT_POSITION :\r\n        this.$element.addClass('toolbar-placeholder-left');\r\n        this.orientation = this.VERTICAL_ORIENTATION;\r\n      break;\r\n      case this.RIGHT_POSITION :\r\n        this.$element.addClass('toolbar-placeholder-right');\r\n        this.orientation = this.VERTICAL_ORIENTATION;\r\n      break;\r\n      case this.OVER_CANVAS_POSITION :\r\n        this.$element.addClass('toolbar-placeholder-overcanvas');\r\n        this.orientation = this.HORIZONTAL_ORIENTATION;\r\n        break;\r\n      default:\r\n        this.position = this.TOP_POSITION;\r\n        this.$element.addClass('toolbar-placeholder-top');\r\n        this.orientation = this.HORIZONTAL_ORIENTATION;\r\n    }\r\n\r\n    if (positionType && positionType === this.POSITION_TYPE_INSIDE) {\r\n      this.$element.addClass('toolbar-placeholder-inside');\r\n    }\r\n    this.$element.attr('data-position', position);\r\n\r\n    // add placeholder to container\r\n    var container = this.drawerInstance.$toolbarsWrapper;\r\n    container.append(this.$element);\r\n  }\r\n};\r\n\r\n/**@\r\n * Init placeholder element - create and setup\r\n * @private\r\n */\r\nToolbarPlaceholder.prototype._setupElement = function () {\r\n  var elementHtml = this._getHtmlOfElement();\r\n  this.$element = $(elementHtml);\r\n  this.$overlay = this.$element.find('.toolbar-placeholder-overlay');\r\n  this._setPosition();\r\n};\r\n\r\n/**\r\n * Get html of template\r\n * @private\r\n */\r\nToolbarPlaceholder.prototype._getHtmlOfElement = function () {\r\n  var result;\r\n  result = this._html_default;\r\n  if (this.position === this.POPUP_POSITION) {\r\n    result = this._html_popup;\r\n  }\r\n  return result;\r\n};\r\n\r\n\r\n/**\r\n * Toggle state of placeholder\r\n * @param {Object} data - Configuration object\r\n * @param {String} data.state - Type of state\r\n * @param {Boolean} [data.turnOn] - Turn on/off selected state\r\n * @param {jQuery} [data.excludeElements] - Do not change state of placeholder if it is parent/child at least of one of the next elements\r\n */\r\nToolbarPlaceholder.prototype.changeState = function (data) {\r\n  var self = this,\r\n      checkElements;\r\n\r\n  checkElements = function ($elements) {\r\n    var excludeElements = $elements && $elements.length ? $elements : $(),\r\n        isParent,\r\n        isChild,\r\n        excludeElementsMatched;\r\n\r\n    excludeElements.each(function (i, element) {\r\n      var $currEl = $(element);\r\n      if (!excludeElementsMatched) {\r\n        isParent = self.$element.find($currEl).length;\r\n        isChild = self.$element.closest($currEl).length;\r\n        excludeElementsMatched = isParent || isChild;\r\n      }\r\n    });\r\n\r\n    return excludeElementsMatched;\r\n  };\r\n\r\n  var excludeElements = data && data.excludeElements.length ? data.excludeElements : $(),\r\n      excludeElementsMatched = checkElements(excludeElements),\r\n      customPosition = self.position === self.POSITION_TYPE_CUSTOM,\r\n      ignore = excludeElementsMatched || customPosition;\r\n  if (!ignore) {\r\n    switch (data.state) {\r\n      case this.STATE_OVERLAY :\r\n        this.toggleOverlay(data.turnOn);\r\n        break;\r\n      case this.STATE_HIDDEN :\r\n        if (data.turnOn) {\r\n          this._hidePlaceholder();\r\n        } else {\r\n          this._showPlaceholder();\r\n        }\r\n        break;\r\n      case this.STATE_DISABLED :\r\n        if (data.turnOn) {\r\n          this.turnOnDisabled();\r\n        } else {\r\n          this.turnOffDisabled();\r\n        }\r\n        break;\r\n    }\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Hide placeholder element\r\n * @private\r\n */\r\nToolbarPlaceholder.prototype._hidePlaceholder = function () {\r\n  this.$element.addClass('hidden');\r\n};\r\n\r\n/**\r\n * Show placeholder element\r\n * @private\r\n */\r\nToolbarPlaceholder.prototype._showPlaceholder = function () {\r\n  this.$element.removeClass('hidden');\r\n};\r\n\r\n/**\r\n * Toggle state of overlay\r\n * @param {Boolean} [turnOn] - force to turn on overlay state\r\n */\r\nToolbarPlaceholder.prototype.toggleOverlay = function (turnOn) {\r\n  if (turnOn) {\r\n    this.turnOnOverlay();\r\n  } else {\r\n    this.turnOffOverlay();\r\n  }\r\n};\r\n\r\n/**\r\n * Turn on \"disabled\" state\r\n */\r\nToolbarPlaceholder.prototype.turnOnDisabled = function () {\r\n  this.$element.addClass('placeholder-disabled');\r\n};\r\n\r\n/**\r\n * Turn off \"disabled\" state\r\n */\r\nToolbarPlaceholder.prototype.turnOffDisabled = function () {\r\n  this.$element.removeClass('placeholder-disabled');\r\n};\r\n\r\n/**\r\n * Turn on \"overlay\" state\r\n */\r\nToolbarPlaceholder.prototype.turnOnOverlay = function () {\r\n  this.$element.addClass('placeholder-overlayed');\r\n};\r\n\r\n/**\r\n * Turn off \"overlay\" state\r\n */\r\nToolbarPlaceholder.prototype.turnOffOverlay = function () {\r\n  this.$element.removeClass('placeholder-overlayed');\r\n};\r\n\r\n/**\r\n * Adds toolbar to placeholder.\r\n * Shifts placeholder css position to retain its positioning\r\n *\r\n * @param {DrawerToolbar} toolbar to add\r\n */\r\nToolbarPlaceholder.prototype.addToolbar = function(toolbar) {\r\n  var $toolbar = toolbar.$toolbar;\r\n  this.$element.append($toolbar);\r\n\r\n  // set toolbar position equal to placeholder position\r\n  toolbar.position = this.position;\r\n\r\n  // set toolbar orientation\r\n  $toolbar.removeClass('toolbar-horizontal').removeClass('toolbar-vertical');\r\n  if (this.orientation == this.HORIZONTAL_ORIENTATION) {\r\n      // $toolbar.setOrientation(this.HORIZONTAL_ORIENTATION);\r\n      $toolbar.addClass('toolbar-horizontal');\r\n  } else {\r\n      // $toolbar.setOrientation(this.VERTICAL_ORIENTATION);\r\n      $toolbar.addClass('toolbar-vertical');\r\n  }\r\n\r\n};\r\nvar CropImageToolbar = function (drawerInstance, options) {\r\n  options = options || {};\r\n  options.toolbarClass = 'tool-cropimage hidden';\r\n  // call super c-tor\r\n  DrawerToolbar.call(this, drawerInstance, options);\r\n\r\n  // create default buttons for toolbar\r\n  this._createDefaultButtons();\r\n\r\n  // Trigger event\r\n  drawerInstance.trigger(drawerInstance.EVENT_IMAGECROP_TOOLBAR_CREATED, [this]);\r\n};\r\n\r\nCropImageToolbar.prototype = Object.create(DrawerToolbar.prototype);\r\nCropImageToolbar.prototype.constructor = DrawerToolbar;\r\n\r\n\r\n/**\r\n * Creates defaults buttons.\r\n */\r\nCropImageToolbar.prototype._createDefaultButtons = function() {\r\n};\r\nvar DrawingToolsToolbar = function (drawerInstance, options) {\r\n  options.toolbarClass = 'drawing-tools-toolbar';\r\n  this.eventNameSpace = '.toolbar-drawingTools';\r\n\r\n  // call super constructor\r\n  DrawerToolbar.call(this, drawerInstance, options);\r\n  this._setDrawerHandlers();\r\n  drawerInstance.trigger(drawerInstance.EVENT_TOOLS_TOOLBAR_CREATED, [this]);\r\n};\r\n\r\nDrawingToolsToolbar.prototype = Object.create(DrawerToolbar.prototype);\r\nDrawingToolsToolbar.prototype.constructor = DrawerToolbar;\r\n\r\n/**\r\n * Attach drawer events handlers\r\n * @private\r\n */\r\nDrawingToolsToolbar.prototype._setDrawerHandlers = function() {\r\n  var drawerInstance = this.drawerInstance,\r\n      ns = this.eventNameSpace;\r\n  // @todo - move this to some other place!\r\n  // on activating tool - remember it in lastUsedPluginName\r\n  drawerInstance.off(drawerInstance.EVENT_DO_ACTIVATE_TOOL + ns);\r\n  drawerInstance.on(drawerInstance.EVENT_DO_ACTIVATE_TOOL + ns, function (e, tool) {\r\n    drawerInstance.lastUsedPluginName = tool.name;\r\n  });\r\n\r\n  // @todo - move this to some other place!\r\n  // if tool was manually switched off - reset lastUsedPluginName\r\n  drawerInstance.off(drawerInstance.EVENT_DO_DEACTIVATE_TOOL + ns);\r\n  drawerInstance.on(drawerInstance.EVENT_DO_DEACTIVATE_TOOL + ns, function(e, tool) {\r\n    if (drawerInstance.lastUsedPluginName == tool.name) {\r\n      drawerInstance.lastUsedPluginName = null;\r\n    }\r\n  });\r\n\r\n  drawerInstance.off(drawerInstance.AFTER_CREATE_TOOLBARS + ns);\r\n  drawerInstance.on(drawerInstance.AFTER_CREATE_TOOLBARS + ns, function() {\r\n    drawerInstance.activateDefaultPlugin();\r\n  });\r\n};\r\nvar MinimizedToolbar = function (drawerInstance, options) {\r\n    options = options || {};\r\n    // css class for toolbar\r\n    options.toolbarClass = 'tool-minimized-toolbar';\r\n    // call DrawerToolbar c-tor\r\n    DrawerToolbar.call(this, drawerInstance, options);\r\n    // cry loud of birth\r\n    drawerInstance.trigger(drawerInstance.EVENT_MINIMIZED_TOOLBAR_CREATED, [this]);\r\n  };\r\n\r\n  MinimizedToolbar.prototype = Object.create(DrawerToolbar.prototype);\r\n  MinimizedToolbar.prototype.constructor = DrawerToolbar;\r\nvar OverCanvasToolbar = function (drawerInstance, options) {\r\n    options = options || {};\r\n    // css class for toolbar\r\n    options.toolbarClass = 'tool-overcanvas-toolbar';\r\n    // call DrawerToolbar c-tor\r\n    DrawerToolbar.call(this, drawerInstance, options);\r\n    // cry loud of birth\r\n    drawerInstance.trigger(drawerInstance.EVENT_FLOATING_TOOLBAR_CREATED, [this]);\r\n  };\r\n\r\n  OverCanvasToolbar.prototype = Object.create(DrawerToolbar.prototype);\r\n  OverCanvasToolbar.prototype.constructor = DrawerToolbar;\r\nvar SettingsToolbar = function (drawerInstance, options) {\r\n  options = options || {};\r\n  options.toolbarClass = 'tool-settings-toolbar';\r\n  // call super c-tor\r\n  DrawerToolbar.call(this, drawerInstance, options);\r\n\r\n  // create default buttons for tghi toolbart\r\n  this._createDefaultButtons();\r\n\r\n  // Trigger event\r\n  drawerInstance.trigger(drawerInstance.EVENT_CONFIG_TOOLBAR_CREATED, [this]);\r\n};\r\n\r\nSettingsToolbar.prototype = Object.create(DrawerToolbar.prototype);\r\nSettingsToolbar.prototype.constructor = DrawerToolbar;\r\n\r\n\r\n/**\r\n * Creates defaults buttons : close.\r\n * @private\r\n */\r\nSettingsToolbar.prototype._createDefaultButtons = function() {\r\n};\r\n\r\n\r\nvar ToolOptionsToolbar = function (drawerInstance, options) {\r\n  // css class for toolbar\r\n  options.toolbarClass = 'tool-options-toolbar';\r\n  // call DrawerToolbar c-tor\r\n  DrawerToolbar.call(this, drawerInstance, options);\r\n  // cry loud of birth\r\n  drawerInstance.trigger(drawerInstance.EVENT_OPTIONS_TOOLBAR_CREATED, [this]);\r\n};\r\n\r\nToolOptionsToolbar.prototype = Object.create(DrawerToolbar.prototype);\r\nToolOptionsToolbar.prototype.constructor = DrawerToolbar;\r\n\r\nToolOptionsToolbar.prototype.customScrollMode = true;\r\n;(function (window, $, util, utilPlugins) {\r\n  'use strict';\r\n  var emptyFunc = function () {},\r\n      eventNameSpace = '.ToolbarComboBox';\r\n\r\n  /**\r\n   * @typeDef {Object} returnObj\r\n   * @memberOf ToolbarComboBox\r\n   * @property {ToolbarComboBox} instance - instance of combo box\r\n   * @property {ToolbarComboBox#updateSelectedValues} updateSelectedValues - Update selected values func\r\n   * @property {ToolbarComboBox#hideDropdown} hideDropdown - Hide dropdown func\r\n   * @property {ToolbarComboBox#showDropdown} showDropdown - Show dropdown func\r\n   **/\r\n\r\n  /**\r\n   * @param {HTMLElement} element - trigger element\r\n   * @param {ToolbarComboBox.defaultOptions} [options] - configuration object\r\n   * @returns {ToolbarComboBox.returnObj}\r\n   * @memberOf DrawerJs.utilPlugins\r\n   * @constructs ToolbarComboBox\r\n   */\r\n  var ToolbarComboBox = function(element, options){\r\n    this.$element = $(element);\r\n    \r\n    this._setupOptions(options);\r\n    this._setupCombobox();\r\n    this._attachEventHandlers();\r\n    this._attachDrawerEventHandlers();\r\n\r\n    return {\r\n      instance: this,\r\n      updateSelectedValues: this.updateSelectedValues.bind(this),\r\n      hideDropdown: this.hideDropdown.bind(this),\r\n      showDropdown: this.hideDropdown.bind(this)\r\n    };\r\n  };\r\n\r\n  /**\r\n   * @memberOf ToolbarComboBox\r\n   * @typeDef {Object} defaultOptions\r\n   * @property {String} wrapper=\"toolbar-combobox-wrapper\" - wrapper class\r\n   * @property {Boolean} editable=false - wrapper class\r\n   * @property {Boolean} addNewOptions=false - wrapper class\r\n   * @property {Boolean} buttonMode=false - wrapper class\r\n   * @property {Array} items - wrapper class\r\n   *\r\n   **/\r\n\r\n  /**\r\n   *\r\n   * @type {ToolbarComboBox.defaultOptions}\r\n   * @private\r\n   */\r\n  ToolbarComboBox.prototype._defaultOptions = {\r\n    wrapper: 'toolbar-combobox-wrapper',\r\n    editable: false,\r\n    addNewOptions: false,\r\n    buttonMode: false,\r\n    items: []\r\n  };\r\n\r\n  /**\r\n   * Setup options\r\n   * @param {ToolbarComboBox.defaultOptions | Object} [options] - Configuration object\r\n   * @returns {ToolbarComboBox.defaultOptions}\r\n   * @private\r\n   */\r\n  ToolbarComboBox.prototype._setupOptions = function(options) {\r\n    var optionsFromElement = this._collectOptionsFromElement();\r\n    this.options = $.extend(true, {}, this._defaultOptions || {}, optionsFromElement || {}, options || {});\r\n    this._initialOptions = $.extend(true, {}, options);\r\n    this._initialOptionsFromElement = $.extend(true, {}, optionsFromElement);\r\n    return this.options;\r\n  };\r\n\r\n  /**\r\n   * Setup combobox element\r\n   * @private\r\n   */\r\n  ToolbarComboBox.prototype._setupCombobox = function() {\r\n    var comboboxHtml = this._generateTemplate(),\r\n        $comboboxElement = $(comboboxHtml);\r\n\r\n    $comboboxElement.insertAfter(this.$element);\r\n    this.$element.addClass('hidden');\r\n\r\n    this.$combobox = $comboboxElement;\r\n    this.$options = this.$combobox.find('ul');\r\n    this.$dropdown = this.$combobox.find(\".dropdown-box\");\r\n    this.$input = this.$combobox.find(\"input\");\r\n    this.$closestToolbarItem = this.$element.closest('.toolbar-item-wrapper');\r\n  };\r\n\r\n  /**\r\n   * Generate html of combobox\r\n   * @returns {string}\r\n   * @private\r\n   */\r\n  ToolbarComboBox.prototype._generateTemplate = function() {\r\n    var _self = this,\r\n        inputHtml =  '<div class=\"inputbox\"><input type=\"text\"/></div>',\r\n        optionsHtml = '',\r\n        html;\r\n\r\n\r\n    this.options.items.forEach(function(item){\r\n      var isObj = typeof item === 'object',\r\n          valueToFill = isObj ? item.value : item,\r\n          textToFill = isObj ? item.text || valueToFill : valueToFill,\r\n          styleToFill = isObj ? item.style || '' : '',\r\n          currItemHtml;\r\n      currItemHtml = _self._generateNewOptionItem(textToFill, valueToFill, false, true, styleToFill);\r\n      optionsHtml +=currItemHtml;\r\n    });\r\n\r\n    this.wrapperClasses = this.options.wrapper +\r\n        (this.options.buttonMode ? ' button-mode ' : '') +\r\n        (this.options.editable ? ' edit-mode ' : '');\r\n\r\n    html = '' +\r\n        '<div class=\"' + this.wrapperClasses + ' collapsed\" tabindex=\"-1\">' +\r\n          '<div class=\"selected\">' +\r\n            '<span></span>' +\r\n            '<a class=\"ui-button\"><i class=\"fa fa-angle-down\"></i></a>' +\r\n          '</div>' +\r\n          '<div class=\"dropdown-box\">' +\r\n            (this.options.editable ? inputHtml : '') +\r\n            '<ul class=\"option-list\">' +\r\n              optionsHtml +\r\n            '</ul>' +\r\n          '</div>' +\r\n        '</div>';\r\n    return html;\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param {String} [txt] - Text value of option\r\n   * @param {String} val - Value of option\r\n   * @param {Boolean} [isSelected] - This option is selected\r\n   * @param {Boolean} returnHtml - Need return html string\r\n   * @param {String} [style] - Inline styles of option\r\n   * @returns {jQuery|String}\r\n   * @private\r\n   */\r\n  ToolbarComboBox.prototype._generateNewOptionItem = function (txt, val, isSelected, returnHtml, style) {\r\n    txt = txt || '';\r\n    style = style || '';\r\n    var optionItemHtml = '' +\r\n        '<li ' +\r\n          'style=\"' + style + '\"' +\r\n          'data-val=\"' + val + '\"' +\r\n          'class=\"option-item\">' +\r\n            '<div class=\"option-item-text\">' + txt + '</div>' +\r\n        '</li>';\r\n    var $optionItem = $(optionItemHtml);\r\n    if (isSelected) {\r\n      this.$combobox.find(\".selected\").attr(\"data-val\", val).find('span').text(txt);\r\n      $optionItem.addClass('selected');\r\n    }\r\n    return returnHtml ? $optionItem.get(0).outerHTML : $optionItem;\r\n  };\r\n\r\n  /**\r\n   * Setup size of dropdown\r\n   * @private\r\n   */\r\n  ToolbarComboBox.prototype._setupDropDownSize = function() {\r\n    var comboboxWidth = this.$combobox.width();\r\n    if (comboboxWidth) {\r\n\r\n      this.sizesUpdated = true;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Setup/attach drawer handlers\r\n   * @private\r\n   */\r\n  ToolbarComboBox.prototype._attachDrawerEventHandlers = function() {\r\n    var _self = this,\r\n        $closestToolbarItem = this.$element.closest('.toolbar-item-wrapper');\r\n\r\n    if ($closestToolbarItem && $closestToolbarItem.length) {\r\n\r\n      util.bindClick($('body'), '_optionTool_toggleDropdown', function (event) {\r\n        var $target = $(event.target),\r\n            $clickToolbarItem = $target.closest('.toolbar-item-wrapper'),\r\n            isCanvas = $target.is('canvas'),\r\n            sameToolControl = $closestToolbarItem.get(0) === $clickToolbarItem.get(0),\r\n            needToHide = !sameToolControl && !isCanvas;\r\n        if (needToHide) {\r\n          $closestToolbarItem.find('.toolbar-dropdown-block').addClass('collapsed');\r\n          _self.hideDropdown();\r\n        }\r\n      });\r\n\r\n      util.bindClick($closestToolbarItem.find('.toolbar-item-icon'), '_optionTool_toggleDDropdown', function (event) {\r\n        var needRemoveClass = $closestToolbarItem.find('.toolbar-dropdown-block').hasClass('collapsed'),\r\n            toolbarHaveScrollable;\r\n        if (needRemoveClass) {\r\n          var toolbar = _self.options && _self.options.drawer && _self.options.drawer.toolbars && _self.options.drawer.toolbars.toolOptionsToolbar,\r\n              toolbarOptions = toolbar && toolbar.options,\r\n              notInsidePopup = toolbarOptions && toolbarOptions.position !== 'popup',\r\n              outside = toolbarOptions && toolbarOptions.positionType === 'outside',\r\n              insideScrollable = toolbarOptions && toolbarOptions.compactType === 'scrollable';\r\n          toolbarHaveScrollable = notInsidePopup && outside && insideScrollable;\r\n          if (toolbarHaveScrollable) {\r\n            var clone = _self.$combobox.clone(true);\r\n            // _self.$cloneControl = $('<div class=\"colorpicker-control\"></div>');\r\n            // _self.$cloneDropdown = this.$colorButton.$colorDropdown.clone(true);\r\n            // _self.$cloneControl.append(this.$cloneDropdown);\r\n            $closestToolbarItem.closest('.toolbar-placeholder').append(clone);\r\n            clone.addClass('combobox-cloned');\r\n            _self.$clonedCombobox = clone;\r\n\r\n            var drawerSizes = util.getScrollOffset(_self.options.drawer.$canvasEditContainer),\r\n                parentSizes = util.getScrollOffset(_self.$element.parent()),\r\n                canvasRect = _self.options.drawer.$canvasEditContainer.get(0).getBoundingClientRect();\r\n\r\n            var left = _self.$element.parent().get(0).getBoundingClientRect().left,\r\n                clonedComboboxLeft = (left - canvasRect.left - (parentSizes.left - drawerSizes.left)) - _self.$clonedCombobox.width() / 2;\r\n            _self.$clonedCombobox.css({\r\n              'left': clonedComboboxLeft\r\n            });\r\n          }\r\n        }\r\n\r\n        if (!toolbarHaveScrollable) {\r\n          $closestToolbarItem.find('.toolbar-dropdown-block').toggleClass('collapsed', !needRemoveClass);\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Setup/attach event handlers\r\n   * @private\r\n   */\r\n  ToolbarComboBox.prototype._attachEventHandlers = function() {\r\n    var _self = this;\r\n    if (this.options.editable) {\r\n      var $input = this.$input,\r\n          bEdit;\r\n\r\n      $input.off('focus' + eventNameSpace).on('focus' + eventNameSpace, function(e){\r\n        _self.$combobox.addClass('focus');\r\n        bEdit = true;\r\n      });\r\n\r\n      $input.off('blur' + eventNameSpace).on('blur' + eventNameSpace, function(e){\r\n        bEdit = false;\r\n        _self.$combobox.trigger('blur');\r\n      });\r\n\r\n      $input.off('keypress' + eventNameSpace).on('keypress' + eventNameSpace, function(e){\r\n        if (e.keyCode == \"13\") {\r\n          var val = $input.val();\r\n\r\n          $input.val('');\r\n\r\n\r\n          var $originalSelect = $(\"<option>\").val(val).text(val).attr('data-is-input', 1);\r\n          _self.$element.append($originalSelect);\r\n\r\n          if (_self.options.addNewOptions) {\r\n            var $opt = _self._generateNewOptionItem(val, val, true);\r\n            _self.$options.append($opt);\r\n          }\r\n\r\n          _self.changeActiveOption(val);\r\n        }\r\n      });\r\n    }\r\n\r\n    this.$element.off('valueChanged' + eventNameSpace).on('valueChanged' + eventNameSpace, function(e, valueObj){\r\n      var valueFromElement = _self.$element.val(),\r\n          valueFromObject = valueObj ? valueObj.value : undefined,\r\n          value = valueObj ? valueFromObject : valueFromElement,\r\n          classes;\r\n\r\n      if (valueObj) {\r\n        classes = valueObj.classString;\r\n      }\r\n\r\n      _self.updateSelectedValues(value, classes);\r\n    });\r\n\r\n    this.$element.off('change' + eventNameSpace).on('change' + eventNameSpace, function(e){\r\n      if (!_self.addNewOptions) {\r\n        var $element = _self.$element,\r\n            prevValue = $element.attr('prev-value'),\r\n            prevValueIsNotInitial = _self.options.valuesArr.indexOf(prevValue) === -1;\r\n        if (prevValueIsNotInitial) {\r\n          $element.find('option[data-val=\"' + prevValue + '\"]').remove();\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    this.$combobox.off('mouseleave' + eventNameSpace).on('mouseleave' + eventNameSpace, function(e){\r\n      var $closestToolbarItem = _self.$element.closest('.toolbar-item-wrapper');\r\n      $closestToolbarItem.find('.toolbar-dropdown-block').addClass('collapsed');\r\n      _self.hideDropdown();\r\n    });\r\n\r\n    this.$combobox.off('click' + eventNameSpace + '_optionSelect').on('click' + eventNameSpace + '_optionSelect', '.option-item', this._onOptionSelect.bind(this));\r\n\r\n    this.$combobox.off('click' + eventNameSpace + '_toggleDropdown').on('click' + eventNameSpace + '_toggleDropdown', '.selected', function(){\r\n      _self.toggleDropdown();\r\n    });\r\n\r\n    this.$combobox.off('blur' + eventNameSpace).on('blur' + eventNameSpace, function (e) {\r\n      e.preventDefault();\r\n      setTimeout(function () {\r\n        if (bEdit) return;\r\n        _self.hideDropdown();\r\n      }, 100);\r\n      _self.$combobox.removeClass('focus');\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Collect array of available options from trigger element\r\n   * @returns {Object}\r\n   * @private\r\n   */\r\n  ToolbarComboBox.prototype._collectOptionsFromElement = function() {\r\n    var result = {};\r\n    \r\n    var isEditable = this.$element.attr('data-editable') && this.$element.attr('data-editable') === 'true';\r\n\r\n    result.items = [];\r\n    result.valuesArr = [];\r\n    this.$element.find('option').each(function (i, item) {\r\n      var $item = $(item),\r\n          value = $item.val(),\r\n          text = $item.text(),\r\n          style = $item.attr('style') || '',\r\n          currItemObj = {\r\n            value: value,\r\n            text: text,\r\n            style: style\r\n          };\r\n      result.valuesArr.push(value);\r\n      result.items.push(currItemObj);\r\n    });\r\n\r\n    result.editable = isEditable;\r\n\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * React on select of option\r\n   * @param {Event} event\r\n   * @private\r\n   */\r\n  ToolbarComboBox.prototype._onOptionSelect = function(event) {\r\n    var $selectedOption = $(event.currentTarget),\r\n        alreadySelected = $selectedOption.hasClass('selected'),\r\n        selectedValue = !alreadySelected ?  $selectedOption.attr('data-val') : '',\r\n        selectedText = $selectedOption.text();\r\n    this.hideDropdown();\r\n    this.changeActiveOption(selectedValue, selectedText);\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n  };\r\n\r\n  /**\r\n   * Change current active option\r\n   * @param {String} [value] - Value of new active option\r\n   * @param {*} [text] - Text of new active option\r\n   */\r\n  ToolbarComboBox.prototype.changeActiveOption = function(value, text) {\r\n    var prevValue = this.$element.val();\r\n\r\n    this.$element.attr('prev-value', prevValue);\r\n    this.$element.val(value);\r\n\r\n    this.updateSelectedValues(value);\r\n\r\n    this.$element.trigger('toolbarOptionChange');\r\n  };\r\n\r\n  /**\r\n   * Update selected values\r\n   * @param {*} [value] - Value of selected option\r\n   * @param {String} [classes] - Additional classes\r\n   * @param {String} [optionName] - Name of option\r\n   */\r\n  ToolbarComboBox.prototype.updateSelectedValues = function(value, classes, optionName) {\r\n    value = value || '';\r\n    var $allOptions = this.$combobox.find('.option-item'),\r\n        $neededOption = $allOptions.filter('[data-val=\"' + value + '\"]'),\r\n        neededText = $neededOption && $neededOption.length ? $neededOption.text() : value,\r\n        collapsedClass = this.$combobox.hasClass('collapsed') ? ' collapsed' : '',\r\n        wrapperClasses = this.wrapperClasses + ' ' + (classes || '') + collapsedClass;\r\n\r\n\r\n    this.$combobox.attr('class', wrapperClasses);\r\n    this.$combobox.find(\".selected span\").text(neededText);\r\n\r\n    $allOptions.removeClass('selected');\r\n    if ($neededOption) {\r\n      $neededOption.addClass('selected');\r\n      this.$input.val('');\r\n    } else {\r\n      this.$input.val(value);\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Show combobox dropdown\r\n   */\r\n  ToolbarComboBox.prototype.showDropdown = function() {\r\n    this.dropdownIsVisible = true;\r\n    if (!this.sizesUpdated) {\r\n      this._setupDropDownSize();\r\n    }\r\n    this.$combobox.find('.ui-button .fa').addClass('fa-angle-down').removeClass('fa-angle-up');\r\n    this.$combobox.removeClass('collapsed');\r\n  };\r\n\r\n  /**\r\n   * Hide combobox dropdown\r\n   */\r\n  ToolbarComboBox.prototype.hideDropdown = function() {\r\n    this.dropdownIsVisible = false;\r\n    this.$combobox.addClass('collapsed');\r\n    this.$combobox.find('.ui-button .fa').removeClass('fa-angle-down').addClass('fa-angle-up');\r\n\r\n    if (this.$clonedCombobox) {\r\n      this.$clonedCombobox.remove();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Toggle visibility of combobox dropdown\r\n   * @param {Boolean} [show] - new state of dropdown\r\n   */\r\n  ToolbarComboBox.prototype.toggleDropdown = function(show) {\r\n    var needToShow = show !== undefined ? show : !this.dropdownIsVisible;\r\n    this.dropdownIsVisible = needToShow;\r\n\r\n    if (needToShow) {\r\n      this.showDropdown();\r\n    } else {\r\n      this.hideDropdown();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * @Function\r\n   * @param options\r\n   * @returns {ToolbarComboBox[]}\r\n   * @memberOf external:\"jQuery.fn\"\r\n   */\r\n  $.fn.ToolbarComboBox = function (options) {\r\n    var instances = [];\r\n    $(this).each(function (i, element) {\r\n      var newInstance = new ToolbarComboBox(element, options);\r\n      $(element).data('comboBox', newInstance);\r\n      instances.push(newInstance);\r\n    });\r\n    return instances;\r\n  };\r\n\r\n  /**\r\n   * @Function\r\n   * @memberOf external:\"jQuery.fn\"\r\n   * @returns {ToolbarComboBox|ToolbarComboBox[]}\r\n   */\r\n  $.fn.getComboBox = function () {\r\n    var instances = [];\r\n    $(this).each(function (i, element) {\r\n      var currInstance = $(element).data('comboBox');\r\n      if (currInstance) {\r\n        instances.push(currInstance);\r\n      }\r\n    });\r\n    return instances.length > 1 ? instances : instances[0];\r\n  };\r\n\r\n  utilPlugins.ToolbarComboBox = ToolbarComboBox;\r\n})(window, jQuery, DrawerJs.util, DrawerJs.utilPlugins);\r\n;(function (window, $, util, utilPlugins) {\r\n  'use strict';\r\n\r\n  /**\r\n   * @typeDef {Object} returnObj\r\n   * @memberOf DrawerJs.utilPlugins.Tooltip\r\n   * @property {DrawerJs.utilPlugins.Tooltip} instance - Instance of tooltip plugin\r\n   * @property {jQuery} $trigger - Trigger element\r\n   * @property {DrawerJs.utilPlugins.Tooltip#destroy} destroy - Destroy instance\r\n   * @property {DrawerJs.utilPlugins.Tooltip#adjustPosition} adjustPosition - Refresh/change position\r\n   * @property {DrawerJs.utilPlugins.Tooltip#hideTooltip} hideTooltip - Hide tooltip func\r\n   * @property {DrawerJs.utilPlugins.Tooltip#showTooltip} showTooltip - Show tooltip func\r\n   **/\r\n\r\n  /**\r\n   * Plugin that provide ability to create tooltip for any element. Position/styles of tooltip are configurable.\r\n   * Can be used as jQuery plugin - $.fn.DrawerTooltip\r\n   * @param {HTMLElement} element - trigger element\r\n   * @param {DrawerJs.utilPlugins.Tooltip.defaultOptions} [options] - configuration object\r\n   * @returns {DrawerJs.utilPlugins.Tooltip.returnObj}\r\n   * @memberOf DrawerJs.utilPlugins\r\n   * @constructs Tooltip\r\n   */\r\n  var Tooltip = function(element, options){\r\n    this.$element = $(element);\r\n\r\n    this._setupOptions(options);\r\n    this._processOptions();\r\n    this._setupTooltip();\r\n    this._attachEventHandlers();\r\n\r\n    return {\r\n      instance: this,\r\n      $trigger: this.$element,\r\n      adjustPosition: this.adjustPosition.bind(this),\r\n      destroy: this.destroy.bind(this),\r\n      hideTooltip: this.hideTooltip.bind(this),\r\n      showTooltip: this.showTooltip.bind(this)\r\n    };\r\n  };\r\n\r\n  /**\r\n   * @memberOf DrawerJs.utilPlugins.Tooltip\r\n   * @typeDef {Object} defaultOptions\r\n   * @property {String} defaultClass=\"editable-canvas-tooltip\" - Tooltip class\r\n   * @property {String} defaultPositionX=\"center\" - Default horizontal position. Can be left/right/center\r\n   * @property {String} defaultPositionY=\"bottom\" - Default vertical position. Can be top/left/center\r\n   * @property {String} additionalClass - Tooltip additional class\r\n   * @property {String} text - Text of tooltip\r\n   * @property {Object} styleObj - Any valid css object\r\n   * @property {String} style - inline style of tooltip. Will be overrided if styleObj is defined\r\n   * @property {String} position - Position of tooltip. Any combination of left/right/center for horizontal and\r\n   * top/bottom/center for vertical. Valid values - \"left\", \"right top\", \"bottom left\", \"top center\", \"top\", etc.\r\n   * @property {jQuery} $tooltipWrapper - Wrapper element for tooltip\r\n   * @property {String} tooltipWrapperSelector - Selector of wrapper element for tooltip.\r\n   * Will be overrided if $tooltipWrapper if defined.\r\n   *\r\n   **/\r\n\r\n  /**\r\n   *\r\n   * @type {DrawerJs.utilPlugins.Tooltip.defaultOptions}\r\n   * @private\r\n   */\r\n  Tooltip.prototype._defaultOptions = {\r\n    defaultClass: 'editable-canvas-tooltip',\r\n    defaultPositionX: 'center',\r\n    defaultPositionY: 'bottom',\r\n    additionalClass: '',\r\n    text: '',\r\n    position: '',\r\n    style: '',\r\n    styleObj: {},\r\n    $tooltipWrapper: '',\r\n    tooltipWrapperSelector: undefined\r\n  };\r\n\r\n  /**\r\n   * Tooltip is enabled\r\n   * @type {boolean}\r\n   * @private\r\n   */\r\n  Tooltip.prototype.enabled = true;\r\n\r\n  /**\r\n   * Default tooltip wrapper\r\n   * @type {string}\r\n   * @private\r\n   */\r\n  Tooltip.prototype._defaultWrapper = 'body';\r\n\r\n  /**\r\n   * Namespace string for events\r\n   * @type {string}\r\n   * @private\r\n   */\r\n  Tooltip.prototype._eventsNamespace = '.drawerTooltip';\r\n\r\n  /**\r\n   * Indicates that tooltip is not displayed yet\r\n   * @type {boolean}\r\n   * @private\r\n   */\r\n  Tooltip.prototype._firstShow = true;\r\n\r\n\r\n  /**\r\n   * Setup options\r\n   * @param {Tooltip.defaultOptions | Object} [options] - Configuration object\r\n   * @returns {Tooltip.defaultOptions}\r\n   * @private\r\n   */\r\n  Tooltip.prototype._setupOptions = function(options) {\r\n    var optionsFromElement = this._collectOptionsFromElement();\r\n    this.options = $.extend(true, {}, this._defaultOptions || {}, optionsFromElement || {}, options || {});\r\n    this._initialOptions = $.extend(true, {}, options);\r\n    this._initialOptionsFromElement = $.extend(true, {}, optionsFromElement);\r\n    return this.options;\r\n  };\r\n\r\n\r\n  /**\r\n   * Check if jQuery element exists\r\n   * @param {jQuery} [element]\r\n   * @returns {jQuery|undefined}\r\n   * @private\r\n   */\r\n  Tooltip.prototype._checkElement = function(element) {\r\n    var result,\r\n        $element;\r\n    if (typeof element === 'string') {\r\n      $element = $(element);\r\n    }\r\n    if (element instanceof $) {\r\n      $element = element;\r\n    }\r\n    if ($element && $element.length) {\r\n      result = $element.eq(0);\r\n    }\r\n    return result;\r\n  };\r\n  \r\n  /**\r\n   * Process collected options\r\n   * @private\r\n   */\r\n  Tooltip.prototype._processOptions = function() {\r\n    var $tooltipWrapper = this._checkElement(this.options.$tooltipWrapper),\r\n        $tooltipWrapperFromSelector = this._checkElement(this.options.tooltipWrapperSelector),\r\n        $defaultWrapper = this._checkElement(this._defaultWrapper);\r\n\r\n    this.$tooltipWrapper = $tooltipWrapper || $tooltipWrapperFromSelector || $defaultWrapper;\r\n  };\r\n\r\n\r\n  /**\r\n   * Setup tooltip element\r\n   * @private\r\n   */\r\n  Tooltip.prototype._setupTooltip = function() {\r\n    var tooltipHtml = this._generateTemplate(),\r\n        $tooltip = $(tooltipHtml);\r\n\r\n    if (this.options.styleObj) {\r\n      $tooltip.css(this.options.styleObj);\r\n    }\r\n    this.$element.addClass('tooltip-trigger');\r\n    this.$element.data('DrawerTooltip', this);\r\n    this.$tooltipWrapper.append($tooltip);\r\n    this.$tooltip = $tooltip;\r\n  };\r\n\r\n  /**\r\n   * Generate html of tooltip\r\n   * @returns {string}\r\n   * @private\r\n   */\r\n  Tooltip.prototype._generateTemplate = function () {\r\n    var html,\r\n        content = this.options.text || '',\r\n        classString = this.options.defaultClass + ' ' + this.options.additionalClass,\r\n        styleString = this.options.style || '';\r\n\r\n    html = '' +\r\n        '<span ' +\r\n          'class=\"' + classString + '\"' +\r\n          'style=\"' + styleString + '\"' +\r\n        '>' +\r\n        content +\r\n        '</span>';\r\n\r\n    return html;\r\n  };\r\n\r\n  /**\r\n   * Setup/attach event handlers\r\n   * @private\r\n   */\r\n  Tooltip.prototype._attachEventHandlers = function() {\r\n    var self = this,\r\n        $trigger = this.$element;\r\n    this._detachEventHandlers();\r\n    $trigger.on('mouseenter' + this._eventsNamespace, function (e) {\r\n      var $eventTrigger = $(e.currentTarget),\r\n          $body = $('body'),\r\n          isMoving = $body.hasClass('drawer-moving'),\r\n          isResizing = $body.hasClass('drawer-resizing'),\r\n          tooltipIsDisabled = $trigger.hasClass('disabled'),\r\n          ignore = isMoving || isResizing || tooltipIsDisabled;\r\n      if (!ignore) {\r\n        self.showTooltip($eventTrigger);\r\n      }\r\n    });\r\n    $trigger.on('mouseout' + this._eventsNamespace, function () {\r\n      self.hideTooltip();\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Detach event handlers\r\n   * @private\r\n   */\r\n  Tooltip.prototype._detachEventHandlers = function() {\r\n    this.$element.off('mouseenter' + this._eventsNamespace);\r\n    this.$element.off('mouseout' + this._eventsNamespace);\r\n  };\r\n\r\n  /**\r\n   * Helper function which provides ability to parse string for position values\r\n   * @param {String} position\r\n   * @returns {Object}\r\n   * @private\r\n   */\r\n  Tooltip.prototype._parsePositionString = function(position) {\r\n    position = position || this.options.position || '';\r\n    var result = {},\r\n        haveAxisX = position.indexOf('right') !== -1 || position.indexOf('left') !== -1,\r\n        positionX = haveAxisX && (position.indexOf('right') !== -1 ? 'right' : 'left'),\r\n        haveAxisY = position.indexOf('top') !== -1 || position.indexOf('bottom') !== -1,\r\n        positionY = haveAxisY && (position.indexOf('top') !== -1 ? 'top' : 'bottom');\r\n\r\n\r\n    positionX = positionX || (haveAxisY ? 'center' : this.options.defaultPositionX);\r\n    positionY = positionY || (haveAxisX ? 'center' : this.options.defaultPositionY);\r\n\r\n    result.positionX = positionX;\r\n    result.positionY = positionY;\r\n    \r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * \r\n   * @param onlyClasses\r\n   * @private\r\n   */\r\n  Tooltip.prototype._resetTooltip = function(onlyClasses) {\r\n    \r\n  };\r\n  \r\n  /**\r\n   * Adjust tooltip position\r\n   * @param {String|undefined} [positionString] - Position of tooltip. Any combination of left/right/center for horizontal and\r\n   * top/bottom/center for vertical. Valid values - \"left\", \"right top\", \"bottom left\", \"top center\", \"top\", etc.\r\n   * @param {jQuery} [$trigger] - trigger element\r\n   */\r\n  Tooltip.prototype.adjustPosition = function(positionString, $trigger) {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    $trigger = $trigger || this.$element;\r\n    var position = this._parsePositionString(positionString),\r\n        $tooltip = this.$tooltip;\r\n\r\n    var top = 0;\r\n    var left = 0;\r\n\r\n    var arrowSize = 8,\r\n        scroll = util.getScrollTopFromElement($trigger),\r\n        triggerSizes = $trigger.get(0).getBoundingClientRect(),\r\n        tooltipSizes = $tooltip.get(0).getBoundingClientRect();\r\n\r\n    switch (position.positionX) {\r\n      case 'right':\r\n        left = scroll.left + triggerSizes.left + triggerSizes.width + arrowSize;\r\n        break;\r\n      case 'left':\r\n        left = scroll.left + triggerSizes.left - tooltipSizes.width - arrowSize;\r\n        break;\r\n      default:\r\n        left = scroll.left + triggerSizes.left + (triggerSizes.width - tooltipSizes.width)/2 ;\r\n        break;\r\n    }\r\n    \r\n    switch (position.positionY) {\r\n      case 'top':\r\n        top = scroll.top + triggerSizes.top - tooltipSizes.height - arrowSize;\r\n        break;\r\n      case 'bottom':\r\n        top = scroll.top + triggerSizes.top + triggerSizes.height + arrowSize;\r\n        break;\r\n      default:\r\n        top = scroll.top + triggerSizes.top + (triggerSizes.height - tooltipSizes.height)/2;\r\n        break;\r\n    }\r\n\r\n    $tooltip.attr('positionX',position.positionX);\r\n    $tooltip.attr('positionY',position.positionY);\r\n    $tooltip.css({\r\n      top: top + 'px',\r\n      left: left + 'px'\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Collect array of available options from trigger element\r\n   * @param {jQuery} [$trigger]\r\n   * @returns {Object}\r\n   * @private\r\n   */\r\n  Tooltip.prototype._collectOptionsFromElement = function($trigger) {\r\n    $trigger = $trigger || this.$element;\r\n    var result = {};\r\n\r\n    result.items = [];\r\n      var triggerText = $trigger.text(),\r\n          text = $trigger.attr('tooltip-text'),\r\n          style = $trigger.attr('tooltip-style') || '',\r\n          position = $trigger.attr('tooltip-position') || '';\r\n    result.text = text || triggerText;\r\n    result.style = style;\r\n    result.position = position;\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Destroy current instance of tooltip. Remove all elements and detach events.\r\n   */\r\n  Tooltip.prototype.destroy = function() {\r\n    this._detachEventHandlers();\r\n    this.$tooltip.remove();\r\n    this.$element.data('DrawerTooltip', undefined);\r\n    this.$element.removeClass('tooltip-trigger');\r\n    this.enabled = false;\r\n  };\r\n\r\n  /**\r\n   * Show tooltip\r\n   * @param {jQuery} [$trigger] - trigger element. For correct positioning\r\n   */\r\n  Tooltip.prototype.showTooltip = function($trigger) {\r\n    if (this.enabled) {\r\n      this.$element.trigger('showTooltip');\r\n      this._firstShow = false;\r\n      if (!this.$tooltip.is(':visible')) {\r\n        this.$tooltip.addClass('tooltip-transparent');\r\n      }\r\n      this.adjustPosition(undefined, $trigger);\r\n      this.$tooltip.removeClass('tooltip-transparent');\r\n      this.$tooltip.addClass('active');\r\n      this.isVisible = true;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Hide tooltip\r\n   */\r\n  Tooltip.prototype.hideTooltip = function() {\r\n    if (this.enabled && this.isVisible) {\r\n      this.$tooltip.removeClass('active');\r\n      this.isVisible = false;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * @Function\r\n   * @param {Object} [options]\r\n   * @returns {Tooltip[]}\r\n   * @memberOf external:\"jQuery.fn\"\r\n   */\r\n  $.fn.DrawerTooltip = function (options) {\r\n    var instances = [];\r\n    $(this).each(function (i, element) {\r\n      var newInstance = new Tooltip(element, options);\r\n      $(element).data('DrawerTooltip', newInstance);\r\n      instances.push(newInstance);\r\n    });\r\n    return instances;\r\n  };\r\n\r\n  /**\r\n   * @Function\r\n   * @memberOf external:\"jQuery.fn\"\r\n   * @returns {Tooltip|Tooltip[]}\r\n   */\r\n  $.fn.getDrawerTooltip = function () {\r\n    var instances = [];\r\n    $(this).each(function (i, element) {\r\n      var currInstance = $(element).data('DrawerTooltip');\r\n      if (currInstance) {\r\n        instances.push(currInstance);\r\n      }\r\n    });\r\n    return instances.length > 1 ? instances : instances[0];\r\n  };\r\n\r\n  utilPlugins.Tooltip = Tooltip;\r\n})(window, jQuery, DrawerJs.util, DrawerJs.utilPlugins);\r\n;(function (window, $, util, utilPlugins) {\r\n  'use strict';\r\n\r\n  /**\r\n   * @typeDef {Object} returnObj\r\n   * @memberOf DrawerJs.utilPlugins.TooltipManager\r\n   * @property {TooltipManager} instance - instance of tooltip manager\r\n   * @property {TooltipManager#createTooltip} createTooltip - Create tooltip\r\n   * @property {TooltipManager#removeAllTooltips} removeAllTooltips - Destroy all tooltips and all attached events\r\n   * @property {TooltipManager#hideAllTooltips} hideAllTooltips - Hide all tooltips\r\n   **/\r\n\r\n  /**\r\n   * Provides ability for Drawer to create/use tooltips.\r\n   * @param {Drawer} drawer - trigger element\r\n   * @param {TooltipManager.defaultOptions} [options] - configuration object\r\n   * @returns {DrawerJs.utilPlugins.TooltipManager.returnObj}\r\n   * @memberOf DrawerJs.utilPlugins\r\n   * @constructs TooltipManager\r\n   */\r\n  var TooltipManager = function (drawer, options) {\r\n    this.drawerInstance = drawer;\r\n\r\n    this._setupOptions(options);\r\n    this._processOptions();\r\n    this._createHelperElements();\r\n    this._attachDrawerEventHandlers();\r\n    this._attachEventHandlers();\r\n\r\n    return {\r\n      instance: this,\r\n      createTooltip: this.createTooltip.bind(this)\r\n    };\r\n  };\r\n\r\n  /**\r\n   * @memberOf DrawerJs.utilPlugins.TooltipManager\r\n   * @typeDef {Object} defaultOptions\r\n   * @property {Object} [style] - Allows css customizations of buttons tooltips. Could be any valid css object\r\n   *\r\n   **/\r\n\r\n  /**\r\n   *\r\n   * @type {DrawerJs.utilPlugins.TooltipManager.defaultOptions}\r\n   * @private\r\n   */\r\n  TooltipManager.prototype._defaultOptions = {\r\n    tooltipCss: {}\r\n  };\r\n\r\n  /**\r\n   * Array of tooltip instances\r\n   * @type {Array}\r\n   * @private\r\n   */\r\n  TooltipManager.prototype._tooltipInstances = [];\r\n\r\n  /**\r\n   * Setup options\r\n   * @param {DrawerJs.utilPlugins.TooltipManager.defaultOptions | Object} [options] - Configuration object\r\n   * @returns {DrawerJs.utilPlugins.TooltipManager.defaultOptions}\r\n   * @private\r\n   */\r\n  TooltipManager.prototype._setupOptions = function (options) {\r\n    var optionsFromDrawer = {\r\n      styleObj: this.drawerInstance.options.tooltipCss\r\n    };\r\n    this.options = $.extend(true, {}, this._defaultOptions || {}, optionsFromDrawer, options || {});\r\n    this._initialOptions = $.extend(true, {}, options);\r\n    return this.options;\r\n  };\r\n\r\n  /**\r\n   * Process options\r\n   * @private\r\n   */\r\n  TooltipManager.prototype._processOptions = function () {\r\n\r\n  };\r\n\r\n\r\n  /**\r\n   * Create new tooltip(s)\r\n   * @param {jQuery} elements\r\n   * @param {DrawerJs.utilPlugins.Tooltip.defaultOptions} [options]\r\n   * @returns {DrawerJs.utilPlugins.Tooltip[]}\r\n   */\r\n  TooltipManager.prototype.createTooltip = function (elements, options) {\r\n    elements = elements || [];\r\n    var self = this,\r\n        newInstances = [],\r\n        newTooltip,\r\n        optionsForTooltip = $.extend(true, {}, this.options, options || {});\r\n    elements.each(function (i, element) {\r\n      newTooltip = new utilPlugins.Tooltip(element, optionsForTooltip);\r\n      self._tooltipInstances.push(newTooltip);\r\n      newInstances.push(newTooltip);\r\n    });\r\n    return newInstances;\r\n  };\r\n\r\n  /**\r\n   * Destroy all tooltips and all attached events\r\n   */\r\n  TooltipManager.prototype.removeAllTooltips = function () {\r\n    this._tooltipInstances.forEach(function (tooltip) {\r\n      tooltip.destroy();\r\n    });\r\n    this._tooltipInstances = [];\r\n  };\r\n\r\n  /**\r\n   * Hide all tooltips\r\n   */\r\n  TooltipManager.prototype.hideAllTooltips = function () {\r\n    this._tooltipInstances.forEach(function (tooltip) {\r\n      tooltip.hideTooltip();\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Remove helper elements such as tooltip container\r\n   * @private\r\n   */\r\n  TooltipManager.prototype._removeHelperElements = function () {\r\n    if (this.drawerInstance.$tooltipContainer && this.drawerInstance.$tooltipContainer.length) {\r\n      this.drawerInstance.$tooltipContainer.remove();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Create helper elements such as tooltip container\r\n   * @private\r\n   */\r\n  TooltipManager.prototype._createHelperElements = function () {\r\n    this._removeHelperElements();\r\n    var currDrawerInstanceId = this.drawerInstance.id,\r\n        tooltipContainerHtml = '' +\r\n            '<div ' +\r\n            'class=\"tooltip-container\" ' +\r\n            'data-drawer-instance=\"' + currDrawerInstanceId + '\">' +\r\n            '</div>';\r\n\r\n    var $tooltipContainer = $(tooltipContainerHtml),\r\n        $body = $('body');\r\n\r\n    $body.append($tooltipContainer);\r\n\r\n    this.options.$tooltipWrapper = $tooltipContainer;\r\n    this.drawerInstance.$tooltipContainer = $tooltipContainer;\r\n  };\r\n\r\n  /**\r\n   * Setup/attach drawer handlers\r\n   * @private\r\n   */\r\n  TooltipManager.prototype._attachDrawerEventHandlers = function () {\r\n    var self = this;\r\n\r\n    this.drawerInstance.on(this.drawerInstance.EVENT_CREATE_TOOLTIP, function (fEvent, elements, options) {\r\n      return self.createTooltip(elements, options);\r\n    });\r\n\r\n    this.drawerInstance.on(this.drawerInstance.EVENT_HIDE_TOOLTIPS, function () {\r\n      self.hideAllTooltips();\r\n    });\r\n\r\n    this.drawerInstance.on(this.drawerInstance.EVENT_DESTROY_TOOLTIPS, function () {\r\n      self.removeAllTooltips();\r\n    });\r\n\r\n    this.drawerInstance.on('destroy', function () {\r\n      self.removeAllTooltips();\r\n    });\r\n  };\r\n\r\n\r\n  /**\r\n   * Setup/attach event handlers\r\n   * @private\r\n   */\r\n  TooltipManager.prototype._attachEventHandlers = function () {\r\n    $('body').off('showTooltip').on('showTooltip', '.tooltip-trigger', function (e) {\r\n      var $trigger = $(e.currentTarget),\r\n          tooltipInstance = $trigger.data('DrawerTooltip');\r\n      if (tooltipInstance._firstShow) {\r\n        var $toolbarPlaceholder = $trigger.closest('.toolbar-placeholder'),\r\n            toolbarPosition = $toolbarPlaceholder.attr('data-position'),\r\n            tooltipPosition;\r\n        switch (toolbarPosition) {\r\n          case ToolbarPlaceholder.prototype.TOP_POSITION :\r\n            tooltipPosition = ToolbarPlaceholder.prototype.BOTTOM_POSITION;\r\n            break;\r\n          case ToolbarPlaceholder.prototype.BOTTOM_POSITION :\r\n            tooltipPosition = ToolbarPlaceholder.prototype.TOP_POSITION;\r\n            break;\r\n          case ToolbarPlaceholder.prototype.LEFT_POSITION :\r\n            tooltipPosition = ToolbarPlaceholder.prototype.RIGHT_POSITION;\r\n            break;\r\n          case ToolbarPlaceholder.prototype.RIGHT_POSITION :\r\n            tooltipPosition = ToolbarPlaceholder.prototype.LEFT_POSITION;\r\n            break;\r\n        }\r\n        if (tooltipPosition) {\r\n          tooltipInstance.options.position = tooltipPosition;\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  utilPlugins.TooltipManager = TooltipManager;\r\n})(window, jQuery, DrawerJs.util, DrawerJs.utilPlugins);\r\n(function ($, pluginsNamespace) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Base class for all drawing tools.\r\n     *\r\n     * @param drawerInstance\r\n     * @param options\r\n     * @constructor\r\n     * @memberof DrawerJs.plugins\r\n     */\r\n    var BaseTool = function (drawerInstance, options) {\r\n        if (!drawerInstance) {\r\n            throw new Error(\"BaseTool CTOR : drawerInstance is not set!\");\r\n        }\r\n        this._setupOptions(options);\r\n\r\n        this.drawerInstance = drawerInstance;\r\n        this.drawer = drawerInstance;\r\n\r\n        // set handlers\r\n        this._bindedOnToolbarCreated = this._onToolbarCreated.bind(this);\r\n        this.drawerInstance.on(this.drawerInstance.EVENT_TOOLS_TOOLBAR_CREATED,  this._bindedOnToolbarCreated);\r\n    };\r\n\r\n    BaseTool.prototype.name = '';          // tool name\r\n    BaseTool.prototype.type = null;        // tool type\r\n    BaseTool.prototype.active = false;     // is active at the moment\r\n    BaseTool.prototype.btnClass = 'btn';   // tool button css class\r\n    BaseTool.prototype.faClass = '';       // tool icon css class\r\n    BaseTool.prototype.tooltip = '';       //\r\n    BaseTool.prototype.toolbar = null;     /** @type {DrawerToolbar} */\r\n    BaseTool.prototype.$toolButton = null; // cached jQuery wrapper of button\r\n    BaseTool.prototype.drawerInstance = null; // instance of DrawerJs\r\n\r\n\r\n    /**\r\n     * Handler for EVENT_DO_DEACTIVATE_ALL_TOOLS.\r\n     */\r\n    BaseTool.prototype._onDeactivateAllTools = function () {\r\n        if (this.active) {\r\n          var ns = '.tool-' + this.name;\r\n          this.drawerInstance.trigger(this.drawerInstance.EVENT_DO_DEACTIVATE_TOOL + ns, [this]);\r\n        }\r\n    };\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {Object} [options] - options to save\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n   * @returns {Object} config of plugin\r\n   */\r\n    BaseTool.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n      pluginName = pluginName || this.name;\r\n      var drawer = this.drawerInstance || this.drawer,\r\n          optionsFromDrawer = drawer && drawer.getPluginConfig(pluginName),\r\n          result = $.extend(true,\r\n              {},\r\n              this._defaultOptions || {},\r\n              optionsFromDrawer || {},\r\n              options || {}\r\n          );\r\n\r\n      if (!doNotSave) {\r\n        this.options = result;\r\n      }\r\n      return result;\r\n    };\r\n\r\n    /**\r\n     * On toolbar created - create tool button.\r\n     * @param {fabric.Event} ev\r\n     * @param {DrawerToolbar} toolbar\r\n     * @private\r\n     */\r\n    BaseTool.prototype._onToolbarCreated = function (ev, toolbar) {\r\n        this.toolbar = toolbar;\r\n        this.createButton(toolbar);\r\n\r\n        this._setHandlers();\r\n\r\n        if (this.onToolbarCreated) {\r\n            this.onToolbarCreated(ev, toolbar);\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * On toolbar destroyed - destroy button, if it was our toolbar.\r\n     */\r\n    BaseTool.prototype.onToolbarDestroyed = function (ev, toolbar) {\r\n        if (this.toolbar == toolbar) {\r\n            this.removeTool();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Deletes tool button.\r\n     * If  doDeleteToolbarCreationListeners is true - removes listenin on toolbar creation event.\r\n     * So, tool will not appear on toolbar next time, when toolbar is created.\r\n     *\r\n     * @param {boolean} doDeleteToolbarCreationListeners\r\n     */\r\n    BaseTool.prototype.removeTool = function(doDeleteToolbarCreationListeners) {\r\n        // removes button and unbind click on it\r\n        if (this.$toolButton) {\r\n            this.toolbar.removeButton(this.$toolButton);\r\n        }\r\n\r\n        // stop listening toolbar creation\r\n        if (doDeleteToolbarCreationListeners) {\r\n            this._unsetHandlers();\r\n            this.drawerInstance.off(this.drawerInstance.EVENT_TOOLS_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n        }\r\n    };\r\n\r\n\r\n    BaseTool.prototype._setHandlers = function () {\r\n        var ns = '.tool-' + this.name;\r\n\r\n        this.drawerInstance.on(this.drawerInstance.EVENT_TOOLBAR_DESTROYED + ns, this.onToolbarDestroyed.bind(this));\r\n\r\n        this.drawerInstance.on(this.drawerInstance.EVENT_DO_DEACTIVATE_ALL_TOOLS + ns, this._onDeactivateAllTools.bind(this));\r\n        this.drawerInstance.on(this.drawerInstance.EVENT_DO_DEACTIVATE_TOOL + ns, this._onDeactivateTool.bind(this));\r\n        this.drawerInstance.on(this.drawerInstance.EVENT_DO_ACTIVATE_TOOL, this._onActivateTool.bind(this));\r\n    };\r\n\r\n    BaseTool.prototype._unsetHandlers = function () {\r\n        var ns = '.tool-' + this.name;\r\n        this.drawerInstance.off(this.drawerInstance.EVENT_TOOLBAR_DESTROYED + ns);\r\n        this.drawerInstance.off(this.drawerInstance.EVENT_DO_DEACTIVATE_ALL_TOOLS + ns);\r\n        this.drawerInstance.off(this.drawerInstance.EVENT_DO_DEACTIVATE_TOOL + ns);\r\n        this.drawerInstance.off(this.drawerInstance.EVENT_DO_ACTIVATE_TOOL + ns);\r\n    };\r\n\r\n    /**\r\n     * Handler for EVENT_DO_DEACTIVATE_TOOL.\r\n     * @param e event obj\r\n     * @param tool tool object\r\n     */\r\n    BaseTool.prototype._onDeactivateTool = function (e, tool) {\r\n        if (!tool || !tool.name) {\r\n            throw new Error('BaseTool.onDeactivateTool() : no tool name is provided!');\r\n        }\r\n        if (this.active && (tool.name == this.name)) {\r\n          this._deactivateTool();\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Handler for EVENT_DO_ACTIVATE_TOOL.\r\n     * @param e event obj\r\n     * @param tool tool object\r\n     */\r\n    BaseTool.prototype._onActivateTool = function (e, tool) {\r\n        if (!tool || !tool.name) {\r\n            throw new Error('BaseTool._onActivateTool() : no tool name is provided!');\r\n        }\r\n        // Ignore, if event was for other tool, or if tool is already active\r\n        if (tool.name === this.name && !this.active) {\r\n          // ok, event is for this tool, and it is not active, so continue.\r\n          // deactivate all tools.\r\n          var dataToEvent = {\r\n            beforeActivateTool: true\r\n          };\r\n          this.drawerInstance.trigger(this.drawerInstance.EVENT_DO_DEACTIVATE_ALL_TOOLS, dataToEvent);\r\n          // now activate our tool!\r\n          this._activateTool();\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Creates tool button in toolbar provided.\r\n     * @param {DrawerToolbar} toolbar toolbar, where this tool button will be created\r\n     */\r\n    BaseTool.prototype.createButton = function (toolbar) {\r\n      var buttonConfig = {\r\n            buttonOrder: this.options.buttonOrder,\r\n            additionalClass: this.btnClass,\r\n            iconClass: this.faClass,\r\n            tooltipText: this.tooltip,\r\n            clickHandler: this.onButtonClick.bind(this)\r\n          };\r\n\r\n      if (this.group) {\r\n        buttonConfig.group = this.group;\r\n        this.$toolButton = toolbar.addButtonToGroup(buttonConfig);\r\n      } else {\r\n        this.$toolButton = toolbar.addButton(buttonConfig);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * On tool button click - trigger event to activate/deactivate tool\r\n     */\r\n    BaseTool.prototype.onButtonClick = function () {\r\n        //    e.preventDefault();\r\n        //    e.stopPropagation();\r\n\r\n        var action = this.active ? this.drawerInstance.EVENT_DO_DEACTIVATE_TOOL\r\n                                 : this.drawerInstance.EVENT_DO_ACTIVATE_TOOL;\r\n\r\n        this.drawerInstance.trigger(action, [this]);\r\n    };\r\n\r\n    /**\r\n     * Base tool activation.\r\n     * @protected\r\n     */\r\n    BaseTool.prototype._activateTool = function () {\r\n        this.drawerInstance.log('TOOL', '['+ this.name + '] .activateTool() [BaseTool]');\r\n\r\n        this.drawerInstance.fCanvas.discardActiveObject();\r\n        this.drawerInstance.fCanvas.renderAll();\r\n\r\n        this.active = true;\r\n        this.drawerInstance.activeDrawingTool = this;\r\n\r\n        this.highlightButton();\r\n        this.drawerInstance.trigger(this.drawerInstance.EVENT_TOOL_ACTIVATED, [this]);\r\n    };\r\n\r\n\r\n    /**\r\n     * Base tool deactivation.\r\n     * @protected\r\n     */\r\n    BaseTool.prototype._deactivateTool = function () {\r\n        this.drawerInstance.log('TOOL', '[' + this.name + '] : deactivateTool [BaseTool]');\r\n\r\n        this.active = false;\r\n        if (this.drawerInstance.activeDrawingTool === this) {\r\n            this.drawerInstance.activeDrawingTool = null;\r\n        }\r\n\r\n        // make tool button not active\r\n        this.highlightButtonOff();\r\n\r\n        this.drawerInstance.fCanvas.renderAll();\r\n        this.drawerInstance.trigger(this.drawerInstance.EVENT_TOOL_DEACTIVATED, [this]);\r\n    };\r\n\r\n    BaseTool.prototype.highlightButton = function () {\r\n        if (this.group) {\r\n            this.toolbar._setGroupButtonActive(this.group.name, this.btnClass);\r\n        } else {\r\n            this.toolbar.setActiveButton(this.btnClass);\r\n        }\r\n    };\r\n\r\n    BaseTool.prototype.highlightButtonOff = function () {\r\n        this.toolbar.clearActiveButton();\r\n    };\r\n\r\n    pluginsNamespace.BaseTool = BaseTool;\r\n}(jQuery, DrawerJs.plugins));\r\n\r\n(function ($, pluginsNamespace, BaseTool, util) {\r\n  'use strict';\r\n\r\n\r\n  var MOUSE_UP_TIMER = util.mouseUp('BaseBrushTimer');\r\n  var MOUSE_DOWN_TIMER = util.mouseDown('BaseBrushTimer');\r\n  /**\r\n   * Base class for all brushes/free drawing tools.\r\n   *\r\n   * @param drawerInstance\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var BaseBrush = function (drawerInstance) {\r\n    // call super constructor\r\n    BaseTool.call(this, drawerInstance);\r\n\r\n    // set type\r\n    this.type = 'brush';\r\n\r\n    // @todo : use it\r\n    this.brushConstructor = fabric.ErasablePencilBrush;\r\n  };\r\n\r\n\r\n  BaseBrush.prototype = Object.create(BaseTool.prototype);\r\n  BaseBrush.prototype.constructor = BaseBrush;\r\n\r\n  BaseBrush.prototype.doNotZoomOnActivate = true;\r\n\r\n  BaseBrush.prototype.createButton = function (toolbar) {\r\n    var _this = this,\r\n        clickHandler = function () {\r\n          var action = _this.active ? _this.drawerInstance.EVENT_DO_DEACTIVATE_TOOL\r\n              : _this.drawerInstance.EVENT_DO_ACTIVATE_TOOL;\r\n\r\n          _this.drawerInstance.trigger(action, [_this]);\r\n        },\r\n        buttonConfig = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: this.btnClass,\r\n          iconClass: this.faClass,\r\n          tooltipText: this.tooltip,\r\n          clickHandler: clickHandler\r\n        };\r\n\r\n\r\n    this.$toolButton = toolbar.addButton(buttonConfig);\r\n  };\r\n\r\n  BaseBrush.prototype._activateTool = function () {\r\n    // call _activateTool() of parent\r\n    BaseTool.prototype._activateTool.call(this);\r\n    this.drawerInstance.log('TOOL', this.name + ' : activateTool [BaseBrush]');\r\n\r\n    var _this = this;\r\n    var fCanvas = _this.drawerInstance.fCanvas;\r\n\r\n    fCanvas.freeDrawingCursor =\r\n      \"url(/redactor.plugin.drawer/dist/cursor-fa-eraser.cur), default\";\r\n    fCanvas.isDrawingMode = true;\r\n\r\n    // create brush\r\n    if (!_this.brush) {\r\n      if (!_this.createBrush) {\r\n        _this.brush = new fabric.ErasablePencilBrush(_this.drawerInstance.fCanvas);\r\n      } else {\r\n        _this.brush = _this.createBrush();\r\n      }\r\n    }\r\n\r\n    // save prev brush and set new\r\n    _this.previousBrush = _this.drawerInstance.getBrush();\r\n    _this.drawerInstance.setBrush(_this.brush);\r\n\r\n    _this.drawerInstance.trigger(this.drawerInstance.EVENT_TOOL_ACTIVATED, [this]);\r\n    // this method will be redefined in BaseBrush descendants\r\n    this.afterActivateTool();\r\n    this._attachTimerEvents();\r\n  };\r\n\r\n  /**\r\n   * Attach event that indicates \"Brush\" drawing mode\r\n   * @private\r\n   */\r\n  BaseBrush.prototype._attachTimerEvents = function () {\r\n    var upperCanvasEl = this.drawerInstance.fCanvas.upperCanvasEl,\r\n        $upperCanvasEl = $(upperCanvasEl);\r\n\r\n    this._removeTimerEvents();\r\n    // handle mouse down and mouse up\r\n    $upperCanvasEl.on(MOUSE_DOWN_TIMER, this._onMouseDownTimer.bind(this));\r\n    $(window.document).on(MOUSE_UP_TIMER, this._onMouseUpTimer.bind(this));\r\n  };\r\n\r\n  /**\r\n   * Update indicator on mouse down\r\n   * @private\r\n   */\r\n  BaseBrush.prototype._onMouseDownTimer = function () {\r\n    this.drawerInstance.isBrushDrawing = true;\r\n  };\r\n\r\n  /**\r\n   * Update indicator on mouse up\r\n   * @private\r\n   */\r\n  BaseBrush.prototype._onMouseUpTimer = function () {\r\n    var self = this;\r\n    util.setTimeout(function(){\r\n      self.drawerInstance.isBrushDrawing = false;\r\n    },0);\r\n  };\r\n\r\n  /**\r\n   * Remove events\r\n   * @private\r\n   */\r\n  BaseBrush.prototype._removeTimerEvents = function () {\r\n    var upperCanvasEl = this.drawerInstance.fCanvas.upperCanvasEl,\r\n        $upperCanvasEl = $(upperCanvasEl);\r\n\r\n    // handle mouse down and mouse up\r\n    $upperCanvasEl.off(MOUSE_DOWN_TIMER);\r\n    $(window.document).off(MOUSE_UP_TIMER);\r\n  };\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @private\r\n   */\r\n  BaseBrush.prototype._deactivateTool = function () {\r\n    // call _deactivateTool() of parent\r\n    BaseTool.prototype._deactivateTool.call(this);\r\n    this.drawerInstance.log('TOOL', this.name + ' : deactivateTool [BaseBrush]');\r\n\r\n    this.drawerInstance.fCanvas.isDrawingMode = false;\r\n\r\n    // remove mouse events listening\r\n    $(this.drawerInstance.fCanvas.upperCanvasEl)\r\n      .off('mousedown.BaseBrush touchstart.BaseBrush');\r\n\r\n    $(this.drawerInstance.fCanvas.upperCanvasEl)\r\n      .off('mouseup.BaseBrush touchend.BaseBrush');\r\n\r\n    this._removeTimerEvents();\r\n    // restore prev brush\r\n    this.drawerInstance.setBrush(this.previousBrush);\r\n    this.brush = null;\r\n\r\n    this.drawerInstance.trigger(this.drawerInstance.EVENT_TOOL_DEACTIVATED, [this]);\r\n    // this method will be redefined in BaseBrush descendants\r\n    this.afterDeactivateTool();\r\n  };\r\n\r\n\r\n  /**\r\n   * Method MUST be redefined in descendants.\r\n   * Method is called in the end of _deactivateTool().\r\n   */\r\n  BaseBrush.prototype.afterActivateTool = function () {\r\n    throw new Error(this.name + ' should implement afterActivateTool() method.');\r\n  };\r\n\r\n  /**\r\n   * Method MUST be redefined in descendants.\r\n   * Method is called in the end of _deactivateTool().\r\n   */\r\n  BaseBrush.prototype.afterDeactivateTool = function () {\r\n    throw new Error(this.name + ' should implement afterDeactivateTool() method.');\r\n  };\r\n\r\n  pluginsNamespace.BaseBrush = BaseBrush;\r\n\r\n}(jQuery, DrawerJs.plugins, DrawerJs.plugins.BaseTool, DrawerJs.util));\r\n\r\n\r\n(function ($, pluginsNamespace, BaseTool, util) {\r\n  \"use strict\";\r\n\r\n  /**\r\n   * Provides mechanism to draw shapes like in photoshop.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * @memberof DrawerJs.plugins\r\n   * @constructor\r\n   */\r\n  var BaseShape = function BaseShapeConstructor(drawerInstance) {\r\n    if (!drawerInstance) {\r\n      throw new Error(\"BaseShape CTOR : drawerInstance is not set!\");\r\n    }\r\n\r\n    // call super constructor\r\n    BaseTool.call(this, drawerInstance);\r\n    var _this = this;\r\n    this.drawer = drawerInstance;\r\n\r\n    this.type = 'shape';\r\n    this.objectBaseType = 'shape';\r\n    /**\r\n     * List of tool options to show when tool is activated\r\n     * @type {Array}\r\n     */\r\n    this.toolOptionsList = ['color', 'border', 'opacity'];\r\n\r\n    this.drawingInProgress = false;\r\n    this.onlyOneItem = true;\r\n\r\n    this.MOUSEMOVE = this.getEventId(['mousemove', 'touchmove']);\r\n    this.MOUSEDOWN = this.getEventId(['mousedown', 'touchstart']);\r\n    this.MOUSEUP = this.getEventId(['mouseup', 'touchend']);\r\n  };\r\n\r\n\r\n  BaseShape.prototype = Object.create(BaseTool.prototype);\r\n  BaseShape.prototype.constructor = BaseShape;\r\n\r\n  /**\r\n   * Min size of shape in px. If less - shape will not be added\r\n   * @type {number}\r\n   */\r\n  BaseShape.prototype.minShapeSize = 4;\r\n\r\n  /**\r\n   * Min size of shape in px for touch devices. If less - shape will not be added\r\n   * @type {number}\r\n   */\r\n  BaseShape.prototype.minShapeSizeForTouch = 15;\r\n\r\n\r\n  BaseShape.CENTERING_MODE = {\r\n    NORMAL: 'normal',\r\n    FROM_CENTER: 'from_center'\r\n  };\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {Object} [options] - options to save\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n   * @returns {Object} config of plugin\r\n   */\r\n  BaseShape.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n    pluginName = pluginName || this.name;\r\n    var drawer = this.drawerInstance || this.drawer,\r\n        optionsFromDrawer = drawer && drawer.getPluginConfig(pluginName),\r\n        result = $.extend(true,\r\n            {},\r\n            this._defaultOptions || {},\r\n            optionsFromDrawer || {},\r\n            options || {}\r\n        );\r\n\r\n    if (!doNotSave) {\r\n      this.options = result;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  BaseShape.prototype.getEventId = function (event) {\r\n    var _this = this;\r\n\r\n    if (event instanceof String) {\r\n      event = [event];\r\n    }\r\n\r\n    if (event instanceof Array) {\r\n      return event.map(function (e) {\r\n        return e + '.drawerTool' + _this.btnClass;\r\n      }).join(' ');\r\n    }\r\n  };\r\n\r\n  BaseShape.prototype._activateTool = function () {\r\n    if (this.active)\r\n      return;\r\n\r\n    // call _activateTool() of parent\r\n    BaseTool.prototype._activateTool.call(this);\r\n\r\n    this.drawerInstance.log('TOOL', this.name + ' : _activateTool() [BaseShape]');\r\n\r\n    var _this = this;\r\n\r\n    // show no tooltip on touch devices\r\n    if (!this.drawerInstance.touchDevice) {\r\n      _this.showHelpTooltip();\r\n    }\r\n\r\n    var fCanvas = this.drawerInstance.fCanvas;\r\n    // remove all active selection\r\n    fCanvas.disableSelection();\r\n\r\n    fCanvas.renderAll();\r\n\r\n    fCanvas.defaultCursor = 'crosshair';\r\n\r\n    if (this.setUpHandlers) {\r\n      this.setUpHandlers();\r\n    } else {\r\n      this._setUpHandlers();\r\n    }\r\n  };\r\n\r\n\r\n  BaseShape.prototype._setUpHandlers = function () {\r\n    var _this = this;\r\n    var fCanvas = this.drawerInstance.fCanvas;\r\n\r\n    $(fCanvas.upperCanvasEl).on(_this.MOUSEDOWN, function (event) {\r\n      _this.drawerInstance.log('baseShape', 'mousedown');\r\n\r\n      $(fCanvas.upperCanvasEl).off(_this.MOUSEDOWN);\r\n\r\n      // no tooltip was shown on touch devices\r\n      if (!_this.drawerInstance.touchDevice) {\r\n        _this.removeHelpTooltip();\r\n      }\r\n\r\n      if (fCanvas.getActiveObject()) {\r\n        return true;\r\n      }\r\n\r\n      if (_this.drawingInProgress) {\r\n        _this.finishItemDraw();\r\n        return true;\r\n      }\r\n\r\n      _this.drawingInProgress = true;\r\n      _this.drawerInstance.drawingInProgress = true;\r\n      var startPointCoords = _this.drawer.fCanvas.getPointer(event, true);\r\n\r\n      if (!_this.createShape) {\r\n        throw new Error('createShape method does not exist', _this);\r\n      }\r\n\r\n      _this.shape = _this.createShape(\r\n          startPointCoords.x,\r\n          startPointCoords.y\r\n      );\r\n\r\n      _this.drawerInstance.trigger(_this.drawerInstance.EVENT_ZOOM_SET);\r\n      fCanvas.add(_this.shape);\r\n      _this.drawerInstance.trigger(_this.drawerInstance.EVENT_ZOOM_RESTORE);\r\n\r\n      $(document).on(_this.MOUSEMOVE, function (event) {\r\n        var pointCoords = _this.drawer.fCanvas.getPointer(event);\r\n\r\n        if (!_this.updateShape) {\r\n          throw new Error('updateShape method does not exist', _this);\r\n        }\r\n\r\n        _this.updateShape(_this.shape,\r\n            pointCoords.x,\r\n            pointCoords.y\r\n        );\r\n\r\n        fCanvas.renderAll();\r\n      });\r\n\r\n      $(document).on(_this.MOUSEUP, function () {\r\n        _this.drawerInstance.log('baseShape', 'mouseup');\r\n        var minSize = _this.drawer.touchDevice ? _this.minShapeSizeForTouch : _this.minShapeSize,\r\n            widthIsSmaller = _this.shape.width < minSize,\r\n            heightIsSmaller = !_this.checkOnlyWidth && (_this.shape.height < minSize),\r\n            shapeIsSmaller = _this.checkOnlyWidthOrHeight ? widthIsSmaller && heightIsSmaller : widthIsSmaller || heightIsSmaller,\r\n            preventAddOfShape = shapeIsSmaller;\r\n\r\n        // Check, if shape is too small.\r\n        // for desktop this is ok - shape will still follow mouse and\r\n        // drawing will be stopped when user make a second click\r\n        // but for touch devices this will not work so we simply remove a\r\n        // shape if its too small but allow him to draw another.\r\n\r\n        if (preventAddOfShape) {\r\n            _this.shape.remove();\r\n            _this.shape = null;\r\n\r\n            _this._deactivateTool();\r\n            _this._activateTool();\r\n            return;\r\n          }\r\n\r\n        // finish drawing\r\n          _this.finishItemDraw();\r\n\r\n          // some tools are supposed to draw one shape and then deactivate\r\n        if (_this.onlyOneItem) {\r\n            _this.drawerInstance.trigger(_this.drawerInstance.EVENT_DO_DEACTIVATE_TOOL, _this);\r\n        }\r\n\r\n      });\r\n    });\r\n  };\r\n\r\n  BaseShape.prototype.finishItemDraw = function () {\r\n    var _this = this;\r\n    var fCanvas = _this.drawerInstance.fCanvas;\r\n\r\n    fCanvas.defaultCursor = 'default';\r\n\r\n    if (!this.drawerInstance.touchDevice) {\r\n      _this.removeHelpTooltip();\r\n    }\r\n    fCanvas.deactivateAll();\r\n    fCanvas.calcOffset();\r\n\r\n    _this.drawingInProgress = false;\r\n    util.setTimeout(function(){\r\n      _this.drawerInstance.drawingInProgress = false;\r\n    });\r\n    $(document).off(_this.MOUSEMOVE);\r\n    $(document).off(_this.MOUSEUP);\r\n\r\n    // call finishShape, if it is implemented\r\n    if (this.finishShape) {\r\n      this.finishShape(this.shape);\r\n    }\r\n\r\n    if (_this.shape) {\r\n      if (_this.shape.width < 0) {\r\n        _this.shape.set('width', _this.shape.width * -1);\r\n        _this.shape.set('left', _this.shape.left - _this.shape.width);\r\n        _this.shape.set('flipX', true);\r\n      }\r\n      if (_this.shape.height < 0) {\r\n        _this.shape.set('height', _this.shape.height * -1);\r\n        _this.shape.set('top', _this.shape.top - _this.shape.height);\r\n        _this.shape.set('flipY', true);\r\n      }\r\n\r\n      var newShape = _this.shape.clone();\r\n\r\n      _this.shape.remove();\r\n      _this.shape = null;\r\n\r\n      fCanvas.deactivateAll();\r\n\r\n      fCanvas.add(newShape);\r\n\r\n      fCanvas.restoreSelection();\r\n\r\n      fCanvas.renderAll();\r\n      fCanvas.calcOffset();\r\n      fCanvas.renderAll();\r\n    }\r\n  };\r\n\r\n  BaseShape.prototype._deactivateTool = function () {\r\n    if (!this.active) {\r\n      return;\r\n    }\r\n    // call _deactivateTool() of parent\r\n    BaseTool.prototype._deactivateTool.call(this);\r\n\r\n    this.drawerInstance.log('TOOL', this.name + ' : _deactivateTool() [BaseShape]');\r\n\r\n    this.finishItemDraw();\r\n\r\n    $(this.drawerInstance.fCanvas.upperCanvasEl)\r\n      .off(this.MOUSEDOWN);\r\n\r\n    this.drawerInstance.fCanvas.restoreSelection();\r\n  };\r\n\r\n\r\n  BaseShape.prototype.showHelpTooltip = function () {\r\n    var _this = this;\r\n    var fCanvas = _this.drawerInstance.fCanvas;\r\n\r\n    var helpText = '';\r\n    if (this.helpTooltipText) {\r\n      helpText = this.helpTooltipText;\r\n    } else {\r\n      helpText = _this.drawerInstance.t('Click to start drawing a ') +\r\n          '<i class=\"fa ' + _this.faClass + '\"></i>';\r\n    }\r\n\r\n    _this.cursorTooltip = $(\r\n        '<div class=\"drawer-tool-mouse-tooltip ' + this.btnClass + '\">' +\r\n        helpText +\r\n        '</div>'\r\n    );\r\n\r\n    $('body').append(_this.cursorTooltip);\r\n    $(fCanvas.upperCanvasEl)\r\n        .on('mousemove.drawer-tool-mouse-toolip', function (event) {\r\n          _this.cursorTooltip.css('left', event.pageX);\r\n          _this.cursorTooltip.css('top', event.pageY);\r\n        });\r\n\r\n    $(fCanvas.upperCanvasEl).on('mouseleave', function () {\r\n      _this.cursorTooltip.css('opacity', 0);\r\n    });\r\n\r\n    $(fCanvas.upperCanvasEl).on('mouseenter', function () {\r\n      _this.cursorTooltip.css('opacity', 1);\r\n    });\r\n  };\r\n\r\n  BaseShape.prototype.removeHelpTooltip = function () {\r\n    if (this.cursorTooltip) {\r\n      $('body').off('mousemove.drawer-tool-mouse-toolip');\r\n      this.cursorTooltip.fadeOut();\r\n      this.cursorTooltip.remove();\r\n    }\r\n  };\r\n\r\n\r\n  pluginsNamespace.BaseShape = BaseShape;\r\n\r\n}(jQuery, DrawerJs.plugins, DrawerJs.plugins.BaseTool, DrawerJs.util));\r\n\r\n(function ($, pluginsNamespace) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Base class for tool options plugins.\r\n     *\r\n     * @param drawer\r\n     * @constructor\r\n     * @memberof DrawerJs.plugins\r\n     */\r\n    var BaseToolOptions = function (drawer, options) {\r\n        if (!drawer) {\r\n            throw new Error(\"BaseToolOptions CTOR : drawer is not set!\");\r\n        }\r\n        this.drawer = drawer;\r\n        this._setupOptions(options);\r\n\r\n        // handle toolbar created/destroyed\r\n        this._bindedOnToolbarCreated = this._onToolbarCreated.bind(this);\r\n        drawer.on(drawer.EVENT_OPTIONS_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n        drawer.on(drawer.EVENT_TOOLBAR_DESTROYED, this._onToolbarDestroyed.bind(this));\r\n\r\n        // handle tool activation/deactivation\r\n        drawer.on(drawer.EVENT_DO_DEACTIVATE_ALL_TOOLS, this._onDeactivateTool.bind(this));\r\n\r\n        drawer.on(drawer.EVENT_DO_DEACTIVATE_TOOL, this._onDeactivateTool.bind(this));\r\n        drawer.on(drawer.EVENT_DO_ACTIVATE_TOOL, this._onActivateTool.bind(this));\r\n\r\n        drawer.on(drawer.EVENT_TOOL_DEACTIVATED, this._onDeactivateTool.bind(this));\r\n        drawer.on(drawer.EVENT_TOOL_ACTIVATED, this._onActivateTool.bind(this));\r\n\r\n        // handle object selection/deselection\r\n        drawer.on(drawer.EVENT_OBJECT_SELECTED, this._onObjectSelected.bind(this));\r\n        drawer.on(drawer.EVENT_SELECTION_CLEARED, this._onSelectionCleared.bind(this));\r\n\r\n        // react on edit mode entering\r\n        drawer.on(drawer.EVENT_TEXT_EDITING_ENTERED, this._onTextEditingEntered.bind(this));\r\n        // react on edit mode exiting\r\n        drawer.on(drawer.EVENT_TEXT_EDITING_EXITED, this._onTextEditingExited.bind(this));\r\n    };\r\n\r\n  /**\r\n   * is active at the moment\r\n   * @type {boolean}\r\n   */\r\n  BaseToolOptions.prototype.active = false;\r\n\r\n  /** Instance of Drawer\r\n   * @type {Drawer} */\r\n  BaseToolOptions.prototype.drawer = null;\r\n\r\n  /** Instance of toolbar\r\n   * @type {DrawerToolbar} */\r\n  BaseToolOptions.prototype.toolbar = null;\r\n\r\n  /**\r\n   * Tool name\r\n   * @const\r\n   * @type {string}\r\n   */\r\n  BaseToolOptions.prototype.name = '';\r\n\r\n  /**\r\n   * Tool type\r\n   */\r\n  BaseToolOptions.prototype.type = null;\r\n\r\n  /**\r\n   * Tool name. On selecting tool/object, if this.optionName is in array of\r\n   * object allowed options - tool will show controls\r\n   * @const\r\n   * @type {String}\r\n   */\r\n  BaseToolOptions.prototype.optionName = '';\r\n\r\n  /**\r\n   * Css class of tool button\r\n   * @default\r\n   * @const\r\n   * @type {String}\r\n   */\r\n  BaseToolOptions.prototype.btnClass = 'btn';\r\n\r\n  /**\r\n   * Tool icon font-awesome class\r\n   * @const\r\n   * @type {String}\r\n   */\r\n  BaseToolOptions.prototype.faClass = '';\r\n\r\n  /**\r\n   * Show tool only in edit mode\r\n   * @default\r\n   * @const\r\n   * @type {boolean}\r\n   */\r\n  BaseToolOptions.prototype.showOnEditMode = false;\r\n\r\n  /**\r\n   * Hide tool in edit mode\r\n   * @default\r\n   * @const\r\n   * @type {boolean}\r\n   */\r\n  BaseToolOptions.prototype.hideOnEditMode = true;\r\n\r\n  /**\r\n   * Current option data\r\n   * @type {Object}\r\n   */\r\n  BaseToolOptions.prototype.data = {};\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {Object} [options] - options to save\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n   * @returns {Object} config of plugin\r\n   */\r\n  BaseToolOptions.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n    options = options || {};\r\n    var optionsFromDrawer = this._collectDefaultOptions(pluginName),\r\n        result = $.extend(true,\r\n            {},\r\n            this._defaultOptions || {},\r\n            optionsFromDrawer || {},\r\n            options\r\n        );\r\n\r\n    var updatedResult = this._onOptionsSetup(this._defaultOptions, options, optionsFromDrawer, result);\r\n    result = updatedResult || result;\r\n    if (!doNotSave) {\r\n      this.options = result;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Process options\r\n   * @param {Object} [defaultOptions]\r\n   * @param {Object} [options]\r\n   * @param {Object} [optionsFromDrawer]\r\n   * @param {Object} [result]\r\n   * @returns {Object}\r\n   * @private\r\n   */\r\n  BaseToolOptions.prototype._onOptionsSetup = function (defaultOptions, options, optionsFromDrawer, result) {\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @returns {Object}\r\n   * @private\r\n   */\r\n  BaseToolOptions.prototype._collectDefaultOptions = function (pluginName) {\r\n    pluginName = pluginName || this.name || this.optionName;\r\n    var drawer = this.drawerInstance || this.drawer,\r\n        result = drawer && drawer.getPluginConfig(pluginName);\r\n    return result;\r\n  };\r\n\r\n\r\n  /**\r\n   * On toolbar created - create tool button.\r\n   * @param {fabric.Event} ev\r\n   * @param {DrawerToolbar} toolbar\r\n   * @private\r\n   */\r\n    BaseToolOptions.prototype._onToolbarCreated = function (ev, toolbar) {\r\n        this.toolbar = toolbar;\r\n        if (this.createControls) {\r\n            this.createControls(toolbar);\r\n        }\r\n\r\n      if (this.useCombobox && this.$toolControl) {\r\n        var comboBoxOptions = {\r\n          drawer: this.drawer,\r\n          editable: !this.onlyPredefined,\r\n          buttonMode: this.buttonMode\r\n        },\r\n        $targetSelect = this.$toolControl.find('select');\r\n        $targetSelect.ToolbarComboBox(comboBoxOptions);\r\n        this.comboBox = $targetSelect.getComboBox();\r\n      }\r\n    };\r\n\r\n\r\n  /**\r\n   * On toolbar destroyed - destroy button, if it was our toolbar.\r\n   * @param {fabric.Event} ev\r\n   * @param {DrawerToolbar} toolbar\r\n   * @private\r\n   */\r\n    BaseToolOptions.prototype._onToolbarDestroyed = function (ev, toolbar) {\r\n        if (this.toolbar == toolbar) {\r\n            this.removeTool();\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Deletes tool button.\r\n     * If  doDeleteToolbarCreationListeners is true - removes listeners of toolbar creation event.\r\n     * So, tool will not appear on toolbar next time, when toolbar is created.\r\n     *\r\n     * @param {boolean} doDeleteToolbarCreationListeners\r\n     */\r\n    BaseToolOptions.prototype.removeTool = function(doDeleteToolbarCreationListeners) {\r\n        if (this.deleteControls) {\r\n            this.deleteControls();\r\n        }\r\n\r\n        // stop listening toolbar creation\r\n        if (doDeleteToolbarCreationListeners) {\r\n            this.drawer.off(this.drawer.EVENT_OPTIONS_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n        }\r\n    };\r\n\r\n  /**\r\n   * React on edit mode entering\r\n   * @param  {fabric.Event} [fEvent]\r\n   * @param  {fabric.Object} tool\r\n   * @private\r\n   */\r\n  BaseToolOptions.prototype._onTextEditingEntered = function (fEvent, tool) {\r\n    tool = tool && tool.target;\r\n\r\n    var isEditMode = tool && tool.isEditing,\r\n        showControls = !this.hideOnEditMode && (this.showOnEditMode || isEditMode);\r\n    if (showControls) {\r\n      this.showControls(true, tool);\r\n    } else {\r\n      this.hideControls();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * React on edit mode exiting\r\n   * @param  {fabric.Event} [fEvent]\r\n   * @param  {fabric.Object} [tool]\r\n   * @private\r\n   */\r\n  BaseToolOptions.prototype._onTextEditingExited = function (fEvent, tool) {\r\n    var isEditMode = tool && tool.target && tool.target.isEditing,\r\n        showControls = this.hideOnEditMode && !isEditMode;\r\n    if (showControls) {\r\n      this.showControls();\r\n    } else {\r\n      this.hideControls();\r\n    }\r\n  };\r\n\r\n    /**\r\n     * Handler for EVENT_DO_DEACTIVATE_TOOL.\r\n     * Hides controls.\r\n     * Calls this.onDeactivateTool() if it is defined\r\n     *\r\n     * @param e event obj\r\n     * @param tool tool object\r\n     * @private\r\n     */\r\n    BaseToolOptions.prototype._onDeactivateTool = function (e, tool) {\r\n        // set active to false\r\n        this.active = false;\r\n        // hide controls\r\n      var needToShow = this.options && this.options.alwaysVisible;\r\n      if (!needToShow) {\r\n        this.hideControls();\r\n      } else {\r\n        this.showControls();\r\n      }\r\n    };\r\n\r\n\r\n    /**\r\n     * Default handler for EVENT_DO_ACTIVATE_TOOL.\r\n     * Calls this.updateOnTool()\r\n     *\r\n     * @param {fabric.Event} e event obj\r\n     * @param {BaseTool} tool tool object\r\n     * @private\r\n     */\r\n    BaseToolOptions.prototype._onActivateTool = function (e, tool) {\r\n        this.updateOnTool(tool);\r\n    };\r\n\r\n\r\n    /**\r\n     * Shows/hides controls depending on tool.toolOptionsList\r\n     *\r\n     * @param {BaseTool} tool tool object\r\n     */\r\n    BaseToolOptions.prototype.updateOnTool = function (tool) {\r\n        // look if activated tool toolOptionsList has this option name\r\n      var toolHasOption = tool.toolOptionsList && (tool.toolOptionsList.indexOf(this.optionName) !== -1),\r\n          editModeIsCorrect = (!this.showOnEditMode || tool.isEditing),\r\n          needToShowControls = toolHasOption && editModeIsCorrect;\r\n        if (needToShowControls) {\r\n            this.active = true;\r\n            // show controls\r\n            this.showControls();\r\n            // and activate tool\r\n            if (this.onActivateTool) {\r\n                this.onActivateTool(tool);\r\n            }\r\n        } else {\r\n            this.active = false;\r\n            // show controls\r\n            this.hideControls(tool.forceOptionsHide);\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Shows/hides controls, depending on selected object optionName\r\n     * @param  {Event} event\r\n     * @param  {fabric.Event} fabricEvent [description]\r\n     * @private\r\n     */\r\n    BaseToolOptions.prototype._onObjectSelected = function (event, fabricEvent) {\r\n      var target = fabricEvent.target,\r\n          toolHasOption = target.objectOptionsList && (target.objectOptionsList.indexOf(this.optionName) !== -1),\r\n          editModeIsCorrect = (!this.showOnEditMode || target.isEditing),\r\n          needToShowControls = toolHasOption && editModeIsCorrect;\r\n      if (needToShowControls) {\r\n            // show controls\r\n            this.showControls();\r\n            // update controls\r\n            this.updateControlsFromObject(target);\r\n        } else {\r\n            this.hideControls();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * React on object deselect\r\n     * @private\r\n     */\r\n    BaseToolOptions.prototype.onSelectionCleared = function () {\r\n\r\n    };\r\n\r\n\r\n    /**\r\n     * On selection cleared - hide option controls if not tool is active.\r\n     * Else shows option controls for active tool.\r\n     * Calls this.onSelectionCleared if defined.\r\n     * @private\r\n     */\r\n    BaseToolOptions.prototype._onSelectionCleared = function () {\r\n        // if tool is active now - show controls for it. If no - hide  controls\r\n        if (this.drawer.activeDrawingTool) {\r\n            this.updateOnTool(this.drawer.activeDrawingTool);\r\n        } else {\r\n            this.hideControls();\r\n        }\r\n      this.onSelectionCleared();\r\n    };\r\n\r\n    /**\r\n     * Collect necessary data from object\r\n     * @param  {fabric.Object} target - fabric object\r\n     * @returns {object} result\r\n     */\r\n    BaseToolOptions.prototype.collectDataFromObject = function (target) {\r\n        var result = {};\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Update controls with actual data\r\n     * @param {object} data\r\n     */\r\n    BaseToolOptions.prototype.updateControls = function (data) {\r\n    };\r\n\r\n    /**\r\n     * Collect and update controls with data from target object\r\n     * @param  {fabric.Object} target - fabric object\r\n     */\r\n    BaseToolOptions.prototype.updateControlsFromObject = function (target) {\r\n        this.collectDataFromObject(target);\r\n        this.updateControls(this.data);\r\n    };\r\n\r\n    /**\r\n     * This have to be redefined in child class\r\n     * @param {Boolean} [withUpdate] - need to update controls\r\n     * @param  {fabric.Object} [tool] - for styles collecting\r\n     */\r\n    BaseToolOptions.prototype.showControls = function (withUpdate, tool) {\r\n    };\r\n\r\n    /**\r\n     * This have to be redefined in child class\r\n     * @param {Boolean} [force] - force hide ignoring any options\r\n     */\r\n    BaseToolOptions.prototype.hideControls = function (force) {\r\n    };\r\n\r\n\r\n    pluginsNamespace.BaseToolOptions = BaseToolOptions;\r\n}(jQuery, DrawerJs.plugins));\r\n\r\n(function ($, pluginsNamespace, BaseToolOptions, util) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Base class for text options plugins.\r\n   *\r\n   * @param drawer\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   * @augments DrawerJs.plugins.BaseToolOptions\r\n   */\r\n  var BaseTextOptionTool = function (drawer) {\r\n    BaseToolOptions.call(this, drawer);\r\n    this.drawer = drawer;\r\n\r\n    this._setEventHandlers();\r\n    this._setGlobalClickHandler();\r\n  };\r\n\r\n  BaseTextOptionTool.prototype = Object.create(BaseToolOptions.prototype);\r\n  BaseTextOptionTool.prototype.constructor = BaseToolOptions;\r\n\r\n  /**\r\n   * Button icon class - font Awesome\r\n   * @constant\r\n   * @type {string}\r\n   */\r\n  BaseTextOptionTool.prototype.buttonIconClass = '';\r\n  BaseTextOptionTool.prototype.showOnEditMode = true;\r\n  BaseTextOptionTool.prototype.hideOnEditMode = false;\r\n\r\n  BaseTextOptionTool.prototype.focusTextOnChange = false;\r\n\r\n  BaseTextOptionTool.prototype.onlyPredefined = false;\r\n  BaseTextOptionTool.prototype.stylesToObject = false;\r\n\r\n  BaseTextOptionTool.prototype.useCombobox = true;\r\n  BaseTextOptionTool.prototype.buttonMode = true;\r\n\r\n  BaseTextOptionTool.prototype.predefined = {};\r\n  BaseTextOptionTool.prototype.valueType = {};\r\n\r\n  BaseTextOptionTool.prototype.minValue = undefined;\r\n  BaseTextOptionTool.prototype.maxValue = undefined;\r\n\r\n  /**\r\n   * Setup events\r\n   * @private\r\n   */\r\n  BaseTextOptionTool.prototype._setEventHandlers =function () {\r\n    // react on styles changes of current text object\r\n    this.drawer.on(this.drawer.EVENT_TEXT_STYLES_CHANGED, this._onStylesChanged.bind(this));\r\n\r\n    // get styles handler\r\n    this.drawer.on(this.drawer.EVENT_TEXT_GET_STYLES, this._onGetStyles.bind(this));\r\n\r\n    if (this._onObjectAdded) {\r\n      this.drawer.on(this.drawer.EVENT_OBJECT_ADDED, this._onObjectAdded.bind(this));\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Apply selected border style to added object.\r\n   *\r\n   * @param {fabric.Event} fEvent\r\n   * @param {Object} styles\r\n   * @param {Object} [objectStyles]\r\n   * @param {Array} [stylesWithMultipleValues]\r\n   * @private\r\n   */\r\n  BaseTextOptionTool.prototype._onStylesChanged = function (fEvent, styles, objectStyles, stylesWithMultipleValues) {\r\n    this.updateControls(styles, objectStyles, stylesWithMultipleValues);\r\n  };\r\n\r\n\r\n  /**\r\n   * Get styles of current control\r\n   *\r\n   * @param {fabric.Event} [fEvent]\r\n   * @param {fabric.Object} [tool]\r\n   * @param {Object} result\r\n   * @private\r\n   */\r\n  BaseTextOptionTool.prototype._onGetStyles = function (fEvent, tool, result) {\r\n    result = result || {};\r\n\r\n    //@todo get active style\r\n\r\n    result.defaultValues = $.extend(true, {}, result.defaultValues || {}, this.options.defaultValues || {});\r\n  };\r\n\r\n  /**\r\n   * Fill controls with data\r\n   * @param {Object} [styles]\r\n   * @param {Object} [objectStyles]\r\n   * @param {Array} [stylesWithMultipleValues]\r\n   */\r\n  BaseTextOptionTool.prototype.updateControls = function (styles, objectStyles, stylesWithMultipleValues) {\r\n    styles = styles || this._lastData || {};\r\n    objectStyles = objectStyles || {};\r\n    stylesWithMultipleValues = stylesWithMultipleValues || [];\r\n\r\n    var _self = this,\r\n        $toolControl = this.$toolControl;\r\n    if ($toolControl) {\r\n      var $allControls = $toolControl.find('.controls-value-item');\r\n      $allControls.each(function (i, currElement) {\r\n        var $currElement = $(currElement),\r\n            isInputType = $currElement.is('input, select, textarea'),\r\n            currValueName = $currElement.data('name'),\r\n            defaultValue = _self._defaultOptions.defaultValues[currValueName],\r\n            inheritedValue = objectStyles[currValueName],\r\n            multipleValues = stylesWithMultipleValues.indexOf(currValueName) !== -1,\r\n            currValueIsInvalid = styles[currValueName] === undefined,\r\n            neededValue = styles[currValueName] !== undefined ? styles[currValueName] : inheritedValue || defaultValue;\r\n\r\n        if (multipleValues) {\r\n          neededValue = '';\r\n        }\r\n\r\n        if (isInputType) {\r\n          $currElement.val(neededValue);\r\n        }\r\n\r\n        _self._updateClasses(currValueIsInvalid, currValueIsInvalid && neededValue === inheritedValue, multipleValues);\r\n\r\n        $toolControl.toggleClass('option-value-invalid', !!currValueIsInvalid);\r\n        $toolControl.toggleClass('option-value-multiple', !!multipleValues);\r\n        $toolControl.toggleClass('option-value-inherited', !!(currValueIsInvalid && neededValue === inheritedValue));\r\n\r\n        var haveError = currValueIsInvalid || multipleValues,\r\n            inheritedClassString = currValueIsInvalid && neededValue === inheritedValue ? ' option-value-inherited ' : '',\r\n            invalidClassString = currValueIsInvalid ? ' option-value-invalid ' : '',\r\n            multipleClassString = multipleValues ? ' option-value-multiple ' : '',\r\n            classString = '' + inheritedClassString + invalidClassString + multipleClassString ;\r\n\r\n        if ($currElement.data('comboBox')) {\r\n          $currElement.data('comboBox').updateSelectedValues(neededValue, classString);\r\n        } else {\r\n          $currElement.trigger('valueChanged', [{\r\n            value: neededValue,\r\n            valueName: currValueName,\r\n            inherited: currValueIsInvalid || neededValue === inheritedValue,\r\n            multipleValues: multipleValues,\r\n            classString: classString\r\n          }]);\r\n        }\r\n\r\n        _self.updateSingleControl(currValueName, neededValue);\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Update indicator classes\r\n   * @param {Boolean} [valueIsInvalid] - control have invalid value\r\n   * @param {Boolean} [valueIsInherited] - control have value inherited from object\r\n   * @param {Boolean} [valueIsMultiple] - current selection have multiple values for current style\r\n   * @private\r\n   */\r\n  BaseTextOptionTool.prototype._updateClasses = function (valueIsInvalid, valueIsInherited, valueIsMultiple) {\r\n    this.$toolControl.toggleClass('option-value-invalid', !!valueIsInvalid);\r\n    this.$toolControl.toggleClass('option-value-multiple', !!valueIsInherited);\r\n    this.$toolControl.toggleClass('option-value-inherited', !!valueIsMultiple);\r\n  };\r\n\r\n  /**\r\n   * React on edit mode entering\r\n   * @param  {String} valueName\r\n   * @param  {*} value\r\n   */\r\n  BaseTextOptionTool.prototype.updateSingleControl = function (valueName, value) {\r\n\r\n  };\r\n\r\n  /**\r\n   * Apply styles\r\n   * @param {object.<string>} [styles] - Styles object\r\n   */\r\n  BaseTextOptionTool.prototype.setStyles = function (styles) {\r\n    //@TODO refactor - to many render\r\n    styles = styles || this._lastData || this.getStylesFromControls();\r\n\r\n    var currText = this.drawer.fCanvas.getActiveObject();\r\n    if (currText) {\r\n      var selectionIsEmpty = currText.selectionEnd === currText.selectionStart;\r\n      if (selectionIsEmpty) {\r\n        this.drawer.setTemporaryStyles(styles);\r\n      } else {\r\n        this.drawer.setTemporaryStyles();\r\n        if (this.stylesToObject) {\r\n          for (var styleName in styles) {\r\n            currText[styleName] = styles[styleName];\r\n          }\r\n        } else {\r\n          currText.setSelectionStyles(styles);\r\n        }\r\n      }\r\n      this._lastData = styles;\r\n      if (this.focusTextOnChange) {\r\n        if (this.comboBox) {\r\n          this.comboBox.hideDropdown();\r\n        }\r\n        if (currText.hiddenTextarea) {\r\n          currText.hiddenTextarea.focus();\r\n        }\r\n      }\r\n      currText.canvas.renderAll();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Validate and normalize value\r\n   * @param {*} value\r\n   * @param {string} valueName\r\n   * @param {boolean} [doNotUseDefault]\r\n   * @return {*} result - normalized value\r\n   */\r\n\r\n  BaseTextOptionTool.prototype.normalizeValue = function (value, valueName, doNotUseDefault) {\r\n    var result,\r\n        defaultValue = !doNotUseDefault ? this.options.defaultSize : undefined,\r\n        validValue = this.validateValue(value, valueName),\r\n        overrideWithDefault = !validValue;\r\n\r\n    result = overrideWithDefault ? defaultValue : value;\r\n\r\n    if (this.minValue && this.minValue[valueName] !== undefined) {\r\n      result = result < this.minValue[valueName] ? this.minValue[valueName] : result;\r\n    }\r\n\r\n    if (this.maxValue && this.maxValue[valueName] !== undefined) {\r\n      result = result > this.maxValue[valueName] ? this.maxValue[valueName] : result;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Attach events for control element\r\n   * @private\r\n   */\r\n  BaseTextOptionTool.prototype._attachEvents = function () {\r\n    if (this.$toolControl) {\r\n      this.$toolControl.on('input change toolbarOptionChange', this.onInputChange.bind(this));\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Create controls\r\n   * @returns {string} result - html of controls\r\n   */\r\n  BaseTextOptionTool.prototype.generateControlHtml = function () {\r\n    var result = '';\r\n\r\n    if (this.controlTemplate) {\r\n      if (typeof this.controlTemplate === 'function') {\r\n        result = this.controlTemplate();\r\n      } else {\r\n        result = this.controlTemplate;\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Create controls.\r\n   * @param  {DrawerToolbar} toolbar to add control to\r\n   * @param  {Function} [changeCallback]\r\n   */\r\n  BaseTextOptionTool.prototype.createControls = function (toolbar, changeCallback) {\r\n    this.changeCallback = changeCallback;\r\n\r\n    var toolControlHtml = this.generateControlHtml();\r\n    this.$toolControl = $(toolControlHtml);\r\n\r\n    toolbar.addControl(this.$toolControl, this.options.buttonOrder);\r\n    this.setupControl(toolbar, this.$toolControl, changeCallback);\r\n    this._attachEvents();\r\n\r\n    return this.$toolControl;\r\n  };\r\n\r\n  /**\r\n   * Create controls.\r\n   * @param  {DrawerToolbar} toolbar - to add control to\r\n   * @param  {jQuery} [$toolControl] - tool control element\r\n   * @param  {Function} [changeCallback]\r\n   */\r\n  BaseTextOptionTool.prototype.setupControl = function (toolbar, $toolControl, changeCallback) {\r\n  };\r\n\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {String} pluginName - name of plugin\r\n   * @returns {Object}\r\n   * @private\r\n   */\r\n  BaseTextOptionTool.prototype._collectDefaultOptions = function (pluginName) {\r\n    var textConfig = this.drawer.getPluginConfig('Text'),\r\n        result = {\r\n          predefined: $.extend(true, {}, textConfig.predefined || {}),\r\n          defaultValues: $.extend(true, {}, textConfig.defaultValues || {})\r\n        };\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Process options\r\n   * @param {Object} [defaultOptions]\r\n   * @param {Object} [options]\r\n   * @param {Object} [optionsFromDrawer]\r\n   * @param {Object} [result]\r\n   * @returns {Object}\r\n   * @private\r\n   */\r\n  BaseTextOptionTool.prototype._onOptionsSetup = function (defaultOptions, options, optionsFromDrawer, result) {\r\n    options = options || {};\r\n    defaultOptions = defaultOptions || {};\r\n    optionsFromDrawer = optionsFromDrawer || {};\r\n\r\n    var valueName,\r\n        defVal,\r\n        drawVal,\r\n        optVal;\r\n\r\n    /**\r\n     * Because https://bugs.jquery.com/ticket/9477\r\n     * Bug - extend (deep) merges arrays fields instead of replacing them\r\n     * **/\r\n    for (valueName in result.predefined) {\r\n      defVal = (defaultOptions.predefined && defaultOptions.predefined[valueName]);\r\n      drawVal = (optionsFromDrawer.predefined && optionsFromDrawer.predefined[valueName]);\r\n      optVal = (options.predefined && options.predefined[valueName]);\r\n      result.predefined[valueName] = optVal !== undefined && optVal !== false ? optVal :\r\n          drawVal !== undefined && drawVal !== false ? drawVal :\r\n          defVal !== undefined && defVal !== false ? defVal : [];\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Handle change of values via controls\r\n   * @param  {Event} e - Event that modifies control's values\r\n   * @private\r\n   * @todo rename as private\r\n   */\r\n  BaseTextOptionTool.prototype.onInputChange = function (e) {\r\n    var valueFromEvent;\r\n    valueFromEvent = this.getStylesFromChangeEvent(e);\r\n    if (!valueFromEvent) {\r\n      this.getStylesFromControls();\r\n    }\r\n    this.setStyles(valueFromEvent);\r\n    this._updateClasses();\r\n  };\r\n\r\n  /**\r\n   * Collect data from change event\r\n   * @param  {Event} e - event that modifies control's values\r\n   */\r\n  BaseTextOptionTool.prototype.getStylesFromChangeEvent = function (e) {\r\n\r\n  };\r\n\r\n  /**\r\n   * Collect data from controls\r\n   * @returns {Object}\r\n   */\r\n  BaseTextOptionTool.prototype.getStylesFromControls = function () {\r\n    var _self = this,\r\n        result = {},\r\n        $toolControl = this.$toolControl;\r\n    if ($toolControl) {\r\n      var $allControls = $toolControl.find('input, select, textarea');\r\n      $allControls.each(function (i, currElement) {\r\n        var $currElement = $(currElement),\r\n            currValueName = $currElement.data('name'),\r\n            currValue = $currElement.val(),\r\n            validatedValue = _self.normalizeValue(currValue, currValueName);\r\n\r\n        if (currValueName !== undefined && currValue !== undefined) {\r\n          result[currValueName] = validatedValue;\r\n        }\r\n      });\r\n    }\r\n    this._lastData = result;\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Validates value\r\n   * @param {*} value\r\n   * @param {string} valueName\r\n   * @param {Boolean} [strictMode]\r\n   * @return {boolean}\r\n   */\r\n\r\n  BaseTextOptionTool.prototype.validateValue = function (value, valueName, strictMode) {\r\n    var valueIsValid,\r\n        checkForMatchWithPredefined = this.onlyPredefined && this.predefined && this.predefined[valueName],\r\n        equalToPredefinedValue = checkForMatchWithPredefined && this.predefined[valueName].indexOf(value) !== -1;\r\n\r\n    switch (this.valueType[valueName]) {\r\n      case 'number':\r\n        value = parseFloat(value);\r\n        valueIsValid = typeof value === 'number' && isFinite(value);\r\n        break;\r\n      case 'string':\r\n        valueIsValid = typeof value === 'string';\r\n        break;\r\n      case 'color':\r\n        var isString = typeof value === 'string',\r\n            isColorInstance = value instanceof fabric.Color;\r\n        valueIsValid = strictMode ? isColorInstance : isString;\r\n        break;\r\n      default :\r\n        valueIsValid = value !== undefined;\r\n        break;\r\n    }\r\n\r\n    valueIsValid = checkForMatchWithPredefined ? (valueIsValid && equalToPredefinedValue) : valueIsValid;\r\n    return valueIsValid;\r\n  };\r\n\r\n  /**\r\n   * Hides controls\r\n   */\r\n  BaseTextOptionTool.prototype.hideControls = function () {\r\n    if (this.$toolControl) {\r\n      this.$toolControl.addClass('hidden');\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Shows controls\r\n   * @param {Boolean} [withUpdate] - need to update controls\r\n   * @param  {fabric.Object} [tool] - for styles collecting\r\n   */\r\n  BaseTextOptionTool.prototype.showControls = function (withUpdate, tool) {\r\n    if (withUpdate) {\r\n      tool = tool || this.drawer.fCanvas.getActiveObject();\r\n      var currentStyles = tool.getSelectionStyles(),\r\n          objStyles = tool.getObjStyles();\r\n      this.updateControls(currentStyles ,objStyles);\r\n    }\r\n    if (this.$toolControl) {\r\n      this.$toolControl.removeClass('hidden');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Removes tool\r\n   */\r\n  BaseTextOptionTool.prototype.remove = function () {\r\n    if (this.$toolControl) {\r\n      this.$toolControl.remove();\r\n    }\r\n  };\r\n\r\n  /** @TODO check\r\n   * Set listeners for clicks - to properly close controls on outside clicks\r\n   * @private\r\n   */\r\n  BaseTextOptionTool.prototype._setGlobalClickHandler = function () {\r\n    var self = this,\r\n        $html = $('html');\r\n\r\n    $html.off('click.textOptionTool').on('click.textOptionTool', function (e) {\r\n      self.hideControls();\r\n    });\r\n  };\r\n\r\n  pluginsNamespace.BaseTextOptionTool = BaseTextOptionTool;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.plugins.BaseToolOptions, DrawerJs.util));\r\n(function ($, DrawerApi, util) {\r\n  'use strict';\r\n  var emptyFunc = function(){};\r\n\r\n  /**\r\n   * Check if image have valid width/height\r\n   * @param {Image} image\r\n   * @returns {Boolean}\r\n   */\r\n  function checkImageSizes(image) {\r\n    var result = false;\r\n    if (image) {\r\n      var widthIsValid = image.naturalWidth !== undefined && image.naturalWidth !== 0,\r\n          heightIsValid = image.naturalHeight !== undefined && image.naturalHeight !== 0,\r\n          sizesAreValid = widthIsValid && heightIsValid;\r\n      result = sizesAreValid;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Set image from url as inactive background image of drawer\r\n   * @param {String} imageUrl - url of image\r\n   * @private\r\n   */\r\n  function _setImageAsInactiveBackground(imageUrl) {\r\n    var styleSelector = '.editable-canvas-not-edited',\r\n        styleRules = '' +\r\n            'background: url(' + imageUrl + ') !important;' +\r\n            'background-repeat: no-repeat !important;' +\r\n            'background-position: center !important;' +\r\n            'background-size: contain !important;';\r\n    util.addStyleToStyleSheet(styleSelector, styleRules, '#canvasInactiveImage', true);\r\n  }\r\n\r\n\r\n  /**\r\n   * Sets background image for inactive canvas from given image object.\r\n   *\r\n   * @param {Image|String} image - js Image object or url string\r\n   */\r\n  DrawerApi.prototype.setInactiveDrawerImage = function (image) {\r\n    if (image) {\r\n      var valueIsUrl = typeof image === 'string' && image.length,\r\n          valueIsImage = image instanceof Image,\r\n          valueIsValid = valueIsUrl || valueIsImage,\r\n          urlOfImage = valueIsUrl ? image : image.src,\r\n          imgIsLoaded,\r\n          imgIsValid;\r\n\r\n      if (valueIsValid) {\r\n        imgIsLoaded = valueIsImage && image.complete && checkImageSizes(image);\r\n        if (imgIsLoaded) {\r\n          _setImageAsInactiveBackground(urlOfImage);\r\n        } else {\r\n          util.loadImage(urlOfImage, null, null, true).then(function (imgFromPromise) {\r\n            imgIsValid = checkImageSizes(imgFromPromise);\r\n            if (imgIsValid) {\r\n              _setImageAsInactiveBackground(imgFromPromise.src);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n\r\n})(jQuery, DrawerJs.DrawerApi, DrawerJs.util);\r\n(function($, BaseTool, pluginsNamespace, util) {\r\n    /**\r\n     * Tool to add and upload background image to canvas.\r\n     *\r\n     * @param {DrawerJs.Drawer} drawerInstance\r\n     * Instance of {@link DrawerJs.Drawer}.\r\n     *\r\n     * @param {Object} options\r\n     * Configuration object.\r\n     *\r\n     * @param {String} [options.maxImageSizeKb='5120']\r\n     * Max size of image to upload in KB. Default is 5 MB;\r\n     * <br><br>\r\n     * If null, or 0 is set - then size is unlimited.\r\n     * Negative values are considered as 0;\r\n     *\r\n     * @param {String} [options.imagePosition='stretch']\r\n     * Positioning of background-image.\r\n     * Acceptable values are : 'center', 'stretch', 'top-left', 'top-right', 'bottom-left', 'bottom-right'\r\n     *\r\n     * @param {String[]} [options.acceptedMIMETypes=['image/jpeg', 'image/png', 'image/gif']]\r\n     * Array with accepted MIME file types.\r\n     *\r\n     * @param {String} [options.fixedBackgroundUrl]\r\n     * Url of background to display, If set - tool button will be hidden.\r\n     *\r\n     * @param {Boolean} [options.dynamicRepositionImage=true]\r\n     * If set to true - background image is dynamically smoothly resized with canvas.\r\n     * If false - background image is resized to fit canvas after canvas was resized.\r\n     *\r\n     * @param {Number} [options.dynamicRepositionImageThrottle=100]\r\n     * If options.dynamicRepositionImage is true - this is throttle time in ms for\r\n     * resizing to be done. For example 'dynamicRepositionImageThrottleL : 200'\r\n     * means that resizing background image will occur once in 200ms.\r\n     * This option greatly reduces CPU load during resize of canvas with background image.\r\n     * If set to 0 - no throttling is used, image is resized on every mouse move.\r\n     *\r\n     * @constructor\r\n     * @memberof DrawerJs.plugins\r\n     */\r\n    var BackgroundImageTool = function BackgroundImageToolConstructor(drawerInstance, options) {\r\n        // call base c-tor\r\n        BaseTool.call(this, drawerInstance);\r\n\r\n        var _this = this;\r\n        this.drawer = drawerInstance;\r\n        this.name = 'BackgroundImage';\r\n        this.btnClass = 'btn-image';\r\n        this.faClass = 'fa-image';\r\n        this.tooltip = drawerInstance.t('Insert a background image');\r\n\r\n        this._setupOptions(options);\r\n\r\n        var needsRepositionOnResize = ['stretch', 'center', 'bottom-left', 'bottom-right', 'top-right'].indexOf(this.options.imagePosition) != -1;\r\n        // add listeners on 'drawer:resize', if we need reposition image in canvas\r\n        if (needsRepositionOnResize) {\r\n            if (this.options.dynamicRepositionImage) {\r\n                var throttle = this.options.dynamicRepositionImageThrottle > 0 ? parseInt(this.options.dynamicRepositionImageThrottle) : 0;\r\n\r\n                var listener;\r\n                if (throttle) {\r\n                    // throttled listener - which do resize every X milliseconds, not immediately\r\n                    listener = this._throttle(this._repositionImage.bind(this), throttle);\r\n                } else {\r\n                    // using no throttle\r\n                    listener = this._repositionImage.bind(this);\r\n                }\r\n                // continuously call throttled listener during resize\r\n                this.drawerInstance.on(this.drawerInstance.EVENT_CANVAS_RESIZING, listener);\r\n            } else {\r\n                // call listener after canvas resize is done\r\n                this.drawerInstance.on(this.drawerInstance.EVENT_CANVAS_STOP_RESIZE, this._repositionImage.bind(this));\r\n            }\r\n        }\r\n\r\n        if (this.options.fixedBackgroundUrl) {\r\n            this.drawerInstance.on(this.drawerInstance.EVENT_CANVAS_READY, function() {\r\n                _this.loadImageFromUrl(_this.options.fixedBackgroundUrl, options, true);\r\n            });\r\n        }\r\n    };\r\n\r\n    // Derive BackgroundImageTool from BaseTool\r\n    BackgroundImageTool.prototype = Object.create(BaseTool.prototype);\r\n    BackgroundImageTool.prototype.constructor = BackgroundImageTool;\r\n\r\n    /**\r\n     * Default options.\r\n     */\r\n    BackgroundImageTool.prototype._defaultOptions = {\r\n        cropIsActive: true,\r\n        maxImageSizeKb : 5120, // 5 MB\r\n        imagePosition : 'stretch',\r\n        dynamicRepositionImage : true,\r\n        dynamicRepositionImageThrottle : 100,\r\n        acceptedMIMETypes: ['image/jpeg', 'image/png', 'image/gif']\r\n    };\r\n\r\n\r\n    /**\r\n     * Tool activation method.\r\n     * Is called in lifecycle of event Drawer.EVENT_DO_ACTIVATE_TOOL.\r\n     * Calls  BaseTool._activateTool .\r\n     *\r\n     * @private\r\n     */\r\n    BackgroundImageTool.prototype._activateTool = function() {\r\n        var _this = this;\r\n        this.drawerInstance.log('TOOL', 'BackgroundImageTool._activateTool()');\r\n        BaseTool.prototype._activateTool.call(this);\r\n\r\n        this._showDialog();\r\n\r\n        // deactivate tool. Slight delay is needed, because without it\r\n        // tool is deactivated before listeners on EVENT_DO_ACTIVATE_TOOL in drawer are executed\r\n        // which lead to incorrect way of setting drawer.lastUsedPluginName\r\n        util.setTimeout(function () {\r\n          _this.drawerInstance.trigger(_this.drawerInstance.EVENT_DO_DEACTIVATE_TOOL, [_this]);\r\n        }, 300);\r\n\r\n    };\r\n\r\n\r\n    /**\r\n     * Shows file open dialog\r\n     * @private\r\n     */\r\n    BackgroundImageTool.prototype._showDialog = function() {\r\n        var acceptedMIMEStr = this.options.acceptedMIMETypes.join(',');\r\n        $el = $('<input type=\"file\" accept=\"' + acceptedMIMEStr + '\">');\r\n        $el.on('change', this._processFileInput.bind(this));\r\n\r\n        $el.click();\r\n\r\n    };\r\n\r\n    /**\r\n     * Callback to process user selected files.\r\n     *\r\n     * @param {Event} e\r\n     * @private\r\n     */\r\n    BackgroundImageTool.prototype._processFileInput = function(e)  {\r\n        var _this = this;\r\n        var files = e.target.files;\r\n\r\n        // check there was file chosen\r\n        if (files.length < 1) {\r\n            _this.drawerInstance.showError(this.drawerInstance.t('No file selected.'));\r\n            return;\r\n        }\r\n        var file = files[0];\r\n\r\n        // check file\r\n        if (!this._checkFile(file)) {\r\n            return;\r\n        }\r\n\r\n        var triggerImageCrop = this.options.cropIsActive && this.drawer._pluginsInstances.ImageCrop;\r\n      if (triggerImageCrop) {\r\n          this.readFile(file, this._triggerImageCrop.bind(this));\r\n        } else {\r\n          this.readFile(file, this.loadImageFromUrl.bind(this));\r\n        }\r\n    };\r\n\r\n\r\n  /**\r\n   * Init image cropper\r\n   *\r\n   * @param {string} imageSrc src of image, can be base64 encoded url\r\n   * @param {Object} [options] - options of placement\r\n   */\r\n  BackgroundImageTool.prototype._triggerImageCrop = function (imageSrc, options) {\r\n    var dataToEvent = {\r\n      url: imageSrc,\r\n      callback: this.loadImageFromUrl.bind(this)\r\n    };\r\n    this.drawerInstance.trigger(this.drawerInstance.EVENT_IMAGE_CROP, dataToEvent);\r\n  };\r\n\r\n    /**\r\n     * Reads file, on success - calls callback with result\r\n     * @param {File}     file\r\n     * @param {function} callback\r\n     */\r\n    BackgroundImageTool.prototype.readFile = function(file, callback) {\r\n        var _this = this;\r\n        var fileReader = new FileReader();\r\n        // on file load - call callbcack, which will create HTML5 Image from it\r\n        fileReader.onload = function (onloadEvent) {\r\n            _this.drawerInstance.log('IMAGE LOADED:', file.name);\r\n            callback(fileReader.result);\r\n        };\r\n\r\n        fileReader.readAsDataURL(file);\r\n    };\r\n\r\n\r\n    /**\r\n     * Makes some checks  to file.\r\n     *\r\n     * @param {File} file\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    BackgroundImageTool.prototype._checkFile = function(file) {\r\n        var _this = this;\r\n        // crude check of file type\r\n        if(file.type.indexOf('image') < 0) {\r\n            _this.drawerInstance.showError(this.drawerInstance.t('Incorrect file type.'));\r\n            return false;\r\n        }\r\n\r\n        // check for maxSize\r\n        if ((this.options.maxImageSizeKb > 0) &&\r\n            (file.size > this.options.maxImageSizeKb * 1024)) {\r\n            var err = this.drawerInstance.t('File is to big!. Maximum file size is ');\r\n            err = err + this.options.maxImageSizeKb + ' KB';\r\n            _this.drawerInstance.showError(err);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n\r\n    /**\r\n     * Creates image from data, then calld makeImageBackground()\r\n     *\r\n     * @param {string} imageSrc src of image, can be base64 encoded url\r\n     * @param {Object} [options] - options of placement\r\n     * @param {Boolean} [throwError] - throw/ignore errors\r\n     */\r\n    BackgroundImageTool.prototype.loadImageFromUrl = function(imageSrc, options, throwError) {\r\n        var _this = this;\r\n        var image = new Image();\r\n\r\n        // after Image was created from file imageSrc- create fabric.Image from it\r\n        image.onload = function() {\r\n            _this.makeImageBackground(image, options);\r\n        };\r\n\r\n        // show error on fail\r\n        if (throwError) {\r\n          image.onerror = function() {\r\n            var err = _this.drawerInstance.t('Image failed to create!');\r\n            _this.drawerInstance.showError(err);\r\n          };\r\n        }\r\n\r\n        // this will start creating image\r\n        image.src = imageSrc;\r\n    };\r\n\r\n\r\n    /**\r\n     * Makes given image background.\r\n     * Position of background image depends on options.\r\n     */\r\n    BackgroundImageTool.prototype.makeImageBackground = function(image, options) {\r\n        var _this = this;\r\n        var fCanvas = this.drawerInstance.fCanvas;\r\n        var fabricImage = new fabric.Image(image);\r\n\r\n        // if no options - use tool config options\r\n        options = options ? options : this.options;\r\n        // calc coords of image\r\n        var positionOpts = this._calcPositioningOptions(fabricImage, options.imagePosition);\r\n\r\n        fCanvas.setBackgroundImage(fabricImage, function() {\r\n                                      fCanvas.renderAll();\r\n                                    },\r\n                                    positionOpts);\r\n    };\r\n\r\n\r\n    /**\r\n     * Returns background image positioning options.\r\n     *\r\n     * @param  {fabric.Image} bgImage backgroundImage\r\n     * @param  {String} imagePosition\r\n     * @return {Object}\r\n     */\r\n    BackgroundImageTool.prototype._calcPositioningOptions = function(bgImage, imagePosition) {\r\n        var fCanvas = this.drawerInstance.fCanvas;\r\n\r\n        var opts = {};\r\n        switch (imagePosition) {\r\n            case 'stretch' :\r\n                opts.left = 0;\r\n                opts.top  = 0;\r\n                opts.width  = fCanvas.width;\r\n                opts.height = fCanvas.height;\r\n            break;\r\n            case 'center' :\r\n                opts.originX = 'center';\r\n                opts.originY = 'center';\r\n                opts.left = fCanvas.getCenter().left;\r\n                opts.top  = fCanvas.getCenter().top;\r\n            break;\r\n            case 'top-left' :\r\n                opts.left = 0;\r\n                opts.top  = 0;\r\n            break;\r\n            case 'top-right' :\r\n                opts.left = fCanvas.width - bgImage.width;\r\n                opts.top  = 0;\r\n            break;\r\n            case 'bottom-left' :\r\n                opts.left = 0;\r\n                opts.top  = fCanvas.height - bgImage.height;\r\n            break;\r\n            case 'bottom-right' :\r\n                opts.left = fCanvas.width - bgImage.width;\r\n                opts.top  = fCanvas.height - bgImage.height;\r\n            break;\r\n            case 'default' :  // unknown option, will be 'stretch'  then\r\n                opts.left = 0;\r\n                opts.top  = 0;\r\n                opts.width  = fCanvas.width;\r\n                opts.height = fCanvas.height;\r\n        }\r\n\r\n        return opts;\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * If option options.imagePosition == 'stretch' || 'center' || 'top-right' || 'bottom-left' || 'bottom-right',\r\n     * this method do reposition of background image.\r\n     * Is called on every resize.\r\n     *\r\n     * @private\r\n     */\r\n    BackgroundImageTool.prototype._repositionImage = function() {\r\n        var fCanvas = this.drawerInstance.fCanvas;\r\n        if (!fCanvas.backgroundImage)\r\n            return;\r\n\r\n        var bgImage = fCanvas.backgroundImage;\r\n\r\n        var opts = {};\r\n        switch (this.options.imagePosition) {\r\n            case 'stretch' :\r\n                opts.width  = fCanvas.width;\r\n                opts.height = fCanvas.height;\r\n            break;\r\n            case 'center' :\r\n                opts.originX = 'center';\r\n                opts.originY = 'center';\r\n                opts.left = fCanvas.getCenter().left;\r\n                opts.top  = fCanvas.getCenter().top;\r\n            break;\r\n            case 'top-right' :\r\n                opts.left = fCanvas.width - bgImage.width;\r\n                opts.top  = 0;\r\n            break;\r\n            case 'bottom-right' :\r\n                opts.left = fCanvas.width - bgImage.width;\r\n                opts.top  = fCanvas.height - bgImage.height;\r\n            break;\r\n            default:\r\n                return;\r\n        }\r\n\r\n        bgImage.set(opts);\r\n        bgImage.setCoords();\r\n\r\n        fCanvas.renderAll();\r\n    };\r\n\r\n\r\n    /**\r\n    *  Hides tool button, in case of fixed background.\r\n    */\r\n    BackgroundImageTool.prototype.createButton = function(toolbar) {\r\n        // create no button if background is fixed\r\n        if (!this.options.fixedBackgroundUrl) {\r\n            BaseTool.prototype.createButton.call(this, toolbar);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * Throttle function, used to throttle image resize.\r\n     * source code : https://learn.javascript.ru/task/throttle\r\n     *\r\n     * @param {function} func\r\n     * @param {Number} ms\r\n     * @returns {function}\r\n     * @private\r\n     */\r\n    BackgroundImageTool.prototype._throttle = function(func, ms) {\r\n        var isThrottled = false,\r\n            savedArgs,\r\n            savedThis;\r\n\r\n        function wrapper() {\r\n            if (isThrottled) { // (2)\r\n                savedArgs = arguments;\r\n                savedThis = this;\r\n                return;\r\n            }\r\n\r\n\r\n            func.apply(this, arguments); // (1)\r\n\r\n            isThrottled = true;\r\n            util.setTimeout(function () {\r\n                isThrottled = false; // (3)\r\n                if (savedArgs) {\r\n                    wrapper.apply(savedThis, savedArgs);\r\n                    savedArgs = savedThis = null;\r\n                }\r\n            }, ms);\r\n        }\r\n        return wrapper;\r\n    };\r\n\r\n    pluginsNamespace.BackgroundImage = BackgroundImageTool;\r\n\r\n}(jQuery, DrawerJs.plugins.BaseTool, DrawerJs.plugins, DrawerJs.util));\r\n\r\n(function(DrawerApi) {\r\n\r\n    /**\r\n     * Sets background image from given url.\r\n     *\r\n     * @param {String} imageUrl\r\n     * @param {Object} placement options\r\n     */\r\n    DrawerApi.prototype.setBackgroundImageFromUrl = function(imageUrl, options, callback) {\r\n        this.drawer.api.checkIsActive();\r\n        var tool = this.drawer.getPluginInstance('BackgroundImage');\r\n        tool.loadImageFromUrl(imageUrl, options);\r\n    };\r\n\r\n    /**\r\n     * Sets background image from given image object.\r\n     *\r\n     * @param {Image}   image\r\n     * @param {Object} placement options\r\n     */\r\n    DrawerApi.prototype.setBackgroundImage = function(image, options) {\r\n        this.drawer.api.checkIsActive();\r\n        var tool = this.drawer.getPluginInstance('BackgroundImage');\r\n        tool.makeImageBackground(image, options);\r\n    };\r\n\r\n\r\n})(DrawerJs.DrawerApi);\r\n(function ($, BaseBrush, pluginsNamespace, util) {\r\n  /**\r\n   * Provides a a simple eraser button which activates free drawing mode and\r\n   * makes a brush with white color.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @param {number} options.brushSize\r\n   * Eraser default brush size\r\n   *\r\n   * @param {String} options.cursorUrl\r\n   * Custom CSS url for eraser cursor.\r\n   *\r\n   * Example:\r\n   * <code><pre>url(path/to/cursor.cur), default</pre></code>\r\n   *\r\n   * Note the word 'default' at the end: that is the name of cursor that will\r\n   * be used when url is unavailable.\r\n   *\r\n   * More information about css cursor property could be found here:\r\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/cursor}\r\n   *\r\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/cursor}\r\n   *\r\n   * @memberof DrawerJs.plugins\r\n   * @augments DrawerJs.plugins.BaseBrush\r\n   * @constructor\r\n   */\r\n  var SimpleWhiteEraser = function SimpleWhiteEraserPlugin(drawerInstance,\r\n                                                           options) {\r\n    var _this = this;\r\n\r\n    BaseBrush.call(_this, drawerInstance);\r\n\r\n    this.name = 'SimpleWhiteEraser';\r\n    this.btnClass = 'btn-simple-eraser';\r\n    this.faClass = 'fa-eraser';\r\n    this.tooltip = drawerInstance.t('SimpleWhiteEraser');\r\n\r\n    _this._defaultOptions = {\r\n      brushSize: 3,\r\n      cursorUrl: 'eraser'\r\n    };\r\n\r\n    this._setupOptions(options);\r\n\r\n    if (_this.options.cursorUrl == 'eraser') {\r\n      var drawerFolderUrl = util.getDrawerFolderUrl();\r\n      if(drawerFolderUrl){\r\n        _this.options.cursorUrl = 'url(' + drawerFolderUrl +\r\n        'assets/cursor-fa-eraser.cur), default';\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Color value before eraser tool.\r\n     * @type {String}\r\n     */\r\n    this.previousColor = null;\r\n\r\n    /**\r\n     * BrushSize before eraser tool. Used to separate eraser brush size from\r\n     * other brushes.\r\n     * @type {Number}\r\n     */\r\n    this.previousBrushSize = null;\r\n\r\n    /**\r\n     * Last used eraser brush size. Used to restore eraser size after another\r\n     * brush tool.\r\n     * @type {Number}\r\n     */\r\n    this.savedBrushSize = this.options.brushSize;\r\n  };\r\n\r\n  SimpleWhiteEraser.prototype = Object.create(BaseBrush.prototype);\r\n  SimpleWhiteEraser.prototype.constructor = SimpleWhiteEraser;\r\n\r\n  /**\r\n   * This method is called in BaseBrush._activateTool()\r\n   * Children of BaseBrush MUST implement afterActivateTool().e\r\n   */\r\n  SimpleWhiteEraser.prototype.afterActivateTool = function () {\r\n    this.previousColor = this.drawerInstance.fCanvas.freeDrawingBrush.color;\r\n    this.drawerInstance.fCanvas.freeDrawingBrush.color = '#fff';\r\n    this.drawerInstance.fCanvas.freeDrawingBrush.fill = '#fff';\r\n    this.drawerInstance.fCanvas.freeDrawingBrush.opacity = this.drawerInstance.activeOpacity;\r\n\r\n    this._previousCursor = this.drawerInstance.fCanvas.freeDrawingCursor;\r\n    this.drawerInstance.fCanvas.freeDrawingCursor = this.options.cursorUrl;\r\n\r\n    this.previousBrushSize = this.drawerInstance.freeDrawingBrushSize;\r\n    this.drawerInstance.setFreeDrawingBrushSize(this.savedBrushSize);\r\n  };\r\n\r\n  /**\r\n   * This method is called in BaseBrush._deactivateTool()\r\n   * Children of BaseBrush MUST implement afterDeactivateTool().\r\n   */\r\n  SimpleWhiteEraser.prototype.afterDeactivateTool = function () {\r\n    this.drawerInstance.fCanvas.freeDrawingCursor = this._previousCursor;\r\n    this.drawerInstance.fCanvas.freeDrawingBrush.color = this.previousColor;\r\n    this.drawerInstance.fCanvas.freeDrawingBrush.fill = this.previousColor;\r\n\r\n    this.savedBrushSize = this.drawerInstance.freeDrawingBrushSize;\r\n    this.drawerInstance.setFreeDrawingBrushSize(this.previousBrushSize);\r\n  };\r\n\r\n  pluginsNamespace.SimpleWhiteEraser = SimpleWhiteEraser;\r\n\r\n}(jQuery, DrawerJs.plugins.BaseBrush, DrawerJs.plugins, DrawerJs.util));\r\n(function ($, brushes, BaseBrush, pluginsNamespace, util) {\r\n  'use strict';\r\n\r\n  var MOUSE_UP = util.mouseUp('Eraser');\r\n  var MOUSE_DOWN = util.mouseDown('Eraser');\r\n  var MOUSE_MOVE = util.mouseMove('Eraser');\r\n  var MOUSE_ENTER_CURSOR = 'mouseenter.EraserCursor';\r\n  var MOUSE_LEAVE_CURSOR = 'mouseleave.EraserCursor';\r\n\r\n  /**\r\n   * Provides an eraser which allows to erase any drawing/shapes.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @param {number} options.brushSize\r\n   * Eraser default brush size\r\n   *\r\n   * @memberof DrawerJs.plugins\r\n   *\r\n   * @constructor\r\n   * @augments DrawerJs.plugins.BaseBrush\r\n   */\r\n  var Eraser = function (drawerInstance, options) {\r\n    var _this = this;\r\n\r\n    BaseBrush.call(_this, drawerInstance);\r\n\r\n    this.name = 'Eraser';\r\n    this.btnClass = 'btn-eraser';\r\n    this.faClass = 'fa-eraser';\r\n    this.tooltip = drawerInstance.t('Eraser');\r\n\r\n    this.separatePathOnShapes = true;\r\n\r\n    _this._defaultOptions = {\r\n      cursorUrl: 'none',\r\n      brushSize: 3,\r\n      useCoordsQueue: false\r\n    };\r\n\r\n    this._setupOptions(options);\r\n\r\n    /**\r\n     * List of tool options to show when tool is activated.\r\n     * Deviating from BaseShape tool, Line has no 'color', only 'border'.\r\n     * @type {String[]}\r\n     */\r\n    this.toolOptionsList = ['brushSize'];\r\n\r\n    /**\r\n     *\r\n     * @type {boolean}\r\n     */\r\n    this.forceOptionsHide = true;\r\n\r\n    /**\r\n     * Color value before eraser tool.\r\n     * @type {String}\r\n     */\r\n    this.previousColor = null;\r\n\r\n    /**\r\n     * BrushSize before eraser tool. Used to separate eraser brush size from\r\n     * other brushes.\r\n     * @type {Number}\r\n     */\r\n    this.previousBrushSize = null;\r\n\r\n    /**\r\n     * Last used eraser brush size. Used to restore eraser size after another\r\n     * brush tool.\r\n     * @type {Number}\r\n     */\r\n    this.savedBrushSize = this.options.brushSize;\r\n\r\n    /**\r\n     * Boolean flag showing if we are in erasing mode\r\n     * @type {Boolean}\r\n     */\r\n    this.erasingNow = false;\r\n\r\n    /**\r\n     * Eraser brush\r\n     * @type {fabric.Brush}\r\n     */\r\n    this.brush = null;\r\n  };\r\n\r\n\r\n  Eraser.prototype = Object.create(BaseBrush.prototype);\r\n  Eraser.prototype.constructor = Eraser;\r\n\r\n\r\n  ////// STATR/STOP TOOL METHODS ////////////////////////////////////////////////////////////////////\r\n  /**\r\n   * This method is called in BaseBrush._activateTool()\r\n   * Children of BaseBrush MUST implement afterActivateTool()\r\n   */\r\n  Eraser.prototype.afterActivateTool = function () {\r\n    var drw = this.drawerInstance;\r\n    var fCanvas = drw.fCanvas;\r\n\r\n    // set cursor\r\n    this._previousCursor = drw.fCanvas.freeDrawingCursor;\r\n    drw.fCanvas.freeDrawingCursor = this.options.cursorUrl;\r\n\r\n    // set eraser brush\r\n    this.brush = this._createBrush();\r\n    drw.setBrush(this.brush);\r\n\r\n    // on brush size change - update our cursor size\r\n    drw.on(drw.EVENT_BRUSH_SIZE_CHANGED, this._updateCursorShapeSize.bind(this));\r\n\r\n    // set all mouse handlers:\r\n    // handle mouse move while tool is active\r\n    $(fCanvas.upperCanvasEl).on(MOUSE_MOVE,  this._onMouseMove.bind(this));\r\n\r\n    // handle mouse down and mouse up\r\n    $(fCanvas.upperCanvasEl).on(MOUSE_DOWN, this._onMouseDown.bind(this));\r\n    $(fCanvas.upperCanvasEl).on(MOUSE_UP, this._onMouseUp.bind(this));\r\n\r\n    // create cursor\r\n    this._createEraserCursorShape();\r\n\r\n    // handle mouse leave / enter canvas (to hide/show cursor)\r\n    $(fCanvas.upperCanvasEl).on(MOUSE_ENTER_CURSOR, this._showEraserCursorShape.bind(this));\r\n    $(fCanvas.upperCanvasEl).on(MOUSE_LEAVE_CURSOR, this._hideEraserCursorShape.bind(this));\r\n\r\n\r\n    // on eraser path created - do work\r\n    fCanvas.on('path:created', this._onEraserPathCreated.bind(this));\r\n  };\r\n\r\n\r\n  /**\r\n   * After tool deactivation - remove all event handlers\r\n   * This method is called in BaseBrush._activateTool()\r\n   * Children of BaseBrush MUST implement afterDeactivateTool.\r\n   */\r\n  Eraser.prototype.afterDeactivateTool = function () {\r\n    var fCanvas = this.drawerInstance.fCanvas;\r\n\r\n    // switch erasing off\r\n    this.erasingNow = false;\r\n\r\n    fCanvas.off('path:created');\r\n\r\n    // restore cursor\r\n    fCanvas.freeDrawingCursor = this._previousCursor;\r\n    // remove cursorShape\r\n    this._removeEraserCursorShape();\r\n\r\n    $(fCanvas.upperCanvasEl).off(MOUSE_MOVE);\r\n    $(fCanvas.upperCanvasEl).off(MOUSE_UP);\r\n    $(fCanvas.upperCanvasEl).off(MOUSE_DOWN);\r\n\r\n    $(fCanvas.upperCanvasEl).off(MOUSE_ENTER_CURSOR);\r\n    $(fCanvas.upperCanvasEl).off(MOUSE_LEAVE_CURSOR);\r\n  };\r\n\r\n\r\n  /**\r\n   * Create eraser brush\r\n   */\r\n  Eraser.prototype._createBrush = function () {\r\n    var brush = new brushes.EraserBrush(this.drawerInstance.fCanvas);\r\n\r\n    brush.color = '#fff';\r\n    brush.opacity = this.drawerInstance.activeOpacity;\r\n    brush.width = this.options.brushSize;\r\n\r\n    return brush;\r\n  };\r\n\r\n\r\n  ////// ERASER CURSOR METHODS //////////////////////////////////////////////////////////////////////\r\n  /**\r\n   * Create shape, that will be used as eraser cursor\r\n   */\r\n  Eraser.prototype._createEraserCursorShape = function () {\r\n    // eraser shape setup\r\n    var eraserPolyRadius = this.drawerInstance.getBrushSize() / 2;\r\n\r\n    this.eraserCursorShape = new fabric.PCircle({\r\n      radius: eraserPolyRadius\r\n    });\r\n\r\n    this.drawerInstance.fCanvas.add(this.eraserCursorShape);\r\n\r\n    this.eraserCursorShape.isEraserBrush = true;\r\n    this.eraserCursorShape.set('fill', 'transparent');\r\n    this.eraserCursorShape.set('stroke', 'black');\r\n    this.eraserCursorShape.set('strokeWidth', 1);\r\n    this.eraserCursorShape.set('originX', 'center');\r\n    this.eraserCursorShape.set('originY', 'center');\r\n\r\n    this._updateCursorShapeSize();\r\n  };\r\n\r\n\r\n  /**\r\n   * Remove eraser shape, that was used as eraser cursor\r\n   */\r\n  Eraser.prototype._removeEraserCursorShape = function () {\r\n    if(this.eraserCursorShape){\r\n      this.eraserCursorShape.remove();\r\n      delete this.eraserCursorShape;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Show eraser cursor shape\r\n   */\r\n  Eraser.prototype._showEraserCursorShape = function () {\r\n    this.eraserCursorShape.set('visible', true);\r\n    this.drawerInstance.fCanvas.renderAll();\r\n  };\r\n\r\n  /**\r\n   * Hide eraser cursor shape\r\n   */\r\n  Eraser.prototype._hideEraserCursorShape = function () {\r\n    this.eraserCursorShape.set('visible', false);\r\n    this.drawerInstance.fCanvas.renderAll();\r\n  };\r\n\r\n\r\n  /**\r\n   * Update our cursor shape size to be same as brush size\r\n   */\r\n  Eraser.prototype._updateCursorShapeSize = function () {\r\n    if (!this.eraserCursorShape) {\r\n      return;\r\n    }\r\n\r\n    var eraserPolyRadius = this.drawerInstance.getBrushSize() / 2;\r\n    var eraserPolyDashSize = (2 * Math.PI * eraserPolyRadius) / 20;\r\n    this.eraserCursorShape.set('radius', eraserPolyRadius);\r\n    this.eraserCursorShape.set('strokeDashArray', [\r\n      eraserPolyDashSize, eraserPolyDashSize\r\n    ]);\r\n  };\r\n\r\n\r\n\r\n  ////// ERASER PATH METHODS //////////////////////////////////////////////////////////////////////\r\n  /**\r\n   * After eraser path was created - apply it to all affected shapes.\r\n   * @param  {fabric.Event} e\r\n   */\r\n  Eraser.prototype._onEraserPathCreated = function (e) {\r\n    var fCanvas = this.drawerInstance.fCanvas;\r\n\r\n    e.path.set('eraserPath', true);\r\n    e.path.set('visible', true);\r\n\r\n    for (var i = 0; i < this.affectedShapes.length; i++) {\r\n      var shape = this.affectedShapes[i];\r\n      delete shape.eraserAffected;\r\n      shape.addEraserPath(e.path);\r\n    }\r\n\r\n    fCanvas.renderAll();\r\n  };\r\n\r\n\r\n  /**\r\n   * Look, which erasable objects are under eraser.\r\n   * Add them to affectedShapes[]\r\n   *\r\n   * @param {number} x\r\n   * @param {number} y\r\n   * @private\r\n   */\r\n  Eraser.prototype._affectShapesUnderCoords = function (x, y) {\r\n    var fCanvas = this.drawerInstance.fCanvas;\r\n    var allObjects = fCanvas.getObjects();\r\n\r\n    this.eraserCursorShape._lastCenterPosition = {x: x, y: y};\r\n    for (var i = 0; i < allObjects.length; i++) {\r\n      var obj = allObjects[i];\r\n      // if object is non-erasable or if already affected by our eraser- skip it\r\n      if (!obj.isErasable || obj.eraserAffected || obj.isEraserBrush)\r\n        continue;\r\n\r\n      var addPathToObject = this._checkObjectIntersection(obj, x, y);\r\n      if (addPathToObject) {\r\n        obj.eraserAffected = true;\r\n        this.affectedShapes.push(obj);\r\n      }\r\n    }\r\n  };\r\n  \r\n    /**\r\n     * Check if object is intersected with eraser brush\r\n     *\r\n     * @param {object} obj\r\n     * @param {number} x\r\n     * @param {number} y\r\n     * @private\r\n     */\r\n\r\n    Eraser.prototype._checkObjectIntersection = function (obj, x, y) {\r\n      var result,\r\n          circleObj = this.eraserCursorShape,\r\n          rectsAreIntersects = circleObj.intersectsWithObject(obj),\r\n          objContainsCenterOfBrush,\r\n          objContainsPointFromPerimeter;\r\n\r\n      if (rectsAreIntersects) {\r\n        objContainsCenterOfBrush = !obj.canvas.isTargetTransparent(obj, x, y);\r\n        if (!objContainsCenterOfBrush) {\r\n          var deltaX = circleObj._lastCenterPosition ? x - circleObj._lastCenterPosition.x : undefined,\r\n              deltaY = circleObj._lastCenterPosition ? y - circleObj._lastCenterPosition.y : undefined,\r\n              perimeterPoints = circleObj.getPerimeterPoints(deltaX, deltaY);\r\n          perimeterPoints.forEach(function (pointCoords, i) {\r\n            if (!objContainsPointFromPerimeter) {\r\n              objContainsPointFromPerimeter = !obj.canvas.isTargetTransparent(obj, pointCoords.x, pointCoords.y);\r\n            }\r\n          });\r\n        }\r\n      }\r\n      result = objContainsCenterOfBrush || objContainsPointFromPerimeter;\r\n      return result;\r\n    };\r\n\r\n\r\n  ////// MOSUE HANDLERS //////////////////////////////////////////////////////////////////////\r\n  /**\r\n   * Set erasingNow to true.\r\n   * Eraser path will start by current brush, independently.\r\n   * @param {Event} e - mouse down event\r\n   */\r\n  Eraser.prototype._onMouseDown = function (e) {\r\n    var rightClick = e.which === 3,\r\n        middleClick = e.which === 2;\r\n    if (!rightClick && !middleClick) {\r\n      // reset affectedShapes[]\r\n      this.affectedShapes = [];\r\n      // turn erasing on\r\n      this.erasingNow = true;\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * On mouse up - set erasingNow to false.\r\n   * Eraser path will be created soon, and\r\n   * main work on erasing will be  done in _onEraserPathCreated()\r\n   */\r\n  Eraser.prototype._onMouseUp = function () {\r\n    this.erasingNow = false;\r\n    this.drawerInstance.fCanvas.renderAll();\r\n  };\r\n\r\n  /**\r\n   * Listens for mouse movement when eraser is active.\r\n   *\r\n   * @param {Event} event\r\n   * @private\r\n   */\r\n  Eraser.prototype._onMouseMove =  function (event) {\r\n    // calc mouse event coords relative to canvas\r\n    var pointCoords = this.drawer.fCanvas.getPointer(event);\r\n    var left = pointCoords.x;\r\n    var top = pointCoords.y;\r\n\r\n    // move eraser shape to make it follow mouse pointer\r\n    if(this.eraserCursorShape){\r\n      // eraser shape could not be created on touch devices because there's no mouseenter events\r\n      this.eraserCursorShape.set('left', pointCoords.x);\r\n      this.eraserCursorShape.set('top', pointCoords.y);\r\n      this.eraserCursorShape.setCoords();\r\n\r\n      this.drawerInstance.fCanvas.renderAll();\r\n    }\r\n\r\n    if (this.erasingNow) {\r\n        // Look, if there are erasable shapes under cursor\r\n        if (this.separatePathOnShapes) {\r\n          this._affectShapesUnderCoords(left, top);\r\n        }\r\n    }\r\n  };\r\n\r\n\r\n\r\n  pluginsNamespace.Eraser = Eraser;\r\n\r\n}(\r\n  jQuery,\r\n  DrawerJs.brushes,\r\n  DrawerJs.plugins.BaseBrush,\r\n  DrawerJs.plugins,\r\n  DrawerJs.util\r\n));\r\n(function (namespace) {\r\n\r\n  /**\r\n   * EraserBrush class.\r\n   * The main purpose of this class is to replace created Path objects\r\n   * with custom EraserPath so canvas could know how to render them.\r\n   *\r\n   * @class EraserBrush\r\n   * @extends fabric.PencilBrush\r\n   *\r\n   * @memberof DrawerJs.brushes\r\n   */\r\n  namespace.EraserBrush = fabric.util.createClass(fabric.PencilBrush, {\r\n\r\n    /**\r\n     * Constructor\r\n     * @param {fabric.Canvas} canvas\r\n     * @return {DrawerJs.EraserBrush} Instance of a eraser brush\r\n     */\r\n    initialize: function (canvas) {\r\n      this.callSuper('initialize', canvas);\r\n    },\r\n\r\n    /**\r\n     * Overriding fabric.PencilBrush._render\r\n     * Method code is exactly copy of fabric.PencilBrush._render,\r\n     * only change is trigger events\r\n     *\r\n     * @see {fabric.PencilBrush._render}\r\n     * @private\r\n     */\r\n    _render: function () {\r\n      this.canvas.fire('pencil:move:before');\r\n      this.callSuper('_render');\r\n      this.canvas.fire('pencil:move:after');\r\n    },\r\n\r\n    /**\r\n     * Creates fabric.Path object to add on canvas\r\n     * @param {String} pathData Path data\r\n     * @return {fabric.Path} Path to add on canvas\r\n     */\r\n    createPath: function (pathData) {\r\n      var path = new fabric.EraserPath(pathData, {\r\n        fill: null,\r\n        stroke: this.color,\r\n        strokeWidth: this.width,\r\n        strokeLineCap: this.strokeLineCap,\r\n        strokeLineJoin: this.strokeLineJoin,\r\n        strokeDashArray: this.strokeDashArray,\r\n        originX: 'center',\r\n        originY: 'center'\r\n      });\r\n\r\n      if (this.shadow) {\r\n        this.shadow.affectStroke = true;\r\n        path.setShadow(this.shadow);\r\n      }\r\n\r\n      return path;\r\n    }\r\n  });\r\n\r\n})(DrawerJs.brushes);\r\n(function (global) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Path created by eraser brush.\r\n   */\r\n  fabric.EraserPath = fabric.util.createClass(fabric.Path, {\r\n\r\n    /**\r\n     * Type of an object\r\n     * @type String\r\n     * @default\r\n     */\r\n    type: 'EraserPath',\r\n\r\n    // to avoid issue in fabric.js with clipping of cached objects [bounding rect do not include brush size]\r\n    objectCaching : false,\r\n    evented : false,\r\n    selectable : false,\r\n\r\n    initialize: function (path, options) {\r\n      options = options || {};\r\n\r\n      this.polygonOffsetX = options.polygonOffsetX || null;\r\n      this.polygonOffsetY = options.polygonOffsetY || null;\r\n\r\n      this.callSuper('initialize', path, options);\r\n    },\r\n\r\n    /**\r\n     * Returns string representation of an instance\r\n     * @return {String} string representation of an instance\r\n     */\r\n    toString: function () {\r\n      return '#<fabric.EraserPath (' + this.complexity() +\r\n        '): { \"top\": ' + this.top + ', \"left\": ' + this.left + ' }>';\r\n    },\r\n\r\n    /**\r\n     * Returns object representation of an instance\r\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\r\n     * @return {Object} object representation of an instance\r\n     */\r\n    toObject: function (propertiesToInclude) {\r\n      var o = fabric.util.object.extend(\r\n        this.callSuper('toObject', propertiesToInclude), {\r\n          path: this.path.map(function (item) {\r\n            return item.slice();\r\n          }),\r\n          pathOffset: this.pathOffset\r\n        });\r\n      if (this.sourcePath) {\r\n        o.sourcePath = this.sourcePath;\r\n      }\r\n      if (this.transformMatrix) {\r\n        o.transformMatrix = this.transformMatrix;\r\n      }\r\n\r\n      if(this.polygonOffsetX && this.polygonOffsetY){\r\n        o.polygonOffsetX = this.polygonOffsetX;\r\n        o.polygonOffsetY = this.polygonOffsetY;\r\n      }\r\n\r\n      return o;\r\n    }\r\n  });\r\n\r\n  fabric.EraserPath.fromObject = function (object, callback) {\r\n    if (typeof object.path === 'string') {\r\n      fabric.loadSVGFromURL(object.path, function (elements) {\r\n        var path = elements[0],\r\n          pathUrl = object.path;\r\n\r\n        delete object.path;\r\n\r\n        fabric.util.object.extend(path, object);\r\n        path.setSourcePath(pathUrl);\r\n\r\n        callback(path);\r\n      });\r\n    }\r\n    else {\r\n      callback(new fabric.EraserPath(object.path, object));\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Indicates that instances of this type are async\r\n   * @static\r\n   * @memberOf fabric.Path\r\n   * @type Boolean\r\n   * @default\r\n   */\r\n  fabric.EraserPath.async = true;\r\n\r\n})(typeof exports !== 'undefined' ? exports : this);\r\n(function ($, BaseBrush, pluginsNamespace, util) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Provides a pencil button which activates free drawing mode.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @param {String} options.cursorUrl\r\n   * Custom CSS url for pencil cursor.\r\n   *\r\n   * 'pencil' value could be specified: in this case built-in\r\n   * pencil cursor will be user which is located in\r\n   * <code>assets/cursor-fa-pencil.cur</code>\r\n   *\r\n   * Example:\r\n   * <code><pre>url(path/to/cursor.cur), default</pre></code>\r\n   *\r\n   * Note the word 'default' at the end: that is the name of cursor that will\r\n   * be used when url is unavailable.\r\n   *\r\n   * More information about css cursor property could be found here:\r\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/cursor}\r\n   *\r\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/cursor}\r\n   *\r\n   * @param {Number} options.brushSize\r\n   * Default brush size.\r\n   *\r\n   * @memberof DrawerJs.plugins\r\n   *\r\n   * @constructor\r\n   * @augments DrawerJs.plugins.BaseBrush\r\n   */\r\n  var Pencil = function (drawerInstance, options) {\r\n    var _this = this;\r\n\r\n    BaseBrush.call(_this, drawerInstance);\r\n\r\n    this.name = 'Pencil';\r\n\r\n    /**\r\n     * List of tool options to show when tool is activated.\r\n     * Deviating from BaseShape tool, Line has no 'color', only 'border'.\r\n     * @type {String[]}\r\n     */\r\n    this.toolOptionsList = ['color', 'opacity', 'brushSize'];\r\n\r\n    this.btnClass = 'btn-pencil';\r\n    this.faClass = 'fa-pencil';\r\n    this.tooltip = drawerInstance.t('Free drawing mode');\r\n\r\n    _this._defaultOptions = {\r\n      cursorUrl: 'pencil',\r\n      brushSize: 2\r\n    };\r\n\r\n    this._setupOptions(options);\r\n\r\n    if (_this.options.cursorUrl == 'pencil') {\r\n      var drawerFolderUrl = util.getDrawerFolderUrl();\r\n      if(drawerFolderUrl){\r\n        _this.options.cursorUrl = 'url(' + drawerFolderUrl +\r\n        'assets/cursor-fa-pencil.cur), default';\r\n      }\r\n    }\r\n  };\r\n\r\n  Pencil.prototype = Object.create(BaseBrush.prototype);\r\n  Pencil.prototype.constructor = Pencil;\r\n\r\n  Pencil.prototype.createBrush = function(){\r\n    var brush = new fabric.ErasablePencilBrush(this.drawerInstance.fCanvas);\r\n\r\n    brush.color = this.drawerInstance.activeColor;\r\n    brush.opacity = this.drawerInstance.activeOpacity;\r\n    brush.width = this.options.brushSize;\r\n\r\n    return brush;\r\n  };\r\n\r\n  /**\r\n   * This method is called in BaseBrush._activateTool()\r\n   * Children of BaseBrush MUST implement afterActivateTool.\r\n   *\r\n   * Save previous fabricJs cursor.\r\n   */\r\n  Pencil.prototype.afterActivateTool = function () {\r\n    var fCanvas = this.drawerInstance.fCanvas;\r\n\r\n    this._previousCursor = fCanvas.freeDrawingCursor;\r\n    fCanvas.freeDrawingCursor = this.options.cursorUrl;\r\n  };\r\n\r\n\r\n  /**\r\n   * This method is called in BaseBrush._deactivateTool()\r\n   * Children of BaseBrush MUST implement afterDeactivateTool.\r\n   *\r\n   * Restore previous fabricJs cursor.\r\n   */\r\n  Pencil.prototype.afterDeactivateTool = function () {\r\n    var fCanvas = this.drawerInstance.fCanvas;\r\n    fCanvas.freeDrawingCursor = this._previousCursor;\r\n  };\r\n\r\n  pluginsNamespace.Pencil = Pencil;\r\n\r\n}(jQuery, DrawerJs.plugins.BaseBrush, DrawerJs.plugins, DrawerJs.util));\r\n(function ($, pluginsNamespace) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Provides a modal popup for controlling canvas properties\r\n   * like width,height, and aligment.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * @param {Object} options\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var CanvasProperties = function CanvasPropertiesConstructor(drawerInstance, options) {\r\n    var _this = this;\r\n    if (!drawerInstance.redactorInstance) {\r\n      console.error(\"'CanvasProperties' plugin can work only in redactor mode!\");\r\n      return;\r\n    }\r\n\r\n    this.drawerInstance = drawerInstance;\r\n    this.drawer = drawerInstance;\r\n    this.name = 'DrawerPluginCanvasProperties';\r\n    this.LOGTAG = _this.name;\r\n\r\n    this._setupOptions(options);\r\n\r\n    _this.drawerInstance.on(_this.drawerInstance.EVENT_CONFIG_TOOLBAR_CREATED,\r\n      function (event, toolbar) {\r\n        var redactorInstance = _this.drawerInstance.redactorInstance;\r\n\r\n        var modalTemplate = '' +\r\n          '<section id=\"redactor-drawer-properties\">' +\r\n            '<label class=\"drawer-properties-size-label\">' +\r\n              drawerInstance.t('Size (px)') +\r\n            '</label>' +\r\n            '<input class=\"drawer-properties-width\" type=\"number\" ' +\r\n                   'value=\"' + drawerInstance.width + '\" />' +\r\n            '<span class=\"size-separator\">x</span>' +\r\n            '<input class=\"drawer-properties-height\" type=\"number\" ' +\r\n                   'value=\"' + drawerInstance.height + '\"/>' +\r\n            '<label class=\"drawer-properties-align-label\">' +\r\n              drawerInstance.t('Position') +\r\n            '</label>' +\r\n            '<select class=\"drawer-properties-align\">' +\r\n              '<option value=\"inline\">' +\r\n                drawerInstance.t('Inline') +\r\n              '</option>' +\r\n              '<option value=\"left\">' +\r\n                drawerInstance.t('Left') +\r\n              '</option>' +\r\n              '<option value=\"center\">' +\r\n                drawerInstance.t('Center') +\r\n              '</option>' +\r\n              '<option value=\"right\">' +\r\n                drawerInstance.t('Right') +\r\n              '</option>' +\r\n              '<option value=\"floating\">' +\r\n                drawerInstance.t('Floating') +\r\n              '</option>' +\r\n            '</select>' +\r\n            '<span class=\"group-transparency\">' +\r\n              '<label class=\"drawer-properties-background\">' +\r\n                drawerInstance.t('Background') +\r\n              '</label>' +\r\n              '<input type=\"checkbox\" id=\"background-transparency\" ' +\r\n                     'class=\"background-transparency\"/>' +\r\n              '<label for=\"background-transparency\" ' +\r\n                     'class=\"background-transparency\">' +\r\n                drawerInstance.t('transparent') +\r\n              '</label>'+\r\n            '</span>' +\r\n          '</section>';\r\n\r\n        redactorInstance.modal.addTemplate('drawer-properties', modalTemplate);\r\n\r\n        var clickHandler = function canvasPropsClickHandler() {\r\n              _this.openPopup();\r\n              return false;\r\n            },\r\n            buttonConfig = {\r\n              buttonOrder: 9,\r\n              additionalClass: 'btn-canvas-properties',\r\n              iconClass: 'fa-cog',\r\n              tooltipText: drawerInstance.t('Canvas properties'),\r\n              clickHandler: clickHandler\r\n            };\r\n        toolbar.addButton(buttonConfig);\r\n      });\r\n  };\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {Object} [options] - options to save\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n   * @returns {Object} config of plugin\r\n   */\r\n  CanvasProperties.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n    pluginName = pluginName || this.name;\r\n    var drawer = this.drawerInstance || this.drawer,\r\n        optionsFromDrawer = drawer && drawer.getPluginConfig(pluginName),\r\n        result = $.extend(true,\r\n            {},\r\n            this._defaultOptions || {},\r\n            optionsFromDrawer || {},\r\n            options || {}\r\n        );\r\n\r\n    if (!doNotSave) {\r\n      this.options = result;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  CanvasProperties.prototype.openPopup = function () {\r\n    var _this = this;\r\n\r\n    var redactorInstance = _this.drawerInstance.redactorInstance;\r\n    var drawerInstance = _this.drawerInstance;\r\n    var $image = _this.drawerInstance.$imageElement;\r\n\r\n    redactorInstance.modal.load(\r\n      'drawer-properties', drawerInstance.t('Canvas properties'), 260\r\n    );\r\n\r\n    redactorInstance.modal.createCancelButton();\r\n    $('.redactor-modal-close-btn').html(drawerInstance.t('Cancel'));\r\n    var button = redactorInstance.modal.createActionButton(\r\n      drawerInstance.t('Save'));\r\n\r\n    var $properties = $('#redactor-drawer-properties');\r\n\r\n    var currentAlign = drawerInstance.getAlign();\r\n\r\n    $properties.find('select').val(currentAlign);\r\n    $properties.find('.drawer-properties-width').val(drawerInstance.width);\r\n    $properties.find('.drawer-properties-height').val(drawerInstance.height);\r\n\r\n    _this.currentAlign = currentAlign;\r\n    _this.currentHeight = drawerInstance.height;\r\n    _this.currentWidth = drawerInstance.width;\r\n\r\n    // transparency checkbox var\r\n    _this.$backgroundTransparencyInput =\r\n      $properties.find('input.background-transparency');\r\n    // set it\r\n    _this.$backgroundTransparencyInput.attr('checked', drawerInstance.options.transparentBackground);\r\n\r\n    // transparency checkbox click handler\r\n    $properties.find('.background-transparency').click(function () {\r\n      var checked = _this.$backgroundTransparencyInput.attr('checked');\r\n      _this.$backgroundTransparencyInput.attr('checked', !checked);\r\n    });\r\n\r\n    button.on('click', function () {\r\n      _this.saveProperties();\r\n    });\r\n\r\n    var $alignControl = $properties.find('.drawer-properties-align');\r\n\r\n    function updateTransparencyVisible() {\r\n      var selectedAlign = $properties.find('.drawer-properties-align').val();\r\n      if(selectedAlign == 'floating') {\r\n        $properties.find('.group-transparency').show();\r\n      } else {\r\n        $properties.find('.group-transparency').hide();\r\n      }\r\n    }\r\n\r\n    updateTransparencyVisible();\r\n\r\n    $alignControl.change(function () {\r\n      updateTransparencyVisible();\r\n    });\r\n\r\n    redactorInstance.modal.show();\r\n\r\n    // restore body overflow immediately to avoid content jumping\r\n    // Jumping happens because with overflow:hidden page has no scrollbar\r\n    // and its size extends by 24px\r\n    $(document.body)\r\n      .css('overflow', redactorInstance.modal.bodyOveflow);\r\n  };\r\n\r\n  CanvasProperties.prototype.saveProperties = function () {\r\n    var _this = this;\r\n\r\n    var redactorInstance = _this.drawerInstance.redactorInstance;\r\n    var drawerInstance = _this.drawerInstance;\r\n\r\n    var fullscreenPlugin =\r\n      _this.drawerInstance.getPluginInstance('Fullscreen');\r\n\r\n    var modal = $('#redactor-drawer-properties');\r\n    var width = modal.find('input.drawer-properties-width').val();\r\n    var height = modal.find('input.drawer-properties-height').val();\r\n    var align = modal\r\n      .find('select.drawer-properties-align option:selected')\r\n      .val();\r\n\r\n    if(_this.currentWidth != width || _this.currentHeight != height){\r\n      if(fullscreenPlugin && fullscreenPlugin.isInFullscreenMode()){\r\n        fullscreenPlugin.exitFullscreen();\r\n      }\r\n\r\n      drawerInstance.setSize(width, height);\r\n    }\r\n\r\n    drawerInstance.options.align = align;\r\n    if(_this.currentAlign != align){\r\n      if(fullscreenPlugin && fullscreenPlugin.isInFullscreenMode()){\r\n        fullscreenPlugin.exitFullscreen();\r\n      }\r\n\r\n      drawerInstance.setAlign(align);\r\n    }\r\n\r\n    var transparent = _this.$backgroundTransparencyInput.attr('checked');\r\n    drawerInstance.options.transparentBackground = !!transparent;\r\n\r\n    redactorInstance.modal.close();\r\n    drawerInstance.onCanvasModified();\r\n\r\n    drawerInstance.trigger(drawerInstance.EVENT_OPTIONS_CHANGED);\r\n  };\r\n\r\n  pluginsNamespace.CanvasProperties = CanvasProperties;\r\n}(jQuery, DrawerJs.plugins));\r\n(function ($, pluginsNamespace) {\r\n  \"use strict\";\r\n\r\n  /**\r\n   * Provides a button to destroy canvas.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var CloseButton = function CloseButtonConstructor(drawer, options) {\r\n    /**\r\n     * @type {Drawer}\r\n     */\r\n    this.drawer = drawer;\r\n    this.name = 'CloseButton';\r\n    this._setupOptions(options);\r\n\r\n    this._bindedOnToolbarCreated = this._onToolbarCreated.bind(this);\r\n    drawer.on(drawer.EVENT_CONFIG_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n    drawer.on(drawer.EVENT_MINIMIZED_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n  };\r\n\r\n  CloseButton.prototype._defaultOptions = {\r\n    buttonOrder: 1\r\n  };\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {Object} [options] - options to save\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n   * @returns {Object} config of plugin\r\n   */\r\n  CloseButton.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n    pluginName = pluginName || this.name;\r\n    var drawer = this.drawerInstance || this.drawer,\r\n        optionsFromDrawer = drawer && drawer.getPluginConfig(pluginName),\r\n        result = $.extend(true,\r\n            {},\r\n            this._defaultOptions || {},\r\n            optionsFromDrawer || {},\r\n            options || {}\r\n        );\r\n\r\n    if (!doNotSave) {\r\n      this.options = result;\r\n    }\r\n    return result;\r\n  };\r\n\r\n\r\n  /**\r\n   * On toolbar created - create tool button.\r\n   */\r\n  CloseButton.prototype._onToolbarCreated = function (ev, toolbar) {\r\n      this.toolbar = toolbar;\r\n      if (this.createControls) {\r\n          this.createControls(toolbar);\r\n      }\r\n  };\r\n\r\n\r\n CloseButton.prototype.createControls = function (toolbar) {\r\n    this._createAndAddButton(toolbar);\r\n };\r\n\r\n  /**\r\n   * Deletes tool button.\r\n   * If  doDeleteToolbarCreationListeners is true - removes listeners of toolbar creation event.\r\n   * So, tool will not appear on toolbar next time, when toolbar is created.\r\n   *\r\n   * @param {boolean} doDeleteToolbarCreationListeners\r\n   */\r\n  CloseButton.prototype.removeTool = function(doDeleteToolbarCreationListeners) {\r\n      if (this.deleteControls) {\r\n          this.deleteControls();\r\n      }\r\n\r\n      // stop listening toolbar creation\r\n      if (doDeleteToolbarCreationListeners) {\r\n          this.drawer.off(this.drawer.EVENT_CONFIG_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n      }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  /**\r\n   * Creates and adds button to toolbar.\r\n   * @param  {DrawerToolbar} toolbar\r\n   */\r\n  CloseButton.prototype._createAndAddButton = function(toolbar) {\r\n    var buttonConfig = {\r\n      buttonOrder: this.options.buttonOrder,\r\n      additionalClass: 'btn-delete-canvas',\r\n      iconClass: 'fa-times',\r\n      tooltipText: this.drawer.t('Delete this canvas'),\r\n      clickHandler: this._onCloseButtonClick.bind(this)\r\n    };\r\n    toolbar.addButton(buttonConfig);\r\n  };\r\n\r\n\r\n/**\r\n * On close - ask user, then delete canvas\r\n */\r\nCloseButton.prototype._onCloseButtonClick = function() {\r\n  var self = this;\r\n\r\n  var question = self.drawer.t('Are you sure want to delete this canvas?');\r\n  if (confirm(question)) {\r\n    self.drawer.destroy();\r\n  }\r\n};\r\n\r\n\r\n  pluginsNamespace.CloseButton = CloseButton;\r\n\r\n})(jQuery, DrawerJs.plugins, DrawerJs.util);\r\n\r\n(function ($, pluginsNamespace, util) {\r\n  \"use strict\";\r\n\r\n  /**\r\n   * Provides a button to enter fullscreen mode.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * @param {Object} options\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var Fullscreen = function FullscreenConstructor(drawer, options) {\r\n    var _this = this;\r\n\r\n    /**\r\n     * @type {Drawer}\r\n     */\r\n    _this.drawer = drawer;\r\n    _this.LOGTAG = _this.name;\r\n\r\n    _this._setupOptions(options);\r\n\r\n    _this.previousWidth = null;\r\n    _this.previousHeight = null;\r\n    _this.previousOffset = null;\r\n\r\n    _this.$enterButton = null;\r\n    _this.$exitButton = null;\r\n\r\n    _this.onlyForEditing = false;\r\n\r\n    // set handlers on toolbar creation\r\n    this._bindedOnToolbarCreated = this._onToolbarCreated.bind(this);\r\n    drawer.on(drawer.EVENT_CONFIG_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n\r\n\r\n    // befre loading\r\n    _this.drawer\r\n      .on(_this.drawer.EVENT_EDIT_START, function () {\r\n        var dataBeforeFullscreen = _this.drawer\r\n          .$imageElement.attr('data-before-fullscreen');\r\n\r\n        if (dataBeforeFullscreen) {\r\n          _this.$enterButton.hide();\r\n          _this.$exitButton.show();\r\n        } else {\r\n          _this.$enterButton.show();\r\n          _this.$exitButton.hide();\r\n        }\r\n\r\n      });\r\n\r\n    _this.drawer.on(_this.drawer.EVENT_EDIT_STOP, function () {\r\n      if (_this.onlyForEditing) {\r\n        _this.exitFullscreen();\r\n      }\r\n    });\r\n\r\n    $(window).on('resize', function(){\r\n      if(_this.isInFullscreenMode()){\r\n        _this.adjustFullscreenSize();\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {Object} [options] - options to save\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n   * @returns {Object} config of plugin\r\n   */\r\n  Fullscreen.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n    pluginName = pluginName || this.name;\r\n    var drawer = this.drawerInstance || this.drawer,\r\n        optionsFromDrawer = drawer && drawer.getPluginConfig(pluginName),\r\n        result = $.extend(true,\r\n            {},\r\n            this._defaultOptions || {},\r\n            optionsFromDrawer || {},\r\n            options || {}\r\n        );\r\n\r\n    if (!doNotSave) {\r\n      this.options = result;\r\n    }\r\n    return result;\r\n  };\r\n\r\n    /**\r\n     * On toolbar created - create tool button.\r\n     */\r\n    Fullscreen.prototype._onToolbarCreated = function (ev, toolbar) {\r\n        this.toolbar = toolbar;\r\n        var enterButtonConfig = {\r\n              buttonOrder: this.options.buttonOrder,\r\n              additionalClass: 'btn-fullscreen',\r\n              iconClass: 'fa-expand',\r\n              tooltipText: this.drawer.t('Enter fullscreen mode'),\r\n              clickHandler: this.enterFullscreen.bind(this)\r\n            },\r\n            exitButtonConfig = {\r\n              buttonOrder: this.options.buttonOrder,\r\n              additionalClass: 'btn-fullscreen',\r\n              iconClass: 'fa-compress',\r\n              tooltipText: this.drawer.t('Exit fullscreen mode'),\r\n              clickHandler: this.exitFullscreen.bind(this)\r\n            };\r\n\r\n        // add button expand\r\n      this.$enterButton = toolbar.addButton(enterButtonConfig);\r\n\r\n        // add button shrink\r\n      this.$exitButton = toolbar.addButton(exitButtonConfig);\r\n      this.$exitButton.hide();\r\n    };\r\n\r\n\r\n    /**\r\n     * Deletes tool button.\r\n     * If  doDeleteToolbarCreationListeners is true - removes listeners of toolbar creation event.\r\n     * So, tool will not appear on toolbar next time, when toolbar is created.\r\n     *\r\n     * @param {boolean} doDeleteToolbarCreationListeners\r\n     */\r\n    Fullscreen.prototype.removeTool = function(doDeleteToolbarCreationListeners) {\r\n        if (this.deleteControls) {\r\n            this.deleteControls();\r\n        }\r\n\r\n        // stop listening toolbar creation\r\n        if (doDeleteToolbarCreationListeners) {\r\n            this.drawer.off(this.drawer.EVENT_CONFIG_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n  Fullscreen.prototype.isInFullscreenMode = function () {\r\n    var $image = this.drawer.$imageElement;\r\n\r\n    if ($image.attr('data-before-fullscreen') !== undefined) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  Fullscreen.prototype.adjustFullscreenSize = function () {\r\n    var _this = this;\r\n    var redactorInstance = _this.drawer.redactorInstance;\r\n\r\n    var $image = _this.drawer.$imageElement;\r\n\r\n    var toolbarSize = _this.drawer.options.toolbarSize;\r\n\r\n    var width = redactorInstance.$box.width() - toolbarSize;\r\n    var height = redactorInstance.$box.height() - toolbarSize;\r\n\r\n    var offset = redactorInstance.$box.offset();\r\n\r\n    _this.drawer.$canvasEditContainer.css({\r\n      'left': offset.left + 'px',\r\n      'top': (offset.top + toolbarSize ) + 'px',\r\n      'width': width + 'px',\r\n      'height': height + 'px'\r\n    });\r\n\r\n    _this.drawer.fCanvas.setWidth(width);\r\n    _this.drawer.fCanvas.setHeight(height);\r\n\r\n    if(!_this.onlyForEditing) {\r\n      $image.css({\r\n        'position': 'absolute',\r\n        'left': '0px',\r\n        'top': '0px',\r\n        'width': width + 'px',\r\n        'height': height + 'px'\r\n      });\r\n    }\r\n  };\r\n\r\n  Fullscreen.prototype.enterFullscreen = function () {\r\n    var _this = this;\r\n    var redactorInstance = _this.drawer.redactorInstance;\r\n\r\n    var $image = _this.drawer.$imageElement;\r\n\r\n    var toolbarSize = _this.drawer.options.toolbarSize;\r\n\r\n    // this.drawer.trigger(this.drawer.EVENT_HIDE_TOOLTIPS);\r\n\r\n    _this.$enterButton.hide();\r\n    _this.$exitButton.show();\r\n\r\n    $image.attr('data-before-fullscreen',\r\n      JSON.stringify({\r\n        imageCss: {\r\n          'position': $image.css('position'),\r\n          'display': $image.css('display'),\r\n          'left': $image.css('float'),\r\n          'top': $image.css('top'),\r\n          'margin-left': $image.css('margin-left'),\r\n          'margin-right': $image.css('margin-right'),\r\n          'width': $image.css('width'),\r\n          'height': $image.css('height')\r\n        },\r\n        canvasCss: {\r\n          'width': _this.drawer.width,\r\n          'height': _this.drawer.height,\r\n          'offset': _this.drawer.$canvasEditContainer.offset()\r\n        }\r\n      })\r\n    );\r\n\r\n    if (!this.onlyForEditing) {\r\n      $image.css('position', 'absolute');\r\n    }\r\n\r\n    _this.adjustFullscreenSize();\r\n\r\n    if (this.onlyForEditing) {\r\n      var duration = util.getTransitionDuration(\r\n        _this.drawer.$canvasEditContainer[0]\r\n      );\r\n\r\n      util.setTimeout(function () {\r\n        redactorInstance.$box.css('opacity', '0');\r\n      }, duration);\r\n    }\r\n\r\n    // @todo: rework this!\r\n    _this.drawer.toolbars.toolOptionsToolbar\r\n      .removeClass('toolbar-bottomLeft').detach();\r\n    _this.drawer\r\n      .appendToolbar(_this.drawer.toolbars.toolOptionsToolbar, 'topRight');\r\n\r\n    _this.drawer.toolbars.setToolbarButtonsSize();\r\n    _this.drawer.onCanvasModified();\r\n  };\r\n\r\n  Fullscreen.prototype.exitFullscreen = function () {\r\n    var _this = this;\r\n    var $image = _this.drawer.$imageElement;\r\n\r\n    $('.editable-canvas-tooltip').removeClass('active');\r\n\r\n    _this.$enterButton.show();\r\n    _this.$exitButton.hide();\r\n\r\n    var dataBeforeFullscreenStr = $image.attr('data-before-fullscreen');\r\n    var dataBeforeFullscreen = JSON.parse(dataBeforeFullscreenStr);\r\n    $image.attr('data-before-fullscreen', null);\r\n\r\n    if (this.onlyForEditing) {\r\n      _this.drawer.redactorInstance.$box.css('opacity', '1');\r\n    } else {\r\n      $image.css(dataBeforeFullscreen.imageCss);\r\n    }\r\n\r\n    if (_this.drawer.$canvasEditContainer) {\r\n      var duration = util.getTransitionDuration(\r\n        _this.drawer.$canvasEditContainer[0]\r\n      );\r\n\r\n      var previousWidth = dataBeforeFullscreen.canvasCss.width;\r\n      var previousHeight = dataBeforeFullscreen.canvasCss.height;\r\n\r\n      _this.drawer.$canvasEditContainer.css({\r\n        'left': dataBeforeFullscreen.canvasCss.offset.left + 'px',\r\n        'top': dataBeforeFullscreen.canvasCss.offset.top + 'px',\r\n        'width': previousWidth + 'px',\r\n        'height': previousHeight + 'px'\r\n      });\r\n\r\n      _this.drawer.$canvasEditContainer.find('.canvas-container')\r\n        .css({\r\n          'width': previousWidth + 'px',\r\n          'height': previousHeight + 'px'\r\n        });\r\n\r\n      util.setTimeout(function () {\r\n        _this.drawer.fCanvas.setWidth(previousWidth);\r\n        _this.drawer.fCanvas.setHeight(previousHeight);\r\n      }, duration);\r\n\r\n      _this.drawer.width = previousWidth;\r\n      _this.drawer.height = previousHeight;\r\n\r\n      _this.drawer.adjustEditContainer(true, true);\r\n    }\r\n\r\n    _this.drawer.toolbars.toolOptionsToolbar\r\n      .removeClass('toolbar-topRight').detach();\r\n    _this.drawer\r\n      .appendToolbar(_this.drawer.toolbars.toolOptionsToolbar, 'bottomLeft');\r\n\r\n    _this.drawer.toolbars.setToolbarButtonsSize();\r\n    _this.drawer.onCanvasModified();\r\n  };\r\n\r\n  pluginsNamespace.Fullscreen = Fullscreen;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util));\r\n(function ($, pluginsNamespace, util, DrawerApi) {\r\n  \"use strict\";\r\n\r\n  var isFF = util.checkBrowser('mozilla'),\r\n      isSafari = util.checkBrowser('safari'),\r\n      isWebkit = util.checkBrowser('webkit'),\r\n      emptyFunc = function () {},\r\n      isTouchDevice;\r\n\r\n  /**\r\n   * Provides a button to minimize canvas.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * @param {Object} options\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var FullscreenModeButton = function FullscreenModeButtonConstructor(drawer, options) {\r\n    /**\r\n     * @type {Drawer}\r\n     */\r\n    this.name = 'FullscreenModeButton';\r\n    this.drawer = drawer;\r\n    isTouchDevice = this.drawer.touchDevice;\r\n\r\n    this._setupOptions(options);\r\n    this._attachEvents();\r\n    this._setupFullscreenHandlers();\r\n\r\n    this.drawer.on(this.drawer.EVENT_CONFIG_TOOLBAR_CREATED, this._onConfigToolbarCreated.bind(this));\r\n  };\r\n\r\n  /**\r\n   * Attach global events\r\n   * @private\r\n   */\r\n  FullscreenModeButton.prototype._attachEvents = function () {\r\n    var self = this,\r\n        eventsList = '' +\r\n            'onfullscreenchange.FullscreenModeButton ' +\r\n            'webkitfullscreenchange.FullscreenModeButton ' +\r\n            'fullscreenchange.FullscreenModeButton '+\r\n            'mozfullscreenchange.FullscreenModeButton ' +\r\n            'MSFullscreenChange.FullscreenModeButton ';\r\n    $(document).off(eventsList).on(eventsList, function () {\r\n      self.globalFullscreenMode = !self.globalFullscreenMode;\r\n      self.reactOnResize = true;\r\n      util.setTimeout(function () {\r\n        self.reactOnResize = false;\r\n      }, 2000);\r\n      if (self.globalFullscreenMode) {\r\n        self.setFullscreenStateOn(true);\r\n      } else {\r\n        self.setFullscreenStateOff(true);\r\n      }\r\n    });\r\n\r\n    window.removeEventListener('resize', self._onWindowResize.bind(self));\r\n    window.addEventListener('resize', self._onWindowResize.bind(self));\r\n\r\n    $(document).off('keypress.FullscreenModeButton').on('keypress.FullscreenModeButton', function(e) {\r\n      var isFullscreen = (self.globalFullscreenMode && self.fullscreenMode),\r\n          isEscKey = e.keyCode == 27,\r\n          turnOffFullscreen = isFullscreen && isEscKey;\r\n      if (turnOffFullscreen) { // ESC key\r\n            self.fullscreenOff(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {Object} [options] - options to save\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n   * @returns {Object} config of plugin\r\n   */\r\n  FullscreenModeButton.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n    pluginName = pluginName || this.name;\r\n    var drawer = this.drawerInstance || this.drawer,\r\n        optionsFromDrawer = drawer && drawer.getPluginConfig(pluginName),\r\n        result = $.extend(true,\r\n            {},\r\n            this._defaultOptions || {},\r\n            optionsFromDrawer || {},\r\n            options || {}\r\n        );\r\n\r\n    if (!doNotSave) {\r\n      this.options = result;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * React on window resize\r\n   * @private\r\n   */\r\n  FullscreenModeButton.prototype._onWindowResize = function () {\r\n    var self = this;\r\n\r\n    if (isFF && !self.reactOnResize && !self.globalFullscreenMode) {\r\n      self._saveCurrentSizes();\r\n    }\r\n\r\n    if (self.reactOnResize) {\r\n      if (!self.globalFullscreenMode) {\r\n        self._restoreNormalSizes();\r\n      } else {\r\n        self._refreshFullscreenSize(false);\r\n      }\r\n    }\r\n\r\n\r\n\r\n    var turnOff = false && !isFF, //global, but not for firefox\r\n        ffTurnOff = !self.fullscreenMode && self.reactOnResize && isFF && !self.globalFullscreenMode,\r\n        webkitTurnOff = self.fullscreenMode && !self.globalFullscreenMode && isWebkit,\r\n        needToTurnOff = turnOff || ffTurnOff || webkitTurnOff;\r\n    if (needToTurnOff) {\r\n      self.setFullscreenStateOff();\r\n    }\r\n    self.reactOnResize = false;\r\n  };\r\n\r\n  FullscreenModeButton.prototype._saveCurrentSizes = function (oldWidth, oldHeight) {\r\n    if (!oldWidth || !oldHeight) {\r\n      oldWidth = this.drawer.$canvasEditContainer.outerWidth();\r\n      oldHeight = this.drawer.$canvasEditContainer.outerHeight();\r\n    }\r\n\r\n    this.savedWidth = oldWidth;\r\n    this.savedHeight = oldHeight;\r\n  };\r\n\r\n  /**\r\n   * Set drawer size - all available space\r\n   * @param {Boolean} [save] - save current size for further restore\r\n   * @private\r\n   */\r\n  FullscreenModeButton.prototype._refreshFullscreenSize = function (save) {\r\n    var $window = $(window),\r\n        viewportWidth = $window.width(),\r\n        viewportHeight = $window.height(),\r\n        oldWidth = this.drawer.width,\r\n        oldHeight = this.drawer.height,\r\n        $editContainer = this.drawer.$canvasEditContainer,\r\n        drawerHaveAnimatedClass = $editContainer.hasClass('animated');\r\n\r\n    if (save) {\r\n      this._saveCurrentSizes(oldWidth, oldHeight);\r\n    }\r\n    $editContainer.removeClass('animated');\r\n    this.drawer.setSize(\r\n        viewportWidth,\r\n        viewportHeight\r\n    );\r\n    this.drawer.trigger(this.drawer.EVENT_RESTORE_DEFAULT_ZOOM);\r\n    $editContainer.toggleClass('animated', !!drawerHaveAnimatedClass);\r\n  };\r\n\r\n  /**\r\n   * Restore drawer size\r\n   * @private\r\n   */\r\n  FullscreenModeButton.prototype._restoreNormalSizes = function () {\r\n    var self = this,\r\n        $editContainer = this.drawer.$canvasEditContainer,\r\n        drawerHaveAnimatedClass = $editContainer.hasClass('animated');\r\n    $editContainer.removeClass('animated');\r\n    $editContainer.css('position', this.savedPosition);\r\n    console.info(this.savedWidth,this.savedHeight);\r\n    this.drawer.setSize(\r\n        this.savedWidth,\r\n        this.savedHeight\r\n    );\r\n    util.setTimeout(function () {\r\n      self.drawer.adjustEditContainer();\r\n      self.drawer.trigger(self.drawer.EVENT_RESTORE_DEFAULT_ZOOM);\r\n      util.setTimeout(function () {\r\n        $editContainer.toggleClass('animated', !!drawerHaveAnimatedClass);\r\n      },0);\r\n    }, 0);\r\n  };\r\n\r\n  /**\r\n   * Setup request/cancel handlers depending on browser\r\n   * @private\r\n   */\r\n  FullscreenModeButton.prototype._setupFullscreenHandlers = function () {\r\n    var element = document.documentElement,\r\n        fullscreenCancelFunc,\r\n        fullscreenRequest_defaultFunc = function () {\r\n          element.requestFullScreen();\r\n        },\r\n        fullscreenRequest_default = element.requestFullScreen && fullscreenRequest_defaultFunc,\r\n\r\n        fullscreenRequest_msFunc = function () {\r\n          element.msRequestFullscreen();\r\n        },\r\n        fullscreenRequest_ms = element.msRequestFullscreen && fullscreenRequest_msFunc,\r\n        fullscreenRequest_mozillaFunc = function () {\r\n          element.mozRequestFullScreen();\r\n        },\r\n        fullscreenRequest_mozilla = element.mozRequestFullScreen && fullscreenRequest_mozillaFunc,\r\n        fullscreenRequest_webkitFunc = function () {\r\n          element.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);\r\n        },\r\n        fullscreenRequest_webkit = element.webkitRequestFullScreen && fullscreenRequest_webkitFunc;\r\n\r\n    this.fullscreenRequest =  fullscreenRequest_default ||\r\n                              fullscreenRequest_ms ||\r\n                              fullscreenRequest_mozilla ||\r\n                              fullscreenRequest_webkit ||\r\n                              this.setFullscreenStateOn.bind(this);\r\n    fullscreenCancelFunc =  document.cancelFullScreen ||\r\n                            document.msExitFullscreen ||\r\n                            document.mozCancelFullScreen ||\r\n                            document.webkitCancelFullScreen ||\r\n                            this.setFullscreenStateOff.bind(this);\r\n    this.fullscreenCancel = function() {\r\n      fullscreenCancelFunc.call(document);\r\n    };\r\n  };\r\n\r\n\r\n  /**\r\n   * React on toolbar created - create tool button.\r\n   * @param {fabric.Event} ev\r\n   * @param {DrawerToolbar} toolbar\r\n   * @private\r\n   */\r\n  FullscreenModeButton.prototype._onConfigToolbarCreated = function (ev, toolbar) {\r\n    this.fullscreenEl = this.drawer.$canvasEditContainer.get(0);\r\n    this._createAndAddButton(toolbar);\r\n  };\r\n\r\n  /**\r\n   * Deletes tool button.\r\n   * If  doDeleteToolbarCreationListeners is true - removes listeners of toolbar creation event.\r\n   * So, tool will not appear on toolbar next time, when toolbar is created.\r\n   *\r\n   * @param {boolean} [doDeleteToolbarCreationListeners]\r\n   */\r\n  FullscreenModeButton.prototype.removeTool = function (doDeleteToolbarCreationListeners) {\r\n    if (this.deleteControls) {\r\n      this.deleteControls();\r\n    }\r\n    // stop listening toolbar creation\r\n    if (doDeleteToolbarCreationListeners) {\r\n      this.drawer.off(this.drawer.EVENT_CONFIG_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Creates and adds minimize button to toolbar.\r\n   * @param  {DrawerToolbar} toolbar\r\n   */\r\n  FullscreenModeButton.prototype._createAndAddButton = function (toolbar) {\r\n    var toggleModeButtonConfig = {\r\n          buttonOrder: 10,\r\n          additionalClass: 'btn-fullscreen-canvas',\r\n          iconClass: 'fa-window-restore',\r\n          tooltipText: this.drawer.t('Toggle fullscreen mode'),\r\n          clickHandler: this._onFullscreenModeButtonClick.bind(this)\r\n        },\r\n        $fullscreenModeButton = toolbar.addButton(toggleModeButtonConfig);\r\n    this.$fullscreenModeButton = $fullscreenModeButton;\r\n  };\r\n\r\n  /**\r\n   * Toggle fullscreen state\r\n   * @param {Boolean} [forceCancel]\r\n   * @private\r\n   */\r\n  FullscreenModeButton.prototype._toggleFullScreen = function (forceCancel) {\r\n    var currStateIsFullscreen_default = (document.fullScreenElement && document.fullScreenElement !== null),\r\n        currStateIsFullscreen_moz = (!document.mozFullScreen && !document.webkitIsFullScreen),\r\n        currStateIsFullscreen = currStateIsFullscreen_default || currStateIsFullscreen_moz,\r\n        turnOn = forceCancel === false || (!forceCancel && currStateIsFullscreen);\r\n    if (turnOn) {\r\n      this.fullscreenRequest();\r\n    } else {\r\n      this.fullscreenCancel();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * On minimize button click handler\r\n   * @private\r\n   */\r\n  FullscreenModeButton.prototype._onFullscreenModeButtonClick = function () {\r\n    if (this.fullscreenMode) {\r\n      this.fullscreenOff();\r\n    } else {\r\n      this.fullscreenOn();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Drawer - remove fullscreen state\r\n   */\r\n  FullscreenModeButton.prototype.setFullscreenStateOff = function () {\r\n    var canvasContainerIsValid = this.drawer.$canvasEditContainer || this.drawer.$canvasEditContainer.length,\r\n        currStateIsValid = canvasContainerIsValid;\r\n    this.changeStateInProgress = true;\r\n    if (currStateIsValid) {\r\n      this.drawer.trigger(this.drawer.EVENT_DO_DEACTIVATE_ALL_TOOLS);\r\n      this.drawer.trigger(this.drawer.EVENT_DESTROY_TOOLTIPS);\r\n      var self = this,\r\n          $editContainer = this.drawer.$canvasEditContainer,\r\n          drawerHaveAnimatedClass = $editContainer.hasClass('animated');\r\n\r\n      this.fullscreenMode = false;\r\n      this.drawer.fullscreenMode = false;\r\n      $editContainer.addClass('fullscreen-in-progress');\r\n      $editContainer.removeClass('animated');\r\n      $editContainer.removeClass('fullscreen');\r\n\r\n      this.drawer.$imageElement.show();\r\n      this._restoreNormalSizes();\r\n\r\n      util.setTimeout(function () {\r\n        self.drawer.toolbars.resetAllToolbars();\r\n        if (self.$fullscreenModeButton) {\r\n          self.$fullscreenModeButton.removeClass('active');\r\n        }\r\n        if (isSafari) {\r\n          self._restoreNormalSizes();\r\n        }\r\n        $editContainer.toggleClass('animated', !!drawerHaveAnimatedClass);\r\n        $editContainer.removeClass('fullscreen-in-progress');\r\n        self.changeStateInProgress = false;\r\n      }, 0);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Drawer - set fullscreen state\r\n   */\r\n  FullscreenModeButton.prototype.setFullscreenStateOn = function () {\r\n    this.changeStateInProgress = true;\r\n    var canvasContainerIsValid = this.drawer.$canvasEditContainer || this.drawer.$canvasEditContainer.length,\r\n        currStateIsValid = canvasContainerIsValid;\r\n    if (currStateIsValid) {\r\n      this.drawer.trigger(this.drawer.EVENT_DO_DEACTIVATE_ALL_TOOLS);\r\n      this.drawer.trigger(this.drawer.EVENT_DESTROY_TOOLTIPS);\r\n      var self = this,\r\n          $editContainer = this.drawer.$canvasEditContainer,\r\n          drawerHaveAnimatedClass = $editContainer.hasClass('animated');\r\n\r\n      this.fullscreenMode = true;\r\n      this.drawer.fullscreenMode = true;\r\n      this.savedPosition = $editContainer.css('position');\r\n\r\n      $editContainer.addClass('fullscreen-in-progress');\r\n      $editContainer.removeClass('animated');\r\n      $editContainer.addClass('fullscreen');\r\n      this.drawer.$imageElement.hide();\r\n\r\n      self._refreshFullscreenSize(!isFF);\r\n\r\n      util.setTimeout(function () {\r\n        self.drawer.toolbars.resetAllToolbars();\r\n        self.drawer.toolbars.settingsToolbar.$toolbar.parent().addClass('fullscreenOverOther');\r\n        if (self.$fullscreenModeButton) {\r\n          self.$fullscreenModeButton.addClass('active');\r\n        }\r\n        $editContainer.toggleClass('animated', !!drawerHaveAnimatedClass);\r\n        $editContainer.removeClass('fullscreen-in-progress');\r\n        self.changeStateInProgress = false;\r\n      }, 50);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Turn fullscreen mode on\r\n   */\r\n  FullscreenModeButton.prototype.fullscreenOn = function () {\r\n    this._toggleFullScreen(false);\r\n  };\r\n\r\n  /**\r\n   * Turn fullscreen mode off\r\n   */\r\n  FullscreenModeButton.prototype.fullscreenOff = function () {\r\n    this._toggleFullScreen(true);\r\n  };\r\n\r\n  /**\r\n   * Provide API method - fullscreenOn\r\n   */\r\n  DrawerApi.prototype.fullscreenOn = function () {\r\n    var tool = this.drawer.getPluginInstance('FullscreenModeButton');\r\n    tool.fullscreenOn();\r\n  };\r\n\r\n  /**\r\n   * Provide API method - fullscreenOff\r\n   */\r\n  DrawerApi.prototype.fullscreenOff = function () {\r\n    var tool = this.drawer.getPluginInstance('FullscreenModeButton');\r\n    tool.fullscreenOff();\r\n  };\r\n\r\n  pluginsNamespace.FullscreenModeButton = FullscreenModeButton;\r\n})(jQuery, DrawerJs.plugins, DrawerJs.util, DrawerJs.DrawerApi);\r\n(function ($, pluginsNamespace, util) {\r\n  \"use strict\";\r\n\r\n  /**\r\n   * Provides ability to use image cropper\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * @param {object} [options]\r\n   * options\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var ImageCrop = function ImageCropConstructor(drawer, options) {\r\n    /**\r\n     * @type {Drawer}\r\n     */\r\n    this.name = 'ImageCrop';\r\n    this.drawer = drawer;\r\n    this._setupOptions(options);\r\n    this.drawer.on(this.drawer.BEFORE_CREATE_TOOLBARS, this._init.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_IMAGECROP_TOOLBAR_CREATED, this._onToolbarCreated.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_IMAGE_CROP, this._onImageCropTrigger.bind(this));\r\n  };\r\n\r\n  ImageCrop.prototype._defaultOptions = {\r\n    toolbarState: 'hidden'\r\n  };\r\n  ImageCrop.prototype._defaultCropOptions = {};\r\n\r\n  /**\r\n   * Init cropper - create elements and instance of crop plugin\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._init = function () {\r\n    this.enabled = this.drawer.options.enableImageCrop && pluginsNamespace.ImageCropPlugin;\r\n    if (this.enabled) {\r\n      var cropOptions = this._setupCropOptions();\r\n      this._removeElements();\r\n      this._createElements();\r\n      this.cropper = new pluginsNamespace.ImageCropPlugin(this.drawer, this.$cropperContainer, cropOptions);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {Object} [options] - options to save\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n   * @returns {Object} config of plugin\r\n   */\r\n  ImageCrop.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n    pluginName = pluginName || this.name;\r\n    var drawer = this.drawerInstance || this.drawer,\r\n        optionsFromDrawer = drawer && drawer.getPluginConfig(pluginName),\r\n        result = $.extend(true,\r\n            {},\r\n            this._defaultOptions || {},\r\n            optionsFromDrawer || {},\r\n            options || {}\r\n        );\r\n\r\n    if (!doNotSave) {\r\n      this.options = result;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * React on create of toolbar\r\n   * @param  {fabric.Event} fEvent\r\n   * @param  {DrawerToolbar} toolbar\r\n   */\r\n  ImageCrop.prototype._onToolbarCreated = function (fEvent, toolbar) {\r\n    this.cropContainerSizesUpdated = false;\r\n    this.$toolbar = toolbar.$toolbar;\r\n    this._resizeCropWrapper();\r\n    this._createToolbarButtons(toolbar);\r\n  };\r\n\r\n  /**\r\n   * Creates and adds buttons to crop toolbar\r\n   * @param  {DrawerToolbar} toolbar\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._createToolbarButtons = function (toolbar) {\r\n    var $anotherCropButton,\r\n        $applyButton,\r\n        $undoCropButton,\r\n        $useOriginButton,\r\n        $cancelButton,\r\n        anotherCropButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-another-crop',\r\n          iconClass: 'fa-scissors',\r\n          tooltipText: this.drawer.t('Crop image'),\r\n          clickHandler: this._onAnotherCropButtonClick.bind(this)\r\n        },\r\n        applyButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-apply-crop',\r\n          iconClass: 'fa-check',\r\n          tooltipText: this.drawer.t('Apply current image'),\r\n          clickHandler: this._onApplyCropButtonClick.bind(this)\r\n        },\r\n        undoCropButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-undo-crop',\r\n          iconClass: 'fa-undo',\r\n          tooltipText: this.drawer.t('Undo crop'),\r\n          clickHandler: this._onUndoCropButtonClick.bind(this)\r\n        },\r\n        useOriginButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-useorigin-crop',\r\n          iconClass: 'fa-image',\r\n          tooltipText: this.drawer.t('Use origin image'),\r\n          clickHandler: this._onUseOriginButtonClick.bind(this)\r\n        },\r\n        cancelButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-cancel-crop',\r\n          iconClass: 'fa-ban',\r\n          tooltipText: this.drawer.t('Cancel'),\r\n          clickHandler: this._onCancelCropButtonClick.bind(this)\r\n        };\r\n\r\n\r\n\r\n    $anotherCropButton = toolbar.addButton(anotherCropButtonConf);\r\n    $applyButton = toolbar.addButton(applyButtonConf);\r\n    $undoCropButton = toolbar.addButton(undoCropButtonConf);\r\n    // $useOriginButton = toolbar.addButton(useOriginButtonConf);\r\n    $cancelButton = toolbar.addButton(cancelButtonConf);\r\n\r\n    this.$anotherCropButton = $anotherCropButton;\r\n    this.$applyButton = $applyButton;\r\n    this.$undoCropButton = $undoCropButton;\r\n    this.$useOriginButton = $useOriginButton;\r\n    this.$cancelButton = $cancelButton;\r\n  };\r\n\r\n  /**\r\n   * On 'another crop' button click handler\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._onAnotherCropButtonClick = function () {\r\n    this.cropper.applyCrop(true);\r\n    this.$undoCropButton.removeClass('disabled');\r\n  };\r\n\r\n  /**\r\n   * On 'apply crop' button click handler\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._onApplyCropButtonClick = function () {\r\n    this.cropper.applyCrop();\r\n  };\r\n\r\n\r\n  /**\r\n   * On 'undo crop' button click handler\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._onUndoCropButtonClick = function () {\r\n    var cropper = this.cropper,\r\n        ableToUndo = cropper.prevImages && cropper.prevImages.length;\r\n    if (ableToUndo) {\r\n      cropper.undoCrop(true);\r\n      if (!cropper.prevImages.length) {\r\n        this.$undoCropButton.addClass('disabled');\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * On 'use origin' button click handler\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._onUseOriginButtonClick = function () {\r\n    var cropper = this.cropper;\r\n    cropper.success(cropper.originalImage);\r\n  };\r\n\r\n  /**\r\n   * On 'cancel' button click handler\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._onCancelCropButtonClick = function () {\r\n    this.cropper.success();\r\n  };\r\n\r\n  /**\r\n   * On 'another crop' button click handler\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._resizeCropWrapper = function () {\r\n    var imageCropToolbar = this.drawer.toolbars.cropImageToolbar,\r\n        toolbarHeight = imageCropToolbar && imageCropToolbar.$toolbar && imageCropToolbar.$toolbar.height(),\r\n        $cropperContainer = this.cropper && this.cropper.$element;\r\n    if ($cropperContainer) {\r\n      $cropperContainer.css('top', toolbarHeight || 0);\r\n    }\r\n    if (toolbarHeight && toolbarHeight > 0) { // some webkit issue - sometimes height can be less than 0 (??)\r\n      this.cropContainerSizesUpdated = true;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * React on crop plugin activity\r\n   * @param {Function} callback\r\n   * @returns {Function}\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._getCropCallback = function (callback) {\r\n    var self = this;\r\n    return function (result) {\r\n      if (callback && typeof callback === 'function') {\r\n        callback(result);\r\n      }\r\n      self.hideCropper();\r\n      self.hideCropToolbar();\r\n      self.cropper.reset();\r\n    };\r\n  };\r\n\r\n  /**\r\n   * Init image crop\r\n   * @param {fabric.Event} fEvent\r\n   * @param {Object} data\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._onImageCropTrigger = function (fEvent, data) {\r\n    if (this.enabled) {\r\n      var dataIsValid = data && data.url;\r\n      data.newImage = true;\r\n      if (dataIsValid) {\r\n        var callback = this._getCropCallback(data.callback);\r\n        this.showCropToolbar();\r\n        this.showCropper();\r\n        this.cropper._bind(data, callback);\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Setup options for crop plugin\r\n   * @param {Object} [cropOptions]\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._setupCropOptions = function (cropOptions) {\r\n    var result = {};\r\n    $.extend(true, result, this._defaultCropOptions, cropOptions || {});\r\n    this.cropOptions = result;\r\n  };\r\n\r\n  /**\r\n   * Create helper elements\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._createElements = function () {\r\n    var placeCropperInsideCanvas = true,\r\n        cropperContainerHtml = '<div class=\"image-crop-wrapper hidden\"></div>',\r\n        $cropperContainer = $(cropperContainerHtml),\r\n        $container;\r\n\r\n    if (placeCropperInsideCanvas) {\r\n      $container = this.drawer.$canvasEditContainer;\r\n    } else {\r\n      $container = $('body');\r\n    }\r\n    $container.append($cropperContainer);\r\n\r\n    this.drawer.$cropperContainer = $cropperContainer;\r\n    this.$cropperContainer = $cropperContainer;\r\n  };\r\n\r\n  /**\r\n   * Remove helper elements\r\n   * @private\r\n   */\r\n  ImageCrop.prototype._removeElements = function () {\r\n    if (this.$cropperContainer) {\r\n      this.$cropperContainer.remove();\r\n      delete this.$cropperContainer;\r\n    }\r\n\r\n    if (this.drawer.$cropperContainer) {\r\n      delete this.drawer.$cropperContainer;\r\n    }\r\n    if (this.cropper) {\r\n      this.cropper._destroy();\r\n      delete this.cropper;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Show crop container\r\n   */\r\n  ImageCrop.prototype.showCropToolbar = function () {\r\n    this.$undoCropButton.addClass('disabled');\r\n    this.drawer.trigger(this.drawer.EVENT_RESIZER_HIDE);\r\n    this.drawer.trigger(this.drawer.EVENT_TOOLBAR_CHANGE_STATE, [{\r\n      excludeElements: this.$toolbar,\r\n      state: this.options.toolbarState,\r\n      turnOn: true\r\n    }]);\r\n    this.drawer.trigger(this.drawer.EVENT_OVERCANVAS_BUTTON_HIDE, [true]);\r\n\r\n    this.drawer.toolbars.cropImageToolbar.showToolbar();\r\n    if (!this.cropContainerSizesUpdated) {\r\n      this._resizeCropWrapper();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Hide crop container\r\n   */\r\n  ImageCrop.prototype.hideCropToolbar = function () {\r\n    this.drawer.toolbars.cropImageToolbar.hideToolbar();\r\n    this.drawer.trigger(this.drawer.EVENT_RESIZER_SHOW);\r\n    this.drawer.trigger(this.drawer.EVENT_TOOLBAR_CLEAR_STATE);\r\n    this.drawer.trigger(this.drawer.EVENT_OVERCANVAS_BUTTON_SHOW);\r\n  };\r\n\r\n\r\n  /**\r\n   * Show crop container\r\n   */\r\n  ImageCrop.prototype.showCropper = function () {\r\n    if (this.$cropperContainer && this.$cropperContainer.length) {\r\n      this.$cropperContainer.removeClass('hidden');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Hide crop container\r\n   */\r\n  ImageCrop.prototype.hideCropper = function () {\r\n    if (this.$cropperContainer && this.$cropperContainer.length) {\r\n      this.$cropperContainer.addClass('hidden');\r\n    }\r\n  };\r\n\r\n  pluginsNamespace.ImageCrop = ImageCrop;\r\n})(jQuery, DrawerJs.plugins, DrawerJs.util);\r\n(function ($, pluginsNamespace, util) {\r\n  \"use strict\";\r\n\r\n  var MOUSE_DOWN = util.mouseDown('drawerJsCrop');\r\n  var MOUSE_UP = util.mouseUp('drawerJsCrop');\r\n  var MOUSE_MOVE = util.mouseMove('drawerJsCrop');\r\n\r\n  var emptyFunc = function () {},\r\n      cssPrefixes = ['Webkit', 'Moz', 'ms'],\r\n      emptyStyles = document.createElement('div').style,\r\n      CSS_TRANS_ORG,\r\n      CSS_TRANSFORM,\r\n      CSS_USERSELECT;\r\n\r\n  function vendorPrefix(prop) {\r\n    if (prop in emptyStyles) {\r\n      return prop;\r\n    }\r\n\r\n    var capProp = prop[0].toUpperCase() + prop.slice(1),\r\n        i = cssPrefixes.length;\r\n\r\n    while (i--) {\r\n      prop = cssPrefixes[i] + capProp;\r\n      if (prop in emptyStyles) {\r\n        return prop;\r\n      }\r\n    }\r\n  }\r\n\r\n  CSS_TRANSFORM = vendorPrefix('transform');\r\n  CSS_TRANS_ORG = vendorPrefix('transformOrigin');\r\n  CSS_USERSELECT = vendorPrefix('userSelect');\r\n\r\n  /**\r\n   * Provides a button to minimize canvas.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * @param {jQuery} $element\r\n   * @param {object} [options]\r\n   * options\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var ImageCropPlugin = function ImageCropPluginConstructor(drawer, $element, options) {\r\n    /**\r\n     * @type {Drawer}\r\n     */\r\n    this.name = 'ImageCropPlugin';\r\n    this.drawer = drawer;\r\n    this.$element = $element;\r\n\r\n    this._resetData();\r\n    this.options = $.extend(true, {}, this._defaultOptions, options || {});\r\n\r\n    this._init();\r\n    return this;\r\n  };\r\n\r\n  ImageCropPlugin.prototype._defaultOptions = {\r\n    boundary: { },\r\n    enableExif: false,\r\n    minSize: 10,\r\n    enableOrientation: false,\r\n    update: emptyFunc,\r\n    controlsCss: {},\r\n    controlsTouchCss: {}\r\n  };\r\n\r\n  ImageCropPlugin.prototype.globals = {\r\n    translate: 'translate3d'\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param {String|Object} bindOptions\r\n   * @param {Function} [callback]\r\n   * @returns {Promise}\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._bind = function (bindOptions, callback) {\r\n    var url,\r\n        callbackIsValid = callback && typeof callback === 'function';\r\n\r\n    if (typeof bindOptions === 'string') {\r\n      this.data = {\r\n        url: bindOptions\r\n      };\r\n    } else {\r\n      this.data = $.extend(true, {}, bindOptions || {});\r\n    }\r\n\r\n    this._resetData();\r\n\r\n    this.successCallback = callbackIsValid ? callback : this.successCallback || emptyFunc;\r\n\r\n    if (this.data && this.data.newImage) {\r\n      this.originalImage = this.data.url;\r\n      this.prevImages = [];\r\n    }\r\n    this.currentImage = this.data.url;\r\n\r\n    this.elements.$fullsizePreview.attr('src', this.data.url);\r\n    var loadImagePromise = util.loadImage(this.data.url, this.elements.$img.get(0), this.data).then(this.startCropping.bind(this));\r\n    return loadImagePromise;\r\n  };\r\n\r\n  /** Draw data and get canvas\r\n   * @param {Object} data\r\n   * @returns {HTMLElement}\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._getCanvas = function(data) {\r\n    var points = data.points,\r\n        left = parseInt(points[0],10),\r\n        top = parseInt(points[1],10),\r\n        right = parseInt(points[2],10),\r\n        bottom = parseInt(points[3],10),\r\n        width = right-left,\r\n        height = bottom-top,\r\n        canvas = document.createElement('canvas'),\r\n        ctx = canvas.getContext('2d'),\r\n        outWidth = width,\r\n        outHeight = height,\r\n        startX = 0,\r\n        startY = 0,\r\n        canvasWidth = outWidth,\r\n        canvasHeight = outHeight,\r\n        customDimensions = (data.outputWidth && data.outputHeight),\r\n        outputRatio = 1;\r\n\r\n    if (!outputRatio && customDimensions) {\r\n      canvasWidth = data.outputWidth;\r\n      canvasHeight = data.outputHeight;\r\n      outputRatio = canvasWidth / outWidth;\r\n    }\r\n\r\n    canvas.width = canvasWidth;\r\n    canvas.height = canvasHeight;\r\n\r\n    if (data.backgroundColor) {\r\n      ctx.fillStyle = data.backgroundColor;\r\n      ctx.fillRect(0, 0, outWidth, outHeight);\r\n    }\r\n\r\n    if (left < 0) {\r\n      startX = Math.abs(left);\r\n      left = 0;\r\n    }\r\n    if (top < 0) {\r\n      startY = Math.abs(top);\r\n      top = 0;\r\n    }\r\n    if (right > this.originalWidth) {\r\n      width = this.originalWidth - left;\r\n      outWidth = width;\r\n    }\r\n    if (bottom > this.originalHeight) {\r\n      height = this.originalHeight - top;\r\n      outHeight = height;\r\n    }\r\n\r\n    if (outputRatio !== 1) {\r\n      startX *= outputRatio;\r\n      startY *= outputRatio;\r\n      outWidth *= outputRatio;\r\n      outHeight *= outputRatio;\r\n    }\r\n    ctx.drawImage(this.elements.$fullsizePreview.get(0), left, top, width, height, startX, startY, outWidth, outHeight);\r\n    return canvas;\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param {Object} data\r\n   * @returns {jQuery}\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._getHtmlResult = function(data) {\r\n    var points = data.points,\r\n        $div = $('<div class=\"croppie-result\">'),\r\n        $img = $('<img>'),\r\n        width = points[2] - points[0],\r\n        height = points[3] - points[1];\r\n\r\n    $div.append($img);\r\n    $img.css({\r\n      left: (-1 * points[0]) + 'px',\r\n      top: (-1 * points[1]) + 'px'\r\n    });\r\n    img.src = data.url;\r\n    $div.css({\r\n      width: width + 'px',\r\n      height: height + 'px'\r\n    });\r\n    return $div;\r\n  };\r\n\r\n  /**\r\n   * @param {Object} data\r\n   * @returns {String}\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._getBase64Result = function(data) {\r\n    var result = this._getCanvas(data).toDataURL(data.format, data.quality);\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param {Object} data\r\n   * @returns {Promise}\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._getBlobResult = function(data) {\r\n    var self = this;\r\n    return new Promise(function (resolve, reject) {\r\n      self._getCanvas(data).toBlob(function (blob) {\r\n        resolve(blob);\r\n      }, data.format, data.quality);\r\n    });\r\n  };\r\n\r\n\r\n  /**\r\n   * Get current state of cropper\r\n   * @return {Object} - current state data\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._get = function () {\r\n    var previewEl = this.elements.$img.get(0),\r\n        viewportEl = this.elements.$viewport.get(0),\r\n        imgData = previewEl.getBoundingClientRect(),\r\n        vpData = viewportEl.getBoundingClientRect(),\r\n        x1 = vpData.left - imgData.left,\r\n        y1 = vpData.top - imgData.top,\r\n        x2 = x1 + vpData.width,\r\n        y2 = y1 + vpData.height,\r\n        currZoom = (parseInt(this._currentZoom * 100) / 100) || 1;\r\n\r\n    x1 = Math.max(0, x1 / currZoom);\r\n    y1 = Math.max(0, y1 / currZoom);\r\n    x2 = Math.max(0, x2 / currZoom);\r\n    y2 = Math.max(0, y2 / currZoom);\r\n\r\n    var p1 = parseFloat(x1).toFixed(4),\r\n        p2 = parseFloat(y1).toFixed(4),\r\n        p3 = parseFloat(x2).toFixed(4),\r\n        p4 = parseFloat(y2).toFixed(4);\r\n\r\n    return {\r\n      points: [p1, p2, p3, p4],\r\n      zoom: currZoom\r\n    };\r\n  };\r\n\r\n  var RESULT_DEFAULTS = {\r\n        type: 'canvas',\r\n        format: 'png',\r\n        quality: 1\r\n      },\r\n      RESULT_FORMATS = ['jpeg', 'webp', 'png'];\r\n\r\n  /**\r\n   * Get result of image crop\r\n   * @param {Object} [options]\r\n   * @returns {Promise}\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._result = function (options) {\r\n    var self = this,\r\n        data = this._get(),\r\n        opts = $.extend(true, {}, RESULT_DEFAULTS, options || {}),\r\n        resultType = (typeof (options) === 'string' ? options : (opts.type || 'base64')),\r\n        format = opts.format,\r\n        quality = opts.quality,\r\n        backgroundColor = opts.backgroundColor,\r\n        viewport = this.elements.$viewport.get(0),\r\n        vpRect = viewport.getBoundingClientRect(),\r\n        prom;\r\n\r\n    /*\r\n    if (size === 'viewport') {\r\n      data.outputWidth = vpRect.width;\r\n      data.outputHeight = vpRect.height;\r\n    } else if (typeof size === 'object') {\r\n      if (size.width && size.height) {\r\n        data.outputWidth = size.width;\r\n        data.outputHeight = size.height;\r\n      } else if (size.width) {\r\n        data.outputWidth = size.width;\r\n        data.outputHeight = size.width / ratio;\r\n      } else if (size.height) {\r\n        data.outputWidth = size.height * ratio;\r\n        data.outputHeight = size.height;\r\n      }\r\n    }\r\n    */\r\n\r\n    if (RESULT_FORMATS.indexOf(format) > -1) {\r\n      data.format = 'image/' + format;\r\n      data.quality = quality;\r\n    }\r\n\r\n    data.url = this.data.url;\r\n    data.backgroundColor = backgroundColor;\r\n\r\n    prom = new Promise(function (resolve, reject) {\r\n      switch (resultType.toLowerCase()) {\r\n        case 'rawcanvas':\r\n          resolve(self._getCanvas(data));\r\n          break;\r\n        case 'canvas':\r\n        case 'base64':\r\n          resolve(self._getBase64Result(data));\r\n          break;\r\n        case 'blob':\r\n          self._getBlobResult(data).then(resolve);\r\n          break;\r\n        default:\r\n          resolve(self._getHtmlResult(data));\r\n          break;\r\n      }\r\n    });\r\n    return prom;\r\n  };\r\n\r\n  /**\r\n   * @param {Image} img\r\n   * @param {Function} cb - callback\r\n   */\r\n  ImageCropPlugin.prototype.getExifOrientation = function (img, cb) {\r\n    if (!window.EXIF) {\r\n      cb(0);\r\n    }\r\n\r\n    EXIF.getData(img, function () {\r\n      var orientation = EXIF.getTag(this, 'Orientation');\r\n      cb(orientation);\r\n    });\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param {HTMLCanvasElement} canvas\r\n   * @param {Image} img\r\n   * @param {Number} orientation\r\n   */\r\n  ImageCropPlugin.prototype.drawCanvas = function (canvas, img, orientation) {\r\n    var width = img.width,\r\n        height = img.height,\r\n        ctx = canvas.getContext('2d');\r\n\r\n    canvas.width = img.width;\r\n    canvas.height = img.height;\r\n\r\n    ctx.save();\r\n    switch (orientation) {\r\n      case 2:\r\n        ctx.translate(width, 0);\r\n        ctx.scale(-1, 1);\r\n        break;\r\n\r\n      case 3:\r\n        ctx.translate(width, height);\r\n        ctx.rotate(180*Math.PI/180);\r\n        break;\r\n\r\n      case 4:\r\n        ctx.translate(0, height);\r\n        ctx.scale(1, -1);\r\n        break;\r\n\r\n      case 5:\r\n        canvas.width = height;\r\n        canvas.height = width;\r\n        ctx.rotate(90*Math.PI/180);\r\n        ctx.scale(1, -1);\r\n        break;\r\n\r\n      case 6:\r\n        canvas.width = height;\r\n        canvas.height = width;\r\n        ctx.rotate(90*Math.PI/180);\r\n        ctx.translate(0, -height);\r\n        break;\r\n\r\n      case 7:\r\n        canvas.width = height;\r\n        canvas.height = width;\r\n        ctx.rotate(-90*Math.PI/180);\r\n        ctx.translate(-width, height);\r\n        ctx.scale(1, -1);\r\n        break;\r\n\r\n      case 8:\r\n        canvas.width = height;\r\n        canvas.height = width;\r\n        ctx.translate(0, width);\r\n        ctx.rotate(-90*Math.PI/180);\r\n        break;\r\n    }\r\n    ctx.drawImage(img, 0,0, width, height);\r\n    ctx.restore();\r\n  };\r\n\r\n  /**\r\n   * @param {Number} [customOrientation]\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._transferImageToCanvas = function (customOrientation) {\r\n    customOrientation = this.options.enableOrientation && customOrientation;\r\n    var $canvas = this.elements.$canvas,\r\n        canvas = $canvas.get(0),\r\n        img = this.elements.$img.get(0),\r\n        ctx = canvas.get(0).getContext('2d'),\r\n        exif = this.options.enableExif && window.EXIF;\r\n\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    canvas.width = img.width;\r\n    canvas.height = img.height;\r\n\r\n    if (exif) {\r\n      this.getExifOrientation(img, function (orientation) {\r\n        this.drawCanvas(canvas, img, parseInt(orientation, 10));\r\n        if (customOrientation) {\r\n          this.drawCanvas(canvas, img, customOrientation);\r\n        }\r\n      });\r\n    } else {\r\n      if (customOrientation) {\r\n        this.drawCanvas(canvas, img, customOrientation);\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * React on image crop\r\n   * @param {String} [result]\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._onCropSuccess = function (result) {\r\n    this.success(result);\r\n  };\r\n\r\n  /**\r\n   * Success callback\r\n   * @param {String} [result]\r\n   */\r\n  ImageCropPlugin.prototype.success = function (result) {\r\n    if (this.successCallback) {\r\n      this.successCallback(result);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Reset data of cropper plugin\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._resetData = function() {\r\n    this.weight = 0;\r\n\r\n    this.originalWidth = null;\r\n    this.originalHeight = null;\r\n    this.actualWidth = null;\r\n    this.actualHeight = null;\r\n\r\n    this.croppedWidth = null;\r\n    this.croppedHeight = null;\r\n    this.croppedLeft = null;\r\n    this.croppedTop = null;\r\n  };\r\n\r\n  /**\r\n   * Destroy instance of image crop plugin\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._destroy = function() {\r\n\r\n  };\r\n\r\n  /**\r\n   * Update size values of cropper elements\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._updateViewportSizes = function() {\r\n    var currentSizes = this.elements.$img.get(0).getBoundingClientRect(),\r\n        parentCurrentSizes = this.elements.$img.parent().get(0).getBoundingClientRect(),\r\n        offsetLeft = currentSizes && parentCurrentSizes && (currentSizes.left - parentCurrentSizes.left),\r\n        offsetTop = currentSizes && parentCurrentSizes && (currentSizes.top - parentCurrentSizes.top),\r\n        maxAvailableWidth = (currentSizes && currentSizes.width) || this.originalWidth,\r\n        maxAvailableHeight = (currentSizes && currentSizes.height) || this.originalHeight;\r\n\r\n    this.actualWidth = maxAvailableWidth;\r\n    this.actualHeight = maxAvailableHeight;\r\n    this.offsetLeft = offsetLeft;\r\n    this.offsetTop = offsetTop;\r\n    this._currentZoom = parseInt(this.actualWidth / this.originalWidth * 100) / 100;\r\n  };\r\n\r\n  /**\r\n   * Update viewport position\r\n   * @param {String} [styles] - style attribute\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._refreshViewportPosition = function(styles) {\r\n    this._updateViewportSizes();\r\n    var stylesForControls = {\r\n      'width': this.croppedWidth ? this.croppedWidth : this.actualWidth,\r\n      'height': this.croppedHeight ? this.croppedHeight : this.actualHeight,\r\n      'max-width': this.actualWidth,\r\n      'max-height': this.actualHeight,\r\n      'left': this.croppedLeft ? this.croppedLeft : this.offsetLeft || 0,\r\n      'top': this.croppedTop ? this.croppedTop : this.offsetTop || 0\r\n    };\r\n    if (styles) {\r\n      this.elements.$viewport.attr('style', styles);\r\n    } else {\r\n      this.elements.$viewport.css(stylesForControls);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Restore prev state of cropper\r\n   */\r\n  ImageCropPlugin.prototype.undoCrop = function() {\r\n    var imageToUndo = this.prevImages.pop();\r\n    if (imageToUndo) {\r\n      this._bind(imageToUndo);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Create cropper elements\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._setupCropElements = function () {\r\n    var controlsBlockHtml,\r\n        assetsUrl = util.getDrawerFolderUrl() + 'assets/',\r\n        cursorStyleAttr = 'style=\"cursor: url(' + assetsUrl + 'cursor-fa-crop-right.cur), crosshair\"',\r\n        borderStyleAttr = 'style=\"background: url(' + assetsUrl + 'border.gif);\"';\r\n\r\n    controlsBlockHtml = ''+\r\n        '<div class=\"imager-crop-container\">' +\r\n        '<div class=\"crop-corner crop-top-left\"></div>' +\r\n        '<div class=\"crop-corner crop-top-right\"></div>' +\r\n        '<div class=\"crop-corner crop-bottom-right\"></div>' +\r\n        '<div class=\"crop-corner crop-bottom-left\"></div>' +\r\n        '<div class=\"crop-border crop-border-top\" '+borderStyleAttr+'></div>' +\r\n        '<div class=\"crop-border crop-border-right\" '+borderStyleAttr+'></div>' +\r\n        '<div class=\"crop-border crop-border-bottom\" '+borderStyleAttr+'></div>' +\r\n        '<div class=\"crop-border crop-border-left\" '+borderStyleAttr+'></div>' +\r\n        '</div>';\r\n    \r\n    this.elements = this.elements || {};\r\n    this.elements.$viewport =  $(controlsBlockHtml);\r\n\r\n    this.elements.$img = $('<img class=\"cr-image\">');\r\n    this.elements.$fullsizePreview = $('<img class=\"cr-image-fullsize\">');\r\n    this.elements.$overlay = $('<div class=\"cr-overlay\">');\r\n    this.elements.$preview = this.elements.$img;\r\n\r\n    this.$element.append(this.elements.$fullsizePreview);\r\n    this.$element.append(this.elements.$preview);\r\n    this.$element.append(this.elements.$overlay);\r\n    this.$element.append(this.elements.$viewport);\r\n  };\r\n\r\n  /**\r\n   * Init cropper\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._init = function () {\r\n    this._setupCropElements();\r\n  };\r\n\r\n  /**\r\n   * Save current state of cropper\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype._save = function () {\r\n\r\n    this.prevImages.push({\r\n      viewportStyleAttr: this.elements.$viewport.attr('style'),\r\n      points: this._get(),\r\n      url: this.currentImage\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Process crop with current settings\r\n   * @param {Boolean} [replaceCurrentImageWithResult]\r\n   */\r\n  ImageCropPlugin.prototype.applyCrop = function (replaceCurrentImageWithResult) {\r\n    var self = this;\r\n    self._result().then(function (result) {\r\n      if (replaceCurrentImageWithResult) {\r\n        self._save();\r\n        self._bind(result);\r\n      } else {\r\n        self._onCropSuccess(result);\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * @param {Image} img\r\n   */\r\n  ImageCropPlugin.prototype.startCropping = function (img) {\r\n    var _this = this;\r\n\r\n    img.style.opacity = 1;\r\n\r\n    _this.enableRendering = false;\r\n    _this.renderCropped = false;\r\n\r\n    var $body = $('body');\r\n\r\n    _this.originalWidth = img.naturalWidth;\r\n    _this.originalHeight = img.naturalHeight;\r\n\r\n    _this.makePreview();\r\n    _this._refreshViewportPosition(_this.data && _this.data.viewportStyleAttr);\r\n    _this.viewportStyleAttr = false;\r\n\r\n    var $corners = _this.elements.$viewport.find('.crop-corner');\r\n\r\n    if (_this.drawer.touchDevice) {\r\n      $corners.css(_this.options.controlsTouchCss);\r\n    } else {\r\n      $corners.css(_this.options.controlsCss);\r\n    }\r\n\r\n    $corners.on(MOUSE_DOWN, function (clickEvent) {\r\n      var controlItem = this,\r\n          controlItemSize = this.getBoundingClientRect().width / 2;\r\n\r\n      _this.drawer.croppingNow = true;\r\n\r\n      var startPos = util.getEventPosition(clickEvent);\r\n\r\n      var viewportSizeBox = _this.elements.$viewport.get(0).getBoundingClientRect(),\r\n          parentSizeBox = _this.elements.$viewport.parent().get(0).getBoundingClientRect(),\r\n          startControlsLeft = viewportSizeBox.left - parentSizeBox.left,\r\n          startControlsTop = viewportSizeBox.top - parentSizeBox.top,\r\n          startControlsWidth = viewportSizeBox.width,\r\n          startControlsHeight = viewportSizeBox.height;\r\n\r\n      var isTopLeft = $(controlItem).hasClass('crop-top-left'),\r\n          isTopRight = $(controlItem).hasClass('crop-top-right'),\r\n          isBottomLeft = $(controlItem).hasClass('crop-bottom-left'),\r\n          isBottomRight = $(controlItem).hasClass('crop-bottom-right');\r\n\r\n      $body.on(MOUSE_MOVE, function (moveEvent) {\r\n        var movePos = util.getEventPosition(moveEvent);\r\n\r\n        var diffLeft = movePos.left - startPos.left;\r\n        var diffTop = movePos.top - startPos.top;\r\n\r\n        if (isTopLeft) {\r\n          _this.croppedLeft = startControlsLeft + diffLeft;\r\n          _this.croppedTop = startControlsTop + diffTop;\r\n\r\n          _this.croppedWidth = startControlsWidth - diffLeft;\r\n          _this.croppedHeight = startControlsHeight - diffTop;\r\n        }\r\n\r\n        if (isTopRight) {\r\n          _this.croppedLeft = startControlsLeft;\r\n          _this.croppedTop = startControlsTop + diffTop;\r\n\r\n          _this.croppedWidth = startControlsWidth - (diffLeft * -1);\r\n          _this.croppedHeight = startControlsHeight - diffTop;\r\n        }\r\n\r\n        if (isBottomRight) {\r\n          _this.croppedLeft = startControlsLeft;\r\n          _this.croppedTop = startControlsTop;\r\n\r\n          _this.croppedWidth = startControlsWidth - (diffLeft * -1);\r\n          _this.croppedHeight = startControlsHeight + diffTop;\r\n        }\r\n\r\n        if (isBottomLeft) {\r\n          _this.croppedLeft = startControlsLeft + diffLeft;\r\n          _this.croppedTop = startControlsTop;\r\n\r\n          _this.croppedWidth = startControlsWidth - diffLeft;\r\n          _this.croppedHeight = startControlsHeight + diffTop;\r\n        }\r\n\r\n        // bounds validation\r\n        if (_this.croppedLeft < _this.offsetLeft) {\r\n          _this.croppedLeft = _this.offsetLeft;\r\n        }\r\n\r\n        if ((_this.croppedLeft + controlItemSize) > (_this.offsetLeft + _this.actualWidth)) {\r\n          _this.croppedLeft = _this.offsetLeft + _this.actualWidth - _this.options.minSize;\r\n          _this.croppedWidth = _this.options.minSize;\r\n        }\r\n\r\n        if (_this.croppedTop < _this.offsetTop) {\r\n          _this.croppedTop = _this.offsetTop;\r\n        }\r\n\r\n        if ((_this.croppedTop + controlItemSize) > (_this.offsetTop + _this.actualHeight)) {\r\n          _this.croppedTop = _this.offsetTop + _this.actualHeight - _this.options.minSize;\r\n          _this.croppedHeight = _this.options.minSize;\r\n        }\r\n\r\n        if (_this.croppedLeft + _this.croppedWidth > (_this.actualWidth + _this.offsetLeft)) {\r\n          _this.croppedWidth = _this.actualWidth - _this.croppedLeft + _this.offsetLeft;\r\n        }\r\n\r\n        if (_this.croppedTop + _this.croppedHeight > (_this.actualHeight + _this.offsetTop)) {\r\n          _this.croppedHeight = _this.actualHeight - _this.croppedTop + _this.offsetTop;\r\n        }\r\n\r\n        _this.elements.$viewport.css({\r\n          left: _this.croppedLeft,\r\n          top: _this.croppedTop,\r\n          width: _this.croppedWidth,\r\n          height: _this.croppedHeight\r\n        });\r\n\r\n        moveEvent.preventDefault();\r\n        moveEvent.stopPropagation();\r\n        return false;\r\n      });\r\n\r\n      $body.on(MOUSE_UP, function () {\r\n        util.setTimeout(function(){\r\n          _this.drawer.croppingNow = false;\r\n        }, 50);\r\n        $body.off(MOUSE_MOVE);\r\n        $body.off(MOUSE_UP);\r\n      });\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Create preview element\r\n   * @param {Number} originalWidth\r\n   * @param {Number} originalHeight\r\n   */\r\n  ImageCropPlugin.prototype.makePreview = function (originalWidth, originalHeight) {\r\n    var _this = this;\r\n\r\n    _this.$preview = $('' +\r\n        '<div class=\"imager-crop-preview-container\">' +\r\n        '<canvas class=\"imager-crop-preview\"></canvas>' +\r\n        '</div>').css('position', 'absolute').css('top', '50px').css({\r\n      width: originalWidth,\r\n      height: originalHeight,\r\n      position: 'absolute',\r\n      right: '50px',\r\n      top: '50px'\r\n    });\r\n\r\n    _this.previewCanvas = _this.$preview.find('canvas.imager-crop-preview')[0];\r\n    _this.previewCanvas.__previewCanvas = true;\r\n\r\n    _this.previewCanvas.width = originalWidth * 1.5;\r\n    _this.previewCanvas.height = originalHeight * 1.5;\r\n\r\n    $(_this.previewCanvas).css({\r\n      height: '400px'\r\n    });\r\n\r\n    _this.$element.append(this.$preview);\r\n  };\r\n\r\n  /**\r\n   * Reset data\r\n   * @private\r\n   */\r\n  ImageCropPlugin.prototype.reset = function () {\r\n    this.croppedLeft = null;\r\n    this.croppedTop = null;\r\n    this.croppedWidth = null;\r\n    this.croppedHeight = null;\r\n\r\n    this.sizeBeforeCrop = null;\r\n  };\r\n\r\n  /* CSS Transform Prototype */\r\n  var TRANSLATE_OPTS = {\r\n    'translate3d': {\r\n      suffix: ', 0px'\r\n    },\r\n    'translate': {\r\n      suffix: ''\r\n    }\r\n  };\r\n  var Transform = function (x, y, scale) {\r\n    this.x = parseFloat(x);\r\n    this.y = parseFloat(y);\r\n    this.scale = parseFloat(scale);\r\n  };\r\n\r\n  Transform.parse = function (v) {\r\n    if (v) {\r\n      var isJquery = v && v instanceof jQuery && v.length,\r\n          isNode = v instanceof Node,\r\n          node = isJquery ? v.get(0) : (isNode && v),\r\n          nodeStyle = node && node.style;\r\n      if (nodeStyle) {\r\n        return Transform.parse(nodeStyle[CSS_TRANSFORM]);\r\n      } else {\r\n        if (v.indexOf('matrix') > -1 || v.indexOf('none') > -1) {\r\n          return Transform.fromMatrix(v);\r\n        } else {\r\n          return Transform.fromString(v);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  Transform.fromMatrix = function (v) {\r\n    var vals = v.substring(7).split(',');\r\n    if (!vals.length || v === 'none') {\r\n      vals = [1, 0, 0, 1, 0, 0];\r\n    }\r\n    var xVal = parseInt(vals[4], 10),\r\n        yVal = parseInt(vals[5], 10),\r\n        scaleVal = parseFloat(vals[0]);\r\n\r\n    return new Transform(xVal, yVal, scaleVal);\r\n  };\r\n\r\n  Transform.fromString = function (v) {\r\n    var values = v.split(') '),\r\n        translate = values[0].substring(ImageCropPlugin.prototype.globals.translate.length + 1).split(','),\r\n        scale = values.length > 1 ? values[1].substring(6) : 1,\r\n        x = translate.length > 1 ? translate[0] : 0,\r\n        y = translate.length > 1 ? translate[1] : 0;\r\n\r\n    return new Transform(x, y, scale);\r\n  };\r\n\r\n  Transform.prototype.toString = function () {\r\n    var suffix = TRANSLATE_OPTS[ImageCropPlugin.prototype.globals.translate].suffix || '',\r\n        prefix = ImageCropPlugin.prototype.globals.translate,\r\n        style = '(' + this.x + 'px, ' + this.y + 'px' + suffix + ') scale(' + this.scale + ')',\r\n        result = prefix + style;\r\n\r\n    return result;\r\n  };\r\n\r\n  var TransformOrigin = function (el) {\r\n    var elIsJquery = el instanceof jQuery;\r\n    el = elIsJquery ? el.get(0) : el;\r\n    if (!el || !el.style[CSS_TRANS_ORG]) {\r\n      this.x = 0;\r\n      this.y = 0;\r\n      return;\r\n    }\r\n    var css = el.style[CSS_TRANS_ORG].split(' ');\r\n    this.x = parseFloat(css[0]);\r\n    this.y = parseFloat(css[1]);\r\n  };\r\n\r\n  TransformOrigin.prototype.toString = function () {\r\n    return this.x + 'px ' + this.y + 'px';\r\n  };\r\n  /***********/\r\n  pluginsNamespace.ImageCropPlugin = ImageCropPlugin;\r\n})(jQuery, DrawerJs.plugins, DrawerJs.util);\r\n(function ($, pluginsNamespace, util, DrawerApi) {\r\n  \"use strict\";\r\n\r\n  /**\r\n   * Provides a button to minimize canvas.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * @param {Object} options\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var MinimizeButton = function MinimizeButtonConstructor(drawer, options) {\r\n    /**\r\n     * @type {Drawer}\r\n     */\r\n    this.name = 'MinimizeButton';\r\n    this.drawer = drawer;\r\n    this._setupOptions(options);\r\n\r\n    drawer.on(drawer.EVENT_CONFIG_TOOLBAR_CREATED,  this._onConfigToolbarCreated.bind(this));\r\n    drawer.on(drawer.EVENT_MINIMIZED_TOOLBAR_CREATED,  this._onMinimizedToolbarCreated.bind(this));\r\n  };\r\n\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {Object} [options] - options to save\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n   * @returns {Object} config of plugin\r\n   */\r\n  MinimizeButton.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n    pluginName = pluginName || this.name;\r\n    var drawer = this.drawerInstance || this.drawer,\r\n        optionsFromDrawer = drawer && drawer.getPluginConfig(pluginName),\r\n        result = $.extend(true,\r\n            {},\r\n            this._defaultOptions || {},\r\n            optionsFromDrawer || {},\r\n            options || {}\r\n        );\r\n\r\n    if (!doNotSave) {\r\n      this.options = result;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * On toolbar created - create tool button.\r\n   */\r\n  MinimizeButton.prototype._onConfigToolbarCreated = function (ev, toolbar) {\r\n    this._createAndAddButton_minimize(toolbar);\r\n  };\r\n\r\n  /**\r\n   * On toolbar created - create tool button.\r\n   */\r\n  MinimizeButton.prototype._onMinimizedToolbarCreated = function (ev, toolbar) {\r\n    var captionValue = this.drawer.options.captionText,\r\n        captionItem = $('<li class=\"canvas-caption\">' + captionValue + '</li>');\r\n    toolbar.$toolbar.find('.toolbar-content-wrapper').prepend(captionItem);\r\n    this._createAndAddButton_restore(toolbar);\r\n  };\r\n\r\n  /**\r\n   * Deletes tool button.\r\n   * If  doDeleteToolbarCreationListeners is true - removes listeners of toolbar creation event.\r\n   * So, tool will not appear on toolbar next time, when toolbar is created.\r\n   *\r\n   * @param {boolean} doDeleteToolbarCreationListeners\r\n   */\r\n  MinimizeButton.prototype.removeTool = function(doDeleteToolbarCreationListeners) {\r\n      if (this.deleteControls) {\r\n          this.deleteControls();\r\n      }\r\n      // stop listening toolbar creation\r\n      if (doDeleteToolbarCreationListeners) {\r\n          this.drawer.off(this.drawer.EVENT_CONFIG_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n      }\r\n  };\r\n\r\n  /**\r\n   * Turn on minimized mode\r\n   */\r\n  MinimizeButton.prototype.minimizeCanvas = function() {\r\n    var $editContainer = this.drawer.$canvasEditContainer,\r\n        drawerHaveAnimatedClass =  $editContainer.hasClass('animated');\r\n    $editContainer.removeClass('animated');\r\n    $editContainer.addClass('minimized');\r\n    util.setTimeout(function () {\r\n      $editContainer.toggleClass('animated', !!drawerHaveAnimatedClass);\r\n    }, 0);\r\n  };\r\n\r\n  /**\r\n   * Turn off minimized mode\r\n   */\r\n  MinimizeButton.prototype.restoreCanvas = function() {\r\n    var $editContainer = this.drawer.$canvasEditContainer,\r\n        drawerHaveAnimatedClass =  $editContainer.hasClass('animated');\r\n    $editContainer.removeClass('animated');\r\n    $editContainer.removeClass('minimized');\r\n    util.setTimeout(function () {\r\n      $editContainer.toggleClass('animated', !!drawerHaveAnimatedClass);\r\n    }, 0);\r\n  };\r\n\r\n  /**\r\n   * Creates and adds restore button to toolbar.\r\n   * @param  {DrawerToolbar} toolbar\r\n   */\r\n  MinimizeButton.prototype._createAndAddButton_restore = function(toolbar) {\r\n    var restoreButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-restore-canvas',\r\n          iconClass: 'fa-expand',\r\n          tooltipText: this.drawer.t('Restore canvas'),\r\n          clickHandler: this._onRestoreSizeButtonClick.bind(this)\r\n        },\r\n        $restoreButton = toolbar.addButton(restoreButtonConf);\r\n    this.$restoreButton = $restoreButton;\r\n  };\r\n\r\n  /**\r\n   * Creates and adds minimize button to toolbar.\r\n   * @param  {DrawerToolbar} toolbar\r\n   */\r\n  MinimizeButton.prototype._createAndAddButton_minimize = function(toolbar) {\r\n    var minimizeButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-minimize-canvas',\r\n          iconClass: 'fa-compress',\r\n          tooltipText: this.drawer.t('Minimize canvas'),\r\n          clickHandler: this._onMinimizeButtonClick.bind(this)\r\n        },\r\n        $minimizeButton = toolbar.addButton(minimizeButtonConf);\r\n    this.$minimizeButton = $minimizeButton;\r\n  };\r\n\r\n\r\n  /**\r\n   * On minimize button click handler\r\n   */\r\n  MinimizeButton.prototype._onMinimizeButtonClick = function () {\r\n    this.minimizeCanvas();\r\n  };\r\n\r\n  /**\r\n   * On minimize button click handler\r\n   */\r\n  MinimizeButton.prototype._onRestoreSizeButtonClick = function () {\r\n    this.restoreCanvas();\r\n  };\r\n\r\n  /**\r\n   * Provide API method - minimizeCanvas\r\n   */\r\n  DrawerApi.prototype.minimizeCanvas = function() {\r\n    this.drawer.api.checkIsActive();\r\n    var tool = this.drawer.getPluginInstance('MinimizeButton');\r\n    tool.minimizeCanvas();\r\n  };\r\n\r\n  /**\r\n   * Provide API method - restoreCanvas\r\n   */\r\n  DrawerApi.prototype.restoreCanvas = function() {\r\n    this.drawer.api.checkIsActive();\r\n    var tool = this.drawer.getPluginInstance('MinimizeButton');\r\n    tool.restoreCanvas();\r\n  };\r\n\r\n  pluginsNamespace.MinimizeButton = MinimizeButton;\r\n})(jQuery, DrawerJs.plugins, DrawerJs.util, DrawerJs.DrawerApi);\r\n(function ($, pluginsNamespace, /*BaseToolOptions,*/ util) {\r\n  \"use strict\";\r\n  var MOUSE_DOWN = util.mouseDown('MovableFloatingMode');\r\n  var MOUSE_MOVE = util.mouseMove('MovableFloatingMode');\r\n  var MOUSE_UP = util.mouseUp('MovableFloatingMode');\r\n\r\n\r\n  /**\r\n   * Allows moving of canvas when it is in 'floating' mode.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * @param {Object} options\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var MovableFloatingMode = function MovableFloatingModePlugin(drawer, options) {\r\n    this.drawer = drawer;\r\n    this._setupOptions(options);\r\n\r\n    // set handlers\r\n    this._bindedOnToolbarCreated = this._onToolbarCreated.bind(this);\r\n    drawer.on(drawer.EVENT_CONFIG_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n    drawer.on(drawer.EVENT_MINIMIZED_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n\r\n    // if options.align is set and not 'floating' - plugin will not work, warn user about this\r\n    if (drawer.options.align && (drawer.options.align !== 'floating')) {\r\n      console.warn(\"MovableFloatingMode plugin: options.align is set and it is not 'floating', so canvas will not move. Please use MovableFloatingMode plugin with 'floating' align\");\r\n    }\r\n\r\n    // if align is not set - make it 'floating'\r\n    if (!drawer.options.align) {\r\n        drawer.options.align = 'floating';\r\n    }\r\n\r\n    this.drawer.on(this.drawer.EVENT_CANVAS_READY,    this.onOptionsChanged.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_OPTIONS_CHANGED, this.onOptionsChanged.bind(this));\r\n  };\r\n\r\n  // MovableFloatingMode.prototype = Object.create(BaseToolOptions.prototype);\r\n  // MovableFloatingMode.prototype.constructor = BaseToolOptions;\r\n\r\n    /**\r\n     * Setup data\r\n     * @param {Object} [options] - options to save\r\n     * @param {String} [pluginName] - name of plugin\r\n     * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n     * @returns {Object} config of plugin\r\n     */\r\n    MovableFloatingMode.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n      pluginName = pluginName || this.name;\r\n      var drawer = this.drawerInstance || this.drawer,\r\n          optionsFromDrawer = drawer && drawer.getPluginConfig(pluginName),\r\n          result = $.extend(true,\r\n              {},\r\n              this._defaultOptions || {},\r\n              optionsFromDrawer || {},\r\n              options || {}\r\n          );\r\n\r\n      if (!doNotSave) {\r\n        this.options = result;\r\n      }\r\n      return result;\r\n    };\r\n\r\n\r\n    /**\r\n     * On toolbar created - create tool button.\r\n     */\r\n    MovableFloatingMode.prototype._onToolbarCreated = function (ev, toolbar) {\r\n        this.toolbar = toolbar;\r\n        this.createControls(toolbar);\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * Deletes tool button.\r\n     * If  doDeleteToolbarCreationListeners is true - removes listeners of toolbar creation event.\r\n     * So, tool will not appear on toolbar next time, when toolbar is created.\r\n     *\r\n     * @param {boolean} doDeleteToolbarCreationListeners\r\n     */\r\n    MovableFloatingMode.prototype.removeTool = function(doDeleteToolbarCreationListeners) {\r\n        if (this.deleteControls) {\r\n            this.deleteControls();\r\n        }\r\n\r\n        // stop listening toolbar creation\r\n        if (doDeleteToolbarCreationListeners) {\r\n            this.drawer.off(this.drawer.EVENT_CONFIG_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n            this.drawer.off(this.drawer.EVENT_MINIMIZED_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n        }\r\n    };\r\n\r\n\r\n\r\n  /**\r\n   * Is called from Base\r\n   * @param  {DrawerToolbar} toolbar\r\n   */\r\n  MovableFloatingMode.prototype.createControls = function (toolbar) {\r\n    this.makeMoveButton(toolbar);\r\n  };\r\n\r\n  MovableFloatingMode.prototype.makeMoveButton = function (toolbar) {\r\n    // create move button\r\n    var moveButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-move',\r\n          iconClass: 'fa-arrows',\r\n          tooltipText: this.drawer.t('Move canvas')\r\n        },\r\n        $moveButton = toolbar.addButton(moveButtonConf);\r\n    this.$moveButton = $moveButton;\r\n\r\n    // set handler\r\n    this.$moveButton.on(MOUSE_DOWN, this.buttonOnMouseDown.bind(this));\r\n  };\r\n\r\n\r\n  /**\r\n   * Handler of mouse down on button.\r\n   * @param  {MouseEvent} event [description]\r\n   */\r\n  MovableFloatingMode.prototype.buttonOnMouseDown = function (event) {\r\n    if (event.type.indexOf('touch') > -1) {\r\n      event = event.originalEvent;\r\n    }\r\n\r\n    $('.tooltip-btn-move').css('display', 'none');\r\n\r\n    // save coords of drawer\r\n    this.startLeft = this.drawer.$imageElement\r\n        .css('left').replace('px', '') | 0;\r\n    this.startTop = this.drawer.$imageElement\r\n        .css('top').replace('px', '') | 0;\r\n\r\n    // save coords of click\r\n    this.mouseStartLeft = event.pageX;\r\n    this.mouseStartTop = event.pageY;\r\n\r\n    // set handler for mouse move\r\n    var $body = $('body'),\r\n        $document = $(window.document);\r\n    $body.addClass('drawer-moving');\r\n    $document.on(MOUSE_MOVE, this.buttonOnMouseMove.bind(this));\r\n    // set handler for mouse up\r\n    $document.on(MOUSE_UP, this.buttonOnMouseUp.bind(this));\r\n\r\n    return false;\r\n  };\r\n\r\n\r\n  /**\r\n   * Handler of mouse movement, when mouse button is down.\r\n   * @param  {Event} moveEvent        [description]\r\n   * @return {Boolean}                returns false, to stop event propagation\r\n   */\r\n  MovableFloatingMode.prototype.buttonOnMouseMove = function (moveEvent) {\r\n    var self = this,\r\n        moveEventPos = util.getEventPosition(moveEvent),\r\n        moveDrawerFunc = function moveDrawerFunc(){\r\n          self.moveDrawer(moveEventPos.left, moveEventPos.top);\r\n        };\r\n\r\n    util.requestAnimationFrame(moveDrawerFunc);\r\n\r\n    moveEvent.preventDefault();\r\n    moveEvent.stopPropagation();\r\n    return false;\r\n  };\r\n\r\n\r\n  /**\r\n   * Mouse up handler.\r\n   * @param  {MouseEvent} event\r\n   * @return {Boolean}    returns false, to stop event propagation\r\n   */\r\n  MovableFloatingMode.prototype.buttonOnMouseUp = function (event) {\r\n      $('.tooltip-btn-move').css('display', 'block');\r\n\r\n      var $body = $('body'),\r\n          $document = $(window.document);\r\n      $body.removeClass('drawer-moving');\r\n    $document.off(MOUSE_MOVE);\r\n    $document.off(MOUSE_UP);\r\n\r\n      return false;\r\n  };\r\n\r\n\r\n  /**\r\n   * Moves drawer according to mouse movement.\r\n   * x, y here are coords of mouse pointer.\r\n   *\r\n   * @param  {integer} x x coord of mouse pointer\r\n   * @param  {integer} y y coord of mouse pointer\r\n   */\r\n  MovableFloatingMode.prototype.moveDrawer = function (x, y) {\r\n    // calc offset of mouse pointer from click position\r\n    var diffLeft = x - this.mouseStartLeft;\r\n    var diffTop = y - this.mouseStartTop;\r\n\r\n    // new coords of drawer\r\n    var newLeft = this.startLeft + diffLeft;\r\n    var newTop = this.startTop + diffTop;\r\n    newLeft = (newLeft < 0) ? 0 : newLeft;\r\n    newTop  = (newTop < 0)  ? 0 : newTop;\r\n\r\n    // change drawer position\r\n    var drawer = this.drawer;\r\n    drawer.$imageElement.css({\r\n      left: newLeft,\r\n      top: newTop\r\n    });\r\n\r\n    drawer.updateAligmentCss();\r\n    drawer.adjustEditContainer(false, true);\r\n  };\r\n\r\n  /**\r\n   * Shows/hide move button, depending on current align mode.\r\n   */\r\n  MovableFloatingMode.prototype.onOptionsChanged = function() {\r\n    // try to get fullscreen plugin\r\n    var fullScreenPlugin;\r\n    try {\r\n      fullScreenPlugin = this.drawer.getPluginInstance('Fullscreen');\r\n    }\r\n    catch (e) {\r\n      // do nothing\r\n    }\r\n\r\n    // see, if we are in fullscreen mode\r\n    var isInFullscreen = fullScreenPlugin && fullScreenPlugin.isInFullscreenMode();\r\n\r\n    // show button if no fullscreen mode and align is 'floating'\r\n    if (!isInFullscreen && (this.drawer.options.align == 'floating')) {\r\n      this.showMoveButton();\r\n    } else {\r\n      this.hideMoveButton();\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Shows plugin button.\r\n   */\r\n  MovableFloatingMode.prototype.showMoveButton = function() {\r\n    if (!this.$moveButton) {\r\n      console.warn('MovableFloatingMode.removeMoveButton() : no button \\'Move\\' present');\r\n      return;\r\n    }\r\n    this.$moveButton.show();\r\n  };\r\n\r\n  /**\r\n   * Hides plugin button.\r\n   */\r\n  MovableFloatingMode.prototype.hideMoveButton = function() {\r\n    if (!this.$moveButton) {\r\n      console.warn('MovableFloatingMode.removeMoveButton() : no button \\'Move\\' present');\r\n      return;\r\n    }\r\n    this.$moveButton.hide();\r\n  };\r\n\r\n\r\n  pluginsNamespace.MovableFloatingMode = MovableFloatingMode;\r\n}(jQuery, DrawerJs.plugins, /*DrawerJs.plugins.BaseToolOptions,*/ DrawerJs.util));\r\n(function ($, pluginsNamespace, util) {\r\n  \"use strict\";\r\n\r\n  var emptyFunc = function () {};\r\n\r\n  var MOUSE_UP = util.mouseUp('OpenPopupButton');\r\n  var MOUSE_DOWN = util.mouseDown('OpenPopupButton');\r\n  var MOUSE_MOVE = util.mouseMove('OpenPopupButton');\r\n\r\n  /**\r\n   * Provides a button to open popup\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * @param {Object} options\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var OpenPopupButton = function OpenPopupButtonConstructor(drawer, options) {\r\n    /**\r\n     * @type {Drawer}\r\n     */\r\n    this.drawer = drawer;\r\n    this._setupOptions(options);\r\n\r\n    drawer.on(drawer.EVENT_OPTIONS_TOOLBAR_CREATED, this._onToolbarCreated.bind(this));\r\n    drawer.on(drawer.EVENT_FLOATING_TOOLBAR_CREATED, this._init.bind(this));\r\n  };\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {Object} [options] - options to save\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n   * @returns {Object} config of plugin\r\n   */\r\n  OpenPopupButton.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n    pluginName = pluginName || this.name;\r\n    var drawer = this.drawerInstance || this.drawer,\r\n        optionsFromDrawer = drawer && drawer.getPluginConfig(pluginName),\r\n        result = $.extend(true,\r\n            {},\r\n            this._defaultOptions || {},\r\n            optionsFromDrawer || {},\r\n            options || {}\r\n        );\r\n\r\n    if (!doNotSave) {\r\n      this.options = result;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Init\r\n   * @private\r\n   */\r\n  OpenPopupButton.prototype._init = function (ev, toolbar) {\r\n    if (this.needToInitButton) {\r\n      this.createControls(toolbar);\r\n\r\n      this.drawer.off(this.drawer.EVENT_OBJECT_SELECTED, this._onObjectSelected.bind(this));\r\n      this.drawer.on(this.drawer.EVENT_OBJECT_SELECTED, this._onObjectSelected.bind(this));\r\n\r\n      this.drawer.off(this.drawer.EVENT_SELECTION_CLEARED, this._onSelectionCleared.bind(this));\r\n      this.drawer.on(this.drawer.EVENT_SELECTION_CLEARED, this._onSelectionCleared.bind(this));\r\n\r\n      this.drawer.off(this.drawer.EVENT_DO_ACTIVATE_TOOL, this._onActivateTool.bind(this));\r\n      this.drawer.on(this.drawer.EVENT_DO_ACTIVATE_TOOL, this._onActivateTool.bind(this));\r\n\r\n      this.drawer.off(this.drawer.EVENT_DO_DEACTIVATE_TOOL, this._onDeactivateTool.bind(this));\r\n      this.drawer.on(this.drawer.EVENT_DO_DEACTIVATE_TOOL, this._onDeactivateTool.bind(this));\r\n\r\n      this.drawer.off(this.drawer.EVENT_DO_DEACTIVATE_ALL_TOOLS, this._onDeactivateAllTools.bind(this));\r\n      this.drawer.on(this.drawer.EVENT_DO_DEACTIVATE_ALL_TOOLS, this._onDeactivateAllTools.bind(this));\r\n\r\n      this.drawer.off(this.drawer.EVENT_CANVAS_START_RESIZE, this.hideButton.bind(this));\r\n      this.drawer.on(this.drawer.EVENT_CANVAS_START_RESIZE, this.hideButton.bind(this));\r\n\r\n      this.drawer.off(this.drawer.EVENT_CANVAS_STOP_RESIZE, this.refreshPosition.bind(this));\r\n      this.drawer.on(this.drawer.EVENT_CANVAS_STOP_RESIZE, this.refreshPosition.bind(this));\r\n\r\n      this.drawer.off(this.drawer.EVENT_OVERCANVAS_BUTTON_HIDE, this.hideButton.bind(this));\r\n      this.drawer.on(this.drawer.EVENT_OVERCANVAS_BUTTON_HIDE, this.hideButton.bind(this));\r\n\r\n      this.drawer.off(this.drawer.EVENT_OVERCANVAS_BUTTON_SHOW, this.showButton.bind(this));\r\n      this.drawer.on(this.drawer.EVENT_OVERCANVAS_BUTTON_SHOW, this.showButton.bind(this));\r\n\r\n      this.drawer.off(this.drawer.EVENT_IMAGE_CROP, this.hideButton.bind(this));\r\n      this.drawer.on(this.drawer.EVENT_IMAGE_CROP, this.hideButton.bind(this));\r\n    }\r\n  };\r\n\r\n  /**\r\n   * React on toolbar created\r\n   * @private\r\n   */\r\n  OpenPopupButton.prototype._onToolbarCreated = function (ev, toolbar) {\r\n    this.toolbar = toolbar;\r\n\r\n    var toolOptionsToolbarHavePopupPosition = toolbar.options.compactType === toolbar.POPUP,\r\n        toolbarIsHidden = toolbar.options.hidden,\r\n        needToInitButton = toolOptionsToolbarHavePopupPosition && !toolbarIsHidden;\r\n\r\n    this.needToInitButton = needToInitButton;\r\n  };\r\n\r\n  /**\r\n   * React on object selected\r\n   * @private\r\n   */\r\n\r\n  OpenPopupButton.prototype._onObjectSelected = function (event) {\r\n    this.showButton();\r\n  };\r\n\r\n\r\n  /**\r\n   * React on tool activation\r\n   * @private\r\n   */\r\n\r\n  OpenPopupButton.prototype._onActivateTool = function (event) {\r\n    this.showButton();\r\n  };\r\n\r\n  /**\r\n   * React on tool deactivation\r\n   * @private\r\n   */\r\n\r\n  OpenPopupButton.prototype._onDeactivateTool = function (event) {\r\n    this.hideButton();\r\n  };\r\n\r\n  /**\r\n   * React on tools deactivation\r\n   * @private\r\n   */\r\n\r\n  OpenPopupButton.prototype._onDeactivateAllTools = function (event, dataFromEvent) {\r\n    var isBeforeActivateTool = dataFromEvent && dataFromEvent.beforeActivateTool,\r\n        needToHide = !isBeforeActivateTool;\r\n    if (needToHide) {\r\n      this.hideButton();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * React on selection change\r\n   * @private\r\n   */\r\n\r\n  OpenPopupButton.prototype._onSelectionCleared = function (event, fabricEvent) {\r\n    var needToHideButton = !this.drawer.activeDrawingTool;\r\n    if (needToHideButton) {\r\n      this.hideButton();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * @param {DrawerToolbar} toolbar\r\n   * @private\r\n   */\r\n  OpenPopupButton.prototype.createControls = function (toolbar) {\r\n    this._createAndAddButton(toolbar);\r\n    this._setInitialPosition();\r\n    this.showButton();\r\n  };\r\n\r\n  /**\r\n   * Deletes tool button.\r\n   * If  doDeleteToolbarCreationListeners is true - removes listeners of toolbar creation event.\r\n   * So, tool will not appear on toolbar next time, when toolbar is created.\r\n   *\r\n   * @param {boolean} doDeleteToolbarCreationListeners\r\n   */\r\n  OpenPopupButton.prototype.removeTool = function (doDeleteToolbarCreationListeners) {\r\n    if (this.deleteControls) {\r\n      this.deleteControls();\r\n    }\r\n\r\n    // stop listening toolbar creation\r\n    if (doDeleteToolbarCreationListeners) {\r\n      this.drawer.off(this.drawer.EVENT_FLOATING_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Restore initial position of button\r\n   * @private\r\n   */\r\n  OpenPopupButton.prototype._setInitialPosition = function () {\r\n    var offsetLeft = 0,\r\n        offsetTop = 0,\r\n        insidePlaceholders = this.drawer.toolbars.toolbarPlaceholders.inside,\r\n        $insideTopPlaceholderEl = insidePlaceholders && insidePlaceholders.top && insidePlaceholders.top.$element,\r\n        $insideLeftPlaceholderEl = insidePlaceholders && insidePlaceholders.left && insidePlaceholders.left.$element;\r\n    if ($insideTopPlaceholderEl && $insideTopPlaceholderEl.length) {\r\n      $insideTopPlaceholderEl.find('ul.editable-canvas-toolbar:visible').each(function(i, element){\r\n        var $toolbar = $(element);\r\n        offsetTop += $toolbar.height();\r\n      });\r\n    }\r\n    if ($insideLeftPlaceholderEl && $insideLeftPlaceholderEl.length) {\r\n      $insideLeftPlaceholderEl.find('ul.editable-canvas-toolbar:visible').each(function(i, element){\r\n        var $toolbar = $(element);\r\n        offsetLeft += $toolbar.width();\r\n      });\r\n    }\r\n    this.positionInitialized = true;\r\n    this.moveButton(offsetLeft, offsetTop);\r\n  };\r\n\r\n  /**\r\n   * Move button over canvas\r\n   * @param {Number} [left] - left offset of button\r\n   * @param {Number} [top] - topoffset of button\r\n   */\r\n  OpenPopupButton.prototype.moveButton = function (left, top) {\r\n    if (!this.positionLimit) {\r\n      this.refreshPositionLimits();\r\n    }\r\n    left = left > this.positionLimit.left ? this.positionLimit.left : left;\r\n    top = top > this.positionLimit.top ? this.positionLimit.top : top;\r\n\r\n    left = left < 0 ? 0 : left;\r\n    top = top < 0 ? 0 : top;\r\n\r\n\r\n    this.latestState = {\r\n      left: left || 0,\r\n      top: top || 0\r\n    };\r\n    this.$button[0].style.left = left + 'px';\r\n    this.$button[0].style.top = top + 'px';\r\n  };\r\n\r\n\r\n  /**\r\n   * Refresh current position of button\r\n   */\r\n  OpenPopupButton.prototype.refreshPosition = function () {\r\n    var buttonLeft = (this.latestState && this.latestState.left) || 0,\r\n        buttonTop = (this.latestState && this.latestState.top) || 0;\r\n    this.showButton();\r\n    this.refreshPositionLimits();\r\n    this.moveButton(buttonLeft, buttonTop);\r\n\r\n  };\r\n\r\n  /**\r\n   * Creates and adds button to toolbar.\r\n   * @param  {DrawerToolbar} toolbar\r\n   * @private\r\n   */\r\n  OpenPopupButton.prototype._createAndAddButton = function (toolbar) {\r\n    var $button,\r\n        $body = $('body'),\r\n        openPopupButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-popup-canvas hidden',\r\n          iconClass: 'fa-cogs',\r\n          tooltipText: this.drawer.t('Open options tools')\r\n        };\r\n    $button = toolbar.addButton(openPopupButtonConf);\r\n    this.$button = $button;\r\n\r\n    var buttonLeft = (this.latestState && this.latestState.left) || 0,\r\n        buttonTop = (this.latestState && this.latestState.top) || 0;\r\n\r\n    this.moveButton(buttonLeft, buttonTop);\r\n    // set all mouse handlers:\r\n    // handle mouse move while tool is active\r\n    $body.off(MOUSE_MOVE).on(MOUSE_MOVE, this._onMouseMove.bind(this));\r\n\r\n    // handle mouse down and mouse up\r\n    $button.off(MOUSE_DOWN).on(MOUSE_DOWN, this._onMouseDown.bind(this));\r\n    $body.off(MOUSE_UP).on(MOUSE_UP, this._onMouseUp.bind(this));\r\n  };\r\n\r\n  /**\r\n   * React on mouse down\r\n   * Set erasingNow to true.\r\n   * Eraser path will start by current brush, independently.\r\n   * @param {Event} event - mouse down event\r\n   * @private\r\n   */\r\n  OpenPopupButton.prototype._onMouseDown = function (event) {\r\n    // turn erasing on\r\n    var self = this;\r\n    this.moveNow = true;\r\n    this.triggerClick = true;\r\n    this.clickPosition = util.getEventPosition(event);\r\n\r\n    this.refreshSizes();\r\n    this.refreshPositionLimits();\r\n\r\n    util.setTimeout(function () {\r\n      self.triggerClick = false;\r\n    }, 200);\r\n  };\r\n\r\n\r\n  /**\r\n   * On mouse up - set erasingNow to false.\r\n   * Eraser path will be created soon, and\r\n   * main work on erasing will be  done in _onEraserPathCreated()\r\n   * @param {Event} event\r\n   * @private\r\n   */\r\n  OpenPopupButton.prototype._onMouseUp = function (event) {\r\n    this.moveNow = false;\r\n    this.dragNow = false;\r\n    this.clickPosition = {};\r\n    var isButton = event.target === this.$button.get(0) || this.$button.find(event.target).length;\r\n    this.$button.removeClass('dragging');\r\n    if (isButton && this.triggerClick) {\r\n      this.drawer.trigger(this.drawer.EVENT_OVERCANVAS_POPUP_SHOW, [this.$button]);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Listens for mouse movement when eraser is active.\r\n   *\r\n   * @param {Event} event\r\n   * @private\r\n   */\r\n  OpenPopupButton.prototype._onMouseMove = function (event) {\r\n    if (this.moveNow) {\r\n      var eventPosition = util.getEventPosition(event),\r\n          sameLeft = this.clickPosition && (this.clickPosition.left === eventPosition.left),\r\n          sameTop = this.clickPosition && (this.clickPosition.top === eventPosition.top),\r\n          cursorIsMoved = !sameLeft || !sameTop;\r\n      if (cursorIsMoved) {\r\n        if (!this.dragNow) {\r\n          this.$button.addClass('dragging');\r\n          this.dragNow = true;\r\n        }\r\n        this.latestSizes = this.latestSizes || this.refreshSizes();\r\n        var eventPos = util.getEventPosition(event),\r\n            latestSizes = this.latestSizes,\r\n            canvasSize = latestSizes.canvas;\r\n\r\n        var left = eventPos.left - canvasSize.left - latestSizes.button.width/2 - latestSizes.scroll.left;\r\n        var top = eventPos.top - canvasSize.top - latestSizes.button.height/2 - latestSizes.scroll.top;\r\n\r\n        this.triggerClick = false;\r\n        this.moveButton(left, top);\r\n\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Refresh max sizes of button offset\r\n   */\r\n  OpenPopupButton.prototype.refreshSizes = function () {\r\n    var result = {};\r\n\r\n    var fCanvas = this.drawer.fCanvas,\r\n        canvasSizeBox = fCanvas.upperCanvasEl.getBoundingClientRect(),\r\n        buttonSizeBox = this.$button[0].getBoundingClientRect();\r\n    result.canvas = canvasSizeBox;\r\n    result.button = buttonSizeBox;\r\n    result.scroll = util.getScrollTopFromElement(this.$button);\r\n    this.latestSizes = result;\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Refresh max sizes of button offset\r\n   */\r\n  OpenPopupButton.prototype.refreshPositionLimits = function () {\r\n    var buttonSize = this.$button.get(0).getBoundingClientRect(),\r\n        borderSize = 2;\r\n    this.positionLimit = {\r\n      left: this.drawer.width - buttonSize.width - borderSize,\r\n      top: this.drawer.height - buttonSize.height - borderSize,\r\n    };\r\n  };\r\n\r\n  /**\r\n   * Show popup button\r\n   */\r\n  OpenPopupButton.prototype.showButton = function () {\r\n    this.$button.removeClass('hidden');\r\n  };\r\n\r\n  /**\r\n   * Hide popup button\r\n   * @param {fabric.Event} [fEvent] - fabric event\r\n   * @param {Boolean} [force] - force to hide button ignoring all options\r\n   */\r\n  OpenPopupButton.prototype.hideButton = function (fEvent, force) {\r\n    var alwaysVisible = this.drawer.options.toolbars.popupButtonAlwaysVisible;\r\n    if (force || !alwaysVisible) {\r\n      this.$button.addClass('hidden');\r\n    }\r\n  };\r\n\r\n  pluginsNamespace.OpenPopupButton = OpenPopupButton;\r\n})(jQuery, DrawerJs.plugins, DrawerJs.util);\r\n(function ($, pluginsNamespace, util) {\r\n  /**\r\n   * Provides ability to use popup over canvas\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var OvercanvasPopup = function ResizeConstructor(drawerInstance) {\r\n    this.drawerInstance = drawerInstance;\r\n    this.LOGTAG = this.name;\r\n\r\n    this._attachDrawerEvents();\r\n  };\r\n\r\n  /**\r\n   * Instance of Drawer\r\n   * @type {Drawer}\r\n   */\r\n  OvercanvasPopup.prototype.drawerInstance = null;\r\n\r\n  /**\r\n   * Namespace for events\r\n   * @const\r\n   * @type {String}\r\n   */\r\n  OvercanvasPopup.prototype.namespace = 'OvercanvasPopup';\r\n\r\n  /**\r\n   * Name of plugin\r\n   * @const\r\n   * @type {String}\r\n   */\r\n  OvercanvasPopup.prototype.name = 'DrawerPluginOvercanvasPopup';\r\n\r\n  /**\r\n   * Additional class of popup-wrapper element\r\n   * @type {String}\r\n   */\r\n  OvercanvasPopup.prototype.popupClass = 'popup-wrapper';\r\n  /**\r\n   * Default position of popup\r\n   * @type {string}\r\n   */\r\n  OvercanvasPopup.prototype.defaultPosition = 'bottom';\r\n  /**\r\n   * Array of available positions. Note that order is necessary.\r\n   * @type {String[]}\r\n   */\r\n  OvercanvasPopup.prototype.positions = ['bottom', 'left', 'right', 'top'];\r\n\r\n  /**\r\n   * Toolbar behavior\r\n   * @type {string}\r\n   */\r\n  OvercanvasPopup.prototype.toolbarBehavior = 'overlay';\r\n\r\n  /**\r\n   * Attach drawer events\r\n   * @private\r\n   */\r\n  OvercanvasPopup.prototype._attachDrawerEvents = function () {\r\n    this.drawerInstance.on(this.drawerInstance.BEFORE_CREATE_TOOLBARS, this._onBeforeCreateToolbars.bind(this));\r\n    this.drawerInstance.on(this.drawerInstance.EVENT_OVERCANVAS_POPUP_SHOW, this.showPopup.bind(this));\r\n    this.drawerInstance.on(this.drawerInstance.EVENT_OVERCANVAS_POPUP_HIDE, this.hidePopup.bind(this));\r\n  };\r\n\r\n  /**\r\n   * React on event - before toolbars create\r\n   * @private\r\n   */\r\n  OvercanvasPopup.prototype._onBeforeCreateToolbars = function () {\r\n    this._createHelperElements();\r\n    this._attachHelperEvents();\r\n  };\r\n\r\n  /**\r\n   * Add event handlers for popup and helpers elements\r\n   * @private\r\n   */\r\n  OvercanvasPopup.prototype._attachHelperEvents = function () {\r\n    var $closeBtn = this.$popup.find('.popup-close-btn'),\r\n        $overlay = this.$popup.find('.popup-overlay'),\r\n        $body = $('body');\r\n    util.bindClick($closeBtn, this.namespace, this._triggerPopupHide.bind(this));\r\n    util.bindClick($overlay, this.namespace, this._triggerPopupHide.bind(this));\r\n\r\n    util.bindClick($body, this.namespace, this._onBodyClick.bind(this));\r\n  };\r\n\r\n  /**\r\n   * Throw \"hide overcanvas popup\" event\r\n   * @private\r\n   */\r\n  OvercanvasPopup.prototype._triggerPopupHide = function () {\r\n    this.drawerInstance.trigger(this.drawerInstance.EVENT_OVERCANVAS_POPUP_HIDE);\r\n  };\r\n\r\n  /**\r\n   * Throw \"show overcanvas popup\" event\r\n   * @private\r\n   */\r\n  OvercanvasPopup.prototype._triggerPopupShow = function () {\r\n    this.drawerInstance.trigger(this.drawerInstance.EVENT_OVERCANVAS_POPUP_SHOW);\r\n  };\r\n\r\n  /**\r\n   * Close popup on click outside drawer\r\n   * @param event\r\n   * @private\r\n   */\r\n  OvercanvasPopup.prototype._onBodyClick = function (event) {\r\n    if (this.popupIsVisible) {\r\n      var $buttonExists = this.$button && this.$button.length,\r\n          isButton = $buttonExists && (event.target === this.$button.get(0) || this.$button.find(event.target).length),\r\n          isPopup = event.target === this.$popup.get(0) || this.$popup.find(event.target).length;\r\n      if (!isButton && !isPopup) {\r\n        this.drawerInstance.trigger(this.drawerInstance.EVENT_OVERCANVAS_POPUP_HIDE);\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * Create helper elements\r\n   * @private\r\n   */\r\n  OvercanvasPopup.prototype._createHelperElements = function () {\r\n    this._removeHelperElements();\r\n\r\n    var popupWrapperHtml = '' +\r\n            '<div class=\"' + this.popupClass + ' hidden\">' +\r\n            '<div class=\"popup-content-wrapper\">' +\r\n              '<div class=\"popup-arrow\"></div>' +\r\n              '<div class=\"popup-content\"></div>' +\r\n            '</div>' +\r\n            '<div class=\"popup-overlay\"></div>' +\r\n            '<div class=\"popup-close-btn\">' +\r\n            '<div class=\"fa fa-close\"></div>' +\r\n            '</div>' +\r\n            '</div>';\r\n\r\n    var $popupWrapper = $(popupWrapperHtml),\r\n        container = this.drawerInstance.$canvasEditContainer;\r\n\r\n    container.append($popupWrapper);\r\n\r\n    this.drawerInstance.$popupWrapper = $popupWrapper;\r\n    this.$popup = $popupWrapper;\r\n    this.$arrow = $popupWrapper.find('.popup-arrow');\r\n    this.$popupContentWrapper = $popupWrapper.find('.popup-content-wrapper');\r\n  };\r\n\r\n  /**\r\n   * Remove helper elements\r\n   * @private\r\n   */\r\n  OvercanvasPopup.prototype._removeHelperElements = function () {\r\n    if (this.drawerInstance.$popupWrapper && this.drawerInstance.$popupWrapper.length) {\r\n      this.drawerInstance.$popupWrapper.remove();\r\n    }\r\n    var $popupElement = this.drawerInstance.$canvasEditContainer.find('.' + this.popupClass);\r\n    if ($popupElement && $popupElement.length) {\r\n      $popupElement.remove();\r\n    }\r\n    this.drawerInstance.$popupWrapper = undefined;\r\n    this.$popup = undefined;\r\n  };\r\n\r\n  /**\r\n   * Refresh size values\r\n   * @param {jQuery} $trigger - Trigger element\r\n   * @returns {Object|undefined}\r\n   * @private\r\n   */\r\n  OvercanvasPopup.prototype._getAvailableSpace = function ($trigger) {\r\n    var result;\r\n    if ($trigger && $trigger.length) {\r\n      var $canvas = this.drawerInstance.$canvasEditContainer,\r\n          canvasSizes = $canvas.get(0).getBoundingClientRect(),\r\n          triggerSizes = $trigger.get(0).getBoundingClientRect(),\r\n          popupSizes = this.$popupContentWrapper.get(0).getBoundingClientRect(),\r\n          // arrowSize = this.$arrow.width(),\r\n          arrowSize = 10,\r\n          triggerOffsetX = triggerSizes.left - canvasSizes.left,\r\n          triggerOffsetY = triggerSizes.top - canvasSizes.top;\r\n      result = {};\r\n\r\n      result.top = triggerOffsetY;\r\n      result.left = triggerOffsetX;\r\n      result.right = canvasSizes.width - triggerOffsetX - triggerSizes.width;\r\n      result.bottom = canvasSizes.height - triggerOffsetY - triggerSizes.height;\r\n\r\n      result.centerX = triggerOffsetX + triggerSizes.width/2;\r\n      result.centerY = triggerOffsetY + triggerSizes.height/2;\r\n\r\n      result.popup = {\r\n        arrowSize: arrowSize,\r\n        top: popupSizes.height,\r\n        bottom: popupSizes.height,\r\n        left: popupSizes.width,\r\n        right: popupSizes.width\r\n      };\r\n\r\n      result.popupSizes = popupSizes;\r\n      result.canvasSizes = canvasSizes;\r\n      result.triggerSizes = triggerSizes;\r\n    }\r\n    this.sizes = result;\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Move popup to position\r\n   * @param {String} position - Position of popup - top/bottom/left/right\r\n   * @private\r\n   */\r\n  OvercanvasPopup.prototype._movePopup = function (position) {\r\n    var sizes = this.sizes,\r\n        isVerticalAlign,\r\n        styles = {},\r\n        offsetLeft,\r\n        offsetTop,\r\n        arrowOffsetLeft = sizes.popupSizes.width/2,\r\n        arrowOffsetTop = sizes.popupSizes.height/2,\r\n        negativeDiff;\r\n\r\n    switch (position) {\r\n      case 'left':\r\n        offsetLeft = sizes.left - sizes.popupSizes.width - sizes.popup.arrowSize;\r\n        offsetTop = sizes.centerY - sizes.popupSizes.height/2;\r\n        break;\r\n      case 'right':\r\n        offsetLeft = sizes.canvasSizes.width - sizes.right + sizes.popup.arrowSize;\r\n        offsetTop = sizes.centerY - sizes.popupSizes.height/2;\r\n        break;\r\n      case 'top':\r\n        isVerticalAlign = true;\r\n        offsetLeft = sizes.centerX - sizes.popupSizes.width/2;\r\n        offsetTop = sizes.top - sizes.popupSizes.height - sizes.popup.arrowSize;\r\n        break;\r\n      case 'bottom':\r\n        isVerticalAlign = true;\r\n        offsetLeft = sizes.centerX - sizes.popupSizes.width/2;\r\n        offsetTop = sizes.canvasSizes.height - sizes.bottom + sizes.popup.arrowSize;\r\n        break;\r\n    }\r\n\r\n    if (isVerticalAlign) {\r\n      styles.top = offsetTop;\r\n      negativeDiff = (offsetLeft + sizes.popupSizes.width ) - sizes.canvasSizes.width;\r\n      if (negativeDiff > 0) {\r\n        arrowOffsetLeft += negativeDiff;\r\n        styles.right = 0;\r\n      } else {\r\n        if (offsetLeft < 0) {\r\n          arrowOffsetLeft += offsetLeft;\r\n          offsetLeft = 0;\r\n        }\r\n        styles.left = offsetLeft;\r\n      }\r\n    } else {\r\n      styles.left = offsetLeft;\r\n      negativeDiff = (offsetTop + sizes.popupSizes.height) - sizes.canvasSizes.height;\r\n      if (negativeDiff > 0) {\r\n        arrowOffsetTop += negativeDiff;\r\n        styles.bottom = 0;\r\n      } else {\r\n        if (offsetTop < 0) {\r\n          arrowOffsetTop += offsetTop;\r\n          offsetTop = 0;\r\n        }\r\n        styles.top = offsetTop;\r\n      }\r\n    }\r\n\r\n    this.$popupContentWrapper.attr('data-position',position);\r\n    this.$popupContentWrapper.removeAttr('style');\r\n    this.$popupContentWrapper.css(styles);\r\n    this._moveArrow(arrowOffsetLeft, arrowOffsetTop);\r\n  };\r\n\r\n\r\n  /**\r\n   * Move helper element - arrow\r\n   * @param {Number} left - Absolute position in px\r\n   * @param {Number} top - Absolute position in px\r\n   * @private\r\n   */\r\n  OvercanvasPopup.prototype._moveArrow = function (left, top) {\r\n    this.$arrow.css({\r\n      left: left,\r\n      top: top\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Adjust position of popup according of trigger element\r\n   * @param {jQuery} $element\r\n   */\r\n  OvercanvasPopup.prototype._adjustPosition = function ($element) {\r\n    var sizes = this._getAvailableSpace($element),\r\n        positionFound;\r\n    this.positions.forEach(function (position, i) {\r\n      var positionExists = sizes[position] && sizes.popup[position];\r\n      if (!positionFound && positionExists) {\r\n        var neededSpace = sizes.popup[position] + sizes.popup.arrowSize,\r\n            spaceIsEnough = (sizes[position] - neededSpace) > 0;\r\n        positionFound = spaceIsEnough && position;\r\n      }\r\n    });\r\n    if (positionFound) {\r\n      this._movePopup(positionFound);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Show popup\r\n   * @param {fabric.Event} [fEvent]\r\n   * @param {jQuery} $trigger\r\n   */\r\n  OvercanvasPopup.prototype.showPopup = function (fEvent, $trigger) {\r\n    this.popupIsVisible = true;\r\n    this.$popup.removeClass('hidden');\r\n    this._adjustPosition($trigger);\r\n    this.$popupContentWrapper.removeClass('popup-transparent');\r\n    this.drawerInstance.trigger(this.drawerInstance.EVENT_TOOLBAR_CHANGE_STATE, [{\r\n      excludeElements: $().add(this.$popup).add($trigger),\r\n      turnOn: true,\r\n      state: this.toolbarBehavior\r\n    }]);\r\n  };\r\n\r\n  /**\r\n   * Hide popup\r\n   */\r\n  OvercanvasPopup.prototype.hidePopup = function () {\r\n    this.drawerInstance.trigger(this.drawerInstance.EVENT_TOOLBAR_CLEAR_STATE);\r\n    this.popupIsVisible = false;\r\n    this.$popup.addClass('hidden');\r\n    this.$popupContentWrapper.addClass('popup-transparent');\r\n  };\r\n\r\n  pluginsNamespace.OvercanvasPopup = OvercanvasPopup;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util));\r\n(function ($, pluginsNamespace, util) {\r\n  /**\r\n   * Provides a control for canvas resizing.\r\n   * Supports both mouse/touch.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var ResizeTool = function ResizeConstructor(drawerInstance) {\r\n    var self = this;\r\n\r\n    this.drawerInstance = drawerInstance;\r\n    this.name = 'DrawerPluginResize';\r\n    this.LOGTAG = this.name;\r\n\r\n    this.MOUSEDOWN = util.mouseDown('drawerPluginResize');\r\n    this.MOUSEUP = util.mouseUp('drawerPluginResize');\r\n    this.MOUSEMOVE = util.mouseMove('drawerPluginResize');\r\n\r\n    // on toolbar create\r\n    this._bindedOnToolbarCreated = this._onToolbarCreated.bind(this);\r\n    drawerInstance.on(this.drawerInstance.EVENT_CONFIG_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n\r\n    drawerInstance.on(this.drawerInstance.EVENT_RESIZER_HIDE, this.resizerHide.bind(this));\r\n    drawerInstance.on(this.drawerInstance.EVENT_RESIZER_SHOW, this.resizerShow.bind(this));\r\n  };\r\n\r\n  /**\r\n   * On toolbar created - create tool button.\r\n   */\r\n  ResizeTool.prototype._onToolbarCreated = function () {\r\n      this.createControls();\r\n  };\r\n\r\n\r\n  /**\r\n   * Deletes tool button.\r\n   * If  doDeleteToolbarCreationListeners is true - removes listeners of toolbar creation event.\r\n   * So, tool will not appear on toolbar next time, when toolbar is created.\r\n   *\r\n   * @param {boolean} doDeleteToolbarCreationListeners\r\n   */\r\n  ResizeTool.prototype.removeTool = function(doDeleteToolbarCreationListeners) {\r\n      if (this.deleteControls) {\r\n          this.deleteControls();\r\n      }\r\n\r\n      // stop listening toolbar creation\r\n      if (doDeleteToolbarCreationListeners) {\r\n          this.drawerInstance.off(this.drawerInstance.EVENT_CONFIG_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n      }\r\n  };\r\n\r\n\r\n  ResizeTool.prototype.createControls = function() {\r\n    this.deleteControls();\r\n    this.appendResizeControl();\r\n  };\r\n\r\n\r\n  ResizeTool.prototype.deleteControls = function() {\r\n    if (this.$canvasResizer && this.$canvasResizer.length) {\r\n      this.$canvasResizer.remove();\r\n    }\r\n  };\r\n\r\n\r\n\r\n  ResizeTool.prototype.appendResizeControl = function () {\r\n    var _this = this;\r\n\r\n    var $document = $(window.document),\r\n        $body = $('body'),\r\n        $elemForEvent = $document; // cache body elem for performance\r\n\r\n    var $editContainer = _this.drawerInstance.$canvasEditContainer;\r\n\r\n    this.$canvasResizer = $('<span class=\"redactor-drawer-resizer\">' +\r\n    '<span class=\"resizer-box\"></span></span>');\r\n\r\n    if (this.drawerInstance.touchDevice) {\r\n      this.$canvasResizer.find('.resizer-box').addClass('touch');\r\n    }\r\n\r\n    $editContainer.append(this.$canvasResizer);\r\n\r\n    this.$canvasResizer.find('.resizer-box')\r\n      .on(this.MOUSEDOWN, function (event) {\r\n\r\n        var eventPos = util.getEventPosition(event);\r\n\r\n        _this.drawerInstance.log(_this.LOGTAG, 'resize start');\r\n        _this.resizeOriginalWidth = _this.drawerInstance.width;\r\n        _this.resizeOriginalHeight = _this.drawerInstance.height;\r\n        _this.resizeStartX = eventPos.left;\r\n        _this.resizeStartY = eventPos.top;\r\n\r\n        var $body = $('body');\r\n        $body.addClass('drawer-resizing');\r\n\r\n        _this.drawerInstance.trigger(_this.drawerInstance.EVENT_CANVAS_START_RESIZE);\r\n        _this.drawerInstance.resizingNow = true;\r\n\r\n        $elemForEvent.on(_this.MOUSEMOVE, function (moveEvent) {\r\n          moveEvent.stopPropagation();\r\n          moveEvent.preventDefault();\r\n\r\n          var moveEventPos = util.getEventPosition(moveEvent);\r\n\r\n          var xDiff = _this.resizeStartX - moveEventPos.left;\r\n          var yDiff = _this.resizeStartY - moveEventPos.top;\r\n\r\n          var resizeDrawerFunc = function resizeDrawerFunc() {\r\n            _this.drawerInstance.setSize(\r\n                _this.resizeOriginalWidth - xDiff,\r\n                _this.resizeOriginalHeight - yDiff\r\n            );\r\n\r\n            _this.drawerInstance.trigger(_this.drawerInstance.EVENT_CANVAS_RESIZING);\r\n          };\r\n\r\n          util.requestAnimationFrame(resizeDrawerFunc);\r\n          return false;\r\n        });\r\n\r\n        // register global mouseUp handler so no matter where user\r\n        // will release a button we should receive that event\r\n        // and finish resizing.\r\n        $elemForEvent.on(_this.MOUSEUP, function (upEvent) {\r\n          $body.removeClass('drawer-resizing');\r\n\r\n          $elemForEvent.off(_this.MOUSEMOVE);\r\n          $elemForEvent.off(_this.MOUSEUP); // clean up this handler\r\n          _this.drawerInstance.log(_this.LOGTAG, 'resize finished by mouseup');\r\n          _this.resizeFinished();\r\n        });\r\n\r\n        // Also it's good to intercept mouse leaving from editor area\r\n        // $body.on('mouseleave.canvasResizer', function () {\r\n        //     $body.off(_this.MOUSEMOVE);\r\n        //     $body.off('mouseleave.canvasResizer');\r\n\r\n        //     _this.drawerInstance.log(_this.LOGTAG,\r\n        //       'resize finished leaving redactor\\' area.');\r\n\r\n        //     _this.resizeFinished();\r\n        // });\r\n\r\n      });\r\n  };\r\n\r\n  /**\r\n   * Hide resize elements\r\n   */\r\n  ResizeTool.prototype.resizerHide = function() {\r\n    if (this.$canvasResizer && this.$canvasResizer.length) {\r\n      this.$canvasResizer.addClass('hidden');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Show resize elements\r\n   */\r\n  ResizeTool.prototype.resizerShow = function() {\r\n    if (this.$canvasResizer && this.$canvasResizer.length) {\r\n      this.$canvasResizer.removeClass('hidden');\r\n    }\r\n  };\r\n\r\n\r\n  ResizeTool.prototype.resizeFinished = function() {\r\n    this.drawerInstance.onCanvasModified();\r\n    this.drawerInstance.resizingNow = false;\r\n\r\n    console.log('[resize]', 'EVENT_CANVAS_STOP_RESIZE');\r\n    this.drawerInstance.trigger(this.drawerInstance.EVENT_CANVAS_STOP_RESIZE);\r\n  };\r\n\r\n  pluginsNamespace.Resize = ResizeTool;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util));\r\n(function(DrawerApi) {\r\n\r\n  /**\r\n   * Show context menu.\r\n   */\r\n    DrawerApi.prototype.contextMenuShow = function() {\r\n        this.drawer.api.checkIsActive();\r\n        var tool = this.drawer.getPluginInstance('ShapeContextMenu');\r\n        tool.showContextMenu();\r\n    };\r\n\r\n  /**\r\n   * Show context menu.\r\n   */\r\n    DrawerApi.prototype.contextMenuHide = function() {\r\n        this.drawer.api.checkIsActive();\r\n        var tool = this.drawer.getPluginInstance('ShapeContextMenu');\r\n        tool.hideContextMenu();\r\n    };\r\n\r\n\r\n  /**\r\n   * Set Context menu left top origin.\r\n   * @param {number} left\r\n   * @param {number} top\r\n   * @param {boolean} doFitInViewport if true - inca case menu is out of viewport, it's coordinates will be adjusted\r\n   */\r\n    DrawerApi.prototype.contextMenuSetPosition= function(left, top, doFitInViewport) {\r\n        this.drawer.api.checkIsActive();\r\n        var tool = this.drawer.getPluginInstance('ShapeContextMenu');\r\n\r\n        if (doFitInViewport) {\r\n          var newCoords = tool._calcCoordsToFitViewport(left, top);\r\n          left = newCoords.left;\r\n          top = newCoords.top;\r\n        }\r\n\r\n        tool.setMenuPosition(left, top);\r\n    };\r\n\r\n\r\n})(DrawerJs.DrawerApi);\r\n\r\n(function ($, pluginsNamespace, util) {\r\n  var MOUSE_DOWN = util.mouseDown('ShapeContextMenu');\r\n  /**\r\n   *\r\n   * Provides context menu for moving shapes to background-foreground and\r\n   * remove them.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @param {Object} [options.position.mouse=cursor]\r\n   * Defines placement of context menu when working on non-touch screen.\r\n   * <br><br>\r\n   * Valid values are: <code>cursor</code>, <code>shapeRightBottom</code>,.\r\n   *\r\n   * @param {Object} [options.position.touch=shapeRightBottom]\r\n   * Defines placement of context menu when working on touch screen.\r\n   * <br><br>\r\n   *\r\n   * @param {Function} [options.customFitViewportMethod]\r\n   * Custom function to calc coords to fit menu in viewport.\r\n   * Arguments : (left, top)\r\n   * Returns :  Object with keys {left, top}\r\n   * <br><br>\r\n   *\r\n   * @param {Function} [options.customMenuRenderer]\r\n   * Custom function to render context menu.\r\n   * Arguments : ()\r\n   * Returns :  Object with keys {left, top}\r\n   * <br><br>\r\n   *\r\n   * Valid values are: <code>cursor</code>, <code>shapeRightBottom</code>.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var ShapeContextMenu = function ShapeContextMenuConstructor(drawerInstance, options) {\r\n    var _this = this;\r\n    _this.drawerInstance = drawerInstance;\r\n\r\n    this.options = $.extend(true, {}, this._defaultOptions || {}, options || {});\r\n    this.left = this.top = 0;\r\n\r\n    this._bindedOnContextMenu = this._onContextMenu.bind(this);\r\n\r\n    // using here EVENT_OPTIONS_TOOLBAR_CREATED just to make tool responsive to tools reload,\r\n    // tool by itself does not belong to any toolbar\r\n    this._bindedSetHandlers = this._setHandlers.bind(this);\r\n    drawerInstance.on(drawerInstance.EVENT_OPTIONS_TOOLBAR_CREATED, this._bindedSetHandlers);\r\n\r\n    drawerInstance.on(drawerInstance.EVENT_EDIT_STOP, this._onEditStop.bind(this));\r\n    drawerInstance.on(drawerInstance.EVENT_OBJECT_MOVING, this._onObjectMoved.bind(this));\r\n  };\r\n\r\n\r\n  ShapeContextMenu.prototype.eventsNamespace = 'shapeContextMenu';\r\n\r\n  ShapeContextMenu.prototype._defaultOptions = {\r\n      position: {\r\n        touch: 'shapeRightBottom', // context menu will be placed at shape's right bottom corner\r\n        mouse: 'cursor' // context menu will be placed in the position of click\r\n      }\r\n    };\r\n\r\n\r\n\r\n  ShapeContextMenu.prototype._setHandlers = function () {\r\n    if (this.options.customMenuRenderer) {\r\n      this.drawerInstance.on(this.drawerInstance.EVENT_CONTEXTMENU + '.' + this.eventsNamespace, this.options.customMenuRenderer);\r\n    }\r\n    else {\r\n      this.drawerInstance.on(this.drawerInstance.EVENT_CONTEXTMENU + '.' + this.eventsNamespace, this._bindedOnContextMenu);\r\n\r\n      var self = this;\r\n      util.bindClick($('body'), 'shapeContextMenu', function () {\r\n        self.hideContextMenu();\r\n      });\r\n    }\r\n    this.drawerInstance.$canvasEditContainer.off(MOUSE_DOWN).on(MOUSE_DOWN, this._onMouseDown.bind(this));\r\n  };\r\n\r\n\r\n  ShapeContextMenu.prototype._unsetHandlers = function (doDeleteToolbarCreationListeners) {\r\n    if (this.options.customMenuRenderer) {\r\n      this.drawerInstance.off(this.drawerInstance.EVENT_CONTEXTMENU + '.' + this.eventsNamespace);\r\n    }\r\n    else {\r\n      util.unbindClick($('body'), 'shapeContextMenu');\r\n      this.drawerInstance.off(this.drawerInstance.EVENT_CONTEXTMENU + '.' + this.eventsNamespace);\r\n\r\n      if (doDeleteToolbarCreationListeners) {\r\n        this.drawerInstance.off(this.drawerInstance.EVENT_OPTIONS_TOOLBAR_CREATED, this._bindedSetHandlers);\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  ShapeContextMenu.prototype.removeTool = function (doDeleteToolbarCreationListeners) {\r\n      this._unsetHandlers(doDeleteToolbarCreationListeners);\r\n  };\r\n\r\n  ShapeContextMenu.prototype._onObjectMoved = function () {\r\n    this.objectWasMoved = true;\r\n  };\r\n\r\n  ShapeContextMenu.prototype._onEditStop = function () {\r\n      this._unsetHandlers();\r\n  };\r\n\r\n  ShapeContextMenu.prototype._onMouseDown = function () {\r\n    this.objectWasMoved = false;\r\n  };\r\n\r\n  ShapeContextMenu.prototype._onContextMenu = function (event, originalEvent) {\r\n    var drawingInProgress = this.drawerInstance.drawingInProgress,\r\n        isBrushDrawing = this.drawerInstance.isBrushDrawing,\r\n        objectWasMoved = this.objectWasMoved,\r\n        ignoreContextMenu = drawingInProgress || isBrushDrawing || objectWasMoved;\r\n    if (!ignoreContextMenu) {\r\n      if (originalEvent.type.indexOf('touch') > -1) {\r\n        originalEvent = originalEvent.originalEvent;\r\n      }\r\n      this.handleContextMenuEvent(originalEvent);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Handles context menu event: finds object by click coordinates, selects\r\n   * that object and invokes {@link ShapeContextMenu.showContextMenu()}\r\n   *\r\n   * @param event mouse right click event or touch.originalEvent\r\n   */\r\n  ShapeContextMenu.prototype.handleContextMenuEvent = function (event) {\r\n    var _this = this,\r\n        targetIsCanvas = $(event.target).hasClass('upper-canvas'),\r\n        canvasTarget = targetIsCanvas && _this.drawerInstance.fCanvas.findTarget(event),\r\n        canvasTargetIsMoving = canvasTarget && canvasTarget.isMoving,\r\n        targetCorner = canvasTarget && canvasTarget.__corner,\r\n        needToShowContextMenu = canvasTarget && !canvasTargetIsMoving && !targetCorner;\r\n    if (needToShowContextMenu) {\r\n        _this.drawerInstance.fCanvas.setActiveObject(canvasTarget);\r\n        _this.showContextMenu(canvasTarget, event);\r\n      }\r\n  };\r\n\r\n  /**\r\n   * Shows context menu for specified fabricjs object.\r\n   *\r\n   * @param fabricItem\r\n   * @param event\r\n   */\r\n  ShapeContextMenu.prototype.showContextMenu = function (fabricItem, event) {\r\n    var _this = this;\r\n    _this.hideContextMenu();\r\n\r\n    var eventsNS = _this.eventsNamespace;\r\n\r\n    _this.$contextMenu = $(\r\n      '<ul class=\"editable-canvas-shape-context-menu\"' +\r\n      '></ul>'\r\n    );\r\n\r\n    var $bringForward = $('<li><a>' +\r\n      _this.drawerInstance.t('Bring forward') +\r\n    '</a></li>');\r\n    util.bindClick($bringForward.find('a'), eventsNS, this._bringObjectForward.bind(this, fabricItem));\r\n    _this.$contextMenu.append($bringForward);\r\n\r\n    var $sendBackwards = $('<li><a>' +\r\n      _this.drawerInstance.t('Send backwards') +\r\n    '</a></li>');\r\n    util.bindClick($sendBackwards.find('a'), eventsNS, this._sendObjectBackwards.bind(this, fabricItem));\r\n    _this.$contextMenu.append($sendBackwards);\r\n\r\n    var $bringToFront = $('<li><a>' +\r\n      _this.drawerInstance.t('Bring to front') +\r\n    '</a></li>');\r\n    util.bindClick($bringToFront.find('a'), eventsNS, this._bringObjectToFront.bind(this, fabricItem));\r\n\r\n    _this.$contextMenu.append($bringToFront);\r\n\r\n    var $sendToBack = $('<li><a>' +\r\n      _this.drawerInstance.t('Send to back') +\r\n    '</a></li>');\r\n    util.bindClick($sendToBack.find('a'), eventsNS, this._sendObjectToBack.bind(this, fabricItem));\r\n\r\n    _this.$contextMenu.append($sendToBack);\r\n\r\n    var $duplicate = $('<li><a>' +\r\n    _this.drawerInstance.t('Duplicate') +\r\n    '</a></li>');\r\n    util.bindClick($duplicate.find('a'), eventsNS, this._duplicateObject.bind(this, fabricItem));\r\n    _this.$contextMenu.append($duplicate);\r\n\r\n    var $remove = $('<li><a>' +\r\n      _this.drawerInstance.t('Remove') +\r\n    '</a></li>');\r\n    util.bindClick($remove.find('a'), eventsNS, this._removeObject.bind(this, fabricItem));\r\n    _this.$contextMenu.append($remove);\r\n\r\n    var paddings = 20;\r\n    if (_this.drawerInstance.touchDevice) {\r\n      paddings = _this.drawerInstance.options.toolbarSizeTouch;\r\n    } else {\r\n      paddings = _this.drawerInstance.options.toolbarSize;\r\n    }\r\n\r\n    paddings = paddings / 3;\r\n\r\n    _this.$contextMenu.find('li > a').each(function (k, v) {\r\n      $(v).css({\r\n        'padding-top': paddings + 'px',\r\n        'padding-bottom': paddings + 'px'\r\n      });\r\n    });\r\n\r\n    _this.drawerInstance.$canvasEditContainer.append(_this.$contextMenu);\r\n\r\n    this._positionMenu(fabricItem, util.getEventPosition(event));\r\n  };\r\n\r\n  /**\r\n   * Hides context menu.\r\n   */\r\n  ShapeContextMenu.prototype.hideContextMenu = function () {\r\n    if (this.$contextMenu) {\r\n      this.$contextMenu.remove();\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Set Menu left and top coords.\r\n   * @param {number} left\r\n   * @param {number} top\r\n   */\r\n  ShapeContextMenu.prototype.setMenuPosition = function(left, top) {\r\n    this.left = Number(left);\r\n    this.top  = Number(top);\r\n    this.$contextMenu.css('left', left + 'px');\r\n    this.$contextMenu.css('top', top + 'px');\r\n  };\r\n\r\n\r\n  /**\r\n   * Get menu origin.\r\n   * @return {Object} object with keys {left, top}\r\n   */\r\n  ShapeContextMenu.prototype.getMenuPosition = function() {\r\n    return {left : this.left, top: this.top};\r\n  };\r\n\r\n\r\n  /**\r\n   * Calcs menu position based on plugin options. click coords and object coords.\r\n   * Then adjusts menu position to fit viewport.\r\n   *\r\n   * @param  {fabric.Object} fabricItem object for which context menu is called\r\n   * @param  {Coords} clickCoords coords of mouse click\r\n   */\r\n  ShapeContextMenu.prototype._positionMenu = function (fabricItem, clickCoords) {\r\n    // calc menu starting point based  on options\r\n    var canvasOffset = $(this.drawerInstance.fCanvas.upperCanvasEl).offset();\r\n    var left = 0;\r\n    var top = 0;\r\n\r\n    var optionsType = this.drawerInstance.touchDevice ? 'touch' : 'mouse';\r\n    var positionOption = this.options.position[optionsType];\r\n\r\n\r\n    if (positionOption == 'shapeRightBottom') {\r\n      left = fabricItem.left + fabricItem.width;\r\n      top = fabricItem.top + fabricItem.height;\r\n    } else if (positionOption == 'cursor') {\r\n      left = clickCoords.left - canvasOffset.left + 10;\r\n      top = clickCoords.top - canvasOffset.top + 10;\r\n    }\r\n\r\n    var adjustedCoords = {};\r\n    if (this.options.customFitViewportMethod) {\r\n      adjustedCoords = this.options.customFitViewportMethod(left, top);\r\n    } else {\r\n      adjustedCoords = this._calcCoordsToFitViewport(left, top);\r\n    }\r\n\r\n    left = adjustedCoords.left;\r\n    top  = adjustedCoords.top;\r\n\r\n    this.setMenuPosition(left, top);\r\n  };\r\n\r\n\r\n /**\r\n  * Calcualtes new coords for conetx menu to fit in viewport\r\n  * @param  {number} left current menu origin left\r\n  * @param  {number} top  current menu origin coord\r\n  * @return {Object}      returns Object with keys {left, top}\r\n  */\r\n ShapeContextMenu.prototype._calcCoordsToFitViewport = function (left, top) {\r\n    left = Number(left);\r\n    top  = Number(top);\r\n    // check if bottom edge is not outside viewport\r\n    var menuHeight = this.$contextMenu.height();\r\n    var canvasHeight = this.drawerInstance.fCanvas.height;\r\n    var bottom = top + menuHeight;\r\n    if (bottom > canvasHeight) {\r\n        top = canvasHeight - menuHeight - 10;\r\n    }\r\n\r\n    var menuWidth = this.$contextMenu.width();\r\n    var canvasWidth = this.drawerInstance.fCanvas.width;\r\n    var right = left + menuWidth;\r\n    if (right > canvasWidth) {\r\n        left = canvasWidth - menuWidth - 10;\r\n    }\r\n\r\n    return {left : left, top: top};\r\n };\r\n\r\n\r\n  ShapeContextMenu.prototype._bringObjectForward = function(fabricItem) {\r\n      this.drawerInstance.api.bringObjectForward(fabricItem);\r\n      this.hideContextMenu();\r\n      return false;\r\n  };\r\n\r\n  ShapeContextMenu.prototype._sendObjectBackwards = function(fabricItem) {\r\n      this.drawerInstance.api.sendObjectBackwards(fabricItem);\r\n      this.hideContextMenu();\r\n      return false;\r\n  };\r\n\r\n\r\n  ShapeContextMenu.prototype._bringObjectToFront = function(fabricItem) {\r\n      this.drawerInstance.api.bringObjectToFront(fabricItem);\r\n      this.hideContextMenu();\r\n      return false;\r\n  };\r\n\r\n\r\n  ShapeContextMenu.prototype._sendObjectToBack = function(fabricItem) {\r\n      this.drawerInstance.api.sendObjectToBack(fabricItem);\r\n      this.hideContextMenu();\r\n      return false;\r\n  };\r\n\r\n\r\n  ShapeContextMenu.prototype._removeObject = function(fabricItem) {\r\n      this.drawerInstance.api.removeObject(fabricItem);\r\n      this.hideContextMenu();\r\n      return false;\r\n  };\r\n\r\n\r\n  ShapeContextMenu.prototype._duplicateObject = function(fabricItem) {\r\n      this.drawerInstance.api.duplicateObject(fabricItem);\r\n      this.hideContextMenu();\r\n      return false;\r\n  };\r\n\r\n\r\n  pluginsNamespace.ShapeContextMenu = ShapeContextMenu;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util));\r\n(function ($, pluginsNamespace, util) {\r\n  \"use strict\";\r\n\r\n  var emptyFunc = function () {};\r\n\r\n  var MOUSE_UP = util.mouseUp('ToggleVisibilityButton');\r\n  var MOUSE_DOWN = util.mouseDown('ToggleVisibilityButton');\r\n  var MOUSE_MOVE = util.mouseMove('ToggleVisibilityButton');\r\n\r\n  /**\r\n   * Provides a button toggle toolbars visibility\r\n   *\r\n   * @param {Drawer} drawer - Instance of {@link Drawer}\r\n   * @param {Object} options\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var ToggleVisibilityButton = function ToggleVisibilityButtonConstructor(drawer, options) {\r\n    /**\r\n     * @type {Drawer}\r\n     */\r\n    this.drawer = drawer;\r\n    this._setupOptions(options);\r\n    this.drawer.on(this.drawer.EVENT_FLOATING_TOOLBAR_CREATED, this._onToolbarCreated.bind(this));\r\n  };\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {Object} [options] - options to save\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n   * @returns {Object} config of plugin\r\n   */\r\n  ToggleVisibilityButton.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n    pluginName = pluginName || this.name;\r\n    var drawer = this.drawerInstance || this.drawer,\r\n        optionsFromDrawer = drawer && drawer.getPluginConfig(pluginName),\r\n        result = $.extend(true,\r\n            {},\r\n            this._defaultOptions || {},\r\n            optionsFromDrawer || {},\r\n            options || {}\r\n        );\r\n\r\n    if (!doNotSave) {\r\n      this.options = result;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * React on overcanvas mode\r\n   * @private\r\n   */\r\n  ToggleVisibilityButton.prototype._onOverCanvasMode = function () {\r\n    this.showNextItem();\r\n    if (!this.positionInitialized) {\r\n      this._setInitialPosition();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * On toolbar created - create tool button.\r\n   * @private\r\n   */\r\n  ToggleVisibilityButton.prototype._onToolbarCreated = function (ev, toolbar) {\r\n    this.toolbar = toolbar;\r\n\r\n    var needToInitButton = this.checkConfigForButton();\r\n    if (needToInitButton) {\r\n      this.createControls(toolbar);\r\n      this._onOverCanvasMode();\r\n    }\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param toolbar\r\n   * @returns {Boolean}\r\n   * @private\r\n   */\r\n  ToggleVisibilityButton.prototype._checkToolbarForButton = function (toolbar) {\r\n    var result = false;\r\n    if (toolbar) {\r\n    var haveButton = toolbar.options.toggleVisibilityButton,\r\n        isPopup = toolbar.options.compactType === 'popup';\r\n      result = haveButton && !isPopup;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Check current config of drawer for toolbars that need button\r\n   * @returns {Boolean}\r\n   */\r\n  ToggleVisibilityButton.prototype.checkConfigForButton = function () {\r\n    var drawingToolsToolbar = this.drawer.toolbars.drawingToolsToolbar,\r\n        toolOptionsToolbar = this.drawer.toolbars.toolOptionsToolbar,\r\n        settingsToolbar = this.drawer.toolbars.settingsToolbar,\r\n\r\n        drawingToolsHave = this._checkToolbarForButton(drawingToolsToolbar),\r\n        toolOptionsHave = this._checkToolbarForButton(toolOptionsToolbar),\r\n        settingsHave = this._checkToolbarForButton(settingsToolbar),\r\n        needToInit = drawingToolsHave || toolOptionsHave || settingsHave,\r\n        toolbarsForToggle = [];\r\n    if (drawingToolsHave) {\r\n      toolbarsForToggle.push(drawingToolsToolbar);\r\n    }\r\n    if (toolOptionsHave) {\r\n      toolbarsForToggle.push(toolOptionsToolbar);\r\n    }\r\n    if (settingsHave) {\r\n      toolbarsForToggle.push(settingsToolbar);\r\n    }\r\n    this.toolbarsForToggle = toolbarsForToggle;\r\n    return needToInit;\r\n  };\r\n\r\n  /**\r\n   * @param toolbar\r\n   * @private\r\n   */\r\n  ToggleVisibilityButton.prototype.createControls = function (toolbar) {\r\n    this._createAndAddButton(toolbar);\r\n    this.showButton();\r\n  };\r\n\r\n  /**\r\n   * Deletes tool button.\r\n   * If  doDeleteToolbarCreationListeners is true - removes listeners of toolbar creation event.\r\n   * So, tool will not appear on toolbar next time, when toolbar is created.\r\n   *\r\n   * @param {boolean} doDeleteToolbarCreationListeners\r\n   */\r\n  ToggleVisibilityButton.prototype.removeTool = function (doDeleteToolbarCreationListeners) {\r\n    if (this.deleteControls) {\r\n      this.deleteControls();\r\n    }\r\n\r\n    // stop listening toolbar creation\r\n    if (doDeleteToolbarCreationListeners) {\r\n      this.drawer.off(this.drawer.EVENT_FLOATING_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Move button over canvas\r\n   * @param {Number} [left] - new offset of button\r\n   * @param {Number} [top] - new offset of button\r\n   */\r\n  ToggleVisibilityButton.prototype.moveButton = function (left, top) {\r\n    if (!this.positionLimit) {\r\n      this.refreshPositionLimits();\r\n    }\r\n    left = left > this.positionLimit.left ? this.positionLimit.left : left;\r\n    top = top > this.positionLimit.top ? this.positionLimit.top : top;\r\n\r\n    left = left < 0 ? 0 : left;\r\n    top = top < 0 ? 0 : top;\r\n\r\n\r\n    this.latestState = {\r\n      left: left || 0,\r\n      top: top || 0\r\n    };\r\n    this.$button.css({\r\n      left: left + 'px',\r\n      top: top + 'px'\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Restore initial position/state of button\r\n   * @private\r\n   */\r\n  ToggleVisibilityButton.prototype._setInitialPosition = function () {\r\n    var offsetLeft = 0,\r\n        offsetTop = 0,\r\n        insidePlaceholders = this.drawer.toolbars.toolbarPlaceholders.inside,\r\n        $insideTopPlaceholderEl = insidePlaceholders && insidePlaceholders.top && insidePlaceholders.top.$element,\r\n        $insideLeftPlaceholderEl = insidePlaceholders && insidePlaceholders.left && insidePlaceholders.left.$element;\r\n    if ($insideTopPlaceholderEl && $insideTopPlaceholderEl.length) {\r\n      offsetTop += $insideTopPlaceholderEl.height();\r\n    }\r\n    if ($insideLeftPlaceholderEl && $insideLeftPlaceholderEl.length) {\r\n      offsetLeft += $insideLeftPlaceholderEl.width();\r\n    }\r\n    this.positionInitialized = true;\r\n    this.moveButton(offsetLeft, offsetTop);\r\n  };\r\n\r\n\r\n  /**\r\n   * Creates and adds button to toolbar.\r\n   * @param  {DrawerToolbar} toolbar\r\n   * @private\r\n   */\r\n  ToggleVisibilityButton.prototype._createAndAddButton = function (toolbar) {\r\n    var $button,\r\n        $body = $('body'),\r\n        toggleVisibilityButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-toggle-canvas hidden',\r\n          iconClass: 'fa-eye',\r\n          tooltipText: this.drawer.t('Toggle toolbar vision')\r\n        };\r\n    $button = toolbar.addButton(toggleVisibilityButtonConf);\r\n\r\n    this.$button = $button;\r\n\r\n    var buttonLeft = (this.latestState && this.latestState.left) || 0,\r\n        buttonTop = (this.latestState && this.latestState.top) || 0;\r\n    this.moveButton(buttonLeft, buttonTop);\r\n    // set all mouse handlers:\r\n    // handle mouse move while tool is active\r\n    $body.off(MOUSE_MOVE).on(MOUSE_MOVE, this._onMouseMove.bind(this));\r\n\r\n    // handle mouse down and mouse up\r\n    $button.off(MOUSE_DOWN).on(MOUSE_DOWN, this._onMouseDown.bind(this));\r\n    $body.off(MOUSE_UP).on(MOUSE_UP, this._onMouseUp.bind(this));\r\n\r\n    // util.bindLongPress($button, 'move-button');\r\n\r\n  };\r\n\r\n\r\n\r\n  /**\r\n   * React on mouse down\r\n   * @param {Event} event\r\n   * @private\r\n   */\r\n  ToggleVisibilityButton.prototype._onMouseDown = function (event) {\r\n    // turn erasing on\r\n    var self = this;\r\n    this.moveNow = true;\r\n    this.triggerClick = true;\r\n\r\n    this.refreshSizes();\r\n    this.refreshPositionLimits();\r\n\r\n    util.setTimeout(function () {\r\n      self.triggerClick = false;\r\n    }, 200);\r\n  };\r\n\r\n\r\n  /**\r\n   * React on mouse up\r\n   * @param {Event} event\r\n   * @private\r\n   */\r\n  ToggleVisibilityButton.prototype._onMouseUp = function (event) {\r\n    var self = this,\r\n        isButton = event.target === this.$button.get(0) || this.$button.find(event.target).length;\r\n    this.moveNow = false;\r\n    this.dragNow = false;\r\n    this.$button.removeClass('dragging');\r\n    if (isButton && this.triggerClick && !this.touchRightNow) {\r\n      this.triggerClick = false;\r\n      this.touchRightNow = true;\r\n      util.setTimeout(function () {\r\n        self.touchRightNow = false;\r\n      }, 400);\r\n      this.showNextItem();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Listens for mouse movement\r\n   * @param {Event} event\r\n   * @private\r\n   */\r\n  ToggleVisibilityButton.prototype._onMouseMove = function (event) {\r\n    if (this.moveNow) {\r\n\r\n      if (!this.dragNow) {\r\n        this.$button.addClass('dragging');\r\n        this.dragNow = true;\r\n      }\r\n      if (!this.latestSizes) {\r\n        this.refreshSizes();\r\n      }\r\n      var eventPos = util.getEventPosition(event),\r\n          latestSizes = this.latestSizes,\r\n          canvasSize = latestSizes.canvas;\r\n\r\n      var left = eventPos.left - canvasSize.left - latestSizes.button.width/2 - latestSizes.scroll.left;\r\n      var top = eventPos.top - canvasSize.top - latestSizes.button.height/2 - latestSizes.scroll.top;\r\n\r\n      this.triggerClick = false;\r\n      this.moveButton(left, top);\r\n\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Refresh max sizes of button offset\r\n   */\r\n  ToggleVisibilityButton.prototype.refreshSizes = function () {\r\n    var result = {};\r\n\r\n    var fCanvas = this.drawer.fCanvas,\r\n        canvasSizeBox = fCanvas.upperCanvasEl.getBoundingClientRect(),\r\n        buttonSizeBox = this.$button[0].getBoundingClientRect();\r\n    result.canvas = canvasSizeBox;\r\n    result.button = buttonSizeBox;\r\n    result.scroll = util.getScrollTopFromElement(this.$button);\r\n    this.latestSizes = result;\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   *\r\n   */\r\n  ToggleVisibilityButton.prototype.refreshPositionLimits = function () {\r\n    var buttonSize = this.$button.get(0).getBoundingClientRect(),\r\n        borderSize = 2;\r\n    this.positionLimit = {\r\n      left: this.drawer.width - buttonSize.width - borderSize,\r\n      top: this.drawer.height - buttonSize.height - borderSize,\r\n    };\r\n  };\r\n\r\n  /**\r\n   * Show button\r\n   */\r\n  ToggleVisibilityButton.prototype.showButton = function () {\r\n    this.$button.removeClass('hidden');\r\n  };\r\n  \r\n  /**\r\n   * Hide button\r\n   */\r\n  ToggleVisibilityButton.prototype.hideButton = function () {\r\n    this.$button.addClass('hidden');\r\n  };\r\n\r\n  /**\r\n   * Toggle current visible toolbar\r\n   */\r\n  ToggleVisibilityButton.prototype.showNextItem = function () {\r\n    var self = this,\r\n        haveVisible,\r\n        nextToolbar,\r\n        firstToolbar = this.toolbarsForToggle[0];\r\n    this.toolbarsForToggle.forEach(function(toolbar, i){\r\n      if (!toolbar.invisible) {\r\n        var indexOfNextToolbar = i +1;\r\n        haveVisible = true;\r\n        nextToolbar = self.toolbarsForToggle[indexOfNextToolbar];\r\n      }\r\n      toolbar.hideToolbar();\r\n    });\r\n    if (haveVisible) {\r\n      if (nextToolbar) {\r\n        nextToolbar.showToolbar();\r\n      }\r\n    } else {\r\n      firstToolbar.showToolbar();\r\n    }\r\n  };\r\n\r\n  pluginsNamespace.ToggleVisibilityButton = ToggleVisibilityButton;\r\n})(jQuery, DrawerJs.plugins, DrawerJs.util);\r\n(function (global, $, pluginsNamespace, DrawerApi, util) {\r\n  'use strict';\r\n  var fabric = global.fabric || (global.fabric = {});\r\n\r\n  var MOUSE_DOWN = util.mouseDown('Zoom');\r\n  var MOUSE_MOVE = util.mouseMove('Zoom');\r\n  var MOUSE_UP = util.mouseUp('Zoom');\r\n  var isWebkit = util.checkBrowser('webkit'),\r\n      cursorPrefix = isWebkit ? '-webkit-' : '';\r\n\r\n  /**\r\n   * Provides ability to change zoom\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * @param {DrawerJs.plugins.Zoom.defaultOptions} [options]\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var Zoom = function ZoomConstructor(drawer, options) {\r\n    /**\r\n     * @type {Drawer}\r\n     */\r\n    this.drawer = drawer;\r\n    this._setupOptions(options);\r\n    this._init();\r\n  };\r\n\r\n  /**\r\n   * @typedef {Object} defaultOptions\r\n   * @memberOf DrawerJs.plugins.Zoom\r\n   * @property {Boolean} [enabled=true] - Zoom is enabled\r\n   * @property {Boolean} [enableWhenNoActiveTool=true] - Allow to move canvas when no object is selected and is no active tool.\r\n   * @property {Boolean} [enableButton=true] - Add \"move canvas\" button to settings toolbar\r\n   * @property {Boolean} [showZoomTooltip=true] - Show tooltip with current zoom value on any change of zoom props\r\n   * @property {Boolean} [enableMove=true] - Enable move of canvas\r\n   * @property {Boolean} [useWheelEvents=true] - Attach wheel events\r\n   * @property {Boolean} [moveCanvasOnWheel=true] - Change center of viewport on wheel events depending on mouse position.\r\n   * @property {Number} [moveCanvasOnWheelStep=0] - Attach wheel events. Valid range of value is from 0(center of\r\n   * viewport will not changed) to 1(center of viewport will move to mouse position). Most comfortable value is 0.05-0.15\r\n   * @property {Number} [zoomStep=1.05] - Step of each zoom change. (1.05 = 105%)\r\n   * @property {Number} [defaultZoom=1] - Default zoom value\r\n   * @property {Number} [minZoom=1] - Min zoom value\r\n   * @property {Number} [maxZoom=32] - Max zoom value\r\n   *\r\n   */\r\n\r\n  /**\r\n   * @type {DrawerJs.plugins.Zoom.defaultOptions}\r\n   * @private\r\n   */\r\n  Zoom.prototype._defaultOptions = {\r\n    enabled: true,\r\n\r\n    enableWhenNoActiveTool: true,\r\n    enableButton: true,\r\n\r\n    showZoomTooltip: true,\r\n    enableMove: true,\r\n    useWheelEvents: true,\r\n\r\n    moveCanvasOnWheel: true,\r\n    moveCanvasOnWheelStep: 0,\r\n\r\n    zoomStep: 1.05,\r\n    defaultZoom: 1,\r\n    maxZoom: 32,\r\n    minZoom: 1,\r\n    buttonOrder: 11\r\n  };\r\n\r\n  /**\r\n   * Init zoom plugin\r\n   * @private\r\n   */\r\n  Zoom.prototype._init = function () {\r\n    this.viewport = new pluginsNamespace.ZoomViewport(this.drawer);\r\n\r\n    this.enabled = this.options.enabled;\r\n    this.zoomIsOn = true;\r\n    this.currentZoom = 1;\r\n\r\n    this._updateProto();\r\n    if (this.enabled) {\r\n      this._attachDrawerEvents();\r\n      this._updateDrawerValues();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Setup data\r\n   * @param {Object} [options] - options to save\r\n   * @param {String} [pluginName] - name of plugin\r\n   * @param {Boolean} [doNotSave] - set true to not save result as this.options\r\n   * @returns {Object} config of plugin\r\n   */\r\n  Zoom.prototype._setupOptions = function (options, pluginName, doNotSave) {\r\n    pluginName = pluginName || this.name;\r\n    var drawer = this.drawerInstance || this.drawer,\r\n        optionsFromDrawer = drawer && drawer.getPluginConfig(pluginName),\r\n        result = $.extend(true,\r\n            {},\r\n            this._defaultOptions || {},\r\n            optionsFromDrawer || {},\r\n            options || {}\r\n        );\r\n\r\n    if (!doNotSave) {\r\n      this.options = result;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Update prototype of fabric object/canvas\r\n   * @private\r\n   */\r\n  Zoom.prototype._updateProto = function () {\r\n    this.drawer.on(this.drawer.EVENT_CANVAS_READY, this._updateCanvasProto.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_CANVAS_READY, this._updateObjectProto.bind(this));\r\n  };\r\n\r\n  /**\r\n   * Attach drawer events\r\n   * @private\r\n   */\r\n  Zoom.prototype._attachDrawerEvents = function () {\r\n    this.drawer.on(this.drawer.EVENT_CONFIG_TOOLBAR_CREATED, this._onToolbarCreated.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_RESTORE_DEFAULT_ZOOM, this.restoreDefaultZoom.bind(this));\r\n\r\n    this.drawer.on(this.drawer.EVENT_DO_ACTIVATE_TOOL, this._onActivateTool.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_DO_DEACTIVATE_TOOL, this._ctxUpperRestore.bind(this));\r\n\r\n    this.drawer.on(this.drawer.EVENT_BEFORE_RENDER, this._ctxSet.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_AFTER_RENDER, this._ctxRestore.bind(this));\r\n\r\n    this.drawer.on(this.drawer.EVENT_ZOOM_SET, this._ctxSet.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_ZOOM_UNSET, this._ctxUnset.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_ZOOM_RESTORE, this._ctxRestore.bind(this));\r\n\r\n    this.drawer.on(this.drawer.EVENT_ZOOM_UPPER_SET, this._ctxUpperSet.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_ZOOM_UPPER_UNSET, this._ctxUpperUnset.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_ZOOM_UPPER_RESTORE, this._ctxUpperRestore.bind(this));\r\n\r\n    this.drawer.on(this.drawer.EVENT_CANVAS_START_RESIZE, this._ctxSet.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_CANVAS_STOP_RESIZE, this._ctxRestore.bind(this));\r\n\r\n    this.drawer.on(this.drawer.EVENT_SELECTION_CLEARED, this._refreshButton.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_OBJECT_SELECTED, this._refreshButton.bind(this));\r\n\r\n    this.drawer.on(this.drawer.EVENT_TOOL_ACTIVATED, this._refreshButton.bind(this));\r\n    this.drawer.on(this.drawer.EVENT_TOOL_DEACTIVATED, this._refreshButton.bind(this));\r\n  };\r\n\r\n  Zoom.prototype._refreshButton = function (fEvent) {\r\n    this._refreshMoveButtonState();\r\n  };\r\n\r\n  Zoom.prototype._ctxUpperSet = function (fEvent) {\r\n    var fCanvas = this.drawer.fCanvas,\r\n        ctxUpper = fCanvas.contextTop;\r\n    ctxUpper.save();\r\n    ctxUpper.scale(this.viewport.zoom, this.viewport.zoom);\r\n    ctxUpper.translate(this.viewport.position.x, this.viewport.position.y);\r\n  };\r\n\r\n  Zoom.prototype._ctxUpperUnset = function (fEvent) {\r\n    var fCanvas = this.drawer.fCanvas,\r\n        ctxUpper = fCanvas.contextTop;\r\n    ctxUpper.save();\r\n    ctxUpper.scale(1 / this.viewport.zoom, 1 / this.viewport.zoom);\r\n    ctxUpper.translate(-this.viewport.position.x, -this.viewport.position.y);\r\n\r\n  };\r\n\r\n  Zoom.prototype._ctxUpperRestore = function (fEvent) {\r\n    var fCanvas = this.drawer.fCanvas,\r\n        ctxUpper = fCanvas.contextTop;\r\n    ctxUpper.restore();\r\n  };\r\n\r\n  Zoom.prototype._ctxSet = function (fEvent) {\r\n    var fCanvas = this.drawer.fCanvas,\r\n        ctx = fCanvas.contextContainer;\r\n    ctx.save();\r\n    ctx.scale(this.viewport.zoom, this.viewport.zoom);\r\n    ctx.translate(this.viewport.position.x, this.viewport.position.y);\r\n  };\r\n\r\n  Zoom.prototype._ctxUnset = function (fEvent) {\r\n    var fCanvas = this.drawer.fCanvas,\r\n        ctx = fCanvas.contextContainer;\r\n    ctx.save();\r\n    ctx.scale(1 / this.viewport.zoom, 1 / this.viewport.zoom);\r\n    ctx.translate(-this.viewport.position.x, -this.viewport.position.y);\r\n  };\r\n\r\n  Zoom.prototype._ctxRestore = function (fEvent) {\r\n    var fCanvas = this.drawer.fCanvas,\r\n        ctx = fCanvas.contextContainer;\r\n    ctx.restore();\r\n  };\r\n  /**\r\n   * React on activate of tool\r\n   * @param {fabric.Event} fEvent event obj\r\n   * @param {BaseTool} tool tool object\r\n   * @private\r\n   */\r\n  Zoom.prototype._onActivateTool = function (fEvent, tool) {\r\n    if (!tool.doNotZoomOnActivate) {\r\n      this._ctxUpperSet();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * React on deactivate of tool\r\n   * @param {fabric.Event} fEvent event obj\r\n   * @param {BaseTool} tool tool object\r\n   * @private\r\n   */\r\n  Zoom.prototype._onDeactivateTool = function (fEvent, tool) {\r\n    if (!tool.doNotZoomOnActivate) {\r\n      this._ctxUpperRestore();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * On toolbar created - create tool button.\r\n   * @param {fabric.Event} fEvent - event obj\r\n   * @param {DrawerToolbar} toolbar - Drawer toolbar\r\n   */\r\n  Zoom.prototype._onToolbarCreated = function (fEvent, toolbar) {\r\n    this.toolbar = toolbar;\r\n    var needToInitButton = true;\r\n    if (needToInitButton) {\r\n      this.createControls(toolbar);\r\n      this._createHelperElements();\r\n      this._attachEvents();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Remove helper elements\r\n   * @private\r\n   */\r\n  Zoom.prototype._removeHelperElements = function () {\r\n    if (this.$zoomTooltip && this.$zoomTooltip.length) {\r\n      this.$zoomTooltip.remove();\r\n      delete this.$zoomTooltip;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Create helper elements\r\n   * @private\r\n   */\r\n  Zoom.prototype._createHelperElements = function () {\r\n    this._removeHelperElements();\r\n    var zoomTooltipHtml = '<div class=\"zoom-tooltip transparent-tooltip\"></div>',\r\n        $zoomTooltip = $(zoomTooltipHtml),\r\n        $canvasContainer = this.drawer.$canvasEditContainer;\r\n\r\n    this.$zoomTooltip = $zoomTooltip;\r\n    $canvasContainer.append($zoomTooltip);\r\n  };\r\n\r\n  /**\r\n   * Attach events for helper elements\r\n   * @private\r\n   */\r\n  Zoom.prototype._attachEvents = function () {\r\n    var self = this;\r\n    if (this.options.showZoomTooltip) {\r\n      var hideFunc = function () {\r\n            self.$zoomTooltip.addClass('transparent-tooltip');\r\n          },\r\n          debouncedTooltipHideFunc = util.debounce(hideFunc, 1000);\r\n\r\n      this.drawer.on(this.drawer.EVENT_ZOOM_CHANGE, function (fEvent, zoomProps) {\r\n        var zoomAsText = parseInt(zoomProps.zoom * 100, 10) + '%';\r\n        self.$zoomTooltip.text(zoomAsText);\r\n        self.$zoomTooltip.removeClass('transparent-tooltip');\r\n        debouncedTooltipHideFunc();\r\n      });\r\n    }\r\n    if (this.options.enableButton) {\r\n      this.drawer.on(this.drawer.EVENT_ZOOM_CHANGE, function (fEvent, zoomProps) {\r\n        var stateIsChanged = (zoomProps.prevValues.zoom === 1 && zoomProps.zoom !== 1) || (zoomProps.zoom === 1 && zoomProps.prevValues.zoom !== 1);\r\n        if (stateIsChanged) {\r\n          self._refreshMoveButtonState();\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Create controls\r\n   * @param {DrawerToolbar} toolbar - Drawer toolbar\r\n   */\r\n  Zoom.prototype.createControls = function (toolbar) {\r\n    this._createAndAddButton(toolbar);\r\n    this._attachWheelEvents();\r\n    this._attachMoveEvents();\r\n    this._attachTouchEvents();\r\n\r\n  };\r\n\r\n\r\n  /**\r\n   * Creates and adds buttons to toolbar.\r\n   * @param  {DrawerToolbar} toolbar\r\n   */\r\n  Zoom.prototype._createAndAddButton = function (toolbar) {\r\n    var $zoomInButton,\r\n        $zoomOutButton,\r\n        $moveCanvasButton,\r\n        zoomInButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-zoom-in',\r\n          iconClass: 'fa-search-plus',\r\n          tooltipText: this.drawer.t('Zoom in'),\r\n          clickHandler: this._onZoomIn.bind(this)\r\n        },\r\n        zoomOutButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-zoom-out',\r\n          iconClass: 'fa-search-minus',\r\n          tooltipText: this.drawer.t('Zoom out'),\r\n          clickHandler: this._onZoomOut.bind(this)\r\n        },\r\n        moveCanvasButtonConf = {\r\n          buttonOrder: this.options.buttonOrder,\r\n          additionalClass: 'btn-zoom-move',\r\n          iconClass: 'fa-search',\r\n          tooltipText: this.drawer.t('Move canvas'),\r\n          clickHandler: this._onMoveButtonClick.bind(this)\r\n        };\r\n    $zoomInButton = toolbar.addButton(zoomInButtonConf);\r\n    $zoomOutButton = toolbar.addButton(zoomOutButtonConf);\r\n\r\n    if (this.options.enableMove && this.options.enableButton) {\r\n      $moveCanvasButton = toolbar.addButton(moveCanvasButtonConf);\r\n    }\r\n\r\n    this.toolbar = toolbar;\r\n    this.$zoomInButton = $zoomInButton;\r\n    this.$zoomOutButton = $zoomOutButton;\r\n    this.$moveCanvasButton = $moveCanvasButton;\r\n  };\r\n\r\n  /**\r\n   * React on \"Move canvas\" button click\r\n   * @param {Event} event\r\n   * @private\r\n   */\r\n  Zoom.prototype._onMoveButtonClick = function (event) {\r\n    var isDisabled = this.$moveCanvasButton.hasClass('disabled');\r\n    if (!isDisabled) {\r\n      this.moveButtonIsActive = !this.moveButtonIsActive;\r\n      this._refreshMoveButtonState(true);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Collect data for zoom from event\r\n   * @param {Event} event\r\n   * @param {Boolean} [changeZoomCenter]\r\n   * @param {Boolean} [zoomIn]\r\n   * @returns {Object}\r\n   * @private\r\n   */\r\n  Zoom.prototype._getZoomPopertiesFromEvent = function (event, changeZoomCenter, zoomIn) {\r\n    var result = {},\r\n        newZoomCenterX,\r\n        newZoomCenterY,\r\n        newZoomValue = this.currentZoom * (zoomIn ? this.options.zoomStep : 1 / this.options.zoomStep);\r\n    if (changeZoomCenter) {\r\n      var eventPosition = this.drawer.getRelativeEventPosition(event, true),\r\n          zoomCenterXFromEvent = eventPosition.left / newZoomValue - this.viewport.position.x,\r\n          zoomCenterYFromEvent = eventPosition.top / newZoomValue - this.viewport.position.y,\r\n          deltaX = zoomCenterXFromEvent - this.zoomCenterX,\r\n          deltaY = zoomCenterYFromEvent - this.zoomCenterY;\r\n\r\n      newZoomCenterX = this.zoomCenterX + deltaX * this.options.moveCanvasOnWheelStep;\r\n      newZoomCenterY = this.zoomCenterY + deltaY * this.options.moveCanvasOnWheelStep;\r\n    } else {\r\n      newZoomCenterX = this.zoomCenterX;\r\n      newZoomCenterY = this.zoomCenterY;\r\n    }\r\n    result.zoom = newZoomValue;\r\n    result.zoomCenterX = newZoomCenterX;\r\n    result.zoomCenterY = newZoomCenterY;\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Trigger zoom in event\r\n   * @param {Event} event\r\n   * @param {Boolean} [changeZoomCenter]\r\n   * @private\r\n   */\r\n  Zoom.prototype._onZoomIn = function (event, changeZoomCenter) {\r\n    if (this.zoomIsOn) {\r\n      var zoomProps = this._getZoomPopertiesFromEvent(event, changeZoomCenter, true);\r\n      this.setZoom(zoomProps.zoom, zoomProps.zoomCenterX, zoomProps.zoomCenterY, true);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Trigger zoom out event\r\n   * @param {Event} event\r\n   * @param {Boolean} [changeZoomCenter]\r\n   * @private\r\n   */\r\n  Zoom.prototype._onZoomOut = function (event, changeZoomCenter) {\r\n    if (this.zoomIsOn) {\r\n      var zoomProps = this._getZoomPopertiesFromEvent(event, changeZoomCenter, false);\r\n      this.setZoom(zoomProps.zoom, zoomProps.zoomCenterX, zoomProps.zoomCenterY, true);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Attach wheel event to canvas\r\n   * @private\r\n   */\r\n  Zoom.prototype._attachWheelEvents = function () {\r\n    if (this.options.useWheelEvents) {\r\n      this.wheelEventsAttached = true;\r\n      var canvasContainer = this.drawer.$canvasEditContainer.find('.canvas-container').get(0);\r\n      util.addWheelListener(canvasContainer, this._onWheelEvent.bind(this), true); //@todo capture\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Attach move events\r\n   * @private\r\n   */\r\n  Zoom.prototype._attachMoveEvents = function () {\r\n    if (this.options.enableMove) {\r\n      var $document = $(window.document),\r\n          $canvasContainer = this.drawer.$canvasEditContainer.find('.canvas-container');\r\n\r\n      $canvasContainer.off(MOUSE_DOWN).on(MOUSE_DOWN, this._moveOnMouseDown.bind(this));\r\n      $document.off(MOUSE_MOVE).on(MOUSE_MOVE, this._moveOnMouseMove.bind(this));\r\n      $document.off(MOUSE_UP).on(MOUSE_UP, this._moveOnMouseUp.bind(this));\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Move canvas - React on mouse down.\r\n   * @param {Event} e\r\n   * @private\r\n   */\r\n  Zoom.prototype._moveOnMouseDown = function (e) {\r\n    var currActiveObj = this.drawer.fCanvas.getActiveObject(),\r\n        selectedTool = this.drawer.activeDrawingTool,\r\n        buttonIsActive = this.moveButtonIsActive,\r\n\r\n        buttonPermission = this.options.enableButton && buttonIsActive,\r\n        noActiveToolPermission = this.options.enableWhenNoActiveTool && (!this.options.enableButton || buttonPermission),\r\n        preventMove = this.currentZoom === 1 || currActiveObj || selectedTool,\r\n        initMove = !preventMove && (buttonPermission || noActiveToolPermission);\r\n\r\n    if (initMove) {\r\n      var currPoint = this.drawer.getRelativeEventPosition(e);\r\n\r\n      this.drawer.movingNow = true;\r\n      this.isMoving = true;\r\n      this.moveStartPoint = currPoint;\r\n      this.moveLastPoint = currPoint;\r\n\r\n      var $body = $('body');\r\n      this.drawer.fCanvas.defaultCursor = cursorPrefix + 'grabbing';\r\n      this.drawer.fCanvas.setCursor(cursorPrefix + 'grabbing');\r\n      $body.addClass('drawer-dragging drawer-zoom-moving');\r\n\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      return false;\r\n    }\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @private\r\n   */\r\n  Zoom.prototype._refreshMoveButtonState = function (doNotSaveState) {\r\n    this.savedDefaultCursor = this.savedDefaultCursor || this.drawer.fCanvas.defaultCursor;\r\n    if (this.options.enableButton) {\r\n      if (this.currentZoom === 1) {\r\n        this.$moveCanvasButton.addClass('disabled');\r\n        this.drawer.fCanvas.defaultCursor = this.savedDefaultCursor;\r\n        this.drawer.fCanvas.setCursor(this.savedDefaultCursor);\r\n      } else {\r\n        if (!doNotSaveState) {\r\n          var enableToMove = this._checkMovePermission(!doNotSaveState);\r\n          this.moveButtonIsActive = enableToMove;\r\n        }\r\n\r\n        this.$moveCanvasButton.removeClass('disabled');\r\n        if (this.moveButtonIsActive) {\r\n          this._prepareDrawerForZoom();\r\n          this.drawer.fCanvas.defaultCursor = cursorPrefix + 'grab';\r\n          this.drawer.fCanvas.setCursor(cursorPrefix + 'grab');\r\n          $('body').addClass('drawer-zoom-move-available');\r\n          this.toolbar.setActiveButton('btn-zoom-move');\r\n        } else {\r\n          this.drawer.fCanvas.defaultCursor = this.savedDefaultCursor;\r\n          this.drawer.fCanvas.setCursor(this.savedDefaultCursor);\r\n          $('body').removeClass('drawer-zoom-move-available');\r\n          this.toolbar.clearActiveButton();\r\n        }\r\n      }\r\n    } else {\r\n      this.drawer.fCanvas.defaultCursor = cursorPrefix + 'grab';\r\n      this.drawer.fCanvas.setCursor(cursorPrefix + 'grab');\r\n      $('body').addClass('drawer-zoom-move-available');\r\n    }\r\n  };\r\n\r\n  Zoom.prototype._prepareDrawerForZoom = function () {\r\n    this.drawer.trigger(this.drawer.EVENT_DO_DEACTIVATE_ALL_TOOLS);\r\n    this.drawer.fCanvas._clearSelection();\r\n    this.drawer.fCanvas.renderAll();\r\n  };\r\n\r\n\r\n\r\n  /**\r\n   *\r\n   * @private\r\n   */\r\n  Zoom.prototype._checkMovePermission = function (withButtonState) {\r\n    var currActiveObj = this.drawer.fCanvas.getActiveObject(),\r\n        selectedTool = this.drawer.activeDrawingTool,\r\n        buttonStateIsActive = withButtonState && this.moveButtonIsActive,\r\n        result = !currActiveObj && !selectedTool && (this.options.enableWhenNoActiveTool || buttonStateIsActive);\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Move canvas - React on mouse move.\r\n   * @param {Event} e\r\n   * @private\r\n   */\r\n  Zoom.prototype._moveOnMouseMove = function (e) {\r\n    if (this.isMoving && this.currentZoom !== 1) {\r\n      var self = this,\r\n          moveEventPos = this.drawer.getRelativeEventPosition(e),\r\n          moveLastPoint = this.moveLastPoint,\r\n          deltaX = (moveLastPoint.left - moveEventPos.left),\r\n          deltaY = (moveLastPoint.top - moveEventPos.top),\r\n          newCenterX = this.zoomCenterX + deltaX,\r\n          newCenterY = this.zoomCenterY + deltaY,\r\n          moveDrawerFunc = function moveDrawerFunc() {\r\n            self.setZoom(self.currentZoom, newCenterX, newCenterY, true);\r\n          };\r\n\r\n      this.moveLastPoint = moveEventPos;\r\n      util.requestAnimationFrame(moveDrawerFunc);\r\n\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      return false;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Move canvas - React on mouse up.\r\n   * @param {Event} e\r\n   * @private\r\n   */\r\n  Zoom.prototype._moveOnMouseUp = function (e) {\r\n    if (this.isMoving) {\r\n      var $body = $('body'),\r\n          self = this;\r\n\r\n      util.setTimeout(function () {\r\n        self.drawer.movingNow = false;\r\n      }, 0);\r\n      this.isMoving = false;\r\n      this.drawer.fCanvas.defaultCursor = cursorPrefix + 'grab';\r\n      this.drawer.fCanvas.setCursor(cursorPrefix + 'grab');\r\n      $body.removeClass('drawer-dragging drawer-zoom-moving');\r\n\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      return false;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Attach wheel event to canvas\r\n   * @private\r\n   */\r\n  Zoom.prototype._attachTouchEvents = function () {\r\n      var self = this,\r\n          $canvasContainer = this.drawer.$canvasEditContainer,\r\n          startDiff,\r\n          lastDiff;\r\n\r\n    function getDistance(p1,p2) {\r\n      var result;\r\n      result = Math.sqrt(Math.pow(p1.left - p2.left, 2) + Math.pow(p1.top - p2.top, 2));\r\n      return result;\r\n    }\r\n\r\n    $canvasContainer.off('touchstart.drawerZoom').on('touchstart.drawerZoom', function (event) {\r\n      var touches = event.touches ? event.touches : event.originalEvent.touches;\r\n      if (self.zoomIsOn && touches && touches.length > 1) {\r\n        var pointPos1 = getEventPosition(event, 0),\r\n            pointPos2 = getEventPosition(event, 1);\r\n        if (!pointPos1.left || !pointPos1.top) {\r\n          pointPos1 = getEventPosition(window.event, 0);\r\n          pointPos2 = getEventPosition(window.event, 1);\r\n        }\r\n        startDiff = getDistance(pointPos1, pointPos2);\r\n        lastDiff = startDiff;\r\n        self._prepareDrawerForZoom();\r\n      }\r\n    });\r\n    $canvasContainer.off('touchmove.drawerZoom').on('touchmove.drawerZoom', function (event) {\r\n      var touches = event.touches ? event.touches : event.originalEvent.touches,\r\n          zoominit = self.zoomIsOn && touches && touches.length > 1;\r\n      if (zoominit) {\r\n        var pointPos1 = util.getEventPosition(event, 0),\r\n            pointPos2 = util.getEventPosition(event, 1);\r\n        if (!pointPos1.left || !pointPos1.top) {\r\n          pointPos1 = util.getEventPosition(window.event, 0);\r\n          pointPos2 = util.getEventPosition(window.event, 1);\r\n        }\r\n        var currDiff = getDistance(pointPos1, pointPos2),\r\n            isZoomIn = lastDiff < currDiff,\r\n            zoom = self.currentZoom * (isZoomIn ? self.options.zoomStep : 1 / self.options.zoomStep),\r\n            scrollOffset = util.getScrollOffset($canvasContainer),\r\n            canvasContainer = $canvasContainer.get(0),\r\n            canvasContainerSizes = canvasContainer.getBoundingClientRect(),\r\n            touchCenterX = pointPos1.left - (pointPos1.left - pointPos2.left) / 2,\r\n            touchCenterY = pointPos1.top - (pointPos1.top - pointPos2.top) / 2,\r\n            zoomCenterX = touchCenterX - canvasContainerSizes.left - scrollOffset.left,\r\n            zoomCenterY = touchCenterY - canvasContainerSizes.top - scrollOffset.top;\r\n\r\n        self.setZoom(zoom, zoomCenterX, zoomCenterY, true);\r\n        lastDiff = currDiff;\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * React on wheel event\r\n   * @param {Event} e\r\n   * @private\r\n   */\r\n  Zoom.prototype._onWheelEvent = function (e) {\r\n    if (this.zoomIsOn) {\r\n      var delta = e.deltaY || e.detail || e.wheelDelta;\r\n      this._prepareDrawerForZoom();\r\n      if (delta > 0) {\r\n        this._onZoomOut(e, true);\r\n      } else {\r\n        this._onZoomIn(e, true);\r\n      }\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Update zoom values of drawer/plugin\r\n   * @param {Object} [data]\r\n   * @private\r\n   */\r\n  Zoom.prototype._updateDrawerValues = function (data) {\r\n    data = data || {};\r\n    var width = this.drawer.width,\r\n        height = this.drawer.height,\r\n        zoomCenter = this.viewport.getZoomCenter();\r\n\r\n    this.zoomCenterX = this.zoomCenterX !== undefined ? this.zoomCenterX : zoomCenter.x;\r\n    this.zoomCenterY = this.zoomCenterY !== undefined ? this.zoomCenterY : zoomCenter.y;\r\n\r\n    var zoomCenterX = data.zoomCenterX !== undefined ? data.zoomCenterX : this.zoomCenterX,\r\n        zoomCenterY = data.zoomCenterY !== undefined ? data.zoomCenterY : this.zoomCenterY,\r\n        currentZoom = data.zoom;\r\n\r\n    if (typeof currentZoom !== 'number' || !isFinite(currentZoom)) {\r\n      currentZoom = this.currentZoom;\r\n      if (typeof currentZoom !== 'number' || !isFinite(currentZoom)) {\r\n        currentZoom = this.options.defaultZoom;\r\n      }\r\n    }\r\n\r\n    if (zoomCenterX > width) {\r\n      zoomCenterX = width;\r\n    }\r\n    if (zoomCenterY > height) {\r\n      zoomCenterY = width;\r\n    }\r\n    if (zoomCenterX < 0) {\r\n      zoomCenterX = 0;\r\n    }\r\n    if (zoomCenterY < 0) {\r\n      zoomCenterY = 0;\r\n    }\r\n    if (typeof this.options.minZoom === 'number') {\r\n      currentZoom = Math.max(currentZoom, this.options.minZoom);\r\n    }\r\n    if (typeof this.options.maxZoom === 'number') {\r\n      currentZoom = Math.min(currentZoom, this.options.maxZoom);\r\n    }\r\n\r\n    this.drawer.currentZoom = this.currentZoom = currentZoom;\r\n    this.drawer.zoomCenterX = this.zoomCenterX = zoomCenterX;\r\n    this.drawer.zoomCenterY = this.zoomCenterY = zoomCenterY;\r\n  };\r\n\r\n  /**\r\n   * Set zoom\r\n   * @param {Number} value - new zoom value\r\n   * @param {Number} [zoomCenterX] - x coord of new canvas center\r\n   * @param {Number} [zoomCenterY] - y coord of new canvas center\r\n   * @param {Boolean} [strict] - Set zoom center without changes\r\n   */\r\n  Zoom.prototype.setZoom = function (value, zoomCenterX, zoomCenterY, strict) {\r\n    var zoomValueIsValid = typeof value === 'number' && isFinite(value),\r\n        strictMode = strict !== undefined ? strict : !this.options.moveCanvasOnWheel,\r\n        prevValues,\r\n        zoomResult;\r\n    if (zoomValueIsValid) {\r\n      prevValues = {\r\n        zoom: this.currentZoom,\r\n        zoomCenterX: this.zoomCenterX,\r\n        zoomCenterY: this.zoomCenterY\r\n      };\r\n      this._updateDrawerValues({\r\n        zoom: value,\r\n        zoomCenterX: zoomCenterX,\r\n        zoomCenterY: zoomCenterY\r\n      });\r\n\r\n      zoomResult = this.viewport.setViewport(this.currentZoom, this.zoomCenterX, this.zoomCenterY, strictMode);\r\n      zoomResult.prevValues = prevValues;\r\n      this._updateDrawerValues(zoomResult);\r\n      this.drawer.trigger(this.drawer.EVENT_ZOOM_CHANGE, [zoomResult]);\r\n    } else {\r\n      console.info('invalid zoom value');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Update prototype of fabric tools\r\n   * @priv\r\n   */\r\n  Zoom.prototype._updateObjectProto = function () {\r\n    var self = this,\r\n        _drawControl = fabric.Object.prototype._drawControl,\r\n        drawControls = fabric.Object.prototype.drawControls,\r\n        getPointByOrigin = fabric.Object.prototype.getPointByOrigin,\r\n        _setCornerCoords = fabric.Object.prototype._setCornerCoords;\r\n\r\n\r\n    /*\r\n    fabric.Object.prototype._drawControl = function (control, ctx, methodName, left, top) {\r\n      var viewport = self.viewport,\r\n          zoom = viewport ? viewport.zoom : 1;\r\n      ctx.lineWidth = 1 / Math.max(this.scaleX, this.scaleY);\r\n      return _drawControl.apply(this, [control, ctx, methodName, left, top]);\r\n    };\r\n\r\n    fabric.Object.prototype.drawControls = function (ctx) {\r\n      var viewport = self.viewport,\r\n          zoom = viewport ? viewport.zoom : 1,\r\n          result;\r\n      this.cornerSize = this.cornerSize / zoom;\r\n      result = drawControls.apply(this, [ctx]);\r\n      this.cornerSize = this.cornerSize * zoom;\r\n      return result;\r\n    };\r\n    */\r\n\r\n    fabric.Object.prototype._setCornerCoords = function () {\r\n      var viewport = self.viewport,\r\n          zoom = viewport ? viewport.zoom : 1,\r\n          result;\r\n      this.cornerSize = this.cornerSize / zoom;\r\n      result = _setCornerCoords.apply(this, arguments);\r\n      this.cornerSize = this.cornerSize * zoom;\r\n      return result;\r\n    };\r\n\r\n    fabric.Object.prototype.getPointByOrigin = function () {\r\n      var viewport = self.viewport,\r\n          zoom = viewport ? viewport.zoom : 1,\r\n          result;\r\n      this.cornerSize = this.cornerSize / zoom;\r\n      result = getPointByOrigin.apply(this, arguments);\r\n      this.cornerSize = this.cornerSize * zoom;\r\n      return result;\r\n    };\r\n\r\n  };\r\n\r\n  /**\r\n   * Override native fabric functions\r\n   * @private\r\n   */\r\n  Zoom.prototype._updateCanvasProto = function () {\r\n    var self = this,\r\n        fCanvas = this.drawer.fCanvas,\r\n        getPointer = fCanvas.getPointer,\r\n        _drawSelection = fCanvas._drawSelection;\r\n\r\n    fCanvas.getPointer = function (e, ignoreZoom, upperCanvasEl) {\r\n      var pointer = getPointer.apply(this, arguments);\r\n      if (!isFinite(pointer.x) || !isFinite(pointer.y) ) {\r\n        var $canvasEditContainer = self.drawer.$canvasEditContainer,\r\n            canvasEditContainerSizes = $canvasEditContainer.get(0).getBoundingClientRect(),\r\n            eventPos = util.getEventPosition(window.event),\r\n            offset = util.getScrollOffset(self.drawer.$canvasEditContainer),\r\n            x = eventPos.left - offset.left - canvasEditContainerSizes.left,\r\n            y = eventPos.top - offset.top - canvasEditContainerSizes.top;\r\n        pointer = {\r\n          x: x,\r\n          y: y\r\n        };\r\n      }\r\n          var offsetX = self.viewport.position.x,\r\n          offsetY = self.viewport.position.y,\r\n          newX = parseInt(pointer.x / self.viewport.zoom - offsetX, 10),\r\n          newY = parseInt(pointer.y / self.viewport.zoom - offsetY, 10);\r\n      pointer.oldX = pointer.x;\r\n      pointer.oldY = pointer.y;\r\n      pointer.newX = newX;\r\n      pointer.newY = newY;\r\n      pointer.x = newX;\r\n      pointer.y = newY;\r\n      return pointer;\r\n    };\r\n\r\n    fCanvas._drawSelection = function () {\r\n      var ctx;\r\n      ctx = this.contextTop;\r\n      ctx.save();\r\n      ctx.scale(this.viewport.zoom, this.viewport.zoom);\r\n      ctx.translate(this.viewport.position.x, this.viewport.position.y);\r\n      _drawSelection.apply(this, arguments);\r\n      ctx.restore();\r\n      return ctx;\r\n    };\r\n  };\r\n\r\n  /**\r\n   * Restore default state of zoom\r\n   * @private\r\n   */\r\n  Zoom.prototype.restoreDefaultZoom = function () {\r\n    var defaultZoomValue = this.options.defaultZoom,\r\n        zoomCenter = this.viewport.getZoomCenter(),\r\n        newZoomData;\r\n    this.setZoom(defaultZoomValue, zoomCenter.x, zoomCenter.y, true);\r\n    this.viewport.setToCenterOfCanvas(1);\r\n    newZoomData = this.viewport.getData();\r\n    this._updateDrawerValues(newZoomData);\r\n  };\r\n\r\n\r\n  /**\r\n   * API methods\r\n   */\r\n\r\n  /**\r\n   * Set zoom of current drawer instance\r\n   * @param {Number} zoom - zoom level\r\n   * @param {Number} [zoomCenterX] - x coord of new center point of canvas. From 0 to current canvas width\r\n   * @param {Number} [zoomCenterY] - y coord of new center point of canvas. From 0 to current canvas height\r\n   */\r\n  DrawerApi.prototype.setZoom = function (zoom, zoomCenterX, zoomCenterY) {\r\n    var zoomTool = this.drawer.getPluginInstance('Zoom');\r\n    if (zoomTool) {\r\n      zoomTool.setZoom(zoom, zoomCenterX, zoomCenterY, true);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Restore default state of zoom\r\n   */\r\n  DrawerApi.prototype.restoreDefaultZoom = function () {\r\n    var zoomTool = this.drawer.getPluginInstance('Zoom');\r\n    if (zoomTool) {\r\n      zoomTool.restoreDefaultZoom();\r\n    }\r\n  };\r\n\r\n  pluginsNamespace.Zoom = Zoom;\r\n}(this, jQuery, DrawerJs.plugins, DrawerJs.DrawerApi, DrawerJs.util));\r\n;(function (global, $, pluginsNamespace) {\r\n  'use strict';\r\n\r\n  var fabric = global.fabric || (global.fabric = {});\r\n\r\n  /**\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * @param {Object} [options]\r\n   * @memberof DrawerJs.plugins\r\n   * @constructor\r\n   */\r\n  var ZoomViewport = function ZoomViewportConstr(drawer, options) {\r\n    this.drawer = drawer;\r\n    this.i = 0;\r\n    this.position = new fabric.Point(0, 0);\r\n\r\n    this.zoom = 1;\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Set zoom depending on last settings\r\n   * @param {Number} newZoom - zoom value\r\n   * @param {Number} x - x coordinate of zoom center point\r\n   * @param {Number} y - y coordinate of zoom center point\r\n   * @param {Boolean} [strict] - do not change given coords\r\n   * @returns {Object}\r\n   */\r\n  ZoomViewport.prototype.setViewport = function (newZoom, x, y, strict) {\r\n    this._adjustPosition(newZoom, x, y, strict);\r\n    this._render();\r\n    return this.getData();\r\n  };\r\n\r\n  /**\r\n   * Get current viewport data\r\n   * @returns {Object}\r\n   */\r\n  ZoomViewport.prototype.getData = function () {\r\n    var data = {},\r\n        zoomCenter = this.getZoomCenter();\r\n    data.zoom = this.zoom;\r\n    data.position = {\r\n      x: this.position.x,\r\n      y: this.position.y\r\n    };\r\n    data.zoomCenterX = zoomCenter.x;\r\n    data.zoomCenterY = zoomCenter.y;\r\n    return data;\r\n  };\r\n\r\n  /**\r\n   * Get zoom center coords\r\n   * @returns {Object}\r\n   */\r\n  ZoomViewport.prototype.getZoomCenter = function () {\r\n    var result = {},\r\n        width = this.drawer.width,\r\n        height = this.drawer.height,\r\n        availableX = width / this.zoom,\r\n        availableY = height / this.zoom,\r\n        zoomCenterX = availableX / 2 - this.position.x,\r\n        zoomCenterY = availableY / 2 - this.position.y;\r\n\r\n    result.x = zoomCenterX;\r\n    result.y = zoomCenterY;\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param {Number} zoom - zoom value\r\n   * @param {Number} x - x offset of canvas\r\n   * @param {Number} y - y offset of canvas\r\n   * @returns {{x: (number), y: (number)}}\r\n   * @private\r\n   */\r\n  ZoomViewport.prototype._validatePosition = function (zoom, x, y) {\r\n    x = x || 0;\r\n    y = y || 0;\r\n    var width = this.drawer.width,\r\n        height = this.drawer.height,\r\n        availableX = width / zoom,\r\n        availableY = height / zoom,\r\n        maxPositionX = width - availableX,\r\n        maxPositionY = height - availableY;\r\n    if (x < -maxPositionX) {\r\n      x = -maxPositionX;\r\n    }\r\n    if (y < -maxPositionY) {\r\n      y = -maxPositionY;\r\n    }\r\n    if (x > 0) {\r\n      x = 0;\r\n    }\r\n    if (y > 0) {\r\n      y = 0;\r\n    }\r\n    return {\r\n      x: x,\r\n      y: y\r\n    };\r\n  };\r\n\r\n  /**\r\n   * @param {Number} [zoom]\r\n   */\r\n  ZoomViewport.prototype.setToCenterOfCanvas = function (zoom) {\r\n    zoom = zoom || this.zoom;\r\n    var halfWidth = this.drawer.width / 2,\r\n        halfHeight = this.drawer.height / 2;\r\n\r\n    this._adjustPosition(zoom, halfWidth, halfHeight, true);\r\n    this._render();\r\n  };\r\n\r\n  /**\r\n   * Render canvas\r\n   * @private\r\n   */\r\n  ZoomViewport.prototype._render = function () {\r\n    this.drawer.fCanvas.renderAll();\r\n  };\r\n\r\n  /**\r\n   * Update position values\r\n   * @param {Number} zoom - zoom value\r\n   * @param {Number} x - x offset of canvas\r\n   * @param {Number} y - y offset of canvas\r\n   */\r\n  ZoomViewport.prototype.setPosition = function (zoom, x, y) {\r\n    zoom = zoom || this.zoom;\r\n    var validatedPoint = this._validatePosition(zoom, x, y);\r\n    this.position.x = validatedPoint.x;\r\n    this.position.y = validatedPoint.y;\r\n    this.zoom = zoom;\r\n  };\r\n\r\n  /**\r\n   * Process coordinates of center point\r\n   * @param {Number} newZoom - zoom value\r\n   * @param {Number} x - x coordinate of zoom center point\r\n   * @param {Number} y - y coordinate of zoom center point\r\n   * @param {Boolean} [strict] - do not change given coords\r\n   * @private\r\n   */\r\n  ZoomViewport.prototype._adjustPosition = function (newZoom, x, y, strict) {\r\n    this.position.x = this.position.x || 0;\r\n    this.position.y = this.position.y || 0;\r\n    var width = this.drawer.width,\r\n        height = this.drawer.height,\r\n        k = newZoom / this.zoom,\r\n        oldAvailableX = width / this.zoom,\r\n        oldAvailableY = height / this.zoom,\r\n        newAvailableX = width / newZoom,\r\n        newAvailableY = height / newZoom,\r\n        newX,\r\n        newY;\r\n\r\n    if (strict) {\r\n      newX = newAvailableX/2 - x;\r\n      newY = newAvailableY/2 - y;\r\n    } else {\r\n      if (x !== undefined && y !== undefined) {\r\n        var deltaX = (x - width / 2) / this.zoom,\r\n            deltaY = (y - width / 2) / this.zoom;\r\n        newX = this.position.x - deltaX - ((oldAvailableX - newAvailableX ) / 2);\r\n        newY = this.position.y - deltaY - ((oldAvailableY - newAvailableY ) / 2);\r\n      } else {\r\n        newX = width / 2 - k * (width / 2 - this.position.x);\r\n        newY = height / 2 - k * (height / 2 - this.position.y);\r\n      }\r\n    }\r\n    this.setPosition(newZoom, newX, newY);\r\n    return this.position;\r\n  };\r\n\r\n  pluginsNamespace.ZoomViewport = ZoomViewport;\r\n}(this, jQuery, DrawerJs.plugins));\r\n(function ($, pluginsNamespace, BaseToolOptions) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Provides range control for selecting brush size in free drawing mode.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var BrushSize = function BrushSizeConstructor(drawer) {\r\n    // call super constructor\r\n    BaseToolOptions.call(this, drawer);\r\n\r\n    this.name = 'BrushSize';\r\n\r\n    /**\r\n     * Option name. On selecting tool/object, if this.toolName is in array of\r\n     * object allowed options - tool will show controls\r\n     * @type {String}\r\n     */\r\n    this.optionName = 'brushSize';\r\n\r\n    /**\r\n     * Size controls element\r\n     * @type {Object}\r\n     */\r\n    this.$sizeControl = null;\r\n\r\n    // set handlers\r\n    drawer.on(drawer.EVENT_BRUSH_SIZE_CHANGED, this.updateValue.bind(this));\r\n    drawer.on(drawer.EVENT_BRUSH_CHANGED, this.updateValue.bind(this));\r\n  };\r\n\r\n\r\n  BrushSize.prototype = Object.create(BaseToolOptions.prototype);\r\n  BrushSize.prototype.constructor = BaseToolOptions;\r\n\r\n\r\n//////////////////////////////////////////////////////////////////////////////////////////\r\n    /**\r\n     * Creates controls. Is called from BaseToolOptions._onToolbarCreated\r\n     * @param  {DrawerToolbar} toolbar\r\n     */\r\n    BrushSize.prototype.createControls = function(toolbar) {\r\n        this.createSizeControl(toolbar);\r\n    };\r\n\r\n    /**\r\n     * Deletes tool button.\r\n     * If  doDeleteToolbarCreationListeners is true - removes listenin on toolbar creation event.\r\n     * So, tool will not appear on toolbar next time, when toolbar is created.\r\n     *\r\n     * @param {boolean} doDeleteToolbarCreationListeners\r\n     */\r\n    BrushSize.prototype.removeTool = function(doDeleteToolbarCreationListeners) {\r\n        this.$sizeControl.remove();\r\n\r\n        // stop listening toolbar creation\r\n        if (doDeleteToolbarCreationListeners) {\r\n            this.drawer.off(this.drawer.EVENT_OPTIONS_TOOLBAR_CREATED, this._bindedOnToolbarCreated);\r\n        }\r\n    };\r\n\r\n\r\n  /**\r\n   * Create controls.\r\n   * @param  {DrawerToolbar} toolbar to add control to\r\n   */\r\n  BrushSize.prototype.createSizeControl = function (toolbar) {\r\n    var _this = this;\r\n\r\n    _this.$sizeControl = $(\r\n      '<li style=\"display:none\" ' +\r\n          'class=\"editable-canvas-brushsize toolbar-item-range\"' +\r\n      '>' +\r\n        '<div class=\"toolbar-item-description\">' +\r\n          '<span class=\"toolbar-label\">' +\r\n          this.drawer.t('Size:') + ' ' +\r\n          '</span>' +\r\n          '<span class=\"toolbar-label toolbar-label-indicator editable-canvas-brushsize-indicator\">' +\r\n            '0px' +\r\n          '</span>' +\r\n        '</div>' +\r\n        '<input class=\"editable-canvas-brushsize-input\" ' +\r\n               'type=\"range\" name=\"drawer-size\" min=\"1\"' +\r\n               'value=\"0\" />' +\r\n        '</li>');\r\n\r\n    toolbar.addControl(_this.$sizeControl, this.options.buttonOrder);\r\n\r\n    $(_this.$sizeControl).on('change', function () {\r\n      var size = $(_this.$sizeControl).find('input').val();\r\n      $(_this.$sizeControl).find('.editable-canvas-brushsize-indicator')\r\n        .text(size + 'px');\r\n      _this.drawer.setBrushSize(size);\r\n    });\r\n  };\r\n\r\n\r\n  BrushSize.prototype.showControls = function() {\r\n      this.updateValue();\r\n      this.$sizeControl.show();\r\n  };\r\n\r\n  BrushSize.prototype.hideControls = function() {\r\n      this.$sizeControl.hide();\r\n  };\r\n\r\n\r\n  /**\r\n   * Update size control with current drawer brush size.\r\n   */\r\n  BrushSize.prototype.updateValue = function () {\r\n    var size = this.drawer.getBrushSize();\r\n    this.$sizeControl.find('input').val(size);\r\n    this.$sizeControl.find('.editable-canvas-brushsize-indicator')\r\n      .text(size + 'px');\r\n  };\r\n\r\n  pluginsNamespace.BrushSize = BrushSize;\r\n\r\n}(jQuery, DrawerJs.plugins, DrawerJs.plugins.BaseToolOptions));\r\n\r\n(function ($, pluginsNamespace, BaseToolOptions, util) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Provides color input\r\n   * for changing shapes/brush color.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @param {String[]} options.colors\r\n   * Array of colors to be used.\r\n   *\r\n   * @param {number} options.colorsInRow\r\n   * Number of colors for one row.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   * @extends {DrawerJs.plugins.BaseToolOptions}\r\n   */\r\n  var ColorTool = function ColorToolConstructor(drawer, options) {\r\n      // call super c-tor\r\n      BaseToolOptions.call(this, drawer);\r\n    this._setupOptions(options);\r\n\r\n    /**\r\n     * Instance of ColorpickerControl\r\n     * @type {DrawerJs.plugins.ColorpickerControl}\r\n     */\r\n      this.colorControl = new pluginsNamespace.ColorpickerControl(this.drawer, this.options);\r\n    /**\r\n     * Instance of OpacityControl\r\n     * @type {DrawerJs.plugins.OpacityControl}\r\n     */\r\n      this.opacityControl = new pluginsNamespace.OpacityControl(this.drawer, this.options);\r\n    };\r\n\r\n    ColorTool.prototype = Object.create(BaseToolOptions.prototype);\r\n    ColorTool.prototype.constructor = BaseToolOptions;\r\n\r\n  ColorTool.prototype.optionName = 'color';\r\n\r\n  ColorTool.prototype._defaultOptions = {\r\n    showOpacityControl: false,\r\n    alwaysVisible: true,\r\n    colorText: 'Fill:'\r\n  };\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n  /**\r\n   * Creates controls\r\n   * @param  {DrawerToolbar} toolbar\r\n   */\r\n  ColorTool.prototype.createControls = function(toolbar) {\r\n    this.colorControl.createControl(toolbar,  this._onColorSelected.bind(this));\r\n    this.opacityControl.createControl(toolbar,  this._onOpacityControlChanged.bind(this));\r\n  };\r\n\r\n\r\n  /**\r\n   * This function is called everytime user clicks on color from color-dropdown\r\n   * menu.\r\n   *\r\n   * @param {String} selectedColor Hash value of user selected color.\r\n   */\r\n  ColorTool.prototype._onColorSelected = function (selectedColor) {\r\n    if (selectedColor == 'transparent') {\r\n      var opacity = this.opacityControl.getOpacity();\r\n      var colorWithAlfaRgba = this._hexToRgba(selectedColor, opacity);\r\n  \r\n      this.drawer.setColor(colorWithAlfaRgba); \r\n    } else {\r\n      this.drawer.setColor(selectedColor);\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * This function is called every time user clicks on color from color-dropdown\r\n   * menu.\r\n   *\r\n   * @param {String} opacity Hash value of user selected color.\r\n   */\r\n  ColorTool.prototype._onOpacityControlChanged = function (opacity) {\r\n    var currentColor = this.drawer.activeColor;\r\n    var colorWithAlfaRgba = this._hexToRgba(currentColor, opacity);\r\n\r\n    this.drawer.setColor(colorWithAlfaRgba);\r\n  };\r\n\r\n\r\n  /**\r\n   * React on object selection - update controls\r\n   * Is called from BaseOptionTool._onObjectSelected method\r\n   *\r\n   * @param  {fabric.Object} target\r\n   */\r\n  ColorTool.prototype.updateControlsFromObject = function (target) {\r\n      var color = null;\r\n\r\n      // get object color\r\n      if (target.path) { // free drawing shape\r\n        // @todo: rework in target.getColor()\r\n        color = target.get('stroke');\r\n        this.colorControl.disableTransparent();\r\n      }  else {\r\n        color = target.get('fill');\r\n        this.colorControl.enableTransparent();\r\n      }\r\n\r\n      // update color and opacity controls\r\n      if (color) {\r\n        this.updateControlsWithColor(color);\r\n        this.drawer.activeColor = color;\r\n      }\r\n  };\r\n\r\n\r\n  /**\r\n   * Updates color and opacity controls with color\r\n   * @param  {String} color\r\n   */\r\n  ColorTool.prototype.updateControlsWithColor = function(color) {\r\n        // update color control\r\n        this.colorControl.setColor(color);\r\n\r\n        // update opacity control\r\n        var fColor = new fabric.Color(color);\r\n        var source = fColor._source;\r\n        var opacity = source[3];\r\n        this.opacityControl.setOpacity(opacity);\r\n  };\r\n\r\n\r\n  /**\r\n   * Show color control and optionally - opacity control\r\n   * @param  {Boolean} [withoutOpacity]\r\n   */\r\n  ColorTool.prototype.showControls = function (withoutOpacity) {\r\n    withoutOpacity = withoutOpacity !== undefined ? withoutOpacity : !this.options.showOpacityControl;\r\n      this.colorControl.showControls();\r\n      if (withoutOpacity) {\r\n        this.opacityControl.hideControls();\r\n      } else {\r\n        this.opacityControl.showControls();\r\n      }\r\n  };\r\n\r\n\r\n  /**\r\n   * Hides both controls\r\n   */\r\n  ColorTool.prototype.hideControls = function (force) {\r\n    var alwaysVisible = this.drawer.options.toolbars.popupButtonAlwaysVisible || this.options.alwaysVisible;\r\n    if (force || !alwaysVisible) {\r\n      this.colorControl.hideControls();\r\n      this.opacityControl.hideControls();\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Adds opacity to color in hex form, returns rgba\r\n   * @param  {String} colorHex color in hex format\r\n   * @param  {Number} opacity  opacity 0..1\r\n   * @return {String}          color in rgba format\r\n   */\r\n  ColorTool.prototype._hexToRgba = function(colorHex, opacity) {\r\n    var colorWithAlfa = new fabric.Color(colorHex);\r\n    colorWithAlfa._source[3] =  opacity;\r\n\r\n    return colorWithAlfa.toRgba();\r\n  };\r\n\r\n\r\n  pluginsNamespace.Color = ColorTool;\r\n\r\n}(jQuery, DrawerJs.plugins, DrawerJs.plugins.BaseToolOptions, DrawerJs.util));\r\n\r\n(function ($, pluginsNamespace, util) {\r\n  'use strict';\r\n\r\n  var optimalSizeOfDropdown = 375;\r\n\r\n  /**\r\n   * Creates color input for changing color; colorChangeHandler is called on color change.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   *\r\n   * @param {Object} [options]\r\n   * Configuration object.\r\n   *\r\n   * @param {String[]} [options.colors]\r\n   * Array of colors to be used.\r\n   *\r\n   * @param {number} [options.colorsInRow]\r\n   * Number of colors for one row.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var ColorpickerControl = function ColorpickerControlConstructor(drawer, options) {\r\n      this.drawer = drawer;\r\n\r\n      // init options\r\n      options = options || {};\r\n      this.options = $.extend(true, {}, this._defaultOptions || {}, options || {});\r\n\r\n      this.hideOnEditMode = true;\r\n      // more stuff\r\n      this.assetsUrl = util.getDrawerFolderUrl() + 'assets/';\r\n      this.shouldDisplayTransparent = false;\r\n\r\n      this.colors = this.options.colors;\r\n      this.colorsInRow = this.options.colorsInRow;\r\n    };\r\n\r\n\r\n  ColorpickerControl.prototype._defaultOptions = {\r\n      colors: [\r\n          '#ffffff', '#000000', '#eeece1', '#1f497d', '#4f81bd', '#c0504d','#9bbb59', '#8064a2', '#4bacc6', '#f79646', '#ffff00',\r\n          '#f2f2f2', '#7f7f7f', '#ddd9c3', '#c6d9f0', '#dbe5f1', '#f2dcdb','#ebf1dd', '#e5e0ec', '#dbeef3', '#fdeada', '#fff2ca',\r\n          '#d8d8d8', '#595959', '#c4bd97', '#8db3e2', '#b8cce4', '#e5b9b7','#d7e3bc', '#ccc1d9', '#b7dde8', '#fbd5b5', '#ffe694',\r\n          '#bfbfbf', '#3f3f3f', '#938953', '#548dd4', '#95b3d7', '#d99694','#c3d69b', '#b2a2c7', '#b7dde8', '#fac08f', '#f2c314',\r\n          '#a5a5a5', '#262626', '#494429', '#17365d', '#366092', '#953734','#76923c', '#5f497a', '#92cddc', '#e36c09', '#c09100',\r\n          '#7f7f7f', '#0c0c0c', '#1d1b10', '#0f243e', '#244061', '#632423','#4f6128', '#3f3151', '#31859b', '#974806', '#7f6000'\r\n        ],\r\n        colorsInRow: 11,\r\n        minSwatchSize : 10,\r\n        buttonOrder: 6\r\n  };\r\n\r\n  ColorpickerControl.prototype.TRANSPARENT = 'rgba(0, 0, 0, 0)';\r\n  ColorpickerControl.prototype.defaultPosition = 'bottom';\r\n  ColorpickerControl.prototype.positions = ['bottom', 'top', 'left', 'right'];\r\n\r\n  /**\r\n   * Removes tool\r\n   */\r\n  ColorpickerControl.prototype.remove = function () {\r\n    if (this.$colorButton) {\r\n      this.$colorButton.remove();\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Hides controls\r\n   */\r\n  ColorpickerControl.prototype.hideControls = function () {\r\n    if (this.$colorButton) {\r\n      this.$colorButton.addClass('hidden');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Shows controls.\r\n   * Before showing - updates controls size and position.\r\n   */\r\n  ColorpickerControl.prototype.showControls = function () {\r\n    if (this.$colorButton) {\r\n      this.$colorButton.removeClass('hidden');\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Returns current selected color\r\n   * @return {String} currently selected css color\r\n   */\r\n  ColorpickerControl.prototype.getColor = function() {\r\n      return this.currentColor;\r\n  };\r\n\r\n\r\n  /**\r\n   * Sets current color.\r\n   * @param {String|fabric.Color} color valid css color or 'transparent'\r\n   */\r\n  ColorpickerControl.prototype.setColor = function (color) {\r\n      if (color instanceof fabric.Color) {\r\n        this.currentColor = color;\r\n      } else {\r\n        this.currentColor = new fabric.Color(color);\r\n      }\r\n\r\n      var background = color,\r\n          isTransparent = color === '' || color == this.TRANSPARENT || color == 'transparent';\r\n      if (isTransparent) {\r\n        background = 'url(' + this.assetsUrl + 'transparent.png)';\r\n        this.currentColor = this.TRANSPARENT;\r\n      }\r\n\r\n      this.$colorButton.$colorIndicator.css('background', background);\r\n    };\r\n\r\n\r\n  /**\r\n   * Removes transparent color from list\r\n   */\r\n  ColorpickerControl.prototype.disableTransparent = function () {\r\n    this.shouldDisplayTransparent = false;\r\n\r\n    if (this.$colorButton) {\r\n      this.$colorButton.find('.transparent').hide();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Adds transparent color to the list\r\n   */\r\n  ColorpickerControl.prototype.enableTransparent = function () {\r\n    this.shouldDisplayTransparent = true;\r\n\r\n    if (this.$colorButton) {\r\n      this.$colorButton.find('.transparent').show();\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * This function is called every time user clicks on color from color-dropdown\r\n   * menu.\r\n   *\r\n   * @param {String} selectedColor Hash value of user selected color.\r\n   */\r\n  ColorpickerControl.prototype.onColorSelected = function (selectedColor) {\r\n    this.hideColorDropdown();\r\n    this.setColor(selectedColor);\r\n\r\n    if (this.colorChangeHandler) {\r\n      this.colorChangeHandler(selectedColor);\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Create and attach global click handlers\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._setGlobalClickHandler = function() {\r\n    var self = this;\r\n    $('html').click(function (e) {\r\n        if (self.colorDropdownVisible && (e.target != self.$colorButton.$colorIndicator.get(0))) {\r\n          self.hideColorDropdown();\r\n        }\r\n        return true;\r\n    });\r\n  };\r\n\r\n\r\n  /**\r\n   * Creates color button which shows colors Controls on click.\r\n   *\r\n   * @param {DrawerToolbar} toolbar to append this button to.\r\n   * @param {Function} colorChangeHandler - Function that will be called when color is selected.\r\n   */\r\n  ColorpickerControl.prototype.createControl = function (toolbar, colorChangeHandler) {\r\n    this.$colorButton = $(this._getControlHtml());\r\n\r\n    this._collectDataFromToolbar(toolbar);\r\n\r\n    // cache control components\r\n    this.$colorButton.$colorIndicator = this.$colorButton.find('.color-indicator');\r\n    this.$colorButton.$colorDropdown = this.$colorButton.find('.color-dropdown');\r\n\r\n    this.$colorButton.$colorIndicator.css('background-color', this.drawer.activeColor);\r\n\r\n    this.colorDropdownVisible = false;\r\n    this.$colorButton.$colorIndicator.click(this._onButtonClick.bind(this));\r\n\r\n    this.colorChangeHandler = colorChangeHandler;\r\n\r\n    this._buildPicker(this.$colorButton.$colorDropdown);\r\n\r\n    this._setGlobalClickHandler();\r\n\r\n    toolbar.addControl(this.$colorButton, this.options.buttonOrder);\r\n\r\n    return this.$colorButton;\r\n  };\r\n\r\n  /**\r\n   * React on button click\r\n   * @param {Event} event - mouse click event\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._onButtonClick = function (event) {\r\n    var $trigger = $(event.currentTarget);\r\n    this.$lastTrigger = $trigger;\r\n    this.toggleColorDropdown($trigger);\r\n  };\r\n\r\n  ColorpickerControl.prototype._collectDataFromToolbar = function (toolbar) {\r\n    if (toolbar) {\r\n      var toolbarPosition = toolbar.options.position;\r\n      this.isVertical = toolbarPosition === 'left' || toolbarPosition === 'right';\r\n      this.$toolbar = toolbar.$toolbar;\r\n      this.toolbar = toolbar;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Build some magic picker.\r\n   * @param  {jQuery} $container - jQuery wrapper of container\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._buildPicker = function ($container) {\r\n    // create swatch for each color\r\n    for (var i = 0; i < this.colors.length; i++) {\r\n      var color = this.colors[i];\r\n\r\n      var $swatch = this._createSwatch(color);\r\n      $container.append($swatch);\r\n    }\r\n\r\n    // create transparentSwatch\r\n    var $transparentSwatch = this._createTransparentSwatch();\r\n    $container.append($transparentSwatch);\r\n  };\r\n\r\n\r\n  /**\r\n   * Calcs swatch size and updated Controls width if needed.\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._updateControlsSize = function () {\r\n      // calc swatch size\r\n      var swatchSize = this._calcSwatchSize();\r\n      // swatch size in css is 1em, so set $container fontSize\r\n      this.$colorButton.$colorDropdown.css('fontSize', swatchSize + 'px');\r\n      // set control width\r\n      var controlWidth = swatchSize * this.colorsInRow;\r\n      this.$colorButton.$colorDropdown.css('width', controlWidth + 'px');\r\n  };\r\n\r\n\r\n  /**\r\n   * Calc swatch size to fit current drawer width, respecting this.colorsInRow\r\n   * @return {Number} size of swatch in px\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._calcSwatchSize = function () {\r\n    var swatchSize = this.drawer.touchDevice ? this.drawer.options.toolbarSize\r\n                                             : this.drawer.options.toolbarSizeTouch;\r\n    swatchSize = swatchSize || this.options.minSwatchSize;\r\n\r\n    // calc swatch width to fit in drawer canvas\r\n    var widthToFit = Math.floor(this.drawer.width * 0.95 / this.colorsInRow);\r\n    // calc swatch height to fit in drawer canvas, including toolOptionsToolbar height\r\n    var heightWithToolbars = this.drawer.height + this.drawer.toolbars.toolOptionsToolbar.height();\r\n    var heightToFit = Math.floor(heightWithToolbars  / (this.colors.length / this.colorsInRow));\r\n\r\n    var minSize = Math.min(widthToFit, heightToFit);\r\n    // look if colors total area is bigger then available space\r\n    if (swatchSize > minSize) {\r\n        swatchSize = Math.max(minSize, this.options.minSwatchSize);\r\n    }\r\n\r\n    return swatchSize;\r\n  };\r\n\r\n  /**\r\n   * Collect sizes of needed elements\r\n   * @param {jQuery} $trigger - trigger element\r\n   * @returns {Object}\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._getAvailableSpace = function ($trigger) {\r\n    var result;\r\n    if ($trigger && $trigger.length) {\r\n      var $canvas = this.drawer.$canvasEditContainer,\r\n          $contentWrapper = this.$colorButton.$colorDropdown.closest('.popup-content-wrapper'),\r\n          $toolbarWrapper = this.$colorButton.$colorDropdown.closest('.toolbar-content-wrapper'),\r\n          canvasSizes = $canvas.get(0).getBoundingClientRect(),\r\n          triggerSizes = $trigger.get(0).getBoundingClientRect(),\r\n          toolbarSizes = $toolbarWrapper.get(0).getBoundingClientRect(),\r\n          popupSizes = $contentWrapper.get(0).getBoundingClientRect(),\r\n          paletteSizes = this.$colorButton.$colorDropdown.get(0).getBoundingClientRect(),\r\n\r\n          // arrowSize = 10,\r\n          arrowSize = 0,\r\n          triggerOffsetX = triggerSizes.left - canvasSizes.left,\r\n          triggerOffsetY = triggerSizes.top - canvasSizes.top;\r\n      result = {};\r\n\r\n      result.top = triggerOffsetY;\r\n      result.left = triggerOffsetX;\r\n      result.right = canvasSizes.width - triggerOffsetX - triggerSizes.width;\r\n      result.bottom = canvasSizes.height - triggerOffsetY - triggerSizes.height;\r\n\r\n      result.centerX = triggerOffsetX + triggerSizes.width/2;\r\n      result.centerY = triggerOffsetY + triggerSizes.height/2;\r\n\r\n      result.palette = {\r\n        arrowSize: arrowSize,\r\n        top: paletteSizes.height,\r\n        bottom: paletteSizes.height,\r\n        left: paletteSizes.width,\r\n        right: paletteSizes.width\r\n      };\r\n\r\n      result.popupSizes = popupSizes;\r\n      result.toolbarSizes = toolbarSizes;\r\n      result.paletteSizes = paletteSizes;\r\n      result.canvasSizes = canvasSizes;\r\n      result.triggerSizes = triggerSizes;\r\n    }\r\n    this.sizes = result;\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Reset palette\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._resetPalette = function () {\r\n    this.$colorButton.$colorDropdown.removeClass('palette-with-scroll');\r\n    this.$colorButton.$colorDropdown.removeAttr('style');\r\n    this.$colorButton.$colorDropdown.removeAttr('data-position');\r\n  };\r\n\r\n  /**\r\n   * Set size for palette as for canvas\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._setFullSize = function () {\r\n    var sizes = this.sizes,\r\n        popupOffsetLeft = sizes.toolbarSizes.left - sizes.canvasSizes.left,\r\n        popupOffsetTop = sizes.toolbarSizes.top - sizes.canvasSizes.top,\r\n        styles = {};\r\n\r\n    styles.top = -popupOffsetTop;\r\n    styles.left = -popupOffsetLeft;\r\n    styles.width = sizes.canvasSizes.width;\r\n    styles.height = sizes.canvasSizes.height;\r\n\r\n    this.$colorButton.$colorDropdown.css(styles);\r\n  };\r\n\r\n  /**\r\n   * Adjust position for popup\r\n   * @param {jQuery} $element - trigger element\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._adjustPosition = function ($element) {\r\n    this._resetPalette();\r\n    var sizes = this._getAvailableSpace($element),\r\n        positionFound;\r\n    this.positions.forEach(function (position, i) {\r\n      var positionExists = sizes[position] && sizes.palette[position];\r\n      if (!positionFound && positionExists) {\r\n        var neededSpace = sizes.palette[position] + sizes.palette.arrowSize,\r\n            spaceIsEnough = (sizes[position] - neededSpace) > 0;\r\n        positionFound = spaceIsEnough && position;\r\n      }\r\n    });\r\n    if (positionFound) {\r\n      this._movePalette(positionFound);\r\n    } else {\r\n      this._setFullSize();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Crop unnecessary width/height\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._cropSizeOfPalette = function () {\r\n    var paletteSizes = this.$colorButton.$colorDropdown.get(0).getBoundingClientRect(),\r\n        canvasSizes = this.sizes.canvasSizes,\r\n        styles = {},\r\n        negativeDiffY_bottom = canvasSizes.height - (paletteSizes.height + paletteSizes.top - canvasSizes.top),\r\n        negativeDiffY_top = paletteSizes.top - canvasSizes.top,\r\n        negativeDiffX_right = canvasSizes.width - (paletteSizes.width + paletteSizes.left - canvasSizes.left),\r\n        negativeDiffX_left = paletteSizes.left - canvasSizes.left,\r\n        negativeDiffY = Math.min(negativeDiffY_bottom,negativeDiffY_top),\r\n        negativeDiffX = Math.min(negativeDiffX_right,negativeDiffX_left),\r\n        notEnoughSpace;\r\n\r\n    if (negativeDiffY < 0) {\r\n      notEnoughSpace = true;\r\n      styles.height = paletteSizes.height + negativeDiffY;\r\n    }\r\n    if (negativeDiffX < 0) {\r\n      notEnoughSpace = true;\r\n      styles.width = paletteSizes.width + negativeDiffX;\r\n    }\r\n    if (notEnoughSpace) {\r\n      this.$colorButton.$colorDropdown.addClass('palette-with-scroll');\r\n    }\r\n\r\n    this.$colorButton.$colorDropdown.css(styles);\r\n  };\r\n\r\n  /**\r\n   * Move palette to chosen direction\r\n   * @param {String} position\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._movePalette = function (position) {\r\n    var sizes = this.sizes,\r\n        popupOffsetLeft = this.sizes.toolbarSizes.left - this.sizes.canvasSizes.left,\r\n        popupOffsetTop = this.sizes.toolbarSizes.top - this.sizes.canvasSizes.top,\r\n        isVerticalAlign,\r\n        styles = {},\r\n        offsetLeft,\r\n        offsetTop,\r\n        arrowOffsetLeft = sizes.paletteSizes.width/2,\r\n        arrowOffsetTop = sizes.paletteSizes.height/2,\r\n        negativeDiff,\r\n        smallerThanCanvas,\r\n        notEnoughSpace;\r\n\r\n    switch (position) {\r\n      case 'left':\r\n        offsetLeft = sizes.left - sizes.paletteSizes.width - sizes.palette.arrowSize;\r\n        offsetTop = sizes.centerY - sizes.paletteSizes.height/2;\r\n        styles.right = sizes.toolbarSizes.width - (sizes.left - popupOffsetLeft);\r\n        break;\r\n      case 'right':\r\n        offsetLeft = sizes.canvasSizes.width - sizes.right + sizes.palette.arrowSize;\r\n        offsetTop = sizes.centerY - sizes.paletteSizes.height/2;\r\n        styles.left =  sizes.left - popupOffsetLeft + sizes.triggerSizes.width;\r\n        break;\r\n      case 'top':\r\n        isVerticalAlign = true;\r\n        offsetLeft = sizes.centerX - sizes.paletteSizes.width/2;\r\n        offsetTop = sizes.top - sizes.paletteSizes.height - sizes.palette.arrowSize;\r\n        styles.bottom = sizes.toolbarSizes.height - (sizes.top - popupOffsetTop);\r\n        break;\r\n      case 'bottom':\r\n        isVerticalAlign = true;\r\n        offsetLeft = sizes.centerX - sizes.paletteSizes.width/2;\r\n        offsetTop = sizes.canvasSizes.height - sizes.bottom + sizes.palette.arrowSize;\r\n        styles.top = sizes.top - popupOffsetTop + sizes.triggerSizes.height;\r\n        break;\r\n    }\r\n\r\n    if (isVerticalAlign) {\r\n      negativeDiff = (offsetLeft + sizes.paletteSizes.width ) - sizes.canvasSizes.width;\r\n      smallerThanCanvas = (sizes.canvasSizes.width - sizes.paletteSizes.width) > 0;\r\n      if (negativeDiff > 0 && offsetLeft > 0 && !smallerThanCanvas) {\r\n        arrowOffsetLeft += negativeDiff;\r\n        styles.right = 0 - popupOffsetLeft;\r\n      } else {\r\n        if (offsetLeft < 0) {\r\n          arrowOffsetLeft += offsetLeft;\r\n          offsetLeft = 0;\r\n        }\r\n        notEnoughSpace = true;\r\n        styles.width = sizes.canvasSizes.width;\r\n        styles.left = offsetLeft - popupOffsetLeft;\r\n      }\r\n    } else {\r\n      negativeDiff = (offsetTop + sizes.paletteSizes.height) - sizes.canvasSizes.height;\r\n      smallerThanCanvas = (sizes.canvasSizes.height - sizes.paletteSizes.height) > 0;\r\n      if (negativeDiff > 0 && offsetTop > 0 && !smallerThanCanvas) {\r\n        arrowOffsetTop += negativeDiff;\r\n        styles.bottom = 0 - popupOffsetTop;\r\n      } else {\r\n        notEnoughSpace = true;\r\n        if (offsetTop < 0) {\r\n          arrowOffsetTop += offsetTop;\r\n          offsetTop = 0;\r\n        }\r\n        styles.height = sizes.canvasSizes.width;\r\n        styles.top = offsetTop - popupOffsetTop;\r\n      }\r\n    }\r\n\r\n    if (notEnoughSpace) {\r\n      this.$colorButton.$colorDropdown.addClass('palette-with-scroll');\r\n    }\r\n    this.$colorButton.$colorDropdown.attr('data-position',position);\r\n    this.$colorButton.$colorDropdown.css(styles);\r\n    this._cropSizeOfPalette();\r\n    // this._moveArrow(arrowOffsetLeft, arrowOffsetTop);\r\n  };\r\n\r\n\r\n  /**\r\n   * Adjusts color dropdown position to be inside drawer\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._adjustControlsPosition = function () {\r\n    var notEnoughWidth = this.drawer.width < optimalSizeOfDropdown,\r\n        notEnoughHeight = this.drawer.height < optimalSizeOfDropdown,\r\n        smallerThanNormalSize = this.isVertical ? notEnoughHeight : notEnoughWidth,\r\n        canvasContainerSizes = this.drawer.$canvasEditContainer.get(0).getBoundingClientRect(),\r\n        colorButtonSizes = this.$colorButton.get(0).getBoundingClientRect(),\r\n        minimumSizeDelta = 10,\r\n        currDropdownSizes;\r\n\r\n\r\n    this.$colorButton.$colorDropdown.removeAttr('style');\r\n    currDropdownSizes = this.$colorButton.$colorDropdown.get(0).getBoundingClientRect();\r\n\r\n    if (this.isVertical) {\r\n      if (smallerThanNormalSize) {\r\n        this.$colorButton.$colorDropdown.css('top', 0);\r\n      } else {\r\n        var topOffsetOfButton = colorButtonSizes.top - canvasContainerSizes.top,\r\n            newTopValue = topOffsetOfButton + colorButtonSizes.height / 2 - currDropdownSizes.height / 2;\r\n        this.$colorButton.$colorDropdown.css('top', newTopValue);\r\n      }\r\n    } else {\r\n      if (smallerThanNormalSize) {\r\n        this.$colorButton.$colorDropdown.css('left', 0);\r\n      } else {\r\n        var leftOffsetOfButton = colorButtonSizes.left - canvasContainerSizes.left,\r\n            newLeftValue = leftOffsetOfButton + colorButtonSizes.width / 2 - currDropdownSizes.width / 2;\r\n        this.$colorButton.$colorDropdown.css('left', newLeftValue);\r\n      }\r\n    }\r\n\r\n    if (!smallerThanNormalSize) {\r\n      currDropdownSizes = this.$colorButton.$colorDropdown.get(0).getBoundingClientRect();\r\n      if (this.isVertical) {\r\n        smallerThanNormalSize = (optimalSizeOfDropdown - currDropdownSizes.height) > minimumSizeDelta;\r\n\r\n        var topOffsetIsValid = currDropdownSizes.top > canvasContainerSizes.top,\r\n            bottomOffsetIsValid = (currDropdownSizes.top + currDropdownSizes.height) < (canvasContainerSizes.top + canvasContainerSizes.height),\r\n            topIsCorrect = topOffsetIsValid,\r\n            bottomIsCorrect = bottomOffsetIsValid && !smallerThanNormalSize;\r\n\r\n        if (!topIsCorrect) {\r\n          this.$colorButton.$colorDropdown.removeAttr('style');\r\n          this.$colorButton.$colorDropdown.css('top', 0);\r\n        }\r\n        if (!bottomIsCorrect) {\r\n          this.$colorButton.$colorDropdown.removeAttr('style');\r\n          this.$colorButton.$colorDropdown.css({\r\n            'bottom' : 0,\r\n            'top': 'auto'\r\n          });\r\n        }\r\n      } else {\r\n        smallerThanNormalSize = (optimalSizeOfDropdown - currDropdownSizes.width) > minimumSizeDelta;\r\n\r\n        var leftOffsetIsValid = currDropdownSizes.left > canvasContainerSizes.left,\r\n            rightOffsetIsValid = (currDropdownSizes.left + currDropdownSizes.width) < (canvasContainerSizes.left + canvasContainerSizes.width),\r\n            leftIsCorrect = leftOffsetIsValid,\r\n            rightIsCorrect = rightOffsetIsValid && !smallerThanNormalSize;\r\n\r\n        if (!leftIsCorrect) {\r\n          this.$colorButton.$colorDropdown.removeAttr('style');\r\n          this.$colorButton.$colorDropdown.css('left', 0);\r\n        }\r\n        if (!rightIsCorrect) {\r\n          this.$colorButton.$colorDropdown.removeAttr('style');\r\n          this.$colorButton.$colorDropdown.css({\r\n            'right' : 0,\r\n            'left': 'auto'\r\n          });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Get html of color control\r\n   * @returns {String}\r\n   * @private\r\n   */\r\n  ColorpickerControl.prototype._getControlHtml = function () {\r\n    var colorLabelText = this.options.colorText || \"\";\r\n    return '<li class=\"colorpicker-control\" ' +\r\n              'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n              '>' +\r\n            '<span class=\"toolbar-label\" ' +\r\n                  'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n                  'data-editable-canvas-cssrules=\"line-height\">' +\r\n                  this.drawer.t(colorLabelText) + ' ' + '</span>' +\r\n            '<span class=\"color-indicator\" ' +\r\n                  'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n                  'data-editable-canvas-cssrules=\"width\"></span>' +\r\n            '<span class=\"color-dropdown control-hidden hidden\" ' +\r\n                  'data-editable-canvas-sizeable=\"toolbar-button\"></span>' +\r\n          '</li>';\r\n\r\n  };\r\n\r\n    /**\r\n     * Creates swatch - square control with given color\r\n     *\r\n     * @param  {String} color\r\n     * @param  {String} _class css class\r\n     * @return {jQuery}\r\n     * @private\r\n     */\r\n  ColorpickerControl.prototype._createSwatch = function (color, _class) {\r\n      var $swatch = $('<a href=\"#\"></a>');\r\n      $swatch.attr('rel', color)\r\n             .addClass('color-swatch')\r\n             .css({'background-color': color});\r\n\r\n      if (_class) {\r\n        $swatch.addClass(_class);\r\n      }\r\n\r\n    // bind click\r\n      util.bindClick($swatch, 'colorpicker', this._swatchClickHandler.bind(this));\r\n\r\n      return $swatch;\r\n    };\r\n\r\n\r\n    /**\r\n     * Swatch click handler.\r\n     * Calls onColorSelected()\r\n     * Prevents default click on <a> behavior.\r\n     *\r\n     * @param  {jQuery.Event} e\r\n     * @private\r\n     */\r\n    ColorpickerControl.prototype._swatchClickHandler = function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      var clickedColorValue = $(e.target).attr('rel');\r\n      this.onColorSelected(clickedColorValue);\r\n      return false;\r\n    };\r\n\r\n    /**\r\n     * Creates swatch for transparent  color\r\n     * @return {jQuery}\r\n     * @private\r\n     */\r\n    ColorpickerControl.prototype._createTransparentSwatch = function() {\r\n        var $swatch = this._createSwatch(this.TRANSPARENT, 'transparent');\r\n        $swatch.text(this.drawer.t('Transparent'));\r\n\r\n        if (!this.shouldDisplayTransparent) {\r\n          $swatch.hide();\r\n        }\r\n\r\n        return $swatch;\r\n    };\r\n\r\n  /**\r\n   * Show color dropdown\r\n   * @param {jQuery} [$trigger] - trigger element\r\n   */\r\n  ColorpickerControl.prototype.showColorDropdown = function ($trigger) {\r\n    this.colorDropdownVisible = true;\r\n    this._updateControlsSize();\r\n    var insidePopup = this.$toolbar.closest('.popup-content-wrapper').length;\r\n    this.$colorButton.$colorDropdown.removeClass('hidden');\r\n    if (insidePopup) {\r\n      this._adjustPosition($trigger);\r\n    } else {\r\n      this._adjustControlsPosition();\r\n    }\r\n\r\n    this.$colorButton.$colorDropdown.removeClass('control-hidden');\r\n    if (this.toolbar.options.compactType === 'scrollable') {\r\n      this.$cloneControl = $('<div class=\"colorpicker-control\"></div>');\r\n      this.$cloneDropdown = this.$colorButton.$colorDropdown.clone(true);\r\n      this.$cloneControl.append(this.$cloneDropdown);\r\n      this.$toolbar.closest('.toolbar-placeholder').append(this.$cloneControl);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Hide color dropdown\r\n   */\r\n  ColorpickerControl.prototype.hideColorDropdown = function () {\r\n    this.colorDropdownVisible = false;\r\n    this.$colorButton.$colorDropdown.addClass('hidden');\r\n    this.$colorButton.$colorDropdown.addClass('control-hidden');\r\n    if (this.$cloneControl) {\r\n      this.$cloneControl.remove();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Toggle state of color dropdown\r\n   * @param {jQuery} [$trigger]\r\n   */\r\n  ColorpickerControl.prototype.toggleColorDropdown = function ($trigger) {\r\n    if (!this.colorDropdownVisible) {\r\n      this.showColorDropdown($trigger);\r\n    } else {\r\n      this.hideColorDropdown();\r\n    }\r\n  };\r\n\r\n\r\n  pluginsNamespace.ColorpickerControl = ColorpickerControl;\r\n\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util));\r\n\r\n(function ($, pluginsNamespace, util) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Creates color input for changing color; colorChangeHandler is called on color change.\r\n   *\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @param {callback} colorChangeHandler will be called  with new color as parameter\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var OpacityControl = function OpacityControlConstructor(drawer, options) {\r\n      /**\r\n       * @type {Drawer}\r\n       */\r\n      this.drawer = drawer;\r\n\r\n      // init options\r\n      this.options = $.extend(true, {}, this._defaultOptions || {}, options || {});\r\n\r\n      this._opacity = this.options.defaultOpacity;\r\n      this.drawer.on(this.drawer.AFTER_CREATE_TOOLBARS, this._moveControlToEnd.bind(this));\r\n    };\r\n\r\n\r\n  OpacityControl.prototype._defaultOptions = {\r\n    defaultOpacity : 1\r\n  };\r\n\r\n\r\n  /**\r\n   * Removes tool\r\n   */\r\n  OpacityControl.prototype.remove = function () {\r\n    if (this.$opacityControl) {\r\n      this.$opacityControl.remove();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Move opacity control to the end of toolbar for popup\r\n   * @private\r\n   */\r\n  OpacityControl.prototype._moveControlToEnd = function () {\r\n    var needToMove = this.toolbar.options.compactType === 'popup';\r\n    if (needToMove) {\r\n      var $toolbar = this.$opacityControl.parent();\r\n      $toolbar.append(this.$opacityControl);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Hides controls\r\n   */\r\n  OpacityControl.prototype.hideControls = function () {\r\n    if (this.$opacityControl) {\r\n      this.$opacityControl.addClass('hidden');\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Shows controls\r\n   */\r\n  OpacityControl.prototype.showControls = function () {\r\n    if (this.$opacityControl) {\r\n      this.$opacityControl.removeClass('hidden');\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Returns current opacity\r\n   * @return {Number} current opacity - number from 0 to 1\r\n   */\r\n  OpacityControl.prototype.getOpacity = function () {\r\n      return this._opacity;\r\n  };\r\n\r\n\r\n  /**\r\n   * Sets current opacity and updated tool control.\r\n   * @param {Number} opacity number from 0 to 1\r\n   */\r\n  OpacityControl.prototype.setOpacity = function (opacity) {\r\n      this._opacity = opacity;\r\n\r\n      this.$opacityControl.find('input').val(opacity * 100 );\r\n      this.$opacityControl.find('.editable-canvas-opacity-indicator').text(opacity * 100 + '%');\r\n    };\r\n\r\n\r\n  /**\r\n   * This function is called every time user clicks on color from color-dropdown\r\n   * menu.\r\n   *\r\n   * @param {String} selectedColor Hash value of user selected color.\r\n   */\r\n  OpacityControl.prototype.onOpacityChange = function () {\r\n    var $opacityInput = $(this.$opacityControl).find('input'),\r\n        rawValue = parseInt($opacityInput.val(), 10),\r\n        rawValueIsValid = typeof rawValue === 'number' &&  isFinite(rawValue),\r\n        validatedValue = rawValueIsValid ? rawValue : this.options.defaultOpacity,\r\n        formattedValue = parseInt(validatedValue, 10) + '%';\r\n    this._opacity = validatedValue / 100;\r\n\r\n    this.$opacityIndicator.text(formattedValue);\r\n\r\n    if (this.opacityChangeCallback) {\r\n      this.opacityChangeCallback(this._opacity);\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Create controls.\r\n   * @param  {DrawerToolbar} toolbar to add control to\r\n   */\r\n  OpacityControl.prototype.createControl = function (toolbar, opacityChangeCallback) {\r\n    var self = this;\r\n    this.toolbar = toolbar;\r\n    this.opacityChangeCallback = opacityChangeCallback;\r\n\r\n    this.$opacityControl = $(\r\n      '<li class=\"editable-canvas-opacity toolbar-item-range\">' +\r\n        '<div class=\"toolbar-item-description\">' +\r\n          '<span class=\"toolbar-label editable-canvas-opacity-label\">' +\r\n          this.drawer.t('Fill opacity:') + ' ' +\r\n          '</span>' +\r\n          '<span class=\"toolbar-label toolbar-label-indicator editable-canvas-opacity-indicator\">' +\r\n            '100%' +\r\n          '</span>' +\r\n      '</div>' +\r\n        '<input class=\"editable-canvas-opacity-input\" ' +\r\n               'type=\"range\" name=\"drawer-size\" min=\"0\" max=\"100\"' +\r\n               'value=\"100\" />' +\r\n        '</li>');\r\n\r\n    this.$opacityIndicator = this.$opacityControl.find('.editable-canvas-opacity-indicator');\r\n\r\n    toolbar.addControl(this.$opacityControl, this.options.buttonOrder);\r\n\r\n    $(this.$opacityControl).on('change', this.onOpacityChange.bind(this));\r\n\r\n    return this.$opacityControl;\r\n  };\r\n\r\n\r\n  OpacityControl.prototype.showControls = function() {\r\n      // this.updateControl();\r\n      this.$opacityControl.show();\r\n  };\r\n\r\n\r\n  OpacityControl.prototype.hideControls = function() {\r\n      this.$opacityControl.hide();\r\n  };\r\n\r\n\r\n  // OpacityControl.prototype.updateControl = function () {\r\n  //   var opactity = .5;\r\n  //   this.setBrushSize\r\n\r\n  // };\r\n\r\n  pluginsNamespace.OpacityControl = OpacityControl;\r\n\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util));\r\n\r\n(function ($, pluginsNamespace) {\r\n  /**\r\n   * Provides html5 color input for changing shapes/freedrawing brush color.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var ColorpickerHtml5 = function ColorpickerHtml5Constructor(drawerInstance) {\r\n    var _this = this;\r\n    this.drawerInstance = drawerInstance;\r\n    this.name = 'BrushSize';\r\n\r\n    drawerInstance.on(drawerInstance.EVENT_OPTIONS_TOOLBAR_CREATED,\r\n      function (e, toolbar) {\r\n        _this.createColorControl(toolbar);\r\n      });\r\n  };\r\n\r\n  /**\r\n   * Create control and append it to toolbar\r\n   * @param  {DrawerToolbar} toolbar to add control to\r\n   */\r\n  ColorpickerHtml5.prototype.createColorControl = function (toolbar) {\r\n    var _this = this;\r\n\r\n    var colorButton = $(\r\n      '<li class=\"editable-canvas-plugin-color\"' +\r\n        'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n        'data-editable-canvas-cssrules=\"height\">' +\r\n      '<span class=\"toolbar-label\"' +\r\n        'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n        'data-editable-canvas-cssrules=\"height,line-height\">Color: </span>' +\r\n      '<input class=\"editable-canvas-colorpicker\" type=\"color\" ' +\r\n        'value=\"' + this.drawerInstance.activeColor + '\" ' +\r\n        'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n        'data-editable-canvas-cssrules=\"height,width\"/>' +\r\n      '</li>');\r\n\r\n    toolbar.addControl(colorButton, this.options.buttonOrder);\r\n\r\n    var colorChangeHandler = function (event) {\r\n      if (!event) {\r\n        return;\r\n      }\r\n\r\n      var color = event.target.value;\r\n\r\n      _this.drawerInstance.setColor(color);\r\n    };\r\n\r\n    colorButton.find('input').change(colorChangeHandler);\r\n  };\r\n\r\n  pluginsNamespace.ColorpickerHtml5 = ColorpickerHtml5;\r\n\r\n}(jQuery, DrawerJs.plugins));\r\n\r\n(function ($, pluginsNamespace, BaseToolOptions, util) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Provides input for changing width of line/arrow.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} [options] - Configuration object\r\n   * @param {Number} [options.digitsAfterDecimalPoint=0] - The number of digits to appear after the decimal point;\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.options\r\n   * @extends {DrawerJs.plugins.BaseToolOptions}\r\n   */\r\n  var LineWidth = function LineWidthConstructor(drawer, options) {\r\n    // call super c-tor\r\n    BaseToolOptions.call(this, drawer);\r\n    this._setupOptions(options);\r\n  };\r\n\r\n  LineWidth.prototype = Object.create(BaseToolOptions.prototype);\r\n  LineWidth.prototype.constructor = BaseToolOptions;\r\n\r\n  LineWidth.prototype.name = 'LineWidth';\r\n  LineWidth.prototype.optionName = 'lineWidth';\r\n  // LineWidth.prototype.useCombobox = true;\r\n  // LineWidth.prototype.buttonMode = true;\r\n  // LineWidth.prototype.preventHightlight = true;\r\n  LineWidth.prototype.useCombobox = false;\r\n  LineWidth.prototype.preventHightlight = false;\r\n  LineWidth.prototype.buttonMode = false;\r\n\r\n  LineWidth.prototype.buttonIconClass = 'fa-arrows-h';\r\n\r\n  LineWidth.prototype._defaultOptions = {\r\n    digitsAfterDecimalPoint: 0\r\n  };\r\n\r\n  LineWidth.prototype.onSelectionCleared = function (toolbar) {\r\n    this.data = false;\r\n  };\r\n\r\n  LineWidth.prototype.createControls = function (toolbar) {\r\n    this.createControl(toolbar);\r\n    this._attachEvents();\r\n  };\r\n\r\n  /**\r\n   * Get html of control\r\n   * @returns {string} result - html of controls\r\n   * @private\r\n   */\r\n  LineWidth.prototype._generateHtml = function () {\r\n    var result,\r\n        selectHtml;\r\n\r\n    selectHtml = '' +\r\n        '<select ' +\r\n        'class=\"editable-canvas-line-width-input controls-value-item\" ' +\r\n        'name=\"drawer-size\"' +\r\n        'data-name=\"lineWidth\"' +\r\n        '>' +\r\n        '</select>';\r\n\r\n    var optionItemDefaultClasses = 'toolbar-item-wrapper toolbar-item-range editable-canvas-line-width hidden',\r\n        optionItemAdditionalClasses = '' +\r\n            (this.buttonMode ? ' toolbar-button-item ' : '') +\r\n            (this.preventHightlight ? ' prevent-highlight ' : ''),\r\n        optionItemClasses = optionItemDefaultClasses + optionItemAdditionalClasses;\r\n\r\n    /*\r\n     // For button mode\r\n     result = '' +\r\n     '<li class=\"' + optionItemClasses + '\">' +\r\n     '<div class=\"toolbar-item-description\">' +\r\n     '<span class=\"toolbar-item-label\">' +\r\n     this.drawer.t('Line width:') + ' ' +\r\n     '</span>' +\r\n     '<span class=\"toolbar-item-valueholder\"></span>' +\r\n     '<span class=\"toolbar-item-icon fa ' + this.buttonIconClass + '\"></span>' +\r\n     '</div>' +\r\n     '<div class=\"toolbar-dropdown-block collapsed\">' +\r\n     selectHtml +\r\n     '</div>' +\r\n     '</li>';\r\n\r\n     */\r\n\r\n    result = '' +\r\n        '<li class=\"' + optionItemClasses + '\">' +\r\n          '<div class=\"toolbar-item-description\">' +\r\n            '<span class=\"toolbar-label editable-canvas-line-width-label\">' +\r\n              this.drawer.t('Line width:') + ' ' +\r\n            '</span>' +\r\n            '<span class=\"toolbar-label toolbar-label-indicator editable-canvas-line-width-indicator\"></span>' + '' +\r\n          '</div>' +\r\n          '<input ' +\r\n            'class=\"editable-canvas-line-width-input controls-value-item\" ' +\r\n            'name=\"drawer-line-width\"' +\r\n            'data-name=\"lineWidth\"' +\r\n            'type=\"range\"' +\r\n            'min=\"1\"' +\r\n            'max=\"1000\"' +\r\n          '>' +\r\n        '</li>';\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Create/add controls\r\n   * @param {DrawerToolbar} toolbar\r\n   * @returns {jQuery}\r\n   * @private\r\n   */\r\n  LineWidth.prototype.createControl = function (toolbar) {\r\n    var toolControlHtml = this._generateHtml();\r\n    this.$toolControl = $(toolControlHtml);\r\n    this.$valueIndicator = this.$toolControl.find('.editable-canvas-line-width-indicator');\r\n    toolbar.addControl(this.$toolControl, this.options.buttonOrder);\r\n    return this.$toolControl;\r\n  };\r\n\r\n  /**\r\n   * Attach events for control element\r\n   * @private\r\n   */\r\n  LineWidth.prototype._attachEvents = function () {\r\n    if (this.$toolControl) {\r\n      this.$toolControl.on('input change toolbarOptionChange', this.onInputChange.bind(this));\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Validate width value\r\n   * @param rawValue\r\n   * @returns {*}\r\n   */\r\n  LineWidth.prototype.validateValue = function (rawValue) {\r\n    rawValue = parseInt(rawValue, 10);\r\n    var result,\r\n        rawValueIsValid = typeof rawValue === 'number' && isFinite(rawValue) && rawValue;\r\n    if (rawValueIsValid) {\r\n      var decimalRatio = Math.pow(10, this.options.digitsAfterDecimalPoint),\r\n          formattedValue = parseInt(rawValue * decimalRatio, 10) / decimalRatio;\r\n      result = formattedValue;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Set line width of current active object\r\n   * @param {number|string} value - Width of line/arrow in px\r\n   */\r\n  LineWidth.prototype.setLineWidth = function (value) {\r\n    var fCanvas = this.drawer.fCanvas,\r\n        target = fCanvas.getActiveObject();\r\n    if (target) {\r\n      if (!this.data) {\r\n        this.collectDataFromObject(target);\r\n      }\r\n\r\n      var diffRatio = parseInt(value / this.data.initialWidth * 100, 10) / 100;\r\n      \r\n      target.x1 = this.data.x1 * diffRatio * target.scaleX;\r\n      target.x2 = this.data.x2 *  diffRatio * target.scaleX;\r\n      target.y1 = this.data.y1 * diffRatio * target.scaleY;\r\n      target.y2 = this.data.y2 * diffRatio * target.scaleY;\r\n\r\n      target.set('x1',target.x1);\r\n      target.set('x2',target.x2);\r\n      target.set('y1',target.y1);\r\n      target.set('y2',target.y2);\r\n\r\n      target.set('top',this.data.top);\r\n      target.set('left',this.data.left);\r\n\r\n      fCanvas.renderAll();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * This function is called every time user changes width via control\r\n   * @private\r\n   */\r\n  LineWidth.prototype.onInputChange = function () {\r\n    var $opacityInput = $(this.$toolControl).find('input'),\r\n        rawValue = $opacityInput.val(),\r\n        validatedValue = this.validateValue(rawValue);\r\n    this.$valueIndicator.text(validatedValue + 'px');\r\n    this.setLineWidth(validatedValue);\r\n  };\r\n\r\n  LineWidth.prototype.collectDataFromObject = function (target) {\r\n    var result = {},\r\n        decimalRatio = Math.pow(10, this.options.digitsAfterDecimalPoint),\r\n        calcWidth = function (x, y) {\r\n          var result,\r\n              axisSum = Math.pow(x, 2) + Math.pow(y, 2),\r\n              widthRaw = Math.sqrt(axisSum),\r\n              lineWidth = parseInt(widthRaw * decimalRatio) / decimalRatio;\r\n          result = lineWidth;\r\n          return result;\r\n        },\r\n        xDelta =target.x2 - target.x1,\r\n        yDelta =target.y2 - target.y1,\r\n        xDiffScaled = (xDelta) * target.scaleX,\r\n        yDiffScaled = (yDelta) * target.scaleY,\r\n        xDiff = (xDelta),\r\n        yDiff = (yDelta),\r\n        angleRad = Math.atan((yDelta) / (xDelta)),\r\n        angleDeg = Math.abs(fabric.util.radiansToDegrees(angleRad));\r\n\r\n    result.lineWidth = calcWidth(xDiffScaled, yDiffScaled);\r\n    result.initialWidth = calcWidth(xDiff, yDiff);\r\n    result.angleRad = angleRad;\r\n    result.angleDeg = angleDeg;\r\n\r\n    result.top = target.top;\r\n    result.left = target.left;\r\n    result.x1 = target.x1;\r\n    result.x2 = target.x2;\r\n    result.y1 = target.y1;\r\n    result.y2 = target.y2;\r\n\r\n    this.data = result;\r\n    return result;\r\n  };\r\n\r\n  LineWidth.prototype.updateControls = function (dataToFill) {\r\n    dataToFill = dataToFill || this.data;\r\n    var rawValue = dataToFill.lineWidth,\r\n        validatedValue = this.validateValue(rawValue);\r\n    this.$toolControl.find('input').val(validatedValue);\r\n    this.$valueIndicator.text(validatedValue + 'px');\r\n  };\r\n\r\n  LineWidth.prototype.showControls = function () {\r\n    this.$toolControl.removeClass('hidden');\r\n  };\r\n\r\n  LineWidth.prototype.hideControls = function (force) {\r\n    this.$toolControl.addClass('hidden');\r\n  };\r\n\r\n  pluginsNamespace.LineWidth = LineWidth;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.plugins.BaseToolOptions, DrawerJs.util));\r\n(function ($, pluginsNamespace, BaseToolOptions, util) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Provides opacity input for changing shapes/brush opacity.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} options - Configuration object\r\n   * @param {Number} options.defaultValue - Default opacity value\r\n   *\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.options\r\n   * @extends {DrawerJs.plugins.BaseToolOptions}\r\n   */\r\n  var OpacityOption = function OpacityOptionConstructor(drawer, options) {\r\n    // call super c-tor\r\n    BaseToolOptions.call(this, drawer);\r\n    this._setupOptions(options);\r\n  };\r\n\r\n  OpacityOption.prototype = Object.create(BaseToolOptions.prototype);\r\n  OpacityOption.prototype.constructor = BaseToolOptions;\r\n\r\n  OpacityOption.prototype.optionName = 'opacity';\r\n\r\n\r\n  OpacityOption.prototype._defaultOptions = {\r\n    defaultValue: 1,\r\n    alwaysVisible: true\r\n  };\r\n\r\n  OpacityOption.prototype.createControls = function (toolbar) {\r\n    this.createControl(toolbar, this.setOpacity.bind(this));\r\n  };\r\n\r\n  /**\r\n   * Create controls.\r\n   * @param {DrawerToolbar} toolbar\r\n   * @param {Function} [opacityChangeCallback]\r\n   * @returns {jQuery}\r\n   */\r\n  OpacityOption.prototype.createControl = function (toolbar, opacityChangeCallback) {\r\n    this.toolbar = toolbar;\r\n    this.opacityChangeCallback = opacityChangeCallback;\r\n\r\n    this.$opacityControl = $(\r\n        '<li class=\"editable-canvas-opacity-option toolbar-item-range\">' +\r\n          '<div class=\"toolbar-item-description\">' +\r\n            '<span class=\"toolbar-label editable-canvas-opacity-option-label\">' +\r\n            this.drawer.t('Opacity :') + ' ' +\r\n            '</span>' +\r\n            '<span class=\"toolbar-label toolbar-label-indicator editable-canvas-opacity-option-indicator\">' +\r\n              '100%' +\r\n            '</span>' +\r\n          '</div>' +\r\n        '<input class=\"editable-canvas-opacity-option-input\" ' +\r\n        'type=\"range\" name=\"drawer-size\" min=\"0\" max=\"100\"' +\r\n        'value=\"100\" />' +\r\n        '</li>');\r\n\r\n    this.$opacityIndicator = this.$opacityControl.find('.editable-canvas-opacity-option-indicator');\r\n    toolbar.addControl(this.$opacityControl, this.options.buttonOrder);\r\n    this.$opacityControl.on('change', this._onOpacityChange.bind(this));\r\n    return this.$opacityControl;\r\n  };\r\n\r\n\r\n  /**\r\n   * Set opacity value\r\n   * @private\r\n   */\r\n  OpacityOption.prototype.setOpacity = function (value) {\r\n    var fCanvas = this.drawer.fCanvas,\r\n        activeFabricObject = fCanvas.getActiveObject();\r\n\r\n    this.drawer.setOpacity(value);\r\n    if (activeFabricObject) {\r\n      activeFabricObject.setOpacity(value);\r\n      fCanvas.renderAll();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * This function is called every time user changes opacity via control\r\n   * @private\r\n   */\r\n  OpacityOption.prototype._onOpacityChange = function () {\r\n    var $opacityInput = $(this.$opacityControl).find('input'),\r\n        rawValue = parseInt($opacityInput.val(), 10),\r\n        rawValueIsValid = typeof rawValue === 'number' && isFinite(rawValue),\r\n        validatedValue = rawValueIsValid ? rawValue : this.options.defaultOpacity,\r\n        formattedValue = parseInt(validatedValue, 10) + '%';\r\n    this._opacity = validatedValue / 100;\r\n\r\n    this.$opacityIndicator.text(formattedValue);\r\n\r\n    if (this.opacityChangeCallback) {\r\n      this.opacityChangeCallback(this._opacity);\r\n    }\r\n  };\r\n\r\n  OpacityOption.prototype.collectDataFromObject = function (target) {\r\n    var result = {};\r\n    result.opacity = target.get('opacity');\r\n    this.data = result;\r\n    return result;\r\n  };\r\n\r\n  OpacityOption.prototype.updateControls = function (dataToFill) {\r\n    dataToFill = dataToFill || this.data;\r\n\r\n    var rawValue = dataToFill.opacity,\r\n        rawValueIsValid = typeof rawValue === 'number' && isFinite(rawValue),\r\n        validatedValue = rawValueIsValid ? rawValue : this.options.defaultOpacity,\r\n        formattedValue = parseInt(validatedValue*100, 10) + '%';\r\n    this.drawer.activeOpacity = validatedValue;\r\n    this.$opacityControl.find('input').val(validatedValue*100);\r\n    this.$opacityControl.find('.editable-canvas-opacity-option-indicator').text(formattedValue);\r\n  };\r\n\r\n  OpacityOption.prototype.showControls = function () {\r\n    this.$opacityControl.removeClass('hidden');\r\n  };\r\n\r\n  OpacityOption.prototype.hideControls = function (force) {\r\n    var alwaysVisible = this.drawer.options.toolbars.popupButtonAlwaysVisible || this.options.alwaysVisible;\r\n    if (force || !alwaysVisible) {\r\n      this.$opacityControl.addClass('hidden');\r\n    }\r\n  };\r\n\r\n  pluginsNamespace.OpacityOption = OpacityOption;\r\n\r\n}(jQuery, DrawerJs.plugins, DrawerJs.plugins.BaseToolOptions, DrawerJs.util));\r\n\r\n(function ($, pluginsNamespace, BaseToolOptions, util) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Provides input for changing width of line/arrow.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} [options] - Configuration object\r\n   * @param {Number} [options.digitsAfterDecimalPoint=0] - The number of digits to appear after the decimal point;\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.options\r\n   * @extends {DrawerJs.plugins.BaseToolOptions}\r\n   */\r\n  var StrokeWidth = function StrokeWidthConstructor(drawer, options) {\r\n    // call super c-tor\r\n    BaseToolOptions.call(this, drawer);\r\n    this._setupOptions(options);\r\n  };\r\n\r\n  StrokeWidth.prototype = Object.create(BaseToolOptions.prototype);\r\n  StrokeWidth.prototype.constructor = BaseToolOptions;\r\n\r\n  StrokeWidth.prototype.name = 'StrokeWidth';\r\n  StrokeWidth.prototype.optionName = 'strokeWidth';\r\n  // StrokeWidth.prototype.useCombobox = true;\r\n  // StrokeWidth.prototype.buttonMode = true;\r\n  // StrokeWidth.prototype.preventHightlight = true;\r\n  StrokeWidth.prototype.useCombobox = false;\r\n  StrokeWidth.prototype.preventHightlight = false;\r\n  StrokeWidth.prototype.buttonMode = false;\r\n\r\n  StrokeWidth.prototype.buttonIconClass = 'fa-arrows-h';\r\n\r\n  StrokeWidth.prototype._defaultOptions = {\r\n    digitsAfterDecimalPoint: 0\r\n  };\r\n\r\n  StrokeWidth.prototype.onSelectionCleared = function (toolbar) {\r\n    this.data = false;\r\n  };\r\n\r\n  StrokeWidth.prototype.createControls = function (toolbar) {\r\n    this.createControl(toolbar);\r\n    this._attachEvents();\r\n  };\r\n\r\n  /**\r\n   * Get html of control\r\n   * @returns {string} result - html of controls\r\n   * @private\r\n   */\r\n  StrokeWidth.prototype._generateHtml = function () {\r\n    var result,\r\n        selectHtml;\r\n\r\n    selectHtml = '' +\r\n        '<select ' +\r\n        'class=\"editable-canvas-stroke-width-input controls-value-item\" ' +\r\n        'name=\"drawer-size\"' +\r\n        'data-name=\"strokeWidth\"' +\r\n        '>' +\r\n        '</select>';\r\n\r\n    var optionItemDefaultClasses = 'toolbar-item-wrapper toolbar-item-range editable-canvas-stroke-width hidden',\r\n        optionItemAdditionalClasses = '' +\r\n            (this.buttonMode ? ' toolbar-button-item ' : '') +\r\n            (this.preventHightlight ? ' prevent-highlight ' : ''),\r\n        optionItemClasses = optionItemDefaultClasses + optionItemAdditionalClasses;\r\n\r\n    result = '' +\r\n        '<li class=\"' + optionItemClasses + '\">' +\r\n          '<div class=\"toolbar-item-description\">' +\r\n            '<span class=\"toolbar-label editable-canvas-stroke-width-label\">' +\r\n              this.drawer.t('Stroke width:') + ' ' +\r\n            '</span>' +\r\n            '<span class=\"toolbar-label toolbar-label-indicator editable-canvas-stroke-width-indicator\"></span>' + '' +\r\n          '</div>' +\r\n          '<input ' +\r\n            'class=\"editable-canvas-stroke-width-input controls-value-item\" ' +\r\n            'name=\"drawer-stroke-width\"' +\r\n            'data-name=\"strokeWidth\"' +\r\n            'type=\"range\"' +\r\n            'min=\"1\"' +\r\n            'max=\"50\"' +\r\n          '>' +\r\n        '</li>';\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Create/add controls\r\n   * @param {DrawerToolbar} toolbar\r\n   * @returns {jQuery}\r\n   * @private\r\n   */\r\n  StrokeWidth.prototype.createControl = function (toolbar) {\r\n    var toolControlHtml = this._generateHtml();\r\n    this.$toolControl = $(toolControlHtml);\r\n    this.$valueIndicator = this.$toolControl.find('.editable-canvas-stroke-width-indicator');\r\n    toolbar.addControl(this.$toolControl, this.options.buttonOrder);\r\n    return this.$toolControl;\r\n  };\r\n\r\n  /**\r\n   * Attach events for control element\r\n   * @private\r\n   */\r\n  StrokeWidth.prototype._attachEvents = function () {\r\n    if (this.$toolControl) {\r\n      this.$toolControl.on('input change toolbarOptionChange', this.onInputChange.bind(this));\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Validate width value\r\n   * @param rawValue\r\n   * @returns {*}\r\n   */\r\n  StrokeWidth.prototype.validateValue = function (rawValue) {\r\n    rawValue = parseInt(rawValue, 10);\r\n    var result,\r\n        rawValueIsValid = typeof rawValue === 'number' && isFinite(rawValue) && rawValue;\r\n    if (rawValueIsValid) {\r\n      var decimalRatio = Math.pow(10, this.options.digitsAfterDecimalPoint),\r\n          formattedValue = parseInt(rawValue * decimalRatio, 10) / decimalRatio;\r\n      result = formattedValue;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Set line width of current active object\r\n   * @param {number|string} value - Width of line/arrow in px\r\n   */\r\n  StrokeWidth.prototype.setStrokeWidth = function (value) {\r\n    value =  parseInt(value, 10);\r\n    var fCanvas = this.drawer.fCanvas,\r\n        target = fCanvas.getActiveObject();\r\n    this.drawer.lineStrokeWidth = value;\r\n    if (target) {\r\n      if (!this.data) {\r\n        this.collectDataFromObject(target);\r\n      }\r\n      target.set('left',this.data.left);\r\n      target.set('top',this.data.top);\r\n      target.set('strokeWidth', parseInt(value, 10));\r\n      fCanvas.renderAll();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * This function is called every time user changes width via control\r\n   * @private\r\n   */\r\n  StrokeWidth.prototype.onInputChange = function () {\r\n    var $opacityInput = $(this.$toolControl).find('input'),\r\n        rawValue = $opacityInput.val(),\r\n        validatedValue = this.validateValue(rawValue);\r\n    this.$valueIndicator.text(validatedValue + 'px');\r\n    this.setStrokeWidth(validatedValue);\r\n  };\r\n\r\n  StrokeWidth.prototype.collectDataFromObject = function (target) {\r\n    var result = {},\r\n        decimalRatio = Math.pow(10, this.options.digitsAfterDecimalPoint),\r\n        strokeWidth = target.strokeWidth;\r\n    result.strokeWidth = strokeWidth;\r\n    result.top = target.top;\r\n    result.left = target.left;\r\n\r\n    this.data = result;\r\n    return result;\r\n  };\r\n\r\n  StrokeWidth.prototype.updateControls = function (dataToFill) {\r\n    dataToFill = dataToFill || this.data;\r\n    var rawValue = dataToFill.strokeWidth,\r\n        validatedValue = this.validateValue(rawValue);\r\n    this.drawer.lineStrokeWidth = validatedValue;\r\n    this.$toolControl.find('input').val(validatedValue);\r\n    this.$valueIndicator.text(validatedValue + 'px');\r\n  };\r\n\r\n  StrokeWidth.prototype.showControls = function () {\r\n    this.$toolControl.removeClass('hidden');\r\n  };\r\n\r\n  StrokeWidth.prototype.hideControls = function (force) {\r\n    this.$toolControl.addClass('hidden');\r\n  };\r\n\r\n  pluginsNamespace.StrokeWidth = StrokeWidth;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.plugins.BaseToolOptions, DrawerJs.util));\r\n(function ($, pluginsNamespace, util, BaseTextOptionTool) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Creates controls for changing font size of text;\r\n   *\r\n   * @param drawer\r\n   * Instance of drawer\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   * @augments DrawerJs.plugins.BaseTextOptionTool\r\n   */\r\n\r\n  var TextAlign = function TextAlignConstructor(drawer, options) {\r\n    BaseTextOptionTool.call(this, drawer);\r\n\r\n    // init options\r\n    this._setupOptions(options);\r\n  };\r\n\r\n  TextAlign.prototype = Object.create(BaseTextOptionTool.prototype);\r\n  TextAlign.prototype.constructor = BaseTextOptionTool;\r\n\r\n  TextAlign.prototype.name = 'TextAlign';\r\n  TextAlign.prototype.optionName = 'TextAlign';\r\n  TextAlign.prototype.useCombobox = true;\r\n  TextAlign.prototype.buttonMode = true;\r\n  TextAlign.prototype.focusTextOnChange = true;\r\n  TextAlign.prototype.preventHightlight = true;\r\n  TextAlign.prototype.showOnEditMode = false;\r\n  TextAlign.prototype.hideOnEditMode = true;\r\n  TextAlign.prototype.stylesToObject = true;\r\n  TextAlign.prototype.onlyPredefined = true;\r\n  TextAlign.prototype.buttonIconClass = 'fa-align-left';\r\n\r\n  TextAlign.prototype.valueType = {\r\n    textAlign: 'string'\r\n  };\r\n\r\n  TextAlign.prototype._defaultOptions = {\r\n    defaultValues: {\r\n      textAlign: \"left\"\r\n    },\r\n    predefined: {\r\n      textAlign: [\"left\", \"center\", \"right\", \"justify\"]\r\n    },\r\n    valueMap: {\r\n      left: {\r\n        value: 'left',\r\n        classString: 'fa fa-align-left'\r\n      },\r\n      center: {\r\n        value: 'center',\r\n        classString: 'fa fa-align-center'\r\n      },\r\n      right: {\r\n        value: 'right',\r\n        classString: 'fa fa-align-right'\r\n      },\r\n      justify: {\r\n        value: 'justify',\r\n        classString: 'fa fa-align-justify'\r\n      }\r\n    }\r\n  };\r\n  \r\n  TextAlign.prototype.controlTemplate = function () {\r\n    var result,\r\n        $predefined,\r\n        selectHtml;\r\n\r\n    $predefined = this.options.predefined.textAlign.map(function (size, i) {\r\n      return '<option value=\"' + size + '\">' + size + '</option>';\r\n    }).join('');\r\n\r\n    selectHtml = '' +\r\n        '<select ' +\r\n        'class=\"editable-canvas-text-textalign-input controls-value-item\" ' +\r\n        'name=\"drawer-size\"' +\r\n        'data-name=\"textAlign\"' +\r\n        'value=\"' + this.options.defaultValues.textAlign + '\">' +\r\n        $predefined +\r\n        '</select>';\r\n\r\n    var optionItemDefaultClasses = 'toolbar-item-wrapper editable-canvas-text-option editable-canvas-text-textalign hidden',\r\n        optionItemAdditionalClasses = ''+\r\n            (this.buttonMode ? ' toolbar-button-item ': '') +\r\n            (this.preventHightlight ? ' prevent-highlight ': ''),\r\n        optionItemClasses = optionItemDefaultClasses + optionItemAdditionalClasses;\r\n\r\n    result = '' +\r\n        '<li class=\"' + optionItemClasses + '\">' +\r\n        '<div class=\"toolbar-item-description\">' +\r\n        '<span class=\"toolbar-item-label\">' +\r\n        this.drawer.t('Font size:') + ' ' +\r\n        '</span>' +\r\n        '<span class=\"toolbar-item-valueholder\"></span>' +\r\n        '<span class=\"toolbar-item-icon fa ' + this.buttonIconClass + '\"></span>' +\r\n        '</div>' +\r\n        '<div class=\"toolbar-dropdown-block collapsed\">' +\r\n        selectHtml +\r\n        '</div>' +\r\n        '</li>';\r\n\r\n    return result;\r\n  };\r\n\r\n  pluginsNamespace.TextAlign = TextAlign;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util, DrawerJs.plugins.BaseTextOptionTool));\r\n(function ($, pluginsNamespace, util, BaseTextOptionTool) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Creates controls for changing text background color;\r\n   *\r\n   * @param drawer\r\n   * Instance of drawer\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   * @augments DrawerJs.plugins.BaseTextOptionTool\r\n   */\r\n\r\n  var TextBackgroundColor = function TextBackgroundColorConstructor(drawer, options) {\r\n    BaseTextOptionTool.call(this, drawer);\r\n\r\n    // init options\r\n    this._setupOptions(options);\r\n\r\n    this.colorControl = new pluginsNamespace.ColorpickerControl(this.drawer, this.options);\r\n  };\r\n\r\n  TextBackgroundColor.prototype = Object.create(BaseTextOptionTool.prototype);\r\n  TextBackgroundColor.prototype.constructor = BaseTextOptionTool;\r\n\r\n  TextBackgroundColor.prototype.name = 'TextBackgroundColor';\r\n  TextBackgroundColor.prototype.optionName = 'TextBackgroundColor';\r\n  TextBackgroundColor.prototype.focusTextOnChange = true;\r\n  TextBackgroundColor.prototype.useCombobox = false;\r\n  TextBackgroundColor.prototype.buttonMode = false;\r\n\r\n  TextBackgroundColor.prototype._defaultOptions = {\r\n    colorText: 'Text background:',\r\n    defaultValues: {\r\n      textBackgroundColor: ''\r\n    },\r\n  };\r\n\r\n  TextBackgroundColor.prototype.onlyPredefined = true;\r\n  TextBackgroundColor.prototype.valueType = {\r\n    textBackgroundColor: 'color'\r\n  };\r\n\r\n  TextBackgroundColor.prototype.updateSingleControl = function (valueName, value) {\r\n    if (valueName === 'textBackgroundColor') {\r\n      this.colorControl.setColor(value);\r\n    }\r\n  };\r\n\r\n  TextBackgroundColor.prototype.getStylesFromControls = function () {};\r\n\r\n  TextBackgroundColor.prototype.getStylesFromChangeEvent = function (data) {\r\n    var result;\r\n    if (data) {\r\n      if (typeof data === 'object') {\r\n        result = data.styles;\r\n      }\r\n      if (typeof data === 'string') {\r\n        result = {\r\n          textBackgroundColor: data\r\n        };\r\n      }\r\n    }\r\n    this._lastData = result;\r\n    return result;\r\n  };\r\n\r\n\r\n  TextBackgroundColor.prototype.setupControl = function (toolbar, $toolControl, changeCallback) {\r\n    this.colorChangeHandler = changeCallback;\r\n\r\n    this.$toolControl = this.colorControl.createControl(toolbar,  this.onInputChange.bind(this));\r\n    // cache control components\r\n    this.$toolControl.$colorIndicator = this.$toolControl.find('.color-indicator');\r\n    this.$toolControl.$colorDropdown = this.$toolControl.find('.color-dropdown');\r\n\r\n    this.$toolControl.$colorIndicator.attr('data-name', 'textBackgroundColor');\r\n    this.$toolControl.$colorIndicator.addClass('controls-value-item');\r\n\r\n    this.$toolControl.addClass('editable-canvas-text-option editable-canvas-text-backgroundcolor');\r\n\r\n    this.colorDropdownVisible = false;\r\n  };\r\n\r\n  pluginsNamespace.TextBackgroundColor = TextBackgroundColor;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util, DrawerJs.plugins.BaseTextOptionTool));\r\n(function ($, pluginsNamespace, util, BaseTextOptionTool) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Creates controls for changing text color;\r\n   *\r\n   * @param drawer\r\n   * Instance of drawer\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   * @augments DrawerJs.plugins.BaseTextOptionTool\r\n   */\r\n\r\n  var TextColor = function TextColorConstructor(drawer, options) {\r\n    BaseTextOptionTool.call(this, drawer);\r\n\r\n    // init options\r\n    this._setupOptions(options);\r\n    this.colorControl = new pluginsNamespace.ColorpickerControl(this.drawer, this.options);\r\n  };\r\n\r\n  TextColor.prototype = Object.create(BaseTextOptionTool.prototype);\r\n  TextColor.prototype.constructor = BaseTextOptionTool;\r\n\r\n  TextColor.prototype.name = 'TextColor';\r\n  TextColor.prototype.optionName = 'TextColor';\r\n  TextColor.prototype.focusTextOnChange = true;\r\n  TextColor.prototype.onlyPredefined = true;\r\n\r\n  TextColor.prototype._defaultOptions = {\r\n    colorText: 'Font color:',\r\n    defaultValues: {\r\n      fill: ''\r\n    },\r\n  };\r\n\r\n  TextColor.prototype.valueType = {\r\n    fill: 'color'\r\n  };\r\n\r\n  TextColor.prototype.updateSingleControl = function (valueName, value) {\r\n    if (valueName === 'fill') {\r\n      this.colorControl.setColor(value);\r\n    }\r\n  };\r\n\r\n  TextColor.prototype.getStylesFromControls = function () {};\r\n\r\n  TextColor.prototype.getStylesFromChangeEvent = function (data) {\r\n    var result;\r\n    if (data) {\r\n      if (typeof data === 'object') {\r\n        result = data.styles;\r\n      }\r\n      if (typeof data === 'string') {\r\n        result = {\r\n          fill: data\r\n        };\r\n      }\r\n    }\r\n    this._lastData = result;\r\n    return result;\r\n  };\r\n\r\n  TextColor.prototype.setupControl = function (toolbar, $toolControl, changeCallback) {\r\n    this.colorChangeHandler = changeCallback;\r\n\r\n    this.$toolControl = this.colorControl.createControl(toolbar,  this.onInputChange.bind(this));\r\n    // cache control components\r\n    this.$toolControl.$colorIndicator = this.$toolControl.find('.color-indicator');\r\n    this.$toolControl.$colorDropdown = this.$toolControl.find('.color-dropdown');\r\n\r\n    this.$toolControl.$colorIndicator.attr('data-name', 'fill');\r\n    this.$toolControl.$colorIndicator.addClass('controls-value-item');\r\n\r\n    this.$toolControl.addClass('editable-canvas-text-option editable-canvas-text-color');\r\n\r\n    this.colorDropdownVisible = false;\r\n  };\r\n\r\n  pluginsNamespace.TextColor = TextColor;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util, DrawerJs.plugins.BaseTextOptionTool));\r\n(function ($, pluginsNamespace, util, BaseTextOptionTool) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Creates controls for changing font size of text;\r\n   *\r\n   * @param drawer\r\n   * Instance of drawer\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   * @augments DrawerJs.plugins.BaseTextOptionTool\r\n   */\r\n\r\n  var TextDecoration = function TextDecorationConstructor(drawer, options) {\r\n    BaseTextOptionTool.call(this, drawer);\r\n    this._setupOptions(options);\r\n  };\r\n\r\n  TextDecoration.prototype = Object.create(BaseTextOptionTool.prototype);\r\n  TextDecoration.prototype.constructor = BaseTextOptionTool;\r\n\r\n  TextDecoration.prototype.name = 'TextDecoration';\r\n  TextDecoration.prototype.optionName = 'TextDecoration';\r\n  TextDecoration.prototype.focusTextOnChange = true;\r\n  TextDecoration.prototype.onlyPredefined = true;\r\n  /**\r\n   * @default\r\n   * @const\r\n   * @override\r\n   * @type {string}\r\n   */\r\n  TextDecoration.prototype.buttonIconClass = 'fa-strikethrough';\r\n  TextDecoration.prototype.valueType = {\r\n    textDecoration: 'string'\r\n  };\r\n\r\n  /**\r\n   * @type {object}\r\n   * @private\r\n   */\r\n  TextDecoration.prototype._defaultOptions = {\r\n    defaultValues: {\r\n      textDecoration: ''\r\n    },\r\n    predefined:{\r\n      textDecoration: [\"underline\", \"overline\", \"line-through\"]\r\n    }\r\n  };\r\n  \r\n  TextDecoration.prototype.controlTemplate = function () {\r\n    var result,\r\n        $predefined,\r\n        selectHtml;\r\n\r\n    $predefined = this.options.predefined.textDecoration.map(function (size, i) {\r\n      return '<option value=\"' + size + '\">' + size + '</option>';\r\n    }).join('');\r\n\r\n    selectHtml = '' +\r\n        '<select ' +\r\n        'class=\"editable-canvas-text-decoration-input controls-value-item\" ' +\r\n        'name=\"drawer-size\"' +\r\n        'data-name=\"textDecoration\"' +\r\n        'value=\"' + this.options.defaultValues.textDecoration + '\">' +\r\n        $predefined +\r\n        '</select>';\r\n\r\n    var optionItemDefaultClasses = 'toolbar-item-wrapper editable-canvas-text-option editable-canvas-text-decoration hidden',\r\n        optionItemAdditionalClasses = this.buttonMode ? ' toolbar-button-item ': '',\r\n        optionItemClasses = optionItemDefaultClasses + optionItemAdditionalClasses;\r\n\r\n    result = '' +\r\n        '<li class=\"' + optionItemClasses + '\">' +\r\n        '<div class=\"toolbar-item-description\">' +\r\n        '<span class=\"toolbar-item-label\">' +\r\n        this.drawer.t('Text Decoration:') + ' ' +\r\n        '</span>' +\r\n        '<span class=\"toolbar-item-valueholder\"></span>' +\r\n        '<span class=\"toolbar-item-icon fa ' + this.buttonIconClass + '\"></span>' +\r\n        '</div>' +\r\n        '<div class=\"toolbar-dropdown-block collapsed\">' +\r\n        selectHtml +\r\n        '</div>' +\r\n        '</li>';\r\n\r\n    return result;\r\n  };\r\n\r\n  pluginsNamespace.TextDecoration = TextDecoration;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util, DrawerJs.plugins.BaseTextOptionTool));\r\n(function ($, pluginsNamespace, util, BaseTextOptionTool) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Creates controls for changing font family;\r\n   *\r\n   * @param drawer\r\n   * Instance of drawer\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   * @param {Object} options.fonts\r\n   * Specifies the list of fonts available to select.\r\n   * The format is:\r\n   *\r\n   * <code>\r\n   * <pre class=\"prettyprint javascript\">\r\n   *   {\r\n   *    'Font display name': 'Font-family CSS value'\r\n   *   }\r\n   * </pre>\r\n   * </code>\r\n   *\r\n   * Example:\r\n   *\r\n   * <code>\r\n   * <pre class=\"prettyprint javascript\">\r\n   * fonts: {\r\n   *     'Georgia': 'Georgia, serif',\r\n   *     'Palatino': \"'Palatino Linotype', 'Book Antiqua', Palatino, serif\",\r\n   *     'Times New Roman': \"'Times New Roman', Times, serif\"\r\n   * }\r\n   * </pre>\r\n   * </code>\r\n   *\r\n   *\r\n   * @param {String} options.defaultFont\r\n   * Default font display name from <code>fonts</code> config\r\n   * that will be selected when edit mode activates.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   * @augments DrawerJs.plugins.BaseTextOptionTool\r\n   */\r\n\r\n  var TextFontFamily = function TextFontFamilyConstructor(drawer, options) {\r\n    BaseTextOptionTool.call(this, drawer);\r\n\r\n    this._setupOptions(options);\r\n\r\n    this.activeFont = this.options.fonts[this.options.defaultFont];\r\n    this.drawer.on(this.drawer.EVENT_TEXT_GET_STYLES, this._onGetStyles.bind(this));\r\n  };\r\n\r\n  TextFontFamily.prototype = Object.create(BaseTextOptionTool.prototype);\r\n  TextFontFamily.prototype.constructor = BaseTextOptionTool;\r\n\r\n  TextFontFamily.prototype.name = 'TextFontFamily';\r\n  TextFontFamily.prototype.optionName = 'TextFontFamily';\r\n  TextFontFamily.prototype.buttonIconClass = 'fa-font';\r\n  TextFontFamily.prototype.focusTextOnChange = true;\r\n  TextFontFamily.prototype.onlyPredefined = true;\r\n  TextFontFamily.prototype.valueType = {\r\n    fontFamily: 'string'\r\n  };\r\n\r\n  TextFontFamily.prototype._defaultOptions = {\r\n    defaultValues: {\r\n      fontFamily: 'Georgia'\r\n    },\r\n    fonts: {\r\n      'Georgia': 'Georgia, serif',\r\n      'Palatino': \"'Palatino Linotype', 'Book Antiqua', Palatino, serif\",\r\n      'Times New Roman': \"'Times New Roman', Times, serif\",\r\n\r\n      'Arial': 'Arial, Helvetica, sans-serif',\r\n      'Arial Black': \"'Arial Black', Gadget, sans-serif\",\r\n      'Comic Sans MS': \"'Comic Sans MS', cursive, sans-serif\",\r\n      'Impact': 'Impact, Charcoal, sans-serif',\r\n      'Lucida Grande': \"'Lucida Sans Unicode', 'Lucida Grande', sans-serif\",\r\n      'Tahoma': 'Tahoma, Geneva, sans-serif',\r\n      'Trebuchet MS': \"'Trebuchet MS', Helvetica, sans-serif\",\r\n      'Verdana': 'Verdana, Geneva, sans-serif',\r\n\r\n      'Courier New': \"'Courier New', Courier, monospace\",\r\n      'Lucida Console': \"'Lucida Console', Monaco, monospace\"\r\n    },\r\n    defaultFont: 'Georgia'\r\n  };\r\n\r\n  TextFontFamily.prototype.changeFont = function (fontFamilyName, withoutSetStyles) {\r\n    var _this = this;\r\n\r\n    _this.activeFont = _this.options.fonts[fontFamilyName];\r\n\r\n    if (!withoutSetStyles) {\r\n      _this.setStyles({\r\n        fontFamily: _this.activeFont\r\n      });\r\n    }\r\n\r\n    _this.$toolControl.find('.editable-canvas-fontfamily').css('font-family', _this.activeFont);\r\n    _this.$toolControl.find('.editable-canvas-fontfamily').text(fontFamilyName || '');\r\n    _this.$toolControl.find('.fonts-dropdown').addClass('hidden');\r\n  };\r\n\r\n  TextFontFamily.prototype.updateSingleControl = function (valueName, value) {\r\n    if (valueName === 'fontFamily') {\r\n        var font = this.getFontByCss(value);\r\n        this.changeFont(font, true);\r\n    }\r\n  };\r\n\r\n  TextFontFamily.prototype._collectDefaultOptions = function (pluginName) {\r\n    var textConfig = this.drawer.getPluginConfig('Text'),\r\n        result = {\r\n          fonts: $.extend(true, {}, textConfig.fonts || {}),\r\n          defaultFont: textConfig.defaultFont\r\n        };\r\n    return result;\r\n  };\r\n\r\n  TextFontFamily.prototype._onGetStyles = function (fEvent, tool, result) {\r\n    result = result || {};\r\n    result.defaultValues =  result.defaultValues || {};\r\n    result.defaultValues.fontFamily = this.options.fonts[this.options.defaultFont];\r\n  };\r\n\r\n  /**\r\n   * Get font family from css string\r\n   * @param {string} fontCssString\r\n   * @returns {*}\r\n   */\r\n  TextFontFamily.prototype.getFontByCss = function (fontCssString) {\r\n    var fName = null;\r\n    $.each(this.options.fonts, function (fontName, fontCss) {\r\n      if (fontCss == fontCssString) {\r\n        fName = fontName;\r\n      }\r\n    });\r\n    return fName;\r\n  };\r\n\r\n  TextFontFamily.prototype.setupControl = function (toolbar, $toolControl, changeCallback) {\r\n    var _this = this;\r\n    util.bindClick(\r\n        $toolControl.find('.toolbar-label'), 'fontFamily',\r\n        function () {\r\n          $toolControl.find('.fonts-dropdown').toggleClass('hidden');\r\n        });\r\n\r\n    //\r\n    $toolControl.find('li a').each(function (i, fontItem) {\r\n      var $fontItem = $(fontItem);\r\n      util.bindClick($fontItem, 'fontFamily',\r\n          function () {\r\n            var fname = $(this).data('fontName');\r\n            _this.changeFont(fname);\r\n          });\r\n    });\r\n  };\r\n\r\n  TextFontFamily.prototype.controlTemplate = function () {\r\n    var result,\r\n        $predefined = '',\r\n        selectHtml;\r\n\r\n    $.each(this.options.fonts, function (fontName, fontCss) {\r\n      var fontItem = '' +\r\n      '<option ' +\r\n        'style=\"font-family: ' + fontCss + ';\"' +\r\n        'value=\"' + fontName + '\"' +\r\n        'data-font-name=\"' + fontName + '\">' +\r\n          fontName +\r\n      '</option>';\r\n\r\n      $predefined += fontItem;\r\n    });\r\n\r\n    selectHtml = '' +\r\n        '<select ' +\r\n          'class=\"editable-canvas-text-fontfamily-input controls-value-item\" ' +\r\n          'name=\"drawer-size\"' +\r\n          'data-name=\"fontFamily\"' +\r\n          'value=\"' + this.options.defaultValues.fontFamily + '\">' +\r\n            $predefined +\r\n        '</select>';\r\n\r\n    var optionItemDefaultClasses = 'toolbar-item-wrapper editable-canvas-text-option editable-canvas-text-fontfamily hidden',\r\n        optionItemAdditionalClasses = this.buttonMode ? ' toolbar-button-item ': '',\r\n        optionItemClasses = optionItemDefaultClasses + optionItemAdditionalClasses;\r\n\r\n    result = '' +\r\n        '<li class=\"' + optionItemClasses + '\">' +\r\n        '<div class=\"toolbar-item-description\">' +\r\n        '<span class=\"toolbar-item-label\">' +\r\n        this.drawer.t('Font family:') + ' ' +\r\n        '</span>' +\r\n        '<span class=\"toolbar-item-valueholder\"></span>' +\r\n        '<span class=\"toolbar-item-icon fa ' + this.buttonIconClass + '\"></span>' +\r\n        '</div>' +\r\n        '<div class=\"toolbar-dropdown-block collapsed\">' +\r\n        selectHtml +\r\n        '</div>' +\r\n        '</li>';\r\n\r\n    return result;\r\n  };\r\n\r\n  pluginsNamespace.TextFontFamily = TextFontFamily;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util, DrawerJs.plugins.BaseTextOptionTool));\r\n(function ($, pluginsNamespace, util, BaseTextOptionTool) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Creates controls for changing font size of text;\r\n   *\r\n   * @param drawer\r\n   * Instance of drawer\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   * @augments DrawerJs.plugins.BaseTextOptionTool\r\n   */\r\n\r\n  var TextFontSize = function TextFontSizeConstructor(drawer, options) {\r\n    BaseTextOptionTool.call(this, drawer);\r\n\r\n    this._setupOptions(options);\r\n  };\r\n\r\n  TextFontSize.prototype = Object.create(BaseTextOptionTool.prototype);\r\n  TextFontSize.prototype.constructor = BaseTextOptionTool;\r\n\r\n  TextFontSize.prototype.name = 'TextFontSize';\r\n  TextFontSize.prototype.optionName = 'TextFontSize';\r\n  TextFontSize.prototype.buttonIconClass = 'fa-text-height';\r\n\r\n  TextFontSize.prototype.valueType = {\r\n    fontSize: 'number'\r\n  };\r\n\r\n  TextFontSize.prototype._defaultOptions = {\r\n    defaultValues: {\r\n      fontSize: 48\r\n    },\r\n    predefined: {\r\n      fontSize: [6, 12, 14, 16, 20, 24, 32, 40, 48, 72]\r\n    }\r\n  };\r\n\r\n  TextFontSize.prototype.controlTemplate = function () {\r\n    var result,\r\n        $predefined,\r\n        selectHtml;\r\n\r\n    $predefined = this.options.predefined.fontSize.map(function (size, i) {\r\n      return '<option value=\"' + size + '\">' + size + '</option>';\r\n    }).join('');\r\n\r\n    selectHtml = '' +\r\n        '<select ' +\r\n          'class=\"editable-canvas-text-fontsize-input controls-value-item\" ' +\r\n          'name=\"drawer-size\"' +\r\n          'data-name=\"fontSize\"' +\r\n          'value=\"' + this.options.defaultValues.fontSize + '\">' +\r\n            $predefined +\r\n        '</select>';\r\n\r\n      var optionItemDefaultClasses = 'toolbar-item-wrapper editable-canvas-text-option editable-canvas-text-fontsize hidden',\r\n          optionItemAdditionalClasses = this.buttonMode ? ' toolbar-button-item ': '',\r\n          optionItemClasses = optionItemDefaultClasses + optionItemAdditionalClasses;\r\n\r\n      result = '' +\r\n          '<li class=\"' + optionItemClasses + '\">' +\r\n              '<div class=\"toolbar-item-description\">' +\r\n                '<span class=\"toolbar-item-label\">' +\r\n                this.drawer.t('Font size:') + ' ' +\r\n                '</span>' +\r\n                '<span class=\"toolbar-item-valueholder\"></span>' +\r\n                '<span class=\"toolbar-item-icon fa ' + this.buttonIconClass + '\"></span>' +\r\n              '</div>' +\r\n              '<div class=\"toolbar-dropdown-block collapsed\">' +\r\n                selectHtml +\r\n              '</div>' +\r\n          '</li>';\r\n\r\n    return result;\r\n  };\r\n\r\n  pluginsNamespace.TextFontSize = TextFontSize;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util, DrawerJs.plugins.BaseTextOptionTool));\r\n(function ($, pluginsNamespace, util, BaseTextOptionTool) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Creates controls for changing font style of text;\r\n   *\r\n   * @param drawer\r\n   * Instance of drawer\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   * @augments DrawerJs.plugins.BaseTextOptionTool\r\n   */\r\n\r\n  var TextFontStyle = function TextFontStyleConstructor(drawer, options) {\r\n    BaseTextOptionTool.call(this, drawer);\r\n\r\n    // init options\r\n    this._setupOptions(options);\r\n  };\r\n\r\n  TextFontStyle.prototype = Object.create(BaseTextOptionTool.prototype);\r\n  TextFontStyle.prototype.constructor = BaseTextOptionTool;\r\n\r\n  TextFontStyle.prototype.name = 'TextFontStyle';\r\n  TextFontStyle.prototype.optionName = 'TextFontStyle';\r\n  TextFontStyle.prototype.onlyPredefined = true;\r\n  TextFontStyle.prototype.focusTextOnChange = true;\r\n  TextFontStyle.prototype.buttonIconClass = 'fa-italic';\r\n  TextFontStyle.prototype.valueType = {\r\n    fontStyle: 'string'\r\n  };\r\n\r\n  TextFontStyle.prototype._defaultOptions = {\r\n    defaultValues: {\r\n      fontStyle: ''\r\n    },\r\n    predefined: {\r\n      fontStyle: [\"normal\", \"italic\", \"oblique\"]\r\n    }\r\n  };\r\n  \r\n  TextFontStyle.prototype.controlTemplate = function () {\r\n    var result,\r\n        $predefined,\r\n        selectHtml;\r\n\r\n    $predefined = this.options.predefined.fontStyle.map(function (size, i) {\r\n      return '<option value=\"' + size + '\">' + size + '</option>';\r\n    }).join('');\r\n\r\n    selectHtml = '' +\r\n        '<select ' +\r\n        'class=\"editable-canvas-text-fontstyle-input controls-value-item\" ' +\r\n        'name=\"drawer-size\"' +\r\n        'data-name=\"fontStyle\"' +\r\n        'value=\"' + this.options.defaultValues.fontStyle + '\">' +\r\n        $predefined +\r\n        '</select>';\r\n\r\n    var optionItemDefaultClasses = 'toolbar-item-wrapper editable-canvas-text-option editable-canvas-text-fontstyle hidden',\r\n        optionItemAdditionalClasses = this.buttonMode ? ' toolbar-button-item ': '',\r\n        optionItemClasses = optionItemDefaultClasses + optionItemAdditionalClasses;\r\n\r\n    result = '' +\r\n        '<li class=\"' + optionItemClasses + '\">' +\r\n        '<div class=\"toolbar-item-description\">' +\r\n        '<span class=\"toolbar-item-label\">' +\r\n        this.drawer.t('Font style:') + ' ' +\r\n        '</span>' +\r\n        '<span class=\"toolbar-item-valueholder\"></span>' +\r\n        '<span class=\"toolbar-item-icon fa ' + this.buttonIconClass + '\"></span>' +\r\n        '</div>' +\r\n        '<div class=\"toolbar-dropdown-block collapsed\">' +\r\n        selectHtml +\r\n        '</div>' +\r\n        '</li>';\r\n\r\n    return result;\r\n  };\r\n\r\n  pluginsNamespace.TextFontStyle = TextFontStyle;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util, DrawerJs.plugins.BaseTextOptionTool));\r\n(function ($, pluginsNamespace, util, BaseTextOptionTool) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Creates controls for changing font size of text;\r\n   *\r\n   * @param drawer\r\n   * Instance of drawer\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   * @augments DrawerJs.plugins.BaseTextOptionTool\r\n   */\r\n\r\n  var TextFontWeight = function TextFontWeightConstructor(drawer, options) {\r\n    BaseTextOptionTool.call(this, drawer);\r\n\r\n    // init options\r\n    this._setupOptions(options);\r\n  };\r\n\r\n  TextFontWeight.prototype = Object.create(BaseTextOptionTool.prototype);\r\n  TextFontWeight.prototype.constructor = BaseTextOptionTool;\r\n\r\n\r\n  TextFontWeight.prototype.name = 'TextFontWeight';\r\n  TextFontWeight.prototype.optionName = 'TextFontWeight';\r\n  TextFontWeight.prototype.focusTextOnChange = true;\r\n  TextFontWeight.prototype.onlyPredefined = true;\r\n  TextFontWeight.prototype.buttonIconClass = 'fa-bold';\r\n\r\n  TextFontWeight.prototype._defaultOptions = {\r\n    defaultValues: {\r\n      fontWeight: 'normal'\r\n    },\r\n    predefined: {\r\n      fontWeight: ['normal', 'bold', 'light', 100, 200, 300, 400, 500, 600, 700, 800, 900]\r\n    }\r\n  };\r\n  \r\n  TextFontWeight.prototype.controlTemplate = function () {\r\n    var result,\r\n        $predefined,\r\n        selectHtml;\r\n\r\n    $predefined = this.options.predefined.fontWeight.map(function (size, i) {\r\n      return '<option value=\"' + size + '\">' + size + '</option>';\r\n    }).join('');\r\n\r\n    selectHtml = '' +\r\n        '<select ' +\r\n        'class=\"editable-canvas-text-fontweight-input controls-value-item\" ' +\r\n        'name=\"drawer-size\"' +\r\n        'data-name=\"fontWeight\"' +\r\n        'value=\"' + this.options.defaultValues.fontWeight + '\">' +\r\n        $predefined +\r\n        '</select>';\r\n\r\n    var optionItemDefaultClasses = 'toolbar-item-wrapper editable-canvas-text-option editable-canvas-text-fontweight hidden',\r\n        optionItemAdditionalClasses = this.buttonMode ? ' toolbar-button-item ': '',\r\n        optionItemClasses = optionItemDefaultClasses + optionItemAdditionalClasses;\r\n\r\n    result = '' +\r\n        '<li class=\"' + optionItemClasses + '\">' +\r\n        '<div class=\"toolbar-item-description\">' +\r\n        '<span class=\"toolbar-item-label\">' +\r\n        this.drawer.t('Font Weight:') + ' ' +\r\n        '</span>' +\r\n        '<span class=\"toolbar-item-valueholder\"></span>' +\r\n        '<span class=\"toolbar-item-icon fa ' + this.buttonIconClass + '\"></span>' +\r\n        '</div>' +\r\n        '<div class=\"toolbar-dropdown-block collapsed\">' +\r\n        selectHtml +\r\n        '</div>' +\r\n        '</li>';\r\n\r\n    return result;\r\n  };\r\n\r\n  pluginsNamespace.TextFontWeight = TextFontWeight;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util, DrawerJs.plugins.BaseTextOptionTool));\r\n(function ($, pluginsNamespace, util, BaseTextOptionTool) {\r\n  'use strict';\r\n\r\n  var classicDefaultValue = 1.16, // Standard value of line height\r\n      fabricDefaultLineHeight = fabric.Text.prototype.lineHeight || classicDefaultValue;\r\n\r\n  /**\r\n   * Creates controls for changing line height;\r\n   *\r\n   * @param drawer\r\n   * Instance of drawer\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   * @augments DrawerJs.plugins.BaseTextOptionTool\r\n   */\r\n\r\n  var TextLineHeight = function TextLineHeightConstructor(drawer, options) {\r\n    BaseTextOptionTool.call(this, drawer);\r\n\r\n    this._setupOptions(options);\r\n  };\r\n\r\n  TextLineHeight.prototype = Object.create(BaseTextOptionTool.prototype);\r\n  TextLineHeight.prototype.constructor = BaseTextOptionTool;\r\n\r\n  TextLineHeight.prototype.name = 'TextLineHeight';\r\n  TextLineHeight.prototype.optionName = 'TextLineHeight';\r\n  TextLineHeight.prototype.showOnEditMode = false;\r\n  TextLineHeight.prototype.hideOnEditMode = true;\r\n  TextLineHeight.prototype.stylesToObject = true;\r\n  TextLineHeight.prototype.preventHightlight = true;\r\n  TextLineHeight.prototype.buttonIconClass = 'fa-arrows-v';\r\n  TextLineHeight.prototype.onlyPredefined = true;\r\n\r\n  TextLineHeight.prototype.valueType = {\r\n    lineHeight: 'number'\r\n  };\r\n\r\n  TextLineHeight.prototype._defaultOptions = {\r\n    defaultValues: {\r\n      lineHeight: fabricDefaultLineHeight\r\n    },\r\n    predefined: {\r\n      lineHeight: [1, 1.16, 1.25, 1.5, 1.75, 2, 3]\r\n    }\r\n  };\r\n\r\n  TextLineHeight.prototype.collectDataFromObject = function (tool) {\r\n    var result = {\r\n      lineHeight: tool.lineHeight\r\n    };\r\n    this._lastData = this._lastData || {};\r\n    $.extend(true, this._lastData, result);\r\n    return result;\r\n  };\r\n\r\n  TextLineHeight.prototype.controlTemplate = function () {\r\n    var result,\r\n        $predefined,\r\n        selectHtml;\r\n\r\n    $predefined = this.options.predefined.lineHeight.map(function (size, i) {\r\n      var sizeInPercent = parseInt(Math.round(size * 100), 10);\r\n      return '<option value=\"' + size + '\">' + sizeInPercent + '%' + '</option>';\r\n    }).join('');\r\n\r\n    selectHtml = '' +\r\n        '<select ' +\r\n        'class=\"editable-canvas-text-lineheight-input controls-value-item\" ' +\r\n        'name=\"drawer-size\"' +\r\n        'data-name=\"lineHeight\"' +\r\n        'value=\"' + this.options.defaultValues.lineHeight + '\">' +\r\n        $predefined +\r\n        '</select>';\r\n\r\n    var optionItemDefaultClasses = 'toolbar-item-wrapper editable-canvas-text-option editable-canvas-text-lineheight hidden',\r\n        optionItemAdditionalClasses = '' +\r\n            (this.buttonMode ? ' toolbar-button-item ': '') +\r\n            (this.preventHightlight ? ' prevent-highlight ': ''),\r\n        optionItemClasses = optionItemDefaultClasses + optionItemAdditionalClasses;\r\n\r\n    result = '' +\r\n        '<li class=\"' + optionItemClasses + '\">' +\r\n        '<div class=\"toolbar-item-description\">' +\r\n        '<span class=\"toolbar-item-label\">' +\r\n        this.drawer.t('Line height:') + ' ' +\r\n        '</span>' +\r\n        '<span class=\"toolbar-item-valueholder\"></span>' +\r\n        '<span class=\"toolbar-item-icon fa ' + this.buttonIconClass + '\"></span>' +\r\n        '</div>' +\r\n        '<div class=\"toolbar-dropdown-block collapsed\">' +\r\n        selectHtml +\r\n        '</div>' +\r\n        '</li>';\r\n\r\n    return result;\r\n  };\r\n\r\n  pluginsNamespace.TextLineHeight = TextLineHeight;\r\n}(jQuery, DrawerJs.plugins, DrawerJs.util, DrawerJs.plugins.BaseTextOptionTool));\r\n(function ($, pluginsNamespace, BaseToolOptions, util) {\r\n  \"use strict\";\r\n\r\n  /**\r\n   * Provides toolbar controls for configuring border size and color.\r\n   * Uses colorpicker plugin, so depends on it.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawer\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @param {String} options.color\r\n   * Default border color.\r\n   *\r\n   * @param {String} options.borderTypes\r\n   * Object with all borders that will be available for selection\r\n   * <br><br>\r\n   *\r\n   * Example:\r\n   * <code>\r\n   * <pre>\r\n   * \"None\": {\r\n   *   width: 0,\r\n   *   description: 'None'\r\n   * },\r\n   * \"Solid thin\": {\r\n   *   width: 1,\r\n   *   preview: this.assetsFolder + 'border-solid-thin.png'\r\n   * },\r\n   * </pre>\r\n   * </code>\r\n   *\r\n   * @param {String} options.defaultBorder\r\n   * Border that will be selected when object is created.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var ShapeBorder = function BorderConfigPlugin(drawer, options) {\r\n    this.optionName = 'border';\r\n    this.name = 'ShapeBorder';\r\n    // call super constructor\r\n    BaseToolOptions.call(this, drawer);\r\n\r\n    /**\r\n     * Option name. On selecting tool/object, if this.toolName is in array of\r\n     * object allowed options - tool will show controls\r\n     * @type {String}\r\n     */\r\n\r\n    // DrawerJs is created, so basePath is set and  util.getDrawerFolderUrl() works properly.\r\n    // so we can set assets folder\r\n    this.assetsFolder = util.getDrawerFolderUrl() + 'assets/';\r\n\r\n    // complete default option paths by assets path.\r\n    this._setGlobalClickHandler();\r\n    this._completeDefaultOptionsPaths();\r\n\r\n    // setup colorpicker for border color\r\n    this.colorpicker = new pluginsNamespace.ColorpickerControl(this.drawer, this.options);\r\n\r\n    this.currentColor = this.options.color;\r\n    this.currentBorder = this.options.borderTypes[this.options.defaultBorder];\r\n    this.activeToolIsShape = false;\r\n\r\n    this.drawer.on(this.drawer.EVENT_CANVAS_START_RESIZE, this.hideStyleDropdown.bind(this));\r\n  };\r\n\r\n  ShapeBorder.prototype = Object.create(BaseToolOptions.prototype);\r\n  ShapeBorder.prototype.constructor = BaseToolOptions;\r\n\r\n\r\n//////////////////////////////////////////////////////////////////////////////////////////\r\n  ShapeBorder.prototype._defaultOptions = {\r\n      color: 'rgba(0, 0, 0, 0)',\r\n      borderTypes: {\r\n        \"None\": {\r\n          width: 0,\r\n          description: 'None',\r\n          color: 'transparent'\r\n        },\r\n        \"Solid thin\": {\r\n          width: 1,\r\n          preview: 'border-solid-thin.png'\r\n        },\r\n        \"Solid bold\": {\r\n          width: 5,\r\n          preview: 'border-solid-bold.png'\r\n        },\r\n        \"Dashed thin\": {\r\n          width: 1,\r\n          dashArray: [8, 8],\r\n          preview: 'border-dashed-thin.png'\r\n        },\r\n        \"Dashed bold\": {\r\n          width: 5,\r\n          dashArray: [8, 8],\r\n          preview: 'border-dashed-bold.png'\r\n        }\r\n      },\r\n      defaultBorder: \"None\"\r\n    };\r\n\r\n\r\n    /**\r\n     * Complete path to previews by prepending path to assets folder to them\r\n     */\r\n    ShapeBorder.prototype._completeDefaultOptionsPaths = function() {\r\n      for (var borderType in this.options.borderTypes) {\r\n        var borderOption = this.options.borderTypes[borderType];\r\n        if (borderOption.preview) {\r\n          borderOption.preview = this.assetsFolder + borderOption.preview;\r\n        }\r\n      }\r\n    };\r\n\r\n  /**\r\n   * Set listeners for clicks - to properly close controls on outside clicks\r\n   */\r\n  ShapeBorder.prototype._setGlobalClickHandler = function() {\r\n    var self = this;\r\n    $(window.document).off('click.DrawerShapeBorder').on('click.DrawerShapeBorder', function (e) {\r\n      var $target = $(e.target),\r\n          isIndicator = $target.hasClass('border-type-indicator');\r\n      if (self.isDropdownVisible && !isIndicator) {\r\n        self.hideStyleDropdown();\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n  /**\r\n   * When an object is selected on canvas we want to reflect that object's color and border type\r\n   * on the toolbar.\r\n   *\r\n   * This method checks selected object type and if it's a shape it gets that shape's color\r\n   * and border type and sets them as active on the color/border selection toolbar.\r\n   *\r\n   * @param fabricEvent\r\n   * @param fabricEvent\r\n   */\r\n  ShapeBorder.prototype.updateControlsFromObject = function (target) {\r\n    // get color\r\n    this.updateColorFromObject(target);\r\n    // get stroke\r\n    this.updateStrokeFromObject(target);\r\n    // now update controls state\r\n    this.updateControls();\r\n  };\r\n\r\n\r\n  /**\r\n   * Sets this.currentColor same as object stroke color,\r\n   * or TRASPARENT if object has no stroke\r\n   *\r\n   * @param  {fabric.Object} object\r\n   */\r\n  ShapeBorder.prototype.updateColorFromObject = function (object) {\r\n    var color = null;\r\n    color = object.get('stroke');\r\n    if (color) {\r\n      this.currentColor = color;\r\n    } else {\r\n      this.currentColor = pluginsNamespace.ColorpickerControl.TRANSPARENT;\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Sets this.currentBorder same as object stroke,\r\n   * if object border patten matches with one of predefined patterns.\r\n   *\r\n   * @param  {fabric.Object} object\r\n   */\r\n  ShapeBorder.prototype.updateStrokeFromObject = function(object) {\r\n      // get stroke params\r\n      var shapeDashArray = object.get('strokeDashArray');\r\n      var shapeDashWidth = object.get('strokeWidth');\r\n      // search for pattern\r\n      for (var b in this.options.borderTypes) {\r\n        if (this.options.borderTypes.hasOwnProperty(b)) {\r\n          var bType = this.options.borderTypes[b];\r\n\r\n          var dashArrayEquals = JSON.stringify(bType.dashArray) === JSON.stringify(shapeDashArray);\r\n\r\n          if (!bType.dashArray && !shapeDashArray) {\r\n            dashArrayEquals = true;\r\n          }\r\n\r\n          if (dashArrayEquals && bType.width == shapeDashWidth) {\r\n            this.currentBorder = bType;\r\n          }\r\n        }\r\n      }\r\n  };\r\n\r\n\r\n  /**\r\n   * Apply selected border style to added object.\r\n   *\r\n   * @param evt\r\n   * @param fabricEvent\r\n   */\r\n  ShapeBorder.prototype._onObjectAdded = function (evt, fabricEvent) {\r\n    // do not react on object:added, if canvas is not loaded fully\r\n    if (this.drawer.mode != this.drawer.MODE_ACTIVE)\r\n      return;\r\n\r\n    var currentShape = fabricEvent.target;\r\n\r\n    this.applyBorderStyle(currentShape);\r\n    this.drawer.fCanvas.renderAll();\r\n  };\r\n\r\n\r\n  /**\r\n   * Update controls a\r\n   * If activated tool is Line/Arrow:\r\n   * 1) save old values of borderColor and border type\r\n   * 2) make current border color same as drawer active color\r\n   * 3) make current border 'Solid thin'\r\n   * @param {BaseTool} tool\r\n   */\r\n  ShapeBorder.prototype.onActivateTool = function ( tool) {\r\n\r\n    if (tool instanceof pluginsNamespace.Line ||\r\n      tool instanceof pluginsNamespace.ArrowOneSide ||\r\n      tool instanceof pluginsNamespace.ArrowTwoSide) {\r\n        this.colorBeforeLineShape = this.currentColor;\r\n        this.borderBeforeLineShape = this.currentBorder;\r\n\r\n        this.currentColor = this.drawer.activeColor;\r\n        this.currentBorder = this.options.borderTypes[\"Solid thin\"];\r\n        this.updateControls();\r\n    } else if (this.colorBeforeLineShape !== undefined) {\r\n        this.currentColor = this.colorBeforeLineShape;\r\n        this.currentBorder = this.borderBeforeLineShape;\r\n\r\n        delete this.colorBeforeLineShape;\r\n        delete this.borderBeforeLineShape;\r\n        this.updateControls();\r\n    }\r\n  };\r\n\r\n\r\n\r\n  /**\r\n   * Creates controls and adds them to toolbar.\r\n   * @param {DrawerToolbar} toolbar to add control to\r\n   */\r\n  ShapeBorder.prototype.createControls = function (toolbar) {\r\n    var _this = this;\r\n\r\n    // ------ color button -----------\r\n    this.colorButton = this.colorpicker.createControl(toolbar, this.onColorSelected.bind(this));\r\n    this.colorpicker.setColor(this.options.color);\r\n\r\n    // rewrite this, ugh...\r\n    this.colorButton.css('display', 'inline-block');\r\n    this.colorButton.find('.toolbar-label').text(this.drawer.t('Border:'));\r\n    // ------ /color button -----------\r\n\r\n    // ------ border type button -----------\r\n    _this.$borderTypeButton = $(\r\n      '<li class=\"editable-canvas-border-type\" ' +\r\n          'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n          '>' +\r\n      '<span class=\"toolbar-label editable-canvas-border-type-label\">' +\r\n      this.drawer.t('Border type:') + ' ' +\r\n      '</span>' +\r\n      '<span class=\"border-type-indicator\" ' +\r\n            'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n            '>' +\r\n      '</span>' +\r\n      '<span class=\"border-type-dropdown toolbar-dropdown-block hidden\" ' +\r\n            'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n            // 'data-editable-canvas-cssrules=\"top\"' +\r\n      '>' +\r\n      '</span>' +\r\n      '</li>');\r\n\r\n\r\n    _this.isDropdownVisible = false;\r\n\r\n    _this.$borderTypeButton.$dropdown = _this.$borderTypeButton.find('.border-type-dropdown');\r\n    _this.$borderTypeButton.$indicator = _this.$borderTypeButton.find('.border-type-indicator');\r\n\r\n    util.bindClick(_this.$borderTypeButton, 'border-type-dropdown', _this.toggleStyleDropdown.bind(_this));\r\n\r\n    var $borderTypes = $('<ul></ul>');\r\n    _this.$borderTypeButton.$dropdown.append($borderTypes);\r\n\r\n    var borderTypeHandler = function (event) {\r\n      var $target = $(event.target),\r\n          borderTypeName = $target.attr('data-border-type');\r\n      if (borderTypeName) {\r\n        _this.currentBorder = _this.options.borderTypes[borderTypeName];\r\n        _this.onColorSelected();\r\n\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n      }\r\n    };\r\n\r\n    for (var borderTypeName in this.options.borderTypes) {\r\n      if (this.options.borderTypes.hasOwnProperty(borderTypeName)) {\r\n        var borderDefinition = this.options.borderTypes[borderTypeName];\r\n\r\n        var li = $(\r\n          '<li data-border-type=\"' + borderTypeName + '\"' +\r\n          'data-editable-canvas-sizeable=\"toolbar-button\" ' +\r\n          // 'data-editable-canvas-cssrules=\"height,line-height\">' +\r\n          // 'data-editable-canvas-cssrules=\"line-height\">' +\r\n          '</li>');\r\n        if (borderDefinition.preview) {\r\n          li.css('background-image', 'url(' + borderDefinition.preview + ')');\r\n        }\r\n        if (borderDefinition.description) {\r\n          li.text(borderDefinition.description);\r\n        }\r\n        util.bindClick(li, 'border-type', borderTypeHandler);\r\n\r\n        $borderTypes.append(li);\r\n      }\r\n    }\r\n\r\n    toolbar.addControl(_this.$borderTypeButton, this.options.buttonOrder);\r\n    // ------ /border type button -----------\r\n\r\n    _this.onColorSelected();\r\n    _this.hideControls();\r\n  };\r\n\r\n\r\n  /**\r\n   * React on user color selection\r\n   * @param  {String} selectedColor\r\n   */\r\n  ShapeBorder.prototype.onColorSelected = function (selectedColor) {\r\n    if (selectedColor) {\r\n      this.currentColor = selectedColor;\r\n    }\r\n\r\n    this.updateControls();\r\n\r\n    if (this.drawer.fCanvas) {\r\n      var currentShape = this.drawer.fCanvas.getActiveObject();\r\n      if (currentShape) {\r\n        this.applyBorderStyle(currentShape);\r\n      }\r\n      this.drawer.fCanvas.renderAll();\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Apply current border style to object\r\n   * @todo @refactor\r\n   * @param  {fabric.Object} fabricObject\r\n   */\r\n  ShapeBorder.prototype.applyBorderStyle = function (fabricObject) {\r\n    if (util.isShape(fabricObject) || fabricObject instanceof fabric.Line) {\r\n      if (this.currentBorder.color) {\r\n        fabricObject.set('stroke', this.currentBorder.color);\r\n      } else {\r\n        fabricObject.set('stroke', this.currentColor);\r\n      }\r\n\r\n      fabricObject.set('strokeWidth', this.currentBorder.width);\r\n      if (this.currentBorder.dashArray) {\r\n        fabricObject.set('strokeDashArray', this.currentBorder.dashArray);\r\n      } else {\r\n        fabricObject.set('strokeDashArray', null);\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Updates UI to reflect selected border and color.\r\n   * Hides colorpicker if current border is 'None'\r\n   */\r\n  ShapeBorder.prototype.updateControls = function () {\r\n    // update color button\r\n    this.colorpicker.setColor(this.currentColor);\r\n\r\n    // hide dropdowns when something is selected\r\n    this.hideStyleDropdown();\r\n\r\n    // also hide color button when border None is selected\r\n    if (this.currentBorder.description == 'None') {\r\n      this.colorpicker.hideControls();\r\n    } else {\r\n      this.colorpicker.showControls();\r\n    }\r\n\r\n    // set indicator background\r\n    var $indicator = this.$borderTypeButton.find('.border-type-indicator');\r\n    var background = this.currentBorder.preview ? 'url(' + this.currentBorder.preview + ')'\r\n                                                : 'none';\r\n    $indicator.css('background-image',background);\r\n\r\n    // set indicator text\r\n    if (this.currentBorder.description) {\r\n      $indicator.text(this.drawer.t(\r\n        this.currentBorder.description\r\n      ));\r\n    } else {\r\n      $indicator.text('');\r\n    }\r\n  };\r\n\r\n\r\n  ShapeBorder.prototype.showControls = function () {\r\n    this.colorpicker.showControls();\r\n    this.$borderTypeButton.show();\r\n  };\r\n\r\n  ShapeBorder.prototype.hideControls = function () {\r\n    this.colorpicker.hideControls();\r\n    this.$borderTypeButton.hide();\r\n  };\r\n\r\n\r\n  ShapeBorder.prototype.toggleStyleDropdown = function() {\r\n    var needToShow = !this.isDropdownVisible;\r\n    if (needToShow) {\r\n      this.showStyleDropdown();\r\n    } else {\r\n      this.hideStyleDropdown();\r\n    }\r\n  };\r\n\r\n  ShapeBorder.prototype.hideStyleDropdown = function() {\r\n    this.$borderTypeButton.$dropdown.addClass('hidden');\r\n    this.isDropdownVisible = false;\r\n    if (this.$clonedDropdown) {\r\n      this.$clonedDropdown.remove();\r\n    }\r\n  };\r\n\r\n  ShapeBorder.prototype.showStyleDropdown = function() {\r\n    this.$borderTypeButton.$dropdown.removeClass('hidden');\r\n    this.isDropdownVisible = true;\r\n\r\n    var toolbar = this.drawer && this.drawer.toolbars && this.drawer.toolbars.toolOptionsToolbar,\r\n        toolbarOptions = toolbar && toolbar.options,\r\n        notInsidePopup = toolbarOptions && toolbarOptions.position !== 'popup',\r\n        outside = toolbarOptions && toolbarOptions.positionType === 'outside',\r\n        insideScrollable = toolbarOptions && toolbarOptions.compactType === 'scrollable',\r\n        toolbarHaveScrollable = notInsidePopup && outside && insideScrollable;\r\n    if (toolbarHaveScrollable) {\r\n      var $dropdown = this.$borderTypeButton.$dropdown,\r\n          clone;\r\n\r\n      $dropdown.removeClass('hidden');\r\n      clone = $dropdown.clone(true);\r\n\r\n      this.$borderTypeButton.$dropdown.closest('.toolbar-placeholder').append(clone);\r\n      clone.addClass('border-type-dropdown-cloned');\r\n      this.$clonedDropdown = clone;\r\n\r\n      var drawerSizes = util.getScrollOffset(this.drawer.$canvasEditContainer),\r\n          parentSizes = util.getScrollOffset(this.$borderTypeButton),\r\n          canvasRect = this.drawer.$canvasEditContainer.get(0).getBoundingClientRect();\r\n\r\n      var buttonSizes = this.$borderTypeButton.get(0).getBoundingClientRect(),\r\n          buttonCenter = buttonSizes.left + buttonSizes.width/2,\r\n          clonedDropdownOffset = (buttonCenter - canvasRect.left - (parentSizes.left - drawerSizes.left)) - this.$clonedDropdown.width() / 2;\r\n\r\n      var offsetRightFromCss = 12,\r\n          toRightOffset = buttonSizes.left + buttonSizes.width - canvasRect.left - (parentSizes.left - drawerSizes.left) - this.$clonedDropdown.width() - offsetRightFromCss;\r\n      this.$clonedDropdown.css({\r\n        'left': toRightOffset\r\n      });\r\n      $dropdown.addClass('hidden');\r\n    }\r\n  };\r\n\r\n  pluginsNamespace.ShapeBorder = ShapeBorder;\r\n\r\n}(jQuery, DrawerJs.plugins, DrawerJs.plugins.BaseToolOptions, DrawerJs.util));\r\n\r\n(function(jQuery, BaseShape, pluginsNamespace) {\r\n  /**\r\n   * Provides an arrow button which can be used\r\n   * to draw lines with arrow at one side.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * Tool is using drawerInstance.options['lineAngleTooltip']\r\n   * Default settings are:\r\n   * { enabled: false,\r\n   *    fontSize: 11,\r\n   *    fontFamily:  'Arial, sans serif',\r\n   *    color: 'black'};\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   * @extends {BaseShape}\r\n   */\r\n  var ArrowOneSide = function ArrowOneSideConstructor(drawerInstance) {\r\n    // call super\r\n    BaseShape.call(this, drawerInstance);\r\n\r\n    this.name = 'ArrowOneSide';\r\n\r\n    /**\r\n     * List of tool options to show when tool is activated.\r\n     * Deviating from BaseShape tool, Arrow has no 'color', only 'border'.\r\n     * @type {String[]}\r\n     */\r\n    this.toolOptionsList = ['border', 'opacity', 'lineWidth', 'strokeWidth'];\r\n\r\n    this.btnClass = 'btn-arrow-one-side';\r\n    this.faClass = 'fa-long-arrow-right';\r\n    this.tooltip = drawerInstance.t('Draw an arrow');\r\n    this.group = {\r\n      name: 'lines',\r\n      tooltip: drawerInstance.t('Lines and arrows')\r\n    };\r\n\r\n    this._setupOptions({});\r\n    $.extend(true, this.options.lineAngleTooltip, drawerInstance.options.lineAngleTooltip || {});\r\n\r\n    // add fallback for fontFamily\r\n    this.options.lineAngleTooltip.fontFamily += ', ' + this._defaultOptions.lineAngleTooltip.fontFamily;\r\n  };\r\n\r\n  ArrowOneSide.prototype = Object.create(BaseShape.prototype);\r\n  ArrowOneSide.prototype.constructor = ArrowOneSide;\r\n\r\n  ArrowOneSide.prototype.checkOnlyWidth = true;\r\n\r\n  ArrowOneSide.prototype._defaultOptions = {\r\n    lineAngleTooltip: {\r\n      enabled: false,\r\n      fontSize: 11,\r\n      fontFamily:  'Arial, sans serif',\r\n      color: 'black'\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Create new shape with minimal size.\r\n   * Is called from BaseShape nmouseDown handler.\r\n   *\r\n   * @param  {Number} left [description]\r\n   * @param  {Number} top  [description]\r\n   * @return {fabric.ErasableLine}\r\n   */\r\n  ArrowOneSide.prototype.createShape = function (left, top) {\r\n    var arrow = new fabric.ErasableArrow([left, top, left + 1, top + 1], {\r\n      oneSided: true\r\n    });\r\n    arrow.set('strokeWidth', this.drawerInstance.lineStrokeWidth || 1);\r\n    arrow.set('stroke', this.drawerInstance.activeColor);\r\n    arrow.set('opacity', this.drawerInstance.activeOpacity);\r\n    arrow.set('oneSided', true);\r\n\r\n    this.createAngleTooltip(arrow);\r\n\r\n    return arrow;\r\n  };\r\n\r\n\r\n  /**\r\n   * Update shape with new left, top,\r\n   * Is called from BaseShape mouseMove handler\r\n   *\r\n   * @param  {fabric.Line} line    [description]\r\n   * @param  {Number} newLeft [description]\r\n   * @param  {Number} newTop  [description]\r\n   */\r\n  ArrowOneSide.prototype.updateShape = function (arrow, newLeft, newTop) {\r\n    arrow.set('y2', newTop);\r\n    arrow.set('x2', newLeft);\r\n\r\n    this.updateAngleTooltip(arrow);\r\n  };\r\n\r\n\r\n  /**\r\n   * Is called from BaseShape mouseUp handler.\r\n   */\r\n  ArrowOneSide.prototype.finishShape = function (left, top) {\r\n    this.removeAngleTooltip();\r\n\r\n  };\r\n\r\n\r\n  /**\r\n   * Create text object for line angle tooltip\r\n   *\r\n   * @param  {fabric.Line} line\r\n   */\r\n  ArrowOneSide.prototype.createAngleTooltip = function (line) {\r\n    if (this.options.lineAngleTooltip.enabled) {\r\n      this.angleTooltip = new fabric.IText('Text');\r\n      this.angleTooltip.set('fontFamily', this.options.lineAngleTooltip.fontFamily);\r\n      this.angleTooltip.set('fontSize', this.options.lineAngleTooltip.fontSize);\r\n      this.angleTooltip.set('left', line.x1 - 10);\r\n      this.angleTooltip.set('top', line.y1 - 10);\r\n      this.angleTooltip.set('stroke', this.options.lineAngleTooltip.color);\r\n      this.angleTooltip.set('fill', this.options.lineAngleTooltip.color);\r\n      this.angleTooltip.set('text', '');\r\n\r\n      this.drawerInstance.fCanvas.add(this.angleTooltip);\r\n      this.updateAngleTooltip(line);\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Update angle tooltip with line current angle\r\n   *\r\n   * @param  {fabric.Line} line\r\n   */\r\n  ArrowOneSide.prototype.updateAngleTooltip = function (line) {\r\n    if (!this.options.lineAngleTooltip.enabled)\r\n      return;\r\n\r\n    // calc line angle\r\n    var angleRad = Math.atan((line.y2 - line.y1) / (line.x2 - line.x1));\r\n    var angle = Math.abs(fabric.util.radiansToDegrees(angleRad));\r\n    this.angleTooltip.setText(angle.toFixed().toString());\r\n\r\n    // determine tooltip position\r\n    var tooltipOffsetX = this.options.lineAngleTooltip.fontSize;\r\n    var tooltipOffsetY = -this.options.lineAngleTooltip.fontSize;\r\n    // if line is pointing to the left\r\n    if (line.x2 < line.x1) {\r\n      tooltipOffsetX = -(this.options.lineAngleTooltip.fontSize + 10);\r\n    }\r\n    // if line is pointing downside\r\n    if (line.y2 > line.y1) {\r\n      tooltipOffsetY = 2;\r\n    }\r\n\r\n    this.angleTooltip.set('left', line.x1 + tooltipOffsetX);\r\n    this.angleTooltip.set('top', line.y1 + tooltipOffsetY);\r\n    // this is needed to overpower strange issue, when tooltip is always same color as line\r\n    this.angleTooltip.set('stroke', this.options.lineAngleTooltip.color);\r\n    this.angleTooltip.set('fill', this.options.lineAngleTooltip.color);\r\n  };\r\n\r\n\r\n  /**\r\n   * Removes angle tooltip.\r\n   */\r\n  ArrowOneSide.prototype.removeAngleTooltip = function () {\r\n    if (this.options.lineAngleTooltip.enabled) {\r\n      if (this.angleTooltip) {\r\n        this.angleTooltip.remove();\r\n        delete this.tooltip;\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  pluginsNamespace.ArrowOneSide = ArrowOneSide;\r\n\r\n}(jQuery, DrawerJs.plugins.BaseShape, DrawerJs.plugins));\r\n(function(jQuery, BaseShape, pluginsNamespace) {\r\n  /**\r\n   * Provides an arrow button which can be used\r\n   * to draw lines with arrow at both sides.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * Tool is using drawerInstance.options['lineAngleTooltip']\r\n   * Default settings are:\r\n   * { enabled: false,\r\n   *    fontSize: 11,\r\n   *    fontFamily:  'Arial, sans serif',\r\n   *    color: 'black'};\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var ArrowTwoSide = function ArrowTwoSizeConstructor(drawerInstance) {\r\n    // call super\r\n    BaseShape.call(this, drawerInstance);\r\n\r\n    this.name = 'ArrowTwoSide';\r\n    /**\r\n     * List of tool options to show when tool is activated.\r\n     * Deviating from BaseShape tool, Arrow has no 'color', only 'border'.\r\n     * @type {String[]}\r\n     */\r\n    this.toolOptionsList = ['border', 'opacity', 'lineWidth', 'strokeWidth'];\r\n\r\n    this.btnClass = 'btn-arrow-two-side';\r\n    this.faClass = 'fa-arrows-h';\r\n    this.tooltip = drawerInstance.t('Draw a two-sided arrow');\r\n    this.group = {\r\n      name: 'lines',\r\n      tooltip: drawerInstance.t('Lines and arrows')\r\n    };\r\n\r\n    this._setupOptions({});\r\n    $.extend(true, this.options.lineAngleTooltip, drawerInstance.options.lineAngleTooltip || {});\r\n\r\n    // add fallback for fontFamily\r\n    this.options.lineAngleTooltip.fontFamily += ', ' + this._defaultOptions.lineAngleTooltip.fontFamily;\r\n  };\r\n\r\n  ArrowTwoSide.prototype = Object.create(BaseShape.prototype);\r\n  ArrowTwoSide.prototype.constructor = ArrowTwoSide;\r\n\r\n  ArrowTwoSide.prototype.checkOnlyWidth = true;\r\n\r\n  ArrowTwoSide.prototype._defaultOptions = {\r\n    lineAngleTooltip: {\r\n      enabled: false,\r\n      fontSize: 11,\r\n      fontFamily:  'Arial, sans serif',\r\n      color: 'black'\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Create new shape with minimal size.\r\n   * Is called from BaseShape nmouseDown handler.\r\n   *\r\n   * @param  {Number} left [description]\r\n   * @param  {Number} top  [description]\r\n   * @return {fabric.ErasableLine}\r\n   */\r\n  ArrowTwoSide.prototype.createShape = function (left, top) {\r\n    var arrow = new fabric.ErasableArrow([left, top, left + 1, top + 1], {\r\n      oneSided: false\r\n    });\r\n    arrow.set('strokeWidth', this.drawerInstance.lineStrokeWidth || 1);\r\n    arrow.set('stroke', this.drawerInstance.activeColor);\r\n    arrow.set('opacity', this.drawerInstance.activeOpacity);\r\n    arrow.set('oneSided', false);\r\n\r\n    this.createAngleTooltip(arrow);\r\n\r\n    return arrow;\r\n  };\r\n\r\n\r\n  /**\r\n   * Update shape with new left, top,\r\n   * Is called from BaseShape mouseMove handler\r\n   *\r\n   * @param  {fabric.Line} line    [description]\r\n   * @param  {Number} newLeft [description]\r\n   * @param  {Number} newTop  [description]\r\n   */\r\n  ArrowTwoSide.prototype.updateShape = function (arrow, newLeft, newTop) {\r\n    arrow.set('y2', newTop);\r\n    arrow.set('x2', newLeft);\r\n\r\n    this.updateAngleTooltip(arrow);\r\n  };\r\n\r\n\r\n  /**\r\n   * Is called from BaseShape mouseUp handler.\r\n   */\r\n  ArrowTwoSide.prototype.finishShape = function (left, top) {\r\n    this.removeAngleTooltip();\r\n  };\r\n\r\n\r\n\r\n  /**\r\n   * Create text object for line angle tooltip\r\n   *\r\n   * @param  {fabric.Line} line\r\n   */\r\n  ArrowTwoSide.prototype.createAngleTooltip = function (line) {\r\n    if (this.options.lineAngleTooltip.enabled) {\r\n      this.angleTooltip = new fabric.IText('Text');\r\n      this.angleTooltip.set('fontFamily', this.options.lineAngleTooltip.fontFamily);\r\n      this.angleTooltip.set('fontSize', this.options.lineAngleTooltip.fontSize);\r\n      this.angleTooltip.set('left', line.x1 - this.options.lineAngleTooltip.fontSize);\r\n      this.angleTooltip.set('top', line.y1 - this.options.lineAngleTooltip.fontSize);\r\n      this.angleTooltip.set('stroke', this.options.lineAngleTooltip.color);\r\n      this.angleTooltip.set('fill', this.options.lineAngleTooltip.color);\r\n      this.angleTooltip.set('text', '');\r\n\r\n      this.drawerInstance.fCanvas.add(this.angleTooltip);\r\n      this.updateAngleTooltip(line);\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Update angle tooltip with line current angle\r\n   *\r\n   * @param  {fabric.Line} line\r\n   */\r\n  ArrowTwoSide.prototype.updateAngleTooltip = function (line) {\r\n    if (!this.options.lineAngleTooltip.enabled)\r\n      return;\r\n\r\n    // calc line angle\r\n    var angleRad = Math.atan((line.y2 - line.y1) / (line.x2 - line.x1));\r\n    var angle = Math.abs(fabric.util.radiansToDegrees(angleRad));\r\n    this.angleTooltip.setText(angle.toFixed().toString());\r\n\r\n    // determine tooltip position\r\n    var tooltipOffsetX = this.options.lineAngleTooltip.fontSize;\r\n    var tooltipOffsetY = -this.options.lineAngleTooltip.fontSize;\r\n    // if line is pointing to the left\r\n    if (line.x2 < line.x1) {\r\n      tooltipOffsetX = -(this.options.lineAngleTooltip.fontSize + 10);\r\n    }\r\n    // if line is pointing downside\r\n    if (line.y2 > line.y1) {\r\n      tooltipOffsetY = 2;\r\n    }\r\n\r\n    this.angleTooltip.set('left', line.x1 + tooltipOffsetX);\r\n    this.angleTooltip.set('top', line.y1 + tooltipOffsetY);\r\n    // this is needed to overpower strange issue, when tooltip is always same color as line\r\n    this.angleTooltip.set('stroke', this.options.lineAngleTooltip.color);\r\n    this.angleTooltip.set('fill', this.options.lineAngleTooltip.color);\r\n  };\r\n\r\n\r\n\r\n  /**\r\n   * Removes angle tooltip.\r\n   */\r\n  ArrowTwoSide.prototype.removeAngleTooltip = function () {\r\n    if (this.options.lineAngleTooltip.enabled) {\r\n      if (this.angleTooltip) {\r\n        this.angleTooltip.remove();\r\n        delete this.tooltip;\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  pluginsNamespace.ArrowTwoSide = ArrowTwoSide;\r\n\r\n}(jQuery, DrawerJs.plugins.BaseShape, DrawerJs.plugins));\r\n(function($, BaseShape, pluginsNamespace) {\r\n  /**\r\n   * Provides a circle button which can be used to draw circles.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @param {String} [options.centeringMode='normal']\r\n   * Defines centering method when drawing a shape.\r\n   * <br><br>\r\n   * Valid values are:\r\n   * <br><br>\r\n   * <code>normal</code>: circle's top left corner will be placed to the\r\n   * position of first mouse click and will be resized from that point.\r\n   * <br><br>\r\n   * <code>from_center</code>: circle's center point will be placed to the\r\n   * position of first mouse click and will be resized from center.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var Circle = function CircleConstructor(drawerInstance, options) {\r\n    var _this = this;\r\n\r\n    BaseShape.call(_this, drawerInstance);\r\n\r\n    this.name = 'Circle';\r\n    this.btnClass = 'btn-circle';\r\n    this.faClass = 'fa-circle';\r\n    this.tooltip = drawerInstance.t('Draw a circle');\r\n\r\n    this.options = options || {};\r\n    this.centeringMode =\r\n      this.options.centeringMode || BaseShape.CENTERING_MODE.NORMAL;\r\n  };\r\n\r\n  Circle.prototype = Object.create(BaseShape.prototype);\r\n  Circle.prototype.constructor = Circle;\r\n\r\n  Circle.prototype.minShapeSize = 5;\r\n\r\n  Circle.prototype.createShape = function (left, top) {\r\n    this.startLeft = left;\r\n    this.startTop = top;\r\n\r\n    var circle = new fabric.PCircle({\r\n      left: left,\r\n      top: top,\r\n      radius: 1,\r\n      fill: this.drawerInstance.activeColor,\r\n      opacity:this.drawerInstance.activeOpacity\r\n    });\r\n\r\n    return circle;\r\n  };\r\n\r\n  Circle.prototype.updateShape = function (circle, newLeft, newTop) {\r\n    var width = newLeft - this.startLeft;\r\n    var height = newTop - this.startTop;\r\n\r\n    var widthAbs = Math.abs(width);\r\n    var heightAbs = Math.abs(height);\r\n\r\n    var radius = widthAbs < heightAbs ? widthAbs : heightAbs;\r\n\r\n    radius = Math.abs(radius);\r\n    radius = radius / 2;\r\n\r\n    if (this.centeringMode == BaseShape.CENTERING_MODE.FROM_CENTER) {\r\n      radius *= 2;\r\n      circle.set('left', this.startLeft - radius);\r\n      circle.set('top', this.startTop - radius);\r\n    }\r\n\r\n    if (this.centeringMode == BaseShape.CENTERING_MODE.NORMAL) {\r\n      if (width < 0) {\r\n        circle.set('left', this.startLeft - (radius * 2));\r\n      } else {\r\n        circle.set('left', this.startLeft);\r\n      }\r\n\r\n      if (height < 0) {\r\n        circle.set('top', this.startTop - (radius * 2));\r\n      } else {\r\n        circle.set('top', this.startTop);\r\n      }\r\n    }\r\n\r\n    circle.set('radius', radius);\r\n  };\r\n\r\n  pluginsNamespace.Circle = Circle;\r\n}(jQuery, DrawerJs.plugins.BaseShape, DrawerJs.plugins));\r\n(function($, BaseTool, pluginsNamespace, util) {\r\n    /**\r\n     * Tool to add and upload image to canvas.\r\n     *\r\n     * @param {DrawerJs.Drawer} drawerInstance\r\n     * Instance of {@link DrawerJs.Drawer}.\r\n     *\r\n     * @param {Object} options\r\n     * Configuration object.\r\n     *\r\n     * @param {String} [options.maxImageSizeKb='5120']\r\n     * Max size of image to upload in KB. Default is 5 MB;\r\n     * <br><br>\r\n     * If null, or 0 is set - then size is unlimited.\r\n     * Negative values are considered as 0;\r\n     *\r\n     * @param {Boolean} [options.scaleDownLargeImage=true]\r\n     * If set to true - images. larger then canvas, will be scaled down\r\n     *\r\n     * @param {String[]} [options.acceptedMIMETypes=['image/jpeg', 'image/png', 'image/gif']]\r\n     * If set to true - images. larger then canvas, will be scaled down\r\n     *\r\n     * @constructor\r\n     * @memberof DrawerJs.plugins\r\n     */\r\n    var ImageTool = function ImageConstructor(drawerInstance, options) {\r\n        var _this = this;\r\n\r\n        BaseTool.call(_this, drawerInstance);\r\n\r\n        this.drawer = drawerInstance;\r\n        this.name = 'Image';\r\n        this.btnClass = 'btn-image';\r\n        this.faClass = 'fa-image';\r\n        this.tooltip = drawerInstance.t('Insert an image');\r\n\r\n        this._setupOptions(options);\r\n    };\r\n\r\n    // Derive ImageTool from BaseTool\r\n    ImageTool.prototype = Object.create(BaseTool.prototype);\r\n    ImageTool.prototype.constructor = ImageTool;\r\n\r\n    /**\r\n     * Default options\r\n     * @type {{defaultMaxSize: string, scaleDownLargeImage: boolean, acceptedMIMETypes: string[]}}\r\n     */\r\n    ImageTool.prototype._defaultOptions = { maxImageSizeKb : 5120, // 5 MB\r\n                                           scaleDownLargeImage : true,\r\n                                           centerImage : true,\r\n                                           cropIsActive : true,\r\n                                           acceptedMIMETypes: ['image/jpeg', 'image/png', 'image/gif'] };\r\n\r\n\r\n    /**\r\n     * Tool activation method.\r\n     * Is called in lifecycle of event Drawer.EVENT_DO_ACTIVATE_TOOL.\r\n     * Calls  BaseTool._activateTool .\r\n     *\r\n     * @private\r\n     */\r\n    ImageTool.prototype._activateTool = function() {\r\n        var _this = this;\r\n        this.drawerInstance.log('TOOL', 'Image._activateTool()');\r\n        BaseTool.prototype._activateTool.call(this);\r\n\r\n        this._showDialog();\r\n\r\n        // deactivate tool. Slight delay is needed, because without it\r\n        // tool is deactivated before listeners on EVENT_DO_ACTIVATE_TOOL in drawer are executed\r\n        // which lead to incorrect way of setting drawer.lastUsedPluginName\r\n        util.setTimeout(function(){\r\n            _this.drawerInstance.trigger(_this.drawerInstance.EVENT_DO_DEACTIVATE_TOOL, [_this]);\r\n        }, 300);\r\n\r\n    };\r\n\r\n\r\n    /**\r\n     * Shows file open dialog\r\n     * @private\r\n     */\r\n    ImageTool.prototype._showDialog = function() {\r\n        var acceptedMIMEStr = this.options.acceptedMIMETypes.join(',');\r\n        $el = $('<input type=\"file\" accept=\"' + acceptedMIMEStr + '\">');\r\n        $el.on('change', this._processFileInput.bind(this));\r\n\r\n        $el.click();\r\n\r\n    };\r\n\r\n    /**\r\n     * Callback to process user selected files.\r\n     *\r\n     * @param {Event} e\r\n     * @private\r\n     */\r\n    ImageTool.prototype._processFileInput = function(e)  {\r\n        var _this = this;\r\n        var files = e.target.files;\r\n\r\n        // check there was file choosen\r\n        if (files.length < 1) {\r\n            _this.drawerInstance.showError(this.drawerInstance.t('No file was selected!'));\r\n            return;\r\n        }\r\n        var file = files[0];\r\n\r\n        // check file\r\n        if (!this._checkFile(file)) {\r\n            return;\r\n        }\r\n\r\n        var fileReader = new FileReader();\r\n        // on file load - create HTML5 Image from it\r\n        fileReader.onload = function (onloadEvent) {\r\n            _this.drawerInstance.log('IMAGE LOADED:', file.name);\r\n          var triggerImageCrop = _this.options.cropIsActive && _this.drawer._pluginsInstances.ImageCrop;\r\n          if (triggerImageCrop) {\r\n            _this._triggerImageCrop(fileReader.result);\r\n          } else {\r\n            _this.loadImage(fileReader.result);\r\n          }\r\n        };\r\n\r\n        fileReader.readAsDataURL(file);\r\n    };\r\n\r\n\r\n    /**\r\n     * Makes some checks  to file.\r\n     *\r\n     * @param {File} file\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    ImageTool.prototype._checkFile = function(file) {\r\n        var _this = this;\r\n        // crude check of file type\r\n        if(file.type.indexOf('image') < 0) {\r\n            _this.drawerInstance.showError(this.drawerInstance.t('Incorrect file type!'));\r\n            return false;\r\n        }\r\n\r\n        // check for maxSize\r\n        if ((this.options.maxImageSizeKb > 0) &&\r\n            (file.size > this.options.maxImageSizeKb * 1024)) {\r\n            var err = this.drawerInstance.t('File is to big!. Maximum file size is ');\r\n            err = err + this.options.maxImageSizeKb + ' KB';\r\n            _this.drawerInstance.showError(err);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n\r\n    /**\r\n     * Load image from url/dataUrl, then call addImage()\r\n     *\r\n     * @param {string} dataUrl src of image or dataUrl\r\n     * @private\r\n     */\r\n    ImageTool.prototype.loadImage = function(dataUrl, options) {\r\n        var _this = this;\r\n        var image = new Image();\r\n\r\n        // after Image was created from file data - create fabric.Image from it\r\n        image.onload = function() {\r\n            _this.addImage(image, options);\r\n        };\r\n\r\n        // show error on fail\r\n        image.onerror = function() {\r\n            var err = _this.drawerInstance.t('Image failed to create!');\r\n            _this.drawerInstance.showError(err);\r\n        };\r\n\r\n        // this will start creating image\r\n        image.src = dataUrl;\r\n    };\r\n\r\n  /**\r\n   * Init crop plugin\r\n   * @param {string} image - src of image, can be base64 encoded url\r\n   * @private\r\n   */\r\n  ImageTool.prototype._triggerImageCrop = function (image) {\r\n    var dataToEvent = {\r\n      url: image,\r\n      callback: this.loadImage.bind(this)\r\n    };\r\n    this.drawerInstance.trigger(this.drawerInstance.EVENT_IMAGE_CROP, dataToEvent);\r\n  };\r\n\r\n    /**\r\n     * Adds image to canvas.\r\n     *\r\n     * @param {Image} image\r\n     */\r\n    ImageTool.prototype.addImage = function(image, options) {\r\n        var fCanvas = this.drawerInstance.fCanvas;\r\n        var fabricImage = new fabric.ErasableImage(image);\r\n\r\n        options = options ? options : this.options;\r\n        if (options.scaleDownLargeImage) {\r\n            this._fitLargeImage(fabricImage);\r\n        } else {\r\n            fabricImage.left = options.left ? options.left : 0;\r\n            fabricImage.top  = options.top ? options.top : 0;\r\n            fabricImage.scaleX = options.scaleX ? options.scaleX : 1;\r\n            fabricImage.scaleY = options.scaleY ? options.scaleY : 1;\r\n        }\r\n      fabricImage.opacity = this.drawerInstance.activeOpacity;\r\n\r\n\r\n        if (options.centerImage) {\r\n            fCanvas.centerObject(fabricImage);\r\n        }\r\n\r\n        fCanvas.add(fabricImage);\r\n        fCanvas.setActiveObject(fabricImage);\r\n    };\r\n\r\n\r\n    /**\r\n     * If option options.scaleDownLargeImage is set,\r\n     * scales images, larger then canvas to fit it.\r\n     *\r\n     * @param {fabric.Image} fImage\r\n     * @private\r\n     */\r\n    ImageTool.prototype._fitLargeImage = function(fImage) {\r\n        var fCanvas = this.drawerInstance.fCanvas;\r\n\r\n        var w = fCanvas.width * 0.95;\r\n        var h = fCanvas.height  * 0.95;\r\n        var scaleX = 1.0, scaleY = 1.0;\r\n        if (fImage.width > w) {\r\n            scaleX =  w / fImage.width;\r\n        }\r\n        if (fImage.height > h) {\r\n            scaleY =  h / fImage.height;\r\n        }\r\n        var scale = Math.min(scaleX, scaleY);\r\n        fImage.set({ 'scaleX' : scale, 'scaleY' : scale});\r\n    };\r\n\r\n    pluginsNamespace.Image = ImageTool;\r\n\r\n}(jQuery, DrawerJs.plugins.BaseTool, DrawerJs.plugins, DrawerJs.util));\r\n\r\n(function(DrawerApi) {\r\n\r\n    /**\r\n     * Sets background image from given url.\r\n     *\r\n     * @param {String}   imageUrl\r\n     * @param {Function} callback callback on success\r\n     */\r\n    DrawerApi.prototype.addImageFromUrl = function(imageUrl, options) {\r\n        this.drawer.api.checkIsActive();\r\n        var tool = this.drawer.getPluginInstance('Image');\r\n        tool.loadImage(imageUrl, options);\r\n    };\r\n\r\n    /**\r\n     * Sets background image from given image object.\r\n     *\r\n     * @param {Image}   image\r\n     * @param {Object}   options\r\n     * @param {Function} callback callback on success\r\n     */\r\n    DrawerApi.prototype.addImage = function(image, options) {\r\n        this.drawer.api.checkIsActive();\r\n        var tool = this.drawer.getPluginInstance('Image');\r\n        tool.addImage(image, options);\r\n    };\r\n\r\n})(DrawerJs.DrawerApi);\r\n\r\n(function ($, BaseShape, pluginsNamespace) {\r\n  /**\r\n   * Provides a line button which can be used to draw lines.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * Tool is using drawerInstance.options['lineAngleTooltip']\r\n   * Default settings are:\r\n   * {  enabled: false,\r\n   *    fontSize: 11,\r\n   *    fontFamily:  'Arial, sans serif',\r\n   *    color: 'black'};\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var Line = function LineConstructor(drawerInstance) {\r\n    // call super\r\n    BaseShape.call(this, drawerInstance);\r\n\r\n    this.name = 'Line';\r\n    /**\r\n     * List of tool options to show when tool is activated.\r\n     * Deviating from BaseShape tool, Line has no 'color', only 'border'.\r\n     * @type {String[]}\r\n     */\r\n    this.toolOptionsList = ['border', 'opacity', 'lineWidth', 'strokeWidth'];\r\n\r\n    this.btnClass = 'btn-line';\r\n    this.faClass = 'fa-line';\r\n    this.tooltip = drawerInstance.t('Draw a line');\r\n\r\n    this.group = {\r\n      name: 'lines',\r\n      tooltip: drawerInstance.t('Lines and arrows')\r\n    };\r\n\r\n    this._setupOptions({});\r\n    $.extend(true, this.options.lineAngleTooltip, drawerInstance.options.lineAngleTooltip || {});\r\n\r\n    // add fallback for fontFamily\r\n    this.options.lineAngleTooltip.fontFamily += ', ' + this._defaultOptions.lineAngleTooltip.fontFamily;\r\n  };\r\n\r\n  Line.prototype = Object.create(BaseShape.prototype);\r\n  Line.prototype.constructor = Line;\r\n\r\n  Line.prototype.checkOnlyWidthOrHeight = true;\r\n\r\n  Line.prototype._defaultOptions = {\r\n    lineAngleTooltip: {\r\n      enabled: false,\r\n      fontSize: 11,\r\n      fontFamily:  'Arial, sans serif',\r\n      color: 'black'\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * Create new shape with minimal size.\r\n   * Is called from BaseShape nmouseDown handler.\r\n   *\r\n   * @param  {Number} left [description]\r\n   * @param  {Number} top  [description]\r\n   * @return {fabric.ErasableLine}\r\n   */\r\n  Line.prototype.createShape = function (left, top) {\r\n    var line = new fabric.ErasableLine();\r\n\r\n    line.set('x1', left);\r\n    line.set('x2', left + 1);\r\n    line.set('y1', top);\r\n    line.set('y2', top + 1);\r\n    line.set('stroke', this.drawerInstance.activeColor);\r\n    line.set('opacity', this.drawerInstance.activeOpacity);\r\n    line.set('strokeWidth', this.drawerInstance.lineStrokeWidth || 2);\r\n\r\n    this.createAngleTooltip(line);\r\n\r\n    return line;\r\n  };\r\n\r\n\r\n  /**\r\n   * Update shape with new left, top,\r\n   * Is called from BaseShape mouseMove handler\r\n   *\r\n   * @param  {fabric.Line} line    [description]\r\n   * @param  {Number} newLeft [description]\r\n   * @param  {Number} newTop  [description]\r\n   */\r\n  Line.prototype.updateShape = function (line, newLeft, newTop) {\r\n    line.set('x2', newLeft);\r\n    line.set('y2', newTop);\r\n\r\n    this.updateAngleTooltip(line);\r\n  };\r\n\r\n\r\n  /**\r\n   * Is called from BaseShape mouseUp handler.\r\n   */\r\n  Line.prototype.finishShape = function () {\r\n    this.removeAngleTooltip();\r\n  };\r\n\r\n\r\n  /**\r\n   * Create text object for line angle tooltip\r\n   *\r\n   * @param  {fabric.Line} line\r\n   */\r\n  Line.prototype.createAngleTooltip = function (line) {\r\n    if (!this.options.lineAngleTooltip.enabled)\r\n      return;\r\n\r\n    this.angleTooltip = new fabric.IText('Text');\r\n    this.angleTooltip.set('fontFamily', this.options.lineAngleTooltip.fontFamily);\r\n    this.angleTooltip.set('fontSize', this.options.lineAngleTooltip.fontSize);\r\n    this.angleTooltip.set('left', line.x1 - 10);\r\n    this.angleTooltip.set('top', line.y1 - 10);\r\n    this.angleTooltip.set('stroke', this.options.lineAngleTooltip.color);\r\n    this.angleTooltip.set('fill', this.options.lineAngleTooltip.color);\r\n    this.angleTooltip.set('text', '');\r\n\r\n    this.drawerInstance.fCanvas.add(this.angleTooltip);\r\n    this.updateAngleTooltip(line);\r\n  };\r\n\r\n\r\n  /**\r\n   * Update angle tooltip with line current angle\r\n   *\r\n   * @param  {fabric.Line} line\r\n   */\r\n  Line.prototype.updateAngleTooltip = function (line) {\r\n    if (!this.options.lineAngleTooltip.enabled)\r\n      return;\r\n\r\n    // calc line angle\r\n    var angleRad = Math.atan((line.y2 - line.y1) / (line.x2 - line.x1));\r\n    var angle = Math.abs(fabric.util.radiansToDegrees(angleRad));\r\n    this.angleTooltip.setText(angle.toFixed().toString());\r\n\r\n    // determine tooltip position\r\n    var tooltipOffsetX = this.options.lineAngleTooltip.fontSize;\r\n    var tooltipOffsetY = -this.options.lineAngleTooltip.fontSize;\r\n    // if line is pointing to the left\r\n    if (line.x2 < line.x1) {\r\n      tooltipOffsetX = -(this.options.lineAngleTooltip.fontSize + 10);\r\n    }\r\n    // if line is pointing downside\r\n    if (line.y2 > line.y1) {\r\n      tooltipOffsetY = 2;\r\n    }\r\n\r\n    this.angleTooltip.set('left', line.x1 + tooltipOffsetX);\r\n    this.angleTooltip.set('top', line.y1 + tooltipOffsetY);\r\n    // this is needed to overpower strange issue, when tooltip is always same color as line\r\n    this.angleTooltip.set('stroke', this.options.lineAngleTooltip.color);\r\n    this.angleTooltip.set('fill', this.options.lineAngleTooltip.color);\r\n  };\r\n\r\n\r\n  /**\r\n   * Removes angle tooltip.\r\n   */\r\n  Line.prototype.removeAngleTooltip = function () {\r\n    if (this.options.lineAngleTooltip.enabled) {\r\n      if (this.angleTooltip) {\r\n        this.angleTooltip.remove();\r\n        delete this.tooltip;\r\n      }\r\n    }\r\n  };\r\n\r\n  pluginsNamespace.Line = Line;\r\n\r\n}(jQuery, DrawerJs.plugins.BaseShape, DrawerJs.plugins));\r\n(function ($, BaseShape, pluginsNamespace, util) {\r\n  \"use strict\";\r\n\r\n  var MOUSE_DOWN = util.mouseDown('Polygon');\r\n  var MOUSE_MOVE = util.mouseMove('Polygon');\r\n  var MOUSE_UP = util.mouseUp('Polygon');\r\n\r\n  /**\r\n   * Provides a polygon button which can be used to draw polygons.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var Polygon = function PolygonConstructor(drawerInstance, options) {\r\n    var _this = this;\r\n\r\n    BaseShape.call(_this, drawerInstance);\r\n\r\n    this.name = 'Polygon';\r\n    this.btnClass = 'btn-polygon';\r\n    this.faClass = 'fa-star';\r\n    this.tooltip = drawerInstance.t('Draw a Polygon');\r\n    this.helpTooltipText = drawerInstance.t('Click to start a new line');\r\n\r\n    this.options = options || {};\r\n    this.centeringMode =\r\n      this.options.centeringMode || BaseShape.CENTERING_MODE.NORMAL;\r\n\r\n    drawerInstance.on(drawerInstance.EVENT_EDIT_STOP, function () {\r\n      _this.finishDraw();\r\n    });\r\n\r\n    drawerInstance.on(drawerInstance.EVENT_DO_ACTIVATE_TOOL,\r\n      function (event, tool) {\r\n        if (!(tool instanceof Polygon)) {\r\n          _this.finishDraw();\r\n        }\r\n      });\r\n  };\r\n\r\n  Polygon.prototype = Object.create(BaseShape.prototype);\r\n  Polygon.prototype.constructor = Polygon;\r\n\r\n  Polygon.prototype.setUpHandlers = function () {\r\n    var _this = this;\r\n\r\n    _this.drawerInstance.fCanvas._oldSelectionState = _this.drawerInstance.fCanvas.selection;\r\n    _this.drawerInstance.fCanvas.selection = false;\r\n\r\n    _this.$stopButton = $('<button class=\"stop-polygon\">' +\r\n      _this.drawerInstance.t('Stop drawing a polygon') +\r\n    '</button>');\r\n    _this.drawerInstance.$canvasEditContainer.append(_this.$stopButton);\r\n    _this.$stopButton.click(function () {\r\n      _this.finishDraw();\r\n    });\r\n\r\n    _this.drawerInstance\r\n      .on(_this.drawerInstance.EVENT_KEYDOWN, function (event, originalEvent) {\r\n        if (originalEvent.which == 27) {\r\n          _this.finishDraw();\r\n        }\r\n      });\r\n\r\n    var drawingArea = $(this.drawerInstance.fCanvas.upperCanvasEl);\r\n\r\n    var newPointHandler = function (event) {\r\n      _this.addNewPoint(event);\r\n\r\n      if (!_this.poly.__mouseEventSet) {\r\n        _this.setUpMoveEvent();\r\n        _this.poly.__mouseEventSet = true;\r\n      }\r\n\r\n      _this.drawerInstance.fCanvas.renderAll();\r\n    };\r\n\r\n    if (_this.drawerInstance.touchDevice) {\r\n      drawingArea.on(MOUSE_DOWN, function (event) {\r\n        newPointHandler(event);\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        return false;\r\n      });\r\n\r\n      drawingArea.on(MOUSE_UP, function (event) {\r\n        drawingArea.off(MOUSE_MOVE);\r\n        _this.poly.__mouseEventSet = false;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        return false;\r\n      });\r\n    } else {\r\n      drawingArea.on(MOUSE_DOWN, function (event) {\r\n        newPointHandler(event);\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        return false;\r\n      });\r\n    }\r\n  };\r\n\r\n  Polygon.prototype.addNewPoint = function (event) {\r\n    var _this = this,\r\n        pointCoords = this.drawer.fCanvas.getPointer(event),\r\n        left = pointCoords.x,\r\n        top = pointCoords.y;\r\n\r\n    if (!_this.poly) {\r\n      _this.startLeft = left;\r\n      _this.startTop = top;\r\n\r\n      _this.poly = new fabric.SegmentablePolygon([[\r\n        {\r\n          x: 0,\r\n          y: 0\r\n        }\r\n      ]]);\r\n      _this.poly.set('fill', _this.drawerInstance.activeColor);\r\n      _this.poly.set('opacity', _this.drawerInstance.activeOpacity);\r\n      _this.poly.set('left', left);\r\n      _this.poly.set('top', top);\r\n      _this.poly.set('evented', false);\r\n      _this.poly.set('selectable', false);\r\n      _this.drawerInstance.fCanvas.add(_this.poly);\r\n    }\r\n\r\n    var points = _this.poly.get('points');\r\n\r\n    var centerPoint = _this.poly.getCenterPoint();\r\n    left = left - centerPoint.x;\r\n    top = top - centerPoint.y;\r\n\r\n    points[0].push({\r\n      x: left,\r\n      y: top\r\n    });\r\n\r\n    _this.poly.set('points', points);\r\n\r\n    _this.fixPosition();\r\n  };\r\n\r\n  Polygon.prototype.setUpMoveEvent = function () {\r\n    var _this = this;\r\n    var drawingArea = $(this.drawerInstance.fCanvas.upperCanvasEl);\r\n\r\n    drawingArea.on(MOUSE_MOVE, function (event) {\r\n      var points = _this.poly.get('points'),\r\n          pointCoords = _this.drawerInstance.fCanvas.getPointer(event),\r\n          centerPoint = _this.poly.getCenterPoint(),\r\n          left = pointCoords.x - centerPoint.x,\r\n          top = pointCoords.y - centerPoint.y;\r\n\r\n      if (points[0].length >= 2) {\r\n        points[0][points[0].length - 1].x = left;\r\n        points[0][points[0].length - 1].y = top;\r\n\r\n        _this.poly.set('points', points);\r\n\r\n        _this.fixPosition();\r\n\r\n        _this.drawerInstance.fCanvas.renderAll();\r\n      }\r\n    });\r\n  };\r\n\r\n  Polygon.prototype.fixPosition = function () {\r\n    var _this = this;\r\n\r\n    _this.poly._fixPoints();\r\n    _this.poly.setCoords();\r\n\r\n    var points = _this.poly.get('points');\r\n\r\n    var centerPoint = _this.poly.getCenterPoint();\r\n    var firstPointX = centerPoint.x + points[0][0].x;\r\n    var firstPointY = centerPoint.y + points[0][0].y;\r\n\r\n    var firstPointGlobalX = firstPointX;\r\n    var firstPointGlobalY = firstPointY;\r\n\r\n    var xDiff = _this.startLeft - firstPointGlobalX;\r\n    var yDiff = _this.startTop - firstPointGlobalY;\r\n    _this.poly.set('left', _this.poly.get('left') + xDiff);\r\n    _this.poly.set('top', _this.poly.get('top') + yDiff);\r\n  };\r\n\r\n  Polygon.prototype.finishDraw = function () {\r\n    var _this = this;\r\n\r\n    _this.drawerInstance.fCanvas.selection = _this.drawerInstance.fCanvas._oldSelectionState;\r\n\r\n    var drawingArea = $(this.drawerInstance.fCanvas.upperCanvasEl);\r\n\r\n    drawingArea.off(MOUSE_MOVE);\r\n    drawingArea.off(MOUSE_DOWN);\r\n    drawingArea.off(MOUSE_UP);\r\n\r\n    util.unbindLongPress(drawingArea, 'polygon');\r\n\r\n    if (_this.poly) {\r\n      // only remove last point for non-touch device\r\n      if (!_this.drawerInstance.touchDevice) {\r\n        var points = this.poly.get('points');\r\n        points[0].splice(points[0].length - 1, 1);\r\n        this.poly.set('points', points);\r\n      }\r\n\r\n      this.fixPosition();\r\n\r\n      _this.poly.set('evented', true);\r\n      _this.poly.set('selectable', true);\r\n\r\n      var cloned = this.poly.clone();\r\n      this.drawerInstance.fCanvas.add(cloned);\r\n      this.drawerInstance.fCanvas.remove(this.poly);\r\n    }\r\n\r\n    this.poly = null;\r\n\r\n    this.drawerInstance.fCanvas.renderAll();\r\n    if (_this.$stopButton) {\r\n      util.setTimeout(function () {\r\n        _this.$stopButton.remove();\r\n      }, 1);\r\n    }\r\n\r\n    this._deactivateTool();\r\n  };\r\n\r\n  pluginsNamespace.Polygon = Polygon;\r\n\r\n}(jQuery, DrawerJs.plugins.BaseShape, DrawerJs.plugins, DrawerJs.util));\r\n(function($, BaseShape, pluginsNamespace) {\r\n  /**\r\n   * Provides a rectangle button which can be used to draw rectangles.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @param {String} [options.centeringMode='normal']\r\n   * Defines centering method when drawing a shape.\r\n   * <br><br>\r\n   * Valid values are:\r\n   * <br><br>\r\n   * <code>normal</code>: rectangle's top left corner will be placed to the\r\n   * position of first mouse click and will be resized from that point.\r\n   * <br><br>\r\n   * <code>from_center</code>: rectangle's center point will be placed to the\r\n   * position of first mouse click and will be resized from center.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var Rectangle = function RectangleConstructor(drawerInstance, options) {\r\n    var _this = this;\r\n\r\n    BaseShape.call(_this, drawerInstance);\r\n\r\n    this.name = 'Rectangle';\r\n    this.btnClass = 'btn-rectangle';\r\n    this.faClass = 'fa-stop';\r\n    this.tooltip = drawerInstance.t('Draw a rectangle');\r\n\r\n    this.options = options || {};\r\n    this.centeringMode =\r\n      this.options.centeringMode || BaseShape.CENTERING_MODE.NORMAL;\r\n  };\r\n\r\n  Rectangle.prototype = Object.create(BaseShape.prototype);\r\n  Rectangle.prototype.constructor = Rectangle;\r\n\r\n  Rectangle.prototype.createShape = function (left, top) {\r\n    this.startLeft = left;\r\n    this.startTop = top;\r\n\r\n    var rect = new fabric.PRect({\r\n      left: left,\r\n      top: top,\r\n      height: 1,\r\n      width: 1,\r\n      fill: this.drawerInstance.activeColor,\r\n      opacity:this.drawerInstance.activeOpacity\r\n    });\r\n\r\n    return rect;\r\n  };\r\n\r\n  Rectangle.prototype.updateShape = function (rectangle, newLeft, newTop) {\r\n    var width = newLeft - this.startLeft;\r\n    var height = newTop - this.startTop;\r\n\r\n    if (this.centeringMode == BaseShape.CENTERING_MODE.FROM_CENTER) {\r\n      width *= 2;\r\n      height *= 2;\r\n      rectangle.set('left', newLeft - width);\r\n      rectangle.set('top', newTop - height);\r\n    }\r\n\r\n    if(width > 0){\r\n      rectangle.set('width', width);\r\n    } else {\r\n      rectangle.set('left', newLeft);\r\n      rectangle.set('width', width * -1);\r\n    }\r\n\r\n    if(height > 0){\r\n      rectangle.set('height', height);\r\n    } else {\r\n      rectangle.set('top', newTop);\r\n      rectangle.set('height', height * -1);\r\n    }\r\n\r\n  };\r\n\r\n  pluginsNamespace.Rectangle = Rectangle;\r\n\r\n}(jQuery, DrawerJs.plugins.BaseShape, DrawerJs.plugins));\r\n(function ($, BaseShape, pluginsNamespace, util) {\r\n  \"use strict\";\r\n\r\n  /**\r\n   * Provides an editable text shape.\r\n   *\r\n   * @param drawerInstance\r\n   *\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @param {number} options.editIconSize\r\n   * Sets the 'edit icon' size, in pixels.\r\n   * Default is 32px. More then 64px is not recommended.\r\n   *\r\n   * @param {boolean} options.editIconMode\r\n   * Sets if 'edit icon' mode is on.\r\n   *\r\n   * @param {object.<string, array>} options.predefined\r\n   * List of available values from control dropdown\r\n   *\r\n   * @param {object.<string, array>} options.defaultValues\r\n   * List of default values of styles\r\n   *\r\n   * @memberof DrawerJs.plugins\r\n   *\r\n   * @constructor\r\n   * @augments DrawerJs.plugins.BaseShape\r\n   */\r\n  var Text = function TextConstructor(drawerInstance, options) {\r\n    // call super c-tor\r\n    BaseShape.call(this, drawerInstance);\r\n\r\n\r\n    this._setupOptions(options);\r\n\r\n    this.tooltip = this.drawerInstance.t('Draw a text');\r\n    this.helpTooltipText = this.drawerInstance.t('Click to place a text');\r\n\r\n    this.drawerInstance.on(this.drawerInstance.EVENT_OPTIONS_TOOLBAR_CREATED + this.eventNs, this._onOptionsToolbarCreated.bind(this));\r\n  };\r\n\r\n  Text.prototype = Object.create(BaseShape.prototype);\r\n  Text.prototype.constructor = Text;\r\n\r\n\r\n  Text.prototype.name = 'Text';\r\n  /**\r\n   * List of tool options to show when tool is activated.\r\n   * Deviating from BaseShape tool, Line has no 'color', only 'border'.\r\n   * @type {String[]}\r\n   */\r\n  Text.prototype.toolOptionsList = ['color', 'border', 'opacity'];\r\n\r\n\r\n  // tool event namespace\r\n  Text.prototype.eventNs = '.textTool';\r\n\r\n  Text.prototype.name = 'Text';\r\n  Text.prototype.btnClass = 'btn-text';\r\n  Text.prototype.faClass = 'fa-font';\r\n/////////////////////////////////////////////////////////\r\n\r\n    /**\r\n     * On tool options toolbar created - create controls and set handlers\r\n     * To proper react on objects selection and\r\n     *\r\n     * @param  {Event} ev\r\n     * @param  {Drawer} toolbar toolbar which was created\r\n     * @private\r\n     */\r\n    Text.prototype._onOptionsToolbarCreated = function (ev, toolbar) {\r\n\r\n      // react on text selection change\r\n      this.drawerInstance.on(this.drawerInstance.EVENT_TEXT_SELECTION_CHANGED, this._onTextSelectionChanged.bind(this));\r\n      // react on edit mode entering\r\n      this.drawerInstance.on(this.drawerInstance.EVENT_TEXT_EDITING_ENTERED, this._onTextEditingEntered.bind(this));\r\n      // react on edit mode exiting\r\n      this.drawerInstance.on(this.drawerInstance.EVENT_TEXT_EDITING_EXITED, this._onTextEditingExited.bind(this));\r\n    };\r\n\r\n    Text.prototype._deactivateTool = function () {\r\n        if (!this.active) {\r\n          return;\r\n        }\r\n\r\n        // call _deactivateTool() of parent\r\n        BaseShape.prototype._deactivateTool.call(this);\r\n    };\r\n\r\n\r\n    /**\r\n     * Removes tool controls.\r\n     * If  doDeleteToolbarCreationListeners is true - removes listeners on toolbar creation event.\r\n     * So, tool will not appear on toolbar next time, when toolbar is created.\r\n     *\r\n     * @param {boolean} doDeleteToolbarCreationListeners\r\n     */\r\n    Text.prototype.removeTool = function(doDeleteToolbarCreationListeners) {\r\n        // sign off option toolbar creation\r\n        if (doDeleteToolbarCreationListeners) {\r\n            this.drawerInstance.off(this.drawerInstance.EVENT_OPTIONS_TOOLBAR_CREATED + this.eventNs);\r\n        }\r\n\r\n        // call parent removeTool()\r\n        BaseShape.prototype.removeTool.call(this, doDeleteToolbarCreationListeners);\r\n    };\r\n\r\n  /**\r\n   * React on edit mode entering\r\n   * @param  {fabric.Event} fEvent\r\n   * @param  {fabric.Object} tool - Object of active tool\r\n   * @private\r\n   */\r\n  Text.prototype._onTextEditingEntered = function (fEvent, tool) {\r\n    console.info('EVENT_TEXT_EDITING_ENTERED');\r\n    this._onTextSelectionChanged(fEvent, tool);\r\n  };\r\n\r\n  /**\r\n   * React on edit mode exiting\r\n   * @param  {fabric.Event} fEvent\r\n   * @param  {fabric.Object} tool - Object of active tool\r\n   * @private\r\n   */\r\n  Text.prototype._onTextEditingExited = function (fEvent, tool) {\r\n    if (tool && tool.target) {\r\n      tool.target._lastSelection = undefined;\r\n      tool.target._lastStyles = undefined;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * React on styles changes of current text object\r\n   * @param  {fabric.Event} ev\r\n   * @param  {fabric.Object} tool - Object of active tool\r\n   * @private\r\n   */\r\n  Text.prototype._onTextSelectionChanged = function (ev, tool) {\r\n    var targetObj = (tool && tool.target) || this.drawerInstance.getActiveObject(); // @todo\r\n\r\n    var currentPos = {\r\n          start: targetObj.selectionStart,\r\n          end: targetObj.selectionEnd\r\n        },\r\n        lastPos = targetObj._lastSelection || {},\r\n        emptySelection = currentPos.start === currentPos.end,\r\n        firstChar = currentPos.start === 0,\r\n        sameStartPosition = currentPos.start === lastPos.start && currentPos.start !== undefined,\r\n        sameEndPosition = currentPos.end === lastPos.end && currentPos.end !== undefined,\r\n        samePosition = sameStartPosition && sameEndPosition;\r\n\r\n    if (!samePosition) {\r\n      targetObj._lastSelection = currentPos;\r\n\r\n      var objectStyles = targetObj.getObjStyles(),\r\n          prevStyles = targetObj._lastStyles || {},\r\n          getPrevCharStyles = (emptySelection && !firstChar),\r\n          prevCharStyles = getPrevCharStyles && targetObj.getSelectionStyles(currentPos.start - 1),\r\n          styles = prevCharStyles || targetObj.getSelectionStyles(),\r\n          stylesAreChanged = targetObj._hasStyleChanged(prevStyles, prevCharStyles || styles),\r\n          stylesWithMultipleValues = [];\r\n\r\n      // For not empty selection\r\n      if (!emptySelection) {\r\n        styles = $.extend(true, {}, styles);\r\n        var stylesArrayForEachChar = targetObj.getSelectionStyles(currentPos.start, currentPos.end),\r\n            firstStyleObj = $.extend(true, {}, stylesArrayForEachChar[0]);\r\n        stylesArrayForEachChar.forEach(function(stylesObj, i) {\r\n          for (var styleName in objectStyles) {\r\n            var charsHaveDifferentStyles = stylesObj[styleName] !== firstStyleObj[styleName],\r\n                alreadyMultiple = stylesWithMultipleValues.indexOf(styleName) !== -1;\r\n            if (charsHaveDifferentStyles && !alreadyMultiple) {\r\n              stylesWithMultipleValues.push(styleName);\r\n              styles[styleName] = undefined;\r\n            }\r\n          }\r\n        });\r\n        stylesAreChanged = stylesWithMultipleValues.length || targetObj._hasStyleChanged(prevStyles, styles);\r\n      }\r\n      this.drawerInstance.setTemporaryStyles(styles);\r\n\r\n      if (stylesAreChanged) {\r\n        targetObj._lastStyles = styles;\r\n\r\n        var drawer = this.drawerInstance;\r\n        drawer.trigger(drawer.EVENT_TEXT_STYLES_CHANGED, [styles, objectStyles, stylesWithMultipleValues]);\r\n      }\r\n    }\r\n  };\r\n\r\n  Text.prototype.addShape = function (left, top, text, styles) {\r\n    styles = styles || {};\r\n    left = parseInt(left, 10);\r\n    left = left || left === 0 ? left : 0;\r\n    top = parseInt(top, 10);\r\n    top = top || top === 0 ? top : 0;\r\n    var shape = this.createShape(left, top, text, styles);\r\n    shape.set('left',left);\r\n    shape.set('top',top);\r\n    this.shape = shape;\r\n    // finish drawing\r\n    this.finishItemDraw();\r\n\r\n    // some tools are supposed to draw one shape and then deactivate\r\n    if (this.onlyOneItem) {\r\n      this.drawerInstance.trigger(this.drawerInstance.EVENT_DO_DEACTIVATE_TOOL, this);\r\n    }\r\n  };\r\n\r\n  Text.prototype.createShape = function (left, top, textString, styles) {\r\n    styles = styles || {};\r\n    textString = textString || 'Text';\r\n    this.startLeft = left;\r\n    this.startTop = top;\r\n\r\n    this.text = new fabric.ErasableText(textString, {editIconMode : this.options.editIconMode, editIconSize: this.options.editIconSize});\r\n\r\n    var drawer = this.drawerInstance,\r\n        defaultValues = this.options.defaultValues || {},\r\n        collectedStyles = {};\r\n\r\n    drawer.trigger(drawer.EVENT_TEXT_GET_STYLES, [this, collectedStyles]);\r\n\r\n    collectedStyles = collectedStyles || {};\r\n    collectedStyles.defaultValues = collectedStyles.defaultValues || {}; //@todo\r\n\r\n\r\n    this.text.set('fontFamily', styles.fontFamily || defaultValues.fontFamily || collectedStyles.defaultValues.fontFamily);\r\n    this.text.set('fontSize', styles.fontSize || defaultValues.fontSize || collectedStyles.defaultValues.fontSize);\r\n    this.text.set('lineHeight', styles.lineHeight || defaultValues.lineHeight || collectedStyles.defaultValues.lineHeight);\r\n    this.text.set('fill', styles.fill || defaultValues.fill || collectedStyles.defaultValues.fill || this.drawerInstance.activeColor);\r\n    this.text.set('opacity', styles.opacity || defaultValues.opacity || collectedStyles.defaultValues.opacity || this.drawerInstance.activeOpacity);\r\n\r\n    this.text.set('left', left - this.text.width / 2);\r\n    this.text.set('top', top - this.text.height / 2);\r\n\r\n    return this.text;\r\n  };\r\n\r\n  Text.prototype.updateShape = function (text, newLeft, newTop) {\r\n  };\r\n\r\n  /**\r\n   * Checks if object is instance of fabric.Text\r\n   * @param  {fabric.Object} obj - Instance of Fabric.Object\r\n   * @return {Boolean}\r\n   */\r\n  Text.prototype.isObjectText = function (obj) {\r\n    return obj instanceof fabric.IText;\r\n  };\r\n\r\n  pluginsNamespace.Text = Text;\r\n\r\n}(jQuery, DrawerJs.plugins.BaseShape, DrawerJs.plugins, DrawerJs.util));\r\n\r\n(function($, BaseShape, pluginsNamespace) {\r\n  /**\r\n   * Provides a triangle button which can be used to draw triangles.\r\n   *\r\n   * @param {DrawerJs.Drawer} drawerInstance\r\n   * Instance of {@link DrawerJs.Drawer}.\r\n   *\r\n   * @param {Object} options\r\n   * Configuration object.\r\n   *\r\n   * @param {String} [options.centeringMode='normal']\r\n   * Defines centering method when drawing a shape.\r\n   * <br><br>\r\n   * Valid values are:\r\n   * <br><br>\r\n   * <code>normal</code>: triangle's top left corner will be placed to the\r\n   * position of first mouse click and will be resized from that point.\r\n   * <br><br>\r\n   * <code>from_center</code>: triangle's center point will be placed to the\r\n   * position of first mouse click and will be resized from center.\r\n   *\r\n   * @constructor\r\n   * @memberof DrawerJs.plugins\r\n   */\r\n  var Triangle = function TriangleConstructor(drawerInstance, options) {\r\n    var _this = this;\r\n\r\n    BaseShape.call(_this, drawerInstance);\r\n\r\n    this.name = 'Triangle';\r\n    this.btnClass = 'btn-triangle';\r\n    this.faClass = 'fa-play';\r\n    this.tooltip = drawerInstance.t('Draw a triangle');\r\n\r\n    this.options = options || {};\r\n    this.centeringMode =\r\n      this.options.centeringMode || BaseShape.CENTERING_MODE.NORMAL;\r\n  };\r\n\r\n  Triangle.prototype = Object.create(BaseShape.prototype);\r\n  Triangle.prototype.constructor = Triangle;\r\n\r\n  BaseShape.prototype.minShapeSize = 8;\r\n\r\n  Triangle.prototype.createShape = function (left, top) {\r\n    this.startLeft = left;\r\n    this.startTop = top;\r\n\r\n    var triangle = new fabric.PTriangle({\r\n      width: 1,\r\n      height: 1,\r\n      left: left,\r\n      top: top,\r\n      fill: this.drawerInstance.activeColor,\r\n      opacity:this.drawerInstance.activeOpacity\r\n    });\r\n    return triangle;\r\n  };\r\n\r\n  Triangle.prototype.updateShape = function (triangle, newLeft, newTop) {\r\n    var width = newLeft - this.startLeft;\r\n    var height = newTop - this.startTop;\r\n\r\n    if (this.centeringMode === BaseShape.CENTERING_MODE.NORMAL) {\r\n      if(width > 0){\r\n        triangle.set('width', width);\r\n        triangle.set('left', newLeft);\r\n      } else {\r\n        triangle.set('width', width * -1);\r\n        triangle.set('left', newLeft);\r\n      }\r\n\r\n      if(height > 0){\r\n        triangle.set('angle', 0);\r\n        triangle.set('height', height);\r\n        if(width > 0){\r\n          triangle.set('left', newLeft - width);\r\n        } else {\r\n          triangle.set('left', newLeft);\r\n        }\r\n      } else {\r\n        triangle.set('angle', 180);\r\n        triangle.set('height', height * -1);\r\n        triangle.set('top', newTop + height * -1);\r\n        if(width > 0){\r\n          triangle.set('left', newLeft);\r\n        } else {\r\n          triangle.set('left', newLeft + width * -1);\r\n        }\r\n      }\r\n\r\n\r\n    } else if (\r\n      this.centeringMode === BaseShape.CENTERING_MODE.FROM_CENTER\r\n    ) {\r\n\r\n      width *= 2;\r\n      height *= 2;\r\n      triangle.set('left', newLeft - width);\r\n      triangle.set('top', newTop - height);\r\n      triangle.set('width', width);\r\n      triangle.set('height', height);\r\n    }\r\n  };\r\n\r\n  pluginsNamespace.Triangle = Triangle;\r\n\r\n}(jQuery, DrawerJs.plugins.BaseShape, DrawerJs.plugins));\r\n//# sourceMappingURL=drawerJs.standalone.js.map","/*\r\n  @author: GeoGebra - Dynamic Mathematics for Everyone, http://www.geogebra.org\r\n  @license: This file is subject to the GeoGebra Non-Commercial License Agreement, see http://www.geogebra.org/license. For questions please write us at office@geogebra.org.\r\n*/\r\nvar isRenderGGBElementEnabled=false;var scriptLoadStarted=false;var html5AppletsToProcess=null;var ggbHTML5LoadedCodebaseIsWebSimple=false;var ggbHTML5LoadedCodebaseVersion=null;var ggbHTML5LoadedScript=null;var GGBApplet=function(){\"use strict\";var applet={};var ggbVersion=\"5.0\";var parameters={};var views=null;var html5NoWebSimple=false;var html5NoWebSimpleParamExists=false;var appletID=null;var initComplete=false;var html5OverwrittenCodebaseVersion=null;var html5OverwrittenCodebase=null;for(var i=0;i<arguments.length;i++){var p=arguments[i];if(p!==null){switch(typeof p){case\"number\":ggbVersion=p.toFixed(1);break;case\"string\":if(p.match(new RegExp(\"^[0-9]\\\\.[0-9]+$\"))){ggbVersion=p}else{appletID=p}break;case\"object\":if(typeof p.is3D!==\"undefined\"){views=p}else{parameters=p}break;case\"boolean\":html5NoWebSimple=p;html5NoWebSimpleParamExists=true;break}}}if(views===null){views={is3D:false,AV:false,SV:false,CV:false,EV2:false,CP:false,PC:false,DA:false,FI:false,PV:false,macro:false};if(parameters.material_id!==undefined&&!html5NoWebSimpleParamExists){html5NoWebSimple=true}}if(appletID!==null&&parameters.id===undefined){parameters.id=appletID}var jnlpFilePath=\"\";var html5Codebase=\"\";var isHTML5Offline=false;var loadedAppletType=null;var html5CodebaseVersion=null;var html5CodebaseScript=null;var html5CodebaseIsWebSimple=false;var previewImagePath=null;var previewLoadingPath=null;var previewPlayPath=null;var fonts_css_url=null;var jnlpBaseDir=null;if(parameters.height!==undefined){parameters.height=Math.round(parameters.height)}if(parameters.width!==undefined){parameters.width=Math.round(parameters.width)}var parseVersion=function(d){return parseFloat(d)>4?parseFloat(d):5};applet.setHTML5Codebase=function(codebase,offline){html5OverwrittenCodebase=codebase;setHTML5CodebaseInternal(codebase,offline)};applet.setJavaCodebase=applet.setJavaCodebaseVersion=applet.isCompiledInstalled=applet.setPreCompiledScriptPath=applet.setPreCompiledResourcePath=function(){};applet.setHTML5CodebaseVersion=function(version,offline){var numVersion=parseFloat(version);if(numVersion!==NaN&&numVersion<5){console.log(\"The GeoGebra HTML5 codebase version \"+numVersion+\" is deprecated. Using version latest instead.\");return}html5OverwrittenCodebaseVersion=version;setDefaultHTML5CodebaseForVersion(version,offline)};applet.getHTML5CodebaseVersion=function(){return html5CodebaseVersion};applet.getParameters=function(){return parameters};applet.setFontsCSSURL=function(url){fonts_css_url=url};applet.setGiacJSURL=function(url){};applet.setJNLPFile=function(newJnlpFilePath){jnlpFilePath=newJnlpFilePath};applet.setJNLPBaseDir=function(baseDir){};applet.inject=function(){function isOwnIFrame(){return window.frameElement&&window.frameElement.getAttribute(\"data-singleton\")}var type=\"auto\";var container_ID=parameters.id;var container;var noPreview=false;for(var i=0;i<arguments.length;i++){var p=arguments[i];if(typeof p===\"string\"){p=p.toLowerCase();if(p.match(/^(prefer)?(java|html5|compiled|auto|screenshot)$/)){type=p}else{container_ID=arguments[i]}}else if(typeof p===\"boolean\"){noPreview=p}else if(p instanceof HTMLElement){container=p}}continueInject();function continueInject(){if(!initComplete){setTimeout(continueInject,200);return}type=detectAppletType(type);var appletElem=container||document.getElementById(container_ID);if(!appletElem){console.log(\"possibly bug on ajax loading? \");return}applet.removeExistingApplet(appletElem,false);if(parameters.width===undefined&&appletElem.clientWidth){parameters.width=appletElem.clientWidth}if(parameters.height===undefined&&appletElem.clientHeight){parameters.height=appletElem.clientHeight}if(!(parameters.width&&parameters.height)&&type===\"html5\"){delete parameters.width;delete parameters.height}loadedAppletType=type;if(type===\"screenshot\"){injectScreenshot(appletElem,parameters)}else{var playButton=false;if(parameters.hasOwnProperty(\"playButton\")&&parameters.playButton||parameters.hasOwnProperty(\"clickToLoad\")&&parameters.clickToLoad){playButton=true}else if(parameters.hasOwnProperty(\"playButtonAutoDecide\")&&parameters.playButtonAutoDecide){playButton=(!isInIframe()||isOwnIFrame())&&isMobileDevice()}if(playButton){loadedAppletType=\"screenshot\";injectPlayButton(appletElem,parameters,noPreview,type)}else{injectHTML5Applet(appletElem,parameters,noPreview)}}}return};function isInIframe(){try{return window.self!==window.top}catch(e){return true}}function isMobileDevice(){if(parameters.hasOwnProperty(\"screenshotGenerator\")&&parameters.screenshotGenerator){return false}return Math.max(screen.width,screen.height)<800}applet.getViews=function(){return views};applet.isJavaInstalled=function(){return false};var getDefaultApiUrl=function(){var host=location.host;if(host.match(/alpha.geogebra.org/)||host.match(/groot.geogebra.org/)){return\"https://groot.geogebra.org:5000\"}if(host.match(/beta.geogebra.org/)){return\"https://api-beta.geogebra.org\"}if(host.match(/stage.geogebra.org/)){return\"https://api-stage.geogebra.org\"}return\"https://api.geogebra.org\"};var fetchParametersFromApi=function(successCallback,materialsApiUrl){var apiUrl=materialsApiUrl||getDefaultApiUrl();var apiVersion=parameters.apiVersion||\"1.0\";var onSuccess=function(text){var jsonData=JSON.parse(text);var isGeoGebra=function(element){return element.type==\"G\"||element.type==\"E\"};var item=jsonData.elements?jsonData.elements.filter(isGeoGebra)[0]:jsonData;if(!item||!item.url){onError();return}parameters.fileName=item.url;updateAppletSettings(item.settings||{});views.is3D=true;var imageDir=\"https://www.geogebra.org/images/\";applet.setPreviewImage(previewImagePath||item.previewUrl,imageDir+\"GeoGebra_loading.png\",imageDir+\"applet_play.png\");successCallback()};var url=apiUrl+\"/v\"+apiVersion+\"/materials/\"+parameters.material_id+\"?scope=basic\";var onError=function(){parameters.onError&&parameters.onError();log(\"Error: Fetching material (id \"+parameters.material_id+\") failed.\")};sendCorsRequest(url,onSuccess,onError)};function updateAppletSettings(settings){var parameterNames=[\"width\",\"height\",\"showToolBar\",\"showMenuBar\",\"showAlgebraInput\",\"allowStyleBar\",\"showResetIcon\",\"enableLabelDrags\",\"enableShiftDragZoom\",\"enableRightClick\",\"appName\"];[\"enableLabelDrags\",\"enableShiftDragZoom\",\"enableRightClick\"].forEach((function(name){settings[name]=!!settings[name]}));parameterNames.forEach((function(name){if(parameters[name]===undefined&&settings[name]!==undefined){parameters[name]=settings[name]}}));if(parameters.showToolBarHelp===undefined){parameters.showToolBarHelp=parameters.showToolBar}}function sendCorsRequest(url,onSuccess,onError){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url);xhr.onload=function(){onSuccess(xhr.responseText)};xhr.onerror=onError;xhr.send()}applet.isHTML5Installed=function(){return true};applet.getLoadedAppletType=function(){return loadedAppletType};applet.setPreviewImage=function(previewFilePath,loadingFilePath,playFilePath){previewImagePath=previewFilePath;previewLoadingPath=loadingFilePath;previewPlayPath=playFilePath};applet.removeExistingApplet=function(appletParent,showScreenshot){var i;if(typeof appletParent===\"string\"){appletParent=document.getElementById(appletParent)}loadedAppletType=null;var removedID=null;for(i=0;i<appletParent.childNodes.length;i++){var currentChild=appletParent.childNodes[i];var className=currentChild.className;if(className===\"applet_screenshot\"){if(showScreenshot){currentChild.style.display=\"block\";loadedAppletType=\"screenshot\"}else{currentChild.style.display=\"none\"}}else if(className!==\"applet_scaler prerender\"){appletParent.removeChild(currentChild);removedID=className&&className.indexOf(\"appletParameters\")!=-1?currentChild.id:null;i--}}var appName=parameters.id!==undefined?parameters.id:removedID;var app=window[appName];if(app&&typeof app.getBase64===\"function\"){app.remove();window[appName]=null}};applet.refreshHitPoints=function(){if(parseVersion(ggbHTML5LoadedCodebaseVersion)>=5){return true}var app=applet.getAppletObject();if(app){if(typeof app.recalculateEnvironments===\"function\"){app.recalculateEnvironments();return true}}return false};applet.startAnimation=function(){var app=applet.getAppletObject();if(app){if(typeof app.startAnimation===\"function\"){app.startAnimation();return true}}return false};applet.stopAnimation=function(){var app=applet.getAppletObject();if(app){if(typeof app.stopAnimation===\"function\"){app.stopAnimation();return true}}return false};applet.getAppletObject=function(){var appName=parameters.id!==undefined?parameters.id:\"ggbApplet\";return window[appName]};applet.resize=function(){};var appendParam=function(applet,name,value){var param=document.createElement(\"param\");param.setAttribute(\"name\",name);param.setAttribute(\"value\",value);applet.appendChild(param)};var valBoolean=function(value){return value&&value!==\"false\"};var injectHTML5Applet=function(appletElem,parameters,noPreview){if(parseVersion(html5CodebaseVersion)<=4.2){noPreview=true}var loadScript=!isRenderGGBElementEnabled&&!scriptLoadStarted;if(!isRenderGGBElementEnabled&&!scriptLoadStarted||(ggbHTML5LoadedCodebaseVersion!==html5CodebaseVersion||ggbHTML5LoadedCodebaseIsWebSimple&&!html5CodebaseIsWebSimple)){loadScript=true;isRenderGGBElementEnabled=false;scriptLoadStarted=false}var article=document.createElement(\"div\");article.classList.add(\"appletParameters\",\"notranslate\");var oriWidth=parameters.width;var oriHeight=parameters.height;parameters.disableAutoScale=parameters.disableAutoScale===undefined?GGBAppletUtils.isFlexibleWorksheetEditor():parameters.disableAutoScale;if(parameters.width!==undefined){if(parseVersion(html5CodebaseVersion)<=4.4){if(valBoolean(parameters.showToolBar)){parameters.height-=7}if(valBoolean(parameters.showAlgebraInput)){parameters.height-=37}if(parameters.width<605&&valBoolean(parameters.showToolBar)){parameters.width=605;oriWidth=605}}else{var minWidth=100;if(valBoolean(parameters.showToolBar)||valBoolean(parameters.showMenuBar)){if(parameters.hasOwnProperty(\"customToolBar\")){parameters.customToolbar=parameters.customToolBar}minWidth=valBoolean(parameters.showMenuBar)?245:155}if(oriWidth<minWidth){parameters.width=minWidth;oriWidth=minWidth}}}article.style.border=\"none\";article.style.display=\"inline-block\";for(var key in parameters){if(parameters.hasOwnProperty(key)&&key!==\"appletOnLoad\"){article.setAttribute(\"data-param-\"+key,parameters[key])}}if(fonts_css_url){article.setAttribute(\"data-param-fontscssurl\",fonts_css_url)}applet.resize=function(){GGBAppletUtils.responsiveResize(appletElem,parameters)};if(typeof jQuery===\"function\"){jQuery(window).resize((function(){applet.resize()}))}else{var oldOnResize=null;if(window.onresize!==undefined&&typeof window.onresize===\"function\"){oldOnResize=window.onresize}window.onresize=function(){applet.resize();if(typeof oldOnResize===\"function\"){oldOnResize()}}}var oriAppletOnload=typeof parameters.appletOnLoad===\"function\"?parameters.appletOnLoad:function(){};if(!noPreview&&parameters.width!==undefined){if(!parameters.hasOwnProperty(\"showSplash\")){article.setAttribute(\"data-param-showSplash\",\"false\")}var previewPositioner=appletElem.querySelector(\".applet_scaler.prerender\");var preRendered=previewPositioner!==null;if(!preRendered){var previewContainer=createScreenShotDiv(oriWidth,oriHeight,parameters.borderColor,false);previewPositioner=document.createElement(\"div\");previewPositioner.className=\"applet_scaler\";previewPositioner.style.position=\"relative\";previewPositioner.style.display=\"block\";previewPositioner.style.width=oriWidth+\"px\";previewPositioner.style.height=oriHeight+\"px\"}else{var previewContainer=previewPositioner.querySelector(\".ggb_preview\")}if(window.GGBT_spinner){window.GGBT_spinner.attachSpinner(previewPositioner,\"66%\")}if(parseVersion(html5CodebaseVersion)>=5){parameters.appletOnLoad=function(api){var preview=appletElem.querySelector(\".ggb_preview\");if(preview){preview.parentNode.removeChild(preview)}if(window.GGBT_spinner){window.GGBT_spinner.removeSpinner(previewPositioner)}if(window.GGBT_wsf_view){$(window).trigger(\"resize\")}else{window.onresize()}oriAppletOnload(api)};if(!preRendered){previewPositioner.appendChild(previewContainer)}}else{article.appendChild(previewContainer)}previewPositioner.appendChild(article);if(!preRendered){appletElem.appendChild(previewPositioner)}setTimeout((function(){applet.resize()}),1)}else{var appletScaler=document.createElement(\"div\");appletScaler.className=\"applet_scaler\";appletScaler.style.position=\"relative\";appletScaler.style.display=\"block\";appletScaler.appendChild(article);appletElem.appendChild(appletScaler);parameters.appletOnLoad=function(api){applet.resize();oriAppletOnload(api)}}function renderGGBElementWithParams(article,parameters){if(parameters&&typeof parameters.appletOnLoad===\"function\"&&typeof renderGGBElement===\"function\"){renderGGBElement(article,parameters.appletOnLoad)}else{renderGGBElement(article)}log(\"GeoGebra HTML5 applet injected and rendered with previously loaded codebase.\",parameters)}function renderGGBElementOnTube(a,parameters){if(typeof renderGGBElement===\"undefined\"){if(html5AppletsToProcess===null){html5AppletsToProcess=[]}html5AppletsToProcess.push({article:a,params:parameters});window.renderGGBElementReady=function(){isRenderGGBElementEnabled=true;if(html5AppletsToProcess!==null&&html5AppletsToProcess.length){html5AppletsToProcess.forEach((function(obj){renderGGBElementWithParams(obj.article,obj.params)}));html5AppletsToProcess=null}};if(parseVersion(html5CodebaseVersion)<5){a.className+=\" geogebraweb\"}}else{renderGGBElementWithParams(a,parameters)}}if(loadScript){scriptLoadStarted=true;for(var i=0;i<article.childNodes.length;i++){var tag=article.childNodes[i].tagName;if(tag===\"TABLE\"){article.removeChild(article.childNodes[i]);i--}}if(ggbHTML5LoadedScript!==null){var el=document.querySelector('script[src=\"'+ggbHTML5LoadedScript+'\"]');if(el!==undefined&&el!==null){el.parentNode.removeChild(el)}}var script=document.createElement(\"script\");var scriptLoaded=function(){renderGGBElementOnTube(article,parameters)};script.src=html5Codebase+html5CodebaseScript;ggbHTML5LoadedCodebaseIsWebSimple=html5CodebaseIsWebSimple;ggbHTML5LoadedCodebaseVersion=html5CodebaseVersion;ggbHTML5LoadedScript=script.src;log(\"GeoGebra HTML5 codebase loaded: '\"+html5Codebase+\"'.\",parameters);if(!html5OverwrittenCodebase&&(!html5OverwrittenCodebaseVersion||html5OverwrittenCodebaseVersion==\"5.0\")){if(html5CodebaseIsWebSimple){webSimple.succeeded=webSimple.succeeded||webSimple()}else{web3d.succeeded=web3d.succeeded||web3d()}scriptLoaded()}else if(html5Codebase.requirejs){require([\"geogebra/runtime/js/web3d/web3d.nocache\"],scriptLoaded)}else{script.onload=scriptLoaded;appletElem.appendChild(script)}}else{renderGGBElementOnTube(article,parameters)}parameters.height=oriHeight;parameters.width=oriWidth};var injectScreenshot=function(appletElem,parameters,showPlayButton){var previewContainer=createScreenShotDiv(parameters.width,parameters.height,parameters.borderColor,showPlayButton);var previewPositioner=document.createElement(\"div\");previewPositioner.style.position=\"relative\";previewPositioner.style.display=\"block\";previewPositioner.style.width=parameters.width+\"px\";previewPositioner.style.height=parameters.height+\"px\";previewPositioner.className=\"applet_screenshot applet_scaler\"+(showPlayButton?\" applet_screenshot_play\":\"\");previewPositioner.appendChild(previewContainer);var scale=GGBAppletUtils.getScale(parameters,appletElem,showPlayButton);if(showPlayButton){appletElem.appendChild(getPlayButton());if(!window.GGBT_wsf_view){appletElem.style.position=\"relative\"}}else if(window.GGBT_spinner){window.GGBT_spinner.attachSpinner(previewPositioner,\"66%\")}appletElem.appendChild(previewPositioner);if(scale!==1&&!isNaN(scale)){GGBAppletUtils.scaleElement(previewPositioner,scale);previewPositioner.style.width=parameters.width+\"px\";previewPositioner.style.height=parameters.height+\"px\";previewPositioner.parentNode.style.width=parameters.width*scale+\"px\";previewPositioner.parentNode.style.height=parameters.height*scale+\"px\"}applet.resize=function(){resizeScreenshot(appletElem,previewContainer,previewPositioner,showPlayButton)};if(typeof jQuery===\"function\"){jQuery(window).resize((function(){applet.resize()}))}else{var oldOnResize=null;if(window.onresize!==undefined&&typeof window.onresize===\"function\"){oldOnResize=window.onresize}window.onresize=function(){applet.resize();if(typeof oldOnResize===\"function\"){oldOnResize()}}}applet.resize()};function resizeScreenshot(appletElem,previewContainer,previewPositioner,showPlayButton,oldOnResize){if(!appletElem.contains(previewContainer)){return}if(typeof window.GGBT_wsf_view===\"object\"&&window.GGBT_wsf_view.isFullscreen()){if(appletElem.id!==\"fullscreencontent\"){return}window.GGBT_wsf_view.setCloseBtnPosition(appletElem)}var scale=GGBAppletUtils.getScale(parameters,appletElem,showPlayButton);if(previewPositioner.parentNode!==null){if(!isNaN(scale)&&scale!==1){GGBAppletUtils.scaleElement(previewPositioner,scale);previewPositioner.parentNode.style.width=parameters.width*scale+\"px\";previewPositioner.parentNode.style.height=parameters.height*scale+\"px\"}else{GGBAppletUtils.scaleElement(previewPositioner,1);previewPositioner.parentNode.style.width=parameters.width+\"px\";previewPositioner.parentNode.style.height=parameters.height+\"px\"}}if(typeof window.GGBT_wsf_view===\"object\"&&window.GGBT_wsf_view.isFullscreen()){GGBAppletUtils.positionCenter(appletElem)}if(typeof window.GGBT_ws_header_footer===\"object\"){window.GGBT_ws_header_footer.setWsScrollerHeight()}if(typeof oldOnResize===\"function\"){oldOnResize()}}applet.onExitFullscreen=function(fullscreenContainer,appletElem){appletElem.appendChild(fullscreenContainer)};var injectPlayButton=function(appletElem,parameters,noPreview,type){injectScreenshot(appletElem,parameters,true);var play=function(){var elems=[];for(i=0;i<appletElem.childNodes.length;i++){elems.push(appletElem.childNodes[i])}if(window.GGBT_wsf_view){var content=window.GGBT_wsf_view.renderFullScreen(appletElem,parameters.id);var container=document.getElementById(\"fullscreencontainer\");var oldcontent=jQuery(appletElem).find(\".fullscreencontent\");if(oldcontent.length>0){content.remove();oldcontent.attr(\"id\",\"fullscreencontent\").show();jQuery(container).append(oldcontent);window.onresize()}else{injectHTML5Applet(content,parameters,false)}window.GGBT_wsf_view.launchFullScreen(container)}else{loadedAppletType=type;injectHTML5Applet(appletElem,parameters,false)}if(!window.GGBT_wsf_view){for(i=0;i<elems.length;i++){appletElem.removeChild(elems[i])}}};var imgs=appletElem.getElementsByClassName(\"ggb_preview_play\");for(var i=0;i<imgs.length;i++){imgs[i].addEventListener(\"click\",play,false);imgs[i].addEventListener(\"ontouchstart\",play,false)}if(typeof window.ggbAppletPlayerOnload===\"function\"){window.ggbAppletPlayerOnload(appletElem)}if(isMobileDevice()&&window.GGBT_wsf_view){$(\".wsf-element-fullscreen-button\").remove()}};var getPlayButton=function(){var playButtonContainer=document.createElement(\"div\");playButtonContainer.className=\"ggb_preview_play icon-applet-play\";if(!window.GGBT_wsf_view){var css=\"\"+\".icon-applet-play {\"+\"   width: 100%;\"+\"   height: 100%;box-sizing: border-box;position: absolute;z-index: 1001;cursor: pointer;border-width: 0px;\"+\"   background-color: transparent;background-repeat: no-repeat;left: 0;top: 0;background-position: center center;\"+'   background-image: url(\"https://www.geogebra.org/images/worksheet/icon-start-applet.png\");'+\"}\"+\".icon-applet-play:hover {\"+'background-image: url(\"https://www.geogebra.org/images/worksheet/icon-start-applet-hover.png\");'+\"}\";var style=document.createElement(\"style\");if(style.styleSheet){style.styleSheet.cssText=css}else{style.appendChild(document.createTextNode(css))}document.getElementsByTagName(\"head\")[0].appendChild(style)}return playButtonContainer};var createScreenShotDiv=function(oriWidth,oriHeight,borderColor,showPlayButton){var previewContainer=document.createElement(\"div\");previewContainer.className=\"ggb_preview\";previewContainer.style.position=\"absolute\";previewContainer.style.zIndex=\"90\";previewContainer.style.width=oriWidth-2+\"px\";previewContainer.style.height=oriHeight-2+\"px\";previewContainer.style.top=\"0px\";previewContainer.style.left=\"0px\";previewContainer.style.overflow=\"hidden\";previewContainer.style.backgroundColor=\"white\";var bc=\"lightgrey\";if(borderColor!==undefined){if(borderColor===\"none\"){bc=\"transparent\"}else{bc=borderColor}}previewContainer.style.border=\"1px solid \"+bc;var preview=document.createElement(\"img\");preview.style.position=\"relative\";preview.style.zIndex=\"1000\";preview.style.top=\"-1px\";preview.style.left=\"-1px\";if(previewImagePath!==null){preview.setAttribute(\"src\",previewImagePath)}preview.style.opacity=.7;if(previewLoadingPath!==null){var previewOverlay;var pWidth,pHeight;if(!showPlayButton){previewOverlay=document.createElement(\"img\");previewOverlay.style.position=\"absolute\";previewOverlay.style.zIndex=\"1001\";previewOverlay.style.opacity=1;preview.style.opacity=.3;pWidth=360;if(pWidth>oriWidth/4*3){pWidth=oriWidth/4*3}pHeight=pWidth/5.8;previewOverlay.setAttribute(\"src\",previewLoadingPath);previewOverlay.setAttribute(\"width\",pWidth);previewOverlay.setAttribute(\"height\",pHeight);var pX=(oriWidth-pWidth)/2;var pY=(oriHeight-pHeight)/2;previewOverlay.style.left=pX+\"px\";previewOverlay.style.top=pY+\"px\";previewContainer.appendChild(previewOverlay)}}previewContainer.appendChild(preview);return previewContainer};var detectAppletType=function(preferredType){preferredType=preferredType.toLowerCase();if(preferredType===\"html5\"||preferredType===\"screenshot\"){return preferredType}return\"html5\"};var modules=[\"web\",\"webSimple\",\"web3d\",\"tablet\",\"tablet3d\",\"phone\"];var setDefaultHTML5CodebaseForVersion=function(version,offline){html5CodebaseVersion=version;if(offline){setHTML5CodebaseInternal(html5CodebaseVersion,true);return}var hasWebSimple=!html5NoWebSimple;if(hasWebSimple){var v=parseVersion(html5CodebaseVersion);if(!isNaN(v)&&v<4.4){hasWebSimple=false}}var protocol,codebase;if(window.location.protocol.substr(0,4)===\"http\"){protocol=window.location.protocol}else{protocol=\"http:\"}var index=html5CodebaseVersion.indexOf(\"//\");if(index>0){codebase=html5CodebaseVersion}else if(index===0){codebase=protocol+html5CodebaseVersion}else{codebase=\"https://www.geogebra.org/apps/5.0.651.0/\"}for(var key in modules){if(html5CodebaseVersion.slice(modules[key].length*-1)===modules[key]||html5CodebaseVersion.slice((modules[key].length+1)*-1)===modules[key]+\"/\"){setHTML5CodebaseInternal(codebase,false);return}}if(!GGBAppletUtils.isFlexibleWorksheetEditor()&&hasWebSimple&&!views.is3D&&!views.AV&&!views.SV&&!views.CV&&!views.EV2&&!views.CP&&!views.PC&&!views.DA&&!views.FI&&!views.PV&&!valBoolean(parameters.showToolBar)&&!valBoolean(parameters.showMenuBar)&&!valBoolean(parameters.showAlgebraInput)&&!valBoolean(parameters.enableRightClick)&&(!parameters.appName||parameters.appName==\"classic\")){codebase+=\"webSimple/\"}else{codebase+=\"web3d/\"}setHTML5CodebaseInternal(codebase,false)};var setHTML5CodebaseInternal=function(codebase,offline){if(codebase.requirejs){html5Codebase=codebase;return}if(codebase.slice(-1)!==\"/\"){codebase+=\"/\"}html5Codebase=codebase;if(offline===null){offline=codebase.indexOf(\"http\")===-1}isHTML5Offline=offline;html5CodebaseScript=\"web.nocache.js\";html5CodebaseIsWebSimple=false;var folders=html5Codebase.split(\"/\");if(folders.length>1){if(!offline&&folders[folders.length-2]===\"webSimple\"){html5CodebaseScript=\"webSimple.nocache.js\";html5CodebaseIsWebSimple=true}else if(modules.indexOf(folders[folders.length-2])>=0){html5CodebaseScript=folders[folders.length-2]+\".nocache.js\"}}folders=codebase.split(\"/\");html5CodebaseVersion=folders[folders.length-3];if(html5CodebaseVersion.substr(0,4)===\"test\"){html5CodebaseVersion=html5CodebaseVersion.substr(4,1)+\".\"+html5CodebaseVersion.substr(5,1)}else if(html5CodebaseVersion.substr(0,3)===\"war\"||html5CodebaseVersion.substr(0,4)===\"beta\"){html5CodebaseVersion=\"5.0\"}var numVersion=parseFloat(html5CodebaseVersion);if(numVersion!==NaN&&numVersion<5){console.log(\"The GeoGebra HTML5 codebase version \"+numVersion+\" is deprecated. Using version latest instead.\");setDefaultHTML5CodebaseForVersion(\"5.0\",offline)}};var log=function(text,parameters){if(window.console&&window.console.log){if(!parameters||typeof parameters.showLogging===\"undefined\"||parameters.showLogging&&parameters.showLogging!==\"false\"){console.log(text)}}};if(parameters.material_id!==undefined){fetchParametersFromApi(continueInit,parameters.apiUrl)}else{continueInit()}function continueInit(){var html5Version=ggbVersion;if(html5OverwrittenCodebaseVersion!==null){html5Version=html5OverwrittenCodebaseVersion}else{if(parseFloat(html5Version)<5){html5Version=\"5.0\"}}setDefaultHTML5CodebaseForVersion(html5Version,false);if(html5OverwrittenCodebase!==null){setHTML5CodebaseInternal(html5OverwrittenCodebase,isHTML5Offline)}initComplete=true}return applet};var GGBAppletUtils=function(){\"use strict\";function isFlexibleWorksheetEditor(){return window.GGBT_wsf_edit!==undefined}function scaleElement(el,scale){if(scale!=1){el.style.transformOrigin=\"0% 0% 0px\";el.style.webkitTransformOrigin=\"0% 0% 0px\";el.style.transform=\"scale(\"+scale+\",\"+scale+\")\";el.style.webkitTransform=\"scale(\"+scale+\",\"+scale+\")\";el.style.maxWidth=\"initial\";if(el.querySelector(\".ggb_preview\")!==null){el.querySelector(\".ggb_preview\").style.maxWidth=\"initial\"}if(el.querySelectorAll(\".ggb_preview img\")[0]!==undefined){el.querySelectorAll(\".ggb_preview img\")[0].style.maxWidth=\"initial\"}if(el.querySelectorAll(\".ggb_preview img\")[1]!==undefined){el.querySelectorAll(\".ggb_preview img\")[1].style.maxWidth=\"initial\"}}else{el.style.transform=\"none\";el.style.webkitTransform=\"none\"}}function getWidthHeight(appletElem,appletWidth,allowUpscale,autoHeight,noBorder,scaleContainerClass){var container=null;if(scaleContainerClass!=undefined&&scaleContainerClass!=\"\"){var parent=appletElem.parentNode;while(parent!=null){if((\" \"+parent.className+\" \").indexOf(\" \"+scaleContainerClass+\" \")>-1){container=parent;break}else{parent=parent.parentNode}}}var myWidth=0,myHeight=0,windowWidth=0,border=0,borderRight=0,borderLeft=0,borderTop=0;if(container){myWidth=container.offsetWidth;myHeight=Math.max(autoHeight?container.offsetWidth:0,container.offsetHeight)}else{if(window.innerWidth&&document.documentElement.clientWidth){myWidth=Math.min(window.innerWidth,document.documentElement.clientWidth);myHeight=Math.min(window.innerHeight,document.documentElement.clientHeight);windowWidth=myWidth}else{myWidth=window.innerWidth;myHeight=window.innerHeight;windowWidth=window.innerWidth}if(appletElem){var rect=appletElem.getBoundingClientRect();if(rect.left>0){if(rect.left<=myWidth&&(noBorder===undefined||!noBorder)){if(document.dir===\"rtl\"){borderRight=myWidth-rect.width-rect.left;borderLeft=windowWidth<=480?10:30}else{borderLeft=rect.left;borderRight=windowWidth<=480?10:30}border=borderLeft+borderRight}}}if(appletElem&&typeof window.GGBT_wsf_view===\"object\"&&window.GGBT_wsf_view.isFullscreen()){var appletRect=appletElem.getBoundingClientRect();if(window.GGBT_wsf_view.getCloseBtnPosition()===\"closePositionRight\"){border=40;borderTop=0}else if(window.GGBT_wsf_view.getCloseBtnPosition()===\"closePositionTop\"){border=0;borderTop=40}}}if(appletElem){if((allowUpscale===undefined||!allowUpscale)&&appletWidth>0&&appletWidth+border<myWidth){myWidth=appletWidth}else{myWidth-=border}if(typeof window.GGBT_wsf_view===\"object\"&&window.GGBT_wsf_view.isFullscreen()&&(allowUpscale===undefined||!allowUpscale)){myHeight-=borderTop}}return{width:myWidth,height:myHeight}}function calcScale(parameters,appletElem,allowUpscale,showPlayButton,scaleContainerClass){if(parameters.isScreenshoGenerator){return 1}var ignoreHeight=showPlayButton!==undefined&&showPlayButton;var noScaleMargin=parameters.noScaleMargin!=undefined&&parameters.noScaleMargin;var valBoolean=function(value){return value&&value!==\"false\"};var autoHeight=valBoolean(parameters.autoHeight);var windowSize=getWidthHeight(appletElem,parameters.width,allowUpscale,autoHeight,ignoreHeight&&window.GGBT_wsf_view||noScaleMargin,scaleContainerClass);var windowWidth=parseInt(windowSize.width);var appletWidth=parameters.width;var appletHeight=parameters.height;if(appletWidth===undefined){var article=appletElem.querySelector(\".appletParameters\");if(article){appletWidth=article.offsetWidth;appletHeight=article.offsetHeight}}var xscale=windowWidth/appletWidth;var yscale=ignoreHeight?1:windowSize.height/appletHeight;if(allowUpscale!==undefined&&!allowUpscale){xscale=Math.min(1,xscale);yscale=Math.min(1,yscale)}return Math.min(xscale,yscale)}function getScale(parameters,appletElem,showPlayButton){var scale=1,autoScale,allowUpscale=false;if(parameters.hasOwnProperty(\"allowUpscale\")){allowUpscale=parameters.allowUpscale}if(parameters.hasOwnProperty(\"scale\")){scale=parseFloat(parameters.scale);if(isNaN(scale)||scale===null||scale===0){scale=1}if(scale>1){allowUpscale=true}}if(appletElem&&typeof window.GGBT_wsf_view===\"object\"&&window.GGBT_wsf_view.isFullscreen()){allowUpscale=true}if(!(parameters.hasOwnProperty(\"disableAutoScale\")&&parameters.disableAutoScale)){autoScale=calcScale(parameters,appletElem,allowUpscale,showPlayButton,parameters.scaleContainerClass)}else{return scale}if(allowUpscale&&(!parameters.hasOwnProperty(\"scale\")||scale===1)){return autoScale}else{return Math.min(scale,autoScale)}}function positionCenter(appletElem){var windowWidth=Math.min(window.innerWidth,document.documentElement.clientWidth);var windowHeight=Math.min(window.innerHeight,document.documentElement.clientHeight);var appletRect=appletElem.getBoundingClientRect();var calcHorizontalBorder=(windowWidth-appletRect.width)/2;var calcVerticalBorder=(windowHeight-appletRect.height)/2;if(calcVerticalBorder<0){calcVerticalBorder=0}appletElem.style.position=\"relative\";if(window.GGBT_wsf_view.getCloseBtnPosition()===\"closePositionRight\"){if(calcHorizontalBorder<40){appletElem.style.left=\"40px\"}else{appletElem.style.left=calcHorizontalBorder+\"px\"}appletElem.style.top=calcVerticalBorder+\"px\"}else if(window.GGBT_wsf_view.getCloseBtnPosition()===\"closePositionTop\"){if(calcVerticalBorder<40){appletElem.style.top=\"40px\"}else{appletElem.style.top=calcVerticalBorder+\"px\"}appletElem.style.left=calcHorizontalBorder+\"px\"}}function responsiveResize(appletElem,parameters){var article=appletElem.querySelector(\".appletParameters\");if(article){if(typeof window.GGBT_wsf_view===\"object\"&&window.GGBT_wsf_view.isFullscreen()){if(parameters.id!==article.getAttribute(\"data-param-id\")){return}window.GGBT_wsf_view.setCloseBtnPosition(appletElem)}if(article.parentElement&&/fullscreen/.test(article.parentElement.className)){return}var scale=getScale(parameters,appletElem);if(isFlexibleWorksheetEditor()){article.setAttribute(\"data-param-scale\",scale)}var scaleElem=null;for(var i=0;i<appletElem.childNodes.length;i++){if(appletElem.childNodes[i].className!==undefined&&appletElem.childNodes[i].className.match(/^applet_scaler/)){scaleElem=appletElem.childNodes[i];break}}if(scaleElem!==null&&scaleElem.querySelector(\".noscale\")!==null){return}var appName=parameters.id!==undefined?parameters.id:\"ggbApplet\";var app=window[appName];if((app==null||!app.recalculateEnvironments)&&scaleElem!==null&&!scaleElem.className.match(/fullscreen/)){scaleElem.parentNode.style.transform=\"\";if(!isNaN(scale)&&scale!==1){scaleElem.parentNode.style.width=parameters.width*scale+\"px\";scaleElem.parentNode.style.height=parameters.height*scale+\"px\";scaleElement(scaleElem,scale)}else{scaleElement(scaleElem,1);scaleElem.parentNode.style.width=parameters.width+\"px\";scaleElem.parentNode.style.height=parameters.height+\"px\"}}if(typeof window.GGBT_wsf_view===\"object\"&&window.GGBT_wsf_view.isFullscreen()){positionCenter(appletElem)}if(window.GGBT_wsf_view&&!window.GGBT_wsf_view.isFullscreen()){window.GGBT_wsf_general.adjustContentToResize($(article).parents(\".content-added-content\"))}}}return{responsiveResize:responsiveResize,isFlexibleWorksheetEditor:isFlexibleWorksheetEditor,positionCenter:positionCenter,getScale:getScale,scaleElement:scaleElement}}();if(typeof define===\"function\"&&define.amd){define([],(function(){return GGBApplet}))}GGBAppletUtils.makeModule=function(name,permutation){function webModule(){var I=\"bootstrap\",J=\"begin\",K=\"gwt.codesvr.\"+name+\"=\",L=\"gwt.codesvr=\",M=name,N=\"startup\",O=\"DUMMY\",P=0,Q=1,R=\"iframe\",S=\"position:absolute; width:0; height:0; border:none; left: -1000px;\",T=\" top: -1000px;\",U=\"CSS1Compat\",V=\"<!doctype html>\",W=\"\",X=\"<html><head></head><body></body></html>\",Y=\"undefined\",Z=\"readystatechange\",$=10,_=\"Chrome\",ab='eval(\"',bb='\");',cb=\"script\",db=\"javascript\",eb=\"moduleStartup\",fb=\"moduleRequested\",gb=\"Failed to load \",hb=\"head\",ib=\"meta\",jb=\"name\",kb=name+\"::\",lb=\"::\",mb=\"gwt:property\",nb=\"content\",ob=\"=\",pb=\"gwt:onPropertyErrorFn\",qb='Bad handler \"',rb='\" for \"gwt:onPropertyErrorFn\"',sb=\"gwt:onLoadErrorFn\",tb='\" for \"gwt:onLoadErrorFn\"',ub=\"#\",vb=\"?\",wb=\"/\",xb=\"img\",yb=\"clear.cache.gif\",zb=\"baseUrl\",Ab=name+\".nocache.js\",Bb=\"base\",Cb=\"//\",Db=\"user.agent\",Eb=\"webkit\",Fb=\"safari\",Gb=\"msie\",Hb=11,Ib=\"ie10\",Jb=9,Kb=\"ie9\",Lb=8,Mb=\"ie8\",Nb=\"gecko\",Ob=\"gecko1_8\",Pb=2,Qb=3,Rb=4,Sb=\"selectingPermutation\",Tb=\"\"+name+\".devmode.js\",Ub=permutation,Vb=\":1\",Wb=\":2\",Xb=\":3\",Yb=\":\",Zb=\".cache.js\",$b=\"loadExternalRefs\",_b=\"end\";var o=window;var p=document;r(I,J);function q(){var a=o.location.search;return a.indexOf(K)!=-1||a.indexOf(L)!=-1}function r(a,b){}webModule.__sendStats=r;webModule.__moduleName=M;webModule.__errFn=null;webModule.__moduleBase=O;webModule.__softPermutationId=P;webModule.__computePropValue=null;webModule.__getPropMap=null;webModule.__installRunAsyncCode=function(){};webModule.__gwtStartLoadingFragment=function(){return null};webModule.__gwt_isKnownPropertyValue=function(){return false};webModule.__gwt_getMetaProperty=function(){return null};var s=null;var t=o.__gwt_activeModules=o.__gwt_activeModules||{};t[M]={moduleName:M};webModule.__moduleStartupDone=function(e){var f=t[M].bindings;t[M].bindings=function(){var a=f?f():{};var b=e[webModule.__softPermutationId];for(var c=P;c<b.length;c++){var d=b[c];a[d[P]]=d[Q]}return a}};var u;function v(){w();return u}function w(){if(u){return}var a=p.createElement(R);a.id=M;a.style.cssText=S+T;a.tabIndex=-1;p.body.appendChild(a);u=a.contentWindow.document;u.open();var b=document.compatMode==U?V:W;u.write(b+X);u.close()}function A(k){function l(a){function b(){if(typeof p.readyState==Y){return typeof p.body!=Y&&p.body!=null}return/loaded|complete/.test(p.readyState)}var c=b();if(c){a();return}function d(){if(!c){if(!b()){return}c=true;a();if(p.removeEventListener){p.removeEventListener(Z,d,false)}if(e){clearInterval(e)}}}if(p.addEventListener){p.addEventListener(Z,d,false)}var e=setInterval((function(){d()}),$)}function m(c){function d(a,b){a.removeChild(b)}var e=v();var f=e.body;var g;if(navigator.userAgent.indexOf(_)>-1&&window.JSON){var h=e.createDocumentFragment();h.appendChild(e.createTextNode(ab));for(var i=P;i<c.length;i++){var j=window.JSON.stringify(c[i]);h.appendChild(e.createTextNode(j.substring(Q,j.length-Q)))}h.appendChild(e.createTextNode(bb));g=e.createElement(cb);g.language=db;g.appendChild(h);f.appendChild(g);d(f,g)}else{for(var i=P;i<c.length;i++){g=e.createElement(cb);g.language=db;g.text=c[i];f.appendChild(g);d(f,g)}}}webModule.onScriptDownloaded=function(a){l((function(){m(a)}))};var n=p.createElement(cb);n.src=k;if(webModule.__errFn){n.onerror=function(){webModule.__errFn(M,new Error(gb+code))}}p.getElementsByTagName(hb)[P].appendChild(n)}webModule.__startLoadingFragment=function(a){return D(a)};webModule.__installRunAsyncCode=function(a){var b=v();var c=b.body;var d=b.createElement(cb);d.language=db;d.text=a;c.appendChild(d);c.removeChild(d)};function B(){var c={};var d;var e;var f=p.getElementsByTagName(ib);for(var g=P,h=f.length;g<h;++g){var i=f[g],j=i.getAttribute(jb),k;if(j){j=j.replace(kb,W);if(j.indexOf(lb)>=P){continue}if(j==mb){k=i.getAttribute(nb);if(k){var l,m=k.indexOf(ob);if(m>=P){j=k.substring(P,m);l=k.substring(m+Q)}else{j=k;l=W}c[j]=l}}else if(j==pb){k=i.getAttribute(nb);if(k){try{d=eval(k)}catch(a){alert(qb+k+rb)}}}else if(j==sb){k=i.getAttribute(nb);if(k){try{e=eval(k)}catch(a){alert(qb+k+tb)}}}}}__gwt_getMetaProperty=function(a){var b=c[a];return b==null?null:b};s=d;webModule.__errFn=e}function C(){function e(a){var b=a.lastIndexOf(ub);if(b==-1){b=a.length}var c=a.indexOf(vb);if(c==-1){c=a.length}var d=a.lastIndexOf(wb,Math.min(c,b));return d>=P?a.substring(P,d+Q):W}function f(a){if(a.match(/^\\w+:\\/\\//)){}else{var b=p.createElement(xb);b.src=a+yb;a=e(b.src)}return a}function g(){var a=__gwt_getMetaProperty(zb);if(a!=null){return a}return W}function h(){var a=p.getElementsByTagName(cb);for(var b=P;b<a.length;++b){if(a[b].src.indexOf(Ab)!=-1){return e(a[b].src)}}return W}function i(){var a=p.getElementsByTagName(Bb);if(a.length>P){return a[a.length-Q].href}return W}function j(){var a=p.location;return a.href==a.protocol+Cb+a.host+a.pathname+a.search+a.hash}var k=g();if(k==W){k=h()}if(k==W){k=i()}if(k==W&&j()){k=e(p.location.href)}k=f(k);return k}function D(a){if(a.match(/^\\//)){return a}if(a.match(/^[a-zA-Z]+:\\/\\//)){return a}return webModule.__moduleBase+a}function F(){var f=[];var g=P;function h(a,b){var c=f;for(var d=P,e=a.length-Q;d<e;++d){c=c[a[d]]||(c[a[d]]=[])}c[a[e]]=b}var i=[];var j=[];function k(a){var b=j[a](),c=i[a];if(b in c){return b}var d=[];for(var e in c){d[c[e]]=e}if(s){s(a,d,b)}throw null}j[Db]=function(){var a=navigator.userAgent.toLowerCase();var b=p.documentMode;if(function(){return a.indexOf(Eb)!=-1}())return Fb;if(function(){return a.indexOf(Gb)!=-1&&(b>=$&&b<Hb)}())return Ib;if(function(){return a.indexOf(Gb)!=-1&&(b>=Jb&&b<Hb)}())return Kb;if(function(){return a.indexOf(Gb)!=-1&&(b>=Lb&&b<Hb)}())return Mb;if(function(){return a.indexOf(Nb)!=-1||b>=Hb}())return Ob;return Fb};i[Db]={gecko1_8:P,ie10:Q,ie8:Pb,ie9:Qb,safari:Rb};__gwt_isKnownPropertyValue=function(a,b){return b in i[a]};webModule.__getPropMap=function(){var a={};for(var b in i){if(i.hasOwnProperty(b)){a[b]=k(b)}}return a};webModule.__computePropValue=k;o.__gwt_activeModules[M].bindings=webModule.__getPropMap;if(q()){return D(Tb)}var l;try{h([Ob],Ub);h([Ib],Ub+Vb);h([Kb],Ub+Wb);h([Fb],Ub+Xb);l=f[k(Db)];var m=l.indexOf(Yb);if(m!=-1){g=parseInt(l.substring(m+Q),$);l=l.substring(P,m)}}catch(a){}webModule.__softPermutationId=g;return D(l+Zb)}function G(){if(!o.__gwt_stylesLoaded){o.__gwt_stylesLoaded={}}}B();webModule.__moduleBase=\"https://www.geogebra.org/apps/5.0.651.0/\"+name+\"/\";t[M].moduleBase=webModule.__moduleBase;var H=F();G();A(H);return true}return webModule};if(typeof window.web3d!==\"function\"){web3d=GGBAppletUtils.makeModule(\"web3d\",\"1BE8C5C4223F144A64B79037A3311105\")}if(typeof window.webSimple!==\"function\"){webSimple=GGBAppletUtils.makeModule(\"webSimple\",\"4A0F964ECD13E2ABECA14C252CEB70CB\")}","/*\r\n  html2canvas 0.5.0-beta3 <http://html2canvas.hertzen.com>\r\n  Copyright (c) 2016 Niklas von Hertzen\r\n\r\n  Released under  License\r\n*/\r\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var n;\"undefined\"!=typeof window?n=window:\"undefined\"!=typeof global?n=global:\"undefined\"!=typeof self&&(n=self),n.html2canvas=e()}}(function(){var e;return function n(e,f,o){function d(t,l){if(!f[t]){if(!e[t]){var s=\"function\"==typeof require&&require;if(!l&&s)return s(t,!0);if(i)return i(t,!0);var u=new Error(\"Cannot find module '\"+t+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var a=f[t]={exports:{}};e[t][0].call(a.exports,function(n){var f=e[t][1][n];return d(f?f:n)},a,a.exports,n,e,f,o)}return f[t].exports}for(var i=\"function\"==typeof require&&require,t=0;t<o.length;t++)d(o[t]);return d}({1:[function(n,f,o){(function(n){!function(d){function i(e){throw RangeError(I[e])}function t(e,n){for(var f=e.length;f--;)e[f]=n(e[f]);return e}function l(e,n){return t(e.split(H),n).join(\".\")}function s(e){for(var n,f,o=[],d=0,i=e.length;i>d;)n=e.charCodeAt(d++),n>=55296&&56319>=n&&i>d?(f=e.charCodeAt(d++),56320==(64512&f)?o.push(((1023&n)<<10)+(1023&f)+65536):(o.push(n),d--)):o.push(n);return o}function u(e){return t(e,function(e){var n=\"\";return e>65535&&(e-=65536,n+=L(e>>>10&1023|55296),e=56320|1023&e),n+=L(e)}).join(\"\")}function a(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function p(e,n){return e+22+75*(26>e)-((0!=n)<<5)}function c(e,n,f){var o=0;for(e=f?K(e/B):e>>1,e+=K(e/n);e>J*z>>1;o+=k)e=K(e/J);return K(o+(J+1)*e/(e+A))}function y(e){var n,f,o,d,t,l,s,p,y,m,r=[],v=e.length,w=0,b=D,g=C;for(f=e.lastIndexOf(E),0>f&&(f=0),o=0;f>o;++o)e.charCodeAt(o)>=128&&i(\"not-basic\"),r.push(e.charCodeAt(o));for(d=f>0?f+1:0;v>d;){for(t=w,l=1,s=k;d>=v&&i(\"invalid-input\"),p=a(e.charCodeAt(d++)),(p>=k||p>K((j-w)/l))&&i(\"overflow\"),w+=p*l,y=g>=s?q:s>=g+z?z:s-g,!(y>p);s+=k)m=k-y,l>K(j/m)&&i(\"overflow\"),l*=m;n=r.length+1,g=c(w-t,n,0==t),K(w/n)>j-b&&i(\"overflow\"),b+=K(w/n),w%=n,r.splice(w++,0,b)}return u(r)}function m(e){var n,f,o,d,t,l,u,a,y,m,r,v,w,b,g,h=[];for(e=s(e),v=e.length,n=D,f=0,t=C,l=0;v>l;++l)r=e[l],128>r&&h.push(L(r));for(o=d=h.length,d&&h.push(E);v>o;){for(u=j,l=0;v>l;++l)r=e[l],r>=n&&u>r&&(u=r);for(w=o+1,u-n>K((j-f)/w)&&i(\"overflow\"),f+=(u-n)*w,n=u,l=0;v>l;++l)if(r=e[l],n>r&&++f>j&&i(\"overflow\"),r==n){for(a=f,y=k;m=t>=y?q:y>=t+z?z:y-t,!(m>a);y+=k)g=a-m,b=k-m,h.push(L(p(m+g%b,0))),a=K(g/b);h.push(L(p(a,0))),t=c(f,w,o==d),f=0,++o}++f,++n}return h.join(\"\")}function r(e){return l(e,function(e){return F.test(e)?y(e.slice(4).toLowerCase()):e})}function v(e){return l(e,function(e){return G.test(e)?\"xn--\"+m(e):e})}var w=\"object\"==typeof o&&o,b=\"object\"==typeof f&&f&&f.exports==w&&f,g=\"object\"==typeof n&&n;(g.global===g||g.window===g)&&(d=g);var h,x,j=2147483647,k=36,q=1,z=26,A=38,B=700,C=72,D=128,E=\"-\",F=/^xn--/,G=/[^ -~]/,H=/\\x2E|\\u3002|\\uFF0E|\\uFF61/g,I={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},J=k-q,K=Math.floor,L=String.fromCharCode;if(h={version:\"1.2.4\",ucs2:{decode:s,encode:u},decode:y,encode:m,toASCII:v,toUnicode:r},\"function\"==typeof e&&\"object\"==typeof e.amd&&e.amd)e(\"punycode\",function(){return h});else if(w&&!w.nodeType)if(b)b.exports=h;else for(x in h)h.hasOwnProperty(x)&&(w[x]=h[x]);else d.punycode=h}(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],2:[function(e,n){function f(e,n,f){!e.defaultView||n===e.defaultView.pageXOffset&&f===e.defaultView.pageYOffset||e.defaultView.scrollTo(n,f)}function o(e,n){try{n&&(n.width=e.width,n.height=e.height,n.getContext(\"2d\").putImageData(e.getContext(\"2d\").getImageData(0,0,e.width,e.height),0,0))}catch(f){t(\"Unable to copy canvas content from\",e,f)}}function d(e,n){for(var f=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;)(n===!0||1!==i.nodeType||\"SCRIPT\"!==i.nodeName)&&f.appendChild(d(i,n)),i=i.nextSibling;return 1===e.nodeType&&(f._scrollTop=e.scrollTop,f._scrollLeft=e.scrollLeft,\"CANVAS\"===e.nodeName?o(e,f):(\"TEXTAREA\"===e.nodeName||\"SELECT\"===e.nodeName)&&(f.value=e.value)),f}function i(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var n=e.firstChild;n;)i(n),n=n.nextSibling}}var t=e(\"./log\");n.exports=function(e,n,o,t,l,s,u){var a=d(e.documentElement,l.javascriptEnabled),p=n.createElement(\"iframe\");return p.className=\"html2canvas-container\",p.style.visibility=\"hidden\",p.style.position=\"fixed\",p.style.left=\"-10000px\",p.style.top=\"0px\",p.style.border=\"0\",p.width=o,p.height=t,p.scrolling=\"no\",n.body.appendChild(p),new Promise(function(n){var o=p.contentWindow.document;p.contentWindow.onload=p.onload=function(){var e=setInterval(function(){o.body.childNodes.length>0&&(i(o.documentElement),clearInterval(e),\"view\"===l.type&&(p.contentWindow.scrollTo(s,u),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||p.contentWindow.scrollY===u&&p.contentWindow.scrollX===s||(o.documentElement.style.top=-u+\"px\",o.documentElement.style.left=-s+\"px\",o.documentElement.style.position=\"absolute\")),n(p))},50)},o.open(),o.write(\"<!DOCTYPE html><html></html>\"),f(e,s,u),o.replaceChild(o.adoptNode(a),o.documentElement),o.close()})}},{\"./log\":13}],3:[function(e,n){function f(e){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}f.prototype.darken=function(e){var n=1-e;return new f([Math.round(this.r*n),Math.round(this.g*n),Math.round(this.b*n),this.a])},f.prototype.isTransparent=function(){return 0===this.a},f.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},f.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var o=/^#([a-f0-9]{3})$/i;f.prototype.hex3=function(e){var n=null;return null!==(n=e.match(o))&&(this.r=parseInt(n[1][0]+n[1][0],16),this.g=parseInt(n[1][1]+n[1][1],16),this.b=parseInt(n[1][2]+n[1][2],16)),null!==n};var d=/^#([a-f0-9]{6})$/i;f.prototype.hex6=function(e){var n=null;return null!==(n=e.match(d))&&(this.r=parseInt(n[1].substring(0,2),16),this.g=parseInt(n[1].substring(2,4),16),this.b=parseInt(n[1].substring(4,6),16)),null!==n};var i=/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;f.prototype.rgb=function(e){var n=null;return null!==(n=e.match(i))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3])),null!==n};var t=/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d?\\.?\\d+)\\s*\\)$/;f.prototype.rgba=function(e){var n=null;return null!==(n=e.match(t))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3]),this.a=Number(n[4])),null!==n},f.prototype.toString=function(){return null!==this.a&&1!==this.a?\"rgba(\"+[this.r,this.g,this.b,this.a].join(\",\")+\")\":\"rgb(\"+[this.r,this.g,this.b].join(\",\")+\")\"},f.prototype.namedColor=function(e){e=e.toLowerCase();var n=l[e];if(n)this.r=n[0],this.g=n[1],this.b=n[2];else if(\"transparent\"===e)return this.r=this.g=this.b=this.a=0,!0;return!!n},f.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};n.exports=f},{}],4:[function(n,f){function o(e,n){var f=j++;if(n=n||{},n.logging&&(v.options.logging=!0,v.options.start=Date.now()),n.async=\"undefined\"==typeof n.async?!0:n.async,n.allowTaint=\"undefined\"==typeof n.allowTaint?!1:n.allowTaint,n.removeContainer=\"undefined\"==typeof n.removeContainer?!0:n.removeContainer,n.javascriptEnabled=\"undefined\"==typeof n.javascriptEnabled?!1:n.javascriptEnabled,n.imageTimeout=\"undefined\"==typeof n.imageTimeout?1e4:n.imageTimeout,n.renderer=\"function\"==typeof n.renderer?n.renderer:c,n.strict=!!n.strict,\"string\"==typeof e){if(\"string\"!=typeof n.proxy)return Promise.reject(\"Proxy must be used when rendering url\");var o=null!=n.width?n.width:window.innerWidth,t=null!=n.height?n.height:window.innerHeight;return g(a(e),n.proxy,document,o,t,n).then(function(e){return i(e.contentWindow.document.documentElement,e,n,o,t)})}var l=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return l.setAttribute(x+f,f),d(l.ownerDocument,n,l.ownerDocument.defaultView.innerWidth,l.ownerDocument.defaultView.innerHeight,f).then(function(e){return\"function\"==typeof n.onrendered&&(v(\"options.onrendered is deprecated, html2canvas returns a Promise containing the canvas\"),n.onrendered(e)),e})}function d(e,n,f,o,d){return b(e,e,f,o,n,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(t){v(\"Document cloned\");var l=x+d,s=\"[\"+l+\"='\"+d+\"']\";e.querySelector(s).removeAttribute(l);var u=t.contentWindow,a=u.document.querySelector(s),p=Promise.resolve(\"function\"==typeof n.onclone?n.onclone(u.document):!0);return p.then(function(){return i(a,t,n,f,o)})})}function i(e,n,f,o,d){var i=n.contentWindow,a=new p(i.document),c=new y(f,a),r=h(e),w=\"view\"===f.type?o:s(i.document),b=\"view\"===f.type?d:u(i.document),g=new f.renderer(w,b,c,f,document),x=new m(e,g,a,c,f);return x.ready.then(function(){v(\"Finished rendering\");var o;return o=\"view\"===f.type?l(g.canvas,{width:g.canvas.width,height:g.canvas.height,top:0,left:0,x:0,y:0}):e===i.document.body||e===i.document.documentElement||null!=f.canvas?g.canvas:l(g.canvas,{width:null!=f.width?f.width:r.width,height:null!=f.height?f.height:r.height,top:r.top,left:r.left,x:0,y:0}),t(n,f),o})}function t(e,n){n.removeContainer&&(e.parentNode.removeChild(e),v(\"Cleaned up container\"))}function l(e,n){var f=document.createElement(\"canvas\"),o=Math.min(e.width-1,Math.max(0,n.left)),d=Math.min(e.width,Math.max(1,n.left+n.width)),i=Math.min(e.height-1,Math.max(0,n.top)),t=Math.min(e.height,Math.max(1,n.top+n.height));f.width=n.width,f.height=n.height;var l=d-o,s=t-i;return v(\"Cropping canvas at:\",\"left:\",n.left,\"top:\",n.top,\"width:\",l,\"height:\",s),v(\"Resulting crop with width\",n.width,\"and height\",n.height,\"with x\",o,\"and y\",i),f.getContext(\"2d\").drawImage(e,o,i,l,s,n.x,n.y,l,s),f}function s(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function u(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function a(e){var n=document.createElement(\"a\");return n.href=e,n.href=n.href,n}var p=n(\"./support\"),c=n(\"./renderers/canvas\"),y=n(\"./imageloader\"),m=n(\"./nodeparser\"),r=n(\"./nodecontainer\"),v=n(\"./log\"),w=n(\"./utils\"),b=n(\"./clone\"),g=n(\"./proxy\").loadUrlDocument,h=w.getBounds,x=\"data-html2canvas-node\",j=0;o.CanvasRenderer=c,o.NodeContainer=r,o.log=v,o.utils=w;var k=\"undefined\"==typeof document||\"function\"!=typeof Object.create||\"function\"!=typeof document.createElement(\"canvas\").getContext?function(){return Promise.reject(\"No canvas support\")}:o;f.exports=k,\"function\"==typeof e&&e.amd&&e(\"html2canvas\",[],function(){return k})},{\"./clone\":2,\"./imageloader\":11,\"./log\":13,\"./nodecontainer\":14,\"./nodeparser\":15,\"./proxy\":16,\"./renderers/canvas\":20,\"./support\":22,\"./utils\":26}],5:[function(e,n){function f(e){if(this.src=e,o(\"DummyImageContainer for\",e),!this.promise||!this.image){o(\"Initiating DummyImageContainer\"),f.prototype.image=new Image;var n=this.image;f.prototype.promise=new Promise(function(e,f){n.onload=e,n.onerror=f,n.src=d(),n.complete===!0&&e(n)})}}var o=e(\"./log\"),d=e(\"./utils\").smallImage;n.exports=f},{\"./log\":13,\"./utils\":26}],6:[function(e,n){function f(e,n){var f,d,i=document.createElement(\"div\"),t=document.createElement(\"img\"),l=document.createElement(\"span\"),s=\"Hidden Text\";i.style.visibility=\"hidden\",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin=0,i.style.padding=0,document.body.appendChild(i),t.src=o(),t.width=1,t.height=1,t.style.margin=0,t.style.padding=0,t.style.verticalAlign=\"baseline\",l.style.fontFamily=e,l.style.fontSize=n,l.style.margin=0,l.style.padding=0,l.appendChild(document.createTextNode(s)),i.appendChild(l),i.appendChild(t),f=t.offsetTop-l.offsetTop+1,i.removeChild(l),i.appendChild(document.createTextNode(s)),i.style.lineHeight=\"normal\",t.style.verticalAlign=\"super\",d=t.offsetTop-i.offsetTop+1,document.body.removeChild(i),this.baseline=f,this.lineWidth=1,this.middle=d}var o=e(\"./utils\").smallImage;n.exports=f},{\"./utils\":26}],7:[function(e,n){function f(){this.data={}}var o=e(\"./font\");f.prototype.getMetrics=function(e,n){return void 0===this.data[e+\"-\"+n]&&(this.data[e+\"-\"+n]=new o(e,n)),this.data[e+\"-\"+n]},n.exports=f},{\"./font\":6}],8:[function(e,n){function f(n,f,o){this.image=null,this.src=n;var i=this,t=d(n);this.promise=(f?new Promise(function(e){\"about:blank\"===n.contentWindow.document.URL||null==n.contentWindow.document.documentElement?n.contentWindow.onload=n.onload=function(){e(n)}:e(n)}):this.proxyLoad(o.proxy,t,o)).then(function(n){var f=e(\"./core\");return f(n.contentWindow.document.documentElement,{type:\"view\",width:n.width,height:n.height,proxy:o.proxy,javascriptEnabled:o.javascriptEnabled,removeContainer:o.removeContainer,allowTaint:o.allowTaint,imageTimeout:o.imageTimeout/2})}).then(function(e){return i.image=e})}var o=e(\"./utils\"),d=o.getBounds,i=e(\"./proxy\").loadUrlDocument;f.prototype.proxyLoad=function(e,n,f){var o=this.src;return i(o.src,e,o.ownerDocument,n.width,n.height,f)},n.exports=f},{\"./core\":4,\"./proxy\":16,\"./utils\":26}],9:[function(e,n){function f(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}f.TYPES={LINEAR:1,RADIAL:2},f.REGEXP_COLORSTOP=/^\\s*(rgba?\\(\\s*\\d{1,3},\\s*\\d{1,3},\\s*\\d{1,3}(?:,\\s*[0-9\\.]+)?\\s*\\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\\s+(\\d{1,3}(?:\\.\\d+)?)(%|px)?)?(?:\\s|$)/i,n.exports=f},{}],10:[function(e,n){function f(e,n){this.src=e,this.image=new Image;var f=this;this.tainted=null,this.promise=new Promise(function(o,d){f.image.onload=o,f.image.onerror=d,n&&(f.image.crossOrigin=\"anonymous\"),f.image.src=e,f.image.complete===!0&&o(f.image)})}n.exports=f},{}],11:[function(e,n){function f(e,n){this.link=null,this.options=e,this.support=n,this.origin=this.getOrigin(window.location.href)}var o=e(\"./log\"),d=e(\"./imagecontainer\"),i=e(\"./dummyimagecontainer\"),t=e(\"./proxyimagecontainer\"),l=e(\"./framecontainer\"),s=e(\"./svgcontainer\"),u=e(\"./svgnodecontainer\"),a=e(\"./lineargradientcontainer\"),p=e(\"./webkitgradientcontainer\"),c=e(\"./utils\").bind;f.prototype.findImages=function(e){var n=[];return e.reduce(function(e,n){switch(n.node.nodeName){case\"IMG\":return e.concat([{args:[n.node.src],method:\"url\"}]);case\"svg\":case\"IFRAME\":return e.concat([{args:[n.node],method:n.node.nodeName}])}return e},[]).forEach(this.addImage(n,this.loadImage),this),n},f.prototype.findBackgroundImage=function(e,n){return n.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},f.prototype.addImage=function(e,n){return function(f){f.args.forEach(function(d){this.imageExists(e,d)||(e.splice(0,0,n.call(this,f)),o(\"Added image #\"+e.length,\"string\"==typeof d?d.substring(0,100):d))},this)}},f.prototype.hasImageBackground=function(e){return\"none\"!==e.method},f.prototype.loadImage=function(e){if(\"url\"===e.method){var n=e.args[0];return!this.isSVG(n)||this.support.svg||this.options.allowTaint?n.match(/data:image\\/.*;base64,/i)?new d(n.replace(/url\\(['\"]{0,}|['\"]{0,}\\)$/gi,\"\"),!1):this.isSameOrigin(n)||this.options.allowTaint===!0||this.isSVG(n)?new d(n,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new d(n,!0):this.options.proxy?new t(n,this.options.proxy):new i(n):new s(n)}return\"linear-gradient\"===e.method?new a(e):\"gradient\"===e.method?new p(e):\"svg\"===e.method?new u(e.args[0],this.support.svg):\"IFRAME\"===e.method?new l(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new i(e)},f.prototype.isSVG=function(e){return\"svg\"===e.substring(e.length-3).toLowerCase()||s.prototype.isInline(e)},f.prototype.imageExists=function(e,n){return e.some(function(e){return e.src===n})},f.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},f.prototype.getOrigin=function(e){var n=this.link||(this.link=document.createElement(\"a\"));return n.href=e,n.href=n.href,n.protocol+n.hostname+n.port},f.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout)[\"catch\"](function(){var n=new i(e.src);return n.promise.then(function(n){e.image=n})})},f.prototype.get=function(e){var n=null;return this.images.some(function(f){return(n=f).src===e})?n:null},f.prototype.fetch=function(e){return this.images=e.reduce(c(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,n){e.promise.then(function(){o(\"Succesfully loaded image #\"+(n+1),e)},function(f){o(\"Failed loading image #\"+(n+1),e,f)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),o(\"Finished searching images\"),this},f.prototype.timeout=function(e,n){var f,d=Promise.race([e.promise,new Promise(function(d,i){f=setTimeout(function(){o(\"Timed out loading image\",e),i(e)},n)})]).then(function(e){return clearTimeout(f),e});return d[\"catch\"](function(){clearTimeout(f)}),d},n.exports=f},{\"./dummyimagecontainer\":5,\"./framecontainer\":8,\"./imagecontainer\":10,\"./lineargradientcontainer\":12,\"./log\":13,\"./proxyimagecontainer\":17,\"./svgcontainer\":23,\"./svgnodecontainer\":24,\"./utils\":26,\"./webkitgradientcontainer\":27}],12:[function(e,n){function f(e){o.apply(this,arguments),this.type=o.TYPES.LINEAR;var n=f.REGEXP_DIRECTION.test(e.args[0])||!o.REGEXP_COLORSTOP.test(e.args[0]);n?e.args[0].split(/\\s+/).reverse().forEach(function(e,n){switch(e){case\"left\":this.x0=0,this.x1=1;break;case\"top\":this.y0=0,this.y1=1;break;case\"right\":this.x0=1,this.x1=0;break;case\"bottom\":this.y0=1,this.y1=0;break;case\"to\":var f=this.y0,o=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=o,this.y1=f;break;case\"center\":break;default:var d=.01*parseFloat(e,10);if(isNaN(d))break;0===n?(this.y0=d,this.y1=1-this.y0):(this.x0=d,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(n?1:0).map(function(e){var n=e.match(o.REGEXP_COLORSTOP),f=+n[2],i=0===f?\"%\":n[3];return{color:new d(n[1]),stop:\"%\"===i?f/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,n){null===e.stop&&this.colorStops.slice(n).some(function(f,o){return null!==f.stop?(e.stop=(f.stop-this.colorStops[n-1].stop)/(o+1)+this.colorStops[n-1].stop,!0):!1},this)},this)}var o=e(\"./gradientcontainer\"),d=e(\"./color\");f.prototype=Object.create(o.prototype),f.REGEXP_DIRECTION=/^\\s*(?:to|left|right|top|bottom|center|\\d{1,3}(?:\\.\\d+)?%?)(?:\\s|$)/i,n.exports=f},{\"./color\":3,\"./gradientcontainer\":9}],13:[function(e,n){var f=function(){f.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-f.options.start+\"ms\",\"html2canvas:\"].concat([].slice.call(arguments,0)))};f.options={logging:!1},n.exports=f},{}],14:[function(e,n){function f(e,n){this.node=e,this.parent=n,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function o(e){var n=e.options[e.selectedIndex||0];return n?n.text||\"\":\"\"}function d(e){if(e&&\"matrix\"===e[1])return e[2].split(\",\").map(function(e){return parseFloat(e.trim())});if(e&&\"matrix3d\"===e[1]){var n=e[2].split(\",\").map(function(e){return parseFloat(e.trim())});return[n[0],n[1],n[4],n[5],n[12],n[13]]}}function i(e){return-1!==e.toString().indexOf(\"%\")}function t(e){return e.replace(\"px\",\"\")}function l(e){return parseFloat(e)}var s=e(\"./color\"),u=e(\"./utils\"),a=u.getBounds,p=u.parseBackgrounds,c=u.offsetBounds;f.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},f.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat(\"opacity\"):this.opacity},f.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},f.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:\"none\"!==this.css(\"display\")&&\"hidden\"!==this.css(\"visibility\")&&!this.node.hasAttribute(\"data-html2canvas-ignore\")&&(\"INPUT\"!==this.node.nodeName||\"hidden\"!==this.node.getAttribute(\"type\"))},f.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?\":before\":\":after\"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},f.prototype.prefixedCss=function(e){var n=[\"webkit\",\"moz\",\"ms\",\"o\"],f=this.css(e);return void 0===f&&n.some(function(n){return f=this.css(n+e.substr(0,1).toUpperCase()+e.substr(1)),void 0!==f},this),void 0===f?null:f},f.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},f.prototype.cssInt=function(e){var n=parseInt(this.css(e),10);return isNaN(n)?0:n},f.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new s(this.css(e)))},f.prototype.cssFloat=function(e){var n=parseFloat(this.css(e));return isNaN(n)?0:n},f.prototype.fontWeight=function(){var e=this.css(\"fontWeight\");switch(parseInt(e,10)){case 401:e=\"bold\";break;case 400:e=\"normal\"}return e},f.prototype.parseClip=function(){var e=this.css(\"clip\").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},f.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=p(this.css(\"backgroundImage\")))},f.prototype.cssList=function(e,n){var f=(this.css(e)||\"\").split(\",\");return f=f[n||0]||f[0]||\"auto\",f=f.trim().split(\" \"),1===f.length&&(f=[f[0],i(f[0])?\"auto\":f[0]]),f},f.prototype.parseBackgroundSize=function(e,n,f){var o,d,t=this.cssList(\"backgroundSize\",f);if(i(t[0]))o=e.width*parseFloat(t[0])/100;else{if(/contain|cover/.test(t[0])){var l=e.width/e.height,s=n.width/n.height;return s>l^\"contain\"===t[0]?{width:e.height*s,height:e.height}:{width:e.width,height:e.width/s}}o=parseInt(t[0],10)}return d=\"auto\"===t[0]&&\"auto\"===t[1]?n.height:\"auto\"===t[1]?o/n.width*n.height:i(t[1])?e.height*parseFloat(t[1])/100:parseInt(t[1],10),\"auto\"===t[0]&&(o=d/n.height*n.width),{width:o,height:d}},f.prototype.parseBackgroundPosition=function(e,n,f,o){var d,t,l=this.cssList(\"backgroundPosition\",f);return d=i(l[0])?(e.width-(o||n).width)*(parseFloat(l[0])/100):parseInt(l[0],10),t=\"auto\"===l[1]?d/n.width*n.height:i(l[1])?(e.height-(o||n).height)*parseFloat(l[1])/100:parseInt(l[1],10),\"auto\"===l[0]&&(d=t/n.height*n.width),{left:d,top:t}},f.prototype.parseBackgroundRepeat=function(e){return this.cssList(\"backgroundRepeat\",e)[0]},f.prototype.parseTextShadows=function(){var e=this.css(\"textShadow\"),n=[];if(e&&\"none\"!==e)for(var f=e.match(this.TEXT_SHADOW_PROPERTY),o=0;f&&o<f.length;o++){var d=f[o].match(this.TEXT_SHADOW_VALUES);n.push({color:new s(d[0]),offsetX:d[1]?parseFloat(d[1].replace(\"px\",\"\")):0,offsetY:d[2]?parseFloat(d[2].replace(\"px\",\"\")):0,blur:d[3]?d[3].replace(\"px\",\"\"):0})}return n},f.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),n=this.prefixedCss(\"transformOrigin\").split(\" \").map(t).map(l);n[0]+=e.left,n[1]+=e.top,this.transformData={origin:n,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},f.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss(\"transform\"),n=e?d(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=n?n:[1,0,0,1,0,0]}return this.transformMatrix},f.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?c(this.node):a(this.node))},f.prototype.hasTransform=function(){return\"1,0,0,1,0,0\"!==this.parseTransformMatrix().join(\",\")||this.parent&&this.parent.hasTransform()},f.prototype.getValue=function(){var e=this.node.value||\"\";return\"SELECT\"===this.node.tagName?e=o(this.node):\"password\"===this.node.type&&(e=Array(e.length+1).join(\"\")),0===e.length?this.node.placeholder||\"\":e},f.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\\((.+)\\)/,f.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\\([^\\)]+\\)(\\s-?\\d+px){0,})/g,f.prototype.TEXT_SHADOW_VALUES=/(-?\\d+px)|(#.+)|(rgb\\(.+\\))|(rgba\\(.+\\))/g,f.prototype.CLIP=/^rect\\((\\d+)px,? (\\d+)px,? (\\d+)px,? (\\d+)px\\)$/,n.exports=f},{\"./color\":3,\"./utils\":26}],15:[function(e,n){function f(e,n,f,o,d){N(\"Starting NodeParser\"),this.renderer=n,this.options=d,this.range=null,this.support=f,this.renderQueue=[],this.stack=new U(!0,1,e.ownerDocument,null);var i=new P(e,null);if(d.background&&n.rectangle(0,0,n.width,n.height,new T(d.background)),e===e.ownerDocument.documentElement){var t=new P(i.color(\"backgroundColor\").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);n.rectangle(0,0,n.width,n.height,t.color(\"backgroundColor\"))}i.visibile=i.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=I([i].concat(this.getChildren(i)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new S,N(\"Fetched nodes, total:\",this.nodes.length),N(\"Calculate overflow clips\"),this.calculateOverflowClips(),N(\"Start fetching images\"),this.images=o.fetch(this.nodes.filter(A)),this.ready=this.images.ready.then(W(function(){return N(\"Images loaded, starting parsing\"),N(\"Creating stacking contexts\"),this.createStackingContexts(),N(\"Sorting stacking contexts\"),this.sortStackingContexts(this.stack),this.parse(this.stack),N(\"Render queue created with \"+this.renderQueue.length+\" items\"),new Promise(W(function(e){d.async?\"function\"==typeof d.async?d.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function o(e){return e.parent&&e.parent.clip.length}function d(e){return e.replace(/(\\-[a-z])/g,function(e){return e.toUpperCase().replace(\"-\",\"\")})}function i(){}function t(e,n,f,o){return e.map(function(d,i){if(d.width>0){var t=n.left,l=n.top,s=n.width,u=n.height-e[2].width;switch(i){case 0:u=e[0].width,d.args=a({c1:[t,l],c2:[t+s,l],c3:[t+s-e[1].width,l+u],c4:[t+e[3].width,l+u]},o[0],o[1],f.topLeftOuter,f.topLeftInner,f.topRightOuter,f.topRightInner);break;case 1:t=n.left+n.width-e[1].width,s=e[1].width,d.args=a({c1:[t+s,l],c2:[t+s,l+u+e[2].width],c3:[t,l+u],c4:[t,l+e[0].width]},o[1],o[2],f.topRightOuter,f.topRightInner,f.bottomRightOuter,f.bottomRightInner);break;case 2:l=l+n.height-e[2].width,u=e[2].width,d.args=a({c1:[t+s,l+u],c2:[t,l+u],c3:[t+e[3].width,l],c4:[t+s-e[3].width,l]},o[2],o[3],f.bottomRightOuter,f.bottomRightInner,f.bottomLeftOuter,f.bottomLeftInner);break;case 3:s=e[3].width,d.args=a({c1:[t,l+u+e[2].width],c2:[t,l],c3:[t+s,l+e[0].width],c4:[t+s,l+u]},o[3],o[0],f.bottomLeftOuter,f.bottomLeftInner,f.topLeftOuter,f.topLeftInner)}}return d})}function l(e,n,f,o){var d=4*((Math.sqrt(2)-1)/3),i=f*d,t=o*d,l=e+f,s=n+o;return{topLeft:u({x:e,y:s},{x:e,y:s-t},{x:l-i,y:n},{x:l,y:n}),topRight:u({x:e,y:n},{x:e+i,y:n},{x:l,y:s-t},{x:l,y:s}),bottomRight:u({x:l,y:n},{x:l,y:n+t},{x:e+i,y:s},{x:e,y:s}),bottomLeft:u({x:l,y:s},{x:l-i,y:s},{x:e,y:n+t},{x:e,y:n})}}function s(e,n,f){var o=e.left,d=e.top,i=e.width,t=e.height,s=n[0][0]<i/2?n[0][0]:i/2,u=n[0][1]<t/2?n[0][1]:t/2,a=n[1][0]<i/2?n[1][0]:i/2,p=n[1][1]<t/2?n[1][1]:t/2,c=n[2][0]<i/2?n[2][0]:i/2,y=n[2][1]<t/2?n[2][1]:t/2,m=n[3][0]<i/2?n[3][0]:i/2,r=n[3][1]<t/2?n[3][1]:t/2,v=i-a,w=t-y,b=i-c,g=t-r;return{topLeftOuter:l(o,d,s,u).topLeft.subdivide(.5),topLeftInner:l(o+f[3].width,d+f[0].width,Math.max(0,s-f[3].width),Math.max(0,u-f[0].width)).topLeft.subdivide(.5),topRightOuter:l(o+v,d,a,p).topRight.subdivide(.5),topRightInner:l(o+Math.min(v,i+f[3].width),d+f[0].width,v>i+f[3].width?0:a-f[3].width,p-f[0].width).topRight.subdivide(.5),bottomRightOuter:l(o+b,d+w,c,y).bottomRight.subdivide(.5),bottomRightInner:l(o+Math.min(b,i-f[3].width),d+Math.min(w,t+f[0].width),Math.max(0,c-f[1].width),y-f[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(o,d+g,m,r).bottomLeft.subdivide(.5),bottomLeftInner:l(o+f[3].width,d+g,Math.max(0,m-f[3].width),r-f[2].width).bottomLeft.subdivide(.5)}\r\n}function u(e,n,f,o){var d=function(e,n,f){return{x:e.x+(n.x-e.x)*f,y:e.y+(n.y-e.y)*f}};return{start:e,startControl:n,endControl:f,end:o,subdivide:function(i){var t=d(e,n,i),l=d(n,f,i),s=d(f,o,i),a=d(t,l,i),p=d(l,s,i),c=d(a,p,i);return[u(e,t,a,c),u(c,p,s,o)]},curveTo:function(e){e.push([\"bezierCurve\",n.x,n.y,f.x,f.y,o.x,o.y])},curveToReversed:function(o){o.push([\"bezierCurve\",f.x,f.y,n.x,n.y,e.x,e.y])}}}function a(e,n,f,o,d,i,t){var l=[];return n[0]>0||n[1]>0?(l.push([\"line\",o[1].start.x,o[1].start.y]),o[1].curveTo(l)):l.push([\"line\",e.c1[0],e.c1[1]]),f[0]>0||f[1]>0?(l.push([\"line\",i[0].start.x,i[0].start.y]),i[0].curveTo(l),l.push([\"line\",t[0].end.x,t[0].end.y]),t[0].curveToReversed(l)):(l.push([\"line\",e.c2[0],e.c2[1]]),l.push([\"line\",e.c3[0],e.c3[1]])),n[0]>0||n[1]>0?(l.push([\"line\",d[1].end.x,d[1].end.y]),d[1].curveToReversed(l)):l.push([\"line\",e.c4[0],e.c4[1]]),l}function p(e,n,f,o,d,i,t){n[0]>0||n[1]>0?(e.push([\"line\",o[0].start.x,o[0].start.y]),o[0].curveTo(e),o[1].curveTo(e)):e.push([\"line\",i,t]),(f[0]>0||f[1]>0)&&e.push([\"line\",d[0].start.x,d[0].start.y])}function c(e){return e.cssInt(\"zIndex\")<0}function y(e){return e.cssInt(\"zIndex\")>0}function m(e){return 0===e.cssInt(\"zIndex\")}function r(e){return-1!==[\"inline\",\"inline-block\",\"inline-table\"].indexOf(e.css(\"display\"))}function v(e){return e instanceof U}function w(e){return e.node.data.trim().length>0}function b(e){return/^(normal|none|0px)$/.test(e.parent.css(\"letterSpacing\"))}function g(e){return[\"TopLeft\",\"TopRight\",\"BottomRight\",\"BottomLeft\"].map(function(n){var f=e.css(\"border\"+n+\"Radius\"),o=f.split(\" \");return o.length<=1&&(o[1]=o[0]),o.map(F)})}function h(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function x(e){var n=e.css(\"position\"),f=-1!==[\"absolute\",\"relative\",\"fixed\"].indexOf(n)?e.css(\"zIndex\"):\"auto\";return\"auto\"!==f}function j(e){return\"static\"!==e.css(\"position\")}function k(e){return\"none\"!==e.css(\"float\")}function q(e){return-1!==[\"inline-block\",\"inline-table\"].indexOf(e.css(\"display\"))}function z(e){var n=this;return function(){return!e.apply(n,arguments)}}function A(e){return e.node.nodeType===Node.ELEMENT_NODE}function B(e){return e.isPseudoElement===!0}function C(e){return e.node.nodeType===Node.TEXT_NODE}function D(e){return function(n,f){return n.cssInt(\"zIndex\")+e.indexOf(n)/e.length-(f.cssInt(\"zIndex\")+e.indexOf(f)/e.length)}}function E(e){return e.getOpacity()<1}function F(e){return parseInt(e,10)}function G(e){return e.width}function H(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===[\"SCRIPT\",\"HEAD\",\"TITLE\",\"OBJECT\",\"BR\",\"OPTION\"].indexOf(e.node.nodeName)}function I(e){return[].concat.apply([],e)}function J(e){var n=e.substr(0,1);return n===e.substr(e.length-1)&&n.match(/'|\"/)?e.substr(1,e.length-2):e}function K(e){for(var n,f=[],o=0,d=!1;e.length;)L(e[o])===d?(n=e.splice(0,o),n.length&&f.push(O.ucs2.encode(n)),d=!d,o=0):o++,o>=e.length&&(n=e.splice(0,o),n.length&&f.push(O.ucs2.encode(n)));return f}function L(e){return-1!==[32,13,10,9,45].indexOf(e)}function M(e){return/[^\\u0000-\\u00ff]/.test(e)}var N=e(\"./log\"),O=e(\"punycode\"),P=e(\"./nodecontainer\"),Q=e(\"./textcontainer\"),R=e(\"./pseudoelementcontainer\"),S=e(\"./fontmetrics\"),T=e(\"./color\"),U=e(\"./stackingcontext\"),V=e(\"./utils\"),W=V.bind,X=V.getBounds,Y=V.parseBackgrounds,Z=V.offsetBounds;f.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(A(e)){B(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var n=\"hidden\"===e.css(\"overflow\")?[e.borders.clip]:[],f=e.parseClip();f&&-1!==[\"absolute\",\"fixed\"].indexOf(e.css(\"position\"))&&n.push([[\"rect\",e.bounds.left+f.left,e.bounds.top+f.top,f.right-f.left,f.bottom-f.top]]),e.clip=o(e)?e.parent.clip.concat(n):n,e.backgroundClip=\"hidden\"!==e.css(\"overflow\")?e.clip.concat([e.borders.clip]):e.clip,B(e)&&e.cleanDOM()}else C(e)&&(e.clip=o(e)?e.parent.clip:[]);B(e)||(e.bounds=null)},this)},f.prototype.asyncRenderer=function(e,n,f){f=f||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?n():f+20>Date.now()?this.asyncRenderer(e,n,f):setTimeout(W(function(){this.asyncRenderer(e,n)},this),0)},f.prototype.createPseudoHideStyles=function(e){this.createStyles(e,\".\"+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: \"\" !important; display: none !important; }.'+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: \"\" !important; display: none !important; }')},f.prototype.disableAnimations=function(e){this.createStyles(e,\"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}\")},f.prototype.createStyles=function(e,n){var f=e.createElement(\"style\");f.innerHTML=n,e.body.appendChild(f)},f.prototype.getPseudoElements=function(e){var n=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var f=this.getPseudoElement(e,\":before\"),o=this.getPseudoElement(e,\":after\");f&&n.push(f),o&&n.push(o)}return I(n)},f.prototype.getPseudoElement=function(e,n){var f=e.computedStyle(n);if(!f||!f.content||\"none\"===f.content||\"-moz-alt-content\"===f.content||\"none\"===f.display)return null;for(var o=J(f.content),i=\"url\"===o.substr(0,3),t=document.createElement(i?\"img\":\"html2canvaspseudoelement\"),l=new R(t,e,n),s=f.length-1;s>=0;s--){var u=d(f.item(s));t.style[u]=f[u]}if(t.className=R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+\" \"+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,i)return t.src=Y(o)[0].args[0],[l];var a=document.createTextNode(o);return t.appendChild(a),[l,new Q(a,l)]},f.prototype.getChildren=function(e){return I([].filter.call(e.node.childNodes,h).map(function(n){var f=[n.nodeType===Node.TEXT_NODE?new Q(n,e):new P(n,e)].filter(H);return n.nodeType===Node.ELEMENT_NODE&&f.length&&\"TEXTAREA\"!==n.tagName?f[0].isElementVisible()?f.concat(this.getChildren(f[0])):[]:f},this))},f.prototype.newStackingContext=function(e,n){var f=new U(n,e.getOpacity(),e.node,e.parent);e.cloneTo(f);var o=n?f.getParentStack(this):f.parent.stack;o.contexts.push(f),e.stack=f},f.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){A(e)&&(this.isRootElement(e)||E(e)||x(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):A(e)&&(j(e)&&m(e)||q(e)||k(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},f.prototype.isBodyWithTransparentRoot=function(e){return\"BODY\"===e.node.nodeName&&e.parent.color(\"backgroundColor\").isTransparent()},f.prototype.isRootElement=function(e){return null===e.parent},f.prototype.sortStackingContexts=function(e){e.contexts.sort(D(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},f.prototype.parseTextBounds=function(e){return function(n,f,o){if(\"none\"!==e.parent.css(\"textDecoration\").substr(0,4)||0!==n.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var d=o.slice(0,f).join(\"\").length;return this.getRangeBounds(e.node,d,n.length)}if(e.node&&\"string\"==typeof e.node.data){var i=e.node.splitText(n.length),t=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=i,t}}else(!this.support.rangeBounds||e.parent.hasTransform())&&(e.node=e.node.splitText(n.length));return{}}},f.prototype.getWrapperBounds=function(e,n){var f=e.ownerDocument.createElement(\"html2canvaswrapper\"),o=e.parentNode,d=e.cloneNode(!0);f.appendChild(e.cloneNode(!0)),o.replaceChild(f,e);var i=n?Z(f):X(f);return o.replaceChild(d,f),i},f.prototype.getRangeBounds=function(e,n,f){var o=this.range||(this.range=e.ownerDocument.createRange());return o.setStart(e,n),o.setEnd(e,n+f),o.getBoundingClientRect()},f.prototype.parse=function(e){var n=e.contexts.filter(c),f=e.children.filter(A),o=f.filter(z(k)),d=o.filter(z(j)).filter(z(r)),t=f.filter(z(j)).filter(k),l=o.filter(z(j)).filter(r),s=e.contexts.concat(o.filter(j)).filter(m),u=e.children.filter(C).filter(w),a=e.contexts.filter(y);n.concat(d).concat(t).concat(l).concat(s).concat(u).concat(a).forEach(function(e){this.renderQueue.push(e),v(e)&&(this.parse(e),this.renderQueue.push(new i))},this)},f.prototype.paint=function(e){try{e instanceof i?this.renderer.ctx.restore():C(e)?(B(e.parent)&&e.parent.appendToDOM(),this.paintText(e),B(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(n){if(N(n),this.options.strict)throw n}},f.prototype.paintNode=function(e){v(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),\"INPUT\"===e.node.nodeName&&\"checkbox\"===e.node.type?this.paintCheckbox(e):\"INPUT\"===e.node.nodeName&&\"radio\"===e.node.type?this.paintRadio(e):this.paintElement(e)},f.prototype.paintElement=function(e){var n=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,n,e.borders.borders.map(G))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case\"svg\":case\"IFRAME\":var f=this.images.get(e.node);f?this.renderer.renderImage(e,n,e.borders,f):N(\"Error loading <\"+e.node.nodeName+\">\",e.node);break;case\"IMG\":var o=this.images.get(e.node.src);o?this.renderer.renderImage(e,n,e.borders,o):N(\"Error loading <img>\",e.node.src);break;case\"CANVAS\":this.renderer.renderImage(e,n,e.borders,{image:e.node});break;case\"SELECT\":case\"INPUT\":case\"TEXTAREA\":this.paintFormValue(e)}},this)},f.prototype.paintCheckbox=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height),o={width:f-1,height:f-1,top:n.top,left:n.left},d=[3,3],i=[d,d,d,d],l=[1,1,1,1].map(function(e){return{color:new T(\"#A5A5A5\"),width:e}}),u=s(o,i,l);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(o.left+1,o.top+1,o.width-2,o.height-2,new T(\"#DEDEDE\")),this.renderer.renderBorders(t(l,o,u,i)),e.node.checked&&(this.renderer.font(new T(\"#424242\"),\"normal\",\"normal\",\"bold\",f-3+\"px\",\"arial\"),this.renderer.text(\"\",o.left+f/6,o.top+f-1))},this)},f.prototype.paintRadio=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(n.left+1,n.top+1,f,new T(\"#DEDEDE\"),1,new T(\"#A5A5A5\")),e.node.checked&&this.renderer.circle(Math.ceil(n.left+f/4)+1,Math.ceil(n.top+f/4)+1,Math.floor(f/2),new T(\"#424242\"))},this)},f.prototype.paintFormValue=function(e){var n=e.getValue();if(n.length>0){var f=e.node.ownerDocument,o=f.createElement(\"html2canvaswrapper\"),d=[\"lineHeight\",\"textAlign\",\"fontFamily\",\"fontWeight\",\"fontSize\",\"color\",\"paddingLeft\",\"paddingTop\",\"paddingRight\",\"paddingBottom\",\"width\",\"height\",\"borderLeftStyle\",\"borderTopStyle\",\"borderLeftWidth\",\"borderTopWidth\",\"boxSizing\",\"whiteSpace\",\"wordWrap\"];d.forEach(function(n){try{o.style[n]=e.css(n)}catch(f){N(\"html2canvas: Parse: Exception caught in renderFormValue: \"+f.message)}});var i=e.parseBounds();o.style.position=\"fixed\",o.style.left=i.left+\"px\",o.style.top=i.top+\"px\",o.textContent=n,f.body.appendChild(o),this.paintText(new Q(o.firstChild,e)),f.body.removeChild(o)}},f.prototype.paintText=function(e){e.applyTextTransform();var n=O.ucs2.decode(e.node.data),f=this.options.letterRendering&&!b(e)||M(e.node.data)?n.map(function(e){return O.ucs2.encode([e])}):K(n),o=e.parent.fontWeight(),d=e.parent.css(\"fontSize\"),i=e.parent.css(\"fontFamily\"),t=e.parent.parseTextShadows();this.renderer.font(e.parent.color(\"color\"),e.parent.css(\"fontStyle\"),e.parent.css(\"fontVariant\"),o,d,i),t.length?this.renderer.fontShadow(t[0].color,t[0].offsetX,t[0].offsetY,t[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){f.map(this.parseTextBounds(e),this).forEach(function(n,o){n&&(this.renderer.text(f[o],n.left,n.bottom),this.renderTextDecoration(e.parent,n,this.fontMetrics.getMetrics(i,d)))},this)},this)},f.prototype.renderTextDecoration=function(e,n,f){switch(e.css(\"textDecoration\").split(\" \")[0]){case\"underline\":this.renderer.rectangle(n.left,Math.round(n.top+f.baseline+f.lineWidth),n.width,1,e.color(\"color\"));break;case\"overline\":this.renderer.rectangle(n.left,Math.round(n.top),n.width,1,e.color(\"color\"));break;case\"line-through\":this.renderer.rectangle(n.left,Math.ceil(n.top+f.middle+f.lineWidth),n.width,1,e.color(\"color\"))}};var $={inset:[[\"darken\",.6],[\"darken\",.1],[\"darken\",.1],[\"darken\",.6]]};f.prototype.parseBorders=function(e){var n=e.parseBounds(),f=g(e),o=[\"Top\",\"Right\",\"Bottom\",\"Left\"].map(function(n,f){var o=e.css(\"border\"+n+\"Style\"),d=e.color(\"border\"+n+\"Color\");\"inset\"===o&&d.isBlack()&&(d=new T([255,255,255,d.a]));var i=$[o]?$[o][f]:null;return{width:e.cssInt(\"border\"+n+\"Width\"),color:i?d[i[0]](i[1]):d,args:null}}),d=s(n,f,o);return{clip:this.parseBackgroundClip(e,d,o,f,n),borders:t(o,n,d,f)}},f.prototype.parseBackgroundClip=function(e,n,f,o,d){var i=e.css(\"backgroundClip\"),t=[];switch(i){case\"content-box\":case\"padding-box\":p(t,o[0],o[1],n.topLeftInner,n.topRightInner,d.left+f[3].width,d.top+f[0].width),p(t,o[1],o[2],n.topRightInner,n.bottomRightInner,d.left+d.width-f[1].width,d.top+f[0].width),p(t,o[2],o[3],n.bottomRightInner,n.bottomLeftInner,d.left+d.width-f[1].width,d.top+d.height-f[2].width),p(t,o[3],o[0],n.bottomLeftInner,n.topLeftInner,d.left+f[3].width,d.top+d.height-f[2].width);break;default:p(t,o[0],o[1],n.topLeftOuter,n.topRightOuter,d.left,d.top),p(t,o[1],o[2],n.topRightOuter,n.bottomRightOuter,d.left+d.width,d.top),p(t,o[2],o[3],n.bottomRightOuter,n.bottomLeftOuter,d.left+d.width,d.top+d.height),p(t,o[3],o[0],n.bottomLeftOuter,n.topLeftOuter,d.left,d.top+d.height)}return t},n.exports=f},{\"./color\":3,\"./fontmetrics\":7,\"./log\":13,\"./nodecontainer\":14,\"./pseudoelementcontainer\":18,\"./stackingcontext\":21,\"./textcontainer\":25,\"./utils\":26,punycode:1}],16:[function(e,n,f){function o(e,n,f){var o=\"withCredentials\"in new XMLHttpRequest;if(!n)return Promise.reject(\"No proxy configured\");var d=t(o),s=l(n,e,d);return o?a(s):i(f,s,d).then(function(e){return m(e.content)})}function d(e,n,f){var o=\"crossOrigin\"in new Image,d=t(o),s=l(n,e,d);return o?Promise.resolve(s):i(f,s,d).then(function(e){return\"data:\"+e.type+\";base64,\"+e.content})}function i(e,n,f){return new Promise(function(o,d){var i=e.createElement(\"script\"),t=function(){delete window.html2canvas.proxy[f],e.body.removeChild(i)};window.html2canvas.proxy[f]=function(e){t(),o(e)},i.src=n,i.onerror=function(e){t(),d(e)},e.body.appendChild(i)})}function t(e){return e?\"\":\"html2canvas_\"+Date.now()+\"_\"+ ++r+\"_\"+Math.round(1e5*Math.random())}function l(e,n,f){return e+\"?url=\"+encodeURIComponent(n)+(f.length?\"&callback=html2canvas.proxy.\"+f:\"\")}function s(e){return function(n){var f,o=new DOMParser;try{f=o.parseFromString(n,\"text/html\")}catch(d){c(\"DOMParser not supported, falling back to createHTMLDocument\"),f=document.implementation.createHTMLDocument(\"\");try{f.open(),f.write(n),f.close()}catch(i){c(\"createHTMLDocument write not supported, falling back to document.body.innerHTML\"),f.body.innerHTML=n}}var t=f.querySelector(\"base\");if(!t||!t.href.host){var l=f.createElement(\"base\");l.href=e,f.head.insertBefore(l,f.head.firstChild)}return f}}function u(e,n,f,d,i,t){return new o(e,n,window.document).then(s(e)).then(function(e){return y(e,f,d,i,t,0,0)})}var a=e(\"./xhr\"),p=e(\"./utils\"),c=e(\"./log\"),y=e(\"./clone\"),m=p.decode64,r=0;f.Proxy=o,f.ProxyURL=d,f.loadUrlDocument=u},{\"./clone\":2,\"./log\":13,\"./utils\":26,\"./xhr\":28}],17:[function(e,n){function f(e,n){var f=document.createElement(\"a\");f.href=e,e=f.href,this.src=e,this.image=new Image;var d=this;this.promise=new Promise(function(f,i){d.image.crossOrigin=\"Anonymous\",d.image.onload=f,d.image.onerror=i,new o(e,n,document).then(function(e){d.image.src=e})[\"catch\"](i)})}var o=e(\"./proxy\").ProxyURL;n.exports=f},{\"./proxy\":16}],18:[function(e,n){function f(e,n,f){o.call(this,e,n),this.isPseudoElement=!0,this.before=\":before\"===f}var o=e(\"./nodecontainer\");f.prototype.cloneTo=function(e){f.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},f.prototype=Object.create(o.prototype),f.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=\" \"+this.getHideClass()},f.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),\"\")},f.prototype.getHideClass=function(){return this[\"PSEUDO_HIDE_ELEMENT_CLASS_\"+(this.before?\"BEFORE\":\"AFTER\")]},f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE=\"___html2canvas___pseudoelement_before\",f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER=\"___html2canvas___pseudoelement_after\",n.exports=f},{\"./nodecontainer\":14}],19:[function(e,n){function f(e,n,f,o,d){this.width=e,this.height=n,this.images=f,this.options=o,this.document=d}var o=e(\"./log\");f.prototype.renderImage=function(e,n,f,o){var d=e.cssInt(\"paddingLeft\"),i=e.cssInt(\"paddingTop\"),t=e.cssInt(\"paddingRight\"),l=e.cssInt(\"paddingBottom\"),s=f.borders,u=n.width-(s[1].width+s[3].width+d+t),a=n.height-(s[0].width+s[2].width+i+l);this.drawImage(o,0,0,o.image.width||u,o.image.height||a,n.left+d+s[3].width,n.top+i+s[0].width,u,a)},f.prototype.renderBackground=function(e,n,f){n.height>0&&n.width>0&&(this.renderBackgroundColor(e,n),this.renderBackgroundImage(e,n,f))},f.prototype.renderBackgroundColor=function(e,n){var f=e.color(\"backgroundColor\");f.isTransparent()||this.rectangle(n.left,n.top,n.width,n.height,f)},f.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},f.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},f.prototype.renderBackgroundImage=function(e,n,f){var d=e.parseBackgroundImages();d.reverse().forEach(function(d,i,t){switch(d.method){case\"url\":var l=this.images.get(d.args[0]);l?this.renderBackgroundRepeating(e,n,l,t.length-(i+1),f):o(\"Error loading background-image\",d.args[0]);break;case\"linear-gradient\":case\"gradient\":var s=this.images.get(d.value);s?this.renderBackgroundGradient(s,n,f):o(\"Error loading background-image\",d.args[0]);break;case\"none\":break;default:o(\"Unknown background-image type\",d.args[0])}},this)},f.prototype.renderBackgroundRepeating=function(e,n,f,o,d){var i=e.parseBackgroundSize(n,f.image,o),t=e.parseBackgroundPosition(n,f.image,o,i),l=e.parseBackgroundRepeat(o);switch(l){case\"repeat-x\":case\"repeat no-repeat\":this.backgroundRepeatShape(f,t,i,n,n.left+d[3],n.top+t.top+d[0],99999,i.height,d);break;case\"repeat-y\":case\"no-repeat repeat\":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+d[0],i.width,99999,d);break;case\"no-repeat\":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+t.top+d[0],i.width,i.height,d);break;default:this.renderBackgroundRepeat(f,t,i,{top:n.top,left:n.left},d[3],d[0])}},n.exports=f},{\"./log\":13}],20:[function(e,n){function f(e,n){d.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement(\"canvas\"),this.options.canvas||(this.canvas.width=e,this.canvas.height=n),this.ctx=this.canvas.getContext(\"2d\"),this.taintCtx=this.document.createElement(\"canvas\").getContext(\"2d\"),this.ctx.textBaseline=\"bottom\",this.variables={},t(\"Initialized CanvasRenderer with size\",e,\"x\",n)}function o(e){return e.length>0}var d=e(\"../renderer\"),i=e(\"../lineargradientcontainer\"),t=e(\"../log\");f.prototype=Object.create(d.prototype),f.prototype.setFillStyle=function(e){return this.ctx.fillStyle=\"object\"==typeof e&&e.isColor?e.toString():e,this.ctx},f.prototype.rectangle=function(e,n,f,o,d){this.setFillStyle(d).fillRect(e,n,f,o)},f.prototype.circle=function(e,n,f,o){this.setFillStyle(o),this.ctx.beginPath(),this.ctx.arc(e+f/2,n+f/2,f/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},f.prototype.circleStroke=function(e,n,f,o,d,i){this.circle(e,n,f,o),this.ctx.strokeStyle=i.toString(),this.ctx.stroke()},f.prototype.drawShape=function(e,n){this.shape(e),this.setFillStyle(n).fill()},f.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(n){this.taintCtx=document.createElement(\"canvas\").getContext(\"2d\"),e.tainted=!0}}return e.tainted},f.prototype.drawImage=function(e,n,f,o,d,i,t,l,s){(!this.taints(e)||this.options.allowTaint)&&this.ctx.drawImage(e.image,n,f,o,d,i,t,l,s)},f.prototype.clip=function(e,n,f){this.ctx.save(),e.filter(o).forEach(function(e){this.shape(e).clip()},this),n.call(f),this.ctx.restore()},f.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,n){\"rect\"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===n?\"moveTo\":e[0]+\"To\"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},f.prototype.font=function(e,n,f,o,d,i){this.setFillStyle(e).font=[n,f,o,d,i].join(\" \").split(\",\")[0]},f.prototype.fontShadow=function(e,n,f,o){this.setVariable(\"shadowColor\",e.toString()).setVariable(\"shadowOffsetY\",n).setVariable(\"shadowOffsetX\",f).setVariable(\"shadowBlur\",o)},f.prototype.clearShadow=function(){this.setVariable(\"shadowColor\",\"rgba(0,0,0,0)\")},f.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},f.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},f.prototype.setVariable=function(e,n){return this.variables[e]!==n&&(this.variables[e]=this.ctx[e]=n),this},f.prototype.text=function(e,n,f){this.ctx.fillText(e,n,f)},f.prototype.backgroundRepeatShape=function(e,n,f,o,d,i,t,l,s){var u=[[\"line\",Math.round(d),Math.round(i)],[\"line\",Math.round(d+t),Math.round(i)],[\"line\",Math.round(d+t),Math.round(l+i)],[\"line\",Math.round(d),Math.round(l+i)]];this.clip([u],function(){this.renderBackgroundRepeat(e,n,f,o,s[3],s[0])},this)},f.prototype.renderBackgroundRepeat=function(e,n,f,o,d,i){var t=Math.round(o.left+n.left+d),l=Math.round(o.top+n.top+i);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,f),\"repeat\")),this.ctx.translate(t,l),this.ctx.fill(),this.ctx.translate(-t,-l)},f.prototype.renderBackgroundGradient=function(e,n){if(e instanceof i){var f=this.ctx.createLinearGradient(n.left+n.width*e.x0,n.top+n.height*e.y0,n.left+n.width*e.x1,n.top+n.height*e.y1);e.colorStops.forEach(function(e){f.addColorStop(e.stop,e.color.toString())}),this.rectangle(n.left,n.top,n.width,n.height,f)}},f.prototype.resizeImage=function(e,n){var f=e.image;if(f.width===n.width&&f.height===n.height)return f;var o,d=document.createElement(\"canvas\");return d.width=n.width,d.height=n.height,o=d.getContext(\"2d\"),o.drawImage(f,0,0,f.width,f.height,0,0,n.width,n.height),d},n.exports=f},{\"../lineargradientcontainer\":12,\"../log\":13,\"../renderer\":19}],21:[function(e,n){function f(e,n,f,d){o.call(this,f,d),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*n}var o=e(\"./nodecontainer\");f.prototype=Object.create(o.prototype),f.prototype.getParentStack=function(e){var n=this.parent?this.parent.stack:null;return n?n.ownStacking?n:n.getParentStack(e):e.stack},n.exports=f},{\"./nodecontainer\":14}],22:[function(e,n){function f(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}f.prototype.testRangeBounds=function(e){var n,f,o,d,i=!1;return e.createRange&&(n=e.createRange(),n.getBoundingClientRect&&(f=e.createElement(\"boundtest\"),f.style.height=\"123px\",f.style.display=\"block\",e.body.appendChild(f),n.selectNode(f),o=n.getBoundingClientRect(),d=o.height,123===d&&(i=!0),e.body.removeChild(f))),i},f.prototype.testCORS=function(){return\"undefined\"!=typeof(new Image).crossOrigin},f.prototype.testSVG=function(){var e=new Image,n=document.createElement(\"canvas\"),f=n.getContext(\"2d\");e.src=\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";try{f.drawImage(e,0,0),n.toDataURL()}catch(o){return!1}return!0},n.exports=f},{}],23:[function(e,n){function f(e){this.src=e,this.image=null;var n=this;this.promise=this.hasFabric().then(function(){return n.isInline(e)?Promise.resolve(n.inlineFormatting(e)):o(e)}).then(function(e){return new Promise(function(f){window.html2canvas.svg.fabric.loadSVGFromString(e,n.createCanvas.call(n,f))})})}var o=e(\"./xhr\"),d=e(\"./utils\").decode64;f.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error(\"html2canvas.svg.js is not loaded, cannot render svg\"))},f.prototype.inlineFormatting=function(e){return/^data:image\\/svg\\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},f.prototype.removeContentType=function(e){return e.replace(/^data:image\\/svg\\+xml(;base64)?,/,\"\")},f.prototype.isInline=function(e){return/^data:image\\/svg\\+xml/i.test(e)},f.prototype.createCanvas=function(e){var n=this;return function(f,o){var d=new window.html2canvas.svg.fabric.StaticCanvas(\"c\");n.image=d.lowerCanvasEl,d.setWidth(o.width).setHeight(o.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(f,o)).renderAll(),e(d.lowerCanvasEl)}},f.prototype.decode64=function(e){return\"function\"==typeof window.atob?window.atob(e):d(e)},n.exports=f},{\"./utils\":26,\"./xhr\":28}],24:[function(e,n){function f(e,n){this.src=e,this.image=null;var f=this;this.promise=n?new Promise(function(n,o){f.image=new Image,f.image.onload=n,f.image.onerror=o,f.image.src=\"data:image/svg+xml,\"+(new XMLSerializer).serializeToString(e),f.image.complete===!0&&n(f.image)}):this.hasFabric().then(function(){return new Promise(function(n){window.html2canvas.svg.fabric.parseSVGDocument(e,f.createCanvas.call(f,n))})})}var o=e(\"./svgcontainer\");f.prototype=Object.create(o.prototype),n.exports=f},{\"./svgcontainer\":23}],25:[function(e,n){function f(e,n){d.call(this,e,n)}function o(e,n,f){return e.length>0?n+f.toUpperCase():void 0}var d=e(\"./nodecontainer\");f.prototype=Object.create(d.prototype),f.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css(\"textTransform\"))},f.prototype.transform=function(e){var n=this.node.data;switch(e){case\"lowercase\":return n.toLowerCase();case\"capitalize\":return n.replace(/(^|\\s|:|-|\\(|\\))([a-z])/g,o);case\"uppercase\":return n.toUpperCase();default:return n}},n.exports=f},{\"./nodecontainer\":14}],26:[function(e,n,f){f.smallImage=function(){return\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"},f.bind=function(e,n){return function(){return e.apply(n,arguments)}},f.decode64=function(e){var n,f,o,d,i,t,l,s,u=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=e.length,p=\"\";for(n=0;a>n;n+=4)f=u.indexOf(e[n]),o=u.indexOf(e[n+1]),d=u.indexOf(e[n+2]),i=u.indexOf(e[n+3]),t=f<<2|o>>4,l=(15&o)<<4|d>>2,s=(3&d)<<6|i,p+=64===d?String.fromCharCode(t):64===i||-1===i?String.fromCharCode(t,l):String.fromCharCode(t,l,s);return p},f.getBounds=function(e){if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),f=null==e.offsetWidth?n.width:e.offsetWidth;return{top:n.top,bottom:n.bottom||n.top+n.height,right:n.left+f,left:n.left,width:f,height:null==e.offsetHeight?n.height:e.offsetHeight}}return{}},f.offsetBounds=function(e){var n=e.offsetParent?f.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+n.top,bottom:e.offsetTop+e.offsetHeight+n.top,right:e.offsetLeft+n.left+e.offsetWidth,left:e.offsetLeft+n.left,width:e.offsetWidth,height:e.offsetHeight}},f.parseBackgrounds=function(e){var n,f,o,d,i,t,l,s=\" \\r\\n\t\",u=[],a=0,p=0,c=function(){n&&('\"'===f.substr(0,1)&&(f=f.substr(1,f.length-2)),f&&l.push(f),\"-\"===n.substr(0,1)&&(d=n.indexOf(\"-\",1)+1)>0&&(o=n.substr(0,d),n=n.substr(d)),u.push({prefix:o,method:n.toLowerCase(),value:i,args:l,image:null})),l=[],n=o=f=i=\"\"};return l=[],n=o=f=i=\"\",e.split(\"\").forEach(function(e){if(!(0===a&&s.indexOf(e)>-1)){switch(e){case'\"':t?t===e&&(t=null):t=e;break;case\"(\":if(t)break;if(0===a)return a=1,void(i+=e);p++;break;case\")\":if(t)break;if(1===a){if(0===p)return a=0,i+=e,void c();p--}break;case\",\":if(t)break;if(0===a)return void c();if(1===a&&0===p&&!n.match(/^url$/i))return l.push(f),f=\"\",void(i+=e)}i+=e,0===a?n+=e:f+=e}}),c(),u}},{}],27:[function(e,n){function f(e){o.apply(this,arguments),this.type=\"linear\"===e.args[0]?o.TYPES.LINEAR:o.TYPES.RADIAL}var o=e(\"./gradientcontainer\");f.prototype=Object.create(o.prototype),n.exports=f},{\"./gradientcontainer\":9}],28:[function(e,n){function f(e){return new Promise(function(n,f){var o=new XMLHttpRequest;o.open(\"GET\",e),o.onload=function(){200===o.status?n(o.responseText):f(new Error(o.statusText))},o.onerror=function(){f(new Error(\"Network Error\"))},o.send()})}n.exports=f},{}]},{},[4])(4)});"],"sourceRoot":"webpack:///"}